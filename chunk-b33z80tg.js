var Xc=Object.create;var{getPrototypeOf:zc,defineProperty:dU,getOwnPropertyNames:Nc}=Object;var Hc=Object.prototype.hasOwnProperty;var cQ=(Z,J,Q)=>{Q=Z!=null?Xc(zc(Z)):{};let q=J||!Z||!Z.__esModule?dU(Q,"default",{value:Z,enumerable:!0}):Q;for(let K of Nc(Z))if(!Hc.call(q,K))dU(q,K,{get:()=>Z[K],enumerable:!0});return q};var uQ=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var qz=(Z,J)=>{for(var Q in J)dU(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(q)=>J[Q]=()=>q})};var F=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var Nj=((Z)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Z,{get:(J,Q)=>(typeof require<"u"?require:J)[Q]}):Z)(function(Z){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+Z+'" is not supported')});function uU(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<Kz(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function c6(Z){return Z.length===0?null:Z[0]}function Yz(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var N=2*(q+1)-1,Y=Z[N],O=N+1,U=Z[O];if(0>Kz(Y,Q))O<K&&0>Kz(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[N]=Q,q=N);else if(O<K&&0>Kz(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function Kz(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function Nz(Z){for(var J=c6(R7);J!==null;){if(J.callback===null)Yz(R7);else if(J.startTime<=Z)Yz(R7),J.sortIndex=J.expirationTime,uU(C4,J);else break;J=c6(R7)}}function nU(Z){if(pQ=!1,Nz(Z),!lQ)if(c6(C4)!==null)lQ=!0,MJ||(MJ=!0,_J());else{var J=c6(R7);J!==null&&oU(nU,J.startTime-Z)}}function Uj(){return sU?!0:u6()-Oj<Vc?!1:!0}function cU(){if(sU=!1,MJ){var Z=u6();Oj=Z;var J=!0;try{Z:{lQ=!1,pQ&&(pQ=!1,Vj(iQ),iQ=-1),iU=!0;var Q=zz;try{J:{Nz(Z);for(l8=c6(C4);l8!==null&&!(l8.expirationTime>Z&&Uj());){var q=l8.callback;if(typeof q==="function"){l8.callback=null,zz=l8.priorityLevel;var K=q(l8.expirationTime<=Z);if(Z=u6(),typeof K==="function"){l8.callback=K,Nz(Z),J=!0;break J}l8===c6(C4)&&Yz(C4),Nz(Z)}else Yz(C4);l8=c6(C4)}if(l8!==null)J=!0;else{var X=c6(R7);X!==null&&oU(nU,X.startTime-Z),J=!1}}break Z}finally{l8=null,zz=Q,iU=!1}J=void 0}}finally{J?_J():MJ=!1}}}function oU(Z,J){iQ=Yj(function(){Z(u6())},J)}var u6=void 0,lU,Xz,pU,C4,R7,Yc=1,l8=null,zz=3,iU=!1,lQ=!1,pQ=!1,sU=!1,Yj,Vj,Hj,MJ=!1,iQ=-1,Vc=5,Oj=-1,_J,Hz,aU,tU=5,rU=1,eU=4,WJ=3,ZA=2,JA=function(Z){Z.callback=null},QA=function(){return zz},qA=function(){sU=!0},GJ=function(Z,J,Q){var q=u6();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:Yc++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,uU(R7,Z),c6(C4)===null&&Z===c6(R7)&&(pQ?(Vj(iQ),iQ=-1):pQ=!0,oU(nU,Q-q))):(Z.sortIndex=K,uU(C4,Z),lQ||iU||(lQ=!0,MJ||(MJ=!0,_J()))),Z},KA;var Aj=F(()=>{if(typeof performance==="object"&&typeof performance.now==="function")lU=performance,u6=function(){return lU.now()};else Xz=Date,pU=Xz.now(),u6=function(){return Xz.now()-pU};C4=[],R7=[],Yj=typeof setTimeout==="function"?setTimeout:null,Vj=typeof clearTimeout==="function"?clearTimeout:null,Hj=typeof setImmediate<"u"?setImmediate:null;if(typeof Hj==="function")_J=function(){Hj(cU)};else if(typeof MessageChannel<"u")Hz=new MessageChannel,aU=Hz.port2,Hz.port1.onmessage=cU,_J=function(){aU.postMessage(null)};else _J=function(){Yj(cU,0)};KA=Uj});function FJ(Z,J,Q){this.props=Z,this.context=J,this.refs=Dj,this.updater=Q||$j}function Bj(){}function _j(Z,J,Q){this.props=Z,this.context=J,this.refs=Dj,this.updater=Q||$j}function Mc(Z,J,Q){var q=Q.ref;return{$$typeof:Uc,type:Z,key:J,ref:q!==void 0?q:null,props:Q}}var Uc,Ac,$c,Dc,$j,Bc,Dj,XA,p8,_c,zA,c9,u9=function(Z){return Z={$$typeof:$c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:Ac,_context:Z},Z},jJ=function(Z,J,Q){var q,K={},X=null;if(J!=null)for(q in J.key!==void 0&&(X=""+J.key),J)_c.call(J,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(K[q]=J[q]);var N=arguments.length-2;if(N===1)K.children=Q;else if(1<N){for(var Y=Array(N),O=0;O<N;O++)Y[O]=arguments[O+2];K.children=Y}if(Z&&Z.defaultProps)for(q in N=Z.defaultProps,N)K[q]===void 0&&(K[q]=N[q]);return Mc(Z,X,K)},Vz=function(Z){return{$$typeof:Dc,render:Z}},NA=function(Z){return p8.H.use(Z)},l6=function(Z,J){return p8.H.useCallback(Z,J)},wJ=function(Z){return p8.H.useContext(Z)},i8=function(Z,J){return p8.H.useEffect(Z,J)},HA=function(){return p8.H.useId()},YA=function(Z,J,Q){return p8.H.useImperativeHandle(Z,J,Q)},Oz=function(Z,J){return p8.H.useLayoutEffect(Z,J)},E7=function(Z,J){return p8.H.useMemo(Z,J)},LJ=function(Z,J,Q){return p8.H.useReducer(Z,J,Q)},I7=function(Z){return p8.H.useRef(Z)},C1=function(Z){return p8.H.useState(Z)},VA="19.2.0";var C5=F(()=>{Uc=Symbol.for("react.transitional.element"),Ac=Symbol.for("react.consumer"),$c=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),$j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bc=Object.assign,Dj={};FJ.prototype.isReactComponent={};FJ.prototype.setState=function(Z,J){if(typeof Z!=="object"&&typeof Z!=="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,J,"setState")};FJ.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};Bj.prototype=FJ.prototype;XA=_j.prototype=new Bj;XA.constructor=_j;Bc(XA,FJ.prototype);XA.isPureReactComponent=!0;p8={H:null,A:null,T:null,S:null},_c=Object.prototype.hasOwnProperty;zA=FJ,c9=p8});var OA={};qz(OA,{version:()=>kj,useFormStatus:()=>bj,useFormState:()=>Sj,unstable_batchedUpdates:()=>Tj,requestFormReset:()=>Ij,preloadModule:()=>Ej,preload:()=>Rj,preinitModule:()=>Cj,preinit:()=>Lj,prefetchDNS:()=>wj,preconnect:()=>jj,flushSync:()=>Fj,createPortal:()=>Gj,__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE:()=>Wj});function Mj(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T7(){}function Gc(Z,J,Q){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wc,key:q==null?null:""+q,children:Z,containerInfo:J,implementation:Q}}function Uz(Z,J){if(Z==="font")return"";if(typeof J==="string")return J==="use-credentials"?J:""}var b5,Wc,sQ,Wj,Gj=function(Z,J){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)throw Error(Mj(299));return Gc(Z,J,null,Q)},Fj=function(Z){var J=sQ.T,Q=b5.p;try{if(sQ.T=null,b5.p=2,Z)return Z()}finally{sQ.T=J,b5.p=Q,b5.d.f()}},jj=function(Z,J){typeof Z==="string"&&(J?(J=J.crossOrigin,J=typeof J==="string"?J==="use-credentials"?J:"":void 0):J=null,b5.d.C(Z,J))},wj=function(Z){typeof Z==="string"&&b5.d.D(Z)},Lj=function(Z,J){if(typeof Z==="string"&&J&&typeof J.as==="string"){var Q=J.as,q=Uz(Q,J.crossOrigin),K=typeof J.integrity==="string"?J.integrity:void 0,X=typeof J.fetchPriority==="string"?J.fetchPriority:void 0;Q==="style"?b5.d.S(Z,typeof J.precedence==="string"?J.precedence:void 0,{crossOrigin:q,integrity:K,fetchPriority:X}):Q==="script"&&b5.d.X(Z,{crossOrigin:q,integrity:K,fetchPriority:X,nonce:typeof J.nonce==="string"?J.nonce:void 0})}},Cj=function(Z,J){if(typeof Z==="string")if(typeof J==="object"&&J!==null){if(J.as==null||J.as==="script"){var Q=Uz(J.as,J.crossOrigin);b5.d.M(Z,{crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0})}}else J==null&&b5.d.M(Z)},Rj=function(Z,J){if(typeof Z==="string"&&typeof J==="object"&&J!==null&&typeof J.as==="string"){var Q=J.as,q=Uz(Q,J.crossOrigin);b5.d.L(Z,Q,{crossOrigin:q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0,type:typeof J.type==="string"?J.type:void 0,fetchPriority:typeof J.fetchPriority==="string"?J.fetchPriority:void 0,referrerPolicy:typeof J.referrerPolicy==="string"?J.referrerPolicy:void 0,imageSrcSet:typeof J.imageSrcSet==="string"?J.imageSrcSet:void 0,imageSizes:typeof J.imageSizes==="string"?J.imageSizes:void 0,media:typeof J.media==="string"?J.media:void 0})}},Ej=function(Z,J){if(typeof Z==="string")if(J){var Q=Uz(J.as,J.crossOrigin);b5.d.m(Z,{as:typeof J.as==="string"&&J.as!=="script"?J.as:void 0,crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0})}else b5.d.m(Z)},Ij=function(Z){b5.d.r(Z)},Tj=function(Z,J){return Z(J)},Sj=function(Z,J,Q){return sQ.H.useFormState(Z,J,Q)},bj=function(){return sQ.H.useHostTransitionStatus()},kj="19.2.0";var Pj=F(()=>{C5();b5={d:{f:T7,r:function(){throw Error(Mj(522))},D:T7,C:T7,L:T7,m:T7,X:T7,S:T7,M:T7},p:0,findDOMNode:null},Wc=Symbol.for("react.portal");sQ=c9;Wj=b5});var yj=uQ((_n,fj)=>{Pj();function vj(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vj)}catch(Z){console.error(Z)}}vj(),fj.exports=OA});var h3={};qz(h3,{version:()=>sR,hydrateRoot:()=>aR,createRoot:()=>iR});function c(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function NL(Z){return!(!Z||Z.nodeType!==1&&Z.nodeType!==9&&Z.nodeType!==11)}function hq(Z){var J=Z,Q=Z;if(Z.alternate)for(;J.return;)J=J.return;else{Z=J;do J=Z,(J.flags&4098)!==0&&(Q=J.return),Z=J.return;while(Z)}return J.tag===3?Q:null}function HL(Z){if(Z.tag===13){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function YL(Z){if(Z.tag===31){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function hj(Z){if(hq(Z)!==Z)throw Error(c(188))}function Fc(Z){var J=Z.alternate;if(!J){if(J=hq(Z),J===null)throw Error(c(188));return J!==Z?null:Z}for(var Q=Z,q=J;;){var K=Q.return;if(K===null)break;var X=K.alternate;if(X===null){if(q=K.return,q!==null){Q=q;continue}break}if(K.child===X.child){for(X=K.child;X;){if(X===Q)return hj(K),Z;if(X===q)return hj(K),J;X=X.sibling}throw Error(c(188))}if(Q.return!==q.return)Q=K,q=X;else{for(var N=!1,Y=K.child;Y;){if(Y===Q){N=!0,Q=K,q=X;break}if(Y===q){N=!0,q=K,Q=X;break}Y=Y.sibling}if(!N){for(Y=X.child;Y;){if(Y===Q){N=!0,Q=X,q=K;break}if(Y===q){N=!0,q=X,Q=K;break}Y=Y.sibling}if(!N)throw Error(c(189))}}if(Q.alternate!==q)throw Error(c(190))}if(Q.tag!==3)throw Error(c(188));return Q.stateNode.current===Q?Z:J}function VL(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z;for(Z=Z.child;Z!==null;){if(J=VL(Z),J!==null)return J;Z=Z.sibling}return null}function nQ(Z){if(Z===null||typeof Z!=="object")return null;return Z=xj&&Z[xj]||Z["@@iterator"],typeof Z==="function"?Z:null}function sA(Z){if(Z==null)return null;if(typeof Z==="function")return Z.$$typeof===Lc?null:Z.displayName||Z.name||null;if(typeof Z==="string")return Z;switch(Z){case SJ:return"Fragment";case lA:return"Profiler";case OL:return"StrictMode";case pA:return"Suspense";case iA:return"SuspenseList";case aA:return"Activity"}if(typeof Z==="object")switch(Z.$$typeof){case Jq:return"Portal";case P4:return Z.displayName||"Context";case UL:return(Z._context.displayName||"Context")+".Consumer";case d$:var J=Z.render;return Z=Z.displayName,Z||(Z=J.displayName||J.name||"",Z=Z!==""?"ForwardRef("+Z+")":"ForwardRef"),Z;case c$:return J=Z.displayName||null,J!==null?J:sA(Z.type)||"Memo";case S7:J=Z._payload,Z=Z._init;try{return sA(Z(J))}catch(Q){}}return null}function n6(Z){return{current:Z}}function Q5(Z){0>bJ||(Z.current=nA[bJ],nA[bJ]=null,bJ--)}function H1(Z,J){bJ++,nA[bJ]=Z.current,Z.current=J}function lz(Z,J){switch(H1(d7,J),H1(wq,Z),H1(s6,null),J.nodeType){case 9:case 11:Z=(Z=J.documentElement)?(Z=Z.namespaceURI)?uw(Z):0:0;break;default:if(Z=J.tagName,J=J.namespaceURI)J=uw(J),Z=kR(J,Z);else switch(Z){case"svg":Z=1;break;case"math":Z=2;break;default:Z=0}}Q5(s6),H1(s6,Z)}function nJ(){Q5(s6),Q5(wq),Q5(d7)}function oA(Z){Z.memoizedState!==null&&H1(uz,Z);var J=s6.current,Q=kR(J,Z.type);J!==Q&&(H1(wq,Z),H1(s6,Q))}function pz(Z){wq.current===Z&&(Q5(s6),Q5(wq)),uz.current===Z&&(Q5(uz),vq._currentValue=o9)}function p9(Z){if(UA===void 0)try{throw Error()}catch(Q){var J=Q.stack.trim().match(/\n( *(at )?)/);UA=J&&J[1]||"",gj=-1<Q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+UA+Z+gj}function $A(Z,J){if(!Z||AA)return"";AA=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var q={DetermineComponentFrameRoot:function(){try{if(J){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(W){var _=W}Reflect.construct(Z,[],B)}else{try{B.call()}catch(W){_=W}Z.call(B.prototype)}}else{try{throw Error()}catch(W){_=W}(B=Z())&&typeof B.catch==="function"&&B.catch(function(){})}}catch(W){if(W&&_&&typeof W.stack==="string")return[W.stack,_.stack]}return[null,null]}};q.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(q.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(q.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=q.DetermineComponentFrameRoot(),N=X[0],Y=X[1];if(N&&Y){var O=N.split(`
`),U=Y.split(`
`);for(K=q=0;q<O.length&&!O[q].includes("DetermineComponentFrameRoot");)q++;for(;K<U.length&&!U[K].includes("DetermineComponentFrameRoot");)K++;if(q===O.length||K===U.length)for(q=O.length-1,K=U.length-1;1<=q&&0<=K&&O[q]!==U[K];)K--;for(;1<=q&&0<=K;q--,K--)if(O[q]!==U[K]){if(q!==1||K!==1)do if(q--,K--,0>K||O[q]!==U[K]){var $=`
`+O[q].replace(" at new "," at ");return Z.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",Z.displayName)),$}while(1<=q&&0<=K);break}}}finally{AA=!1,Error.prepareStackTrace=Q}return(Q=Z?Z.displayName||Z.name:"")?p9(Q):""}function Cc(Z,J){switch(Z.tag){case 26:case 27:case 5:return p9(Z.type);case 16:return p9("Lazy");case 13:return Z.child!==J&&J!==null?p9("Suspense Fallback"):p9("Suspense");case 19:return p9("SuspenseList");case 0:case 15:return $A(Z.type,!1);case 11:return $A(Z.type.render,!1);case 1:return $A(Z.type,!0);case 31:return p9("Activity");default:return""}}function mj(Z){try{var J="",Q=null;do J+=Cc(Z,Q),Q=Z,Z=Z.return;while(Z);return J}catch(q){return`
Error generating stack: `+q.message+`
`+q.stack}}function y7(Z){if(typeof Sc==="function"&&bc(Z),C8&&typeof C8.setStrictMode==="function")try{C8.setStrictMode(xq,Z)}catch(J){}}function vc(Z){return Z>>>=0,Z===0?32:31-(kc(Z)/Pc|0)|0}function i9(Z){var J=Z&42;if(J!==0)return J;switch(Z&-Z){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Z&261888;case 262144:case 524288:case 1048576:case 2097152:return Z&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Z&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Z}}function MN(Z,J,Q){var q=Z.pendingLanes;if(q===0)return 0;var K=0,X=Z.suspendedLanes,N=Z.pingedLanes;Z=Z.warmLanes;var Y=q&134217727;return Y!==0?(q=Y&~X,q!==0?K=i9(q):(N&=Y,N!==0?K=i9(N):Q||(Q=Y&~Z,Q!==0&&(K=i9(Q))))):(Y=q&~X,Y!==0?K=i9(Y):N!==0?K=i9(N):Q||(Q=q&~Z,Q!==0&&(K=i9(Q)))),K===0?0:J!==0&&J!==K&&(J&X)===0&&(X=K&-K,Q=J&-J,X>=Q||X===32&&(Q&4194048)!==0)?J:K}function gq(Z,J){return(Z.pendingLanes&~(Z.suspendedLanes&~Z.pingedLanes)&J)===0}function fc(Z,J){switch(Z){case 1:case 2:case 4:case 8:case 64:return J+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return J+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BL(){var Z=Bz;return Bz<<=1,(Bz&62914560)===0&&(Bz=4194304),Z}function BA(Z){for(var J=[],Q=0;31>Q;Q++)J.push(Z);return J}function mq(Z,J){Z.pendingLanes|=J,J!==268435456&&(Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0)}function yc(Z,J,Q,q,K,X){var N=Z.pendingLanes;Z.pendingLanes=Q,Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0,Z.expiredLanes&=Q,Z.entangledLanes&=Q,Z.errorRecoveryDisabledLanes&=Q,Z.shellSuspendCounter=0;var{entanglements:Y,expirationTimes:O,hiddenUpdates:U}=Z;for(Q=N&~Q;0<Q;){var $=31-R8(Q),B=1<<$;Y[$]=0,O[$]=-1;var _=U[$];if(_!==null)for(U[$]=null,$=0;$<_.length;$++){var W=_[$];W!==null&&(W.lane&=-536870913)}Q&=~B}q!==0&&_L(Z,q,0),X!==0&&K===0&&Z.tag!==0&&(Z.suspendedLanes|=X&~(N&~J))}function _L(Z,J,Q){Z.pendingLanes|=J,Z.suspendedLanes&=~J;var q=31-R8(J);Z.entangledLanes|=J,Z.entanglements[q]=Z.entanglements[q]|1073741824|Q&261930}function ML(Z,J){var Q=Z.entangledLanes|=J;for(Z=Z.entanglements;Q;){var q=31-R8(Q),K=1<<q;K&J|Z[q]&J&&(Z[q]|=J),Q&=~K}}function WL(Z,J){var Q=J&-J;return Q=(Q&42)!==0?1:l$(Q),(Q&(Z.suspendedLanes|J))!==0?0:Q}function l$(Z){switch(Z){case 2:Z=1;break;case 8:Z=4;break;case 32:Z=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Z=128;break;case 268435456:Z=134217728;break;default:Z=0}return Z}function p$(Z){return Z&=-Z,2<Z?8<Z?(Z&134217727)!==0?32:268435456:8:2}function GL(){var Z=d0.p;if(Z!==0)return Z;return Z=window.event,Z===void 0?32:uR(Z.type)}function dj(Z,J){var Q=d0.p;try{return d0.p=Z,J()}finally{d0.p=Q}}function i$(Z){delete Z[U5],delete Z[t5],delete Z[rA],delete Z[hc],delete Z[xc]}function kJ(Z){var J=Z[U5];if(J)return J;for(var Q=Z.parentNode;Q;){if(J=Q[z2]||Q[U5]){if(Q=J.alternate,J.child!==null||Q!==null&&Q.child!==null)for(Z=sw(Z);Z!==null;){if(Q=Z[U5])return Q;Z=sw(Z)}return J}Z=Q,Q=Z.parentNode}return null}function N2(Z){if(Z=Z[U5]||Z[z2]){var J=Z.tag;if(J===5||J===6||J===13||J===31||J===26||J===27||J===3)return Z}return null}function qq(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z.stateNode;throw Error(c(33))}function cJ(Z){var J=Z[cj];return J||(J=Z[cj]={hoistableStyles:new Map,hoistableScripts:new Map}),J}function J5(Z){Z[dq]=!0}function zZ(Z,J){oJ(Z,J),oJ(Z+"Capture",J)}function oJ(Z,J){jL[Z]=J;for(Z=0;Z<J.length;Z++)FL.add(J[Z])}function mc(Z){if(tA.call(lj,Z))return!0;if(tA.call(uj,Z))return!1;if(gc.test(Z))return lj[Z]=!0;return uj[Z]=!0,!1}function Ez(Z,J,Q){if(mc(J))if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":Z.removeAttribute(J);return;case"boolean":var q=J.toLowerCase().slice(0,5);if(q!=="data-"&&q!=="aria-"){Z.removeAttribute(J);return}}Z.setAttribute(J,""+Q)}}function _z(Z,J,Q){if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(J);return}Z.setAttribute(J,""+Q)}}function R4(Z,J,Q,q){if(q===null)Z.removeAttribute(Q);else{switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(Q);return}Z.setAttributeNS(J,Q,""+q)}}function s8(Z){switch(typeof Z){case"bigint":case"boolean":case"number":case"string":case"undefined":return Z;case"object":return Z;default:return""}}function wL(Z){var J=Z.type;return(Z=Z.nodeName)&&Z.toLowerCase()==="input"&&(J==="checkbox"||J==="radio")}function dc(Z,J,Q){var q=Object.getOwnPropertyDescriptor(Z.constructor.prototype,J);if(!Z.hasOwnProperty(J)&&typeof q<"u"&&typeof q.get==="function"&&typeof q.set==="function"){var{get:K,set:X}=q;return Object.defineProperty(Z,J,{configurable:!0,get:function(){return K.call(this)},set:function(N){Q=""+N,X.call(this,N)}}),Object.defineProperty(Z,J,{enumerable:q.enumerable}),{getValue:function(){return Q},setValue:function(N){Q=""+N},stopTracking:function(){Z._valueTracker=null,delete Z[J]}}}}function eA(Z){if(!Z._valueTracker){var J=wL(Z)?"checked":"value";Z._valueTracker=dc(Z,J,""+Z[J])}}function LL(Z){if(!Z)return!1;var J=Z._valueTracker;if(!J)return!0;var Q=J.getValue(),q="";return Z&&(q=wL(Z)?Z.checked?"true":"false":Z.value),Z=q,Z!==Q?(J.setValue(Z),!0):!1}function az(Z){if(Z=Z||(typeof document<"u"?document:void 0),typeof Z>"u")return null;try{return Z.activeElement||Z.body}catch(J){return Z.body}}function t8(Z){return Z.replace(cc,function(J){return"\\"+J.charCodeAt(0).toString(16)+" "})}function Z$(Z,J,Q,q,K,X,N,Y){if(Z.name="",N!=null&&typeof N!=="function"&&typeof N!=="symbol"&&typeof N!=="boolean"?Z.type=N:Z.removeAttribute("type"),J!=null)if(N==="number"){if(J===0&&Z.value===""||Z.value!=J)Z.value=""+s8(J)}else Z.value!==""+s8(J)&&(Z.value=""+s8(J));else N!=="submit"&&N!=="reset"||Z.removeAttribute("value");J!=null?J$(Z,N,s8(J)):Q!=null?J$(Z,N,s8(Q)):q!=null&&Z.removeAttribute("value"),K==null&&X!=null&&(Z.defaultChecked=!!X),K!=null&&(Z.checked=K&&typeof K!=="function"&&typeof K!=="symbol"),Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&typeof Y!=="boolean"?Z.name=""+s8(Y):Z.removeAttribute("name")}function CL(Z,J,Q,q,K,X,N,Y){if(X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&typeof X!=="boolean"&&(Z.type=X),J!=null||Q!=null){if(!(X!=="submit"&&X!=="reset"||J!==void 0&&J!==null)){eA(Z);return}Q=Q!=null?""+s8(Q):"",J=J!=null?""+s8(J):Q,Y||J===Z.value||(Z.value=J),Z.defaultValue=J}q=q!=null?q:K,q=typeof q!=="function"&&typeof q!=="symbol"&&!!q,Z.checked=Y?Z.checked:!!q,Z.defaultChecked=!!q,N!=null&&typeof N!=="function"&&typeof N!=="symbol"&&typeof N!=="boolean"&&(Z.name=N),eA(Z)}function J$(Z,J,Q){J==="number"&&az(Z.ownerDocument)===Z||Z.defaultValue===""+Q||(Z.defaultValue=""+Q)}function uJ(Z,J,Q,q){if(Z=Z.options,J){J={};for(var K=0;K<Q.length;K++)J["$"+Q[K]]=!0;for(Q=0;Q<Z.length;Q++)K=J.hasOwnProperty("$"+Z[Q].value),Z[Q].selected!==K&&(Z[Q].selected=K),K&&q&&(Z[Q].defaultSelected=!0)}else{Q=""+s8(Q),J=null;for(K=0;K<Z.length;K++){if(Z[K].value===Q){Z[K].selected=!0,q&&(Z[K].defaultSelected=!0);return}J!==null||Z[K].disabled||(J=Z[K])}J!==null&&(J.selected=!0)}}function RL(Z,J,Q){if(J!=null&&(J=""+s8(J),J!==Z.value&&(Z.value=J),Q==null)){Z.defaultValue!==J&&(Z.defaultValue=J);return}Z.defaultValue=Q!=null?""+s8(Q):""}function EL(Z,J,Q,q){if(J==null){if(q!=null){if(Q!=null)throw Error(c(92));if(Qq(q)){if(1<q.length)throw Error(c(93));q=q[0]}Q=q}Q==null&&(Q=""),J=Q}Q=s8(J),Z.defaultValue=Q,q=Z.textContent,q===Q&&q!==""&&q!==null&&(Z.value=q),eA(Z)}function tJ(Z,J){if(J){var Q=Z.firstChild;if(Q&&Q===Z.lastChild&&Q.nodeType===3){Q.nodeValue=J;return}}Z.textContent=J}function pj(Z,J,Q){var q=J.indexOf("--")===0;Q==null||typeof Q==="boolean"||Q===""?q?Z.setProperty(J,""):J==="float"?Z.cssFloat="":Z[J]="":q?Z.setProperty(J,Q):typeof Q!=="number"||Q===0||uc.has(J)?J==="float"?Z.cssFloat=Q:Z[J]=(""+Q).trim():Z[J]=Q+"px"}function IL(Z,J,Q){if(J!=null&&typeof J!=="object")throw Error(c(62));if(Z=Z.style,Q!=null){for(var q in Q)!Q.hasOwnProperty(q)||J!=null&&J.hasOwnProperty(q)||(q.indexOf("--")===0?Z.setProperty(q,""):q==="float"?Z.cssFloat="":Z[q]="");for(var K in J)q=J[K],J.hasOwnProperty(K)&&Q[K]!==q&&pj(Z,K,q)}else for(var X in J)J.hasOwnProperty(X)&&pj(Z,X,J[X])}function a$(Z){if(Z.indexOf("-")===-1)return!1;switch(Z){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Iz(Z){return pc.test(""+Z)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Z}function v4(){}function s$(Z){return Z=Z.target||Z.srcElement||window,Z.correspondingUseElement&&(Z=Z.correspondingUseElement),Z.nodeType===3?Z.parentNode:Z}function ij(Z){var J=N2(Z);if(J&&(Z=J.stateNode)){var Q=Z[t5]||null;Z:switch(Z=J.stateNode,J.type){case"input":if(Z$(Z,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name),J=Q.name,Q.type==="radio"&&J!=null){for(Q=Z;Q.parentNode;)Q=Q.parentNode;Q=Q.querySelectorAll('input[name="'+t8(""+J)+'"][type="radio"]');for(J=0;J<Q.length;J++){var q=Q[J];if(q!==Z&&q.form===Z.form){var K=q[t5]||null;if(!K)throw Error(c(90));Z$(q,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(J=0;J<Q.length;J++)q=Q[J],q.form===Z.form&&LL(q)}break Z;case"textarea":RL(Z,Q.value,Q.defaultValue);break Z;case"select":J=Q.value,J!=null&&uJ(Z,!!Q.multiple,J,!1)}}}function TL(Z,J,Q){if(_A)return Z(J,Q);_A=!0;try{var q=Z(J);return q}finally{if(_A=!1,PJ!==null||lJ!==null){if(SN(),PJ&&(J=PJ,Z=lJ,lJ=PJ=null,ij(J),Z))for(J=0;J<Z.length;J++)ij(Z[J])}}}function Lq(Z,J){var Q=Z.stateNode;if(Q===null)return null;var q=Q[t5]||null;if(q===null)return null;Q=q[J];Z:switch(J){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(Z=Z.type,q=!(Z==="button"||Z==="input"||Z==="select"||Z==="textarea")),Z=!q;break Z;default:Z=!1}if(Z)return null;if(Q&&typeof Q!=="function")throw Error(c(231,J,typeof Q));return Q}function SL(){if(Tz)return Tz;var Z,J=n$,Q=J.length,q,K="value"in h7?h7.value:h7.textContent,X=K.length;for(Z=0;Z<Q&&J[Z]===K[Z];Z++);var N=Q-Z;for(q=1;q<=N&&J[Q-q]===K[X-q];q++);return Tz=K.slice(Z,1<q?1-q:void 0)}function Sz(Z){var J=Z.keyCode;return"charCode"in Z?(Z=Z.charCode,Z===0&&J===13&&(Z=13)):Z=J,Z===10&&(Z=13),32<=Z||Z===13?Z:0}function Mz(){return!0}function aj(){return!1}function r5(Z){function J(Q,q,K,X,N){this._reactName=Q,this._targetInst=K,this.type=q,this.nativeEvent=X,this.target=N,this.currentTarget=null;for(var Y in Z)Z.hasOwnProperty(Y)&&(Q=Z[Y],this[Y]=Q?Q(X):X[Y]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?Mz:aj,this.isPropagationStopped=aj,this}return A1(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Q=this.nativeEvent;Q&&(Q.preventDefault?Q.preventDefault():typeof Q.returnValue!=="unknown"&&(Q.returnValue=!1),this.isDefaultPrevented=Mz)},stopPropagation:function(){var Q=this.nativeEvent;Q&&(Q.stopPropagation?Q.stopPropagation():typeof Q.cancelBubble!=="unknown"&&(Q.cancelBubble=!0),this.isPropagationStopped=Mz)},persist:function(){},isPersistent:Mz}),J}function Ku(Z){var J=this.nativeEvent;return J.getModifierState?J.getModifierState(Z):(Z=qu[Z])?!!J[Z]:!1}function o$(){return Ku}function kL(Z,J){switch(Z){case"keyup":return Bu.indexOf(J.keyCode)!==-1;case"keydown":return J.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PL(Z){return Z=Z.detail,typeof Z==="object"&&"data"in Z?Z.data:null}function Mu(Z,J){switch(Z){case"compositionend":return PL(J);case"keypress":if(J.which!==32)return null;return rj=!0,tj;case"textInput":return Z=J.data,Z===tj&&rj?null:Z;default:return null}}function Wu(Z,J){if(vJ)return Z==="compositionend"||!t$&&kL(Z,J)?(Z=SL(),Tz=n$=h7=null,vJ=!1,Z):null;switch(Z){case"paste":return null;case"keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case"compositionend":return bL&&J.locale!=="ko"?null:J.data;default:return null}}function ej(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J==="input"?!!Gu[Z.type]:J==="textarea"?!0:!1}function vL(Z,J,Q,q){PJ?lJ?lJ.push(q):lJ=[q]:PJ=q,J=ON(J,"onChange"),0<J.length&&(Q=new WN("onChange","change",null,Q,q),Z.push({event:Q,listeners:J}))}function Fu(Z){TR(Z,0)}function FN(Z){var J=qq(Z);if(LL(J))return Z}function Zw(Z,J){if(Z==="change")return J}function Jw(){Oq&&(Oq.detachEvent("onpropertychange",yL),Cq=Oq=null)}function yL(Z){if(Z.propertyName==="value"&&FN(Cq)){var J=[];vL(J,Cq,Z,s$(Z)),TL(Fu,J)}}function ju(Z,J,Q){Z==="focusin"?(Jw(),Oq=J,Cq=Q,Oq.attachEvent("onpropertychange",yL)):Z==="focusout"&&Jw()}function wu(Z){if(Z==="selectionchange"||Z==="keyup"||Z==="keydown")return FN(Cq)}function Lu(Z,J){if(Z==="click")return FN(J)}function Cu(Z,J){if(Z==="input"||Z==="change")return FN(J)}function Ru(Z,J){return Z===J&&(Z!==0||1/Z===1/J)||Z!==Z&&J!==J}function Rq(Z,J){if(I8(Z,J))return!0;if(typeof Z!=="object"||Z===null||typeof J!=="object"||J===null)return!1;var Q=Object.keys(Z),q=Object.keys(J);if(Q.length!==q.length)return!1;for(q=0;q<Q.length;q++){var K=Q[q];if(!tA.call(J,K)||!I8(Z[K],J[K]))return!1}return!0}function Qw(Z){for(;Z&&Z.firstChild;)Z=Z.firstChild;return Z}function qw(Z,J){var Q=Qw(Z);Z=0;for(var q;Q;){if(Q.nodeType===3){if(q=Z+Q.textContent.length,Z<=J&&q>=J)return{node:Q,offset:J-Z};Z=q}Z:{for(;Q;){if(Q.nextSibling){Q=Q.nextSibling;break Z}Q=Q.parentNode}Q=void 0}Q=Qw(Q)}}function hL(Z,J){return Z&&J?Z===J?!0:Z&&Z.nodeType===3?!1:J&&J.nodeType===3?hL(Z,J.parentNode):("contains"in Z)?Z.contains(J):Z.compareDocumentPosition?!!(Z.compareDocumentPosition(J)&16):!1:!1}function xL(Z){Z=Z!=null&&Z.ownerDocument!=null&&Z.ownerDocument.defaultView!=null?Z.ownerDocument.defaultView:window;for(var J=az(Z.document);J instanceof Z.HTMLIFrameElement;){try{var Q=typeof J.contentWindow.location.href==="string"}catch(q){Q=!1}if(Q)Z=J.contentWindow;else break;J=az(Z.document)}return J}function r$(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J&&(J==="input"&&(Z.type==="text"||Z.type==="search"||Z.type==="tel"||Z.type==="url"||Z.type==="password")||J==="textarea"||Z.contentEditable==="true")}function Kw(Z,J,Q){var q=Q.window===Q?Q.document:Q.nodeType===9?Q:Q.ownerDocument;X$||fJ==null||fJ!==az(q)||(q=fJ,("selectionStart"in q)&&r$(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),Uq&&Rq(Uq,q)||(Uq=q,q=ON(K$,"onSelect"),0<q.length&&(J=new WN("onSelect","select",null,J,Q),Z.push({event:J,listeners:q}),J.target=fJ)))}function l9(Z,J){var Q={};return Q[Z.toLowerCase()]=J.toLowerCase(),Q["Webkit"+Z]="webkit"+J,Q["Moz"+Z]="moz"+J,Q}function HZ(Z){if(FA[Z])return FA[Z];if(!yJ[Z])return Z;var J=yJ[Z],Q;for(Q in J)if(J.hasOwnProperty(Q)&&Q in gL)return FA[Z]=J[Q];return Z}function F6(Z,J){lL.set(Z,J),zZ(J,[Z])}function jN(){for(var Z=hJ,J=e$=hJ=0;J<Z;){var Q=a8[J];a8[J++]=null;var q=a8[J];a8[J++]=null;var K=a8[J];a8[J++]=null;var X=a8[J];if(a8[J++]=null,q!==null&&K!==null){var N=q.pending;N===null?K.next=K:(K.next=N.next,N.next=K),q.pending=K}X!==0&&pL(Q,K,X)}}function wN(Z,J,Q,q){a8[hJ++]=Z,a8[hJ++]=J,a8[hJ++]=Q,a8[hJ++]=q,e$|=q,Z.lanes|=q,Z=Z.alternate,Z!==null&&(Z.lanes|=q)}function Z3(Z,J,Q,q){return wN(Z,J,Q,q),nz(Z)}function YZ(Z,J){return wN(Z,null,null,J),nz(Z)}function pL(Z,J,Q){Z.lanes|=Q;var q=Z.alternate;q!==null&&(q.lanes|=Q);for(var K=!1,X=Z.return;X!==null;)X.childLanes|=Q,q=X.alternate,q!==null&&(q.childLanes|=Q),X.tag===22&&(Z=X.stateNode,Z===null||Z._visibility&1||(K=!0)),Z=X,X=X.return;return Z.tag===3?(X=Z.stateNode,K&&J!==null&&(K=31-R8(Q),Z=X.hiddenUpdates,q=Z[K],q===null?Z[K]=[J]:q.push(J),J.lane=Q|536870912),X):null}function nz(Z){if(50<Fq)throw Fq=0,E$=null,Error(c(185));for(var J=Z.return;J!==null;)Z=J,J=Z.return;return Z.tag===3?Z.stateNode:null}function bu(Z,J,Q,q){this.tag=Z,this.key=Q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=J,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function j8(Z,J,Q,q){return new bu(Z,J,Q,q)}function J3(Z){return Z=Z.prototype,!(!Z||!Z.isReactComponent)}function y4(Z,J){var Q=Z.alternate;return Q===null?(Q=j8(Z.tag,J,Z.key,Z.mode),Q.elementType=Z.elementType,Q.type=Z.type,Q.stateNode=Z.stateNode,Q.alternate=Z,Z.alternate=Q):(Q.pendingProps=J,Q.type=Z.type,Q.flags=0,Q.subtreeFlags=0,Q.deletions=null),Q.flags=Z.flags&65011712,Q.childLanes=Z.childLanes,Q.lanes=Z.lanes,Q.child=Z.child,Q.memoizedProps=Z.memoizedProps,Q.memoizedState=Z.memoizedState,Q.updateQueue=Z.updateQueue,J=Z.dependencies,Q.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext},Q.sibling=Z.sibling,Q.index=Z.index,Q.ref=Z.ref,Q.refCleanup=Z.refCleanup,Q}function iL(Z,J){Z.flags&=65011714;var Q=Z.alternate;return Q===null?(Z.childLanes=0,Z.lanes=J,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=Q.childLanes,Z.lanes=Q.lanes,Z.child=Q.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=Q.memoizedProps,Z.memoizedState=Q.memoizedState,Z.updateQueue=Q.updateQueue,Z.type=Q.type,J=Q.dependencies,Z.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext}),Z}function kz(Z,J,Q,q,K,X){var N=0;if(q=Z,typeof Z==="function")J3(Z)&&(N=1);else if(typeof Z==="string")N=vl(Z,Q,s6.current)?26:Z==="html"||Z==="head"||Z==="body"?27:5;else Z:switch(Z){case aA:return Z=j8(31,Q,J,K),Z.elementType=aA,Z.lanes=X,Z;case SJ:return t9(Q.children,K,X,J);case OL:N=8,K|=24;break;case lA:return Z=j8(12,Q,J,K|2),Z.elementType=lA,Z.lanes=X,Z;case pA:return Z=j8(13,Q,J,K),Z.elementType=pA,Z.lanes=X,Z;case iA:return Z=j8(19,Q,J,K),Z.elementType=iA,Z.lanes=X,Z;default:if(typeof Z==="object"&&Z!==null)switch(Z.$$typeof){case P4:N=10;break Z;case UL:N=9;break Z;case d$:N=11;break Z;case c$:N=14;break Z;case S7:N=16,q=null;break Z}N=29,Q=Error(c(130,Z===null?"null":typeof Z,"")),q=null}return J=j8(N,Q,J,K),J.elementType=Z,J.type=q,J.lanes=X,J}function t9(Z,J,Q,q){return Z=j8(7,Z,q,J),Z.lanes=Q,Z}function jA(Z,J,Q){return Z=j8(6,Z,null,J),Z.lanes=Q,Z}function aL(Z){var J=j8(18,null,null,0);return J.stateNode=Z,J}function wA(Z,J,Q){return J=j8(4,Z.children!==null?Z.children:[],Z.key,J),J.lanes=Q,J.stateNode={containerInfo:Z.containerInfo,pendingChildren:null,implementation:Z.implementation},J}function r8(Z,J){if(typeof Z==="object"&&Z!==null){var Q=Xw.get(Z);if(Q!==void 0)return Q;return J={value:Z,source:J,stack:mj(J)},Xw.set(Z,J),J}return{value:Z,source:J,stack:mj(J)}}function b4(Z,J){gJ[mJ++]=Eq,gJ[mJ++]=oz,oz=Z,Eq=J}function sL(Z,J,Q){n8[o8++]=p6,n8[o8++]=i6,n8[o8++]=o7,o7=Z;var q=p6;Z=i6;var K=32-R8(q)-1;q&=~(1<<K),Q+=1;var X=32-R8(J)+K;if(30<X){var N=K-K%5;X=(q&(1<<N)-1).toString(32),q>>=N,K-=N,p6=1<<32-R8(J)+K|Q<<K|q,i6=X+Z}else p6=1<<X|Q<<K|q,i6=Z}function Q3(Z){Z.return!==null&&(b4(Z,1),sL(Z,1,0))}function q3(Z){for(;Z===oz;)oz=gJ[--mJ],gJ[mJ]=null,Eq=gJ[--mJ],gJ[mJ]=null;for(;Z===o7;)o7=n8[--o8],n8[o8]=null,i6=n8[--o8],n8[o8]=null,p6=n8[--o8],n8[o8]=null}function nL(Z,J){n8[o8++]=p6,n8[o8++]=i6,n8[o8++]=o7,p6=J.id,i6=J.overflow,o7=Z}function t7(Z){var J=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iq(r8(J,Z)),N$}function zw(Z){var{stateNode:J,type:Q,memoizedProps:q}=Z;switch(J[U5]=Z,J[t5]=q,Q){case"dialog":R0("cancel",J),R0("close",J);break;case"iframe":case"object":case"embed":R0("load",J);break;case"video":case"audio":for(Q=0;Q<kq.length;Q++)R0(kq[Q],J);break;case"source":R0("error",J);break;case"img":case"image":case"link":R0("error",J),R0("load",J);break;case"details":R0("toggle",J);break;case"input":R0("invalid",J),CL(J,q.value,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name,!0);break;case"select":R0("invalid",J);break;case"textarea":R0("invalid",J),EL(J,q.value,q.defaultValue,q.children)}Q=q.children,typeof Q!=="string"&&typeof Q!=="number"&&typeof Q!=="bigint"||J.textContent===""+Q||q.suppressHydrationWarning===!0||bR(J.textContent,Q)?(q.popover!=null&&(R0("beforetoggle",J),R0("toggle",J)),q.onScroll!=null&&R0("scroll",J),q.onScrollEnd!=null&&R0("scrollend",J),q.onClick!=null&&(J.onclick=v4),J=!0):J=!1,J||t7(Z,!0)}function Nw(Z){for(A5=Z.return;A5;)switch(A5.tag){case 5:case 31:case 13:e8=!1;return;case 27:case 3:e8=!0;return;default:A5=A5.return}}function CJ(Z){if(Z!==A5)return!1;if(!b0)return Nw(Z),b0=!0,!1;var J=Z.tag,Q;if(Q=J!==3&&J!==27){if(Q=J===5)Q=Z.type,Q=!(Q!=="form"&&Q!=="button")||v$(Z.type,Z.memoizedProps);Q=!Q}if(Q&&U1&&t7(Z),Nw(Z),J===13){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(c(317));U1=aw(Z)}else if(J===31){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(c(317));U1=aw(Z)}else J===27?(J=U1,J9(Z.type)?(Z=x$,x$=null,U1=Z):U1=J):U1=A5?J6(Z.stateNode.nextSibling):null;return!0}function JZ(){U1=A5=null,b0=!1}function LA(){var Z=c7;return Z!==null&&(n5===null?n5=Z:n5.push.apply(n5,Z),c7=null),Z}function Iq(Z){c7===null?c7=[Z]:c7.push(Z)}function k7(Z,J,Q){H1(H$,J._currentValue),J._currentValue=Q}function h4(Z){Z._currentValue=H$.current,Q5(H$)}function Y$(Z,J,Q){for(;Z!==null;){var q=Z.alternate;if((Z.childLanes&J)!==J?(Z.childLanes|=J,q!==null&&(q.childLanes|=J)):q!==null&&(q.childLanes&J)!==J&&(q.childLanes|=J),Z===Q)break;Z=Z.return}}function V$(Z,J,Q,q){var K=Z.child;K!==null&&(K.return=Z);for(;K!==null;){var X=K.dependencies;if(X!==null){var N=K.child;X=X.firstContext;Z:for(;X!==null;){var Y=X;X=K;for(var O=0;O<J.length;O++)if(Y.context===J[O]){X.lanes|=Q,Y=X.alternate,Y!==null&&(Y.lanes|=Q),Y$(X.return,Q,Z),q||(N=null);break Z}X=Y.next}}else if(K.tag===18){if(N=K.return,N===null)throw Error(c(341));N.lanes|=Q,X=N.alternate,X!==null&&(X.lanes|=Q),Y$(N,Q,Z),N=null}else N=K.child;if(N!==null)N.return=K;else for(N=K;N!==null;){if(N===Z){N=null;break}if(K=N.sibling,K!==null){K.return=N.return,N=K;break}N=N.return}K=N}}function H2(Z,J,Q,q){Z=null;for(var K=J,X=!1;K!==null;){if(!X){if((K.flags&524288)!==0)X=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var N=K.alternate;if(N===null)throw Error(c(387));if(N=N.memoizedProps,N!==null){var Y=K.type;I8(K.pendingProps.value,N.value)||(Z!==null?Z.push(Y):Z=[Y])}}else if(K===uz.current){if(N=K.alternate,N===null)throw Error(c(387));N.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(Z!==null?Z.push(vq):Z=[vq])}K=K.return}Z!==null&&V$(J,Z,Q,q),J.flags|=262144}function tz(Z){for(Z=Z.firstContext;Z!==null;){if(!I8(Z.context._currentValue,Z.memoizedValue))return!0;Z=Z.next}return!1}function QZ(Z){VZ=Z,f4=null,Z=Z.dependencies,Z!==null&&(Z.firstContext=null)}function $5(Z){return oL(VZ,Z)}function Wz(Z,J){return VZ===null&&QZ(Z),oL(Z,J)}function oL(Z,J){var Q=J._currentValue;if(J={context:J,memoizedValue:Q,next:null},f4===null){if(Z===null)throw Error(c(308));f4=J,Z.dependencies={lanes:0,firstContext:J},Z.flags|=524288}else f4=f4.next=J;return Q}function K3(){return{controller:new ku,data:new Map,refCount:0}}function uq(Z){Z.refCount--,Z.refCount===0&&Pu(vu,function(){Z.controller.abort()})}function fu(Z,J){if(Aq===null){var Q=Aq=[];O$=0,rJ=T3(),pJ={status:"pending",value:void 0,then:function(q){Q.push(q)}}}return O$++,J.then(Hw,Hw),J}function Hw(){if(--O$===0&&Aq!==null){pJ!==null&&(pJ.status="fulfilled");var Z=Aq;Aq=null,rJ=0,pJ=null;for(var J=0;J<Z.length;J++)(0,Z[J])()}}function yu(Z,J){var Q=[],q={status:"pending",value:null,reason:null,then:function(K){Q.push(K)}};return Z.then(function(){q.status="fulfilled",q.value=J;for(var K=0;K<Q.length;K++)(0,Q[K])(J)},function(K){q.status="rejected",q.reason=K;for(K=0;K<Q.length;K++)(0,Q[K])(void 0)}),q}function X3(){var Z=r9.current;return Z!==null?Z:K1.pooledCache}function Pz(Z,J){J===null?H1(r9,r9.current):H1(r9,J.pool)}function tL(){var Z=X3();return Z===null?null:{parent:d1._currentValue,pool:Z}}function Vw(Z){return Z=Z.status,Z==="fulfilled"||Z==="rejected"}function rL(Z,J,Q){switch(Q=Z[Q],Q===void 0?Z.push(J):Q!==J&&(J.then(v4,v4),J=Q),J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Uw(Z),Z;default:if(typeof J.status==="string")J.then(v4,v4);else{if(Z=K1,Z!==null&&100<Z.shellSuspendCounter)throw Error(c(482));Z=J,Z.status="pending",Z.then(function(q){if(J.status==="pending"){var K=J;K.status="fulfilled",K.value=q}},function(q){if(J.status==="pending"){var K=J;K.status="rejected",K.reason=q}})}switch(J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Uw(Z),Z}throw e9=J,Y2}}function s9(Z){try{var J=Z._init;return J(Z._payload)}catch(Q){if(Q!==null&&typeof Q==="object"&&typeof Q.then==="function")throw e9=Q,Y2;throw Q}}function Ow(){if(e9===null)throw Error(c(459));var Z=e9;return e9=null,Z}function Uw(Z){if(Z===Y2||Z===LN)throw Error(c(483))}function Gz(Z){var J=Tq;return Tq+=1,iJ===null&&(iJ=[]),rL(iJ,Z,J)}function tQ(Z,J){J=J.props.ref,Z.ref=J!==void 0?J:null}function Fz(Z,J){if(J.$$typeof===jc)throw Error(c(525));throw Z=Object.prototype.toString.call(J),Error(c(31,Z==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Z))}function eL(Z){function J(G,j){if(Z){var C=G.deletions;C===null?(G.deletions=[j],G.flags|=16):C.push(j)}}function Q(G,j){if(!Z)return null;for(;j!==null;)J(G,j),j=j.sibling;return null}function q(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function K(G,j){return G=y4(G,j),G.index=0,G.sibling=null,G}function X(G,j,C){if(G.index=C,!Z)return G.flags|=1048576,j;if(C=G.alternate,C!==null)return C=C.index,C<j?(G.flags|=67108866,j):C;return G.flags|=67108866,j}function N(G){return Z&&G.alternate===null&&(G.flags|=67108866),G}function Y(G,j,C,T){if(j===null||j.tag!==6)return j=jA(C,G.mode,T),j.return=G,j;return j=K(j,C),j.return=G,j}function O(G,j,C,T){var v=C.type;if(v===SJ)return $(G,j,C.props.children,T,C.key);if(j!==null&&(j.elementType===v||typeof v==="object"&&v!==null&&v.$$typeof===S7&&s9(v)===j.type))return j=K(j,C.props),tQ(j,C),j.return=G,j;return j=kz(C.type,C.key,C.props,null,G.mode,T),tQ(j,C),j.return=G,j}function U(G,j,C,T){if(j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation)return j=wA(C,G.mode,T),j.return=G,j;return j=K(j,C.children||[]),j.return=G,j}function $(G,j,C,T,v){if(j===null||j.tag!==7)return j=t9(C,G.mode,T,v),j.return=G,j;return j=K(j,C),j.return=G,j}function B(G,j,C){if(typeof j==="string"&&j!==""||typeof j==="number"||typeof j==="bigint")return j=jA(""+j,G.mode,C),j.return=G,j;if(typeof j==="object"&&j!==null){switch(j.$$typeof){case Az:return C=kz(j.type,j.key,j.props,null,G.mode,C),tQ(C,j),C.return=G,C;case Jq:return j=wA(j,G.mode,C),j.return=G,j;case S7:return j=s9(j),B(G,j,C)}if(Qq(j)||nQ(j))return j=t9(j,G.mode,C,null),j.return=G,j;if(typeof j.then==="function")return B(G,Gz(j),C);if(j.$$typeof===P4)return B(G,Wz(G,j),C);Fz(G,j)}return null}function _(G,j,C,T){var v=j!==null?j.key:null;if(typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint")return v!==null?null:Y(G,j,""+C,T);if(typeof C==="object"&&C!==null){switch(C.$$typeof){case Az:return C.key===v?O(G,j,C,T):null;case Jq:return C.key===v?U(G,j,C,T):null;case S7:return C=s9(C),_(G,j,C,T)}if(Qq(C)||nQ(C))return v!==null?null:$(G,j,C,T,null);if(typeof C.then==="function")return _(G,j,Gz(C),T);if(C.$$typeof===P4)return _(G,j,Wz(G,C),T);Fz(G,C)}return null}function W(G,j,C,T,v){if(typeof T==="string"&&T!==""||typeof T==="number"||typeof T==="bigint")return G=G.get(C)||null,Y(j,G,""+T,v);if(typeof T==="object"&&T!==null){switch(T.$$typeof){case Az:return G=G.get(T.key===null?C:T.key)||null,O(j,G,T,v);case Jq:return G=G.get(T.key===null?C:T.key)||null,U(j,G,T,v);case S7:return T=s9(T),W(G,j,C,T,v)}if(Qq(T)||nQ(T))return G=G.get(C)||null,$(j,G,T,v,null);if(typeof T.then==="function")return W(G,j,C,Gz(T),v);if(T.$$typeof===P4)return W(G,j,C,Wz(j,T),v);Fz(j,T)}return null}function w(G,j,C,T){for(var v=null,f=null,b=j,m=j=0,u=null;b!==null&&m<C.length;m++){b.index>m?(u=b,b=null):u=b.sibling;var l=_(G,b,C[m],T);if(l===null){b===null&&(b=u);break}Z&&b&&l.alternate===null&&J(G,b),j=X(l,j,m),f===null?v=l:f.sibling=l,f=l,b=u}if(m===C.length)return Q(G,b),b0&&b4(G,m),v;if(b===null){for(;m<C.length;m++)b=B(G,C[m],T),b!==null&&(j=X(b,j,m),f===null?v=b:f.sibling=b,f=b);return b0&&b4(G,m),v}for(b=q(b);m<C.length;m++)u=W(b,G,m,C[m],T),u!==null&&(Z&&u.alternate!==null&&b.delete(u.key===null?m:u.key),j=X(u,j,m),f===null?v=u:f.sibling=u,f=u);return Z&&b.forEach(function(o){return J(G,o)}),b0&&b4(G,m),v}function L(G,j,C,T){if(C==null)throw Error(c(151));for(var v=null,f=null,b=j,m=j=0,u=null,l=C.next();b!==null&&!l.done;m++,l=C.next()){b.index>m?(u=b,b=null):u=b.sibling;var o=_(G,b,l.value,T);if(o===null){b===null&&(b=u);break}Z&&b&&o.alternate===null&&J(G,b),j=X(o,j,m),f===null?v=o:f.sibling=o,f=o,b=u}if(l.done)return Q(G,b),b0&&b4(G,m),v;if(b===null){for(;!l.done;m++,l=C.next())l=B(G,l.value,T),l!==null&&(j=X(l,j,m),f===null?v=l:f.sibling=l,f=l);return b0&&b4(G,m),v}for(b=q(b);!l.done;m++,l=C.next())l=W(b,G,m,l.value,T),l!==null&&(Z&&l.alternate!==null&&b.delete(l.key===null?m:l.key),j=X(l,j,m),f===null?v=l:f.sibling=l,f=l);return Z&&b.forEach(function(N0){return J(G,N0)}),b0&&b4(G,m),v}function R(G,j,C,T){if(typeof C==="object"&&C!==null&&C.type===SJ&&C.key===null&&(C=C.props.children),typeof C==="object"&&C!==null){switch(C.$$typeof){case Az:Z:{for(var v=C.key;j!==null;){if(j.key===v){if(v=C.type,v===SJ){if(j.tag===7){Q(G,j.sibling),T=K(j,C.props.children),T.return=G,G=T;break Z}}else if(j.elementType===v||typeof v==="object"&&v!==null&&v.$$typeof===S7&&s9(v)===j.type){Q(G,j.sibling),T=K(j,C.props),tQ(T,C),T.return=G,G=T;break Z}Q(G,j);break}else J(G,j);j=j.sibling}C.type===SJ?(T=t9(C.props.children,G.mode,T,C.key),T.return=G,G=T):(T=kz(C.type,C.key,C.props,null,G.mode,T),tQ(T,C),T.return=G,G=T)}return N(G);case Jq:Z:{for(v=C.key;j!==null;){if(j.key===v)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){Q(G,j.sibling),T=K(j,C.children||[]),T.return=G,G=T;break Z}else{Q(G,j);break}else J(G,j);j=j.sibling}T=wA(C,G.mode,T),T.return=G,G=T}return N(G);case S7:return C=s9(C),R(G,j,C,T)}if(Qq(C))return w(G,j,C,T);if(nQ(C)){if(v=nQ(C),typeof v!=="function")throw Error(c(150));return C=v.call(C),L(G,j,C,T)}if(typeof C.then==="function")return R(G,j,Gz(C),T);if(C.$$typeof===P4)return R(G,j,Wz(G,C),T);Fz(G,C)}return typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint"?(C=""+C,j!==null&&j.tag===6?(Q(G,j.sibling),T=K(j,C),T.return=G,G=T):(Q(G,j),T=jA(C,G.mode,T),T.return=G,G=T),N(G)):Q(G,j)}return function(G,j,C,T){try{Tq=0;var v=R(G,j,C,T);return iJ=null,v}catch(b){if(b===Y2||b===LN)throw b;var f=j8(29,b,null,G.mode);return f.lanes=T,f.return=G,f}finally{}}}function N3(Z){Z.updateQueue={baseState:Z.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function U$(Z,J){Z=Z.updateQueue,J.updateQueue===Z&&(J.updateQueue={baseState:Z.baseState,firstBaseUpdate:Z.firstBaseUpdate,lastBaseUpdate:Z.lastBaseUpdate,shared:Z.shared,callbacks:null})}function u7(Z){return{lane:Z,tag:0,payload:null,callback:null,next:null}}function l7(Z,J,Q){var q=Z.updateQueue;if(q===null)return null;if(q=q.shared,(m0&2)!==0){var K=q.pending;return K===null?J.next=J:(J.next=K.next,K.next=J),q.pending=J,J=nz(Z),pL(Z,null,Q),J}return wN(Z,q,J,Q),nz(Z)}function $q(Z,J,Q){if(J=J.updateQueue,J!==null&&(J=J.shared,(Q&4194048)!==0)){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,ML(Z,Q)}}function CA(Z,J){var{updateQueue:Q,alternate:q}=Z;if(q!==null&&(q=q.updateQueue,Q===q)){var K=null,X=null;if(Q=Q.firstBaseUpdate,Q!==null){do{var N={lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:null,next:null};X===null?K=X=N:X=X.next=N,Q=Q.next}while(Q!==null);X===null?K=X=J:X=X.next=J}else K=X=J;Q={baseState:q.baseState,firstBaseUpdate:K,lastBaseUpdate:X,shared:q.shared,callbacks:q.callbacks},Z.updateQueue=Q;return}Z=Q.lastBaseUpdate,Z===null?Q.firstBaseUpdate=J:Z.next=J,Q.lastBaseUpdate=J}function Dq(){if(A$){var Z=pJ;if(Z!==null)throw Z}}function Bq(Z,J,Q,q){A$=!1;var K=Z.updateQueue;b7=!1;var{firstBaseUpdate:X,lastBaseUpdate:N}=K,Y=K.shared.pending;if(Y!==null){K.shared.pending=null;var O=Y,U=O.next;O.next=null,N===null?X=U:N.next=U,N=O;var $=Z.alternate;$!==null&&($=$.updateQueue,Y=$.lastBaseUpdate,Y!==N&&(Y===null?$.firstBaseUpdate=U:Y.next=U,$.lastBaseUpdate=O))}if(X!==null){var B=K.baseState;N=0,$=U=O=null,Y=X;do{var _=Y.lane&-536870913,W=_!==Y.lane;if(W?(T0&_)===_:(q&_)===_){_!==0&&_===rJ&&(A$=!0),$!==null&&($=$.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});Z:{var w=Z,L=Y;_=J;var R=Q;switch(L.tag){case 1:if(w=L.payload,typeof w==="function"){B=w.call(R,B,_);break Z}B=w;break Z;case 3:w.flags=w.flags&-65537|128;case 0:if(w=L.payload,_=typeof w==="function"?w.call(R,B,_):w,_===null||_===void 0)break Z;B=A1({},B,_);break Z;case 2:b7=!0}}_=Y.callback,_!==null&&(Z.flags|=64,W&&(Z.flags|=8192),W=K.callbacks,W===null?K.callbacks=[_]:W.push(_))}else W={lane:_,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},$===null?(U=$=W,O=B):$=$.next=W,N|=_;if(Y=Y.next,Y===null)if(Y=K.shared.pending,Y===null)break;else W=Y,Y=W.next,W.next=null,K.lastBaseUpdate=W,K.shared.pending=null}while(1);$===null&&(O=B),K.baseState=O,K.firstBaseUpdate=U,K.lastBaseUpdate=$,X===null&&(K.shared.lanes=0),e7|=N,Z.lanes=N,Z.memoizedState=B}}function JC(Z,J){if(typeof Z!=="function")throw Error(c(191,Z));Z.call(J)}function QC(Z,J){var Q=Z.callbacks;if(Q!==null)for(Z.callbacks=null,Z=0;Z<Q.length;Z++)JC(Q[Z],J)}function Aw(Z,J){Z=u4,H1(ez,Z),H1(eJ,J),u4=Z|J.baseLanes}function $$(){H1(ez,u4),H1(eJ,eJ.current)}function H3(){u4=ez.current,Q5(eJ),Q5(ez)}function P7(Z){var J=Z.alternate;H1(b1,b1.current&1),H1(T8,Z),Z6===null&&(J===null||eJ.current!==null?Z6=Z:J.memoizedState!==null&&(Z6=Z))}function D$(Z){H1(b1,b1.current),H1(T8,Z),Z6===null&&(Z6=Z)}function qC(Z){Z.tag===22?(H1(b1,b1.current),H1(T8,Z),Z6===null&&(Z6=Z)):v7(Z)}function v7(){H1(b1,b1.current),H1(T8,T8.current)}function F8(Z){Q5(T8),Z6===Z&&(Z6=null),Q5(b1)}function ZN(Z){for(var J=Z;J!==null;){if(J.tag===13){var Q=J.memoizedState;if(Q!==null&&(Q=Q.dehydrated,Q===null||y$(Q)||h$(Q)))return J}else if(J.tag===19&&(J.memoizedProps.revealOrder==="forwards"||J.memoizedProps.revealOrder==="backwards"||J.memoizedProps.revealOrder==="unstable_legacy-backwards"||J.memoizedProps.revealOrder==="together")){if((J.flags&128)!==0)return J}else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return null;J=J.return}J.sibling.return=J.return,J=J.sibling}return null}function R1(){throw Error(c(321))}function Y3(Z,J){if(J===null)return!1;for(var Q=0;Q<J.length&&Q<Z.length;Q++)if(!I8(Z[Q],J[Q]))return!1;return!0}function V3(Z,J,Q,q,K,X){return m4=X,W0=J,J.memoizedState=null,J.updateQueue=null,J.lanes=0,O0.H=Z===null||Z.memoizedState===null?vC:F3,KZ=!1,X=Q(q,K),KZ=!1,aJ&&(X=XC(J,Q,q,K)),KC(Z),X}function KC(Z){O0.H=bq;var J=q1!==null&&q1.next!==null;if(m4=0,g1=q1=W0=null,JN=!1,Sq=0,sJ=null,J)throw Error(c(300));Z===null||c1||(Z=Z.dependencies,Z!==null&&tz(Z)&&(c1=!0))}function XC(Z,J,Q,q){W0=Z;var K=0;do{if(aJ&&(sJ=null),Sq=0,aJ=!1,25<=K)throw Error(c(301));if(K+=1,g1=q1=null,Z.updateQueue!=null){var X=Z.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}O0.H=fC,X=J(Q,q)}while(aJ);return X}function xu(){var Z=O0.H,J=Z.useState()[0];return J=typeof J.then==="function"?lq(J):J,Z=Z.useState()[0],(q1!==null?q1.memoizedState:null)!==Z&&(W0.flags|=1024),J}function O3(){var Z=QN!==0;return QN=0,Z}function U3(Z,J,Q){J.updateQueue=Z.updateQueue,J.flags&=-2053,Z.lanes&=~Q}function A3(Z){if(JN){for(Z=Z.memoizedState;Z!==null;){var J=Z.queue;J!==null&&(J.pending=null),Z=Z.next}JN=!1}m4=0,g1=q1=W0=null,aJ=!1,Sq=QN=0,sJ=null}function k5(){var Z={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return g1===null?W0.memoizedState=g1=Z:g1=g1.next=Z,g1}function k1(){if(q1===null){var Z=W0.alternate;Z=Z!==null?Z.memoizedState:null}else Z=q1.next;var J=g1===null?W0.memoizedState:g1.next;if(J!==null)g1=J,q1=Z;else{if(Z===null){if(W0.alternate===null)throw Error(c(467));throw Error(c(310))}q1=Z,Z={memoizedState:q1.memoizedState,baseState:q1.baseState,baseQueue:q1.baseQueue,queue:q1.queue,next:null},g1===null?W0.memoizedState=g1=Z:g1=g1.next=Z}return g1}function CN(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lq(Z){var J=Sq;return Sq+=1,sJ===null&&(sJ=[]),Z=rL(sJ,Z,J),J=W0,(g1===null?J.memoizedState:g1.next)===null&&(J=J.alternate,O0.H=J===null||J.memoizedState===null?vC:F3),Z}function RN(Z){if(Z!==null&&typeof Z==="object"){if(typeof Z.then==="function")return lq(Z);if(Z.$$typeof===P4)return $5(Z)}throw Error(c(438,String(Z)))}function $3(Z){var J=null,Q=W0.updateQueue;if(Q!==null&&(J=Q.memoCache),J==null){var q=W0.alternate;q!==null&&(q=q.updateQueue,q!==null&&(q=q.memoCache,q!=null&&(J={data:q.data.map(function(K){return K.slice()}),index:0})))}if(J==null&&(J={data:[],index:0}),Q===null&&(Q=CN(),W0.updateQueue=Q),Q.memoCache=J,Q=J.data[J.index],Q===void 0)for(Q=J.data[J.index]=Array(Z),q=0;q<Z;q++)Q[q]=wc;return J.index++,Q}function d4(Z,J){return typeof J==="function"?J(Z):J}function vz(Z){var J=k1();return D3(J,q1,Z)}function D3(Z,J,Q){var q=Z.queue;if(q===null)throw Error(c(311));q.lastRenderedReducer=Q;var K=Z.baseQueue,X=q.pending;if(X!==null){if(K!==null){var N=K.next;K.next=X.next,X.next=N}J.baseQueue=K=X,q.pending=null}if(X=Z.baseState,K===null)Z.memoizedState=X;else{J=K.next;var Y=N=null,O=null,U=J,$=!1;do{var B=U.lane&-536870913;if(B!==U.lane?(T0&B)===B:(m4&B)===B){var _=U.revertLane;if(_===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),B===rJ&&($=!0);else if((m4&_)===_){U=U.next,_===rJ&&($=!0);continue}else B={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=B,N=X):O=O.next=B,W0.lanes|=_,e7|=_;B=U.action,KZ&&Q(X,B),X=U.hasEagerState?U.eagerState:Q(X,B)}else _={lane:B,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=_,N=X):O=O.next=_,W0.lanes|=B,e7|=B;U=U.next}while(U!==null&&U!==J);if(O===null?N=X:O.next=Y,!I8(X,Z.memoizedState)&&(c1=!0,$&&(Q=pJ,Q!==null)))throw Q;Z.memoizedState=X,Z.baseState=N,Z.baseQueue=O,q.lastRenderedState=X}return K===null&&(q.lanes=0),[Z.memoizedState,q.dispatch]}function RA(Z){var J=k1(),Q=J.queue;if(Q===null)throw Error(c(311));Q.lastRenderedReducer=Z;var{dispatch:q,pending:K}=Q,X=J.memoizedState;if(K!==null){Q.pending=null;var N=K=K.next;do X=Z(X,N.action),N=N.next;while(N!==K);I8(X,J.memoizedState)||(c1=!0),J.memoizedState=X,J.baseQueue===null&&(J.baseState=X),Q.lastRenderedState=X}return[X,q]}function zC(Z,J,Q){var q=W0,K=k1(),X=b0;if(X){if(Q===void 0)throw Error(c(407));Q=Q()}else Q=J();var N=!I8((q1||K).memoizedState,Q);if(N&&(K.memoizedState=Q,c1=!0),K=K.queue,B3(YC.bind(null,q,K,Z),[Z]),K.getSnapshot!==J||N||g1!==null&&g1.memoizedState.tag&1){if(q.flags|=2048,Z2(9,{destroy:void 0},HC.bind(null,q,K,Q,J),null),K1===null)throw Error(c(349));X||(m4&127)!==0||NC(q,J,Q)}return Q}function NC(Z,J,Q){Z.flags|=16384,Z={getSnapshot:J,value:Q},J=W0.updateQueue,J===null?(J=CN(),W0.updateQueue=J,J.stores=[Z]):(Q=J.stores,Q===null?J.stores=[Z]:Q.push(Z))}function HC(Z,J,Q,q){J.value=Q,J.getSnapshot=q,VC(J)&&OC(Z)}function YC(Z,J,Q){return Q(function(){VC(J)&&OC(Z)})}function VC(Z){var J=Z.getSnapshot;Z=Z.value;try{var Q=J();return!I8(Z,Q)}catch(q){return!0}}function OC(Z){var J=YZ(Z,2);J!==null&&o5(J,Z,2)}function B$(Z){var J=k5();if(typeof Z==="function"){var Q=Z;if(Z=Q(),KZ){y7(!0);try{Q()}finally{y7(!1)}}}return J.memoizedState=J.baseState=Z,J.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d4,lastRenderedState:Z},J}function UC(Z,J,Q,q){return Z.baseState=Q,D3(Z,q1,typeof q==="function"?q:d4)}function gu(Z,J,Q,q,K){if(IN(Z))throw Error(c(485));if(Z=J.action,Z!==null){var X={payload:K,action:Z,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){X.listeners.push(N)}};O0.T!==null?Q(!0):X.isTransition=!1,q(X),Q=J.pending,Q===null?(X.next=J.pending=X,AC(J,X)):(X.next=Q.next,J.pending=Q.next=X)}}function AC(Z,J){var{action:Q,payload:q}=J,K=Z.state;if(J.isTransition){var X=O0.T,N={};O0.T=N;try{var Y=Q(K,q),O=O0.S;O!==null&&O(N,Y),$w(Z,J,Y)}catch(U){_$(Z,J,U)}finally{X!==null&&N.types!==null&&(X.types=N.types),O0.T=X}}else try{X=Q(K,q),$w(Z,J,X)}catch(U){_$(Z,J,U)}}function $w(Z,J,Q){Q!==null&&typeof Q==="object"&&typeof Q.then==="function"?Q.then(function(q){Dw(Z,J,q)},function(q){return _$(Z,J,q)}):Dw(Z,J,Q)}function Dw(Z,J,Q){J.status="fulfilled",J.value=Q,$C(J),Z.state=Q,J=Z.pending,J!==null&&(Q=J.next,Q===J?Z.pending=null:(Q=Q.next,J.next=Q,AC(Z,Q)))}function _$(Z,J,Q){var q=Z.pending;if(Z.pending=null,q!==null){q=q.next;do J.status="rejected",J.reason=Q,$C(J),J=J.next;while(J!==q)}Z.action=null}function $C(Z){Z=Z.listeners;for(var J=0;J<Z.length;J++)(0,Z[J])()}function DC(Z,J){return J}function Bw(Z,J){if(b0){var Q=K1.formState;if(Q!==null){Z:{var q=W0;if(b0){if(U1){J:{var K=U1;for(var X=e8;K.nodeType!==8;){if(!X){K=null;break J}if(K=J6(K.nextSibling),K===null){K=null;break J}}X=K.data,K=X==="F!"||X==="F"?K:null}if(K){U1=J6(K.nextSibling),q=K.data==="F!";break Z}}t7(q)}q=!1}q&&(J=Q[0])}}return Q=k5(),Q.memoizedState=Q.baseState=J,q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DC,lastRenderedState:J},Q.queue=q,Q=bC.bind(null,W0,q),q.dispatch=Q,q=B$(!1),X=G3.bind(null,W0,!1,q.queue),q=k5(),K={state:J,dispatch:null,action:Z,pending:null},q.queue=K,Q=gu.bind(null,W0,K,X,Q),K.dispatch=Q,q.memoizedState=Z,[J,Q,!1]}function _w(Z){var J=k1();return BC(J,q1,Z)}function BC(Z,J,Q){if(J=D3(Z,J,DC)[0],Z=vz(d4)[0],typeof J==="object"&&J!==null&&typeof J.then==="function")try{var q=lq(J)}catch(N){if(N===Y2)throw LN;throw N}else q=J;J=k1();var K=J.queue,X=K.dispatch;return Q!==J.memoizedState&&(W0.flags|=2048,Z2(9,{destroy:void 0},mu.bind(null,K,Q),null)),[q,X,Z]}function mu(Z,J){Z.action=J}function Mw(Z){var J=k1(),Q=q1;if(Q!==null)return BC(J,Q,Z);k1(),J=J.memoizedState,Q=k1();var q=Q.queue.dispatch;return Q.memoizedState=Z,[J,q,!1]}function Z2(Z,J,Q,q){return Z={tag:Z,create:Q,deps:q,inst:J,next:null},J=W0.updateQueue,J===null&&(J=CN(),W0.updateQueue=J),Q=J.lastEffect,Q===null?J.lastEffect=Z.next=Z:(q=Q.next,Q.next=Z,Z.next=q,J.lastEffect=Z),Z}function _C(){return k1().memoizedState}function fz(Z,J,Q,q){var K=k5();W0.flags|=Z,K.memoizedState=Z2(1|J,{destroy:void 0},Q,q===void 0?null:q)}function EN(Z,J,Q,q){var K=k1();q=q===void 0?null:q;var X=K.memoizedState.inst;q1!==null&&q!==null&&Y3(q,q1.memoizedState.deps)?K.memoizedState=Z2(J,X,Q,q):(W0.flags|=Z,K.memoizedState=Z2(1|J,X,Q,q))}function Ww(Z,J){fz(8390656,8,Z,J)}function B3(Z,J){EN(2048,8,Z,J)}function du(Z){W0.flags|=4;var J=W0.updateQueue;if(J===null)J=CN(),W0.updateQueue=J,J.events=[Z];else{var Q=J.events;Q===null?J.events=[Z]:Q.push(Z)}}function MC(Z){var J=k1().memoizedState;return du({ref:J,nextImpl:Z}),function(){if((m0&2)!==0)throw Error(c(440));return J.impl.apply(void 0,arguments)}}function WC(Z,J){return EN(4,2,Z,J)}function GC(Z,J){return EN(4,4,Z,J)}function FC(Z,J){if(typeof J==="function"){Z=Z();var Q=J(Z);return function(){typeof Q==="function"?Q():J(null)}}if(J!==null&&J!==void 0)return Z=Z(),J.current=Z,function(){J.current=null}}function jC(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,EN(4,4,FC.bind(null,J,Z),Q)}function _3(){}function wC(Z,J){var Q=k1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&Y3(J,q[1]))return q[0];return Q.memoizedState=[Z,J],Z}function LC(Z,J){var Q=k1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&Y3(J,q[1]))return q[0];if(q=Z(),KZ){y7(!0);try{Z()}finally{y7(!1)}}return Q.memoizedState=[q,J],q}function M3(Z,J,Q){if(Q===void 0||(m4&1073741824)!==0&&(T0&261930)===0)return Z.memoizedState=J;return Z.memoizedState=Q,Z=UR(),W0.lanes|=Z,e7|=Z,Q}function CC(Z,J,Q,q){if(I8(Q,J))return Q;if(eJ.current!==null)return Z=M3(Z,Q,q),I8(Z,J)||(c1=!0),Z;if((m4&42)===0||(m4&1073741824)!==0&&(T0&261930)===0)return c1=!0,Z.memoizedState=Q;return Z=UR(),W0.lanes|=Z,e7|=Z,J}function RC(Z,J,Q,q,K){var X=d0.p;d0.p=X!==0&&8>X?X:8;var N=O0.T,Y={};O0.T=Y,G3(Z,!1,J,Q);try{var O=K(),U=O0.S;if(U!==null&&U(Y,O),O!==null&&typeof O==="object"&&typeof O.then==="function"){var $=yu(O,q);_q(Z,J,$,E8(Z))}else _q(Z,J,q,E8(Z))}catch(B){_q(Z,J,{then:function(){},status:"rejected",reason:B},E8())}finally{d0.p=X,N!==null&&Y.types!==null&&(N.types=Y.types),O0.T=N}}function cu(){}function M$(Z,J,Q,q){if(Z.tag!==5)throw Error(c(476));var K=EC(Z).queue;RC(Z,K,J,o9,Q===null?cu:function(){return IC(Z),Q(q)})}function EC(Z){var J=Z.memoizedState;if(J!==null)return J;J={memoizedState:o9,baseState:o9,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:d4,lastRenderedState:o9},next:null};var Q={};return J.next={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:d4,lastRenderedState:Q},next:null},Z.memoizedState=J,Z=Z.alternate,Z!==null&&(Z.memoizedState=J),J}function IC(Z){var J=EC(Z);J.next===null&&(J=Z.alternate.memoizedState),_q(Z,J.next.queue,{},E8())}function W3(){return $5(vq)}function TC(){return k1().memoizedState}function SC(){return k1().memoizedState}function uu(Z){for(var J=Z.return;J!==null;){switch(J.tag){case 24:case 3:var Q=E8();Z=u7(Q);var q=l7(J,Z,Q);q!==null&&(o5(q,J,Q),$q(q,J,Q)),J={cache:K3()},Z.payload=J;return}J=J.return}}function lu(Z,J,Q){var q=E8();Q={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null},IN(Z)?kC(J,Q):(Q=Z3(Z,J,Q,q),Q!==null&&(o5(Q,Z,q),PC(Q,J,q)))}function bC(Z,J,Q){var q=E8();_q(Z,J,Q,q)}function _q(Z,J,Q,q){var K={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null};if(IN(Z))kC(J,K);else{var X=Z.alternate;if(Z.lanes===0&&(X===null||X.lanes===0)&&(X=J.lastRenderedReducer,X!==null))try{var N=J.lastRenderedState,Y=X(N,Q);if(K.hasEagerState=!0,K.eagerState=Y,I8(Y,N))return wN(Z,J,K,0),K1===null&&jN(),!1}catch(O){}finally{}if(Q=Z3(Z,J,K,q),Q!==null)return o5(Q,Z,q),PC(Q,J,q),!0}return!1}function G3(Z,J,Q,q){if(q={lane:2,revertLane:T3(),gesture:null,action:q,hasEagerState:!1,eagerState:null,next:null},IN(Z)){if(J)throw Error(c(479))}else J=Z3(Z,Q,q,2),J!==null&&o5(J,Z,2)}function IN(Z){var J=Z.alternate;return Z===W0||J!==null&&J===W0}function kC(Z,J){aJ=JN=!0;var Q=Z.pending;Q===null?J.next=J:(J.next=Q.next,Q.next=J),Z.pending=J}function PC(Z,J,Q){if((Q&4194048)!==0){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,ML(Z,Q)}}function EA(Z,J,Q,q){J=Z.memoizedState,Q=Q(q,J),Q=Q===null||Q===void 0?J:A1({},J,Q),Z.memoizedState=Q,Z.lanes===0&&(Z.updateQueue.baseState=Q)}function Gw(Z,J,Q,q,K,X,N){return Z=Z.stateNode,typeof Z.shouldComponentUpdate==="function"?Z.shouldComponentUpdate(q,X,N):J.prototype&&J.prototype.isPureReactComponent?!Rq(Q,q)||!Rq(K,X):!0}function Fw(Z,J,Q,q){Z=J.state,typeof J.componentWillReceiveProps==="function"&&J.componentWillReceiveProps(Q,q),typeof J.UNSAFE_componentWillReceiveProps==="function"&&J.UNSAFE_componentWillReceiveProps(Q,q),J.state!==Z&&W$.enqueueReplaceState(J,J.state,null)}function XZ(Z,J){var Q=J;if("ref"in J){Q={};for(var q in J)q!=="ref"&&(Q[q]=J[q])}if(Z=Z.defaultProps){Q===J&&(Q=A1({},Q));for(var K in Z)Q[K]===void 0&&(Q[K]=Z[K])}return Q}function yC(Z){sz(Z)}function hC(Z){console.error(Z)}function xC(Z){sz(Z)}function qN(Z,J){try{var Q=Z.onUncaughtError;Q(J.value,{componentStack:J.stack})}catch(q){setTimeout(function(){throw q})}}function jw(Z,J,Q){try{var q=Z.onCaughtError;q(Q.value,{componentStack:Q.stack,errorBoundary:J.tag===1?J.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function G$(Z,J,Q){return Q=u7(Q),Q.tag=3,Q.payload={element:null},Q.callback=function(){qN(Z,J)},Q}function gC(Z){return Z=u7(Z),Z.tag=3,Z}function mC(Z,J,Q,q){var K=Q.type.getDerivedStateFromError;if(typeof K==="function"){var X=q.value;Z.payload=function(){return K(X)},Z.callback=function(){jw(J,Q,q)}}var N=Q.stateNode;N!==null&&typeof N.componentDidCatch==="function"&&(Z.callback=function(){jw(J,Q,q),typeof K!=="function"&&(p7===null?p7=new Set([this]):p7.add(this));var Y=q.stack;this.componentDidCatch(q.value,{componentStack:Y!==null?Y:""})})}function pu(Z,J,Q,q,K){if(Q.flags|=32768,q!==null&&typeof q==="object"&&typeof q.then==="function"){if(J=Q.alternate,J!==null&&H2(J,Q,K,!0),Q=T8.current,Q!==null){switch(Q.tag){case 31:case 13:return Z6===null?HN():Q.alternate===null&&E1===0&&(E1=3),Q.flags&=-257,Q.flags|=65536,Q.lanes=K,q===rz?Q.flags|=16384:(J=Q.updateQueue,J===null?Q.updateQueue=new Set([q]):J.add(q),xA(Z,q,K)),!1;case 22:return Q.flags|=65536,q===rz?Q.flags|=16384:(J=Q.updateQueue,J===null?(J={transitions:null,markerInstances:null,retryQueue:new Set([q])},Q.updateQueue=J):(Q=J.retryQueue,Q===null?J.retryQueue=new Set([q]):Q.add(q)),xA(Z,q,K)),!1}throw Error(c(435,Q.tag))}return xA(Z,q,K),HN(),!1}if(b0)return J=T8.current,J!==null?((J.flags&65536)===0&&(J.flags|=256),J.flags|=65536,J.lanes=K,q!==N$&&(Z=Error(c(422),{cause:q}),Iq(r8(Z,Q)))):(q!==N$&&(J=Error(c(423),{cause:q}),Iq(r8(J,Q))),Z=Z.current.alternate,Z.flags|=65536,K&=-K,Z.lanes|=K,q=r8(q,Q),K=G$(Z.stateNode,q,K),CA(Z,K),E1!==4&&(E1=2)),!1;var X=Error(c(520),{cause:q});if(X=r8(X,Q),Gq===null?Gq=[X]:Gq.push(X),E1!==4&&(E1=2),J===null)return!0;q=r8(q,Q),Q=J;do{switch(Q.tag){case 3:return Q.flags|=65536,Z=K&-K,Q.lanes|=Z,Z=G$(Q.stateNode,q,Z),CA(Q,Z),!1;case 1:if(J=Q.type,X=Q.stateNode,(Q.flags&128)===0&&(typeof J.getDerivedStateFromError==="function"||X!==null&&typeof X.componentDidCatch==="function"&&(p7===null||!p7.has(X))))return Q.flags|=65536,K&=-K,Q.lanes|=K,K=gC(K),mC(K,Z,Q,q),CA(Q,K),!1}Q=Q.return}while(Q!==null);return!1}function O5(Z,J,Q,q){J.child=Z===null?ZC(J,null,Q,q):qZ(J,Z.child,Q,q)}function ww(Z,J,Q,q,K){Q=Q.render;var X=J.ref;if("ref"in q){var N={};for(var Y in q)Y!=="ref"&&(N[Y]=q[Y])}else N=q;if(QZ(J),q=V3(Z,J,Q,N,X,K),Y=O3(),Z!==null&&!c1)return U3(Z,J,K),c4(Z,J,K);return b0&&Y&&Q3(J),J.flags|=1,O5(Z,J,q,K),J.child}function Lw(Z,J,Q,q,K){if(Z===null){var X=Q.type;if(typeof X==="function"&&!J3(X)&&X.defaultProps===void 0&&Q.compare===null)return J.tag=15,J.type=X,dC(Z,J,X,q,K);return Z=kz(Q.type,null,q,J,J.mode,K),Z.ref=J.ref,Z.return=J,J.child=Z}if(X=Z.child,!w3(Z,K)){var N=X.memoizedProps;if(Q=Q.compare,Q=Q!==null?Q:Rq,Q(N,q)&&Z.ref===J.ref)return c4(Z,J,K)}return J.flags|=1,Z=y4(X,q),Z.ref=J.ref,Z.return=J,J.child=Z}function dC(Z,J,Q,q,K){if(Z!==null){var X=Z.memoizedProps;if(Rq(X,q)&&Z.ref===J.ref)if(c1=!1,J.pendingProps=q=X,w3(Z,K))(Z.flags&131072)!==0&&(c1=!0);else return J.lanes=Z.lanes,c4(Z,J,K)}return F$(Z,J,Q,q,K)}function cC(Z,J,Q,q){var K=q.children,X=Z!==null?Z.memoizedState:null;if(Z===null&&J.stateNode===null&&(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),q.mode==="hidden"){if((J.flags&128)!==0){if(X=X!==null?X.baseLanes|Q:Q,Z!==null){q=J.child=Z.child;for(K=0;q!==null;)K=K|q.lanes|q.childLanes,q=q.sibling;q=K&~X}else q=0,J.child=null;return Cw(Z,J,X,Q,q)}if((Q&536870912)!==0)J.memoizedState={baseLanes:0,cachePool:null},Z!==null&&Pz(J,X!==null?X.cachePool:null),X!==null?Aw(J,X):$$(),qC(J);else return q=J.lanes=536870912,Cw(Z,J,X!==null?X.baseLanes|Q:Q,Q,q)}else X!==null?(Pz(J,X.cachePool),Aw(J,X),v7(J),J.memoizedState=null):(Z!==null&&Pz(J,null),$$(),v7(J));return O5(Z,J,K,Q),J.child}function zq(Z,J){return Z!==null&&Z.tag===22||J.stateNode!==null||(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),J.sibling}function Cw(Z,J,Q,q,K){var X=X3();return X=X===null?null:{parent:d1._currentValue,pool:X},J.memoizedState={baseLanes:Q,cachePool:X},Z!==null&&Pz(J,null),$$(),qC(J),Z!==null&&H2(Z,J,q,!0),J.childLanes=K,null}function yz(Z,J){return J=KN({mode:J.mode,children:J.children},Z.mode),J.ref=Z.ref,Z.child=J,J.return=Z,J}function Rw(Z,J,Q){return qZ(J,Z.child,null,Q),Z=yz(J,J.pendingProps),Z.flags|=2,F8(J),J.memoizedState=null,Z}function iu(Z,J,Q){var q=J.pendingProps,K=(J.flags&128)!==0;if(J.flags&=-129,Z===null){if(b0){if(q.mode==="hidden")return Z=yz(J,q),J.lanes=536870912,zq(null,Z);if(D$(J),(Z=U1)?(Z=vR(Z,e8),Z=Z!==null&&Z.data==="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:o7!==null?{id:p6,overflow:i6}:null,retryLane:536870912,hydrationErrors:null},Q=aL(Z),Q.return=J,J.child=Q,A5=J,U1=null)):Z=null,Z===null)throw t7(J);return J.lanes=536870912,null}return yz(J,q)}var X=Z.memoizedState;if(X!==null){var N=X.dehydrated;if(D$(J),K)if(J.flags&256)J.flags&=-257,J=Rw(Z,J,Q);else if(J.memoizedState!==null)J.child=Z.child,J.flags|=128,J=null;else throw Error(c(558));else if(c1||H2(Z,J,Q,!1),K=(Q&Z.childLanes)!==0,c1||K){if(q=K1,q!==null&&(N=WL(q,Q),N!==0&&N!==X.retryLane))throw X.retryLane=N,YZ(Z,N),o5(q,Z,N),j3;HN(),J=Rw(Z,J,Q)}else Z=X.treeContext,U1=J6(N.nextSibling),A5=J,b0=!0,c7=null,e8=!1,Z!==null&&nL(J,Z),J=yz(J,q),J.flags|=4096;return J}return Z=y4(Z.child,{mode:q.mode,children:q.children}),Z.ref=J.ref,J.child=Z,Z.return=J,Z}function hz(Z,J){var Q=J.ref;if(Q===null)Z!==null&&Z.ref!==null&&(J.flags|=4194816);else{if(typeof Q!=="function"&&typeof Q!=="object")throw Error(c(284));if(Z===null||Z.ref!==Q)J.flags|=4194816}}function F$(Z,J,Q,q,K){if(QZ(J),Q=V3(Z,J,Q,q,void 0,K),q=O3(),Z!==null&&!c1)return U3(Z,J,K),c4(Z,J,K);return b0&&q&&Q3(J),J.flags|=1,O5(Z,J,Q,K),J.child}function Ew(Z,J,Q,q,K,X){if(QZ(J),J.updateQueue=null,Q=XC(J,q,Q,K),KC(Z),q=O3(),Z!==null&&!c1)return U3(Z,J,X),c4(Z,J,X);return b0&&q&&Q3(J),J.flags|=1,O5(Z,J,Q,X),J.child}function Iw(Z,J,Q,q,K){if(QZ(J),J.stateNode===null){var X=xJ,N=Q.contextType;typeof N==="object"&&N!==null&&(X=$5(N)),X=new Q(q,X),J.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=W$,J.stateNode=X,X._reactInternals=J,X=J.stateNode,X.props=q,X.state=J.memoizedState,X.refs={},N3(J),N=Q.contextType,X.context=typeof N==="object"&&N!==null?$5(N):xJ,X.state=J.memoizedState,N=Q.getDerivedStateFromProps,typeof N==="function"&&(EA(J,Q,N,q),X.state=J.memoizedState),typeof Q.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(N=X.state,typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount(),N!==X.state&&W$.enqueueReplaceState(X,X.state,null),Bq(J,q,X,K),Dq(),X.state=J.memoizedState),typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!0}else if(Z===null){X=J.stateNode;var Y=J.memoizedProps,O=XZ(Q,Y);X.props=O;var U=X.context,$=Q.contextType;N=xJ,typeof $==="object"&&$!==null&&(N=$5($));var B=Q.getDerivedStateFromProps;$=typeof B==="function"||typeof X.getSnapshotBeforeUpdate==="function",Y=J.pendingProps!==Y,$||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(Y||U!==N)&&Fw(J,X,q,N),b7=!1;var _=J.memoizedState;X.state=_,Bq(J,q,X,K),Dq(),U=J.memoizedState,Y||_!==U||b7?(typeof B==="function"&&(EA(J,Q,B,q),U=J.memoizedState),(O=b7||Gw(J,Q,O,q,_,U,N))?($||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount==="function"&&(J.flags|=4194308)):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),J.memoizedProps=q,J.memoizedState=U),X.props=q,X.state=U,X.context=N,q=O):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!1)}else{X=J.stateNode,U$(Z,J),N=J.memoizedProps,$=XZ(Q,N),X.props=$,B=J.pendingProps,_=X.context,U=Q.contextType,O=xJ,typeof U==="object"&&U!==null&&(O=$5(U)),Y=Q.getDerivedStateFromProps,(U=typeof Y==="function"||typeof X.getSnapshotBeforeUpdate==="function")||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(N!==B||_!==O)&&Fw(J,X,q,O),b7=!1,_=J.memoizedState,X.state=_,Bq(J,q,X,K),Dq();var W=J.memoizedState;N!==B||_!==W||b7||Z!==null&&Z.dependencies!==null&&tz(Z.dependencies)?(typeof Y==="function"&&(EA(J,Q,Y,q),W=J.memoizedState),($=b7||Gw(J,Q,$,q,_,W,O)||Z!==null&&Z.dependencies!==null&&tz(Z.dependencies))?(U||typeof X.UNSAFE_componentWillUpdate!=="function"&&typeof X.componentWillUpdate!=="function"||(typeof X.componentWillUpdate==="function"&&X.componentWillUpdate(q,W,O),typeof X.UNSAFE_componentWillUpdate==="function"&&X.UNSAFE_componentWillUpdate(q,W,O)),typeof X.componentDidUpdate==="function"&&(J.flags|=4),typeof X.getSnapshotBeforeUpdate==="function"&&(J.flags|=1024)):(typeof X.componentDidUpdate!=="function"||N===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||N===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),J.memoizedProps=q,J.memoizedState=W),X.props=q,X.state=W,X.context=O,q=$):(typeof X.componentDidUpdate!=="function"||N===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||N===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),q=!1)}return X=q,hz(Z,J),q=(J.flags&128)!==0,X||q?(X=J.stateNode,Q=q&&typeof Q.getDerivedStateFromError!=="function"?null:X.render(),J.flags|=1,Z!==null&&q?(J.child=qZ(J,Z.child,null,K),J.child=qZ(J,null,Q,K)):O5(Z,J,Q,K),J.memoizedState=X.state,Z=J.child):Z=c4(Z,J,K),Z}function Tw(Z,J,Q,q){return JZ(),J.flags|=256,O5(Z,J,Q,q),J.child}function TA(Z){return{baseLanes:Z,cachePool:tL()}}function SA(Z,J,Q){return Z=Z!==null?Z.childLanes&~Q:0,J&&(Z|=w8),Z}function uC(Z,J,Q){var q=J.pendingProps,K=!1,X=(J.flags&128)!==0,N;if((N=X)||(N=Z!==null&&Z.memoizedState===null?!1:(b1.current&2)!==0),N&&(K=!0,J.flags&=-129),N=(J.flags&32)!==0,J.flags&=-33,Z===null){if(b0){if(K?P7(J):v7(J),(Z=U1)?(Z=vR(Z,e8),Z=Z!==null&&Z.data!=="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:o7!==null?{id:p6,overflow:i6}:null,retryLane:536870912,hydrationErrors:null},Q=aL(Z),Q.return=J,J.child=Q,A5=J,U1=null)):Z=null,Z===null)throw t7(J);return h$(Z)?J.lanes=32:J.lanes=536870912,null}var Y=q.children;if(q=q.fallback,K)return v7(J),K=J.mode,Y=KN({mode:"hidden",children:Y},K),q=t9(q,K,Q,null),Y.return=J,q.return=J,Y.sibling=q,J.child=Y,q=J.child,q.memoizedState=TA(Q),q.childLanes=SA(Z,N,Q),J.memoizedState=IA,zq(null,q);return P7(J),j$(J,Y)}var O=Z.memoizedState;if(O!==null&&(Y=O.dehydrated,Y!==null)){if(X)J.flags&256?(P7(J),J.flags&=-257,J=bA(Z,J,Q)):J.memoizedState!==null?(v7(J),J.child=Z.child,J.flags|=128,J=null):(v7(J),Y=q.fallback,K=J.mode,q=KN({mode:"visible",children:q.children},K),Y=t9(Y,K,Q,null),Y.flags|=2,q.return=J,Y.return=J,q.sibling=Y,J.child=q,qZ(J,Z.child,null,Q),q=J.child,q.memoizedState=TA(Q),q.childLanes=SA(Z,N,Q),J.memoizedState=IA,J=zq(null,q));else if(P7(J),h$(Y)){if(N=Y.nextSibling&&Y.nextSibling.dataset,N)var U=N.dgst;N=U,q=Error(c(419)),q.stack="",q.digest=N,Iq({value:q,source:null,stack:null}),J=bA(Z,J,Q)}else if(c1||H2(Z,J,Q,!1),N=(Q&Z.childLanes)!==0,c1||N){if(N=K1,N!==null&&(q=WL(N,Q),q!==0&&q!==O.retryLane))throw O.retryLane=q,YZ(Z,q),o5(N,Z,q),j3;y$(Y)||HN(),J=bA(Z,J,Q)}else y$(Y)?(J.flags|=192,J.child=Z.child,J=null):(Z=O.treeContext,U1=J6(Y.nextSibling),A5=J,b0=!0,c7=null,e8=!1,Z!==null&&nL(J,Z),J=j$(J,q.children),J.flags|=4096);return J}if(K)return v7(J),Y=q.fallback,K=J.mode,O=Z.child,U=O.sibling,q=y4(O,{mode:"hidden",children:q.children}),q.subtreeFlags=O.subtreeFlags&65011712,U!==null?Y=y4(U,Y):(Y=t9(Y,K,Q,null),Y.flags|=2),Y.return=J,q.return=J,q.sibling=Y,J.child=q,zq(null,q),q=J.child,Y=Z.child.memoizedState,Y===null?Y=TA(Q):(K=Y.cachePool,K!==null?(O=d1._currentValue,K=K.parent!==O?{parent:O,pool:O}:K):K=tL(),Y={baseLanes:Y.baseLanes|Q,cachePool:K}),q.memoizedState=Y,q.childLanes=SA(Z,N,Q),J.memoizedState=IA,zq(Z.child,q);return P7(J),Q=Z.child,Z=Q.sibling,Q=y4(Q,{mode:"visible",children:q.children}),Q.return=J,Q.sibling=null,Z!==null&&(N=J.deletions,N===null?(J.deletions=[Z],J.flags|=16):N.push(Z)),J.child=Q,J.memoizedState=null,Q}function j$(Z,J){return J=KN({mode:"visible",children:J},Z.mode),J.return=Z,Z.child=J}function KN(Z,J){return Z=j8(22,Z,null,J),Z.lanes=0,Z}function bA(Z,J,Q){return qZ(J,Z.child,null,Q),Z=j$(J,J.pendingProps.children),Z.flags|=2,J.memoizedState=null,Z}function Sw(Z,J,Q){Z.lanes|=J;var q=Z.alternate;q!==null&&(q.lanes|=J),Y$(Z.return,J,Q)}function kA(Z,J,Q,q,K,X){var N=Z.memoizedState;N===null?Z.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:q,tail:Q,tailMode:K,treeForkCount:X}:(N.isBackwards=J,N.rendering=null,N.renderingStartTime=0,N.last=q,N.tail=Q,N.tailMode=K,N.treeForkCount=X)}function lC(Z,J,Q){var q=J.pendingProps,K=q.revealOrder,X=q.tail;q=q.children;var N=b1.current,Y=(N&2)!==0;if(Y?(N=N&1|2,J.flags|=128):N&=1,H1(b1,N),O5(Z,J,q,Q),q=b0?Eq:0,!Y&&Z!==null&&(Z.flags&128)!==0)Z:for(Z=J.child;Z!==null;){if(Z.tag===13)Z.memoizedState!==null&&Sw(Z,Q,J);else if(Z.tag===19)Sw(Z,Q,J);else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===J)break Z;for(;Z.sibling===null;){if(Z.return===null||Z.return===J)break Z;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}switch(K){case"forwards":Q=J.child;for(K=null;Q!==null;)Z=Q.alternate,Z!==null&&ZN(Z)===null&&(K=Q),Q=Q.sibling;Q=K,Q===null?(K=J.child,J.child=null):(K=Q.sibling,Q.sibling=null),kA(J,!1,K,Q,X,q);break;case"backwards":case"unstable_legacy-backwards":Q=null,K=J.child;for(J.child=null;K!==null;){if(Z=K.alternate,Z!==null&&ZN(Z)===null){J.child=K;break}Z=K.sibling,K.sibling=Q,Q=K,K=Z}kA(J,!0,Q,null,X,q);break;case"together":kA(J,!1,null,null,void 0,q);break;default:J.memoizedState=null}return J.child}function c4(Z,J,Q){if(Z!==null&&(J.dependencies=Z.dependencies),e7|=J.lanes,(Q&J.childLanes)===0)if(Z!==null){if(H2(Z,J,Q,!1),(Q&J.childLanes)===0)return null}else return null;if(Z!==null&&J.child!==Z.child)throw Error(c(153));if(J.child!==null){Z=J.child,Q=y4(Z,Z.pendingProps),J.child=Q;for(Q.return=J;Z.sibling!==null;)Z=Z.sibling,Q=Q.sibling=y4(Z,Z.pendingProps),Q.return=J;Q.sibling=null}return J.child}function w3(Z,J){if((Z.lanes&J)!==0)return!0;return Z=Z.dependencies,Z!==null&&tz(Z)?!0:!1}function au(Z,J,Q){switch(J.tag){case 3:lz(J,J.stateNode.containerInfo),k7(J,d1,Z.memoizedState.cache),JZ();break;case 27:case 5:oA(J);break;case 4:lz(J,J.stateNode.containerInfo);break;case 10:k7(J,J.type,J.memoizedProps.value);break;case 31:if(J.memoizedState!==null)return J.flags|=128,D$(J),null;break;case 13:var q=J.memoizedState;if(q!==null){if(q.dehydrated!==null)return P7(J),J.flags|=128,null;if((Q&J.child.childLanes)!==0)return uC(Z,J,Q);return P7(J),Z=c4(Z,J,Q),Z!==null?Z.sibling:null}P7(J);break;case 19:var K=(Z.flags&128)!==0;if(q=(Q&J.childLanes)!==0,q||(H2(Z,J,Q,!1),q=(Q&J.childLanes)!==0),K){if(q)return lC(Z,J,Q);J.flags|=128}if(K=J.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),H1(b1,b1.current),q)break;else return null;case 22:return J.lanes=0,cC(Z,J,Q,J.pendingProps);case 24:k7(J,d1,Z.memoizedState.cache)}return c4(Z,J,Q)}function pC(Z,J,Q){if(Z!==null)if(Z.memoizedProps!==J.pendingProps)c1=!0;else{if(!w3(Z,Q)&&(J.flags&128)===0)return c1=!1,au(Z,J,Q);c1=(Z.flags&131072)!==0?!0:!1}else c1=!1,b0&&(J.flags&1048576)!==0&&sL(J,Eq,J.index);switch(J.lanes=0,J.tag){case 16:Z:{var q=J.pendingProps;if(Z=s9(J.elementType),J.type=Z,typeof Z==="function")J3(Z)?(q=XZ(Z,q),J.tag=1,J=Iw(null,J,Z,q,Q)):(J.tag=0,J=F$(null,J,Z,q,Q));else{if(Z!==void 0&&Z!==null){var K=Z.$$typeof;if(K===d$){J.tag=11,J=ww(null,J,Z,q,Q);break Z}else if(K===c$){J.tag=14,J=Lw(null,J,Z,q,Q);break Z}}throw J=sA(Z)||Z,Error(c(306,J,""))}}return J;case 0:return F$(Z,J,J.type,J.pendingProps,Q);case 1:return q=J.type,K=XZ(q,J.pendingProps),Iw(Z,J,q,K,Q);case 3:Z:{if(lz(J,J.stateNode.containerInfo),Z===null)throw Error(c(387));q=J.pendingProps;var X=J.memoizedState;K=X.element,U$(Z,J),Bq(J,q,null,Q);var N=J.memoizedState;if(q=N.cache,k7(J,d1,q),q!==X.cache&&V$(J,[d1],Q,!0),Dq(),q=N.element,X.isDehydrated)if(X={element:q,isDehydrated:!1,cache:N.cache},J.updateQueue.baseState=X,J.memoizedState=X,J.flags&256){J=Tw(Z,J,q,Q);break Z}else if(q!==K){K=r8(Error(c(424)),J),Iq(K),J=Tw(Z,J,q,Q);break Z}else{switch(Z=J.stateNode.containerInfo,Z.nodeType){case 9:Z=Z.body;break;default:Z=Z.nodeName==="HTML"?Z.ownerDocument.body:Z}U1=J6(Z.firstChild),A5=J,b0=!0,c7=null,e8=!0,Q=ZC(J,null,q,Q);for(J.child=Q;Q;)Q.flags=Q.flags&-3|4096,Q=Q.sibling}else{if(JZ(),q===K){J=c4(Z,J,Q);break Z}O5(Z,J,q,Q)}J=J.child}return J;case 26:return hz(Z,J),Z===null?(Q=ow(J.type,null,J.pendingProps,null))?J.memoizedState=Q:b0||(Q=J.type,Z=J.pendingProps,q=UN(d7.current).createElement(Q),q[U5]=J,q[t5]=Z,D5(q,Q,Z),J5(q),J.stateNode=q):J.memoizedState=ow(J.type,Z.memoizedProps,J.pendingProps,Z.memoizedState),null;case 27:return oA(J),Z===null&&b0&&(q=J.stateNode=fR(J.type,J.pendingProps,d7.current),A5=J,e8=!0,K=U1,J9(J.type)?(x$=K,U1=J6(q.firstChild)):U1=K),O5(Z,J,J.pendingProps.children,Q),hz(Z,J),Z===null&&(J.flags|=4194304),J.child;case 5:if(Z===null&&b0){if(K=q=U1)q=Fl(q,J.type,J.pendingProps,e8),q!==null?(J.stateNode=q,A5=J,U1=J6(q.firstChild),e8=!1,K=!0):K=!1;K||t7(J)}return oA(J),K=J.type,X=J.pendingProps,N=Z!==null?Z.memoizedProps:null,q=X.children,v$(K,X)?q=null:N!==null&&v$(K,N)&&(J.flags|=32),J.memoizedState!==null&&(K=V3(Z,J,xu,null,null,Q),vq._currentValue=K),hz(Z,J),O5(Z,J,q,Q),J.child;case 6:if(Z===null&&b0){if(Z=Q=U1)Q=jl(Q,J.pendingProps,e8),Q!==null?(J.stateNode=Q,A5=J,U1=null,Z=!0):Z=!1;Z||t7(J)}return null;case 13:return uC(Z,J,Q);case 4:return lz(J,J.stateNode.containerInfo),q=J.pendingProps,Z===null?J.child=qZ(J,null,q,Q):O5(Z,J,q,Q),J.child;case 11:return ww(Z,J,J.type,J.pendingProps,Q);case 7:return O5(Z,J,J.pendingProps,Q),J.child;case 8:return O5(Z,J,J.pendingProps.children,Q),J.child;case 12:return O5(Z,J,J.pendingProps.children,Q),J.child;case 10:return q=J.pendingProps,k7(J,J.type,q.value),O5(Z,J,q.children,Q),J.child;case 9:return K=J.type._context,q=J.pendingProps.children,QZ(J),K=$5(K),q=q(K),J.flags|=1,O5(Z,J,q,Q),J.child;case 14:return Lw(Z,J,J.type,J.pendingProps,Q);case 15:return dC(Z,J,J.type,J.pendingProps,Q);case 19:return lC(Z,J,Q);case 31:return iu(Z,J,Q);case 22:return cC(Z,J,Q,J.pendingProps);case 24:return QZ(J),q=$5(d1),Z===null?(K=X3(),K===null&&(K=K1,X=K3(),K.pooledCache=X,X.refCount++,X!==null&&(K.pooledCacheLanes|=Q),K=X),J.memoizedState={parent:q,cache:K},N3(J),k7(J,d1,K)):((Z.lanes&Q)!==0&&(U$(Z,J),Bq(J,null,null,Q),Dq()),K=Z.memoizedState,X=J.memoizedState,K.parent!==q?(K={parent:q,cache:q},J.memoizedState=K,J.lanes===0&&(J.memoizedState=J.updateQueue.baseState=K),k7(J,d1,q)):(q=X.cache,k7(J,d1,q),q!==K.cache&&V$(J,[d1],Q,!0))),O5(Z,J,J.pendingProps.children,Q),J.child;case 29:throw J.pendingProps}throw Error(c(156,J.tag))}function E4(Z){Z.flags|=4}function PA(Z,J,Q,q,K){if(J=(Z.mode&32)!==0)J=!1;if(J){if(Z.flags|=16777216,(K&335544128)===K)if(Z.stateNode.complete)Z.flags|=8192;else if(DR())Z.flags|=8192;else throw e9=rz,z3}else Z.flags&=-16777217}function bw(Z,J){if(J.type!=="stylesheet"||(J.state.loading&4)!==0)Z.flags&=-16777217;else if(Z.flags|=16777216,!xR(J))if(DR())Z.flags|=8192;else throw e9=rz,z3}function jz(Z,J){J!==null&&(Z.flags|=4),Z.flags&16384&&(J=Z.tag!==22?BL():536870912,Z.lanes|=J,J2|=J)}function rQ(Z,J){if(!b0)switch(Z.tailMode){case"hidden":J=Z.tail;for(var Q=null;J!==null;)J.alternate!==null&&(Q=J),J=J.sibling;Q===null?Z.tail=null:Q.sibling=null;break;case"collapsed":Q=Z.tail;for(var q=null;Q!==null;)Q.alternate!==null&&(q=Q),Q=Q.sibling;q===null?J||Z.tail===null?Z.tail=null:Z.tail.sibling=null:q.sibling=null}}function O1(Z){var J=Z.alternate!==null&&Z.alternate.child===Z.child,Q=0,q=0;if(J)for(var K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags&65011712,q|=K.flags&65011712,K.return=Z,K=K.sibling;else for(K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags,q|=K.flags,K.return=Z,K=K.sibling;return Z.subtreeFlags|=q,Z.childLanes=Q,J}function su(Z,J,Q){var q=J.pendingProps;switch(q3(J),J.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return O1(J),null;case 1:return O1(J),null;case 3:if(Q=J.stateNode,q=null,Z!==null&&(q=Z.memoizedState.cache),J.memoizedState.cache!==q&&(J.flags|=2048),h4(d1),nJ(),Q.pendingContext&&(Q.context=Q.pendingContext,Q.pendingContext=null),Z===null||Z.child===null)CJ(J)?E4(J):Z===null||Z.memoizedState.isDehydrated&&(J.flags&256)===0||(J.flags|=1024,LA());return O1(J),null;case 26:var{type:K,memoizedState:X}=J;return Z===null?(E4(J),X!==null?(O1(J),bw(J,X)):(O1(J),PA(J,K,null,q,Q))):X?X!==Z.memoizedState?(E4(J),O1(J),bw(J,X)):(O1(J),J.flags&=-16777217):(Z=Z.memoizedProps,Z!==q&&E4(J),O1(J),PA(J,K,Z,q,Q)),null;case 27:if(pz(J),Q=d7.current,K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&E4(J);else{if(!q){if(J.stateNode===null)throw Error(c(166));return O1(J),null}Z=s6.current,CJ(J)?zw(J,Z):(Z=fR(K,q,Q),J.stateNode=Z,E4(J))}return O1(J),null;case 5:if(pz(J),K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&E4(J);else{if(!q){if(J.stateNode===null)throw Error(c(166));return O1(J),null}if(X=s6.current,CJ(J))zw(J,X);else{var N=UN(d7.current);switch(X){case 1:X=N.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:X=N.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":X=N.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":X=N.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":X=N.createElement("div"),X.innerHTML="<script></script>",X=X.removeChild(X.firstChild);break;case"select":X=typeof q.is==="string"?N.createElement("select",{is:q.is}):N.createElement("select"),q.multiple?X.multiple=!0:q.size&&(X.size=q.size);break;default:X=typeof q.is==="string"?N.createElement(K,{is:q.is}):N.createElement(K)}}X[U5]=J,X[t5]=q;Z:for(N=J.child;N!==null;){if(N.tag===5||N.tag===6)X.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===J)break Z;for(;N.sibling===null;){if(N.return===null||N.return===J)break Z;N=N.return}N.sibling.return=N.return,N=N.sibling}J.stateNode=X;Z:switch(D5(X,K,q),K){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break Z;case"img":q=!0;break Z;default:q=!1}q&&E4(J)}}return O1(J),PA(J,J.type,Z===null?null:Z.memoizedProps,J.pendingProps,Q),null;case 6:if(Z&&J.stateNode!=null)Z.memoizedProps!==q&&E4(J);else{if(typeof q!=="string"&&J.stateNode===null)throw Error(c(166));if(Z=d7.current,CJ(J)){if(Z=J.stateNode,Q=J.memoizedProps,q=null,K=A5,K!==null)switch(K.tag){case 27:case 5:q=K.memoizedProps}Z[U5]=J,Z=Z.nodeValue===Q||q!==null&&q.suppressHydrationWarning===!0||bR(Z.nodeValue,Q)?!0:!1,Z||t7(J,!0)}else Z=UN(Z).createTextNode(q),Z[U5]=J,J.stateNode=Z}return O1(J),null;case 31:if(Q=J.memoizedState,Z===null||Z.memoizedState!==null){if(q=CJ(J),Q!==null){if(Z===null){if(!q)throw Error(c(318));if(Z=J.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(c(557));Z[U5]=J}else JZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;O1(J),Z=!1}else Q=LA(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=Q),Z=!0;if(!Z){if(J.flags&256)return F8(J),J;return F8(J),null}if((J.flags&128)!==0)throw Error(c(558))}return O1(J),null;case 13:if(q=J.memoizedState,Z===null||Z.memoizedState!==null&&Z.memoizedState.dehydrated!==null){if(K=CJ(J),q!==null&&q.dehydrated!==null){if(Z===null){if(!K)throw Error(c(318));if(K=J.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(c(317));K[U5]=J}else JZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;O1(J),K=!1}else K=LA(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=K),K=!0;if(!K){if(J.flags&256)return F8(J),J;return F8(J),null}}if(F8(J),(J.flags&128)!==0)return J.lanes=Q,J;return Q=q!==null,Z=Z!==null&&Z.memoizedState!==null,Q&&(q=J.child,K=null,q.alternate!==null&&q.alternate.memoizedState!==null&&q.alternate.memoizedState.cachePool!==null&&(K=q.alternate.memoizedState.cachePool.pool),X=null,q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(X=q.memoizedState.cachePool.pool),X!==K&&(q.flags|=2048)),Q!==Z&&Q&&(J.child.flags|=8192),jz(J,J.updateQueue),O1(J),null;case 4:return nJ(),Z===null&&S3(J.stateNode.containerInfo),O1(J),null;case 10:return h4(J.type),O1(J),null;case 19:if(Q5(b1),q=J.memoizedState,q===null)return O1(J),null;if(K=(J.flags&128)!==0,X=q.rendering,X===null)if(K)rQ(q,!1);else{if(E1!==0||Z!==null&&(Z.flags&128)!==0)for(Z=J.child;Z!==null;){if(X=ZN(Z),X!==null){J.flags|=128,rQ(q,!1),Z=X.updateQueue,J.updateQueue=Z,jz(J,Z),J.subtreeFlags=0,Z=Q;for(Q=J.child;Q!==null;)iL(Q,Z),Q=Q.sibling;return H1(b1,b1.current&1|2),b0&&b4(J,q.treeForkCount),J.child}Z=Z.sibling}q.tail!==null&&L8()>zN&&(J.flags|=128,K=!0,rQ(q,!1),J.lanes=4194304)}else{if(!K)if(Z=ZN(X),Z!==null){if(J.flags|=128,K=!0,Z=Z.updateQueue,J.updateQueue=Z,jz(J,Z),rQ(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!b0)return O1(J),null}else 2*L8()-q.renderingStartTime>zN&&Q!==536870912&&(J.flags|=128,K=!0,rQ(q,!1),J.lanes=4194304);q.isBackwards?(X.sibling=J.child,J.child=X):(Z=q.last,Z!==null?Z.sibling=X:J.child=X,q.last=X)}if(q.tail!==null)return Z=q.tail,q.rendering=Z,q.tail=Z.sibling,q.renderingStartTime=L8(),Z.sibling=null,Q=b1.current,H1(b1,K?Q&1|2:Q&1),b0&&b4(J,q.treeForkCount),Z;return O1(J),null;case 22:case 23:return F8(J),H3(),q=J.memoizedState!==null,Z!==null?Z.memoizedState!==null!==q&&(J.flags|=8192):q&&(J.flags|=8192),q?(Q&536870912)!==0&&(J.flags&128)===0&&(O1(J),J.subtreeFlags&6&&(J.flags|=8192)):O1(J),Q=J.updateQueue,Q!==null&&jz(J,Q.retryQueue),Q=null,Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),q=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(q=J.memoizedState.cachePool.pool),q!==Q&&(J.flags|=2048),Z!==null&&Q5(r9),null;case 24:return Q=null,Z!==null&&(Q=Z.memoizedState.cache),J.memoizedState.cache!==Q&&(J.flags|=2048),h4(d1),O1(J),null;case 25:return null;case 30:return null}throw Error(c(156,J.tag))}function nu(Z,J){switch(q3(J),J.tag){case 1:return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 3:return h4(d1),nJ(),Z=J.flags,(Z&65536)!==0&&(Z&128)===0?(J.flags=Z&-65537|128,J):null;case 26:case 27:case 5:return pz(J),null;case 31:if(J.memoizedState!==null){if(F8(J),J.alternate===null)throw Error(c(340));JZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 13:if(F8(J),Z=J.memoizedState,Z!==null&&Z.dehydrated!==null){if(J.alternate===null)throw Error(c(340));JZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 19:return Q5(b1),null;case 4:return nJ(),null;case 10:return h4(J.type),null;case 22:case 23:return F8(J),H3(),Z!==null&&Q5(r9),Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 24:return h4(d1),null;case 25:return null;default:return null}}function iC(Z,J){switch(q3(J),J.tag){case 3:h4(d1),nJ();break;case 26:case 27:case 5:pz(J);break;case 4:nJ();break;case 31:J.memoizedState!==null&&F8(J);break;case 13:F8(J);break;case 19:Q5(b1);break;case 10:h4(J.type);break;case 22:case 23:F8(J),H3(),Z!==null&&Q5(r9);break;case 24:h4(d1)}}function pq(Z,J){try{var Q=J.updateQueue,q=Q!==null?Q.lastEffect:null;if(q!==null){var K=q.next;Q=K;do{if((Q.tag&Z)===Z){q=void 0;var{create:X,inst:N}=Q;q=X(),N.destroy=q}Q=Q.next}while(Q!==K)}}catch(Y){o0(J,J.return,Y)}}function r7(Z,J,Q){try{var q=J.updateQueue,K=q!==null?q.lastEffect:null;if(K!==null){var X=K.next;q=X;do{if((q.tag&Z)===Z){var N=q.inst,Y=N.destroy;if(Y!==void 0){N.destroy=void 0,K=J;var O=Q,U=Y;try{U()}catch($){o0(K,O,$)}}}q=q.next}while(q!==X)}}catch($){o0(J,J.return,$)}}function aC(Z){var J=Z.updateQueue;if(J!==null){var Q=Z.stateNode;try{QC(J,Q)}catch(q){o0(Z,Z.return,q)}}}function sC(Z,J,Q){Q.props=XZ(Z.type,Z.memoizedProps),Q.state=Z.memoizedState;try{Q.componentWillUnmount()}catch(q){o0(Z,J,q)}}function Mq(Z,J){try{var Q=Z.ref;if(Q!==null){switch(Z.tag){case 26:case 27:case 5:var q=Z.stateNode;break;case 30:q=Z.stateNode;break;default:q=Z.stateNode}typeof Q==="function"?Z.refCleanup=Q(q):Q.current=q}}catch(K){o0(Z,J,K)}}function a6(Z,J){var{ref:Q,refCleanup:q}=Z;if(Q!==null)if(typeof q==="function")try{q()}catch(K){o0(Z,J,K)}finally{Z.refCleanup=null,Z=Z.alternate,Z!=null&&(Z.refCleanup=null)}else if(typeof Q==="function")try{Q(null)}catch(K){o0(Z,J,K)}else Q.current=null}function nC(Z){var{type:J,memoizedProps:Q,stateNode:q}=Z;try{Z:switch(J){case"button":case"input":case"select":case"textarea":Q.autoFocus&&q.focus();break Z;case"img":Q.src?q.src=Q.src:Q.srcSet&&(q.srcset=Q.srcSet)}}catch(K){o0(Z,Z.return,K)}}function vA(Z,J,Q){try{var q=Z.stateNode;Dl(q,Z.type,Q,J),q[t5]=J}catch(K){o0(Z,Z.return,K)}}function oC(Z){return Z.tag===5||Z.tag===3||Z.tag===26||Z.tag===27&&J9(Z.type)||Z.tag===4}function fA(Z){Z:for(;;){for(;Z.sibling===null;){if(Z.return===null||oC(Z.return))return null;Z=Z.return}Z.sibling.return=Z.return;for(Z=Z.sibling;Z.tag!==5&&Z.tag!==6&&Z.tag!==18;){if(Z.tag===27&&J9(Z.type))continue Z;if(Z.flags&2)continue Z;if(Z.child===null||Z.tag===4)continue Z;else Z.child.return=Z,Z=Z.child}if(!(Z.flags&2))return Z.stateNode}}function w$(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?(Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q).insertBefore(Z,J):(J=Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q,J.appendChild(Z),Q=Q._reactRootContainer,Q!==null&&Q!==void 0||J.onclick!==null||(J.onclick=v4));else if(q!==4&&(q===27&&J9(Z.type)&&(Q=Z.stateNode,J=null),Z=Z.child,Z!==null))for(w$(Z,J,Q),Z=Z.sibling;Z!==null;)w$(Z,J,Q),Z=Z.sibling}function XN(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?Q.insertBefore(Z,J):Q.appendChild(Z);else if(q!==4&&(q===27&&J9(Z.type)&&(Q=Z.stateNode),Z=Z.child,Z!==null))for(XN(Z,J,Q),Z=Z.sibling;Z!==null;)XN(Z,J,Q),Z=Z.sibling}function tC(Z){var{stateNode:J,memoizedProps:Q}=Z;try{for(var q=Z.type,K=J.attributes;K.length;)J.removeAttributeNode(K[0]);D5(J,q,Q),J[U5]=Z,J[t5]=Q}catch(X){o0(Z,Z.return,X)}}function ou(Z,J){if(Z=Z.containerInfo,k$=BN,Z=xL(Z),r$(Z)){if("selectionStart"in Z)var Q={start:Z.selectionStart,end:Z.selectionEnd};else Z:{Q=(Q=Z.ownerDocument)&&Q.defaultView||window;var q=Q.getSelection&&Q.getSelection();if(q&&q.rangeCount!==0){Q=q.anchorNode;var{anchorOffset:K,focusNode:X}=q;q=q.focusOffset;try{Q.nodeType,X.nodeType}catch(L){Q=null;break Z}var N=0,Y=-1,O=-1,U=0,$=0,B=Z,_=null;J:for(;;){for(var W;;){if(B!==Q||K!==0&&B.nodeType!==3||(Y=N+K),B!==X||q!==0&&B.nodeType!==3||(O=N+q),B.nodeType===3&&(N+=B.nodeValue.length),(W=B.firstChild)===null)break;_=B,B=W}for(;;){if(B===Z)break J;if(_===Q&&++U===K&&(Y=N),_===X&&++$===q&&(O=N),(W=B.nextSibling)!==null)break;B=_,_=B.parentNode}B=W}Q=Y===-1||O===-1?null:{start:Y,end:O}}else Q=null}Q=Q||{start:0,end:0}}else Q=null;P$={focusedElem:Z,selectionRange:Q},BN=!1;for(Z5=J;Z5!==null;)if(J=Z5,Z=J.child,(J.subtreeFlags&1028)!==0&&Z!==null)Z.return=J,Z5=Z;else for(;Z5!==null;){switch(J=Z5,X=J.alternate,Z=J.flags,J.tag){case 0:if((Z&4)!==0&&(Z=J.updateQueue,Z=Z!==null?Z.events:null,Z!==null))for(Q=0;Q<Z.length;Q++)K=Z[Q],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((Z&1024)!==0&&X!==null){Z=void 0,Q=J,K=X.memoizedProps,X=X.memoizedState,q=Q.stateNode;try{var w=XZ(Q.type,K);Z=q.getSnapshotBeforeUpdate(w,X),q.__reactInternalSnapshotBeforeUpdate=Z}catch(L){o0(Q,Q.return,L)}}break;case 3:if((Z&1024)!==0){if(Z=J.stateNode.containerInfo,Q=Z.nodeType,Q===9)f$(Z);else if(Q===1)switch(Z.nodeName){case"HEAD":case"HTML":case"BODY":f$(Z);break;default:Z.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Z&1024)!==0)throw Error(c(163))}if(Z=J.sibling,Z!==null){Z.return=J.return,Z5=Z;break}Z5=J.return}}function rC(Z,J,Q){var q=Q.flags;switch(Q.tag){case 0:case 11:case 15:T4(Z,Q),q&4&&pq(5,Q);break;case 1:if(T4(Z,Q),q&4)if(Z=Q.stateNode,J===null)try{Z.componentDidMount()}catch(N){o0(Q,Q.return,N)}else{var K=XZ(Q.type,J.memoizedProps);J=J.memoizedState;try{Z.componentDidUpdate(K,J,Z.__reactInternalSnapshotBeforeUpdate)}catch(N){o0(Q,Q.return,N)}}q&64&&aC(Q),q&512&&Mq(Q,Q.return);break;case 3:if(T4(Z,Q),q&64&&(Z=Q.updateQueue,Z!==null)){if(J=null,Q.child!==null)switch(Q.child.tag){case 27:case 5:J=Q.child.stateNode;break;case 1:J=Q.child.stateNode}try{QC(Z,J)}catch(N){o0(Q,Q.return,N)}}break;case 27:J===null&&q&4&&tC(Q);case 26:case 5:T4(Z,Q),J===null&&q&4&&nC(Q),q&512&&Mq(Q,Q.return);break;case 12:T4(Z,Q);break;case 31:T4(Z,Q),q&4&&JR(Z,Q);break;case 13:T4(Z,Q),q&4&&QR(Z,Q),q&64&&(Z=Q.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null&&(Q=Xl.bind(null,Q),wl(Z,Q))));break;case 22:if(q=Q.memoizedState!==null||k4,!q){J=J!==null&&J.memoizedState!==null||m1,K=k4;var X=m1;k4=q,(m1=J)&&!X?S4(Z,Q,(Q.subtreeFlags&8772)!==0):T4(Z,Q),k4=K,m1=X}break;case 30:break;default:T4(Z,Q)}}function eC(Z){var J=Z.alternate;J!==null&&(Z.alternate=null,eC(J)),Z.child=null,Z.deletions=null,Z.sibling=null,Z.tag===5&&(J=Z.stateNode,J!==null&&i$(J)),Z.stateNode=null,Z.return=null,Z.dependencies=null,Z.memoizedProps=null,Z.memoizedState=null,Z.pendingProps=null,Z.stateNode=null,Z.updateQueue=null}function I4(Z,J,Q){for(Q=Q.child;Q!==null;)ZR(Z,J,Q),Q=Q.sibling}function ZR(Z,J,Q){if(C8&&typeof C8.onCommitFiberUnmount==="function")try{C8.onCommitFiberUnmount(xq,Q)}catch(X){}switch(Q.tag){case 26:m1||a6(Q,J),I4(Z,J,Q),Q.memoizedState?Q.memoizedState.count--:Q.stateNode&&(Q=Q.stateNode,Q.parentNode.removeChild(Q));break;case 27:m1||a6(Q,J);var q=B1,K=s5;J9(Q.type)&&(B1=Q.stateNode,s5=!1),I4(Z,J,Q),jq(Q.stateNode),B1=q,s5=K;break;case 5:m1||a6(Q,J);case 6:if(q=B1,K=s5,B1=null,I4(Z,J,Q),B1=q,s5=K,B1!==null)if(s5)try{(B1.nodeType===9?B1.body:B1.nodeName==="HTML"?B1.ownerDocument.body:B1).removeChild(Q.stateNode)}catch(X){o0(Q,J,X)}else try{B1.removeChild(Q.stateNode)}catch(X){o0(Q,J,X)}break;case 18:B1!==null&&(s5?(Z=B1,pw(Z.nodeType===9?Z.body:Z.nodeName==="HTML"?Z.ownerDocument.body:Z,Q.stateNode),X2(Z)):pw(B1,Q.stateNode));break;case 4:q=B1,K=s5,B1=Q.stateNode.containerInfo,s5=!0,I4(Z,J,Q),B1=q,s5=K;break;case 0:case 11:case 14:case 15:r7(2,Q,J),m1||r7(4,Q,J),I4(Z,J,Q);break;case 1:m1||(a6(Q,J),q=Q.stateNode,typeof q.componentWillUnmount==="function"&&sC(Q,J,q)),I4(Z,J,Q);break;case 21:I4(Z,J,Q);break;case 22:m1=(q=m1)||Q.memoizedState!==null,I4(Z,J,Q),m1=q;break;default:I4(Z,J,Q)}}function JR(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null))){Z=Z.dehydrated;try{X2(Z)}catch(Q){o0(J,J.return,Q)}}}function QR(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))))try{X2(Z)}catch(Q){o0(J,J.return,Q)}}function tu(Z){switch(Z.tag){case 31:case 13:case 19:var J=Z.stateNode;return J===null&&(J=Z.stateNode=new kw),J;case 22:return Z=Z.stateNode,J=Z._retryCache,J===null&&(J=Z._retryCache=new kw),J;default:throw Error(c(435,Z.tag))}}function wz(Z,J){var Q=tu(Z);J.forEach(function(q){if(!Q.has(q)){Q.add(q);var K=zl.bind(null,Z,q);q.then(K,K)}})}function i5(Z,J){var Q=J.deletions;if(Q!==null)for(var q=0;q<Q.length;q++){var K=Q[q],X=Z,N=J,Y=N;Z:for(;Y!==null;){switch(Y.tag){case 27:if(J9(Y.type)){B1=Y.stateNode,s5=!1;break Z}break;case 5:B1=Y.stateNode,s5=!1;break Z;case 3:case 4:B1=Y.stateNode.containerInfo,s5=!0;break Z}Y=Y.return}if(B1===null)throw Error(c(160));ZR(X,N,K),B1=null,s5=!1,X=K.alternate,X!==null&&(X.return=null),K.return=null}if(J.subtreeFlags&13886)for(J=J.child;J!==null;)qR(J,Z),J=J.sibling}function qR(Z,J){var{alternate:Q,flags:q}=Z;switch(Z.tag){case 0:case 11:case 14:case 15:i5(J,Z),a5(Z),q&4&&(r7(3,Z,Z.return),pq(3,Z),r7(5,Z,Z.return));break;case 1:i5(J,Z),a5(Z),q&512&&(m1||Q===null||a6(Q,Q.return)),q&64&&k4&&(Z=Z.updateQueue,Z!==null&&(q=Z.callbacks,q!==null&&(Q=Z.shared.hiddenCallbacks,Z.shared.hiddenCallbacks=Q===null?q:Q.concat(q))));break;case 26:var K=G6;if(i5(J,Z),a5(Z),q&512&&(m1||Q===null||a6(Q,Q.return)),q&4){var X=Q!==null?Q.memoizedState:null;if(q=Z.memoizedState,Q===null)if(q===null)if(Z.stateNode===null){Z:{q=Z.type,Q=Z.memoizedProps,K=K.ownerDocument||K;J:switch(q){case"title":if(X=K.getElementsByTagName("title")[0],!X||X[dq]||X[U5]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))X=K.createElement(q),K.head.insertBefore(X,K.querySelector("head > title"));D5(X,q,Q),X[U5]=Z,J5(X),q=X;break Z;case"link":var N=rw("link","href",K).get(q+(Q.href||""));if(N){for(var Y=0;Y<N.length;Y++)if(X=N[Y],X.getAttribute("href")===(Q.href==null||Q.href===""?null:Q.href)&&X.getAttribute("rel")===(Q.rel==null?null:Q.rel)&&X.getAttribute("title")===(Q.title==null?null:Q.title)&&X.getAttribute("crossorigin")===(Q.crossOrigin==null?null:Q.crossOrigin)){N.splice(Y,1);break J}}X=K.createElement(q),D5(X,q,Q),K.head.appendChild(X);break;case"meta":if(N=rw("meta","content",K).get(q+(Q.content||""))){for(Y=0;Y<N.length;Y++)if(X=N[Y],X.getAttribute("content")===(Q.content==null?null:""+Q.content)&&X.getAttribute("name")===(Q.name==null?null:Q.name)&&X.getAttribute("property")===(Q.property==null?null:Q.property)&&X.getAttribute("http-equiv")===(Q.httpEquiv==null?null:Q.httpEquiv)&&X.getAttribute("charset")===(Q.charSet==null?null:Q.charSet)){N.splice(Y,1);break J}}X=K.createElement(q),D5(X,q,Q),K.head.appendChild(X);break;default:throw Error(c(468,q))}X[U5]=Z,J5(X),q=X}Z.stateNode=q}else ew(K,Z.type,Z.stateNode);else Z.stateNode=tw(K,q,Z.memoizedProps);else X!==q?(X===null?Q.stateNode!==null&&(Q=Q.stateNode,Q.parentNode.removeChild(Q)):X.count--,q===null?ew(K,Z.type,Z.stateNode):tw(K,q,Z.memoizedProps)):q===null&&Z.stateNode!==null&&vA(Z,Z.memoizedProps,Q.memoizedProps)}break;case 27:i5(J,Z),a5(Z),q&512&&(m1||Q===null||a6(Q,Q.return)),Q!==null&&q&4&&vA(Z,Z.memoizedProps,Q.memoizedProps);break;case 5:if(i5(J,Z),a5(Z),q&512&&(m1||Q===null||a6(Q,Q.return)),Z.flags&32){K=Z.stateNode;try{tJ(K,"")}catch(w){o0(Z,Z.return,w)}}q&4&&Z.stateNode!=null&&(K=Z.memoizedProps,vA(Z,K,Q!==null?Q.memoizedProps:K)),q&1024&&(yA=!0);break;case 6:if(i5(J,Z),a5(Z),q&4){if(Z.stateNode===null)throw Error(c(162));q=Z.memoizedProps,Q=Z.stateNode;try{Q.nodeValue=q}catch(w){o0(Z,Z.return,w)}}break;case 3:if(mz=null,K=G6,G6=AN(J.containerInfo),i5(J,Z),G6=K,a5(Z),q&4&&Q!==null&&Q.memoizedState.isDehydrated)try{X2(J.containerInfo)}catch(w){o0(Z,Z.return,w)}yA&&(yA=!1,KR(Z));break;case 4:q=G6,G6=AN(Z.stateNode.containerInfo),i5(J,Z),a5(Z),G6=q;break;case 12:i5(J,Z),a5(Z);break;case 31:i5(J,Z),a5(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,wz(Z,q)));break;case 13:i5(J,Z),a5(Z),Z.child.flags&8192&&Z.memoizedState!==null!==(Q!==null&&Q.memoizedState!==null)&&(TN=L8()),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,wz(Z,q)));break;case 22:K=Z.memoizedState!==null;var O=Q!==null&&Q.memoizedState!==null,U=k4,$=m1;if(k4=U||K,m1=$||O,i5(J,Z),m1=$,k4=U,a5(Z),q&8192)Z:for(J=Z.stateNode,J._visibility=K?J._visibility&-2:J._visibility|1,K&&(Q===null||O||k4||m1||n9(Z)),Q=null,J=Z;;){if(J.tag===5||J.tag===26){if(Q===null){O=Q=J;try{if(X=O.stateNode,K)N=X.style,typeof N.setProperty==="function"?N.setProperty("display","none","important"):N.display="none";else{Y=O.stateNode;var B=O.memoizedProps.style,_=B!==void 0&&B!==null&&B.hasOwnProperty("display")?B.display:null;Y.style.display=_==null||typeof _==="boolean"?"":(""+_).trim()}}catch(w){o0(O,O.return,w)}}}else if(J.tag===6){if(Q===null){O=J;try{O.stateNode.nodeValue=K?"":O.memoizedProps}catch(w){o0(O,O.return,w)}}}else if(J.tag===18){if(Q===null){O=J;try{var W=O.stateNode;K?iw(W,!0):iw(O.stateNode,!1)}catch(w){o0(O,O.return,w)}}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===Z)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break Z;for(;J.sibling===null;){if(J.return===null||J.return===Z)break Z;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}q&4&&(q=Z.updateQueue,q!==null&&(Q=q.retryQueue,Q!==null&&(q.retryQueue=null,wz(Z,Q))));break;case 19:i5(J,Z),a5(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,wz(Z,q)));break;case 30:break;case 21:break;default:i5(J,Z),a5(Z)}}function a5(Z){var J=Z.flags;if(J&2){try{for(var Q,q=Z.return;q!==null;){if(oC(q)){Q=q;break}q=q.return}if(Q==null)throw Error(c(160));switch(Q.tag){case 27:var K=Q.stateNode,X=fA(Z);XN(Z,X,K);break;case 5:var N=Q.stateNode;Q.flags&32&&(tJ(N,""),Q.flags&=-33);var Y=fA(Z);XN(Z,Y,N);break;case 3:case 4:var O=Q.stateNode.containerInfo,U=fA(Z);w$(Z,U,O);break;default:throw Error(c(161))}}catch($){o0(Z,Z.return,$)}Z.flags&=-3}J&4096&&(Z.flags&=-4097)}function KR(Z){if(Z.subtreeFlags&1024)for(Z=Z.child;Z!==null;){var J=Z;KR(J),J.tag===5&&J.flags&1024&&J.stateNode.reset(),Z=Z.sibling}}function T4(Z,J){if(J.subtreeFlags&8772)for(J=J.child;J!==null;)rC(Z,J.alternate,J),J=J.sibling}function n9(Z){for(Z=Z.child;Z!==null;){var J=Z;switch(J.tag){case 0:case 11:case 14:case 15:r7(4,J,J.return),n9(J);break;case 1:a6(J,J.return);var Q=J.stateNode;typeof Q.componentWillUnmount==="function"&&sC(J,J.return,Q),n9(J);break;case 27:jq(J.stateNode);case 26:case 5:a6(J,J.return),n9(J);break;case 22:J.memoizedState===null&&n9(J);break;case 30:n9(J);break;default:n9(J)}Z=Z.sibling}}function S4(Z,J,Q){Q=Q&&(J.subtreeFlags&8772)!==0;for(J=J.child;J!==null;){var q=J.alternate,K=Z,X=J,N=X.flags;switch(X.tag){case 0:case 11:case 15:S4(K,X,Q),pq(4,X);break;case 1:if(S4(K,X,Q),q=X,K=q.stateNode,typeof K.componentDidMount==="function")try{K.componentDidMount()}catch(U){o0(q,q.return,U)}if(q=X,K=q.updateQueue,K!==null){var Y=q.stateNode;try{var O=K.shared.hiddenCallbacks;if(O!==null)for(K.shared.hiddenCallbacks=null,K=0;K<O.length;K++)JC(O[K],Y)}catch(U){o0(q,q.return,U)}}Q&&N&64&&aC(X),Mq(X,X.return);break;case 27:tC(X);case 26:case 5:S4(K,X,Q),Q&&q===null&&N&4&&nC(X),Mq(X,X.return);break;case 12:S4(K,X,Q);break;case 31:S4(K,X,Q),Q&&N&4&&JR(K,X);break;case 13:S4(K,X,Q),Q&&N&4&&QR(K,X);break;case 22:X.memoizedState===null&&S4(K,X,Q),Mq(X,X.return);break;case 30:break;default:S4(K,X,Q)}J=J.sibling}}function L3(Z,J){var Q=null;Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),Z=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(Z=J.memoizedState.cachePool.pool),Z!==Q&&(Z!=null&&Z.refCount++,Q!=null&&uq(Q))}function C3(Z,J){Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&uq(Z))}function W6(Z,J,Q,q){if(J.subtreeFlags&10256)for(J=J.child;J!==null;)XR(Z,J,Q,q),J=J.sibling}function XR(Z,J,Q,q){var K=J.flags;switch(J.tag){case 0:case 11:case 15:W6(Z,J,Q,q),K&2048&&pq(9,J);break;case 1:W6(Z,J,Q,q);break;case 3:W6(Z,J,Q,q),K&2048&&(Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&uq(Z)));break;case 12:if(K&2048){W6(Z,J,Q,q),Z=J.stateNode;try{var X=J.memoizedProps,N=X.id,Y=X.onPostCommit;typeof Y==="function"&&Y(N,J.alternate===null?"mount":"update",Z.passiveEffectDuration,-0)}catch(O){o0(J,J.return,O)}}else W6(Z,J,Q,q);break;case 31:W6(Z,J,Q,q);break;case 13:W6(Z,J,Q,q);break;case 23:break;case 22:X=J.stateNode,N=J.alternate,J.memoizedState!==null?X._visibility&2?W6(Z,J,Q,q):Wq(Z,J):X._visibility&2?W6(Z,J,Q,q):(X._visibility|=2,EJ(Z,J,Q,q,(J.subtreeFlags&10256)!==0||!1)),K&2048&&L3(N,J);break;case 24:W6(Z,J,Q,q),K&2048&&C3(J.alternate,J);break;default:W6(Z,J,Q,q)}}function EJ(Z,J,Q,q,K){K=K&&((J.subtreeFlags&10256)!==0||!1);for(J=J.child;J!==null;){var X=Z,N=J,Y=Q,O=q,U=N.flags;switch(N.tag){case 0:case 11:case 15:EJ(X,N,Y,O,K),pq(8,N);break;case 23:break;case 22:var $=N.stateNode;N.memoizedState!==null?$._visibility&2?EJ(X,N,Y,O,K):Wq(X,N):($._visibility|=2,EJ(X,N,Y,O,K)),K&&U&2048&&L3(N.alternate,N);break;case 24:EJ(X,N,Y,O,K),K&&U&2048&&C3(N.alternate,N);break;default:EJ(X,N,Y,O,K)}J=J.sibling}}function Wq(Z,J){if(J.subtreeFlags&10256)for(J=J.child;J!==null;){var Q=Z,q=J,K=q.flags;switch(q.tag){case 22:Wq(Q,q),K&2048&&L3(q.alternate,q);break;case 24:Wq(Q,q),K&2048&&C3(q.alternate,q);break;default:Wq(Q,q)}J=J.sibling}}function RJ(Z,J,Q){if(Z.subtreeFlags&Nq)for(Z=Z.child;Z!==null;)zR(Z,J,Q),Z=Z.sibling}function zR(Z,J,Q){switch(Z.tag){case 26:RJ(Z,J,Q),Z.flags&Nq&&Z.memoizedState!==null&&fl(Q,G6,Z.memoizedState,Z.memoizedProps);break;case 5:RJ(Z,J,Q);break;case 3:case 4:var q=G6;G6=AN(Z.stateNode.containerInfo),RJ(Z,J,Q),G6=q;break;case 22:Z.memoizedState===null&&(q=Z.alternate,q!==null&&q.memoizedState!==null?(q=Nq,Nq=16777216,RJ(Z,J,Q),Nq=q):RJ(Z,J,Q));break;default:RJ(Z,J,Q)}}function NR(Z){var J=Z.alternate;if(J!==null&&(Z=J.child,Z!==null)){J.child=null;do J=Z.sibling,Z.sibling=null,Z=J;while(Z!==null)}}function eQ(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];Z5=q,YR(q,Z)}NR(Z)}if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;)HR(Z),Z=Z.sibling}function HR(Z){switch(Z.tag){case 0:case 11:case 15:eQ(Z),Z.flags&2048&&r7(9,Z,Z.return);break;case 3:eQ(Z);break;case 12:eQ(Z);break;case 22:var J=Z.stateNode;Z.memoizedState!==null&&J._visibility&2&&(Z.return===null||Z.return.tag!==13)?(J._visibility&=-3,xz(Z)):eQ(Z);break;default:eQ(Z)}}function xz(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];Z5=q,YR(q,Z)}NR(Z)}for(Z=Z.child;Z!==null;){switch(J=Z,J.tag){case 0:case 11:case 15:r7(8,J,J.return),xz(J);break;case 22:Q=J.stateNode,Q._visibility&2&&(Q._visibility&=-3,xz(J));break;default:xz(J)}Z=Z.sibling}}function YR(Z,J){for(;Z5!==null;){var Q=Z5;switch(Q.tag){case 0:case 11:case 15:r7(8,Q,J);break;case 23:case 22:if(Q.memoizedState!==null&&Q.memoizedState.cachePool!==null){var q=Q.memoizedState.cachePool.pool;q!=null&&q.refCount++}break;case 24:uq(Q.memoizedState.cache)}if(q=Q.child,q!==null)q.return=Q,Z5=q;else Z:for(Q=Z;Z5!==null;){q=Z5;var{sibling:K,return:X}=q;if(eC(q),q===Q){Z5=null;break Z}if(K!==null){K.return=X,Z5=K;break Z}Z5=X}}}function E8(){return(m0&2)!==0&&T0!==0?T0&-T0:O0.T!==null?T3():GL()}function UR(){if(w8===0)if((T0&536870912)===0||b0){var Z=Dz;Dz<<=1,(Dz&3932160)===0&&(Dz=262144),w8=Z}else w8=536870912;return Z=T8.current,Z!==null&&(Z.flags|=32),w8}function o5(Z,J,Q){if(Z===K1&&(n0===2||n0===9)||Z.cancelPendingCommit!==null)q2(Z,0),g7(Z,T0,w8,!1);if(mq(Z,Q),(m0&2)===0||Z!==K1)Z===K1&&((m0&2)===0&&(ZZ|=Q),E1===4&&g7(Z,T0,w8,!1)),o6(Z)}function AR(Z,J,Q){if((m0&6)!==0)throw Error(c(327));var q=!Q&&(J&127)===0&&(J&Z.expiredLanes)===0||gq(Z,J),K=q?Ql(Z,J):hA(Z,J,!0),X=q;do{if(K===0){V2&&!q&&g7(Z,J,0,!1);break}else{if(Q=Z.current.alternate,X&&!Zl(Q)){K=hA(Z,J,!1),X=!1;continue}if(K===2){if(X=J,Z.errorRecoveryDisabledLanes&X)var N=0;else N=Z.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){J=N;Z:{var Y=Z;K=Gq;var O=Y.current.memoizedState.isDehydrated;if(O&&(q2(Y,N).flags|=256),N=hA(Y,N,!1),N!==2){if(R3&&!O){Y.errorRecoveryDisabledLanes|=X,ZZ|=X,K=4;break Z}X=n5,n5=K,X!==null&&(n5===null?n5=X:n5.push.apply(n5,X))}K=N}if(X=!1,K!==2)continue}}if(K===1){q2(Z,0),g7(Z,J,0,!0);break}Z:{switch(q=Z,X=K,X){case 0:case 1:throw Error(c(345));case 4:if((J&4194048)!==J)break;case 6:g7(q,J,w8,!x7);break Z;case 2:n5=null;break;case 3:case 5:break;default:throw Error(c(329))}if((J&62914560)===J&&(K=TN+300-L8(),10<K)){if(g7(q,J,w8,!x7),MN(q,0,!0)!==0)break Z;x4=J,q.timeoutHandle=PR(Pw.bind(null,q,Q,n5,NN,L$,J,w8,ZZ,J2,x7,X,"Throttled",-0,0),K);break Z}Pw(q,Q,n5,NN,L$,J,w8,ZZ,J2,x7,X,null,-0,0)}}break}while(1);o6(Z)}function Pw(Z,J,Q,q,K,X,N,Y,O,U,$,B,_,W){if(Z.timeoutHandle=-1,B=J.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:v4},zR(J,X,B);var w=(X&62914560)===X?TN-L8():(X&4194048)===X?VR-L8():0;if(w=yl(B,w),w!==null){x4=X,Z.cancelPendingCommit=w(fw.bind(null,Z,J,X,Q,q,K,N,Y,O,$,B,null,_,W)),g7(Z,X,N,!U);return}}fw(Z,J,X,Q,q,K,N,Y,O)}function Zl(Z){for(var J=Z;;){var Q=J.tag;if((Q===0||Q===11||Q===15)&&J.flags&16384&&(Q=J.updateQueue,Q!==null&&(Q=Q.stores,Q!==null)))for(var q=0;q<Q.length;q++){var K=Q[q],X=K.getSnapshot;K=K.value;try{if(!I8(X(),K))return!1}catch(N){return!1}}if(Q=J.child,J.subtreeFlags&16384&&Q!==null)Q.return=J,J=Q;else{if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return!0;J=J.return}J.sibling.return=J.return,J=J.sibling}}return!0}function g7(Z,J,Q,q){J&=~E3,J&=~ZZ,Z.suspendedLanes|=J,Z.pingedLanes&=~J,q&&(Z.warmLanes|=J),q=Z.expirationTimes;for(var K=J;0<K;){var X=31-R8(K),N=1<<X;q[X]=-1,K&=~N}Q!==0&&_L(Z,Q,J)}function SN(){return(m0&6)===0?(iq(0,!1),!1):!0}function I3(){if(E0!==null){if(n0===0)var Z=E0.return;else Z=E0,f4=VZ=null,A3(Z),iJ=null,Tq=0,Z=E0;for(;Z!==null;)iC(Z.alternate,Z),Z=Z.return;E0=null}}function q2(Z,J){var Q=Z.timeoutHandle;Q!==-1&&(Z.timeoutHandle=-1,Ml(Q)),Q=Z.cancelPendingCommit,Q!==null&&(Z.cancelPendingCommit=null,Q()),x4=0,I3(),K1=Z,E0=Q=y4(Z.current,null),T0=J,n0=0,G8=null,x7=!1,V2=gq(Z,J),R3=!1,J2=w8=E3=ZZ=e7=E1=0,n5=Gq=null,L$=!1,(J&8)!==0&&(J|=J&32);var q=Z.entangledLanes;if(q!==0)for(Z=Z.entanglements,q&=J;0<q;){var K=31-R8(q),X=1<<K;J|=Z[K],q&=~X}return u4=J,jN(),Q}function $R(Z,J){W0=null,O0.H=bq,J===Y2||J===LN?(J=Ow(),n0=3):J===z3?(J=Ow(),n0=4):n0=J===j3?8:J!==null&&typeof J==="object"&&typeof J.then==="function"?6:1,G8=J,E0===null&&(E1=1,qN(Z,r8(J,Z.current)))}function DR(){var Z=T8.current;return Z===null?!0:(T0&4194048)===T0?Z6===null?!0:!1:(T0&62914560)===T0||(T0&536870912)!==0?Z===Z6:!1}function BR(){var Z=O0.H;return O0.H=bq,Z===null?bq:Z}function _R(){var Z=O0.A;return O0.A=ru,Z}function HN(){E1=4,x7||(T0&4194048)!==T0&&T8.current!==null||(V2=!0),(e7&134217727)===0&&(ZZ&134217727)===0||K1===null||g7(K1,T0,w8,!1)}function hA(Z,J,Q){var q=m0;m0|=2;var K=BR(),X=_R();if(K1!==Z||T0!==J)NN=null,q2(Z,J);J=!1;var N=E1;Z:do try{if(n0!==0&&E0!==null){var Y=E0,O=G8;switch(n0){case 8:I3(),N=6;break Z;case 3:case 2:case 9:case 6:T8.current===null&&(J=!0);var U=n0;if(n0=0,G8=null,dJ(Z,Y,O,U),Q&&V2){N=0;break Z}break;default:U=n0,n0=0,G8=null,dJ(Z,Y,O,U)}}Jl(),N=E1;break}catch($){$R(Z,$)}while(1);return J&&Z.shellSuspendCounter++,f4=VZ=null,m0=q,O0.H=K,O0.A=X,E0===null&&(K1=null,T0=0,jN()),N}function Jl(){for(;E0!==null;)MR(E0)}function Ql(Z,J){var Q=m0;m0|=2;var q=BR(),K=_R();K1!==Z||T0!==J?(NN=null,zN=L8()+500,q2(Z,J)):V2=gq(Z,J);Z:do try{if(n0!==0&&E0!==null){J=E0;var X=G8;J:switch(n0){case 1:n0=0,G8=null,dJ(Z,J,X,1);break;case 2:case 9:if(Vw(X)){n0=0,G8=null,vw(J);break}J=function(){n0!==2&&n0!==9||K1!==Z||(n0=7),o6(Z)},X.then(J,J);break Z;case 3:n0=7;break Z;case 4:n0=5;break Z;case 7:Vw(X)?(n0=0,G8=null,vw(J)):(n0=0,G8=null,dJ(Z,J,X,7));break;case 5:var N=null;switch(E0.tag){case 26:N=E0.memoizedState;case 5:case 27:var Y=E0;if(N?xR(N):Y.stateNode.complete){n0=0,G8=null;var O=Y.sibling;if(O!==null)E0=O;else{var U=Y.return;U!==null?(E0=U,bN(U)):E0=null}break J}}n0=0,G8=null,dJ(Z,J,X,5);break;case 6:n0=0,G8=null,dJ(Z,J,X,6);break;case 8:I3(),E1=6;break Z;default:throw Error(c(462))}}ql();break}catch($){$R(Z,$)}while(1);if(f4=VZ=null,O0.H=q,O0.A=K,m0=Q,E0!==null)return 0;return K1=null,T0=0,jN(),E1}function ql(){for(;E0!==null&&!Rc();)MR(E0)}function MR(Z){var J=pC(Z.alternate,Z,u4);Z.memoizedProps=Z.pendingProps,J===null?bN(Z):E0=J}function vw(Z){var J=Z,Q=J.alternate;switch(J.tag){case 15:case 0:J=Ew(Q,J,J.pendingProps,J.type,void 0,T0);break;case 11:J=Ew(Q,J,J.pendingProps,J.type.render,J.ref,T0);break;case 5:A3(J);default:iC(Q,J),J=E0=iL(J,u4),J=pC(Q,J,u4)}Z.memoizedProps=Z.pendingProps,J===null?bN(Z):E0=J}function dJ(Z,J,Q,q){f4=VZ=null,A3(J),iJ=null,Tq=0;var K=J.return;try{if(pu(Z,K,J,Q,T0)){E1=1,qN(Z,r8(Q,Z.current)),E0=null;return}}catch(X){if(K!==null)throw E0=K,X;E1=1,qN(Z,r8(Q,Z.current)),E0=null;return}if(J.flags&32768){if(b0||q===1)Z=!0;else if(V2||(T0&536870912)!==0)Z=!1;else if(x7=Z=!0,q===2||q===9||q===3||q===6)q=T8.current,q!==null&&q.tag===13&&(q.flags|=16384);WR(J,Z)}else bN(J)}function bN(Z){var J=Z;do{if((J.flags&32768)!==0){WR(J,x7);return}Z=J.return;var Q=su(J.alternate,J,u4);if(Q!==null){E0=Q;return}if(J=J.sibling,J!==null){E0=J;return}E0=J=Z}while(J!==null);E1===0&&(E1=5)}function WR(Z,J){do{var Q=nu(Z.alternate,Z);if(Q!==null){Q.flags&=32767,E0=Q;return}if(Q=Z.return,Q!==null&&(Q.flags|=32768,Q.subtreeFlags=0,Q.deletions=null),!J&&(Z=Z.sibling,Z!==null)){E0=Z;return}E0=Z=Q}while(Z!==null);E1=6,E0=null}function fw(Z,J,Q,q,K,X,N,Y,O){Z.cancelPendingCommit=null;do kN();while(a1!==0);if((m0&6)!==0)throw Error(c(327));if(J!==null){if(J===Z.current)throw Error(c(177));if(X=J.lanes|J.childLanes,X|=e$,yc(Z,Q,X,N,Y,O),Z===K1&&(E0=K1=null,T0=0),Q2=J,i7=Z,x4=Q,C$=X,R$=K,OR=q,(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?(Z.callbackNode=null,Z.callbackPriority=0,Nl(iz,function(){return LR(),null})):(Z.callbackNode=null,Z.callbackPriority=0),q=(J.flags&13878)!==0,(J.subtreeFlags&13878)!==0||q){q=O0.T,O0.T=null,K=d0.p,d0.p=2,N=m0,m0|=4;try{ou(Z,J,Q)}finally{m0=N,d0.p=K,O0.T=q}}a1=1,GR(),FR(),jR()}}function GR(){if(a1===1){a1=0;var Z=i7,J=Q2,Q=(J.flags&13878)!==0;if((J.subtreeFlags&13878)!==0||Q){Q=O0.T,O0.T=null;var q=d0.p;d0.p=2;var K=m0;m0|=4;try{qR(J,Z);var X=P$,N=xL(Z.containerInfo),Y=X.focusedElem,O=X.selectionRange;if(N!==Y&&Y&&Y.ownerDocument&&hL(Y.ownerDocument.documentElement,Y)){if(O!==null&&r$(Y)){var{start:U,end:$}=O;if($===void 0&&($=U),"selectionStart"in Y)Y.selectionStart=U,Y.selectionEnd=Math.min($,Y.value.length);else{var B=Y.ownerDocument||document,_=B&&B.defaultView||window;if(_.getSelection){var W=_.getSelection(),w=Y.textContent.length,L=Math.min(O.start,w),R=O.end===void 0?L:Math.min(O.end,w);!W.extend&&L>R&&(N=R,R=L,L=N);var G=qw(Y,L),j=qw(Y,R);if(G&&j&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var C=B.createRange();C.setStart(G.node,G.offset),W.removeAllRanges(),L>R?(W.addRange(C),W.extend(j.node,j.offset)):(C.setEnd(j.node,j.offset),W.addRange(C))}}}}B=[];for(W=Y;W=W.parentNode;)W.nodeType===1&&B.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof Y.focus==="function"&&Y.focus();for(Y=0;Y<B.length;Y++){var T=B[Y];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}BN=!!k$,P$=k$=null}finally{m0=K,d0.p=q,O0.T=Q}}Z.current=J,a1=2}}function FR(){if(a1===2){a1=0;var Z=i7,J=Q2,Q=(J.flags&8772)!==0;if((J.subtreeFlags&8772)!==0||Q){Q=O0.T,O0.T=null;var q=d0.p;d0.p=2;var K=m0;m0|=4;try{rC(Z,J.alternate,J)}finally{m0=K,d0.p=q,O0.T=Q}}a1=3}}function jR(){if(a1===4||a1===3){a1=0,Ec();var Z=i7,J=Q2,Q=x4,q=OR;(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?a1=5:(a1=0,Q2=i7=null,wR(Z,Z.pendingLanes));var K=Z.pendingLanes;if(K===0&&(p7=null),p$(Q),J=J.stateNode,C8&&typeof C8.onCommitFiberRoot==="function")try{C8.onCommitFiberRoot(xq,J,void 0,(J.current.flags&128)===128)}catch(O){}if(q!==null){J=O0.T,K=d0.p,d0.p=2,O0.T=null;try{for(var X=Z.onRecoverableError,N=0;N<q.length;N++){var Y=q[N];X(Y.value,{componentStack:Y.stack})}}finally{O0.T=J,d0.p=K}}(x4&3)!==0&&kN(),o6(Z),K=Z.pendingLanes,(Q&261930)!==0&&(K&42)!==0?Z===E$?Fq++:(Fq=0,E$=Z):Fq=0,iq(0,!1)}}function wR(Z,J){(Z.pooledCacheLanes&=J)===0&&(J=Z.pooledCache,J!=null&&(Z.pooledCache=null,uq(J)))}function kN(){return GR(),FR(),jR(),LR()}function LR(){if(a1!==5)return!1;var Z=i7,J=C$;C$=0;var Q=p$(x4),q=O0.T,K=d0.p;try{d0.p=32>Q?32:Q,O0.T=null,Q=R$,R$=null;var X=i7,N=x4;if(a1=0,Q2=i7=null,x4=0,(m0&6)!==0)throw Error(c(331));var Y=m0;if(m0|=4,HR(X.current),XR(X,X.current,N,Q),m0=Y,iq(0,!1),C8&&typeof C8.onPostCommitFiberRoot==="function")try{C8.onPostCommitFiberRoot(xq,X)}catch(O){}return!0}finally{d0.p=K,O0.T=q,wR(Z,J)}}function yw(Z,J,Q){J=r8(Q,J),J=G$(Z.stateNode,J,2),Z=l7(Z,J,2),Z!==null&&(mq(Z,2),o6(Z))}function o0(Z,J,Q){if(Z.tag===3)yw(Z,Z,Q);else for(;J!==null;){if(J.tag===3){yw(J,Z,Q);break}else if(J.tag===1){var q=J.stateNode;if(typeof J.type.getDerivedStateFromError==="function"||typeof q.componentDidCatch==="function"&&(p7===null||!p7.has(q))){Z=r8(Q,Z),Q=gC(2),q=l7(J,Q,2),q!==null&&(mC(Q,q,J,Z),mq(q,2),o6(q));break}}J=J.return}}function xA(Z,J,Q){var q=Z.pingCache;if(q===null){q=Z.pingCache=new eu;var K=new Set;q.set(J,K)}else K=q.get(J),K===void 0&&(K=new Set,q.set(J,K));K.has(Q)||(R3=!0,K.add(Q),Z=Kl.bind(null,Z,J,Q),J.then(Z,Z))}function Kl(Z,J,Q){var q=Z.pingCache;q!==null&&q.delete(J),Z.pingedLanes|=Z.suspendedLanes&Q,Z.warmLanes&=~Q,K1===Z&&(T0&Q)===Q&&(E1===4||E1===3&&(T0&62914560)===T0&&300>L8()-TN?(m0&2)===0&&q2(Z,0):E3|=Q,J2===T0&&(J2=0)),o6(Z)}function CR(Z,J){J===0&&(J=BL()),Z=YZ(Z,J),Z!==null&&(mq(Z,J),o6(Z))}function Xl(Z){var J=Z.memoizedState,Q=0;J!==null&&(Q=J.retryLane),CR(Z,Q)}function zl(Z,J){var Q=0;switch(Z.tag){case 31:case 13:var{stateNode:q,memoizedState:K}=Z;K!==null&&(Q=K.retryLane);break;case 19:q=Z.stateNode;break;case 22:q=Z.stateNode._retryCache;break;default:throw Error(c(314))}q!==null&&q.delete(J),CR(Z,Q)}function Nl(Z,J){return u$(Z,J)}function o6(Z){Z!==IJ&&Z.next===null&&(IJ===null?YN=IJ=Z:IJ=IJ.next=Z),VN=!0,I$||(I$=!0,Yl())}function iq(Z,J){if(!gA&&VN){gA=!0;do{var Q=!1;for(var q=YN;q!==null;){if(!J)if(Z!==0){var K=q.pendingLanes;if(K===0)var X=0;else{var{suspendedLanes:N,pingedLanes:Y}=q;X=(1<<31-R8(42|Z)+1)-1,X&=K&~(N&~Y),X=X&201326741?X&201326741|1:X?X|2:0}X!==0&&(Q=!0,hw(q,X))}else X=T0,X=MN(q,q===K1?X:0,q.cancelPendingCommit!==null||q.timeoutHandle!==-1),(X&3)===0||gq(q,X)||(Q=!0,hw(q,X));q=q.next}}while(Q);gA=!1}}function Hl(){RR()}function RR(){VN=I$=!1;var Z=0;m7!==0&&_l()&&(Z=m7);for(var J=L8(),Q=null,q=YN;q!==null;){var K=q.next,X=ER(q,J);if(X===0)q.next=null,Q===null?YN=K:Q.next=K,K===null&&(IJ=Q);else if(Q=q,Z!==0||(X&3)!==0)VN=!0;q=K}a1!==0&&a1!==5||iq(Z,!1),m7!==0&&(m7=0)}function ER(Z,J){for(var{suspendedLanes:Q,pingedLanes:q,expirationTimes:K}=Z,X=Z.pendingLanes&-62914561;0<X;){var N=31-R8(X),Y=1<<N,O=K[N];if(O===-1){if((Y&Q)===0||(Y&q)!==0)K[N]=fc(Y,J)}else O<=J&&(Z.expiredLanes|=Y);X&=~Y}if(J=K1,Q=T0,Q=MN(Z,Z===J?Q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q=Z.callbackNode,Q===0||Z===J&&(n0===2||n0===9)||Z.cancelPendingCommit!==null)return q!==null&&q!==null&&DA(q),Z.callbackNode=null,Z.callbackPriority=0;if((Q&3)===0||gq(Z,Q)){if(J=Q&-Q,J===Z.callbackPriority)return J;switch(q!==null&&DA(q),p$(Q)){case 2:case 8:Q=$L;break;case 32:Q=iz;break;case 268435456:Q=DL;break;default:Q=iz}return q=IR.bind(null,Z),Q=u$(Q,q),Z.callbackPriority=J,Z.callbackNode=Q,J}return q!==null&&q!==null&&DA(q),Z.callbackPriority=2,Z.callbackNode=null,2}function IR(Z,J){if(a1!==0&&a1!==5)return Z.callbackNode=null,Z.callbackPriority=0,null;var Q=Z.callbackNode;if(kN()&&Z.callbackNode!==Q)return null;var q=T0;if(q=MN(Z,Z===K1?q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q===0)return null;return AR(Z,q,J),ER(Z,L8()),Z.callbackNode!=null&&Z.callbackNode===Q?IR.bind(null,Z):null}function hw(Z,J){if(kN())return null;AR(Z,J,!0)}function Yl(){Wl(function(){(m0&6)!==0?u$(AL,Hl):RR()})}function T3(){if(m7===0){var Z=rJ;Z===0&&(Z=$z,$z<<=1,($z&261888)===0&&($z=256)),m7=Z}return m7}function xw(Z){return Z==null||typeof Z==="symbol"||typeof Z==="boolean"?null:typeof Z==="function"?Z:Iz(""+Z)}function gw(Z,J){var Q=J.ownerDocument.createElement("input");return Q.name=J.name,Q.value=J.value,Z.id&&Q.setAttribute("form",Z.id),J.parentNode.insertBefore(Q,J),Z=new FormData(Z),Q.parentNode.removeChild(Q),Z}function Vl(Z,J,Q,q,K){if(J==="submit"&&Q&&Q.stateNode===K){var X=xw((K[t5]||null).action),N=q.submitter;N&&(J=(J=N[t5]||null)?xw(J.formAction):N.getAttribute("formAction"),J!==null&&(X=J,N=null));var Y=new WN("action","action",null,q,K);Z.push({event:Y,listeners:[{instance:null,listener:function(){if(q.defaultPrevented){if(m7!==0){var O=N?gw(K,N):new FormData(K);M$(Q,{pending:!0,data:O,method:K.method,action:X},null,O)}}else typeof X==="function"&&(Y.preventDefault(),O=N?gw(K,N):new FormData(K),M$(Q,{pending:!0,data:O,method:K.method,action:X},X,O))},currentTarget:K}]})}}function TR(Z,J){J=(J&4)!==0;for(var Q=0;Q<Z.length;Q++){var q=Z[Q],K=q.event;q=q.listeners;Z:{var X=void 0;if(J)for(var N=q.length-1;0<=N;N--){var Y=q[N],O=Y.instance,U=Y.currentTarget;if(Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch($){sz($)}K.currentTarget=null,X=O}else for(N=0;N<q.length;N++){if(Y=q[N],O=Y.instance,U=Y.currentTarget,Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch($){sz($)}K.currentTarget=null,X=O}}}}function R0(Z,J){var Q=J[rA];Q===void 0&&(Q=J[rA]=new Set);var q=Z+"__bubble";Q.has(q)||(SR(J,Z,2,!1),Q.add(q))}function mA(Z,J,Q){var q=0;J&&(q|=4),SR(Q,Z,q,J)}function S3(Z){if(!Z[Lz]){Z[Lz]=!0,FL.forEach(function(Q){Q!=="selectionchange"&&(Ol.has(Q)||mA(Q,!1,Z),mA(Q,!0,Z))});var J=Z.nodeType===9?Z:Z.ownerDocument;J===null||J[Lz]||(J[Lz]=!0,mA("selectionchange",!1,J))}}function SR(Z,J,Q,q){switch(uR(J)){case 2:var K=gl;break;case 8:K=ml;break;default:K=v3}Q=K.bind(null,J,Q,Z),K=void 0,!q$||J!=="touchstart"&&J!=="touchmove"&&J!=="wheel"||(K=!0),q?K!==void 0?Z.addEventListener(J,Q,{capture:!0,passive:K}):Z.addEventListener(J,Q,!0):K!==void 0?Z.addEventListener(J,Q,{passive:K}):Z.addEventListener(J,Q,!1)}function dA(Z,J,Q,q,K){var X=q;if((J&1)===0&&(J&2)===0&&q!==null)Z:for(;;){if(q===null)return;var N=q.tag;if(N===3||N===4){var Y=q.stateNode.containerInfo;if(Y===K)break;if(N===4)for(N=q.return;N!==null;){var O=N.tag;if((O===3||O===4)&&N.stateNode.containerInfo===K)return;N=N.return}for(;Y!==null;){if(N=kJ(Y),N===null)return;if(O=N.tag,O===5||O===6||O===26||O===27){q=X=N;continue Z}Y=Y.parentNode}}q=q.return}TL(function(){var U=X,$=s$(Q),B=[];Z:{var _=lL.get(Z);if(_!==void 0){var W=WN,w=Z;switch(Z){case"keypress":if(Sz(Q)===0)break Z;case"keydown":case"keyup":W=zu;break;case"focusin":w="focus",W=GA;break;case"focusout":w="blur",W=GA;break;case"beforeblur":case"afterblur":W=GA;break;case"click":if(Q.button===2)break Z;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Yu;break;case mL:case dL:case cL:W=tc;break;case uL:W=Ou;break;case"scroll":case"scrollend":W=ic;break;case"wheel":W=Au;break;case"copy":case"cut":case"paste":W=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=oj;break;case"toggle":case"beforetoggle":W=Du}var L=(J&4)!==0,R=!L&&(Z==="scroll"||Z==="scrollend"),G=L?_!==null?_+"Capture":null:_;L=[];for(var j=U,C;j!==null;){var T=j;if(C=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||C===null||G===null||(T=Lq(j,G),T!=null&&L.push(Pq(j,T,C))),R)break;j=j.return}0<L.length&&(_=new W(_,w,null,Q,$),B.push({event:_,listeners:L}))}}if((J&7)===0){Z:{if(_=Z==="mouseover"||Z==="pointerover",W=Z==="mouseout"||Z==="pointerout",_&&Q!==Q$&&(w=Q.relatedTarget||Q.fromElement)&&(kJ(w)||w[z2]))break Z;if(W||_){if(_=$.window===$?$:(_=$.ownerDocument)?_.defaultView||_.parentWindow:window,W){if(w=Q.relatedTarget||Q.toElement,W=U,w=w?kJ(w):null,w!==null&&(R=hq(w),L=w.tag,w!==R||L!==5&&L!==27&&L!==6))w=null}else W=null,w=U;if(W!==w){if(L=sj,T="onMouseLeave",G="onMouseEnter",j="mouse",Z==="pointerout"||Z==="pointerover")L=oj,T="onPointerLeave",G="onPointerEnter",j="pointer";if(R=W==null?_:qq(W),C=w==null?_:qq(w),_=new L(T,j+"leave",W,Q,$),_.target=R,_.relatedTarget=C,T=null,kJ($)===U&&(L=new L(G,j+"enter",w,Q,$),L.target=C,L.relatedTarget=R,T=L),R=T,W&&w)J:{L=Ul,G=W,j=w,C=0;for(T=G;T;T=L(T))C++;T=0;for(var v=j;v;v=L(v))T++;for(;0<C-T;)G=L(G),C--;for(;0<T-C;)j=L(j),T--;for(;C--;){if(G===j||j!==null&&G===j.alternate){L=G;break J}G=L(G),j=L(j)}L=null}else L=null;W!==null&&mw(B,_,W,L,!1),w!==null&&R!==null&&mw(B,R,w,L,!0)}}}Z:{if(_=U?qq(U):window,W=_.nodeName&&_.nodeName.toLowerCase(),W==="select"||W==="input"&&_.type==="file")var f=Zw;else if(ej(_))if(fL)f=Cu;else{f=wu;var b=ju}else W=_.nodeName,!W||W.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?U&&a$(U.elementType)&&(f=Zw):f=Lu;if(f&&(f=f(Z,U))){vL(B,f,Q,$);break Z}b&&b(Z,_,U),Z==="focusout"&&U&&_.type==="number"&&U.memoizedProps.value!=null&&J$(_,"number",_.value)}switch(b=U?qq(U):window,Z){case"focusin":if(ej(b)||b.contentEditable==="true")fJ=b,K$=U,Uq=null;break;case"focusout":Uq=K$=fJ=null;break;case"mousedown":X$=!0;break;case"contextmenu":case"mouseup":case"dragend":X$=!1,Kw(B,Q,$);break;case"selectionchange":if(Eu)break;case"keydown":case"keyup":Kw(B,Q,$)}var m;if(t$)Z:{switch(Z){case"compositionstart":var u="onCompositionStart";break Z;case"compositionend":u="onCompositionEnd";break Z;case"compositionupdate":u="onCompositionUpdate";break Z}u=void 0}else vJ?kL(Z,Q)&&(u="onCompositionEnd"):Z==="keydown"&&Q.keyCode===229&&(u="onCompositionStart");if(u&&(bL&&Q.locale!=="ko"&&(vJ||u!=="onCompositionStart"?u==="onCompositionEnd"&&vJ&&(m=SL()):(h7=$,n$=("value"in h7)?h7.value:h7.textContent,vJ=!0)),b=ON(U,u),0<b.length&&(u=new nj(u,Z,null,Q,$),B.push({event:u,listeners:b}),m?u.data=m:(m=PL(Q),m!==null&&(u.data=m)))),m=_u?Mu(Z,Q):Wu(Z,Q))u=ON(U,"onBeforeInput"),0<u.length&&(b=new nj("onBeforeInput","beforeinput",null,Q,$),B.push({event:b,listeners:u}),b.data=m);Vl(B,Z,U,Q,$)}TR(B,J)})}function Pq(Z,J,Q){return{instance:Z,listener:J,currentTarget:Q}}function ON(Z,J){for(var Q=J+"Capture",q=[];Z!==null;){var K=Z,X=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||X===null||(K=Lq(Z,Q),K!=null&&q.unshift(Pq(Z,K,X)),K=Lq(Z,J),K!=null&&q.push(Pq(Z,K,X))),Z.tag===3)return q;Z=Z.return}return[]}function Ul(Z){if(Z===null)return null;do Z=Z.return;while(Z&&Z.tag!==5&&Z.tag!==27);return Z?Z:null}function mw(Z,J,Q,q,K){for(var X=J._reactName,N=[];Q!==null&&Q!==q;){var Y=Q,O=Y.alternate,U=Y.stateNode;if(Y=Y.tag,O!==null&&O===q)break;Y!==5&&Y!==26&&Y!==27||U===null||(O=U,K?(U=Lq(Q,X),U!=null&&N.unshift(Pq(Q,U,O))):K||(U=Lq(Q,X),U!=null&&N.push(Pq(Q,U,O)))),Q=Q.return}N.length!==0&&Z.push({event:J,listeners:N})}function dw(Z){return(typeof Z==="string"?Z:""+Z).replace(Al,`
`).replace($l,"")}function bR(Z,J){return J=dw(J),dw(Z)===J?!0:!1}function Q1(Z,J,Q,q,K,X){switch(Q){case"children":typeof q==="string"?J==="body"||J==="textarea"&&q===""||tJ(Z,q):(typeof q==="number"||typeof q==="bigint")&&J!=="body"&&tJ(Z,""+q);break;case"className":_z(Z,"class",q);break;case"tabIndex":_z(Z,"tabindex",q);break;case"dir":case"role":case"viewBox":case"width":case"height":_z(Z,Q,q);break;case"style":IL(Z,q,X);break;case"data":if(J!=="object"){_z(Z,"data",q);break}case"src":case"href":if(q===""&&(J!=="a"||Q!=="href")){Z.removeAttribute(Q);break}if(q==null||typeof q==="function"||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=Iz(""+q),Z.setAttribute(Q,q);break;case"action":case"formAction":if(typeof q==="function"){Z.setAttribute(Q,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X==="function"&&(Q==="formAction"?(J!=="input"&&Q1(Z,J,"name",K.name,K,null),Q1(Z,J,"formEncType",K.formEncType,K,null),Q1(Z,J,"formMethod",K.formMethod,K,null),Q1(Z,J,"formTarget",K.formTarget,K,null)):(Q1(Z,J,"encType",K.encType,K,null),Q1(Z,J,"method",K.method,K,null),Q1(Z,J,"target",K.target,K,null)));if(q==null||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=Iz(""+q),Z.setAttribute(Q,q);break;case"onClick":q!=null&&(Z.onclick=v4);break;case"onScroll":q!=null&&R0("scroll",Z);break;case"onScrollEnd":q!=null&&R0("scrollend",Z);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(c(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(c(60));Z.innerHTML=Q}}break;case"multiple":Z.multiple=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"muted":Z.muted=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(q==null||typeof q==="function"||typeof q==="boolean"||typeof q==="symbol"){Z.removeAttribute("xlink:href");break}Q=Iz(""+q),Z.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Q);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""+q):Z.removeAttribute(Q);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":q&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""):Z.removeAttribute(Q);break;case"capture":case"download":q===!0?Z.setAttribute(Q,""):q!==!1&&q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"cols":case"rows":case"size":case"span":q!=null&&typeof q!=="function"&&typeof q!=="symbol"&&!isNaN(q)&&1<=q?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"rowSpan":case"start":q==null||typeof q==="function"||typeof q==="symbol"||isNaN(q)?Z.removeAttribute(Q):Z.setAttribute(Q,q);break;case"popover":R0("beforetoggle",Z),R0("toggle",Z),Ez(Z,"popover",q);break;case"xlinkActuate":R4(Z,"http://www.w3.org/1999/xlink","xlink:actuate",q);break;case"xlinkArcrole":R4(Z,"http://www.w3.org/1999/xlink","xlink:arcrole",q);break;case"xlinkRole":R4(Z,"http://www.w3.org/1999/xlink","xlink:role",q);break;case"xlinkShow":R4(Z,"http://www.w3.org/1999/xlink","xlink:show",q);break;case"xlinkTitle":R4(Z,"http://www.w3.org/1999/xlink","xlink:title",q);break;case"xlinkType":R4(Z,"http://www.w3.org/1999/xlink","xlink:type",q);break;case"xmlBase":R4(Z,"http://www.w3.org/XML/1998/namespace","xml:base",q);break;case"xmlLang":R4(Z,"http://www.w3.org/XML/1998/namespace","xml:lang",q);break;case"xmlSpace":R4(Z,"http://www.w3.org/XML/1998/namespace","xml:space",q);break;case"is":Ez(Z,"is",q);break;case"innerText":case"textContent":break;default:if(!(2<Q.length)||Q[0]!=="o"&&Q[0]!=="O"||Q[1]!=="n"&&Q[1]!=="N")Q=lc.get(Q)||Q,Ez(Z,Q,q)}}function b$(Z,J,Q,q,K,X){switch(Q){case"style":IL(Z,q,X);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(c(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(c(60));Z.innerHTML=Q}}break;case"children":typeof q==="string"?tJ(Z,q):(typeof q==="number"||typeof q==="bigint")&&tJ(Z,""+q);break;case"onScroll":q!=null&&R0("scroll",Z);break;case"onScrollEnd":q!=null&&R0("scrollend",Z);break;case"onClick":q!=null&&(Z.onclick=v4);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jL.hasOwnProperty(Q))Z:{if(Q[0]==="o"&&Q[1]==="n"&&(K=Q.endsWith("Capture"),J=Q.slice(2,K?Q.length-7:void 0),X=Z[t5]||null,X=X!=null?X[Q]:null,typeof X==="function"&&Z.removeEventListener(J,X,K),typeof q==="function")){typeof X!=="function"&&X!==null&&(Q in Z?Z[Q]=null:Z.hasAttribute(Q)&&Z.removeAttribute(Q)),Z.addEventListener(J,q,K);break Z}Q in Z?Z[Q]=q:q===!0?Z.setAttribute(Q,""):Ez(Z,Q,q)}}}function D5(Z,J,Q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":R0("error",Z),R0("load",Z);var q=!1,K=!1,X;for(X in Q)if(Q.hasOwnProperty(X)){var N=Q[X];if(N!=null)switch(X){case"src":q=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,J));default:Q1(Z,J,X,N,Q,null)}}K&&Q1(Z,J,"srcSet",Q.srcSet,Q,null),q&&Q1(Z,J,"src",Q.src,Q,null);return;case"input":R0("invalid",Z);var Y=X=N=K=null,O=null,U=null;for(q in Q)if(Q.hasOwnProperty(q)){var $=Q[q];if($!=null)switch(q){case"name":K=$;break;case"type":N=$;break;case"checked":O=$;break;case"defaultChecked":U=$;break;case"value":X=$;break;case"defaultValue":Y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(c(137,J));break;default:Q1(Z,J,q,$,Q,null)}}CL(Z,X,Y,O,U,N,K,!1);return;case"select":R0("invalid",Z),q=N=X=null;for(K in Q)if(Q.hasOwnProperty(K)&&(Y=Q[K],Y!=null))switch(K){case"value":X=Y;break;case"defaultValue":N=Y;break;case"multiple":q=Y;default:Q1(Z,J,K,Y,Q,null)}J=X,Q=N,Z.multiple=!!q,J!=null?uJ(Z,!!q,J,!1):Q!=null&&uJ(Z,!!q,Q,!0);return;case"textarea":R0("invalid",Z),X=K=q=null;for(N in Q)if(Q.hasOwnProperty(N)&&(Y=Q[N],Y!=null))switch(N){case"value":q=Y;break;case"defaultValue":K=Y;break;case"children":X=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(91));break;default:Q1(Z,J,N,Y,Q,null)}EL(Z,q,K,X);return;case"option":for(O in Q)if(Q.hasOwnProperty(O)&&(q=Q[O],q!=null))switch(O){case"selected":Z.selected=q&&typeof q!=="function"&&typeof q!=="symbol";break;default:Q1(Z,J,O,q,Q,null)}return;case"dialog":R0("beforetoggle",Z),R0("toggle",Z),R0("cancel",Z),R0("close",Z);break;case"iframe":case"object":R0("load",Z);break;case"video":case"audio":for(q=0;q<kq.length;q++)R0(kq[q],Z);break;case"image":R0("error",Z),R0("load",Z);break;case"details":R0("toggle",Z);break;case"embed":case"source":case"link":R0("error",Z),R0("load",Z);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in Q)if(Q.hasOwnProperty(U)&&(q=Q[U],q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,J));default:Q1(Z,J,U,q,Q,null)}return;default:if(a$(J)){for($ in Q)Q.hasOwnProperty($)&&(q=Q[$],q!==void 0&&b$(Z,J,$,q,Q,void 0));return}}for(Y in Q)Q.hasOwnProperty(Y)&&(q=Q[Y],q!=null&&Q1(Z,J,Y,q,Q,null))}function Dl(Z,J,Q,q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,X=null,N=null,Y=null,O=null,U=null,$=null;for(W in Q){var B=Q[W];if(Q.hasOwnProperty(W)&&B!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=B;default:q.hasOwnProperty(W)||Q1(Z,J,W,null,q,B)}}for(var _ in q){var W=q[_];if(B=Q[_],q.hasOwnProperty(_)&&(W!=null||B!=null))switch(_){case"type":X=W;break;case"name":K=W;break;case"checked":U=W;break;case"defaultChecked":$=W;break;case"value":N=W;break;case"defaultValue":Y=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(c(137,J));break;default:W!==B&&Q1(Z,J,_,W,q,B)}}Z$(Z,N,Y,O,U,$,X,K);return;case"select":W=N=Y=_=null;for(X in Q)if(O=Q[X],Q.hasOwnProperty(X)&&O!=null)switch(X){case"value":break;case"multiple":W=O;default:q.hasOwnProperty(X)||Q1(Z,J,X,null,q,O)}for(K in q)if(X=q[K],O=Q[K],q.hasOwnProperty(K)&&(X!=null||O!=null))switch(K){case"value":_=X;break;case"defaultValue":Y=X;break;case"multiple":N=X;default:X!==O&&Q1(Z,J,K,X,q,O)}J=Y,Q=N,q=W,_!=null?uJ(Z,!!Q,_,!1):!!q!==!!Q&&(J!=null?uJ(Z,!!Q,J,!0):uJ(Z,!!Q,Q?[]:"",!1));return;case"textarea":W=_=null;for(Y in Q)if(K=Q[Y],Q.hasOwnProperty(Y)&&K!=null&&!q.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Q1(Z,J,Y,null,q,K)}for(N in q)if(K=q[N],X=Q[N],q.hasOwnProperty(N)&&(K!=null||X!=null))switch(N){case"value":_=K;break;case"defaultValue":W=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(91));break;default:K!==X&&Q1(Z,J,N,K,q,X)}RL(Z,_,W);return;case"option":for(var w in Q)if(_=Q[w],Q.hasOwnProperty(w)&&_!=null&&!q.hasOwnProperty(w))switch(w){case"selected":Z.selected=!1;break;default:Q1(Z,J,w,null,q,_)}for(O in q)if(_=q[O],W=Q[O],q.hasOwnProperty(O)&&_!==W&&(_!=null||W!=null))switch(O){case"selected":Z.selected=_&&typeof _!=="function"&&typeof _!=="symbol";break;default:Q1(Z,J,O,_,q,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var L in Q)_=Q[L],Q.hasOwnProperty(L)&&_!=null&&!q.hasOwnProperty(L)&&Q1(Z,J,L,null,q,_);for(U in q)if(_=q[U],W=Q[U],q.hasOwnProperty(U)&&_!==W&&(_!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(137,J));break;default:Q1(Z,J,U,_,q,W)}return;default:if(a$(J)){for(var R in Q)_=Q[R],Q.hasOwnProperty(R)&&_!==void 0&&!q.hasOwnProperty(R)&&b$(Z,J,R,void 0,q,_);for($ in q)_=q[$],W=Q[$],!q.hasOwnProperty($)||_===W||_===void 0&&W===void 0||b$(Z,J,$,_,q,W);return}}for(var G in Q)_=Q[G],Q.hasOwnProperty(G)&&_!=null&&!q.hasOwnProperty(G)&&Q1(Z,J,G,null,q,_);for(B in q)_=q[B],W=Q[B],!q.hasOwnProperty(B)||_===W||_==null&&W==null||Q1(Z,J,B,_,q,W)}function cw(Z){switch(Z){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bl(){if(typeof performance.getEntriesByType==="function"){for(var Z=0,J=0,Q=performance.getEntriesByType("resource"),q=0;q<Q.length;q++){var K=Q[q],X=K.transferSize,N=K.initiatorType,Y=K.duration;if(X&&Y&&cw(N)){N=0,Y=K.responseEnd;for(q+=1;q<Q.length;q++){var O=Q[q],U=O.startTime;if(U>Y)break;var{transferSize:$,initiatorType:B}=O;$&&cw(B)&&(O=O.responseEnd,N+=$*(O<Y?1:(Y-U)/(O-U)))}if(--q,J+=8*(X+N)/(K.duration/1000),Z++,10<Z)break}}if(0<Z)return J/Z/1e6}return navigator.connection&&(Z=navigator.connection.downlink,typeof Z==="number")?Z:5}function UN(Z){return Z.nodeType===9?Z:Z.ownerDocument}function uw(Z){switch(Z){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kR(Z,J){if(Z===0)switch(J){case"svg":return 1;case"math":return 2;default:return 0}return Z===1&&J==="foreignObject"?0:Z}function v$(Z,J){return Z==="textarea"||Z==="noscript"||typeof J.children==="string"||typeof J.children==="number"||typeof J.children==="bigint"||typeof J.dangerouslySetInnerHTML==="object"&&J.dangerouslySetInnerHTML!==null&&J.dangerouslySetInnerHTML.__html!=null}function _l(){var Z=window.event;if(Z&&Z.type==="popstate"){if(Z===cA)return!1;return cA=Z,!0}return cA=null,!1}function Gl(Z){setTimeout(function(){throw Z})}function J9(Z){return Z==="head"}function pw(Z,J){var Q=J,q=0;do{var K=Q.nextSibling;if(Z.removeChild(Q),K&&K.nodeType===8)if(Q=K.data,Q==="/$"||Q==="/&"){if(q===0){Z.removeChild(K),X2(J);return}q--}else if(Q==="$"||Q==="$?"||Q==="$~"||Q==="$!"||Q==="&")q++;else if(Q==="html")jq(Z.ownerDocument.documentElement);else if(Q==="head"){Q=Z.ownerDocument.head,jq(Q);for(var X=Q.firstChild;X;){var{nextSibling:N,nodeName:Y}=X;X[dq]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&X.rel.toLowerCase()==="stylesheet"||Q.removeChild(X),X=N}}else Q==="body"&&jq(Z.ownerDocument.body);Q=K}while(Q);X2(J)}function iw(Z,J){var Q=Z;Z=0;do{var q=Q.nextSibling;if(Q.nodeType===1?J?(Q._stashedDisplay=Q.style.display,Q.style.display="none"):(Q.style.display=Q._stashedDisplay||"",Q.getAttribute("style")===""&&Q.removeAttribute("style")):Q.nodeType===3&&(J?(Q._stashedText=Q.nodeValue,Q.nodeValue=""):Q.nodeValue=Q._stashedText||""),q&&q.nodeType===8)if(Q=q.data,Q==="/$")if(Z===0)break;else Z--;else Q!=="$"&&Q!=="$?"&&Q!=="$~"&&Q!=="$!"||Z++;Q=q}while(Q)}function f$(Z){var J=Z.firstChild;J&&J.nodeType===10&&(J=J.nextSibling);for(;J;){var Q=J;switch(J=J.nextSibling,Q.nodeName){case"HTML":case"HEAD":case"BODY":f$(Q),i$(Q);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Q.rel.toLowerCase()==="stylesheet")continue}Z.removeChild(Q)}}function Fl(Z,J,Q,q){for(;Z.nodeType===1;){var K=Q;if(Z.nodeName.toLowerCase()!==J.toLowerCase()){if(!q&&(Z.nodeName!=="INPUT"||Z.type!=="hidden"))break}else if(!q)if(J==="input"&&Z.type==="hidden"){var X=K.name==null?null:""+K.name;if(K.type==="hidden"&&Z.getAttribute("name")===X)return Z}else return Z;else if(!Z[dq])switch(J){case"meta":if(!Z.hasAttribute("itemprop"))break;return Z;case"link":if(X=Z.getAttribute("rel"),X==="stylesheet"&&Z.hasAttribute("data-precedence"))break;else if(X!==K.rel||Z.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||Z.getAttribute("title")!==(K.title==null?null:K.title))break;return Z;case"style":if(Z.hasAttribute("data-precedence"))break;return Z;case"script":if(X=Z.getAttribute("src"),(X!==(K.src==null?null:K.src)||Z.getAttribute("type")!==(K.type==null?null:K.type)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&X&&Z.hasAttribute("async")&&!Z.hasAttribute("itemprop"))break;return Z;default:return Z}if(Z=J6(Z.nextSibling),Z===null)break}return null}function jl(Z,J,Q){if(J==="")return null;for(;Z.nodeType!==3;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!Q)return null;if(Z=J6(Z.nextSibling),Z===null)return null}return Z}function vR(Z,J){for(;Z.nodeType!==8;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!J)return null;if(Z=J6(Z.nextSibling),Z===null)return null}return Z}function y$(Z){return Z.data==="$?"||Z.data==="$~"}function h$(Z){return Z.data==="$!"||Z.data==="$?"&&Z.ownerDocument.readyState!=="loading"}function wl(Z,J){var Q=Z.ownerDocument;if(Z.data==="$~")Z._reactRetry=J;else if(Z.data!=="$?"||Q.readyState!=="loading")J();else{var q=function(){J(),Q.removeEventListener("DOMContentLoaded",q)};Q.addEventListener("DOMContentLoaded",q),Z._reactRetry=q}}function J6(Z){for(;Z!=null;Z=Z.nextSibling){var J=Z.nodeType;if(J===1||J===3)break;if(J===8){if(J=Z.data,J==="$"||J==="$!"||J==="$?"||J==="$~"||J==="&"||J==="F!"||J==="F")break;if(J==="/$"||J==="/&")return null}}return Z}function aw(Z){Z=Z.nextSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="/$"||Q==="/&"){if(J===0)return J6(Z.nextSibling);J--}else Q!=="$"&&Q!=="$!"&&Q!=="$?"&&Q!=="$~"&&Q!=="&"||J++}Z=Z.nextSibling}return null}function sw(Z){Z=Z.previousSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="$"||Q==="$!"||Q==="$?"||Q==="$~"||Q==="&"){if(J===0)return Z;J--}else Q!=="/$"&&Q!=="/&"||J++}Z=Z.previousSibling}return null}function fR(Z,J,Q){switch(J=UN(Q),Z){case"html":if(Z=J.documentElement,!Z)throw Error(c(452));return Z;case"head":if(Z=J.head,!Z)throw Error(c(453));return Z;case"body":if(Z=J.body,!Z)throw Error(c(454));return Z;default:throw Error(c(451))}}function jq(Z){for(var J=Z.attributes;J.length;)Z.removeAttributeNode(J[0]);i$(Z)}function AN(Z){return typeof Z.getRootNode==="function"?Z.getRootNode():Z.nodeType===9?Z:Z.ownerDocument}function Ll(){var Z=l4.f(),J=SN();return Z||J}function Cl(Z){var J=N2(Z);J!==null&&J.tag===5&&J.type==="form"?IC(J):l4.r(Z)}function yR(Z,J,Q){var q=O2;if(q&&typeof J==="string"&&J){var K=t8(J);K='link[rel="'+Z+'"][href="'+K+'"]',typeof Q==="string"&&(K+='[crossorigin="'+Q+'"]'),nw.has(K)||(nw.add(K),Z={rel:Z,crossOrigin:Q,href:J},q.querySelector(K)===null&&(J=q.createElement("link"),D5(J,"link",Z),J5(J),q.head.appendChild(J)))}}function Rl(Z){l4.D(Z),yR("dns-prefetch",Z,null)}function El(Z,J){l4.C(Z,J),yR("preconnect",Z,J)}function Il(Z,J,Q){l4.L(Z,J,Q);var q=O2;if(q&&Z&&J){var K='link[rel="preload"][as="'+t8(J)+'"]';J==="image"?Q&&Q.imageSrcSet?(K+='[imagesrcset="'+t8(Q.imageSrcSet)+'"]',typeof Q.imageSizes==="string"&&(K+='[imagesizes="'+t8(Q.imageSizes)+'"]')):K+='[href="'+t8(Z)+'"]':K+='[href="'+t8(Z)+'"]';var X=K;switch(J){case"style":X=K2(Z);break;case"script":X=U2(Z)}Q6.has(X)||(Z=A1({rel:"preload",href:J==="image"&&Q&&Q.imageSrcSet?void 0:Z,as:J},Q),Q6.set(X,Z),q.querySelector(K)!==null||J==="style"&&q.querySelector(aq(X))||J==="script"&&q.querySelector(sq(X))||(J=q.createElement("link"),D5(J,"link",Z),J5(J),q.head.appendChild(J)))}}function Tl(Z,J){l4.m(Z,J);var Q=O2;if(Q&&Z){var q=J&&typeof J.as==="string"?J.as:"script",K='link[rel="modulepreload"][as="'+t8(q)+'"][href="'+t8(Z)+'"]',X=K;switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=U2(Z)}if(!Q6.has(X)&&(Z=A1({rel:"modulepreload",href:Z},J),Q6.set(X,Z),Q.querySelector(K)===null)){switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Q.querySelector(sq(X)))return}q=Q.createElement("link"),D5(q,"link",Z),J5(q),Q.head.appendChild(q)}}}function Sl(Z,J,Q){l4.S(Z,J,Q);var q=O2;if(q&&Z){var K=cJ(q).hoistableStyles,X=K2(Z);J=J||"default";var N=K.get(X);if(!N){var Y={loading:0,preload:null};if(N=q.querySelector(aq(X)))Y.loading=5;else{Z=A1({rel:"stylesheet",href:Z,"data-precedence":J},Q),(Q=Q6.get(X))&&b3(Z,Q);var O=N=q.createElement("link");J5(O),D5(O,"link",Z),O._p=new Promise(function(U,$){O.onload=U,O.onerror=$}),O.addEventListener("load",function(){Y.loading|=1}),O.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,gz(N,J,q)}N={type:"stylesheet",instance:N,count:1,state:Y},K.set(X,N)}}}function bl(Z,J){l4.X(Z,J);var Q=O2;if(Q&&Z){var q=cJ(Q).hoistableScripts,K=U2(Z),X=q.get(K);X||(X=Q.querySelector(sq(K)),X||(Z=A1({src:Z,async:!0},J),(J=Q6.get(K))&&k3(Z,J),X=Q.createElement("script"),J5(X),D5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function kl(Z,J){l4.M(Z,J);var Q=O2;if(Q&&Z){var q=cJ(Q).hoistableScripts,K=U2(Z),X=q.get(K);X||(X=Q.querySelector(sq(K)),X||(Z=A1({src:Z,async:!0,type:"module"},J),(J=Q6.get(K))&&k3(Z,J),X=Q.createElement("script"),J5(X),D5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function ow(Z,J,Q,q){var K=(K=d7.current)?AN(K):null;if(!K)throw Error(c(446));switch(Z){case"meta":case"title":return null;case"style":return typeof Q.precedence==="string"&&typeof Q.href==="string"?(J=K2(Q.href),Q=cJ(K).hoistableStyles,q=Q.get(J),q||(q={type:"style",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};case"link":if(Q.rel==="stylesheet"&&typeof Q.href==="string"&&typeof Q.precedence==="string"){Z=K2(Q.href);var X=cJ(K).hoistableStyles,N=X.get(Z);if(N||(K=K.ownerDocument||K,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(Z,N),(X=K.querySelector(aq(Z)))&&!X._p&&(N.instance=X,N.state.loading=5),Q6.has(Z)||(Q={rel:"preload",as:"style",href:Q.href,crossOrigin:Q.crossOrigin,integrity:Q.integrity,media:Q.media,hrefLang:Q.hrefLang,referrerPolicy:Q.referrerPolicy},Q6.set(Z,Q),X||Pl(K,Z,Q,N.state))),J&&q===null)throw Error(c(528,""));return N}if(J&&q!==null)throw Error(c(529,""));return null;case"script":return J=Q.async,Q=Q.src,typeof Q==="string"&&J&&typeof J!=="function"&&typeof J!=="symbol"?(J=U2(Q),Q=cJ(K).hoistableScripts,q=Q.get(J),q||(q={type:"script",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,Z))}}function K2(Z){return'href="'+t8(Z)+'"'}function aq(Z){return'link[rel="stylesheet"]['+Z+"]"}function hR(Z){return A1({},Z,{"data-precedence":Z.precedence,precedence:null})}function Pl(Z,J,Q,q){Z.querySelector('link[rel="preload"][as="style"]['+J+"]")?q.loading=1:(J=Z.createElement("link"),q.preload=J,J.addEventListener("load",function(){return q.loading|=1}),J.addEventListener("error",function(){return q.loading|=2}),D5(J,"link",Q),J5(J),Z.head.appendChild(J))}function U2(Z){return'[src="'+t8(Z)+'"]'}function sq(Z){return"script[async]"+Z}function tw(Z,J,Q){if(J.count++,J.instance===null)switch(J.type){case"style":var q=Z.querySelector('style[data-href~="'+t8(Q.href)+'"]');if(q)return J.instance=q,J5(q),q;var K=A1({},Q,{"data-href":Q.href,"data-precedence":Q.precedence,href:null,precedence:null});return q=(Z.ownerDocument||Z).createElement("style"),J5(q),D5(q,"style",K),gz(q,Q.precedence,Z),J.instance=q;case"stylesheet":K=K2(Q.href);var X=Z.querySelector(aq(K));if(X)return J.state.loading|=4,J.instance=X,J5(X),X;q=hR(Q),(K=Q6.get(K))&&b3(q,K),X=(Z.ownerDocument||Z).createElement("link"),J5(X);var N=X;return N._p=new Promise(function(Y,O){N.onload=Y,N.onerror=O}),D5(X,"link",q),J.state.loading|=4,gz(X,Q.precedence,Z),J.instance=X;case"script":if(X=U2(Q.src),K=Z.querySelector(sq(X)))return J.instance=K,J5(K),K;if(q=Q,K=Q6.get(X))q=A1({},Q),k3(q,K);return Z=Z.ownerDocument||Z,K=Z.createElement("script"),J5(K),D5(K,"link",q),Z.head.appendChild(K),J.instance=K;case"void":return null;default:throw Error(c(443,J.type))}else J.type==="stylesheet"&&(J.state.loading&4)===0&&(q=J.instance,J.state.loading|=4,gz(q,Q.precedence,Z));return J.instance}function gz(Z,J,Q){for(var q=Q.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=q.length?q[q.length-1]:null,X=K,N=0;N<q.length;N++){var Y=q[N];if(Y.dataset.precedence===J)X=Y;else if(X!==K)break}X?X.parentNode.insertBefore(Z,X.nextSibling):(J=Q.nodeType===9?Q.head:Q,J.insertBefore(Z,J.firstChild))}function b3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.title==null&&(Z.title=J.title)}function k3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.integrity==null&&(Z.integrity=J.integrity)}function rw(Z,J,Q){if(mz===null){var q=new Map,K=mz=new Map;K.set(Q,q)}else K=mz,q=K.get(Q),q||(q=new Map,K.set(Q,q));if(q.has(Z))return q;q.set(Z,null),Q=Q.getElementsByTagName(Z);for(K=0;K<Q.length;K++){var X=Q[K];if(!(X[dq]||X[U5]||Z==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var N=X.getAttribute(J)||"";N=Z+N;var Y=q.get(N);Y?Y.push(X):q.set(N,[X])}}return q}function ew(Z,J,Q){Z=Z.ownerDocument||Z,Z.head.insertBefore(Q,J==="title"?Z.querySelector("head > title"):null)}function vl(Z,J,Q){if(Q===1||J.itemProp!=null)return!1;switch(Z){case"meta":case"title":return!0;case"style":if(typeof J.precedence!=="string"||typeof J.href!=="string"||J.href==="")break;return!0;case"link":if(typeof J.rel!=="string"||typeof J.href!=="string"||J.href===""||J.onLoad||J.onError)break;switch(J.rel){case"stylesheet":return Z=J.disabled,typeof J.precedence==="string"&&Z==null;default:return!0}case"script":if(J.async&&typeof J.async!=="function"&&typeof J.async!=="symbol"&&!J.onLoad&&!J.onError&&J.src&&typeof J.src==="string")return!0}return!1}function xR(Z){return Z.type==="stylesheet"&&(Z.state.loading&3)===0?!1:!0}function fl(Z,J,Q,q){if(Q.type==="stylesheet"&&(typeof q.media!=="string"||matchMedia(q.media).matches!==!1)&&(Q.state.loading&4)===0){if(Q.instance===null){var K=K2(q.href),X=J.querySelector(aq(K));if(X){J=X._p,J!==null&&typeof J==="object"&&typeof J.then==="function"&&(Z.count++,Z=$N.bind(Z),J.then(Z,Z)),Q.state.loading|=4,Q.instance=X,J5(X);return}X=J.ownerDocument||J,q=hR(q),(K=Q6.get(K))&&b3(q,K),X=X.createElement("link"),J5(X);var N=X;N._p=new Promise(function(Y,O){N.onload=Y,N.onerror=O}),D5(X,"link",q),Q.instance=X}Z.stylesheets===null&&(Z.stylesheets=new Map),Z.stylesheets.set(Q,J),(J=Q.state.preload)&&(Q.state.loading&3)===0&&(Z.count++,Q=$N.bind(Z),J.addEventListener("load",Q),J.addEventListener("error",Q))}}function yl(Z,J){return Z.stylesheets&&Z.count===0&&dz(Z,Z.stylesheets),0<Z.count||0<Z.imgCount?function(Q){var q=setTimeout(function(){if(Z.stylesheets&&dz(Z,Z.stylesheets),Z.unsuspend){var X=Z.unsuspend;Z.unsuspend=null,X()}},60000+J);0<Z.imgBytes&&uA===0&&(uA=62500*Bl());var K=setTimeout(function(){if(Z.waitingForImages=!1,Z.count===0&&(Z.stylesheets&&dz(Z,Z.stylesheets),Z.unsuspend)){var X=Z.unsuspend;Z.unsuspend=null,X()}},(Z.imgBytes>uA?50:800)+J);return Z.unsuspend=Q,function(){Z.unsuspend=null,clearTimeout(q),clearTimeout(K)}}:null}function $N(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dz(this,this.stylesheets);else if(this.unsuspend){var Z=this.unsuspend;this.unsuspend=null,Z()}}}function dz(Z,J){Z.stylesheets=null,Z.unsuspend!==null&&(Z.count++,DN=new Map,J.forEach(hl,Z),DN=null,$N.call(Z))}function hl(Z,J){if(!(J.state.loading&4)){var Q=DN.get(Z);if(Q)var q=Q.get(null);else{Q=new Map,DN.set(Z,Q);for(var K=Z.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<K.length;X++){var N=K[X];if(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")Q.set(N.dataset.precedence,N),q=N}q&&Q.set(null,q)}K=J.instance,N=K.getAttribute("data-precedence"),X=Q.get(N)||q,X===q&&Q.set(null,K),Q.set(N,K),this.count++,q=$N.bind(this),K.addEventListener("load",q),K.addEventListener("error",q),X?X.parentNode.insertBefore(K,X.nextSibling):(Z=Z.nodeType===9?Z.head:Z,Z.insertBefore(K,Z.firstChild)),J.state.loading|=4}}function xl(Z,J,Q,q,K,X,N,Y,O){this.tag=1,this.containerInfo=Z,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=BA(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BA(0),this.hiddenUpdates=BA(null),this.identifierPrefix=q,this.onUncaughtError=K,this.onCaughtError=X,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function gR(Z,J,Q,q,K,X,N,Y,O,U,$,B){return Z=new xl(Z,J,Q,N,O,U,$,B,Y),J=1,X===!0&&(J|=24),X=j8(3,null,null,J),Z.current=X,X.stateNode=Z,J=K3(),J.refCount++,Z.pooledCache=J,J.refCount++,X.memoizedState={element:q,isDehydrated:Q,cache:J},N3(X),Z}function mR(Z){if(!Z)return xJ;return Z=xJ,Z}function dR(Z,J,Q,q,K,X){K=mR(K),q.context===null?q.context=K:q.pendingContext=K,q=u7(J),q.payload={element:Q},X=X===void 0?null:X,X!==null&&(q.callback=X),Q=l7(Z,q,J),Q!==null&&(o5(Q,Z,J),$q(Q,Z,J))}function ZL(Z,J){if(Z=Z.memoizedState,Z!==null&&Z.dehydrated!==null){var Q=Z.retryLane;Z.retryLane=Q!==0&&Q<J?Q:J}}function P3(Z,J){ZL(Z,J),(Z=Z.alternate)&&ZL(Z,J)}function cR(Z){if(Z.tag===13||Z.tag===31){var J=YZ(Z,67108864);J!==null&&o5(J,Z,67108864),P3(Z,67108864)}}function JL(Z){if(Z.tag===13||Z.tag===31){var J=E8();J=l$(J);var Q=YZ(Z,J);Q!==null&&o5(Q,Z,J),P3(Z,J)}}function gl(Z,J,Q,q){var K=O0.T;O0.T=null;var X=d0.p;try{d0.p=2,v3(Z,J,Q,q)}finally{d0.p=X,O0.T=K}}function ml(Z,J,Q,q){var K=O0.T;O0.T=null;var X=d0.p;try{d0.p=8,v3(Z,J,Q,q)}finally{d0.p=X,O0.T=K}}function v3(Z,J,Q,q){if(BN){var K=g$(q);if(K===null)dA(Z,J,q,_N,Q),QL(Z,q);else if(cl(K,Z,J,Q,q))q.stopPropagation();else if(QL(Z,q),J&4&&-1<dl.indexOf(Z)){for(;K!==null;){var X=N2(K);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var N=i9(X.pendingLanes);if(N!==0){var Y=X;Y.pendingLanes|=2;for(Y.entangledLanes|=2;N;){var O=1<<31-R8(N);Y.entanglements[1]|=O,N&=~O}o6(X),(m0&6)===0&&(zN=L8()+500,iq(0,!1))}}break;case 31:case 13:Y=YZ(X,2),Y!==null&&o5(Y,X,2),SN(),P3(X,2)}if(X=g$(q),X===null&&dA(Z,J,q,_N,Q),X===K)break;K=X}K!==null&&q.stopPropagation()}else dA(Z,J,q,null,Q)}}function g$(Z){return Z=s$(Z),f3(Z)}function f3(Z){if(_N=null,Z=kJ(Z),Z!==null){var J=hq(Z);if(J===null)Z=null;else{var Q=J.tag;if(Q===13){if(Z=HL(J),Z!==null)return Z;Z=null}else if(Q===31){if(Z=YL(J),Z!==null)return Z;Z=null}else if(Q===3){if(J.stateNode.current.memoizedState.isDehydrated)return J.tag===3?J.stateNode.containerInfo:null;Z=null}else J!==Z&&(Z=null)}}return _N=Z,null}function uR(Z){switch(Z){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ic()){case AL:return 2;case $L:return 8;case iz:case Tc:return 32;case DL:return 268435456;default:return 32}default:return 32}}function QL(Z,J){switch(Z){case"focusin":case"focusout":a7=null;break;case"dragenter":case"dragleave":s7=null;break;case"mouseover":case"mouseout":n7=null;break;case"pointerover":case"pointerout":fq.delete(J.pointerId);break;case"gotpointercapture":case"lostpointercapture":yq.delete(J.pointerId)}}function Zq(Z,J,Q,q,K,X){if(Z===null||Z.nativeEvent!==X)return Z={blockedOn:J,domEventName:Q,eventSystemFlags:q,nativeEvent:X,targetContainers:[K]},J!==null&&(J=N2(J),J!==null&&cR(J)),Z;return Z.eventSystemFlags|=q,J=Z.targetContainers,K!==null&&J.indexOf(K)===-1&&J.push(K),Z}function cl(Z,J,Q,q,K){switch(J){case"focusin":return a7=Zq(a7,Z,J,Q,q,K),!0;case"dragenter":return s7=Zq(s7,Z,J,Q,q,K),!0;case"mouseover":return n7=Zq(n7,Z,J,Q,q,K),!0;case"pointerover":var X=K.pointerId;return fq.set(X,Zq(fq.get(X)||null,Z,J,Q,q,K)),!0;case"gotpointercapture":return X=K.pointerId,yq.set(X,Zq(yq.get(X)||null,Z,J,Q,q,K)),!0}return!1}function lR(Z){var J=kJ(Z.target);if(J!==null){var Q=hq(J);if(Q!==null){if(J=Q.tag,J===13){if(J=HL(Q),J!==null){Z.blockedOn=J,dj(Z.priority,function(){JL(Q)});return}}else if(J===31){if(J=YL(Q),J!==null){Z.blockedOn=J,dj(Z.priority,function(){JL(Q)});return}}else if(J===3&&Q.stateNode.current.memoizedState.isDehydrated){Z.blockedOn=Q.tag===3?Q.stateNode.containerInfo:null;return}}}Z.blockedOn=null}function cz(Z){if(Z.blockedOn!==null)return!1;for(var J=Z.targetContainers;0<J.length;){var Q=g$(Z.nativeEvent);if(Q===null){Q=Z.nativeEvent;var q=new Q.constructor(Q.type,Q);Q$=q,Q.target.dispatchEvent(q),Q$=null}else return J=N2(Q),J!==null&&cR(J),Z.blockedOn=Q,!1;J.shift()}return!0}function qL(Z,J,Q){cz(Z)&&Q.delete(J)}function ul(){m$=!1,a7!==null&&cz(a7)&&(a7=null),s7!==null&&cz(s7)&&(s7=null),n7!==null&&cz(n7)&&(n7=null),fq.forEach(qL),yq.forEach(qL)}function Cz(Z,J){Z.blockedOn===J&&(Z.blockedOn=null,m$||(m$=!0,GJ(WJ,ul)))}function KL(Z){Rz!==Z&&(Rz=Z,GJ(WJ,function(){Rz===Z&&(Rz=null);for(var J=0;J<Z.length;J+=3){var Q=Z[J],q=Z[J+1],K=Z[J+2];if(typeof q!=="function")if(f3(q||Q)===null)continue;else break;var X=N2(Q);X!==null&&(Z.splice(J,3),J-=3,M$(X,{pending:!0,data:K,method:Q.method,action:q},q,K))}}))}function X2(Z){function J(O){return Cz(O,Z)}a7!==null&&Cz(a7,Z),s7!==null&&Cz(s7,Z),n7!==null&&Cz(n7,Z),fq.forEach(J),yq.forEach(J);for(var Q=0;Q<f7.length;Q++){var q=f7[Q];q.blockedOn===Z&&(q.blockedOn=null)}for(;0<f7.length&&(Q=f7[0],Q.blockedOn===null);)lR(Q),Q.blockedOn===null&&f7.shift();if(Q=(Z.ownerDocument||Z).$$reactFormReplay,Q!=null)for(q=0;q<Q.length;q+=3){var K=Q[q],X=Q[q+1],N=K[t5]||null;if(typeof X==="function")N||KL(Q);else if(N){var Y=null;if(X&&X.hasAttribute("formAction")){if(K=X,N=X[t5]||null)Y=N.formAction;else if(f3(K)!==null)continue}else Y=N.action;typeof Y==="function"?Q[q+1]=Y:(Q.splice(q,3),q-=3),KL(Q)}}}function pR(){function Z(X){X.canIntercept&&X.info==="react-transition"&&X.intercept({handler:function(){return new Promise(function(N){return K=N})},focusReset:"manual",scroll:"manual"})}function J(){K!==null&&(K(),K=null),q||setTimeout(Q,20)}function Q(){if(!q&&!navigation.transition){var X=navigation.currentEntry;X&&X.url!=null&&navigation.navigate(X.url,{state:X.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation==="object"){var q=!1,K=null;return navigation.addEventListener("navigate",Z),navigation.addEventListener("navigatesuccess",J),navigation.addEventListener("navigateerror",J),setTimeout(Q,100),function(){q=!0,navigation.removeEventListener("navigate",Z),navigation.removeEventListener("navigatesuccess",J),navigation.removeEventListener("navigateerror",J),K!==null&&(K(),K=null)}}}function y3(Z){this._internalRoot=Z}function PN(Z){this._internalRoot=Z}var zL,A1,jc,Az,Jq,SJ,OL,lA,UL,P4,d$,pA,iA,c$,S7,aA,wc,xj,Lc,Qq,O0,d0,o9,nA,bJ=-1,s6,wq,d7,uz,UA,gj,AA=!1,tA,u$,DA,Rc,Ec,L8,Ic,AL,$L,iz,Tc,DL,Sc,bc,xq=null,C8=null,R8,kc,Pc,$z=256,Dz=262144,Bz=4194304,Z9,U5,t5,z2,rA,hc,xc,cj,dq,FL,jL,gc,uj,lj,cc,uc,lc,pc,Q$=null,PJ=null,lJ=null,_A=!1,g4,q$=!1,a9,h7=null,n$=null,Tz=null,NZ,WN,cq,ic,MA,WA,oQ,GN,sj,ac,sc,nc,GA,oc,tc,rc,ec,Zu,nj,Ju,Qu,qu,Xu,zu,Nu,oj,Hu,Yu,Vu,Ou,Uu,Au,$u,Du,Bu,t$,Vq=null,_u,bL,tj,rj=!1,vJ=!1,Gu,Oq=null,Cq=null,fL=!1,Kq,Xq,bz,I8,Eu,fJ=null,K$=null,Uq=null,X$=!1,yJ,FA,gL,mL,dL,cL,Iu,Tu,Su,uL,lL,z$,sz,a8,hJ=0,e$=0,xJ,Xw,gJ,mJ=0,oz=null,Eq=0,n8,o8=0,o7=null,p6=1,i6="",A5=null,U1=null,b0=!1,c7=null,e8=!1,N$,H$,VZ=null,f4=null,ku,Pu,vu,d1,Aq=null,O$=0,rJ=0,pJ=null,Yw,r9,Y2,z3,LN,rz,e9=null,iJ=null,Tq=0,qZ,ZC,b7=!1,A$=!1,eJ,ez,T8,Z6=null,b1,m4=0,W0=null,q1=null,g1=null,JN=!1,aJ=!1,KZ=!1,QN=0,Sq=0,sJ=null,hu=0,bq,vC,F3,fC,W$,j3,c1=!1,IA,k4=!1,m1=!1,yA=!1,kw,Z5=null,B1=null,s5=!1,G6=null,Nq=8192,ru,eu,m0=0,K1=null,E0=null,T0=0,n0=0,G8=null,x7=!1,V2=!1,R3=!1,u4=0,E1=0,e7=0,ZZ=0,E3=0,w8=0,J2=0,Gq=null,n5=null,L$=!1,TN=0,VR=0,zN=1/0,NN=null,p7=null,a1=0,i7=null,Q2=null,x4=0,C$=0,R$=null,OR=null,Fq=0,E$=null,YN=null,IJ=null,I$=!1,VN=!1,gA=!1,m7=0,Yq,T$,S$,Hq,kq,Ol,Lz,Al,$l,k$=null,P$=null,cA=null,PR,Ml,lw,Wl,x$=null,Q6,nw,l4,O2,mz=null,uA=0,DN=null,vq,BN=!0,_N=null,m$=!1,a7=null,s7=null,n7=null,fq,yq,f7,dl,Rz=null,XL,ll,TJ,iR=function(Z,J){if(!NL(Z))throw Error(c(299));var Q=!1,q="",K=yC,X=hC,N=xC;return J!==null&&J!==void 0&&(J.unstable_strictMode===!0&&(Q=!0),J.identifierPrefix!==void 0&&(q=J.identifierPrefix),J.onUncaughtError!==void 0&&(K=J.onUncaughtError),J.onCaughtError!==void 0&&(X=J.onCaughtError),J.onRecoverableError!==void 0&&(N=J.onRecoverableError)),J=gR(Z,1,!1,null,null,Q,q,null,K,X,N,pR),Z[z2]=J.current,S3(Z),new y3(J)},aR=function(Z,J,Q){if(!NL(Z))throw Error(c(299));var q=!1,K="",X=yC,N=hC,Y=xC,O=null;return Q!==null&&Q!==void 0&&(Q.unstable_strictMode===!0&&(q=!0),Q.identifierPrefix!==void 0&&(K=Q.identifierPrefix),Q.onUncaughtError!==void 0&&(X=Q.onUncaughtError),Q.onCaughtError!==void 0&&(N=Q.onCaughtError),Q.onRecoverableError!==void 0&&(Y=Q.onRecoverableError),Q.formState!==void 0&&(O=Q.formState)),J=gR(Z,1,!0,J,Q!=null?Q:null,q,K,O,X,N,Y,pR),J.context=mR(null),Q=J.current,q=E8(),q=l$(q),K=u7(q),K.callback=null,l7(Q,K,q),Q=q,J.current.lanes=Q,mq(J,Q),o6(J),Z[z2]=J.current,S3(Z),new PN(J)},sR="19.2.0";var nR=F(()=>{Aj();C5();zL=cQ(yj(),1);A1=Object.assign,jc=Symbol.for("react.element"),Az=Symbol.for("react.transitional.element"),Jq=Symbol.for("react.portal"),SJ=Symbol.for("react.fragment"),OL=Symbol.for("react.strict_mode"),lA=Symbol.for("react.profiler"),UL=Symbol.for("react.consumer"),P4=Symbol.for("react.context"),d$=Symbol.for("react.forward_ref"),pA=Symbol.for("react.suspense"),iA=Symbol.for("react.suspense_list"),c$=Symbol.for("react.memo"),S7=Symbol.for("react.lazy"),aA=Symbol.for("react.activity"),wc=Symbol.for("react.memo_cache_sentinel"),xj=Symbol.iterator;Lc=Symbol.for("react.client.reference");Qq=Array.isArray,O0=c9,d0=zL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,o9={pending:!1,data:null,method:null,action:null},nA=[];s6=n6(null),wq=n6(null),d7=n6(null),uz=n6(null);tA=Object.prototype.hasOwnProperty,u$=GJ,DA=JA,Rc=KA,Ec=qA,L8=u6,Ic=QA,AL=rU,$L=ZA,iz=WJ,Tc=eU,DL=tU,Sc=void 0,bc=void 0;R8=Math.clz32?Math.clz32:vc,kc=Math.log,Pc=Math.LN2;Z9=Math.random().toString(36).slice(2),U5="__reactFiber$"+Z9,t5="__reactProps$"+Z9,z2="__reactContainer$"+Z9,rA="__reactEvents$"+Z9,hc="__reactListeners$"+Z9,xc="__reactHandles$"+Z9,cj="__reactResources$"+Z9,dq="__reactMarker$"+Z9;FL=new Set,jL={};gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uj={},lj={};cc=/[\n"\\]/g;uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;g4=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u");if(g4)try{a9={},Object.defineProperty(a9,"passive",{get:function(){q$=!0}}),window.addEventListener("test",a9,a9),window.removeEventListener("test",a9,a9)}catch(Z){q$=!1}NZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Z){return Z.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WN=r5(NZ),cq=A1({},NZ,{view:0,detail:0}),ic=r5(cq),GN=A1({},cq,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o$,button:0,buttons:0,relatedTarget:function(Z){return Z.relatedTarget===void 0?Z.fromElement===Z.srcElement?Z.toElement:Z.fromElement:Z.relatedTarget},movementX:function(Z){if("movementX"in Z)return Z.movementX;return Z!==oQ&&(oQ&&Z.type==="mousemove"?(MA=Z.screenX-oQ.screenX,WA=Z.screenY-oQ.screenY):WA=MA=0,oQ=Z),MA},movementY:function(Z){return"movementY"in Z?Z.movementY:WA}}),sj=r5(GN),ac=A1({},GN,{dataTransfer:0}),sc=r5(ac),nc=A1({},cq,{relatedTarget:0}),GA=r5(nc),oc=A1({},NZ,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=r5(oc),rc=A1({},NZ,{clipboardData:function(Z){return"clipboardData"in Z?Z.clipboardData:window.clipboardData}}),ec=r5(rc),Zu=A1({},NZ,{data:0}),nj=r5(Zu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Xu=A1({},cq,{key:function(Z){if(Z.key){var J=Ju[Z.key]||Z.key;if(J!=="Unidentified")return J}return Z.type==="keypress"?(Z=Sz(Z),Z===13?"Enter":String.fromCharCode(Z)):Z.type==="keydown"||Z.type==="keyup"?Qu[Z.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o$,charCode:function(Z){return Z.type==="keypress"?Sz(Z):0},keyCode:function(Z){return Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0},which:function(Z){return Z.type==="keypress"?Sz(Z):Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0}}),zu=r5(Xu),Nu=A1({},GN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oj=r5(Nu),Hu=A1({},cq,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o$}),Yu=r5(Hu),Vu=A1({},NZ,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=r5(Vu),Uu=A1({},GN,{deltaX:function(Z){return"deltaX"in Z?Z.deltaX:("wheelDeltaX"in Z)?-Z.wheelDeltaX:0},deltaY:function(Z){return"deltaY"in Z?Z.deltaY:("wheelDeltaY"in Z)?-Z.wheelDeltaY:("wheelDelta"in Z)?-Z.wheelDelta:0},deltaZ:0,deltaMode:0}),Au=r5(Uu),$u=A1({},NZ,{newState:0,oldState:0}),Du=r5($u),Bu=[9,13,27,32],t$=g4&&"CompositionEvent"in window;g4&&"documentMode"in document&&(Vq=document.documentMode);_u=g4&&"TextEvent"in window&&!Vq,bL=g4&&(!t$||Vq&&8<Vq&&11>=Vq),tj=String.fromCharCode(32);Gu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if(g4){if(g4){if(Xq="oninput"in document,!Xq)bz=document.createElement("div"),bz.setAttribute("oninput","return;"),Xq=typeof bz.oninput==="function";Kq=Xq}else Kq=!1;fL=Kq&&(!document.documentMode||9<document.documentMode)}I8=typeof Object.is==="function"?Object.is:Ru;Eu=g4&&"documentMode"in document&&11>=document.documentMode;yJ={animationend:l9("Animation","AnimationEnd"),animationiteration:l9("Animation","AnimationIteration"),animationstart:l9("Animation","AnimationStart"),transitionrun:l9("Transition","TransitionRun"),transitionstart:l9("Transition","TransitionStart"),transitioncancel:l9("Transition","TransitionCancel"),transitionend:l9("Transition","TransitionEnd")},FA={},gL={};g4&&(gL=document.createElement("div").style,("AnimationEvent"in window)||(delete yJ.animationend.animation,delete yJ.animationiteration.animation,delete yJ.animationstart.animation),("TransitionEvent"in window)||delete yJ.transitionend.transition);mL=HZ("animationend"),dL=HZ("animationiteration"),cL=HZ("animationstart"),Iu=HZ("transitionrun"),Tu=HZ("transitionstart"),Su=HZ("transitioncancel"),uL=HZ("transitionend"),lL=new Map,z$="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z$.push("scrollEnd");sz=typeof reportError==="function"?reportError:function(Z){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z==="object"&&Z!==null&&typeof Z.message==="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(J))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Z);return}console.error(Z)},a8=[];xJ={};Xw=new WeakMap;gJ=[],n8=[];N$=Error(c(519));H$=n6(null);ku=typeof AbortController<"u"?AbortController:function(){var Z=[],J=this.signal={aborted:!1,addEventListener:function(Q,q){Z.push(q)}};this.abort=function(){J.aborted=!0,Z.forEach(function(Q){return Q()})}},Pu=GJ,vu=WJ,d1={$$typeof:P4,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};Yw=O0.S;O0.S=function(Z,J){VR=L8(),typeof J==="object"&&J!==null&&typeof J.then==="function"&&fu(Z,J),Yw!==null&&Yw(Z,J)};r9=n6(null);Y2=Error(c(460)),z3=Error(c(474)),LN=Error(c(542)),rz={then:function(){}};qZ=eL(!0),ZC=eL(!1);eJ=n6(null),ez=n6(0);T8=n6(null);b1=n6(0);bq={readContext:$5,use:RN,useCallback:R1,useContext:R1,useEffect:R1,useImperativeHandle:R1,useLayoutEffect:R1,useInsertionEffect:R1,useMemo:R1,useReducer:R1,useRef:R1,useState:R1,useDebugValue:R1,useDeferredValue:R1,useTransition:R1,useSyncExternalStore:R1,useId:R1,useHostTransitionStatus:R1,useFormState:R1,useActionState:R1,useOptimistic:R1,useMemoCache:R1,useCacheRefresh:R1};bq.useEffectEvent=R1;vC={readContext:$5,use:RN,useCallback:function(Z,J){return k5().memoizedState=[Z,J===void 0?null:J],Z},useContext:$5,useEffect:Ww,useImperativeHandle:function(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,fz(4194308,4,FC.bind(null,J,Z),Q)},useLayoutEffect:function(Z,J){return fz(4194308,4,Z,J)},useInsertionEffect:function(Z,J){fz(4,2,Z,J)},useMemo:function(Z,J){var Q=k5();J=J===void 0?null:J;var q=Z();if(KZ){y7(!0);try{Z()}finally{y7(!1)}}return Q.memoizedState=[q,J],q},useReducer:function(Z,J,Q){var q=k5();if(Q!==void 0){var K=Q(J);if(KZ){y7(!0);try{Q(J)}finally{y7(!1)}}}else K=J;return q.memoizedState=q.baseState=K,Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z,lastRenderedState:K},q.queue=Z,Z=Z.dispatch=lu.bind(null,W0,Z),[q.memoizedState,Z]},useRef:function(Z){var J=k5();return Z={current:Z},J.memoizedState=Z},useState:function(Z){Z=B$(Z);var J=Z.queue,Q=bC.bind(null,W0,J);return J.dispatch=Q,[Z.memoizedState,Q]},useDebugValue:_3,useDeferredValue:function(Z,J){var Q=k5();return M3(Q,Z,J)},useTransition:function(){var Z=B$(!1);return Z=RC.bind(null,W0,Z.queue,!0,!1),k5().memoizedState=Z,[!1,Z]},useSyncExternalStore:function(Z,J,Q){var q=W0,K=k5();if(b0){if(Q===void 0)throw Error(c(407));Q=Q()}else{if(Q=J(),K1===null)throw Error(c(349));(T0&127)!==0||NC(q,J,Q)}K.memoizedState=Q;var X={value:Q,getSnapshot:J};return K.queue=X,Ww(YC.bind(null,q,X,Z),[Z]),q.flags|=2048,Z2(9,{destroy:void 0},HC.bind(null,q,X,Q,J),null),Q},useId:function(){var Z=k5(),J=K1.identifierPrefix;if(b0){var Q=i6,q=p6;Q=(q&~(1<<32-R8(q)-1)).toString(32)+Q,J="_"+J+"R_"+Q,Q=QN++,0<Q&&(J+="H"+Q.toString(32)),J+="_"}else Q=hu++,J="_"+J+"r_"+Q.toString(32)+"_";return Z.memoizedState=J},useHostTransitionStatus:W3,useFormState:Bw,useActionState:Bw,useOptimistic:function(Z){var J=k5();J.memoizedState=J.baseState=Z;var Q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return J.queue=Q,J=G3.bind(null,W0,!0,Q),Q.dispatch=J,[Z,J]},useMemoCache:$3,useCacheRefresh:function(){return k5().memoizedState=uu.bind(null,W0)},useEffectEvent:function(Z){var J=k5(),Q={impl:Z};return J.memoizedState=Q,function(){if((m0&2)!==0)throw Error(c(440));return Q.impl.apply(void 0,arguments)}}},F3={readContext:$5,use:RN,useCallback:wC,useContext:$5,useEffect:B3,useImperativeHandle:jC,useInsertionEffect:WC,useLayoutEffect:GC,useMemo:LC,useReducer:vz,useRef:_C,useState:function(){return vz(d4)},useDebugValue:_3,useDeferredValue:function(Z,J){var Q=k1();return CC(Q,q1.memoizedState,Z,J)},useTransition:function(){var Z=vz(d4)[0],J=k1().memoizedState;return[typeof Z==="boolean"?Z:lq(Z),J]},useSyncExternalStore:zC,useId:TC,useHostTransitionStatus:W3,useFormState:_w,useActionState:_w,useOptimistic:function(Z,J){var Q=k1();return UC(Q,q1,Z,J)},useMemoCache:$3,useCacheRefresh:SC};F3.useEffectEvent=MC;fC={readContext:$5,use:RN,useCallback:wC,useContext:$5,useEffect:B3,useImperativeHandle:jC,useInsertionEffect:WC,useLayoutEffect:GC,useMemo:LC,useReducer:RA,useRef:_C,useState:function(){return RA(d4)},useDebugValue:_3,useDeferredValue:function(Z,J){var Q=k1();return q1===null?M3(Q,Z,J):CC(Q,q1.memoizedState,Z,J)},useTransition:function(){var Z=RA(d4)[0],J=k1().memoizedState;return[typeof Z==="boolean"?Z:lq(Z),J]},useSyncExternalStore:zC,useId:TC,useHostTransitionStatus:W3,useFormState:Mw,useActionState:Mw,useOptimistic:function(Z,J){var Q=k1();if(q1!==null)return UC(Q,q1,Z,J);return Q.baseState=Z,[Z,Q.queue.dispatch]},useMemoCache:$3,useCacheRefresh:SC};fC.useEffectEvent=MC;W$={enqueueSetState:function(Z,J,Q){Z=Z._reactInternals;var q=E8(),K=u7(q);K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=l7(Z,K,q),J!==null&&(o5(J,Z,q),$q(J,Z,q))},enqueueReplaceState:function(Z,J,Q){Z=Z._reactInternals;var q=E8(),K=u7(q);K.tag=1,K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=l7(Z,K,q),J!==null&&(o5(J,Z,q),$q(J,Z,q))},enqueueForceUpdate:function(Z,J){Z=Z._reactInternals;var Q=E8(),q=u7(Q);q.tag=2,J!==void 0&&J!==null&&(q.callback=J),J=l7(Z,q,Q),J!==null&&(o5(J,Z,Q),$q(J,Z,Q))}};j3=Error(c(461));IA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};kw=typeof WeakSet==="function"?WeakSet:Set;ru={getCacheForType:function(Z){var J=$5(d1),Q=J.data.get(Z);return Q===void 0&&(Q=Z(),J.data.set(Z,Q)),Q},cacheSignal:function(){return $5(d1).controller.signal}},eu=typeof WeakMap==="function"?WeakMap:Map;for(Hq=0;Hq<z$.length;Hq++)Yq=z$[Hq],T$=Yq.toLowerCase(),S$=Yq[0].toUpperCase()+Yq.slice(1),F6(T$,"on"+S$);F6(mL,"onAnimationEnd");F6(dL,"onAnimationIteration");F6(cL,"onAnimationStart");F6("dblclick","onDoubleClick");F6("focusin","onFocus");F6("focusout","onBlur");F6(Iu,"onTransitionRun");F6(Tu,"onTransitionStart");F6(Su,"onTransitionCancel");F6(uL,"onTransitionEnd");oJ("onMouseEnter",["mouseout","mouseover"]);oJ("onMouseLeave",["mouseout","mouseover"]);oJ("onPointerEnter",["pointerout","pointerover"]);oJ("onPointerLeave",["pointerout","pointerover"]);zZ("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zZ("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zZ("onBeforeInput",["compositionend","keypress","textInput","paste"]);zZ("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zZ("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zZ("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));kq="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ol=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kq));Lz="_reactListening"+Math.random().toString(36).slice(2);Al=/\r\n?/g,$l=/\u0000|\uFFFD/g;PR=typeof setTimeout==="function"?setTimeout:void 0,Ml=typeof clearTimeout==="function"?clearTimeout:void 0,lw=typeof Promise==="function"?Promise:void 0,Wl=typeof queueMicrotask==="function"?queueMicrotask:typeof lw<"u"?function(Z){return lw.resolve(null).then(Z).catch(Gl)}:PR;Q6=new Map,nw=new Set;l4=d0.d;d0.d={f:Ll,r:Cl,D:Rl,C:El,L:Il,m:Tl,X:bl,S:Sl,M:kl};O2=typeof document>"u"?null:document;vq={$$typeof:P4,Provider:null,Consumer:null,_currentValue:o9,_currentValue2:o9,_threadCount:0};fq=new Map,yq=new Map,f7=[],dl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");PN.prototype.render=y3.prototype.render=function(Z){var J=this._internalRoot;if(J===null)throw Error(c(409));var Q=J.current,q=E8();dR(Q,q,Z,J,null,null)};PN.prototype.unmount=y3.prototype.unmount=function(){var Z=this._internalRoot;if(Z!==null){this._internalRoot=null;var J=Z.containerInfo;dR(Z.current,2,null,Z,null,null),SN(),J[z2]=null}};PN.prototype.unstable_scheduleHydration=function(Z){if(Z){var J=GL();Z={blockedOn:null,target:Z,priority:J};for(var Q=0;Q<f7.length&&J!==0&&J<f7[Q].priority;Q++);f7.splice(Q,0,Z),Q===0&&lR(Z)}};XL=VA;if(XL!=="19.2.0")throw Error(c(527,XL,"19.2.0"));d0.findDOMNode=function(Z){var J=Z._reactInternals;if(J===void 0){if(typeof Z.render==="function")throw Error(c(188));throw Z=Object.keys(Z).join(","),Error(c(268,Z))}return Z=Fc(J),Z=Z!==null?VL(Z):null,Z=Z===null?null:Z.stateNode,Z};ll={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O0,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){if(TJ=__REACT_DEVTOOLS_GLOBAL_HOOK__,!TJ.isDisabled&&TJ.supportsFiber)try{xq=TJ.inject(ll),C8=TJ}catch(Z){}}});var rR=uQ((Mn,tR)=>{nR();function oR(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oR)}catch(Z){console.error(Z)}}oR(),tR.exports=h3});var I,HD=(Z)=>{if(typeof Z==="function"||typeof Z==="object"&&Z.extension){if(!Z.extension)throw Error("Extension class must have an extension object");Z={...typeof Z.extension!=="object"?{type:Z.extension}:Z.extension,ref:Z}}if(typeof Z==="object")Z={...Z};else throw Error("Invalid extension type");if(typeof Z.type==="string")Z.type=[Z.type];return Z},tN=(Z,J)=>HD(Z).priority??J,J0;var g=F(()=>{I=((Z)=>{return Z.Application="application",Z.WebGLPipes="webgl-pipes",Z.WebGLPipesAdaptor="webgl-pipes-adaptor",Z.WebGLSystem="webgl-system",Z.WebGPUPipes="webgpu-pipes",Z.WebGPUPipesAdaptor="webgpu-pipes-adaptor",Z.WebGPUSystem="webgpu-system",Z.CanvasSystem="canvas-system",Z.CanvasPipesAdaptor="canvas-pipes-adaptor",Z.CanvasPipes="canvas-pipes",Z.Asset="asset",Z.LoadParser="load-parser",Z.ResolveParser="resolve-parser",Z.CacheParser="cache-parser",Z.DetectionParser="detection-parser",Z.MaskEffect="mask-effect",Z.BlendMode="blend-mode",Z.TextureSource="texture-source",Z.Environment="environment",Z.ShapeBuilder="shape-builder",Z.Batcher="batcher",Z})(I||{}),J0={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...Z){return Z.map(HD).forEach((J)=>{J.type.forEach((Q)=>this._removeHandlers[Q]?.(J))}),this},add(...Z){return Z.map(HD).forEach((J)=>{J.type.forEach((Q)=>{let q=this._addHandlers,K=this._queue;if(!q[Q])K[Q]=K[Q]||[],K[Q]?.push(J);else q[Q]?.(J)})}),this},handle(Z,J,Q){let q=this._addHandlers,K=this._removeHandlers;if(q[Z]||K[Z])throw Error(`Extension type ${Z} already has a handler`);q[Z]=J,K[Z]=Q;let X=this._queue;if(X[Z])X[Z]?.forEach((N)=>J(N)),delete X[Z];return this},handleByMap(Z,J){return this.handle(Z,(Q)=>{if(Q.name)J[Q.name]=Q.ref},(Q)=>{if(Q.name)delete J[Q.name]})},handleByNamedList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.findIndex((X)=>X.name===q.name)>=0)return;J.push({name:q.name,value:q.ref}),J.sort((X,N)=>tN(N.value,Q)-tN(X.value,Q))},(q)=>{let K=J.findIndex((X)=>X.name===q.name);if(K!==-1)J.splice(K,1)})},handleByList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.includes(q.ref))return;J.push(q.ref),J.sort((K,X)=>tN(X,Q)-tN(K,Q))},(q)=>{let K=J.indexOf(q.ref);if(K!==-1)J.splice(K,1)})},mixin(Z,...J){for(let Q of J)Object.defineProperties(Z.prototype,Object.getOwnPropertyDescriptors(Q))}}});var nE=uQ(($o,YD)=>{var wp=Object.prototype.hasOwnProperty,f5="~";function XK(){}if(Object.create){if(XK.prototype=Object.create(null),!new XK().__proto__)f5=!1}function Lp(Z,J,Q){this.fn=Z,this.context=J,this.once=Q||!1}function sE(Z,J,Q,q,K){if(typeof Q!=="function")throw TypeError("The listener must be a function");var X=new Lp(Q,q||Z,K),N=f5?f5+J:J;if(!Z._events[N])Z._events[N]=X,Z._eventsCount++;else if(!Z._events[N].fn)Z._events[N].push(X);else Z._events[N]=[Z._events[N],X];return Z}function rN(Z,J){if(--Z._eventsCount===0)Z._events=new XK;else delete Z._events[J]}function R5(){this._events=new XK,this._eventsCount=0}R5.prototype.eventNames=function(){var J=[],Q,q;if(this._eventsCount===0)return J;for(q in Q=this._events)if(wp.call(Q,q))J.push(f5?q.slice(1):q);if(Object.getOwnPropertySymbols)return J.concat(Object.getOwnPropertySymbols(Q));return J};R5.prototype.listeners=function(J){var Q=f5?f5+J:J,q=this._events[Q];if(!q)return[];if(q.fn)return[q.fn];for(var K=0,X=q.length,N=Array(X);K<X;K++)N[K]=q[K].fn;return N};R5.prototype.listenerCount=function(J){var Q=f5?f5+J:J,q=this._events[Q];if(!q)return 0;if(q.fn)return 1;return q.length};R5.prototype.emit=function(J,Q,q,K,X,N){var Y=f5?f5+J:J;if(!this._events[Y])return!1;var O=this._events[Y],U=arguments.length,$,B;if(O.fn){if(O.once)this.removeListener(J,O.fn,void 0,!0);switch(U){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,Q),!0;case 3:return O.fn.call(O.context,Q,q),!0;case 4:return O.fn.call(O.context,Q,q,K),!0;case 5:return O.fn.call(O.context,Q,q,K,X),!0;case 6:return O.fn.call(O.context,Q,q,K,X,N),!0}for(B=1,$=Array(U-1);B<U;B++)$[B-1]=arguments[B];O.fn.apply(O.context,$)}else{var _=O.length,W;for(B=0;B<_;B++){if(O[B].once)this.removeListener(J,O[B].fn,void 0,!0);switch(U){case 1:O[B].fn.call(O[B].context);break;case 2:O[B].fn.call(O[B].context,Q);break;case 3:O[B].fn.call(O[B].context,Q,q);break;case 4:O[B].fn.call(O[B].context,Q,q,K);break;default:if(!$)for(W=1,$=Array(U-1);W<U;W++)$[W-1]=arguments[W];O[B].fn.apply(O[B].context,$)}}}return!0};R5.prototype.on=function(J,Q,q){return sE(this,J,Q,q,!1)};R5.prototype.once=function(J,Q,q){return sE(this,J,Q,q,!0)};R5.prototype.removeListener=function(J,Q,q,K){var X=f5?f5+J:J;if(!this._events[X])return this;if(!Q)return rN(this,X),this;var N=this._events[X];if(N.fn){if(N.fn===Q&&(!K||N.once)&&(!q||N.context===q))rN(this,X)}else{for(var Y=0,O=[],U=N.length;Y<U;Y++)if(N[Y].fn!==Q||K&&!N[Y].once||q&&N[Y].context!==q)O.push(N[Y]);if(O.length)this._events[X]=O.length===1?O[0]:O;else rN(this,X)}return this};R5.prototype.removeAllListeners=function(J){var Q;if(J){if(Q=f5?f5+J:J,this._events[Q])rN(this,Q)}else this._events=new XK,this._eventsCount=0;return this};R5.prototype.off=R5.prototype.removeListener;R5.prototype.addListener=R5.prototype.on;R5.prefixed=f5;R5.EventEmitter=R5;if(typeof YD<"u")YD.exports=R5});var oE,t0;var B5=F(()=>{oE=cQ(nE(),1),t0=oE.default});var Cp,a4=function(Z){return typeof Z=="string"?Z.length>0:typeof Z=="number"},K5=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=Math.pow(10,J)),Math.round(Q*Z)/Q+0},K6=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=1),Z>Q?Q:Z>J?Z:J},KI=function(Z){return(Z=isFinite(Z)?Z%360:0)>0?Z:Z+360},tE=function(Z){return{r:K6(Z.r,0,255),g:K6(Z.g,0,255),b:K6(Z.b,0,255),a:K6(Z.a)}},VD=function(Z){return{r:K5(Z.r),g:K5(Z.g),b:K5(Z.b),a:K5(Z.a,3)}},Rp,eN=function(Z){var J=Z.toString(16);return J.length<2?"0"+J:J},XI=function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=Math.max(J,Q,q),N=X-Math.min(J,Q,q),Y=N?X===J?(Q-q)/N:X===Q?2+(q-J)/N:4+(J-Q)/N:0;return{h:60*(Y<0?Y+6:Y),s:X?N/X*100:0,v:X/255*100,a:K}},zI=function(Z){var{h:J,s:Q,v:q,a:K}=Z;J=J/360*6,Q/=100,q/=100;var X=Math.floor(J),N=q*(1-Q),Y=q*(1-(J-X)*Q),O=q*(1-(1-J+X)*Q),U=X%6;return{r:255*[q,Y,N,N,O,q][U],g:255*[O,q,q,Y,N,N][U],b:255*[N,N,O,q,q,Y][U],a:K}},rE=function(Z){return{h:KI(Z.h),s:K6(Z.s,0,100),l:K6(Z.l,0,100),a:K6(Z.a)}},eE=function(Z){return{h:K5(Z.h),s:K5(Z.s),l:K5(Z.l),a:K5(Z.a,3)}},ZI=function(Z){return zI((Q=(J=Z).s,{h:J.h,s:(Q*=((q=J.l)<50?q:100-q)/100)>0?2*Q/(q+Q)*100:0,v:q+Q,a:J.a}));var J,Q,q},zK=function(Z){return{h:(J=XI(Z)).h,s:(K=(200-(Q=J.s))*(q=J.v)/100)>0&&K<200?Q*q/100/(K<=100?K:200-K)*100:0,l:K/2,a:J.a};var J,Q,q,K},Ep,Ip,Tp,Sp,AD,JI=function(Z,J){for(var Q=0;Q<J.length;Q++){var q=J[Q][0](Z);if(q)return[q,J[Q][1]]}return[null,void 0]},bp=function(Z){return typeof Z=="string"?JI(Z.trim(),AD.string):typeof Z=="object"&&Z!==null?JI(Z,AD.object):[null,void 0]},OD=function(Z,J){var Q=zK(Z);return{h:Q.h,s:K6(Q.s+100*J,0,100),l:Q.l,a:Q.a}},UD=function(Z){return(299*Z.r+587*Z.g+114*Z.b)/1000/255},QI=function(Z,J){var Q=zK(Z);return{h:Q.h,s:Q.s,l:K6(Q.l+100*J,0,100),a:Q.a}},$D,w6=function(Z){return Z instanceof $D?Z:new $D(Z)},qI,NI=function(Z){Z.forEach(function(J){qI.indexOf(J)<0&&(J($D,AD),qI.push(J))})};var HI=F(()=>{Cp={grad:0.9,turn:360,rad:360/(2*Math.PI)},Rp=/^#([0-9a-f]{3,8})$/i,Ep=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ip=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Tp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AD={string:[[function(Z){var J=Rp.exec(Z);return J?(Z=J[1]).length<=4?{r:parseInt(Z[0]+Z[0],16),g:parseInt(Z[1]+Z[1],16),b:parseInt(Z[2]+Z[2],16),a:Z.length===4?K5(parseInt(Z[3]+Z[3],16)/255,2):1}:Z.length===6||Z.length===8?{r:parseInt(Z.substr(0,2),16),g:parseInt(Z.substr(2,2),16),b:parseInt(Z.substr(4,2),16),a:Z.length===8?K5(parseInt(Z.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Z){var J=Tp.exec(Z)||Sp.exec(Z);return J?J[2]!==J[4]||J[4]!==J[6]?null:tE({r:Number(J[1])/(J[2]?0.39215686274509803:1),g:Number(J[3])/(J[4]?0.39215686274509803:1),b:Number(J[5])/(J[6]?0.39215686274509803:1),a:J[7]===void 0?1:Number(J[7])/(J[8]?100:1)}):null},"rgb"],[function(Z){var J=Ep.exec(Z)||Ip.exec(Z);if(!J)return null;var Q,q,K=rE({h:(Q=J[1],q=J[2],q===void 0&&(q="deg"),Number(Q)*(Cp[q]||1)),s:Number(J[3]),l:Number(J[4]),a:J[5]===void 0?1:Number(J[5])/(J[6]?100:1)});return ZI(K)},"hsl"]],object:[[function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=K===void 0?1:K;return a4(J)&&a4(Q)&&a4(q)?tE({r:Number(J),g:Number(Q),b:Number(q),a:Number(X)}):null},"rgb"],[function(Z){var{h:J,s:Q,l:q,a:K}=Z,X=K===void 0?1:K;if(!a4(J)||!a4(Q)||!a4(q))return null;var N=rE({h:Number(J),s:Number(Q),l:Number(q),a:Number(X)});return ZI(N)},"hsl"],[function(Z){var{h:J,s:Q,v:q,a:K}=Z,X=K===void 0?1:K;if(!a4(J)||!a4(Q)||!a4(q))return null;var N=function(Y){return{h:KI(Y.h),s:K6(Y.s,0,100),v:K6(Y.v,0,100),a:K6(Y.a)}}({h:Number(J),s:Number(Q),v:Number(q),a:Number(X)});return zI(N)},"hsv"]]},$D=function(){function Z(J){this.parsed=bp(J)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Z.prototype.isValid=function(){return this.parsed!==null},Z.prototype.brightness=function(){return K5(UD(this.rgba),2)},Z.prototype.isDark=function(){return UD(this.rgba)<0.5},Z.prototype.isLight=function(){return UD(this.rgba)>=0.5},Z.prototype.toHex=function(){return J=VD(this.rgba),Q=J.r,q=J.g,K=J.b,N=(X=J.a)<1?eN(K5(255*X)):"","#"+eN(Q)+eN(q)+eN(K)+N;var J,Q,q,K,X,N},Z.prototype.toRgb=function(){return VD(this.rgba)},Z.prototype.toRgbString=function(){return J=VD(this.rgba),Q=J.r,q=J.g,K=J.b,(X=J.a)<1?"rgba("+Q+", "+q+", "+K+", "+X+")":"rgb("+Q+", "+q+", "+K+")";var J,Q,q,K,X},Z.prototype.toHsl=function(){return eE(zK(this.rgba))},Z.prototype.toHslString=function(){return J=eE(zK(this.rgba)),Q=J.h,q=J.s,K=J.l,(X=J.a)<1?"hsla("+Q+", "+q+"%, "+K+"%, "+X+")":"hsl("+Q+", "+q+"%, "+K+"%)";var J,Q,q,K,X},Z.prototype.toHsv=function(){return J=XI(this.rgba),{h:K5(J.h),s:K5(J.s),v:K5(J.v),a:K5(J.a,3)};var J},Z.prototype.invert=function(){return w6({r:255-(J=this.rgba).r,g:255-J.g,b:255-J.b,a:J.a});var J},Z.prototype.saturate=function(J){return J===void 0&&(J=0.1),w6(OD(this.rgba,J))},Z.prototype.desaturate=function(J){return J===void 0&&(J=0.1),w6(OD(this.rgba,-J))},Z.prototype.grayscale=function(){return w6(OD(this.rgba,-1))},Z.prototype.lighten=function(J){return J===void 0&&(J=0.1),w6(QI(this.rgba,J))},Z.prototype.darken=function(J){return J===void 0&&(J=0.1),w6(QI(this.rgba,-J))},Z.prototype.rotate=function(J){return J===void 0&&(J=15),this.hue(this.hue()+J)},Z.prototype.alpha=function(J){return typeof J=="number"?w6({r:(Q=this.rgba).r,g:Q.g,b:Q.b,a:J}):K5(this.rgba.a,3);var Q},Z.prototype.hue=function(J){var Q=zK(this.rgba);return typeof J=="number"?w6({h:J,s:Q.s,l:Q.l,a:Q.a}):K5(Q.h)},Z.prototype.isEqual=function(J){return this.toHex()===w6(J).toHex()},Z}(),qI=[]});function BD(Z,J){var Q={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},q={};for(var K in Q)q[Q[K]]=K;var X={};Z.prototype.toName=function(N){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,O,U=q[this.toHex()];if(U)return U;if(N==null?void 0:N.closest){var $=this.toRgb(),B=1/0,_="black";if(!X.length)for(var W in Q)X[W]=new Z(Q[W]).toRgb();for(var w in Q){var L=(Y=$,O=X[w],Math.pow(Y.r-O.r,2)+Math.pow(Y.g-O.g,2)+Math.pow(Y.b-O.b,2));L<B&&(B=L,_=w)}return _}},J.string.push([function(N){var Y=N.toLowerCase(),O=Y==="transparent"?"#0000":Q[Y];return O?new Z(O).toRgb():null},"name"])}var M2=class Z{constructor(J=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=J}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(J){return this.value=J,this}set value(J){if(J instanceof Z)this._value=this._cloneSource(J._value),this._int=J._int,this._components.set(J._components);else if(J===null)throw Error("Cannot set Color#value to null");else if(this._value===null||!this._isSourceEqual(this._value,J))this._value=this._cloneSource(J),this._normalize(this._value)}get value(){return this._value}_cloneSource(J){if(typeof J==="string"||typeof J==="number"||J instanceof Number||J===null)return J;else if(Array.isArray(J)||ArrayBuffer.isView(J))return J.slice(0);else if(typeof J==="object"&&J!==null)return{...J};return J}_isSourceEqual(J,Q){let q=typeof J;if(q!==typeof Q)return!1;else if(q==="number"||q==="string"||J instanceof Number)return J===Q;else if(Array.isArray(J)&&Array.isArray(Q)||ArrayBuffer.isView(J)&&ArrayBuffer.isView(Q)){if(J.length!==Q.length)return!1;return J.every((X,N)=>X===Q[N])}else if(J!==null&&Q!==null){let X=Object.keys(J),N=Object.keys(Q);if(X.length!==N.length)return!1;return X.every((Y)=>J[Y]===Q[Y])}return J===Q}toRgba(){let[J,Q,q,K]=this._components;return{r:J,g:Q,b:q,a:K}}toRgb(){let[J,Q,q]=this._components;return{r:J,g:Q,b:q}}toRgbaString(){let[J,Q,q]=this.toUint8RgbArray();return`rgba(${J},${Q},${q},${this.alpha})`}toUint8RgbArray(J){let[Q,q,K]=this._components;if(!this._arrayRgb)this._arrayRgb=[];return J||(J=this._arrayRgb),J[0]=Math.round(Q*255),J[1]=Math.round(q*255),J[2]=Math.round(K*255),J}toArray(J){if(!this._arrayRgba)this._arrayRgba=[];J||(J=this._arrayRgba);let[Q,q,K,X]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J[3]=X,J}toRgbArray(J){if(!this._arrayRgb)this._arrayRgb=[];J||(J=this._arrayRgb);let[Q,q,K]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J}toNumber(){return this._int}toBgrNumber(){let[J,Q,q]=this.toUint8RgbArray();return(q<<16)+(Q<<8)+J}toLittleEndianNumber(){let J=this._int;return(J>>16)+(J&65280)+((J&255)<<16)}multiply(J){let[Q,q,K,X]=Z._temp.setValue(J)._components;return this._components[0]*=Q,this._components[1]*=q,this._components[2]*=K,this._components[3]*=X,this._refreshInt(),this._value=null,this}premultiply(J,Q=!0){if(Q)this._components[0]*=J,this._components[1]*=J,this._components[2]*=J;return this._components[3]=J,this._refreshInt(),this._value=null,this}toPremultiplied(J,Q=!0){if(J===1)return-16777216+this._int;if(J===0)return Q?0:this._int;let q=this._int>>16&255,K=this._int>>8&255,X=this._int&255;if(Q)q=q*J+0.5|0,K=K*J+0.5|0,X=X*J+0.5|0;return(J*255<<24)+(q<<16)+(K<<8)+X}toHex(){let J=this._int.toString(16);return`#${"000000".substring(0,6-J.length)+J}`}toHexa(){let Q=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-Q.length)+Q}setAlpha(J){return this._components[3]=this._clamp(J),this}_normalize(J){let Q,q,K,X;if((typeof J==="number"||J instanceof Number)&&J>=0&&J<=16777215){let N=J;Q=(N>>16&255)/255,q=(N>>8&255)/255,K=(N&255)/255,X=1}else if((Array.isArray(J)||J instanceof Float32Array)&&J.length>=3&&J.length<=4)J=this._clamp(J),[Q,q,K,X=1]=J;else if((J instanceof Uint8Array||J instanceof Uint8ClampedArray)&&J.length>=3&&J.length<=4)J=this._clamp(J,0,255),[Q,q,K,X=255]=J,Q/=255,q/=255,K/=255,X/=255;else if(typeof J==="string"||typeof J==="object"){if(typeof J==="string"){let Y=Z.HEX_PATTERN.exec(J);if(Y)J=`#${Y[2]}`}let N=w6(J);if(N.isValid())({r:Q,g:q,b:K,a:X}=N.rgba),Q/=255,q/=255,K/=255}if(Q!==void 0)this._components[0]=Q,this._components[1]=q,this._components[2]=K,this._components[3]=X,this._refreshInt();else throw Error(`Unable to convert color ${J}`)}_refreshInt(){this._clamp(this._components);let[J,Q,q]=this._components;this._int=(J*255<<16)+(Q*255<<8)+(q*255|0)}_clamp(J,Q=0,q=1){if(typeof J==="number")return Math.min(Math.max(J,Q),q);return J.forEach((K,X)=>{J[X]=Math.min(Math.max(K,Q),q)}),J}static isColorLike(J){return typeof J==="number"||typeof J==="string"||J instanceof Number||J instanceof Z||Array.isArray(J)||J instanceof Uint8Array||J instanceof Uint8ClampedArray||J instanceof Float32Array||J.r!==void 0&&J.g!==void 0&&J.b!==void 0||J.r!==void 0&&J.g!==void 0&&J.b!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0&&J.a!==void 0}},G0;var E5=F(()=>{HI();NI([BD]);M2.shared=new M2;M2._temp=new M2;M2.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;G0=M2});var YI;var VI=F(()=>{YI={cullArea:null,cullable:!1,cullableChildren:!0}});var OI,UI,AI;var _D=F(()=>{OI=Math.PI*2,UI=180/Math.PI,AI=Math.PI/180});class S0{constructor(Z=0,J=0){this.x=0,this.y=0,this.x=Z,this.y=J}clone(){return new S0(this.x,this.y)}copyFrom(Z){return this.set(Z.x,Z.y),this}copyTo(Z){return Z.set(this.x,this.y),Z}equals(Z){return Z.x===this.x&&Z.y===this.y}set(Z=0,J=Z){return this.x=Z,this.y=J,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return MD.x=0,MD.y=0,MD}}var MD;var L6=F(()=>{MD=new S0});class a{constructor(Z=1,J=0,Q=0,q=1,K=0,X=0){this.array=null,this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X}fromArray(Z){this.a=Z[0],this.b=Z[1],this.c=Z[3],this.d=Z[4],this.tx=Z[2],this.ty=Z[5]}set(Z,J,Q,q,K,X){return this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X,this}toArray(Z,J){if(!this.array)this.array=new Float32Array(9);let Q=J||this.array;if(Z)Q[0]=this.a,Q[1]=this.b,Q[2]=0,Q[3]=this.c,Q[4]=this.d,Q[5]=0,Q[6]=this.tx,Q[7]=this.ty,Q[8]=1;else Q[0]=this.a,Q[1]=this.c,Q[2]=this.tx,Q[3]=this.b,Q[4]=this.d,Q[5]=this.ty,Q[6]=0,Q[7]=0,Q[8]=1;return Q}apply(Z,J){J=J||new S0;let{x:Q,y:q}=Z;return J.x=this.a*Q+this.c*q+this.tx,J.y=this.b*Q+this.d*q+this.ty,J}applyInverse(Z,J){J=J||new S0;let Q=this.a,q=this.b,K=this.c,X=this.d,N=this.tx,Y=this.ty,O=1/(Q*X+K*-q),U=Z.x,$=Z.y;return J.x=X*O*U+-K*O*$+(Y*K-N*X)*O,J.y=Q*O*$+-q*O*U+(-Y*Q+N*q)*O,J}translate(Z,J){return this.tx+=Z,this.ty+=J,this}scale(Z,J){return this.a*=Z,this.d*=J,this.c*=Z,this.b*=J,this.tx*=Z,this.ty*=J,this}rotate(Z){let J=Math.cos(Z),Q=Math.sin(Z),q=this.a,K=this.c,X=this.tx;return this.a=q*J-this.b*Q,this.b=q*Q+this.b*J,this.c=K*J-this.d*Q,this.d=K*Q+this.d*J,this.tx=X*J-this.ty*Q,this.ty=X*Q+this.ty*J,this}append(Z){let J=this.a,Q=this.b,q=this.c,K=this.d;return this.a=Z.a*J+Z.b*q,this.b=Z.a*Q+Z.b*K,this.c=Z.c*J+Z.d*q,this.d=Z.c*Q+Z.d*K,this.tx=Z.tx*J+Z.ty*q+this.tx,this.ty=Z.tx*Q+Z.ty*K+this.ty,this}appendFrom(Z,J){let{a:Q,b:q,c:K,d:X,tx:N,ty:Y}=Z,O=J.a,U=J.b,$=J.c,B=J.d;return this.a=Q*O+q*$,this.b=Q*U+q*B,this.c=K*O+X*$,this.d=K*U+X*B,this.tx=N*O+Y*$+J.tx,this.ty=N*U+Y*B+J.ty,this}setTransform(Z,J,Q,q,K,X,N,Y,O){return this.a=Math.cos(N+O)*K,this.b=Math.sin(N+O)*K,this.c=-Math.sin(N-Y)*X,this.d=Math.cos(N-Y)*X,this.tx=Z-(Q*this.a+q*this.c),this.ty=J-(Q*this.b+q*this.d),this}prepend(Z){let J=this.tx;if(Z.a!==1||Z.b!==0||Z.c!==0||Z.d!==1){let Q=this.a,q=this.c;this.a=Q*Z.a+this.b*Z.c,this.b=Q*Z.b+this.b*Z.d,this.c=q*Z.a+this.d*Z.c,this.d=q*Z.b+this.d*Z.d}return this.tx=J*Z.a+this.ty*Z.c+Z.tx,this.ty=J*Z.b+this.ty*Z.d+Z.ty,this}decompose(Z){let J=this.a,Q=this.b,q=this.c,K=this.d,X=Z.pivot,N=-Math.atan2(-q,K),Y=Math.atan2(Q,J),O=Math.abs(N+Y);if(O<0.00001||Math.abs(OI-O)<0.00001)Z.rotation=Y,Z.skew.x=Z.skew.y=0;else Z.rotation=0,Z.skew.x=N,Z.skew.y=Y;return Z.scale.x=Math.sqrt(J*J+Q*Q),Z.scale.y=Math.sqrt(q*q+K*K),Z.position.x=this.tx+(X.x*J+X.y*q),Z.position.y=this.ty+(X.x*Q+X.y*K),Z}invert(){let Z=this.a,J=this.b,Q=this.c,q=this.d,K=this.tx,X=Z*q-J*Q;return this.a=q/X,this.b=-J/X,this.c=-Q/X,this.d=Z/X,this.tx=(Q*this.ty-q*K)/X,this.ty=-(Z*this.ty-J*K)/X,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let Z=new a;return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyTo(Z){return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyFrom(Z){return this.a=Z.a,this.b=Z.b,this.c=Z.c,this.d=Z.d,this.tx=Z.tx,this.ty=Z.ty,this}equals(Z){return Z.a===this.a&&Z.b===this.b&&Z.c===this.c&&Z.d===this.d&&Z.tx===this.tx&&Z.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Pp.identity()}static get shared(){return kp.identity()}}var kp,Pp;var I0=F(()=>{_D();L6();kp=new a,Pp=new a});class X5{constructor(Z,J,Q){this._x=J||0,this._y=Q||0,this._observer=Z}clone(Z){return new X5(Z??this._observer,this._x,this._y)}set(Z=0,J=Z){if(this._x!==Z||this._y!==J)this._x=Z,this._y=J,this._observer._onUpdate(this);return this}copyFrom(Z){if(this._x!==Z.x||this._y!==Z.y)this._x=Z.x,this._y=Z.y,this._observer._onUpdate(this);return this}copyTo(Z){return Z.set(this._x,this._y),Z}equals(Z){return Z.x===this._x&&Z.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(Z){if(this._x!==Z)this._x=Z,this._observer._onUpdate(this)}get y(){return this._y}set y(Z){if(this._y!==Z)this._y=Z,this._observer._onUpdate(this)}}var WD=()=>{};function _0(Z="default"){if(GD[Z]===void 0)GD[Z]=-1;return++GD[Z]}var GD;var s1=F(()=>{GD={default:-1}});var $I,V0="8.0.0",DI="8.3.4",W2,q0=(Z,J,Q=3)=>{if(W2.quiet||$I.has(J))return;let q=Error().stack,K=`${J}
Deprecated since v${Z}`,X=typeof console.groupCollapsed==="function"&&!W2.noColor;if(typeof q>"u")console.warn("PixiJS Deprecation Warning: ",K);else if(q=q.split(`
`).splice(Q).join(`
`),X)console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",K),console.warn(q),console.groupEnd();else console.warn("PixiJS Deprecation Warning: ",K),console.warn(q);$I.add(J)};var $1=F(()=>{$I=new Set,W2={quiet:!1,noColor:!1};Object.defineProperties(q0,{quiet:{get:()=>W2.quiet,set:(Z)=>{W2.quiet=Z},enumerable:!0,configurable:!1},noColor:{get:()=>W2.noColor,set:(Z)=>{W2.noColor=Z},enumerable:!0,configurable:!1}})});function e(...Z){if(FD===BI)return;if(FD++,FD===BI)console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.");else console.warn("PixiJS Warning: ",...Z)}var FD=0,BI=500;var c0=()=>{};var X6;var WZ=F(()=>{X6={_registeredResources:new Set,register(Z){this._registeredResources.add(Z)},unregister(Z){this._registeredResources.delete(Z)},release(){this._registeredResources.forEach((Z)=>Z.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(Z){return this._registeredResources.has(Z)},reset(){this._registeredResources.clear()}}});class jD{constructor(Z,J){if(this._pool=[],this._count=0,this._index=0,this._classType=Z,J)this.prepopulate(J)}prepopulate(Z){for(let J=0;J<Z;J++)this._pool[this._index++]=new this._classType;this._count+=Z}get(Z){let J;if(this._index>0)J=this._pool[--this._index];else J=new this._classType;return J.init?.(Z),J}return(Z){Z.reset?.(),this._pool[this._index++]=Z}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let Z=0;Z<this._index;Z++)this._pool[Z].destroy();this._pool.length=0,this._count=0,this._index=0}}var _I=()=>{};class MI{constructor(){this._poolsByClass=new Map}prepopulate(Z,J){this.getPool(Z).prepopulate(J)}get(Z,J){return this.getPool(Z).get(J)}return(Z){this.getPool(Z.constructor).return(Z)}getPool(Z){if(!this._poolsByClass.has(Z))this._poolsByClass.set(Z,new jD(Z));return this._poolsByClass.get(Z)}stats(){let Z={};return this._poolsByClass.forEach((J)=>{let Q=Z[J._classType.name]?J._classType.name+J._classType.ID:J._classType.name;Z[Q]={free:J.totalFree,used:J.totalUsed,size:J.totalSize}}),Z}clear(){this._poolsByClass.forEach((Z)=>Z.clear()),this._poolsByClass.clear()}}var r0;var e6=F(()=>{WZ();_I();r0=new MI;X6.register(r0)});var WI;var GI=F(()=>{$1();WI={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(Z){if(typeof Z==="boolean"&&Z===!1)this.disableRenderGroup();else this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(Z===!0?{}:Z)},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(Z){q0("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(Z)}}});function ZH(Z,J,Q){let q=Z.length,K;if(J>=q||Q===0)return;Q=J+Q>q?q-J:Q;let X=q-Q;for(K=J;K<X;++K)Z[K]=Z[K+Q];Z.length=X}var wD=()=>{};var FI;var jI=F(()=>{wD();$1();FI={allowChildren:!0,removeChildren(Z=0,J){let Q=J??this.children.length,q=Q-Z,K=[];if(q>0&&q<=Q){for(let N=Q-1;N>=Z;N--){let Y=this.children[N];if(!Y)continue;K.push(Y),Y.parent=null}ZH(this.children,Z,Q);let X=this.renderGroup||this.parentRenderGroup;if(X)X.removeChildren(K);for(let N=0;N<K.length;++N){let Y=K[N];Y.parentRenderLayer?.detach(Y),this.emit("childRemoved",Y,this,N),K[N].emit("removed",this)}if(K.length>0)this._didViewChangeTick++;return K}else if(q===0&&this.children.length===0)return K;throw RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(Z){let J=this.getChildAt(Z);return this.removeChild(J)},getChildAt(Z){if(Z<0||Z>=this.children.length)throw Error(`getChildAt: Index (${Z}) does not exist.`);return this.children[Z]},setChildIndex(Z,J){if(J<0||J>=this.children.length)throw Error(`The index ${J} supplied is out of bounds ${this.children.length}`);this.getChildIndex(Z),this.addChildAt(Z,J)},getChildIndex(Z){let J=this.children.indexOf(Z);if(J===-1)throw Error("The supplied Container must be a child of the caller");return J},addChildAt(Z,J){if(!this.allowChildren)q0(V0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");let{children:Q}=this;if(J<0||J>Q.length)throw Error(`${Z}addChildAt: The index ${J} supplied is out of bounds ${Q.length}`);if(Z.parent){let K=Z.parent.children.indexOf(Z);if(Z.parent===this&&K===J)return Z;if(K!==-1)Z.parent.children.splice(K,1)}if(J===Q.length)Q.push(Z);else Q.splice(J,0,Z);Z.parent=this,Z.didChange=!0,Z._updateFlags=15;let q=this.renderGroup||this.parentRenderGroup;if(q)q.addChild(Z);if(this.sortableChildren)this.sortDirty=!0;return this.emit("childAdded",Z,this,J),Z.emit("added",this),Z},swapChildren(Z,J){if(Z===J)return;let Q=this.getChildIndex(Z),q=this.getChildIndex(J);this.children[Q]=J,this.children[q]=Z;let K=this.renderGroup||this.parentRenderGroup;if(K)K.structureDidChange=!0;this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...Z){if(Z.length===1)return this.reparentChildAt(Z[0],this.children.length);return Z.forEach((J)=>this.reparentChildAt(J,this.children.length)),Z[0]},reparentChildAt(Z,J){if(Z.parent===this)return this.setChildIndex(Z,J),Z;let Q=Z.worldTransform.clone();Z.removeFromParent(),this.addChildAt(Z,J);let q=this.worldTransform.clone();return q.invert(),Q.prepend(q),Z.setFromMatrix(Q),Z},replaceChild(Z,J){Z.updateLocalTransform(),this.addChildAt(J,this.getChildIndex(Z)),J.setFromMatrix(Z.localTransform),J.updateLocalTransform(),this.removeChild(Z)}}});var wI;var LI=F(()=>{wI={collectRenderables(Z,J,Q){if(this.parentRenderLayer&&this.parentRenderLayer!==Q||this.globalDisplayStatus<7||!this.includeInBuild)return;if(this.sortableChildren)this.sortChildren();if(this.isSimple)this.collectRenderablesSimple(Z,J,Q);else if(this.renderGroup)J.renderPipes.renderGroup.addRenderGroup(this.renderGroup,Z);else this.collectRenderablesWithEffects(Z,J,Q)},collectRenderablesSimple(Z,J,Q){let q=this.children,K=q.length;for(let X=0;X<K;X++)q[X].collectRenderables(Z,J,Q)},collectRenderablesWithEffects(Z,J,Q){let{renderPipes:q}=J;for(let K=0;K<this.effects.length;K++){let X=this.effects[K];q[X.pipe].push(X,this,Z)}this.collectRenderablesSimple(Z,J,Q);for(let K=this.effects.length-1;K>=0;K--){let X=this.effects[K];q[X.pipe].pop(X,this,Z)}}}});class H9{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let Z=0;Z<this.filters.length;Z++)this.filters[Z].destroy();this.filters=null,this.filterArea=null}}var JH=()=>{};class CI{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){if(this._initialized)return;this._initialized=!0,this._effectClasses.forEach((Z)=>{this.add({test:Z.test,maskClass:Z})})}add(Z){this._tests.push(Z)}getMaskEffect(Z){if(!this._initialized)this.init();for(let J=0;J<this._tests.length;J++){let Q=this._tests[J];if(Q.test(Z))return r0.get(Q.maskClass,Z)}return Z}returnMaskEffect(Z){r0.return(Z)}}var QH;var RI=F(()=>{g();e6();QH=new CI;J0.handleByList(I.MaskEffect,QH._effectClasses)});var EI;var II=F(()=>{JH();RI();EI={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.structureDidChange=!0},addEffect(Z){if(this.effects.indexOf(Z)!==-1)return;this.effects.push(Z),this.effects.sort((Q,q)=>Q.priority-q.priority),this._markStructureAsChanged(),this._updateIsSimple()},removeEffect(Z){let J=this.effects.indexOf(Z);if(J===-1)return;this.effects.splice(J,1),this._markStructureAsChanged(),this._updateIsSimple()},set mask(Z){let J=this._maskEffect;if(J?.mask===Z)return;if(J)this.removeEffect(J),QH.returnMaskEffect(J),this._maskEffect=null;if(Z===null||Z===void 0)return;this._maskEffect=QH.getMaskEffect(Z),this.addEffect(this._maskEffect)},get mask(){return this._maskEffect?.mask},setMask(Z){if(this._maskOptions={...this._maskOptions,...Z},Z.mask)this.mask=Z.mask;this._markStructureAsChanged()},set filters(Z){if(!Array.isArray(Z)&&Z)Z=[Z];let J=this._filterEffect||(this._filterEffect=new H9);Z=Z;let Q=Z?.length>0,q=J.filters?.length>0,K=Q!==q;if(Z=Array.isArray(Z)?Z.slice(0):Z,J.filters=Object.freeze(Z),K)if(Q)this.addEffect(J);else this.removeEffect(J),J.filters=Z??null},get filters(){return this._filterEffect?.filters},set filterArea(Z){this._filterEffect||(this._filterEffect=new H9),this._filterEffect.filterArea=Z},get filterArea(){return this._filterEffect?.filterArea}}});var TI;var SI=F(()=>{$1();TI={label:null,get name(){return q0(V0,"Container.name property has been removed, use Container.label instead"),this.label},set name(Z){q0(V0,"Container.name property has been removed, use Container.label instead"),this.label=Z},getChildByName(Z,J=!1){return this.getChildByLabel(Z,J)},getChildByLabel(Z,J=!1){let Q=this.children;for(let q=0;q<Q.length;q++){let K=Q[q];if(K.label===Z||Z instanceof RegExp&&Z.test(K.label))return K}if(J)for(let q=0;q<Q.length;q++){let X=Q[q].getChildByLabel(Z,!0);if(X)return X}return null},getChildrenByLabel(Z,J=!1,Q=[]){let q=this.children;for(let K=0;K<q.length;K++){let X=q[K];if(X.label===Z||Z instanceof RegExp&&Z.test(X.label))Q.push(X)}if(J)for(let K=0;K<q.length;K++)q[K].getChildrenByLabel(Z,!0,Q);return Q}}});class A0{constructor(Z=0,J=0,Q=0,q=0){this.type="rectangle",this.x=Number(Z),this.y=Number(J),this.width=Number(Q),this.height=Number(q)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new A0(0,0,0,0)}clone(){return new A0(this.x,this.y,this.width,this.height)}copyFromBounds(Z){return this.x=Z.minX,this.y=Z.minY,this.width=Z.maxX-Z.minX,this.height=Z.maxY-Z.minY,this}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<this.x+this.width){if(J>=this.y&&J<this.y+this.height)return!0}return!1}strokeContains(Z,J,Q,q=0.5){let{width:K,height:X}=this;if(K<=0||X<=0)return!1;let N=this.x,Y=this.y,O=Q*(1-q),U=Q-O,$=N-O,B=N+K+O,_=Y-O,W=Y+X+O,w=N+U,L=N+K-U,R=Y+U,G=Y+X-U;return Z>=$&&Z<=B&&J>=_&&J<=W&&!(Z>w&&Z<L&&J>R&&J<G)}intersects(Z,J){if(!J){let b=this.x<Z.x?Z.x:this.x;if((this.right>Z.right?Z.right:this.right)<=b)return!1;let u=this.y<Z.y?Z.y:this.y;return(this.bottom>Z.bottom?Z.bottom:this.bottom)>u}let Q=this.left,q=this.right,K=this.top,X=this.bottom;if(q<=Q||X<=K)return!1;let N=qH[0].set(Z.left,Z.top),Y=qH[1].set(Z.left,Z.bottom),O=qH[2].set(Z.right,Z.top),U=qH[3].set(Z.right,Z.bottom);if(O.x<=N.x||Y.y<=N.y)return!1;let $=Math.sign(J.a*J.d-J.b*J.c);if($===0)return!1;if(J.apply(N,N),J.apply(Y,Y),J.apply(O,O),J.apply(U,U),Math.max(N.x,Y.x,O.x,U.x)<=Q||Math.min(N.x,Y.x,O.x,U.x)>=q||Math.max(N.y,Y.y,O.y,U.y)<=K||Math.min(N.y,Y.y,O.y,U.y)>=X)return!1;let B=$*(Y.y-N.y),_=$*(N.x-Y.x),W=B*Q+_*K,w=B*q+_*K,L=B*Q+_*X,R=B*q+_*X;if(Math.max(W,w,L,R)<=B*N.x+_*N.y||Math.min(W,w,L,R)>=B*U.x+_*U.y)return!1;let G=$*(N.y-O.y),j=$*(O.x-N.x),C=G*Q+j*K,T=G*q+j*K,v=G*Q+j*X,f=G*q+j*X;if(Math.max(C,T,v,f)<=G*N.x+j*N.y||Math.min(C,T,v,f)>=G*U.x+j*U.y)return!1;return!0}pad(Z=0,J=Z){return this.x-=Z,this.y-=J,this.width+=Z*2,this.height+=J*2,this}fit(Z){let J=Math.max(this.x,Z.x),Q=Math.min(this.x+this.width,Z.x+Z.width),q=Math.max(this.y,Z.y),K=Math.min(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Math.max(Q-J,0),this.y=q,this.height=Math.max(K-q,0),this}ceil(Z=1,J=0.001){let Q=Math.ceil((this.x+this.width-J)*Z)/Z,q=Math.ceil((this.y+this.height-J)*Z)/Z;return this.x=Math.floor((this.x+J)*Z)/Z,this.y=Math.floor((this.y+J)*Z)/Z,this.width=Q-this.x,this.height=q-this.y,this}scale(Z,J=Z){return this.x*=Z,this.y*=J,this.width*=Z,this.height*=J,this}enlarge(Z){let J=Math.min(this.x,Z.x),Q=Math.max(this.x+this.width,Z.x+Z.width),q=Math.min(this.y,Z.y),K=Math.max(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Q-J,this.y=q,this.height=K-q,this}getBounds(Z){return Z||(Z=new A0),Z.copyFrom(this),Z}containsRect(Z){if(this.width<=0||this.height<=0)return!1;let{x:J,y:Q}=Z,q=Z.x+Z.width,K=Z.y+Z.height;return J>=this.x&&J<this.x+this.width&&Q>=this.y&&Q<this.y+this.height&&q>=this.x&&q<this.x+this.width&&K>=this.y&&K<this.y+this.height}set(Z,J,Q,q){return this.x=Z,this.y=J,this.width=Q,this.height=q,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}var qH;var n1=F(()=>{L6();qH=[new S0,new S0,new S0,new S0]});class e0{constructor(Z=1/0,J=1/0,Q=-1/0,q=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=bI,this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){if(!this._rectangle)this._rectangle=new A0;let Z=this._rectangle;if(this.minX>this.maxX||this.minY>this.maxY)Z.x=0,Z.y=0,Z.width=0,Z.height=0;else Z.copyFromBounds(this);return Z}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=bI,this}set(Z,J,Q,q){this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}addFrame(Z,J,Q,q,K){K||(K=this.matrix);let{a:X,b:N,c:Y,d:O,tx:U,ty:$}=K,B=this.minX,_=this.minY,W=this.maxX,w=this.maxY,L=X*Z+Y*J+U,R=N*Z+O*J+$;if(L<B)B=L;if(R<_)_=R;if(L>W)W=L;if(R>w)w=R;if(L=X*Q+Y*J+U,R=N*Q+O*J+$,L<B)B=L;if(R<_)_=R;if(L>W)W=L;if(R>w)w=R;if(L=X*Z+Y*q+U,R=N*Z+O*q+$,L<B)B=L;if(R<_)_=R;if(L>W)W=L;if(R>w)w=R;if(L=X*Q+Y*q+U,R=N*Q+O*q+$,L<B)B=L;if(R<_)_=R;if(L>W)W=L;if(R>w)w=R;this.minX=B,this.minY=_,this.maxX=W,this.maxY=w}addRect(Z,J){this.addFrame(Z.x,Z.y,Z.x+Z.width,Z.y+Z.height,J)}addBounds(Z,J){this.addFrame(Z.minX,Z.minY,Z.maxX,Z.maxY,J)}addBoundsMask(Z){this.minX=this.minX>Z.minX?this.minX:Z.minX,this.minY=this.minY>Z.minY?this.minY:Z.minY,this.maxX=this.maxX<Z.maxX?this.maxX:Z.maxX,this.maxY=this.maxY<Z.maxY?this.maxY:Z.maxY}applyMatrix(Z){let J=this.minX,Q=this.minY,q=this.maxX,K=this.maxY,{a:X,b:N,c:Y,d:O,tx:U,ty:$}=Z,B=X*J+Y*Q+U,_=N*J+O*Q+$;this.minX=B,this.minY=_,this.maxX=B,this.maxY=_,B=X*q+Y*Q+U,_=N*q+O*Q+$,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY,B=X*J+Y*K+U,_=N*J+O*K+$,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY,B=X*q+Y*K+U,_=N*q+O*K+$,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(Z){if(this.minX<Z.left)this.minX=Z.left;if(this.maxX>Z.right)this.maxX=Z.right;if(this.minY<Z.top)this.minY=Z.top;if(this.maxY>Z.bottom)this.maxY=Z.bottom;return this}fitBounds(Z,J,Q,q){if(this.minX<Z)this.minX=Z;if(this.maxX>J)this.maxX=J;if(this.minY<Q)this.minY=Q;if(this.maxY>q)this.maxY=q;return this}pad(Z,J=Z){return this.minX-=Z,this.maxX+=Z,this.minY-=J,this.maxY+=J,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new e0(this.minX,this.minY,this.maxX,this.maxY)}scale(Z,J=Z){return this.minX*=Z,this.minY*=J,this.maxX*=Z,this.maxY*=J,this}get x(){return this.minX}set x(Z){let J=this.maxX-this.minX;this.minX=Z,this.maxX=Z+J}get y(){return this.minY}set y(Z){let J=this.maxY-this.minY;this.minY=Z,this.maxY=Z+J}get width(){return this.maxX-this.minX}set width(Z){this.maxX=this.minX+Z}get height(){return this.maxY-this.minY}set height(Z){this.maxY=this.minY+Z}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(Z,J,Q,q){let K=this.minX,X=this.minY,N=this.maxX,Y=this.maxY;q||(q=this.matrix);let{a:O,b:U,c:$,d:B,tx:_,ty:W}=q;for(let w=J;w<Q;w+=2){let L=Z[w],R=Z[w+1],G=O*L+$*R+_,j=U*L+B*R+W;K=G<K?G:K,X=j<X?j:X,N=G>N?G:N,Y=j>Y?j:Y}this.minX=K,this.minY=X,this.maxX=N,this.maxY=Y}containsPoint(Z,J){if(this.minX<=Z&&this.minY<=J&&this.maxX>=Z&&this.maxY>=J)return!0;return!1}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(Z){return this.minX=Z.minX,this.minY=Z.minY,this.maxX=Z.maxX,this.maxY=Z.maxY,this}}var bI;var Z8=F(()=>{I0();n1();bI=new a});var p1,S8;var GZ=F(()=>{I0();e6();Z8();p1=r0.getPool(a),S8=r0.getPool(e0)});var vp,kI;var PI=F(()=>{I0();Z8();GZ();vp=new a,kI={getFastGlobalBounds(Z,J){if(J||(J=new e0),J.clear(),this._getGlobalBoundsRecursive(!!Z,J,this.parentRenderLayer),!J.isValid)J.set(0,0,0,0);let Q=this.renderGroup||this.parentRenderGroup;return J.applyMatrix(Q.worldTransform),J},_getGlobalBoundsRecursive(Z,J,Q){let q=J;if(Z&&this.parentRenderLayer&&this.parentRenderLayer!==Q)return;if(this.localDisplayStatus!==7||!this.measurable)return;let K=!!this.effects.length;if(this.renderGroup||K)q=S8.get().clear();if(this.boundsArea)J.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){let N=this.bounds;q.addFrame(N.minX,N.minY,N.maxX,N.maxY,this.groupTransform)}let X=this.children;for(let N=0;N<X.length;N++)X[N]._getGlobalBoundsRecursive(Z,q,Q)}if(K){let X=!1,N=this.renderGroup||this.parentRenderGroup;for(let Y=0;Y<this.effects.length;Y++)if(this.effects[Y].addBounds){if(!X)X=!0,q.applyMatrix(N.worldTransform);this.effects[Y].addBounds(q,!0)}if(X)q.applyMatrix(N.worldTransform.copyTo(vp).invert());J.addBounds(q),S8.return(q)}else if(this.renderGroup)J.addBounds(q,this.relativeGroupTransform),S8.return(q)}}});function G2(Z,J,Q){Q.clear();let q,K;if(Z.parent)if(!J)K=p1.get().identity(),q=KH(Z,K);else q=Z.parent.worldTransform;else q=a.IDENTITY;if(vI(Z,Q,q,J),K)p1.return(K);if(!Q.isValid)Q.set(0,0,0,0);return Q}function vI(Z,J,Q,q){if(!Z.visible||!Z.measurable)return;let K;if(!q)Z.updateLocalTransform(),K=p1.get(),K.appendFrom(Z.localTransform,Q);else K=Z.worldTransform;let X=J,N=!!Z.effects.length;if(N)J=S8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,K);else{let Y=Z.bounds;if(Y&&!Y.isEmpty())J.matrix=K,J.addBounds(Y);for(let O=0;O<Z.children.length;O++)vI(Z.children[O],J,K,q)}if(N){for(let Y=0;Y<Z.effects.length;Y++)Z.effects[Y].addBounds?.(J);X.addBounds(J,a.IDENTITY),S8.return(J)}if(!q)p1.return(K)}function KH(Z,J){let Q=Z.parent;if(Q)KH(Q,J),Q.updateLocalTransform(),J.append(Q.localTransform);return J}var NK=F(()=>{I0();GZ()});function XH(Z,J){if(Z===16777215||!J)return J;if(J===16777215||!Z)return Z;let Q=Z>>16&255,q=Z>>8&255,K=Z&255,X=J>>16&255,N=J>>8&255,Y=J&255,O=Q*X/255|0,U=q*N/255|0,$=K*Y/255|0;return(O<<16)+(U<<8)+$}var LD=()=>{};function F2(Z,J){if(Z===fI)return J;if(J===fI)return Z;return XH(Z,J)}var fI=16777215;var CD=F(()=>{LD()});function HK(Z){return((Z&255)<<16)+(Z&65280)+(Z>>16&255)}var yI;var hI=F(()=>{I0();NK();GZ();CD();yI={getGlobalAlpha(Z){if(Z){if(this.renderGroup)return this.renderGroup.worldAlpha;if(this.parentRenderGroup)return this.parentRenderGroup.worldAlpha*this.alpha;return this.alpha}let J=this.alpha,Q=this.parent;while(Q)J*=Q.alpha,Q=Q.parent;return J},getGlobalTransform(Z=new a,J){if(J)return Z.copyFrom(this.worldTransform);this.updateLocalTransform();let Q=KH(this,p1.get().identity());return Z.appendFrom(this.localTransform,Q),p1.return(Q),Z},getGlobalTint(Z){if(Z){if(this.renderGroup)return HK(this.renderGroup.worldColor);if(this.parentRenderGroup)return HK(F2(this.localColor,this.parentRenderGroup.worldColor));return this.tint}let J=this.localColor,Q=this.parent;while(Q)J=F2(J,Q.localColor),Q=Q.parent;return HK(J)}}});function j2(Z,J,Q){if(J.clear(),Q||(Q=a.IDENTITY),xI(Z,J,Q,Z,!0),!J.isValid)J.set(0,0,0,0);return J}function xI(Z,J,Q,q,K){let X;if(!K){if(!Z.visible||!Z.measurable)return;Z.updateLocalTransform();let O=Z.localTransform;X=p1.get(),X.appendFrom(O,Q)}else X=p1.get(),X=Q.copyTo(X);let N=J,Y=!!Z.effects.length;if(Y)J=S8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,X);else{if(Z.renderPipeId)J.matrix=X,J.addBounds(Z.bounds);let O=Z.children;for(let U=0;U<O.length;U++)xI(O[U],J,X,q,!1)}if(Y){for(let O=0;O<Z.effects.length;O++)Z.effects[O].addLocalBounds?.(J,q);N.addBounds(J,a.IDENTITY),S8.return(J)}p1.return(X)}var zH=F(()=>{I0();GZ()});function RD(Z,J){let Q=Z.children;for(let q=0;q<Q.length;q++){let K=Q[q],X=K.uid,N=(K._didViewChangeTick&65535)<<16|K._didContainerChangeTick&65535,Y=J.index;if(J.data[Y]!==X||J.data[Y+1]!==N)J.data[J.index]=X,J.data[J.index+1]=N,J.didChange=!0;if(J.index=Y+2,K.children.length)RD(K,J)}return J.didChange}var gI=()=>{};var fp,mI;var dI=F(()=>{I0();Z8();NK();zH();gI();fp=new a,mI={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(Z,J){let Q=Math.sign(this.scale.x)||1;if(J!==0)this.scale.x=Z/J*Q;else this.scale.x=Q},_setHeight(Z,J){let Q=Math.sign(this.scale.y)||1;if(J!==0)this.scale.y=Z/J*Q;else this.scale.y=Q},getLocalBounds(){if(!this._localBoundsCacheData)this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new e0};let Z=this._localBoundsCacheData;if(Z.index=1,Z.didChange=!1,Z.data[0]!==this._didViewChangeTick)Z.didChange=!0,Z.data[0]=this._didViewChangeTick;if(RD(this,Z),Z.didChange)j2(this,Z.localBounds,fp);return Z.localBounds},getBounds(Z,J){return G2(this,Z,J||new e0)}}});var cI;var uI=F(()=>{cI={_onRender:null,set onRender(Z){let J=this.renderGroup||this.parentRenderGroup;if(!Z){if(this._onRender)J?.removeOnRender(this);this._onRender=null;return}if(!this._onRender)J?.addOnRender(this);this._onRender=Z},get onRender(){return this._onRender}}});function yp(Z,J){return Z._zIndex-J._zIndex}var lI;var pI=F(()=>{lI={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(Z){if(this._zIndex===Z)return;this._zIndex=Z,this.depthOfChildModified()},depthOfChildModified(){if(this.parent)this.parent.sortableChildren=!0,this.parent.sortDirty=!0;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0},sortChildren(){if(!this.sortDirty)return;this.sortDirty=!1,this.children.sort(yp)}}});var iI;var aI=F(()=>{L6();GZ();iI={getGlobalPosition(Z=new S0,J=!1){if(this.parent)this.parent.toGlobal(this._position,Z,J);else Z.x=this._position.x,Z.y=this._position.y;return Z},toGlobal(Z,J,Q=!1){let q=this.getGlobalTransform(p1.get(),Q);return J=q.apply(Z,J),p1.return(q),J},toLocal(Z,J,Q,q){if(J)Z=J.toGlobal(Z,Q,q);let K=this.getGlobalTransform(p1.get(),q);return Q=K.applyInverse(Z,Q),p1.return(K),Q}}});class YK{constructor(){this.uid=_0("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(Z){this.instructions[this.instructionSize++]=Z}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}var ED=F(()=>{s1()});function s4(Z){return Z+=Z===0?1:0,--Z,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z+1}function ID(Z){return!(Z&Z-1)&&!!Z}var VK=()=>{};function NH(Z){let J={};for(let Q in Z)if(Z[Q]!==void 0)J[Q]=Z[Q];return J}var TD=()=>{};function hp(Z){let J=sI[Z];if(J===void 0)sI[Z]=_0("resource");return J}var sI,nI,J8;var FZ=F(()=>{B5();s1();$1();sI=Object.create(null);nI=class Z extends t0{constructor(J={}){super();this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,J={...Z.defaultOptions,...J},this.addressMode=J.addressMode,this.addressModeU=J.addressModeU??this.addressModeU,this.addressModeV=J.addressModeV??this.addressModeV,this.addressModeW=J.addressModeW??this.addressModeW,this.scaleMode=J.scaleMode,this.magFilter=J.magFilter??this.magFilter,this.minFilter=J.minFilter??this.minFilter,this.mipmapFilter=J.mipmapFilter??this.mipmapFilter,this.lodMinClamp=J.lodMinClamp,this.lodMaxClamp=J.lodMaxClamp,this.compare=J.compare,this.maxAnisotropy=J.maxAnisotropy??1}set addressMode(J){this.addressModeU=J,this.addressModeV=J,this.addressModeW=J}get addressMode(){return this.addressModeU}set wrapMode(J){q0(V0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=J}get wrapMode(){return this.addressMode}set scaleMode(J){this.magFilter=J,this.minFilter=J,this.mipmapFilter=J}get scaleMode(){return this.magFilter}set maxAnisotropy(J){if(this._maxAnisotropy=Math.min(J,16),this._maxAnisotropy>1)this.scaleMode="linear"}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){let J=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=hp(J),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};nI.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};J8=nI});var oI,y0;var y5=F(()=>{B5();VK();TD();s1();FZ();oI=class Z extends t0{constructor(J={}){super();if(this.options=J,this.uid=_0("textureSource"),this._resourceType="textureSource",this._resourceId=_0("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,J={...Z.defaultOptions,...J},this.label=J.label??"",this.resource=J.resource,this.autoGarbageCollect=J.autoGarbageCollect,this._resolution=J.resolution,J.width)this.pixelWidth=J.width*this._resolution;else this.pixelWidth=this.resource?this.resourceWidth??1:1;if(J.height)this.pixelHeight=J.height*this._resolution;else this.pixelHeight=this.resource?this.resourceHeight??1:1;this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=J.format,this.dimension=J.dimensions,this.mipLevelCount=J.mipLevelCount,this.autoGenerateMipmaps=J.autoGenerateMipmaps,this.sampleCount=J.sampleCount,this.antialias=J.antialias,this.alphaMode=J.alphaMode,this.style=new J8(NH(J)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(J){if(this.style===J)return;this._style?.off("change",this._onStyleChange,this),this._style=J,this._style?.on("change",this._onStyleChange,this),this._onStyleChange()}set maxAnisotropy(J){this._style.maxAnisotropy=J}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(J){this._style.addressMode=J}get repeatMode(){return this._style.addressMode}set repeatMode(J){this._style.addressMode=J}get magFilter(){return this._style.magFilter}set magFilter(J){this._style.magFilter=J}get minFilter(){return this._style.minFilter}set minFilter(J){this._style.minFilter=J}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(J){this._style.mipmapFilter=J}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(J){this._style.lodMinClamp=J}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(J){this._style.lodMaxClamp=J}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){let J=this._resolution;if(this.resize(this.resourceWidth/J,this.resourceHeight/J))return}this.emit("update",this)}destroy(){if(this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style)this._style.destroy(),this._style=null;this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=_0("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){let{resource:J}=this;return J.naturalWidth||J.videoWidth||J.displayWidth||J.width}get resourceHeight(){let{resource:J}=this;return J.naturalHeight||J.videoHeight||J.displayHeight||J.height}get resolution(){return this._resolution}set resolution(J){if(this._resolution===J)return;this._resolution=J,this.width=this.pixelWidth/J,this.height=this.pixelHeight/J}resize(J,Q,q){q||(q=this._resolution),J||(J=this.width),Q||(Q=this.height);let K=Math.round(J*q),X=Math.round(Q*q);if(this.width=K/q,this.height=X/q,this._resolution=q,this.pixelWidth===K&&this.pixelHeight===X)return!1;return this._refreshPOT(),this.pixelWidth=K,this.pixelHeight=X,this.emit("resize",this),this._resourceId=_0("resource"),this.emit("change",this),!0}updateMipmaps(){if(this.autoGenerateMipmaps&&this.mipLevelCount>1)this.emit("updateMipmaps",this)}set wrapMode(J){this._style.wrapMode=J}get wrapMode(){return this._style.wrapMode}set scaleMode(J){this._style.scaleMode=J}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=ID(this.pixelWidth)&&ID(this.pixelHeight)}static test(J){throw Error("Unimplemented")}};oI.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};y0=oI});function xp(){for(let Z=0;Z<16;Z++){let J=[];SD.push(J);for(let Q=0;Q<16;Q++){let q=HH(jZ[Z]*jZ[Q]+LZ[Z]*wZ[Q]),K=HH(wZ[Z]*jZ[Q]+CZ[Z]*wZ[Q]),X=HH(jZ[Z]*LZ[Q]+LZ[Z]*CZ[Q]),N=HH(wZ[Z]*LZ[Q]+CZ[Z]*CZ[Q]);for(let Y=0;Y<16;Y++)if(jZ[Y]===q&&wZ[Y]===K&&LZ[Y]===X&&CZ[Y]===N){J.push(Y);break}}}for(let Z=0;Z<16;Z++){let J=new a;J.set(jZ[Z],wZ[Z],LZ[Z],CZ[Z],0,0),tI.push(J)}}var jZ,wZ,LZ,CZ,SD,tI,HH,i0;var bD=F(()=>{I0();jZ=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wZ=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],LZ=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],CZ=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],SD=[],tI=[],HH=Math.sign;xp();i0={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:(Z)=>jZ[Z],uY:(Z)=>wZ[Z],vX:(Z)=>LZ[Z],vY:(Z)=>CZ[Z],inv:(Z)=>{if(Z&8)return Z&15;return-Z&7},add:(Z,J)=>SD[Z][J],sub:(Z,J)=>SD[Z][i0.inv(J)],rotate180:(Z)=>Z^4,isVertical:(Z)=>(Z&3)===2,byDirection:(Z,J)=>{if(Math.abs(Z)*2<=Math.abs(J)){if(J>=0)return i0.S;return i0.N}else if(Math.abs(J)*2<=Math.abs(Z)){if(Z>0)return i0.E;return i0.W}else if(J>0){if(Z>0)return i0.SE;return i0.SW}else if(Z>0)return i0.NE;return i0.NW},matrixAppendRotationInv:(Z,J,Q=0,q=0)=>{let K=tI[i0.inv(J)];K.tx=Q,K.ty=q,Z.append(K)},transformRectCoords:(Z,J,Q,q)=>{let{x:K,y:X,width:N,height:Y}=Z,{x:O,y:U,width:$,height:B}=J;if(Q===i0.E)return q.set(K+O,X+U,N,Y),q;else if(Q===i0.S)return q.set($-X-Y+O,K+U,Y,N);else if(Q===i0.W)return q.set($-K-N+O,B-X-Y+U,N,Y);else if(Q===i0.N)return q.set(X+O,B-K-N+U,Y,N);return q.set(K+O,X+U,N,Y)}}});var kD=()=>{};var rI=()=>{};var w2;var PD=F(()=>{g();y5();w2=class w2 extends y0{constructor(Z){let J=Z.resource||new Float32Array(Z.width*Z.height*4),Q=Z.format;if(!Q)if(J instanceof Float32Array)Q="rgba32float";else if(J instanceof Int32Array)Q="rgba32uint";else if(J instanceof Uint32Array)Q="rgba32uint";else if(J instanceof Int16Array)Q="rgba16uint";else if(J instanceof Uint16Array)Q="rgba16uint";else if(J instanceof Int8Array)Q="bgra8unorm";else Q="bgra8unorm";super({...Z,resource:J,format:Q});this.uploadMethodId="buffer"}static test(Z){return Z instanceof Int8Array||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array}};w2.extension=I.TextureSource});class OK{constructor(Z,J){if(this.mapCoord=new a,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof J>"u")this.clampMargin=Z.width<10?0:0.5;else this.clampMargin=J;this.isSimple=!1,this.texture=Z}get texture(){return this._texture}set texture(Z){if(this.texture===Z)return;this._texture?.removeListener("update",this.update,this),this._texture=Z,this._texture.addListener("update",this.update,this),this.update()}multiplyUvs(Z,J){if(J===void 0)J=Z;let Q=this.mapCoord;for(let q=0;q<Z.length;q+=2){let K=Z[q],X=Z[q+1];J[q]=K*Q.a+X*Q.c+Q.tx,J[q+1]=K*Q.b+X*Q.d+Q.ty}return J}update(){let Z=this._texture;this._updateID++;let J=Z.uvs;this.mapCoord.set(J.x1-J.x0,J.y1-J.y0,J.x3-J.x0,J.y3-J.y0,J.x0,J.y0);let{orig:Q,trim:q}=Z;if(q)eI.set(Q.width/q.width,0,0,Q.height/q.height,-q.x/q.width,-q.y/q.height),this.mapCoord.append(eI);let K=Z.source,X=this.uClampFrame,N=this.clampMargin/K._resolution,Y=this.clampOffset/K._resolution;return X[0]=(Z.frame.x+N+Y)/K.width,X[1]=(Z.frame.y+N+Y)/K.height,X[2]=(Z.frame.x+Z.frame.width-N+Y)/K.width,X[3]=(Z.frame.y+Z.frame.height-N+Y)/K.height,this.uClampOffset[0]=this.clampOffset/K.pixelWidth,this.uClampOffset[1]=this.clampOffset/K.pixelHeight,this.isSimple=Z.frame.width===K.width&&Z.frame.height===K.height&&Z.rotate===0,!0}}var eI;var vD=F(()=>{I0();eI=new a});var p;var u0=F(()=>{B5();bD();n1();s1();$1();rI();PD();y5();vD();p=class p extends t0{constructor({source:Z,label:J,frame:Q,orig:q,trim:K,defaultAnchor:X,defaultBorders:N,rotate:Y,dynamic:O}={}){super();if(this.uid=_0("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new A0,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=J,this.source=Z?.source??new y0,this.noFrame=!Q,Q)this.frame.copyFrom(Q);else{let{width:U,height:$}=this._source;this.frame.width=U,this.frame.height=$}this.orig=q||this.frame,this.trim=K,this.rotate=Y??0,this.defaultAnchor=X,this.defaultBorders=N,this.destroyed=!1,this.dynamic=O||!1,this.updateUvs()}set source(Z){if(this._source)this._source.off("resize",this.update,this);this._source=Z,Z.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){if(!this._textureMatrix)this._textureMatrix=new OK(this);return this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){let{uvs:Z,frame:J}=this,{width:Q,height:q}=this._source,K=J.x/Q,X=J.y/q,N=J.width/Q,Y=J.height/q,O=this.rotate;if(O){let U=N/2,$=Y/2,B=K+U,_=X+$;O=i0.add(O,i0.NW),Z.x0=B+U*i0.uX(O),Z.y0=_+$*i0.uY(O),O=i0.add(O,2),Z.x1=B+U*i0.uX(O),Z.y1=_+$*i0.uY(O),O=i0.add(O,2),Z.x2=B+U*i0.uX(O),Z.y2=_+$*i0.uY(O),O=i0.add(O,2),Z.x3=B+U*i0.uX(O),Z.y3=_+$*i0.uY(O)}else Z.x0=K,Z.y0=X,Z.x1=K+N,Z.y1=X,Z.x2=K+N,Z.y2=X+Y,Z.x3=K,Z.y3=X+Y}destroy(Z=!1){if(this._source){if(Z)this._source.destroy(),this._source=null}this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){if(this.noFrame)this.frame.width=this._source.width,this.frame.height=this._source.height;this.updateUvs(),this.emit("update",this)}get baseTexture(){return q0(V0,"Texture.baseTexture is now Texture.source"),this._source}};p.EMPTY=new p({label:"EMPTY",source:new y0({label:"EMPTY"})});p.EMPTY.destroy=kD;p.WHITE=new p({source:new w2({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});p.WHITE.destroy=kD});class ZT{constructor(Z){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=Z||{},this.enableFullScreen=!1,this.textureStyle=new J8(this.textureOptions)}createTexture(Z,J,Q){let q=new y0({...this.textureOptions,width:Z,height:J,resolution:1,antialias:Q,autoGarbageCollect:!1});return new p({source:q,label:`texturePool_${gp++}`})}getOptimalTexture(Z,J,Q=1,q){let K=Math.ceil(Z*Q-0.000001),X=Math.ceil(J*Q-0.000001);K=s4(K),X=s4(X);let N=(K<<17)+(X<<1)+(q?1:0);if(!this._texturePool[N])this._texturePool[N]=[];let Y=this._texturePool[N].pop();if(!Y)Y=this.createTexture(K,X,q);return Y.source._resolution=Q,Y.source.width=K/Q,Y.source.height=X/Q,Y.source.pixelWidth=K,Y.source.pixelHeight=X,Y.frame.x=0,Y.frame.y=0,Y.frame.width=Z,Y.frame.height=J,Y.updateUvs(),this._poolKeyHash[Y.uid]=N,Y}getSameSizeTexture(Z,J=!1){let Q=Z.source;return this.getOptimalTexture(Z.width,Z.height,Q._resolution,J)}returnTexture(Z,J=!1){let Q=this._poolKeyHash[Z.uid];if(J)Z.source.style=this.textureStyle;this._texturePool[Q].push(Z)}clear(Z){if(Z=Z!==!1,Z)for(let J in this._texturePool){let Q=this._texturePool[J];if(Q)for(let q=0;q<Q.length;q++)Q[q].destroy(!0)}this._texturePool={}}}var gp=0,a0;var Z4=F(()=>{VK();WZ();y5();u0();FZ();a0=new ZT;X6.register(a0)});class L2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new a,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new YK,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(Z){if(this.root=Z,Z._onRender)this.addOnRender(Z);Z.didChange=!0;let J=Z.children;for(let Q=0;Q<J.length;Q++){let q=J[Q];q._updateFlags=15,this.addChild(q)}}enableCacheAsTexture(Z={}){this.textureOptions=Z,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){if(this.isCachedAsTexture=!1,this.texture)a0.returnTexture(this.texture,!0),this.texture=null}updateCacheTexture(){this.textureNeedsUpdate=!0;let Z=this._parentCacheAsTextureRenderGroup;if(Z&&!Z.textureNeedsUpdate)Z.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(let Z in this.childrenToUpdate){let J=this.childrenToUpdate[Z];J.list.fill(null),J.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(Z){if(Z.renderGroupParent)Z.renderGroupParent._removeRenderGroupChild(Z);Z.renderGroupParent=this,this.renderGroupChildren.push(Z)}_removeRenderGroupChild(Z){let J=this.renderGroupChildren.indexOf(Z);if(J>-1)this.renderGroupChildren.splice(J,1);Z.renderGroupParent=null}addChild(Z){if(this.structureDidChange=!0,Z.parentRenderGroup=this,Z.updateTick=-1,Z.parent===this.root)Z.relativeRenderGroupDepth=1;else Z.relativeRenderGroupDepth=Z.parent.relativeRenderGroupDepth+1;if(Z.didChange=!0,this.onChildUpdate(Z),Z.renderGroup){this.addRenderGroupChild(Z.renderGroup);return}if(Z._onRender)this.addOnRender(Z);let J=Z.children;for(let Q=0;Q<J.length;Q++)this.addChild(J[Q])}removeChild(Z){if(this.structureDidChange=!0,Z._onRender){if(!Z.renderGroup)this.removeOnRender(Z)}if(Z.parentRenderGroup=null,Z.renderGroup){this._removeRenderGroupChild(Z.renderGroup);return}let J=Z.children;for(let Q=0;Q<J.length;Q++)this.removeChild(J[Q])}removeChildren(Z){for(let J=0;J<Z.length;J++)this.removeChild(Z[J])}onChildUpdate(Z){let J=this.childrenToUpdate[Z.relativeRenderGroupDepth];if(!J)J=this.childrenToUpdate[Z.relativeRenderGroupDepth]={index:0,list:[]};J.list[J.index++]=Z}updateRenderable(Z){if(Z.globalDisplayStatus<7)return;this.instructionSet.renderPipes[Z.renderPipeId].updateRenderable(Z),Z.didViewUpdate=!1}onChildViewUpdate(Z){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=Z}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(Z){this._onRenderContainers.push(Z)}removeOnRender(Z){this._onRenderContainers.splice(this._onRenderContainers.indexOf(Z),1)}runOnRender(Z){for(let J=0;J<this._onRenderContainers.length;J++)this._onRenderContainers[J]._onRender(Z)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(Z=[]){let J=this.root.children;for(let Q=0;Q<J.length;Q++)this._getChildren(J[Q],Z);return Z}_getChildren(Z,J=[]){if(J.push(Z),Z.renderGroup)return J;let Q=Z.children;for(let q=0;q<Q.length;q++)this._getChildren(Q[q],J);return J}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){if((this._matrixDirty&1)===0)return this._inverseWorldTransform;return this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new a),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()}get textureOffsetInverseTransform(){if((this._matrixDirty&2)===0)return this._textureOffsetInverseTransform;return this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new a),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;let Z=this._parentCacheAsTextureRenderGroup;if(Z)return this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new a),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(Z.inverseWorldTransform).translate(-Z._textureBounds.x,-Z._textureBounds.y);return this.worldTransform}get cacheToLocalTransform(){if(this.isCachedAsTexture)return this.textureOffsetInverseTransform;if(!this._parentCacheAsTextureRenderGroup)return null;return this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform}}var fD=F(()=>{I0();ED();Z4()});function JT(Z,J,Q={}){for(let q in J)if(!Q[q]&&J[q]!==void 0)Z[q]=J[q]}var QT=()=>{};var yD,YH,hD,VH,C2=1,UK=2,RZ=4,k0;var C6=F(()=>{B5();E5();VI();g();I0();_D();WD();s1();$1();c0();e6();GI();jI();LI();II();SI();PI();hI();dI();uI();pI();aI();fD();QT();yD=new X5(null),YH=new X5(null),hD=new X5(null,1,1),VH=new X5(null);k0=class k0 extends t0{constructor(Z={}){super();this.uid=_0("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new a,this.relativeGroupTransform=new a,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new X5(this,0,0),this._scale=hD,this._pivot=YH,this._origin=VH,this._skew=yD,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],JT(this,Z,{children:!0,parent:!0,effects:!0}),Z.children?.forEach((J)=>this.addChild(J)),Z.parent?.addChild(this)}static mixin(Z){q0("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),J0.mixin(k0,Z)}set _didChangeId(Z){this._didViewChangeTick=Z>>12&4095,this._didContainerChangeTick=Z&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...Z){if(!this.allowChildren)q0(V0,"addChild: Only Containers will be allowed to add children in v8.0.0");if(Z.length>1){for(let q=0;q<Z.length;q++)this.addChild(Z[q]);return Z[0]}let J=Z[0],Q=this.renderGroup||this.parentRenderGroup;if(J.parent===this){if(this.children.splice(this.children.indexOf(J),1),this.children.push(J),Q)Q.structureDidChange=!0;return J}if(J.parent)J.parent.removeChild(J);if(this.children.push(J),this.sortableChildren)this.sortDirty=!0;if(J.parent=this,J.didChange=!0,J._updateFlags=15,Q)Q.addChild(J);if(this.emit("childAdded",J,this,this.children.length-1),J.emit("added",this),this._didViewChangeTick++,J._zIndex!==0)J.depthOfChildModified();return J}removeChild(...Z){if(Z.length>1){for(let q=0;q<Z.length;q++)this.removeChild(Z[q]);return Z[0]}let J=Z[0],Q=this.children.indexOf(J);if(Q>-1){if(this._didViewChangeTick++,this.children.splice(Q,1),this.renderGroup)this.renderGroup.removeChild(J);else if(this.parentRenderGroup)this.parentRenderGroup.removeChild(J);if(J.parentRenderLayer)J.parentRenderLayer.detach(J);J.parent=null,this.emit("childRemoved",J,this,Q),J.emit("removed",this)}return J}_onUpdate(Z){if(Z){if(Z===this._skew)this._updateSkew()}if(this._didContainerChangeTick++,this.didChange)return;if(this.didChange=!0,this.parentRenderGroup)this.parentRenderGroup.onChildUpdate(this)}set isRenderGroup(Z){if(!!this.renderGroup===Z)return;if(Z)this.enableRenderGroup();else this.disableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),this.renderGroup=r0.get(L2,this),this.groupTransform=a.IDENTITY,Z?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),r0.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,Z?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){if(this._worldTransform||(this._worldTransform=new a),this.renderGroup)this._worldTransform.copyFrom(this.renderGroup.worldTransform);else if(this.parentRenderGroup)this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform);return this._worldTransform}get x(){return this._position.x}set x(Z){this._position.x=Z}get y(){return this._position.y}set y(Z){this._position.y=Z}get position(){return this._position}set position(Z){this._position.copyFrom(Z)}get rotation(){return this._rotation}set rotation(Z){if(this._rotation!==Z)this._rotation=Z,this._onUpdate(this._skew)}get angle(){return this.rotation*UI}set angle(Z){this.rotation=Z*AI}get pivot(){if(this._pivot===YH)this._pivot=new X5(this,0,0);return this._pivot}set pivot(Z){if(this._pivot===YH){if(this._pivot=new X5(this,0,0),this._origin!==VH)e("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._pivot.set(Z):this._pivot.copyFrom(Z)}get skew(){if(this._skew===yD)this._skew=new X5(this,0,0);return this._skew}set skew(Z){if(this._skew===yD)this._skew=new X5(this,0,0);this._skew.copyFrom(Z)}get scale(){if(this._scale===hD)this._scale=new X5(this,1,1);return this._scale}set scale(Z){if(this._scale===hD)this._scale=new X5(this,0,0);if(typeof Z==="string")Z=parseFloat(Z);typeof Z==="number"?this._scale.set(Z):this._scale.copyFrom(Z)}get origin(){if(this._origin===VH)this._origin=new X5(this,0,0);return this._origin}set origin(Z){if(this._origin===VH){if(this._origin=new X5(this,0,0),this._pivot!==YH)e("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._origin.set(Z):this._origin.copyFrom(Z)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(Z){let J=this.getLocalBounds().width;this._setWidth(Z,J)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(Z){let J=this.getLocalBounds().height;this._setHeight(Z,J)}getSize(Z){if(!Z)Z={};let J=this.getLocalBounds();return Z.width=Math.abs(this.scale.x*J.width),Z.height=Math.abs(this.scale.y*J.height),Z}setSize(Z,J){let Q=this.getLocalBounds();if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,Q.width),J!==void 0&&this._setHeight(J,Q.height)}_updateSkew(){let Z=this._rotation,J=this._skew;this._cx=Math.cos(Z+J._y),this._sx=Math.sin(Z+J._y),this._cy=-Math.sin(Z-J._x),this._sy=Math.cos(Z-J._x)}updateTransform(Z){return this.position.set(typeof Z.x==="number"?Z.x:this.position.x,typeof Z.y==="number"?Z.y:this.position.y),this.scale.set(typeof Z.scaleX==="number"?Z.scaleX||1:this.scale.x,typeof Z.scaleY==="number"?Z.scaleY||1:this.scale.y),this.rotation=typeof Z.rotation==="number"?Z.rotation:this.rotation,this.skew.set(typeof Z.skewX==="number"?Z.skewX:this.skew.x,typeof Z.skewY==="number"?Z.skewY:this.skew.y),this.pivot.set(typeof Z.pivotX==="number"?Z.pivotX:this.pivot.x,typeof Z.pivotY==="number"?Z.pivotY:this.pivot.y),this.origin.set(typeof Z.originX==="number"?Z.originX:this.origin.x,typeof Z.originY==="number"?Z.originY:this.origin.y),this}setFromMatrix(Z){Z.decompose(this)}updateLocalTransform(){let Z=this._didContainerChangeTick;if(this._didLocalTransformChangeId===Z)return;this._didLocalTransformChangeId=Z;let J=this.localTransform,Q=this._scale,q=this._pivot,K=this._origin,X=this._position,N=Q._x,Y=Q._y,O=q._x,U=q._y,$=-K._x,B=-K._y;J.a=this._cx*N,J.b=this._sx*N,J.c=this._cy*Y,J.d=this._sy*Y,J.tx=X._x-(O*J.a+U*J.c)+($*J.a+B*J.c)-$,J.ty=X._y-(O*J.b+U*J.d)+($*J.b+B*J.d)-B}set alpha(Z){if(Z===this.localAlpha)return;this.localAlpha=Z,this._updateFlags|=C2,this._onUpdate()}get alpha(){return this.localAlpha}set tint(Z){let Q=G0.shared.setValue(Z??16777215).toBgrNumber();if(Q===this.localColor)return;this.localColor=Q,this._updateFlags|=C2,this._onUpdate()}get tint(){return HK(this.localColor)}set blendMode(Z){if(this.localBlendMode===Z)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=UK,this.localBlendMode=Z,this._onUpdate()}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(Z){let J=Z?2:0;if((this.localDisplayStatus&2)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=RZ,this.localDisplayStatus^=2,this._onUpdate()}get culled(){return!(this.localDisplayStatus&4)}set culled(Z){let J=Z?0:4;if((this.localDisplayStatus&4)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=RZ,this.localDisplayStatus^=4,this._onUpdate()}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(Z){let J=Z?1:0;if((this.localDisplayStatus&1)===J)return;if(this._updateFlags|=RZ,this.localDisplayStatus^=1,this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._onUpdate()}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(Z=!1){if(this.destroyed)return;this.destroyed=!0;let J;if(this.children.length)J=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof Z==="boolean"?Z:Z?.children)&&J)for(let q=0;q<J.length;++q)J[q].destroy(Z);this.renderGroup?.destroy(),this.renderGroup=null}};J0.mixin(k0,FI,kI,iI,cI,mI,EI,TI,lI,YI,WI,yI,wI)});var J4;var AK=F(()=>{J4=((Z)=>{return Z[Z.INTERACTION=50]="INTERACTION",Z[Z.HIGH=25]="HIGH",Z[Z.NORMAL=0]="NORMAL",Z[Z.LOW=-25]="LOW",Z[Z.UTILITY=-50]="UTILITY",Z})(J4||{})});class $K{constructor(Z,J=null,Q=0,q=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=Z,this._context=J,this.priority=Q,this._once=q}match(Z,J=null){return this._fn===Z&&this._context===J}emit(Z){if(this._fn)if(this._context)this._fn.call(this._context,Z);else this._fn(Z);let J=this.next;if(this._once)this.destroy(!0);if(this._destroyed)this.next=null;return J}connect(Z){if(this.previous=Z,Z.next)Z.next.previous=this;this.next=Z.next,Z.next=this}destroy(Z=!1){if(this._destroyed=!0,this._fn=null,this._context=null,this.previous)this.previous.next=this.next;if(this.next)this.next.previous=this.previous;let J=this.next;return this.next=Z?null:J,this.previous=null,J}}var qT=()=>{};var KT=class Z{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new $K(null,null,1/0),this.deltaMS=1/Z.targetFPMS,this.elapsedMS=1/Z.targetFPMS,this._tick=(J)=>{if(this._requestId=null,this.started){if(this.update(J),this.started&&this._requestId===null&&this._head.next)this._requestId=requestAnimationFrame(this._tick)}}}_requestIfNeeded(){if(this._requestId===null&&this._head.next)this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick)}_cancelIfNeeded(){if(this._requestId!==null)cancelAnimationFrame(this._requestId),this._requestId=null}_startIfPossible(){if(this.started)this._requestIfNeeded();else if(this.autoStart)this.start()}add(J,Q,q=J4.NORMAL){return this._addListener(new $K(J,Q,q))}addOnce(J,Q,q=J4.NORMAL){return this._addListener(new $K(J,Q,q,!0))}_addListener(J){let Q=this._head.next,q=this._head;if(!Q)J.connect(q);else{while(Q){if(J.priority>Q.priority){J.connect(q);break}q=Q,Q=Q.next}if(!J.previous)J.connect(q)}return this._startIfPossible(),this}remove(J,Q){let q=this._head.next;while(q)if(q.match(J,Q))q=q.destroy();else q=q.next;if(!this._head.next)this._cancelIfNeeded();return this}get count(){if(!this._head)return 0;let J=0,Q=this._head;while(Q=Q.next)J++;return J}start(){if(!this.started)this.started=!0,this._requestIfNeeded()}stop(){if(this.started)this.started=!1,this._cancelIfNeeded()}destroy(){if(!this._protected){this.stop();let J=this._head.next;while(J)J=J.destroy(!0);this._head.destroy(),this._head=null}}update(J=performance.now()){let Q;if(J>this.lastTime){if(Q=this.elapsedMS=J-this.lastTime,Q>this._maxElapsedMS)Q=this._maxElapsedMS;if(Q*=this.speed,this._minElapsedMS){let X=J-this._lastFrame|0;if(X<this._minElapsedMS)return;this._lastFrame=J-X%this._minElapsedMS}this.deltaMS=Q,this.deltaTime=this.deltaMS*Z.targetFPMS;let q=this._head,K=q.next;while(K)K=K.emit(this);if(!q.next)this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=J}get FPS(){return 1000/this.elapsedMS}get minFPS(){return 1000/this._maxElapsedMS}set minFPS(J){let Q=Math.min(this.maxFPS,J),q=Math.min(Math.max(0,Q)/1000,Z.targetFPMS);this._maxElapsedMS=1/q}get maxFPS(){if(this._minElapsedMS)return Math.round(1000/this._minElapsedMS);return 0}set maxFPS(J){if(J===0)this._minElapsedMS=0;else{let Q=Math.max(this.minFPS,J);this._minElapsedMS=1/(Q/1000)}}static get shared(){if(!Z._shared){let J=Z._shared=new Z;J.autoStart=!0,J._protected=!0}return Z._shared}static get system(){if(!Z._system){let J=Z._system=new Z;J.autoStart=!0,J._protected=!0}return Z._system}},_5;var R2=F(()=>{AK();qT();KT.targetFPMS=0.06;_5=KT});class DK{constructor(Z){if(this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;let J=this._canvas.getBoundingClientRect(),Q=this._canvas.width,q=this._canvas.height,K=J.width/Q*this._renderer.resolution,X=J.height/q*this._renderer.resolution,N=J.left,Y=J.top,O=`translate(${N}px, ${Y}px) scale(${K}, ${X})`;if(O!==this._lastTransform)this._domElement.style.transform=O,this._lastTransform=O},this._domElement=Z.domElement,this._renderer=Z.renderer,globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas)return;this._canvas=this._renderer.canvas,this._attachObserver()}get canvas(){return this._canvas}ensureAttached(){if(!this._domElement.parentNode&&this._canvas.parentNode)this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation()}_attachObserver(){if("ResizeObserver"in globalThis){if(this._observer)this._observer.disconnect(),this._observer=null;this._observer=new ResizeObserver((Z)=>{for(let J of Z){if(J.target!==this._canvas)continue;let Q=this.canvas.width,q=this.canvas.height,K=J.contentRect.width/Q*this._renderer.resolution,X=J.contentRect.height/q*this._renderer.resolution;if(this._lastScaleX!==K||this._lastScaleY!==X)this.updateTranslation(),this._lastScaleX=K,this._lastScaleY=X}}),this._observer.observe(this._canvas)}else if(!this._tickerAttached)_5.shared.add(this.updateTranslation,this,J4.HIGH)}destroy(){if(this._observer)this._observer.disconnect(),this._observer=null;else if(this._tickerAttached)_5.shared.remove(this.updateTranslation);this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}var xD=F(()=>{AK();R2()});class Y9{constructor(Z){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Y9.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new S0,this.page=new S0,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=Z}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){if(this.manager&&(!this.path||this.path[this.path.length-1]!==this.target))this.path=this.target?this.manager.propagationPath(this.target):[];return this.path}initEvent(Z,J,Q){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(Z,J,Q,q,K){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){if(this.nativeEvent instanceof Event&&this.nativeEvent.cancelable)this.nativeEvent.preventDefault();this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var OH=F(()=>{L6()});function mp(Z){return function(J){return J.test(Z)}}function BK(Z){var J={userAgent:"",platform:"",maxTouchPoints:0};if(!Z&&typeof navigator<"u")J={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};else if(typeof Z==="string")J.userAgent=Z;else if(Z&&Z.userAgent)J={userAgent:Z.userAgent,platform:Z.platform,maxTouchPoints:Z.maxTouchPoints||0};var Q=J.userAgent,q=Q.split("[FBAN");if(typeof q[1]<"u")Q=q[0];if(q=Q.split("Twitter"),typeof q[1]<"u")Q=q[0];var K=mp(Q),X={apple:{phone:K(gD)&&!K(n4),ipod:K(XT),tablet:!K(gD)&&(K(zT)||DT(J))&&!K(n4),universal:K(NT),device:(K(gD)||K(XT)||K(zT)||K(NT)||DT(J))&&!K(n4)},amazon:{phone:K(E2),tablet:!K(E2)&&K(UH),device:K(E2)||K(UH)},android:{phone:!K(n4)&&K(E2)||!K(n4)&&K(mD),tablet:!K(n4)&&!K(E2)&&!K(mD)&&(K(UH)||K(HT)),device:!K(n4)&&(K(E2)||K(UH)||K(mD)||K(HT))||K(/\bokhttp\b/i)},windows:{phone:K(n4),tablet:K(YT),device:K(n4)||K(YT)},other:{blackberry:K(VT),blackberry10:K(OT),opera:K(UT),firefox:K($T),chrome:K(AT),device:K(VT)||K(OT)||K(UT)||K($T)||K(AT)},any:!1,phone:!1,tablet:!1};return X.any=X.apple.device||X.android.device||X.windows.device||X.other.device,X.phone=X.apple.phone||X.android.phone||X.windows.phone,X.tablet=X.apple.tablet||X.android.tablet||X.windows.tablet,X}var gD,XT,zT,NT,mD,HT,E2,UH,n4,YT,VT,OT,UT,AT,$T,DT=function(Z){return typeof Z<"u"&&Z.platform==="MacIntel"&&typeof Z.maxTouchPoints==="number"&&Z.maxTouchPoints>1&&typeof MSStream>"u"};var dD=F(()=>{gD=/iPhone/i,XT=/iPod/i,zT=/iPad/i,NT=/\biOS-universal(?:.+)Mac\b/i,mD=/\bAndroid(?:.+)Mobile\b/i,HT=/Android/i,E2=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,UH=/Silk/i,n4=/Windows Phone/i,YT=/\bWindows(?:.+)ARM\b/i,VT=/BlackBerry/i,OT=/BB10/i,UT=/Opera Mini/i,AT=/\b(CriOS|Chrome)(?:.+)Mobile/i,$T=/Mobile(?:.+)Firefox\b/i});var BT=F(()=>{dD();dD()});var dp,_T;var MT=F(()=>{BT();dp=BK.default??BK,_T=dp(globalThis.navigator)});var cp=9,WT=100,up=0,lp=0,GT=2,FT=1,pp=-1000,ip=-1000,ap=2,cD=class Z{constructor(J,Q=_T){if(this._mobileInfo=Q,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pools={},this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._isRunningTests=!1,this._boundOnKeyDown=this._onKeyDown.bind(this),this._boundOnMouseMove=this._onMouseMove.bind(this),this._hookDiv=null,Q.tablet||Q.phone)this._createTouchHook();this._renderer=J}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}get div(){return this._div}_createTouchHook(){let J=document.createElement("button");J.style.width=`${FT}px`,J.style.height=`${FT}px`,J.style.position="absolute",J.style.top=`${pp}px`,J.style.left=`${ip}px`,J.style.zIndex=ap.toString(),J.style.backgroundColor="#FF0000",J.title="select to enable accessibility for this content",J.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(J),this._hookDiv=J}_destroyTouchHook(){if(!this._hookDiv)return;document.body.removeChild(this._hookDiv),this._hookDiv=null}_activate(){if(this._isActive)return;if(this._isActive=!0,!this._div)this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top=`${up}px`,this._div.style.left=`${lp}px`,this._div.style.pointerEvents="none",this._div.style.zIndex=GT.toString(),this._canvasObserver=new DK({domElement:this._div,renderer:this._renderer});if(this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);if(this._deactivateOnMouseMove)globalThis.document.addEventListener("mousemove",this._boundOnMouseMove,!0);let J=this._renderer.view.canvas;if(!J.parentNode){let Q=new MutationObserver(()=>{if(J.parentNode)Q.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()});Q.observe(document.body,{childList:!0,subtree:!0})}else this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()}_initAccessibilitySetup(){if(this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered)this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!this._isActive||this._isMobileAccessibility)return;if(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);this._renderer.runners.postrender.remove(this);for(let J of this._children){if(J._accessibleDiv&&J._accessibleDiv.parentNode)J._accessibleDiv.parentNode.removeChild(J._accessibleDiv),J._accessibleDiv=null;J._accessibleActive=!1}for(let J in this._pools)this._pools[J].forEach((q)=>{if(q.parentNode)q.parentNode.removeChild(q)}),delete this._pools[J];if(this._div&&this._div.parentNode)this._div.parentNode.removeChild(this._div);this._pools={},this._children=[]}_updateAccessibleObjects(J){if(!J.visible||!J.accessibleChildren)return;if(J.accessible){if(!J._accessibleActive)this._addChild(J);J._renderId=this._renderId}let Q=J.children;if(Q)for(let q=0;q<Q.length;q++)this._updateAccessibleObjects(Q[q])}init(J){let q={accessibilityOptions:{...Z.defaultOptions,...J?.accessibilityOptions||{}}};if(this.debug=q.accessibilityOptions.debug,this._activateOnTab=q.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=q.accessibilityOptions.deactivateOnMouseMove,q.accessibilityOptions.enabledByDefault)this._activate();this._renderer.runners.postrender.remove(this)}postrender(){let J=performance.now();if(this._mobileInfo.android.device&&J<this._androidUpdateCount)return;if(this._androidUpdateCount=J+this._androidUpdateFrequency,(!this._renderer.renderingToScreen||!this._renderer.view.canvas)&&!this._isRunningTests)return;let Q=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(let q of this._children)if(q._renderId===this._renderId)Q.add(this._children.indexOf(q))}for(let q=this._children.length-1;q>=0;q--){let K=this._children[q];if(!Q.has(q)){if(K._accessibleDiv&&K._accessibleDiv.parentNode)K._accessibleDiv.parentNode.removeChild(K._accessibleDiv),this._getPool(K.accessibleType).push(K._accessibleDiv),K._accessibleDiv=null;K._accessibleActive=!1,ZH(this._children,q,1)}}if(this._renderer.renderingToScreen)this._canvasObserver.ensureAttached();for(let q=0;q<this._children.length;q++){let K=this._children[q];if(!K._accessibleActive||!K._accessibleDiv)continue;let X=K._accessibleDiv,N=K.hitArea||K.getBounds().rectangle;if(K.hitArea){let Y=K.worldTransform;X.style.left=`${Y.tx+N.x*Y.a}px`,X.style.top=`${Y.ty+N.y*Y.d}px`,X.style.width=`${N.width*Y.a}px`,X.style.height=`${N.height*Y.d}px`}else this._capHitArea(N),X.style.left=`${N.x}px`,X.style.top=`${N.y}px`,X.style.width=`${N.width}px`,X.style.height=`${N.height}px`}this._renderId++}_updateDebugHTML(J){J.innerHTML=`type: ${J.type}</br> title : ${J.title}</br> tabIndex: ${J.tabIndex}`}_capHitArea(J){if(J.x<0)J.width+=J.x,J.x=0;if(J.y<0)J.height+=J.y,J.y=0;let{width:Q,height:q}=this._renderer;if(J.x+J.width>Q)J.width=Q-J.x;if(J.y+J.height>q)J.height=q-J.y}_addChild(J){let q=this._getPool(J.accessibleType).pop();if(q)q.innerHTML="",q.removeAttribute("title"),q.removeAttribute("aria-label"),q.tabIndex=0;else{if(J.accessibleType==="button")q=document.createElement("button");else if(q=document.createElement(J.accessibleType),q.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,J.accessibleText)q.innerText=J.accessibleText;if(q.style.width=`${WT}px`,q.style.height=`${WT}px`,q.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",q.style.position="absolute",q.style.zIndex=GT.toString(),q.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome"))q.setAttribute("aria-live","off");else q.setAttribute("aria-live","polite");if(navigator.userAgent.match(/rv:.*Gecko\//))q.setAttribute("aria-relevant","additions");else q.setAttribute("aria-relevant","text");q.addEventListener("click",this._onClick.bind(this)),q.addEventListener("focus",this._onFocus.bind(this)),q.addEventListener("focusout",this._onFocusOut.bind(this))}if(q.style.pointerEvents=J.accessiblePointerEvents,q.type=J.accessibleType,J.accessibleTitle&&J.accessibleTitle!==null)q.title=J.accessibleTitle;else if(!J.accessibleHint||J.accessibleHint===null)q.title=`container ${J.tabIndex}`;if(J.accessibleHint&&J.accessibleHint!==null)q.setAttribute("aria-label",J.accessibleHint);if(J.interactive)q.tabIndex=J.tabIndex;else q.tabIndex=0;if(this.debug)this._updateDebugHTML(q);J._accessibleActive=!0,J._accessibleDiv=q,q.container=J,this._children.push(J),this._div.appendChild(J._accessibleDiv)}_dispatchEvent(J,Q){let{container:q}=J.target,K=this._renderer.events.rootBoundary,X=Object.assign(new Y9(K),{target:q});K.rootTarget=this._renderer.lastObjectRendered,Q.forEach((N)=>K.dispatchEvent(X,N))}_onClick(J){this._dispatchEvent(J,["click","pointertap","tap"])}_onFocus(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","assertive");this._dispatchEvent(J,["mouseover"])}_onFocusOut(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","polite");this._dispatchEvent(J,["mouseout"])}_onKeyDown(J){if(J.keyCode!==cp||!this._activateOnTab)return;this._activate()}_onMouseMove(J){if(J.movementX===0&&J.movementY===0)return;this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._canvasObserver?.destroy(),this._canvasObserver=null,this._div=null,this._pools=null,this._children=null,this._renderer=null,this._hookDiv=null,globalThis.removeEventListener("keydown",this._boundOnKeyDown),this._boundOnKeyDown=null,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._boundOnMouseMove=null}setAccessibilityEnabled(J){if(J)this._activate();else this._deactivate()}_getPool(J){if(!this._pools[J])this._pools[J]=[];return this._pools[J]}},jT;var wT=F(()=>{xD();OH();g();MT();wD();cD.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"accessibility"};cD.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};jT=cD});var LT;var CT=F(()=>{LT={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1}});var RT=F(()=>{g();C6();wT();CT();J0.add(jT);J0.mixin(k0,LT)});class AH{static init(Z){Object.defineProperty(this,"resizeTo",{set(J){if(globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=J,J)globalThis.addEventListener("resize",this.queueResize),this.resize()},get(){return this._resizeTo}}),this.queueResize=()=>{if(!this._resizeTo)return;this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize())},this._cancelResize=()=>{if(this._resizeId)cancelAnimationFrame(this._resizeId),this._resizeId=null},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let J,Q;if(this._resizeTo===globalThis.window)J=globalThis.innerWidth,Q=globalThis.innerHeight;else{let{clientWidth:q,clientHeight:K}=this._resizeTo;J=q,Q=K}this.renderer.resize(J,Q),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=Z.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}var ET=F(()=>{g();AH.extension=I.Application});class $H{static init(Z){if(Z=Object.assign({autoStart:!0,sharedTicker:!1},Z),Object.defineProperty(this,"ticker",{set(J){if(this._ticker)this._ticker.remove(this.render,this);if(this._ticker=J,J)J.add(this.render,this,J4.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=Z.sharedTicker?_5.shared:new _5,Z.autoStart)this.start()}static destroy(){if(this._ticker){let Z=this._ticker;this.ticker=null,Z.destroy()}}}var IT=F(()=>{g();AK();R2();$H.extension=I.Application});var uD=F(()=>{g();ET();IT();J0.add(AH);J0.add($H)});class TT{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(Z){this.removeTickerListener(),this.events=Z,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(Z){this._pauseUpdate=Z}addTickerListener(){if(this._tickerAdded||!this.domElement)return;_5.system.add(this._tickerUpdate,this,J4.INTERACTION),this._tickerAdded=!0}removeTickerListener(){if(!this._tickerAdded)return;_5.system.remove(this._tickerUpdate,this),this._tickerAdded=!1}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let Z=this.events._rootPointerEvent;if(this.events.supportsTouchEvents&&Z.pointerType==="touch")return;globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:Z.clientX,clientY:Z.clientY,pointerType:Z.pointerType,pointerId:Z.pointerId}):new MouseEvent("mousemove",{clientX:Z.clientX,clientY:Z.clientY}))}_tickerUpdate(Z){if(this._deltaTime+=Z.deltaTime,this._deltaTime<this.interactionFrequency)return;this._deltaTime=0,this._update()}destroy(){this.removeTickerListener(),this.events=null,this.domElement=null,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}}var R6;var lD=F(()=>{AK();R2();R6=new TT});var V9;var DH=F(()=>{L6();OH();V9=class V9 extends Y9{constructor(){super(...arguments);this.client=new S0,this.movement=new S0,this.offset=new S0,this.global=new S0,this.screen=new S0}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(Z,J,Q){return Z.worldTransform.applyInverse(Q||this.global,J)}getModifierState(Z){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(Z)}initMouseEvent(Z,J,Q,q,K,X,N,Y,O,U,$,B,_,W,w){throw Error("Method not implemented.")}}});var Q8;var pD=F(()=>{DH();Q8=class Q8 extends V9{constructor(){super(...arguments);this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){if(this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove")return[this];return[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}}});var o4;var iD=F(()=>{DH();o4=class o4 extends V9{constructor(){super(...arguments);this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}};o4.DOM_DELTA_PIXEL=0;o4.DOM_DELTA_LINE=1;o4.DOM_DELTA_PAGE=2});class aD{constructor(Z){this.dispatch=new t0,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=Z,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(Z,J){if(!this.mappingTable[Z])this.mappingTable[Z]=[];this.mappingTable[Z].push({fn:J,priority:0}),this.mappingTable[Z].sort((Q,q)=>Q.priority-q.priority)}dispatchEvent(Z,J){Z.propagationStopped=!1,Z.propagationImmediatelyStopped=!1,this.propagate(Z,J),this.dispatch.emit(J||Z.type,Z)}mapEvent(Z){if(!this.rootTarget)return;let J=this.mappingTable[Z.type];if(J)for(let Q=0,q=J.length;Q<q;Q++)J[Q].fn(Z);else e(`[EventBoundary]: Event mapping not defined for ${Z.type}`)}hitTest(Z,J){R6.pauseUpdate=!0;let q=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",K=this[q](this.rootTarget,this.rootTarget.eventMode,np.set(Z,J),this.hitTestFn,this.hitPruneFn);return K&&K[0]}propagate(Z,J){if(!Z.target)return;let Q=Z.composedPath();Z.eventPhase=Z.CAPTURING_PHASE;for(let q=0,K=Q.length-1;q<K;q++)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;if(Z.eventPhase=Z.AT_TARGET,Z.currentTarget=Z.target,this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;Z.eventPhase=Z.BUBBLING_PHASE;for(let q=Q.length-2;q>=0;q--)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return}all(Z,J,Q=this._allInteractiveElements){if(Q.length===0)return;Z.eventPhase=Z.BUBBLING_PHASE;let q=Array.isArray(J)?J:[J];for(let K=Q.length-1;K>=0;K--)q.forEach((X)=>{Z.currentTarget=Q[K],this.notifyTarget(Z,X)})}propagationPath(Z){let J=[Z];for(let Q=0;Q<sp&&(Z!==this.rootTarget&&Z.parent);Q++){if(!Z.parent)throw Error("Cannot find propagation path to disconnected target");J.push(Z.parent),Z=Z.parent}return J.reverse(),J}hitTestMoveRecursive(Z,J,Q,q,K,X=!1){let N=!1;if(this._interactivePrune(Z))return null;if(Z.eventMode==="dynamic"||J==="dynamic")R6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let U=Z.children;for(let $=U.length-1;$>=0;$--){let B=U[$],_=this.hitTestMoveRecursive(B,this._isInteractive(J)?J:B.eventMode,Q,q,K,X||K(Z,Q));if(_){if(_.length>0&&!_[_.length-1].parent)continue;let W=Z.isInteractive();if(_.length>0||W){if(W)this._allInteractiveElements.push(Z);_.push(Z)}if(this._hitElements.length===0)this._hitElements=_;N=!0}}}let Y=this._isInteractive(J),O=Z.isInteractive();if(O&&O)this._allInteractiveElements.push(Z);if(X||this._hitElements.length>0)return null;if(N)return this._hitElements;if(Y&&(!K(Z,Q)&&q(Z,Q)))return O?[Z]:[];return null}hitTestRecursive(Z,J,Q,q,K){if(this._interactivePrune(Z)||K(Z,Q))return null;if(Z.eventMode==="dynamic"||J==="dynamic")R6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let Y=Z.children,O=Q;for(let U=Y.length-1;U>=0;U--){let $=Y[U],B=this.hitTestRecursive($,this._isInteractive(J)?J:$.eventMode,O,q,K);if(B){if(B.length>0&&!B[B.length-1].parent)continue;let _=Z.isInteractive();if(B.length>0||_)B.push(Z);return B}}}let X=this._isInteractive(J),N=Z.isInteractive();if(X&&q(Z,Q))return N?[Z]:[];return null}_isInteractive(Z){return Z==="static"||Z==="dynamic"}_interactivePrune(Z){if(!Z||!Z.visible||!Z.renderable||!Z.measurable)return!0;if(Z.eventMode==="none")return!0;if(Z.eventMode==="passive"&&!Z.interactiveChildren)return!0;return!1}hitPruneFn(Z,J){if(Z.hitArea){if(Z.worldTransform.applyInverse(J,_K),!Z.hitArea.contains(_K.x,_K.y))return!0}if(Z.effects&&Z.effects.length)for(let Q=0;Q<Z.effects.length;Q++){let q=Z.effects[Q];if(q.containsPoint){if(!q.containsPoint(J,this.hitTestFn))return!0}}return!1}hitTestFn(Z,J){if(Z.hitArea)return!0;if(Z?.containsPoint)return Z.worldTransform.applyInverse(J,_K),Z.containsPoint(_K);return!1}notifyTarget(Z,J){if(!Z.currentTarget.isInteractive())return;J??(J=Z.type);let Q=`on${J}`;Z.currentTarget[Q]?.(Z);let q=Z.eventPhase===Z.CAPTURING_PHASE||Z.eventPhase===Z.AT_TARGET?`${J}capture`:J;if(this._notifyListeners(Z,q),Z.eventPhase===Z.AT_TARGET)this._notifyListeners(Z,J)}mapPointerDown(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.createPointerEvent(Z);if(this.dispatchEvent(J,"pointerdown"),J.pointerType==="touch")this.dispatchEvent(J,"touchstart");else if(J.pointerType==="mouse"||J.pointerType==="pen"){let q=J.button===2;this.dispatchEvent(J,q?"rightdown":"mousedown")}let Q=this.trackingData(Z.pointerId);Q.pressTargetsByButton[Z.button]=J.composedPath(),this.freeEvent(J)}mapPointerMove(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let J=this.createPointerEvent(Z);this._isPointerMoveEvent=!1;let Q=J.pointerType==="mouse"||J.pointerType==="pen",q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.overTargets);if(q.overTargets?.length>0&&K!==J.target){let Y=Z.type==="mousemove"?"mouseout":"pointerout",O=this.createPointerEvent(Z,Y,K);if(this.dispatchEvent(O,"pointerout"),Q)this.dispatchEvent(O,"mouseout");if(!J.composedPath().includes(K)){let U=this.createPointerEvent(Z,"pointerleave",K);U.eventPhase=U.AT_TARGET;while(U.target&&!J.composedPath().includes(U.target)){if(U.currentTarget=U.target,this.notifyTarget(U),Q)this.notifyTarget(U,"mouseleave");U.target=U.target.parent}this.freeEvent(U)}this.freeEvent(O)}if(K!==J.target){let Y=Z.type==="mousemove"?"mouseover":"pointerover",O=this.clonePointerEvent(J,Y);if(this.dispatchEvent(O,"pointerover"),Q)this.dispatchEvent(O,"mouseover");let U=K?.parent;while(U&&U!==this.rootTarget.parent){if(U===J.target)break;U=U.parent}if(!U||U===this.rootTarget.parent){let B=this.clonePointerEvent(J,"pointerenter");B.eventPhase=B.AT_TARGET;while(B.target&&B.target!==K&&B.target!==this.rootTarget.parent){if(B.currentTarget=B.target,this.notifyTarget(B),Q)this.notifyTarget(B,"mouseenter");B.target=B.target.parent}this.freeEvent(B)}this.freeEvent(O)}let X=[],N=this.enableGlobalMoveEvents??!0;if(this.moveOnAll?X.push("pointermove"):this.dispatchEvent(J,"pointermove"),N&&X.push("globalpointermove"),J.pointerType==="touch")this.moveOnAll?X.splice(1,0,"touchmove"):this.dispatchEvent(J,"touchmove"),N&&X.push("globaltouchmove");if(Q)this.moveOnAll?X.splice(1,0,"mousemove"):this.dispatchEvent(J,"mousemove"),N&&X.push("globalmousemove"),this.cursor=J.target?.cursor;if(X.length>0)this.all(J,X);this._allInteractiveElements.length=0,this._hitElements.length=0,q.overTargets=J.composedPath(),this.freeEvent(J)}mapPointerOver(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.createPointerEvent(Z),q=Q.pointerType==="mouse"||Q.pointerType==="pen";if(this.dispatchEvent(Q,"pointerover"),q)this.dispatchEvent(Q,"mouseover");if(Q.pointerType==="mouse")this.cursor=Q.target?.cursor;let K=this.clonePointerEvent(Q,"pointerenter");K.eventPhase=K.AT_TARGET;while(K.target&&K.target!==this.rootTarget.parent){if(K.currentTarget=K.target,this.notifyTarget(K),q)this.notifyTarget(K,"mouseenter");K.target=K.target.parent}J.overTargets=Q.composedPath(),this.freeEvent(Q),this.freeEvent(K)}mapPointerOut(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId);if(J.overTargets){let Q=Z.pointerType==="mouse"||Z.pointerType==="pen",q=this.findMountedTarget(J.overTargets),K=this.createPointerEvent(Z,"pointerout",q);if(this.dispatchEvent(K),Q)this.dispatchEvent(K,"mouseout");let X=this.createPointerEvent(Z,"pointerleave",q);X.eventPhase=X.AT_TARGET;while(X.target&&X.target!==this.rootTarget.parent){if(X.currentTarget=X.target,this.notifyTarget(X),Q)this.notifyTarget(X,"mouseleave");X.target=X.target.parent}J.overTargets=null,this.freeEvent(K),this.freeEvent(X)}this.cursor=null}mapPointerUp(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=performance.now(),Q=this.createPointerEvent(Z);if(this.dispatchEvent(Q,"pointerup"),Q.pointerType==="touch")this.dispatchEvent(Q,"touchend");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let N=Q.button===2;this.dispatchEvent(Q,N?"rightup":"mouseup")}let q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.pressTargetsByButton[Z.button]),X=K;if(K&&!Q.composedPath().includes(K)){let N=K;while(N&&!Q.composedPath().includes(N)){if(Q.currentTarget=N,this.notifyTarget(Q,"pointerupoutside"),Q.pointerType==="touch")this.notifyTarget(Q,"touchendoutside");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let Y=Q.button===2;this.notifyTarget(Q,Y?"rightupoutside":"mouseupoutside")}N=N.parent}delete q.pressTargetsByButton[Z.button],X=N}if(X){let N=this.clonePointerEvent(Q,"click");if(N.target=X,N.path=null,!q.clicksByButton[Z.button])q.clicksByButton[Z.button]={clickCount:0,target:N.target,timeStamp:J};let Y=q.clicksByButton[Z.button];if(Y.target===N.target&&J-Y.timeStamp<200)++Y.clickCount;else Y.clickCount=1;if(Y.target=N.target,Y.timeStamp=J,N.detail=Y.clickCount,N.pointerType==="mouse"){let O=N.button===2;this.dispatchEvent(N,O?"rightclick":"click")}else if(N.pointerType==="touch")this.dispatchEvent(N,"tap");this.dispatchEvent(N,"pointertap"),this.freeEvent(N)}this.freeEvent(Q)}mapPointerUpOutside(Z){if(!(Z instanceof Q8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.findMountedTarget(J.pressTargetsByButton[Z.button]),q=this.createPointerEvent(Z);if(Q){let K=Q;while(K){if(q.currentTarget=K,this.notifyTarget(q,"pointerupoutside"),q.pointerType==="touch")this.notifyTarget(q,"touchendoutside");else if(q.pointerType==="mouse"||q.pointerType==="pen")this.notifyTarget(q,q.button===2?"rightupoutside":"mouseupoutside");K=K.parent}delete J.pressTargetsByButton[Z.button]}this.freeEvent(q)}mapWheel(Z){if(!(Z instanceof o4)){e("EventBoundary cannot map a non-wheel event as a wheel event");return}let J=this.createWheelEvent(Z);this.dispatchEvent(J),this.freeEvent(J)}findMountedTarget(Z){if(!Z)return null;let J=Z[0];for(let Q=1;Q<Z.length;Q++)if(Z[Q].parent===J)J=Z[Q];else break;return J}createPointerEvent(Z,J,Q){let q=this.allocateEvent(Q8);if(this.copyPointerData(Z,q),this.copyMouseData(Z,q),this.copyData(Z,q),q.nativeEvent=Z.nativeEvent,q.originalEvent=Z,q.target=Q??this.hitTest(q.global.x,q.global.y)??this._hitElements[0],typeof J==="string")q.type=J;return q}createWheelEvent(Z){let J=this.allocateEvent(o4);return this.copyWheelData(Z,J),this.copyMouseData(Z,J),this.copyData(Z,J),J.nativeEvent=Z.nativeEvent,J.originalEvent=Z,J.target=this.hitTest(J.global.x,J.global.y),J}clonePointerEvent(Z,J){let Q=this.allocateEvent(Q8);return Q.nativeEvent=Z.nativeEvent,Q.originalEvent=Z.originalEvent,this.copyPointerData(Z,Q),this.copyMouseData(Z,Q),this.copyData(Z,Q),Q.target=Z.target,Q.path=Z.composedPath().slice(),Q.type=J??Q.type,Q}copyWheelData(Z,J){J.deltaMode=Z.deltaMode,J.deltaX=Z.deltaX,J.deltaY=Z.deltaY,J.deltaZ=Z.deltaZ}copyPointerData(Z,J){if(!(Z instanceof Q8&&J instanceof Q8))return;J.pointerId=Z.pointerId,J.width=Z.width,J.height=Z.height,J.isPrimary=Z.isPrimary,J.pointerType=Z.pointerType,J.pressure=Z.pressure,J.tangentialPressure=Z.tangentialPressure,J.tiltX=Z.tiltX,J.tiltY=Z.tiltY,J.twist=Z.twist}copyMouseData(Z,J){if(!(Z instanceof V9&&J instanceof V9))return;J.altKey=Z.altKey,J.button=Z.button,J.buttons=Z.buttons,J.client.copyFrom(Z.client),J.ctrlKey=Z.ctrlKey,J.metaKey=Z.metaKey,J.movement.copyFrom(Z.movement),J.screen.copyFrom(Z.screen),J.shiftKey=Z.shiftKey,J.global.copyFrom(Z.global)}copyData(Z,J){J.isTrusted=Z.isTrusted,J.srcElement=Z.srcElement,J.timeStamp=performance.now(),J.type=Z.type,J.detail=Z.detail,J.view=Z.view,J.which=Z.which,J.layer.copyFrom(Z.layer),J.page.copyFrom(Z.page)}trackingData(Z){if(!this.mappingState.trackingData[Z])this.mappingState.trackingData[Z]={pressTargetsByButton:{},clicksByButton:{},overTarget:null};return this.mappingState.trackingData[Z]}allocateEvent(Z){if(!this.eventPool.has(Z))this.eventPool.set(Z,[]);let J=this.eventPool.get(Z).pop()||new Z(this);return J.eventPhase=J.NONE,J.currentTarget=null,J.defaultPrevented=!1,J.path=null,J.target=null,J}freeEvent(Z){if(Z.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let J=Z.constructor;if(!this.eventPool.has(J))this.eventPool.set(J,[]);this.eventPool.get(J).push(Z)}_notifyListeners(Z,J){let Q=Z.currentTarget._events[J];if(!Q)return;if("fn"in Q){if(Q.once)Z.currentTarget.removeListener(J,Q.fn,void 0,!0);Q.fn.call(Q.context,Z)}else for(let q=0,K=Q.length;q<K&&!Z.propagationImmediatelyStopped;q++){if(Q[q].once)Z.currentTarget.removeListener(J,Q[q].fn,void 0,!0);Q[q].fn.call(Q[q].context,Z)}}}var sp=2048,np,_K;var ST=F(()=>{B5();L6();c0();lD();DH();pD();iD();np=new S0,_K=new S0});var op=1,tp,sD=class Z{constructor(J){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=J,this.rootBoundary=new aD(null),R6.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new Q8(null),this._rootWheelEvent=new o4(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Z.defaultEventFeatures},{set:(Q,q,K)=>{if(q==="globalMove")this.rootBoundary.enableGlobalMoveEvents=K;return Q[q]=K,!0}}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(J){let{canvas:Q,resolution:q}=this.renderer;this.setTargetElement(Q),this.resolution=q,Z._defaultEventMode=J.eventMode??"passive",Object.assign(this.features,J.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(J){this.resolution=J}destroy(){R6.destroy(),this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(J){J||(J="default");let Q=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas)Q=!1;if(this._currentCursor===J)return;this._currentCursor=J;let q=this.cursorStyles[J];if(q)switch(typeof q){case"string":if(Q)this.domElement.style.cursor=q;break;case"function":q(J);break;case"object":if(Q)Object.assign(this.domElement.style,q);break}else if(Q&&typeof J==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,J))this.domElement.style.cursor=J}get pointer(){return this._rootPointerEvent}_onPointerDown(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);if(this.autoPreventDefault&&Q[0].isNormalized){if(J.cancelable||!("cancelable"in J))J.preventDefault()}for(let q=0,K=Q.length;q<K;q++){let X=Q[q],N=this._bootstrapEvent(this._rootPointerEvent,X);this.rootBoundary.mapEvent(N)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(J){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,R6.pointerMoved();let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=J.target;if(J.composedPath&&J.composedPath().length>0)Q=J.composedPath()[0];let q=Q!==this.domElement?"outside":"",K=this._normalizeToPointerData(J);for(let X=0,N=K.length;X<N;X++){let Y=this._bootstrapEvent(this._rootPointerEvent,K[X]);Y.type+=q,this.rootBoundary.mapEvent(Y)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}onWheel(J){if(!this.features.wheel)return;let Q=this.normalizeWheelEvent(J);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(Q)}setTargetElement(J){this._removeEvents(),this.domElement=J,R6.domElement=J,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;R6.addTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="none",J.msTouchAction="none";else if(this.supportsPointerEvents)J.touchAction="none"}if(this.supportsPointerEvents)globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0);this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;R6.removeTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="",J.msTouchAction="";else if(this.supportsPointerEvents)J.touchAction=""}if(this.supportsPointerEvents)globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0);this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(J,Q,q){let K=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},X=1/this.resolution;J.x=(Q-K.left)*(this.domElement.width/K.width)*X,J.y=(q-K.top)*(this.domElement.height/K.height)*X}_normalizeToPointerData(J){let Q=[];if(this.supportsTouchEvents&&J instanceof TouchEvent)for(let q=0,K=J.changedTouches.length;q<K;q++){let X=J.changedTouches[q];if(typeof X.button>"u")X.button=0;if(typeof X.buttons>"u")X.buttons=1;if(typeof X.isPrimary>"u")X.isPrimary=J.touches.length===1&&J.type==="touchstart";if(typeof X.width>"u")X.width=X.radiusX||1;if(typeof X.height>"u")X.height=X.radiusY||1;if(typeof X.tiltX>"u")X.tiltX=0;if(typeof X.tiltY>"u")X.tiltY=0;if(typeof X.pointerType>"u")X.pointerType="touch";if(typeof X.pointerId>"u")X.pointerId=X.identifier||0;if(typeof X.pressure>"u")X.pressure=X.force||0.5;if(typeof X.twist>"u")X.twist=0;if(typeof X.tangentialPressure>"u")X.tangentialPressure=0;if(typeof X.layerX>"u")X.layerX=X.offsetX=X.clientX;if(typeof X.layerY>"u")X.layerY=X.offsetY=X.clientY;X.isNormalized=!0,X.type=J.type,Q.push(X)}else if(!globalThis.MouseEvent||J instanceof MouseEvent&&(!this.supportsPointerEvents||!(J instanceof globalThis.PointerEvent))){let q=J;if(typeof q.isPrimary>"u")q.isPrimary=!0;if(typeof q.width>"u")q.width=1;if(typeof q.height>"u")q.height=1;if(typeof q.tiltX>"u")q.tiltX=0;if(typeof q.tiltY>"u")q.tiltY=0;if(typeof q.pointerType>"u")q.pointerType="mouse";if(typeof q.pointerId>"u")q.pointerId=op;if(typeof q.pressure>"u")q.pressure=0.5;if(typeof q.twist>"u")q.twist=0;if(typeof q.tangentialPressure>"u")q.tangentialPressure=0;q.isNormalized=!0,Q.push(q)}else Q.push(J);return Q}normalizeWheelEvent(J){let Q=this._rootWheelEvent;return this._transferMouseData(Q,J),Q.deltaX=J.deltaX,Q.deltaY=J.deltaY,Q.deltaZ=J.deltaZ,Q.deltaMode=J.deltaMode,this.mapPositionToPoint(Q.screen,J.clientX,J.clientY),Q.global.copyFrom(Q.screen),Q.offset.copyFrom(Q.screen),Q.nativeEvent=J,Q.type=J.type,Q}_bootstrapEvent(J,Q){if(J.originalEvent=null,J.nativeEvent=Q,J.pointerId=Q.pointerId,J.width=Q.width,J.height=Q.height,J.isPrimary=Q.isPrimary,J.pointerType=Q.pointerType,J.pressure=Q.pressure,J.tangentialPressure=Q.tangentialPressure,J.tiltX=Q.tiltX,J.tiltY=Q.tiltY,J.twist=Q.twist,this._transferMouseData(J,Q),this.mapPositionToPoint(J.screen,Q.clientX,Q.clientY),J.global.copyFrom(J.screen),J.offset.copyFrom(J.screen),J.isTrusted=Q.isTrusted,J.type==="pointerleave")J.type="pointerout";if(J.type.startsWith("mouse"))J.type=J.type.replace("mouse","pointer");if(J.type.startsWith("touch"))J.type=tp[J.type]||J.type;return J}_transferMouseData(J,Q){J.isTrusted=Q.isTrusted,J.srcElement=Q.srcElement,J.timeStamp=performance.now(),J.type=Q.type,J.altKey=Q.altKey,J.button=Q.button,J.buttons=Q.buttons,J.client.x=Q.clientX,J.client.y=Q.clientY,J.ctrlKey=Q.ctrlKey,J.metaKey=Q.metaKey,J.movement.x=Q.movementX,J.movement.y=Q.movementY,J.page.x=Q.pageX,J.page.y=Q.pageY,J.relatedTarget=null,J.shiftKey=Q.shiftKey}},BH;var nD=F(()=>{g();ST();lD();pD();iD();tp={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};sD.extension={name:"events",type:[I.WebGLSystem,I.CanvasSystem,I.WebGPUSystem],priority:-1};sD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};BH=sD});var bT;var kT=F(()=>{nD();OH();bT={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(Z){this.eventMode=Z?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??BH.defaultEventMode},set eventMode(Z){this._internalEventMode=Z},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof Q==="object"?Q.signal:void 0,X=typeof Q==="object"?Q.once===!0:!1,N=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z;let Y=typeof J==="function"?J:J.handleEvent,O=this;if(K)K.addEventListener("abort",()=>{O.off(Z,Y,N)});if(X)O.once(Z,Y,N);else O.on(Z,Y,N)},removeEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z,J=typeof J==="function"?J:J.handleEvent,this.off(Z,J,K)},dispatchEvent(Z){if(!(Z instanceof Y9))throw Error("Container cannot propagate events outside of the Federated Events API");return Z.defaultPrevented=!1,Z.path=null,Z.target=this,Z.manager.dispatchEvent(Z),!Z.defaultPrevented}}});var PT=F(()=>{g();C6();nD();kT();J0.add(BH);J0.mixin(k0,bT)});class _H{constructor(Z){this._attachedDomElements=[],this._renderer=Z,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new DK({domElement:this._domElement,renderer:this._renderer})}addRenderable(Z,J){if(!this._attachedDomElements.includes(Z))this._attachedDomElements.push(Z)}updateRenderable(Z){}validateRenderable(Z){return!0}postrender(){let Z=this._attachedDomElements;if(Z.length===0){this._domElement.remove();return}this._canvasObserver.ensureAttached();for(let J=0;J<Z.length;J++){let Q=Z[J],q=Q.element;if(!Q.parent||Q.globalDisplayStatus<7)q?.remove(),Z.splice(J,1),J--;else{if(!this._domElement.contains(q))q.style.position="absolute",q.style.pointerEvents="auto",this._domElement.appendChild(q);let{worldTransform:K,_anchor:X}=Q,N=Q.width*X.x,Y=Q.height*X.y;q.style.transformOrigin=`${N}px ${Y}px`,q.style.transform=`matrix(${K.a}, ${K.b}, ${K.c}, ${K.d}, ${K.tx-N}, ${K.ty-Y})`,q.style.opacity=Q.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let Z=0;Z<this._attachedDomElements.length;Z++)this._attachedDomElements[Z].element?.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}var vT=F(()=>{g();xD();_H.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"dom"}});var MK;var oD=F(()=>{Z8();C6();MK=class MK extends k0{constructor(Z){super(Z);this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new e0(0,1,0,0),this._boundsDirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;return this.updateBounds(),this._boundsDirty=!1,this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(Z){this._roundPixels=Z?1:0}containsPoint(Z){let J=this.bounds,{x:Q,y:q}=Z;return Q>=J.minX&&Q<=J.maxX&&q>=J.minY&&q<=J.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.onChildViewUpdate(this)}destroy(Z){super.destroy(Z),this._bounds=null;for(let J in this._gpuData)this._gpuData[J].destroy?.();this._gpuData=null}collectRenderablesSimple(Z,J,Q){let{renderPipes:q}=J;q.blendMode.pushBlendMode(this,this.groupBlendMode,Z),q[this.renderPipeId].addRenderable(this,Z),this.didViewUpdate=!1;let X=this.children,N=X.length;for(let Y=0;Y<N;Y++)X[Y].collectRenderables(Z,J,Q);q.blendMode.popBlendMode(Z)}}});var fT=F(()=>{g();vT();J0.add(_H)});var h5;var O9=F(()=>{h5=((Z)=>{return Z[Z.Low=0]="Low",Z[Z.Normal=1]="Normal",Z[Z.High=2]="High",Z})(h5||{})});var yT;var hT=F(()=>{yT={createCanvas:(Z,J)=>{let Q=document.createElement("canvas");return Q.width=Z,Q.height=J,Q},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(Z,J)=>fetch(Z,J),parseXML:(Z)=>{return new DOMParser().parseFromString(Z,"text/xml")}}});var xT,K0;var l0=F(()=>{hT();xT=yT,K0={get(){return xT},set(Z){xT=Z}}});function E6(Z){if(typeof Z!=="string")throw TypeError(`Path must be a string. Received ${JSON.stringify(Z)}`)}function WK(Z){return Z.split("?")[0].split("#")[0]}function rp(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ep(Z,J,Q){return Z.replace(new RegExp(rp(J),"g"),Q)}function Zi(Z,J){let Q="",q=0,K=-1,X=0,N=-1;for(let Y=0;Y<=Z.length;++Y){if(Y<Z.length)N=Z.charCodeAt(Y);else if(N===47)break;else N=47;if(N===47){if(K===Y-1||X===1);else if(K!==Y-1&&X===2){if(Q.length<2||q!==2||Q.charCodeAt(Q.length-1)!==46||Q.charCodeAt(Q.length-2)!==46){if(Q.length>2){let O=Q.lastIndexOf("/");if(O!==Q.length-1){if(O===-1)Q="",q=0;else Q=Q.slice(0,O),q=Q.length-1-Q.lastIndexOf("/");K=Y,X=0;continue}}else if(Q.length===2||Q.length===1){Q="",q=0,K=Y,X=0;continue}}if(J){if(Q.length>0)Q+="/..";else Q="..";q=2}}else{if(Q.length>0)Q+=`/${Z.slice(K+1,Y)}`;else Q=Z.slice(K+1,Y);q=Y-K-1}K=Y,X=0}else if(N===46&&X!==-1)++X;else X=-1}return Q}var o1;var EZ=F(()=>{l0();o1={toPosix(Z){return ep(Z,"\\","/")},isUrl(Z){return/^https?:/.test(this.toPosix(Z))},isDataUrl(Z){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(Z)},isBlobUrl(Z){return Z.startsWith("blob:")},hasProtocol(Z){return/^[^/:]+:/.test(this.toPosix(Z))},getProtocol(Z){E6(Z),Z=this.toPosix(Z);let J=/^file:\/\/\//.exec(Z);if(J)return J[0];let Q=/^[^/:]+:\/{0,2}/.exec(Z);if(Q)return Q[0];return""},toAbsolute(Z,J,Q){if(E6(Z),this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;let q=WK(this.toPosix(J??K0.get().getBaseUrl())),K=WK(this.toPosix(Q??this.rootname(q)));if(Z=this.toPosix(Z),Z.startsWith("/"))return o1.join(K,Z.slice(1));return this.isAbsolute(Z)?Z:this.join(q,Z)},normalize(Z){if(E6(Z),Z.length===0)return".";if(this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;Z=this.toPosix(Z);let J="",Q=Z.startsWith("/");if(this.hasProtocol(Z))J=this.rootname(Z),Z=Z.slice(J.length);let q=Z.endsWith("/");if(Z=Zi(Z,!1),Z.length>0&&q)Z+="/";if(Q)return`/${Z}`;return J+Z},isAbsolute(Z){if(E6(Z),Z=this.toPosix(Z),this.hasProtocol(Z))return!0;return Z.startsWith("/")},join(...Z){if(Z.length===0)return".";let J;for(let Q=0;Q<Z.length;++Q){let q=Z[Q];if(E6(q),q.length>0)if(J===void 0)J=q;else{let K=Z[Q-1]??"";if(this.joinExtensions.includes(this.extname(K).toLowerCase()))J+=`/../${q}`;else J+=`/${q}`}}if(J===void 0)return".";return this.normalize(J)},dirname(Z){if(E6(Z),Z.length===0)return".";Z=this.toPosix(Z);let J=Z.charCodeAt(0),Q=J===47,q=-1,K=!0,X=this.getProtocol(Z),N=Z;Z=Z.slice(X.length);for(let Y=Z.length-1;Y>=1;--Y)if(J=Z.charCodeAt(Y),J===47){if(!K){q=Y;break}}else K=!1;if(q===-1)return Q?"/":this.isUrl(N)?X+Z:X;if(Q&&q===1)return"//";return X+Z.slice(0,q)},rootname(Z){E6(Z),Z=this.toPosix(Z);let J="";if(Z.startsWith("/"))J="/";else J=this.getProtocol(Z);if(this.isUrl(Z)){let Q=Z.indexOf("/",J.length);if(Q!==-1)J=Z.slice(0,Q);else J=Z;if(!J.endsWith("/"))J+="/"}return J},basename(Z,J){if(E6(Z),J)E6(J);Z=WK(this.toPosix(Z));let Q=0,q=-1,K=!0,X;if(J!==void 0&&J.length>0&&J.length<=Z.length){if(J.length===Z.length&&J===Z)return"";let N=J.length-1,Y=-1;for(X=Z.length-1;X>=0;--X){let O=Z.charCodeAt(X);if(O===47){if(!K){Q=X+1;break}}else{if(Y===-1)K=!1,Y=X+1;if(N>=0)if(O===J.charCodeAt(N)){if(--N===-1)q=X}else N=-1,q=Y}}if(Q===q)q=Y;else if(q===-1)q=Z.length;return Z.slice(Q,q)}for(X=Z.length-1;X>=0;--X)if(Z.charCodeAt(X)===47){if(!K){Q=X+1;break}}else if(q===-1)K=!1,q=X+1;if(q===-1)return"";return Z.slice(Q,q)},extname(Z){E6(Z),Z=WK(this.toPosix(Z));let J=-1,Q=0,q=-1,K=!0,X=0;for(let N=Z.length-1;N>=0;--N){let Y=Z.charCodeAt(N);if(Y===47){if(!K){Q=N+1;break}continue}if(q===-1)K=!1,q=N+1;if(Y===46){if(J===-1)J=N;else if(X!==1)X=1}else if(J!==-1)X=-1}if(J===-1||q===-1||X===0||X===1&&J===q-1&&J===Q+1)return"";return Z.slice(J,q)},parse(Z){E6(Z);let J={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return J;Z=WK(this.toPosix(Z));let Q=Z.charCodeAt(0),q=this.isAbsolute(Z),K,X="";if(J.root=this.rootname(Z),q||this.hasProtocol(Z))K=1;else K=0;let N=-1,Y=0,O=-1,U=!0,$=Z.length-1,B=0;for(;$>=K;--$){if(Q=Z.charCodeAt($),Q===47){if(!U){Y=$+1;break}continue}if(O===-1)U=!1,O=$+1;if(Q===46){if(N===-1)N=$;else if(B!==1)B=1}else if(N!==-1)B=-1}if(N===-1||O===-1||B===0||B===1&&N===O-1&&N===Y+1){if(O!==-1)if(Y===0&&q)J.base=J.name=Z.slice(1,O);else J.base=J.name=Z.slice(Y,O)}else{if(Y===0&&q)J.name=Z.slice(1,N),J.base=Z.slice(1,O);else J.name=Z.slice(Y,N),J.base=Z.slice(Y,O);J.ext=Z.slice(N,O)}if(J.dir=this.dirname(Z),X)J.dir=X+J.dir;return J},sep:"/",delimiter:":",joinExtensions:[".html"]}});var x5=(Z,J,Q=!1)=>{if(!Array.isArray(Z))Z=[Z];if(!J)return Z;return Z.map((q)=>{if(typeof q==="string"||Q)return J(q);return q})};var GK=()=>{};function gT(Z,J,Q,q,K){let X=J[Q];for(let N=0;N<X.length;N++){let Y=X[N];if(Q<J.length-1)gT(Z.replace(q[Q],Y),J,Q+1,q,K);else K.push(Z.replace(q[Q],Y))}}function mT(Z){let J=/\{(.*?)\}/g,Q=Z.match(J),q=[];if(Q){let K=[];Q.forEach((X)=>{let N=X.substring(1,X.length-1).split(",");K.push(N)}),gT(Z,K,0,Q,q)}else q.push(Z);return q}var dT=()=>{};var IZ=(Z)=>!Array.isArray(Z);var MH=()=>{};class z6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(Z,J)=>`${Z}${this._bundleIdConnector}${J}`,extractAssetIdFromBundle:(Z,J)=>J.replace(`${Z}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(Z){if(this._bundleIdConnector=Z.connector??this._bundleIdConnector,this._createBundleAssetId=Z.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=Z.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...Z){Z.forEach((J)=>{if(this._preferredOrder.push(J),!J.priority)J.priority=Object.keys(J.params)}),this._resolverHash={}}set basePath(Z){this._basePath=Z}get basePath(){return this._basePath}set rootPath(Z){this._rootPath=Z}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(Z){if(typeof Z==="string")this._defaultSearchParams=Z;else{let J=Z;this._defaultSearchParams=Object.keys(J).map((Q)=>`${encodeURIComponent(Q)}=${encodeURIComponent(J[Q])}`).join("&")}}getAlias(Z){let{alias:J,src:Q}=Z;return x5(J||Q,(K)=>{if(typeof K==="string")return K;if(Array.isArray(K))return K.map((X)=>X?.src??X);if(K?.src)return K.src;return K},!0)}addManifest(Z){if(this._manifest)e("[Resolver] Manifest already exists, this will be overwritten");this._manifest=Z,Z.bundles.forEach((J)=>{this.addBundle(J.name,J.assets)})}addBundle(Z,J){let Q=[],q=J;if(!Array.isArray(J))q=Object.entries(J).map(([K,X])=>{if(typeof X==="string"||Array.isArray(X))return{alias:K,src:X};return{alias:K,...X}});q.forEach((K)=>{let{src:X,alias:N}=K,Y;if(typeof N==="string"){let O=this._createBundleAssetId(Z,N);Q.push(O),Y=[N,O]}else{let O=N.map((U)=>this._createBundleAssetId(Z,U));Q.push(...O),Y=[...N,...O]}this.add({...K,...{alias:Y,src:X}})}),this._bundles[Z]=Q}add(Z){let J=[];if(Array.isArray(Z))J.push(...Z);else J.push(Z);let Q;Q=(K)=>{if(this.hasKey(K))e(`[Resolver] already has key: ${K} overwriting`)},x5(J).forEach((K)=>{let{src:X}=K,{data:N,format:Y,loadParser:O,parser:U}=K,$=x5(X).map((W)=>{if(typeof W==="string")return mT(W);return Array.isArray(W)?W:[W]}),B=this.getAlias(K);Array.isArray(B)?B.forEach(Q):Q(B);let _=[];$.forEach((W)=>{W.forEach((w)=>{let L={};if(typeof w!=="object"){L.src=w;for(let R=0;R<this._parsers.length;R++){let G=this._parsers[R];if(G.test(w)){L=G.parse(w);break}}}else{if(N=w.data??N,Y=w.format??Y,w.loadParser||w.parser)O=w.loadParser??O,U=w.parser??U;L={...L,...w}}if(!B)throw Error(`[Resolver] alias is undefined for this asset: ${L.src}`);L=this._buildResolvedAsset(L,{aliases:B,data:N,format:Y,loadParser:O,parser:U,progressSize:K.progressSize}),_.push(L)})}),B.forEach((W)=>{this._assetMap[W]=_})})}resolveBundle(Z){let J=IZ(Z);Z=x5(Z);let Q={};return Z.forEach((q)=>{let K=this._bundles[q];if(K){let X=this.resolve(K),N={};for(let Y in X){let O=X[Y];N[this._extractAssetIdFromBundle(q,Y)]=O}Q[q]=N}}),J?Q[Z[0]]:Q}resolveUrl(Z){let J=this.resolve(Z);if(typeof Z!=="string"){let Q={};for(let q in J)Q[q]=J[q].src;return Q}return J.src}resolve(Z){let J=IZ(Z);Z=x5(Z);let Q={};return Z.forEach((q)=>{if(!this._resolverHash[q])if(this._assetMap[q]){let K=this._assetMap[q],X=this._getPreferredOrder(K);X?.priority.forEach((N)=>{X.params[N].forEach((Y)=>{let O=K.filter((U)=>{if(U[N])return U[N]===Y;return!1});if(O.length)K=O})}),this._resolverHash[q]=K[0]}else this._resolverHash[q]=this._buildResolvedAsset({alias:[q],src:q},{});Q[q]=this._resolverHash[q]}),J?Q[Z[0]]:Q}hasKey(Z){return!!this._assetMap[Z]}hasBundle(Z){return!!this._bundles[Z]}_getPreferredOrder(Z){for(let J=0;J<Z.length;J++){let Q=Z[J],q=this._preferredOrder.find((K)=>K.params.format.includes(Q.format));if(q)return q}return this._preferredOrder[0]}_appendDefaultSearchParams(Z){if(!this._defaultSearchParams)return Z;let J=/\?/.test(Z)?"&":"?";return`${Z}${J}${this._defaultSearchParams}`}_buildResolvedAsset(Z,J){let{aliases:Q,data:q,loadParser:K,parser:X,format:N,progressSize:Y}=J;if(this._basePath||this._rootPath)Z.src=o1.toAbsolute(Z.src,this._basePath,this._rootPath);if(Z.alias=Q??Z.alias??[Z.src],Z.src=this._appendDefaultSearchParams(Z.src),Z.data={...q||{},...Z.data},Z.loadParser=K??Z.loadParser,Z.parser=X??Z.parser,Z.format=N??Z.format??Ji(Z.src),Y!==void 0)Z.progressSize=Y;return Z}}function Ji(Z){return Z.split(".").pop().split("?").shift().split("#").shift()}var I2=F(()=>{c0();EZ();GK();dT();MH();z6.RETINA_PREFIX=/@([0-9\.]+)x/});var FK=(Z,J)=>{let Q=J.split("?")[1];if(Q)Z+=`?${Q}`;return Z};var tD=()=>{};var cT=class Z{constructor(J,Q){this.linkedSheets=[];let q=J;if(J?.source instanceof y0)q={texture:J,data:Q};let{texture:K,data:X,cachePrefix:N=""}=q;this.cachePrefix=N,this._texture=K instanceof p?K:null,this.textureSource=K.source,this.textures={},this.animations={},this.data=X;let Y=parseFloat(X.meta.scale);if(Y)this.resolution=Y,K.source.resolution=this.resolution;else this.resolution=K.source._resolution;this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise((J)=>{if(this._callback=J,this._batchIndex=0,this._frameKeys.length<=Z.BATCH_SIZE)this._processFrames(0),this._processAnimations(),this._parseComplete();else this._nextBatch()})}_processFrames(J){let Q=J,q=Z.BATCH_SIZE;while(Q-J<q&&Q<this._frameKeys.length){let K=this._frameKeys[Q],X=this._frames[K],N=X.frame;if(N){let Y=null,O=null,U=X.trimmed!==!1&&X.sourceSize?X.sourceSize:X.frame,$=new A0(0,0,Math.floor(U.w)/this.resolution,Math.floor(U.h)/this.resolution);if(X.rotated)Y=new A0(Math.floor(N.x)/this.resolution,Math.floor(N.y)/this.resolution,Math.floor(N.h)/this.resolution,Math.floor(N.w)/this.resolution);else Y=new A0(Math.floor(N.x)/this.resolution,Math.floor(N.y)/this.resolution,Math.floor(N.w)/this.resolution,Math.floor(N.h)/this.resolution);if(X.trimmed!==!1&&X.spriteSourceSize)O=new A0(Math.floor(X.spriteSourceSize.x)/this.resolution,Math.floor(X.spriteSourceSize.y)/this.resolution,Math.floor(N.w)/this.resolution,Math.floor(N.h)/this.resolution);this.textures[K]=new p({source:this.textureSource,frame:Y,orig:$,trim:O,rotate:X.rotated?2:0,defaultAnchor:X.anchor,defaultBorders:X.borders,label:K.toString()})}Q++}}_processAnimations(){let J=this.data.animations||{};for(let Q in J){this.animations[Q]=[];for(let q=0;q<J[Q].length;q++){let K=J[Q][q];this.animations[Q].push(this.textures[K])}}}_parseComplete(){let J=this._callback;this._callback=null,this._batchIndex=0,J.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Z.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{if(this._batchIndex*Z.BATCH_SIZE<this._frameKeys.length)this._nextBatch();else this._processAnimations(),this._parseComplete()},0)}destroy(J=!1){for(let Q in this.textures)this.textures[Q].destroy();if(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,J)this._texture?.destroy(),this.textureSource.destroy();this._texture=null,this.textureSource=null,this.linkedSheets=[]}},rD;var uT=F(()=>{n1();y5();u0();cT.BATCH_SIZE=1000;rD=cT});function lT(Z,J,Q){let q={};if(Z.forEach((K)=>{q[K]=J}),Object.keys(J.textures).forEach((K)=>{q[`${J.cachePrefix}${K}`]=J.textures[K]}),!Q){let K=o1.dirname(Z[0]);J.linkedSheets.forEach((X,N)=>{let Y=lT([`${K}/${J.data.meta.related_multi_packs[N]}`],X,!0);Object.assign(q,Y)})}return q}var Qi,pT;var iT=F(()=>{O9();I2();tD();g();u0();EZ();uT();Qi=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];pT={extension:I.Asset,cache:{test:(Z)=>Z instanceof rD,getCacheableAssets:(Z,J)=>lT(Z,J,!1)},resolver:{extension:{type:I.ResolveParser,name:"resolveSpritesheet"},test:(Z)=>{let Q=Z.split("?")[0].split("."),q=Q.pop(),K=Q.pop();return q==="json"&&Qi.includes(K)},parse:(Z)=>{let J=Z.split(".");return{resolution:parseFloat(z6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:J[J.length-2],src:Z}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:I.LoadParser,priority:h5.Normal,name:"spritesheetLoader"},async testParse(Z,J){return o1.extname(J.src).toLowerCase()===".json"&&!!Z.frames},async parse(Z,J,Q){let{texture:q,imageFilename:K,textureOptions:X,cachePrefix:N}=J?.data??{},Y=o1.dirname(J.src);if(Y&&Y.lastIndexOf("/")!==Y.length-1)Y+="/";let O;if(q instanceof p)O=q;else{let B=FK(Y+(K??Z.meta.image),J.src);O=(await Q.load([{src:B,data:X}]))[B]}let U=new rD({texture:O.source,data:Z,cachePrefix:N});await U.parse();let $=Z?.meta?.related_multi_packs;if(Array.isArray($)){let B=[];for(let W of $){if(typeof W!=="string")continue;let w=Y+W;if(J.data?.ignoreMultiPack)continue;w=FK(w,J.src),B.push(Q.load({src:w,data:{textureOptions:X,ignoreMultiPack:!0}}))}let _=await Promise.all(B);U.linkedSheets=_,_.forEach((W)=>{W.linkedSheets=[U].concat(U.linkedSheets.filter((w)=>w!==W))})}return U},async unload(Z,J,Q){await Q.unload(Z.textureSource._sourceOrigin),Z.destroy(!1)}}}});var WH=F(()=>{g();iT();J0.add(pT)});function GH(Z,J,Q){let{width:q,height:K}=Q.orig,X=Q.trim;if(X){let{width:N,height:Y}=X;Z.minX=X.x-J._x*q,Z.maxX=Z.minX+N,Z.minY=X.y-J._y*K,Z.maxY=Z.minY+Y}else Z.minX=-J._x*q,Z.maxX=Z.minX+q,Z.minY=-J._y*K,Z.maxY=Z.minY+K}var eD=()=>{};var I6;var FH=F(()=>{WD();u0();eD();$1();oD();I6=class I6 extends MK{constructor(Z=p.EMPTY){if(Z instanceof p)Z={texture:Z};let{texture:J=p.EMPTY,anchor:Q,roundPixels:q,width:K,height:X,...N}=Z;super({label:"Sprite",...N});if(this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new X5({_onUpdate:()=>{this.onViewUpdate()}}),Q)this.anchor=Q;else if(J.defaultAnchor)this.anchor=J.defaultAnchor;if(this.texture=J,this.allowChildren=!1,this.roundPixels=q??!1,K!==void 0)this.width=K;if(X!==void 0)this.height=X}static from(Z,J=!1){if(Z instanceof p)return new I6(Z);return new I6(p.from(Z,J))}set texture(Z){Z||(Z=p.EMPTY);let J=this._texture;if(J===Z)return;if(J&&J.dynamic)J.off("update",this.onViewUpdate,this);if(Z.dynamic)Z.on("update",this.onViewUpdate,this);if(this._texture=Z,this._width)this._setWidth(this._width,this._texture.orig.width);if(this._height)this._setHeight(this._height,this._texture.orig.height);this.onViewUpdate()}get texture(){return this._texture}get visualBounds(){return GH(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return q0("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){let Z=this._anchor,J=this._texture,Q=this._bounds,{width:q,height:K}=J.orig;Q.minX=-Z._x*q,Q.maxX=Q.minX+q,Q.minY=-Z._y*K,Q.maxY=Q.minY+K}destroy(Z=!1){if(super.destroy(Z),typeof Z==="boolean"?Z:Z?.texture){let Q=typeof Z==="boolean"?Z:Z?.textureSource;this._texture.destroy(Q)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(Z){typeof Z==="number"?this._anchor.set(Z):this._anchor.copyFrom(Z)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(Z){this._setWidth(Z,this._texture.orig.width),this._width=Z}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(Z){this._setHeight(Z,this._texture.orig.height),this._height=Z}getSize(Z){return Z||(Z={}),Z.width=Math.abs(this.scale.x)*this._texture.orig.width,Z.height=Math.abs(this.scale.y)*this._texture.orig.height,Z}setSize(Z,J){if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,this._texture.orig.width),J!==void 0&&this._setHeight(J,this._texture.orig.height)}}});function jH(Z,J,Q){let q=qi;Z.measurable=!0,G2(Z,Q,q),J.addBoundsMask(q),Z.measurable=!1}var qi;var ZB=F(()=>{Z8();NK();qi=new e0});function wH(Z,J,Q){let q=S8.get();Z.measurable=!0;let K=p1.get().identity(),X=aT(Z,Q,K);j2(Z,q,X),Z.measurable=!1,J.addBoundsMask(q),p1.return(K),S8.return(q)}function aT(Z,J,Q){if(!Z)return e("Mask bounds, renderable is not inside the root container"),Q;if(Z!==J)aT(Z.parent,J,Q),Z.updateLocalTransform(),Q.append(Z.localTransform);return Q}var JB=F(()=>{zH();GZ();c0()});class LH{constructor(Z){if(this.priority=0,this.inverse=!1,this.pipe="alphaMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.renderMaskToTexture=!(Z instanceof I6),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(Z,J){if(!this.inverse)jH(this.mask,Z,J)}addLocalBounds(Z,J){wH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof I6}}var sT=F(()=>{g();FH();ZB();JB();LH.extension=I.MaskEffect});class CH{constructor(Z){if(this.priority=0,this.pipe="colorMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z}destroy(){}static test(Z){return typeof Z==="number"}}var nT=F(()=>{g();CH.extension=I.MaskEffect});class RH{constructor(Z){if(this.priority=0,this.pipe="stencilMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(Z,J){jH(this.mask,Z,J)}addLocalBounds(Z,J){wH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof k0}}var oT=F(()=>{g();C6();ZB();JB();RH.extension=I.MaskEffect});var g5;var T2=F(()=>{l0();g();y5();g5=class g5 extends y0{constructor(Z){if(!Z.resource)Z.resource=K0.get().createCanvas();if(!Z.width){if(Z.width=Z.resource.width,!Z.autoDensity)Z.width/=Z.resolution}if(!Z.height){if(Z.height=Z.resource.height,!Z.autoDensity)Z.height/=Z.resolution}super(Z);this.uploadMethodId="image",this.autoDensity=Z.autoDensity,this.resizeCanvas(),this.transparent=!!Z.transparent}resizeCanvas(){if(this.autoDensity&&"style"in this.resource)this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`;if(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight}resize(Z=this.width,J=this.height,Q=this._resolution){let q=super.resize(Z,J,Q);if(q)this.resizeCanvas();return q}static test(Z){return globalThis.HTMLCanvasElement&&Z instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&Z instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}};g5.extension=I.TextureSource});var b8;var S2=F(()=>{g();y5();b8=class b8 extends y0{constructor(Z){super(Z);this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(Z){return globalThis.HTMLImageElement&&Z instanceof HTMLImageElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||globalThis.VideoFrame&&Z instanceof VideoFrame}};b8.extension=I.TextureSource});async function EH(){return QB??(QB=(async()=>{let J=K0.get().createCanvas(1,1).getContext("webgl");if(!J)return"premultiply-alpha-on-upload";let Q=await new Promise((N)=>{let Y=document.createElement("video");Y.onloadeddata=()=>N(Y),Y.onerror=()=>N(null),Y.autoplay=!1,Y.crossOrigin="anonymous",Y.preload="auto",Y.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",Y.load()});if(!Q)return"premultiply-alpha-on-upload";let q=J.createTexture();J.bindTexture(J.TEXTURE_2D,q);let K=J.createFramebuffer();J.bindFramebuffer(J.FRAMEBUFFER,K),J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,q,0),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),J.pixelStorei(J.UNPACK_COLORSPACE_CONVERSION_WEBGL,J.NONE),J.texImage2D(J.TEXTURE_2D,0,J.RGBA,J.RGBA,J.UNSIGNED_BYTE,Q);let X=new Uint8Array(4);return J.readPixels(0,0,1,1,J.RGBA,J.UNSIGNED_BYTE,X),J.deleteFramebuffer(K),J.deleteTexture(q),J.getExtension("WEBGL_lose_context")?.loseContext(),X[0]<=X[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),QB}var QB;var qB=F(()=>{l0()});var IH,TZ;var KB=F(()=>{g();R2();qB();y5();IH=class Z extends y0{constructor(J){super(J);if(this.isReady=!1,this.uploadMethodId="video",J={...Z.defaultOptions,...J},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=J.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=J.autoPlay!==!1,this.alphaMode=J.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),J.autoLoad!==!1)this.load()}updateFrame(){if(this.destroyed)return;if(this._updateFPS){let J=_5.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-J)}if(!this._updateFPS||this._msToNextUpdate<=0)this._msToNextUpdate=this._updateFPS?Math.floor(1000/this._updateFPS):0;if(this.isValid)this.update()}_videoFrameRequestCallback(){if(this.updateFrame(),this.destroyed)this._videoFrameRequestCallbackHandle=null;else this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;let J=this.resource,Q=this.options;if((J.readyState===J.HAVE_ENOUGH_DATA||J.readyState===J.HAVE_FUTURE_DATA)&&J.width&&J.height)J.complete=!0;if(J.addEventListener("play",this._onPlayStart),J.addEventListener("pause",this._onPlayStop),J.addEventListener("seeked",this._onSeeked),!this._isSourceReady()){if(!Q.preload)J.addEventListener("canplay",this._onCanPlay);J.addEventListener("canplaythrough",this._onCanPlayThrough),J.addEventListener("error",this._onError,!0)}else this._mediaReady();return this.alphaMode=await EH(),this._load=new Promise((q,K)=>{if(this.isValid)q(this);else{if(this._resolve=q,this._reject=K,Q.preloadTimeoutMs!==void 0)this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${Q.preloadTimeoutMs}ms`))});J.load()}}),this._load}_onError(J){if(this.resource.removeEventListener("error",this._onError,!0),this.emit("error",J),this._reject)this._reject(J),this._reject=null,this._resolve=null}_isSourcePlaying(){let J=this.resource;return!J.paused&&!J.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){if(!this.isValid)this._mediaReady();this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){if(this._autoUpdate&&!this._isSourcePlaying())this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){if(this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout)clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0;this._mediaReady()}_mediaReady(){let J=this.resource;if(this.isValid)this.isReady=!0,this.resize(J.videoWidth,J.videoHeight);if(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve)this._resolve(this),this._resolve=null,this._reject=null;if(this._isSourcePlaying())this._onPlayStart();else if(this.autoPlay)this.resource.play()}destroy(){this._configureAutoUpdate();let J=this.resource;if(J)J.removeEventListener("play",this._onPlayStart),J.removeEventListener("pause",this._onPlayStop),J.removeEventListener("seeked",this._onSeeked),J.removeEventListener("canplay",this._onCanPlay),J.removeEventListener("canplaythrough",this._onCanPlayThrough),J.removeEventListener("error",this._onError,!0),J.pause(),J.src="",J.load();super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(J){if(J!==this._autoUpdate)this._autoUpdate=J,this._configureAutoUpdate()}get updateFPS(){return this._updateFPS}set updateFPS(J){if(J!==this._updateFPS)this._updateFPS=J,this._configureAutoUpdate()}_configureAutoUpdate(){if(this._autoUpdate&&this._isSourcePlaying())if(!this._updateFPS&&this.resource.requestVideoFrameCallback){if(this._isConnectedToTicker)_5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0;if(this._videoFrameRequestCallbackHandle===null)this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(!this._isConnectedToTicker)_5.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(this._isConnectedToTicker)_5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0}}static test(J){return globalThis.HTMLVideoElement&&J instanceof HTMLVideoElement}};IH.extension=I.TextureSource;IH.defaultOptions={...y0.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};IH.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};TZ=IH});class tT{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(Z){return this._cache.has(Z)}get(Z){let J=this._cache.get(Z);if(!J)e(`[Assets] Asset id ${Z} was not found in the Cache`);return J}set(Z,J){let Q=x5(Z),q;for(let Y=0;Y<this.parsers.length;Y++){let O=this.parsers[Y];if(O.test(J)){q=O.getCacheableAssets(Q,J);break}}let K=new Map(Object.entries(q||{}));if(!q)Q.forEach((Y)=>{K.set(Y,J)});let X=[...K.keys()],N={cacheKeys:X,keys:Q};Q.forEach((Y)=>{this._cacheMap.set(Y,N)}),X.forEach((Y)=>{let O=q?q[Y]:J;if(this._cache.has(Y)&&this._cache.get(Y)!==O)e("[Cache] already has key:",Y);this._cache.set(Y,K.get(Y))})}remove(Z){if(!this._cacheMap.has(Z)){e(`[Assets] Asset id ${Z} was not found in the Cache`);return}let J=this._cacheMap.get(Z);J.cacheKeys.forEach((q)=>{this._cache.delete(q)}),J.keys.forEach((q)=>{this._cacheMap.delete(q)})}get parsers(){return this._parsers}}var P0;var U9=F(()=>{c0();GK();P0=new tT});function rT(Z={}){let J=Z&&Z.resource,Q=J?Z.resource:Z,q=J?Z:{resource:Z};for(let K=0;K<XB.length;K++){let X=XB[K];if(X.test(Q))return new X(q)}throw Error(`Could not find a source type for resource: ${q.resource}`)}function eT(Z={},J=!1){let Q=Z&&Z.resource,q=Q?Z.resource:Z,K=Q?Z:{resource:Z};if(!J&&P0.has(q))return P0.get(q);let X=new p({source:rT(K)});if(X.on("destroy",()=>{if(P0.has(q))P0.remove(q)}),!J)P0.set(q,X);return X}function ZS(Z,J=!1){if(typeof Z==="string")return P0.get(Z);else if(Z instanceof y0)return new p({source:Z});return eT(Z,J)}var XB;var zB=F(()=>{U9();g();y5();u0();XB=[];J0.handleByList(I.TextureSource,XB);p.from=ZS;y0.from=rT});var TH=F(()=>{g();sT();nT();oT();PD();T2();S2();KB();zB();J0.add(LH,CH,RH,TZ,b8,g5,w2)});class M5{constructor(Z){this.resources=Object.create(null),this._dirty=!0;let J=0;for(let Q in Z){let q=Z[Q];this.setResource(q,J++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;let Z=[],J=0;for(let Q in this.resources)Z[J++]=this.resources[Q]._resourceId;this._key=Z.join("|")}setResource(Z,J){let Q=this.resources[J];if(Z===Q)return;if(Q)Z.off?.("change",this.onResourceChange,this);Z.on?.("change",this.onResourceChange,this),this.resources[J]=Z,this._dirty=!0}getResource(Z){return this.resources[Z]}_touch(Z){let J=this.resources;for(let Q in J)J[Q]._touched=Z}destroy(){let Z=this.resources;for(let J in Z)Z[J]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(Z){if(this._dirty=!0,Z.destroyed){let J=this.resources;for(let Q in J)if(J[Q]===Z)J[Q]=null}else this._updateKey()}}var A9=()=>{};function b2(Z,J,Q){let q=2166136261;for(let K=0;K<J;K++)q^=Z[K].uid,q=Math.imul(q,16777619),q>>>=0;return JS[q]||Ki(Z,J,q,Q)}function Ki(Z,J,Q,q){let K={},X=0;for(let Y=0;Y<q;Y++){let O=Y<J?Z[Y]:p.EMPTY.source;K[X++]=O.source,K[X++]=O.style}let N=new M5(K);return JS[Q]=N,N}var JS;var SH=F(()=>{A9();u0();JS={}});class t4{constructor(Z){if(typeof Z==="number")this.rawBinaryData=new ArrayBuffer(Z);else if(Z instanceof Uint8Array)this.rawBinaryData=Z.buffer;else this.rawBinaryData=Z;this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){if(!this._int8View)this._int8View=new Int8Array(this.rawBinaryData);return this._int8View}get uint8View(){if(!this._uint8View)this._uint8View=new Uint8Array(this.rawBinaryData);return this._uint8View}get int16View(){if(!this._int16View)this._int16View=new Int16Array(this.rawBinaryData);return this._int16View}get int32View(){if(!this._int32View)this._int32View=new Int32Array(this.rawBinaryData);return this._int32View}get float64View(){if(!this._float64Array)this._float64Array=new Float64Array(this.rawBinaryData);return this._float64Array}get bigUint64View(){if(!this._bigUint64Array)this._bigUint64Array=new BigUint64Array(this.rawBinaryData);return this._bigUint64Array}view(Z){return this[`${Z}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(Z){switch(Z){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error(`${Z} isn't a valid view type`)}}}var NB=()=>{};function jK(Z,J){let Q=Z.byteLength/8|0,q=new Float64Array(Z,0,Q);new Float64Array(J,0,Q).set(q);let X=Z.byteLength-Q*8;if(X>0){let N=new Uint8Array(Z,Q*8,X);new Uint8Array(J,Q*8,X).set(N)}}var HB=()=>{};var QS,Y1;var SZ=F(()=>{QS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"},Y1=((Z)=>{return Z[Z.DISABLED=0]="DISABLED",Z[Z.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",Z[Z.MASK_ACTIVE=2]="MASK_ACTIVE",Z[Z.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",Z[Z.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",Z[Z.NONE=5]="NONE",Z})(Y1||{})});function r4(Z,J){if(J.alphaMode==="no-premultiply-alpha")return QS[Z]||Z;return Z}var wK=F(()=>{SZ()});function kH(){if(!bH||bH?.isContextLost())bH=K0.get().createCanvas().getContext("webgl",{});return bH}var bH;var YB=F(()=>{l0()});function zi(Z){let J="";for(let Q=0;Q<Z;++Q){if(Q>0)J+=`
else `;if(Q<Z-1)J+=`if(test == ${Q}.0){}`}return J}function PH(Z,J){if(Z===0)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let Q=J.createShader(J.FRAGMENT_SHADER);try{while(!0){let q=Xi.replace(/%forloop%/gi,zi(Z));if(J.shaderSource(Q,q),J.compileShader(Q),!J.getShaderParameter(Q,J.COMPILE_STATUS))Z=Z/2|0;else break}}finally{J.deleteShader(Q)}return Z}var Xi;var VB=F(()=>{Xi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`)});function qS(){if(k2)return k2;let Z=kH();return k2=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),k2=PH(k2,Z),Z.getExtension("WEBGL_lose_context")?.loseContext(),k2}var k2=null;var KS=F(()=>{YB();VB()});class OB{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let Z=0;Z<this.count;Z++){let J=this.textures[Z];this.textures[Z]=null,this.ids[J.uid]=null}this.count=0}}var XS=()=>{};class HS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new OB,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}function zS(){return vH>0?CK[--vH]:new HS}function NS(Z){CK[vH++]=Z}var CK,vH=0,LK=0,YS=class Z{constructor(J){if(this.uid=_0("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],J={...Z.defaultOptions,...J},!J.maxTextures)q0("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),J.maxTextures=qS();let{maxTextures:Q,attributesInitialSize:q,indicesInitialSize:K}=J;this.attributeBuffer=new t4(q*4),this.indexBuffer=new Uint16Array(K),this.maxTextures=Q}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let J=0;J<this.batchIndex;J++)NS(this.batches[J]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(J){this._elements[this.elementSize++]=J,J._indexStart=this.indexSize,J._attributeStart=this.attributeSize,J._batcher=this,this.indexSize+=J.indexSize,this.attributeSize+=J.attributeSize*this.vertexSize}checkAndUpdateTexture(J,Q){let q=J._batch.textures.ids[Q._source.uid];if(!q&&q!==0)return!1;return J._textureId=q,J.texture=Q,!0}updateElement(J){this.dirty=!0;let Q=this.attributeBuffer;if(J.packAsQuad)this.packQuadAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId);else this.packAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId)}break(J){let Q=this._elements;if(!Q[this.elementStart])return;let q=zS(),K=q.textures;K.clear();let X=Q[this.elementStart],N=r4(X.blendMode,X.texture._source),Y=X.topology;if(this.attributeSize*4>this.attributeBuffer.size)this._resizeAttributeBuffer(this.attributeSize*4);if(this.indexSize>this.indexBuffer.length)this._resizeIndexBuffer(this.indexSize);let O=this.attributeBuffer.float32View,U=this.attributeBuffer.uint32View,$=this.indexBuffer,B=this._batchIndexSize,_=this._batchIndexStart,W="startBatch",w=this.maxTextures;for(let L=this.elementStart;L<this.elementSize;++L){let R=Q[L];Q[L]=null;let j=R.texture._source,C=r4(R.blendMode,j),T=N!==C||Y!==R.topology;if(j._batchTick===LK&&!T){if(R._textureId=j._textureBindLocation,B+=R.indexSize,R.packAsQuad)this.packQuadAttributes(R,O,U,R._attributeStart,R._textureId),this.packQuadIndex($,R._indexStart,R._attributeStart/this.vertexSize);else this.packAttributes(R,O,U,R._attributeStart,R._textureId),this.packIndex(R,$,R._indexStart,R._attributeStart/this.vertexSize);R._batch=q;continue}if(j._batchTick=LK,K.count>=w||T)this._finishBatch(q,_,B-_,K,N,Y,J,W),W="renderBatch",_=B,N=C,Y=R.topology,q=zS(),K=q.textures,K.clear(),++LK;if(R._textureId=j._textureBindLocation=K.count,K.ids[j.uid]=K.count,K.textures[K.count++]=j,R._batch=q,B+=R.indexSize,R.packAsQuad)this.packQuadAttributes(R,O,U,R._attributeStart,R._textureId),this.packQuadIndex($,R._indexStart,R._attributeStart/this.vertexSize);else this.packAttributes(R,O,U,R._attributeStart,R._textureId),this.packIndex(R,$,R._indexStart,R._attributeStart/this.vertexSize)}if(K.count>0)this._finishBatch(q,_,B-_,K,N,Y,J,W),_=B,++LK;this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=B}_finishBatch(J,Q,q,K,X,N,Y,O){J.gpuBindGroup=null,J.bindGroup=null,J.action=O,J.batcher=this,J.textures=K,J.blendMode=X,J.topology=N,J.start=Q,J.size=q,++LK,this.batches[this.batchIndex++]=J,Y.add(J)}finish(J){this.break(J)}ensureAttributeBuffer(J){if(J*4<=this.attributeBuffer.size)return;this._resizeAttributeBuffer(J*4)}ensureIndexBuffer(J){if(J<=this.indexBuffer.length)return;this._resizeIndexBuffer(J)}_resizeAttributeBuffer(J){let Q=Math.max(J,this.attributeBuffer.size*2),q=new t4(Q);jK(this.attributeBuffer.rawBinaryData,q.rawBinaryData),this.attributeBuffer=q}_resizeIndexBuffer(J){let Q=this.indexBuffer,q=Math.max(J,Q.length*1.5);q+=q%2;let K=q>65535?new Uint32Array(q):new Uint16Array(q);if(K.BYTES_PER_ELEMENT!==Q.BYTES_PER_ELEMENT)for(let X=0;X<Q.length;X++)K[X]=Q[X];else jK(Q.buffer,K.buffer);this.indexBuffer=K}packQuadIndex(J,Q,q){J[Q]=q+0,J[Q+1]=q+1,J[Q+2]=q+2,J[Q+3]=q+0,J[Q+4]=q+2,J[Q+5]=q+3}packIndex(J,Q,q,K){let{indices:X,indexSize:N,indexOffset:Y,attributeOffset:O}=J;for(let U=0;U<N;U++)Q[q++]=K+X[U+Y]-O}destroy(){if(this.batches===null)return;for(let J=0;J<this.batches.length;J++)NS(this.batches[J]);this.batches=null;for(let J=0;J<this._elements.length;J++)if(this._elements[J])this._elements[J]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}},VS;var OS=F(()=>{s1();NB();$1();WZ();HB();wK();KS();XS();CK=[];X6.register({clear:()=>{if(CK.length>0){for(let Z of CK)if(Z)Z.destroy()}CK.length=0,vH=0}});YS.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};VS=YS});var F0;var e4=F(()=>{F0=((Z)=>{return Z[Z.MAP_READ=1]="MAP_READ",Z[Z.MAP_WRITE=2]="MAP_WRITE",Z[Z.COPY_SRC=4]="COPY_SRC",Z[Z.COPY_DST=8]="COPY_DST",Z[Z.INDEX=16]="INDEX",Z[Z.VERTEX=32]="VERTEX",Z[Z.UNIFORM=64]="UNIFORM",Z[Z.STORAGE=128]="STORAGE",Z[Z.INDIRECT=256]="INDIRECT",Z[Z.QUERY_RESOLVE=512]="QUERY_RESOLVE",Z[Z.STATIC=1024]="STATIC",Z})(F0||{})});var v1;var $9=F(()=>{B5();s1();e4();v1=class v1 extends t0{constructor(Z){let{data:J,size:Q}=Z,{usage:q,label:K,shrinkToFit:X}=Z;super();if(this.uid=_0("buffer"),this._resourceType="buffer",this._resourceId=_0("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,J instanceof Array)J=new Float32Array(J);this._data=J,Q??(Q=J?.byteLength);let N=!!J;this.descriptor={size:Q,usage:q,mappedAtCreation:N,label:K},this.shrinkToFit=X??!0}get data(){return this._data}set data(Z){this.setDataWithSize(Z,Z.length,!0)}get dataInt32(){if(!this._dataInt32)this._dataInt32=new Int32Array(this.data.buffer);return this._dataInt32}get static(){return!!(this.descriptor.usage&F0.STATIC)}set static(Z){if(Z)this.descriptor.usage|=F0.STATIC;else this.descriptor.usage&=~F0.STATIC}setDataWithSize(Z,J,Q){if(this._updateID++,this._updateSize=J*Z.BYTES_PER_ELEMENT,this._data===Z){if(Q)this.emit("update",this);return}let q=this._data;if(this._data=Z,this._dataInt32=null,!q||q.length!==Z.length){if(!this.shrinkToFit&&q&&Z.byteLength<q.byteLength){if(Q)this.emit("update",this)}else this.descriptor.size=Z.byteLength,this._resourceId=_0("resource"),this.emit("change",this);return}if(Q)this.emit("update",this)}update(Z){this._updateSize=Z??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}});function UB(Z,J){if(!(Z instanceof v1)){let Q=J?F0.INDEX:F0.VERTEX;if(Z instanceof Array)if(J)Z=new Uint32Array(Z),Q=F0.INDEX|F0.COPY_DST;else Z=new Float32Array(Z),Q=F0.VERTEX|F0.COPY_DST;Z=new v1({data:Z,label:J?"index-mesh-buffer":"vertex-mesh-buffer",usage:Q})}return Z}var US=F(()=>{$9();e4()});function AS(Z,J,Q){let q=Z.getAttribute(J);if(!q)return Q.minX=0,Q.minY=0,Q.maxX=0,Q.maxY=0,Q;let K=q.buffer.data,X=1/0,N=1/0,Y=-1/0,O=-1/0,U=K.BYTES_PER_ELEMENT,$=(q.offset||0)/U,B=(q.stride||8)/U;for(let _=$;_<K.length;_+=B){let W=K[_],w=K[_+1];if(W>Y)Y=W;if(w>O)O=w;if(W<X)X=W;if(w<N)N=w}return Q.minX=X,Q.minY=N,Q.maxX=Y,Q.maxY=O,Q}var $S=()=>{};function Ni(Z){if(Z instanceof v1||Array.isArray(Z)||Z.BYTES_PER_ELEMENT)Z={buffer:Z};return Z.buffer=UB(Z.buffer,!1),Z}var T6;var P2=F(()=>{B5();Z8();s1();$9();US();$S();T6=class T6 extends t0{constructor(Z={}){super();this.uid=_0("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new e0,this._boundsDirty=!0;let{attributes:J,indexBuffer:Q,topology:q}=Z;if(this.buffers=[],this.attributes={},J)for(let K in J)this.addAttribute(K,J[K]);if(this.instanceCount=Z.instanceCount??1,Q)this.addIndex(Q);this.topology=q||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(Z){return this.attributes[Z]}getIndex(){return this.indexBuffer}getBuffer(Z){return this.getAttribute(Z).buffer}getSize(){for(let Z in this.attributes){let J=this.attributes[Z];return J.buffer.data.length/(J.stride/4||J.size)}return 0}addAttribute(Z,J){let Q=Ni(J);if(this.buffers.indexOf(Q.buffer)===-1)this.buffers.push(Q.buffer),Q.buffer.on("update",this.onBufferUpdate,this),Q.buffer.on("change",this.onBufferUpdate,this);this.attributes[Z]=Q}addIndex(Z){this.indexBuffer=UB(Z,!0),this.buffers.push(this.indexBuffer)}get bounds(){if(!this._boundsDirty)return this._bounds;return this._boundsDirty=!1,AS(this,"aPosition",this._bounds)}destroy(Z=!1){if(this.emit("destroy",this),this.removeAllListeners(),Z)this.buffers.forEach((J)=>J.destroy());this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}});var Hi,Yi,AB;var DS=F(()=>{$9();e4();P2();Hi=new Float32Array(1),Yi=new Uint32Array(1);AB=class AB extends T6{constructor(){let J=new v1({data:Hi,label:"attribute-batch-buffer",usage:F0.VERTEX|F0.COPY_DST,shrinkToFit:!1}),Q=new v1({data:Yi,label:"index-batch-buffer",usage:F0.INDEX|F0.COPY_DST,shrinkToFit:!1}),q=24;super({attributes:{aPosition:{buffer:J,format:"float32x2",stride:24,offset:0},aUV:{buffer:J,format:"float32x2",stride:24,offset:8},aColor:{buffer:J,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:J,format:"uint16x2",stride:24,offset:20}},indexBuffer:Q})}}});function Z7(Z,J){let Q=BS[Z];if(Q===void 0){if($B[J]===void 0)$B[J]=1;BS[Z]=Q=$B[J]++}return Q}var $B,BS;var RK=F(()=>{$B=Object.create(null),BS=Object.create(null)});function _S(){if(!fH){fH="mediump";let Z=kH();if(Z){if(Z.getShaderPrecisionFormat)fH=Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.HIGH_FLOAT).precision?"highp":"mediump"}}return fH}var fH;var MS=F(()=>{YB()});function WS(Z,J,Q){if(J)return Z;if(Q)return Z=Z.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${Z}
        `;return`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${Z}
        `}var GS=()=>{};function FS(Z,J,Q){let q=Q?J.maxSupportedFragmentPrecision:J.maxSupportedVertexPrecision;if(Z.substring(0,9)!=="precision"){let K=Q?J.requestedFragmentPrecision:J.requestedVertexPrecision;if(K==="highp"&&q!=="highp")K="mediump";return`precision ${K} float;
${Z}`}else if(q!=="highp"&&Z.substring(0,15)==="precision highp")return Z.replace("precision highp","precision mediump");return Z}var jS=()=>{};function wS(Z,J){if(!J)return Z;return`#version 300 es
${Z}`}var LS=()=>{};function CS(Z,{name:J="pixi-program"},Q=!0){J=J.replace(/\s+/g,"-"),J+=Q?"-fragment":"-vertex";let q=Q?Vi:Oi;if(q[J])q[J]++,J+=`-${q[J]}`;else q[J]=1;if(Z.indexOf("#define SHADER_NAME")!==-1)return Z;return`${`#define SHADER_NAME ${J}`}
${Z}`}var Vi,Oi;var RS=F(()=>{Vi={},Oi={}});function ES(Z,J){if(!J)return Z;return Z.replace("#version 300 es","")}var IS=()=>{};var DB,EK,TS=class Z{constructor(J){J={...Z.defaultOptions,...J};let Q=J.fragment.indexOf("#version 300 es")!==-1,q={stripVersion:Q,ensurePrecision:{requestedFragmentPrecision:J.preferredFragmentPrecision,requestedVertexPrecision:J.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:_S()},setProgramName:{name:J.name},addProgramDefines:Q,insertVersion:Q},K=J.fragment,X=J.vertex;Object.keys(DB).forEach((N)=>{let Y=q[N];K=DB[N](K,Y,!0),X=DB[N](X,Y,!1)}),this.fragment=K,this.vertex=X,this.transformFeedbackVaryings=J.transformFeedbackVaryings,this._key=Z7(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,EK[this._cacheKey]=null}static from(J){let Q=`${J.vertex}:${J.fragment}`;if(!EK[Q])EK[Q]=new Z(J),EK[Q]._cacheKey=Q;return EK[Q]}},z5;var Q4=F(()=>{RK();MS();GS();jS();LS();RS();IS();DB={stripVersion:ES,ensurePrecision:FS,addProgramDefines:WS,setProgramName:CS,insertVersion:wS},EK=Object.create(null);TS.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};z5=TS});function q8(Z){return SS[Z]??SS.float32}var SS;var bZ=F(()=>{SS={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}}});function bS({source:Z,entryPoint:J}){let Q={},q=Z.indexOf(`fn ${J}`);if(q!==-1){let K=Z.indexOf("->",q);if(K!==-1){let X=Z.substring(q,K),N=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g,Y;while((Y=N.exec(X))!==null){let O=Ui[Y[3]]??"float32";Q[Y[2]]={location:parseInt(Y[1],10),format:O,stride:q8(O).stride,offset:0,instance:!1,start:0}}}}return Q}var Ui;var kS=F(()=>{bZ();Ui={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"}});function yH(Z){let J=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,Q=/@group\((\d+)\)/,q=/@binding\((\d+)\)/,K=/var(<[^>]+>)? (\w+)/,X=/:\s*(\w+)/,N=/struct\s+(\w+)\s*{([^}]+)}/g,Y=/(\w+)\s*:\s*([\w\<\>]+)/g,O=/struct\s+(\w+)/,U=Z.match(J)?.map((B)=>({group:parseInt(B.match(Q)[1],10),binding:parseInt(B.match(q)[1],10),name:B.match(K)[2],isUniform:B.match(K)[1]==="<uniform>",type:B.match(X)[1]}));if(!U)return{groups:[],structs:[]};let $=Z.match(N)?.map((B)=>{let _=B.match(O)[1],W=B.match(Y).reduce((w,L)=>{let[R,G]=L.split(":");return w[R.trim()]=G.trim(),w},{});if(!W)return null;return{name:_,members:W}}).filter(({name:B})=>U.some((_)=>_.type===B))??[];return{groups:U,structs:$}}var PS=()=>{};var v2;var vS=F(()=>{v2=((Z)=>{return Z[Z.VERTEX=1]="VERTEX",Z[Z.FRAGMENT=2]="FRAGMENT",Z[Z.COMPUTE=4]="COMPUTE",Z})(v2||{})});function fS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]=[];if(q.isUniform)J[q.group].push({binding:q.binding,visibility:v2.VERTEX|v2.FRAGMENT,buffer:{type:"uniform"}});else if(q.type==="sampler")J[q.group].push({binding:q.binding,visibility:v2.FRAGMENT,sampler:{type:"filtering"}});else if(q.type==="texture_2d")J[q.group].push({binding:q.binding,visibility:v2.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return J}var yS=F(()=>{vS()});function hS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]={};J[q.group][q.name]=q.binding}return J}var xS=()=>{};function gS(Z,J){let Q=new Set,q=new Set,K=[...Z.structs,...J.structs].filter((N)=>{if(Q.has(N.name))return!1;return Q.add(N.name),!0}),X=[...Z.groups,...J.groups].filter((N)=>{let Y=`${N.name}-${N.binding}`;if(q.has(Y))return!1;return q.add(Y),!0});return{structs:K,groups:X}}var mS=()=>{};class N5{constructor(Z){this._layoutKey=0,this._attributeLocationsKey=0;let{fragment:J,vertex:Q,layout:q,gpuLayout:K,name:X}=Z;if(this.name=X,this.fragment=J,this.vertex=Q,J.source===Q.source){let N=yH(J.source);this.structsAndGroups=N}else{let N=yH(Q.source),Y=yH(J.source);this.structsAndGroups=gS(N,Y)}this.layout=q??hS(this.structsAndGroups),this.gpuLayout=K??fS(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){let{vertex:Z,fragment:J}=this,Q=Z.source+J.source+Z.entryPoint+J.entryPoint;this._layoutKey=Z7(Q,"program")}get attributeData(){return this._attributeData??(this._attributeData=bS(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,IK[this._cacheKey]=null}static from(Z){let J=`${Z.vertex.source}:${Z.fragment.source}:${Z.fragment.entryPoint}:${Z.vertex.entryPoint}`;if(!IK[J])IK[J]=new N5(Z),IK[J]._cacheKey=J;return IK[J]}}var IK;var J7=F(()=>{RK();kS();PS();yS();xS();mS();IK=Object.create(null)});function BB(Z,J,Q){if(Z)for(let q in Z){let K=q.toLocaleLowerCase(),X=J[K];if(X){let N=Z[q];if(q==="header")N=N.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"");if(Q)X.push(`//----${Q}----//`);X.push(N)}else e(`${q} placement hook does not exist in shader`)}}var dS=F(()=>{c0()});function _B(Z){let J={};return(Z.match(Ai)?.map((q)=>q.replace(/[{()}]/g,""))??[]).forEach((q)=>{J[q]=[]}),J}var Ai;var cS=F(()=>{Ai=/\{\{(.*?)\}\}/g});function uS(Z,J){let Q,q=/@in\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function MB(Z,J,Q=!1){let q=[];uS(J,q),Z.forEach((Y)=>{if(Y.header)uS(Y.header,q)});let K=q;if(Q)K.sort();let X=K.map((Y,O)=>`       @location(${O}) ${Y},`).join(`
`),N=J.replace(/@in\s+[^;]+;\s*/g,"");return N=N.replace("{{in}}",`
${X}
`),N}var lS=()=>{};function pS(Z,J){let Q,q=/@out\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function $i(Z){let Q=/\b(\w+)\s*:/g.exec(Z);return Q?Q[1]:""}function Di(Z){let J=/@.*?\s+/g;return Z.replace(J,"")}function iS(Z,J){let Q=[];pS(J,Q),Z.forEach((O)=>{if(O.header)pS(O.header,Q)});let q=0,K=Q.sort().map((O)=>{if(O.indexOf("builtin")>-1)return O;return`@location(${q++}) ${O}`}).join(`,
`),X=Q.sort().map((O)=>`       var ${Di(O)};`).join(`
`),N=`return VSOutput(
            ${Q.sort().map((O)=>` ${$i(O)}`).join(`,
`)});`,Y=J.replace(/@out\s+[^;]+;\s*/g,"");return Y=Y.replace("{{struct}}",`
${K}
`),Y=Y.replace("{{start}}",`
${X}
`),Y=Y.replace("{{return}}",`
${N}
`),Y}var aS=()=>{};function WB(Z,J){let Q=Z;for(let q in J){let K=J[q];if(K.join(`
`).length)Q=Q.replace(`{{${q}}}`,`//-----${q} START-----//
${K.join(`
`)}
//----${q} FINISH----//`);else Q=Q.replace(`{{${q}}}`,"")}return Q}var sS=()=>{};function nS({template:Z,bits:J}){let Q=tS(Z,J);if(D9[Q])return D9[Q];let{vertex:q,fragment:K}=_i(Z,J);return D9[Q]=rS(q,K,J),D9[Q]}function oS({template:Z,bits:J}){let Q=tS(Z,J);if(D9[Q])return D9[Q];return D9[Q]=rS(Z.vertex,Z.fragment,J),D9[Q]}function _i(Z,J){let Q=J.map((N)=>N.vertex).filter((N)=>!!N),q=J.map((N)=>N.fragment).filter((N)=>!!N),K=MB(Q,Z.vertex,!0);K=iS(Q,K);let X=MB(q,Z.fragment,!0);return{vertex:K,fragment:X}}function tS(Z,J){return J.map((Q)=>{if(!GB.has(Q))GB.set(Q,Bi++);return GB.get(Q)}).sort((Q,q)=>Q-q).join("-")+Z.vertex+Z.fragment}function rS(Z,J,Q){let q=_B(Z),K=_B(J);return Q.forEach((X)=>{BB(X.vertex,q,X.name),BB(X.fragment,K,X.name)}),{vertex:WB(Z,q),fragment:WB(J,K)}}var D9,GB,Bi=0;var eS=F(()=>{dS();cS();lS();aS();sS();D9=Object.create(null),GB=new Map});var Zb=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Jb=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Qb=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,qb=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`;var Kb=()=>{};var Xb,zb;var Nb=F(()=>{Xb={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},zb={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}}});function q4({bits:Z,name:J}){let Q=nS({template:{fragment:Jb,vertex:Zb},bits:[Xb,...Z]});return N5.from({name:J,vertex:{source:Q.vertex,entryPoint:"main"},fragment:{source:Q.fragment,entryPoint:"main"}})}function K4({bits:Z,name:J}){return new z5({name:J,...oS({template:{vertex:Qb,fragment:qb},bits:[zb,...Z]})})}var B9=F(()=>{Q4();J7();eS();Kb();Nb()});var f2,y2;var TK=F(()=>{f2={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},y2={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}}});function Mi(Z){let J=[];if(Z===1)J.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),J.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let Q=0;for(let q=0;q<Z;q++)J.push(`@group(1) @binding(${Q++}) var textureSource${q+1}: texture_2d<f32>;`),J.push(`@group(1) @binding(${Q++}) var textureSampler${q+1}: sampler;`)}return J.join(`
`)}function Wi(Z){let J=[];if(Z===1)J.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{J.push("switch vTextureId {");for(let Q=0;Q<Z;Q++){if(Q===Z-1)J.push("  default:{");else J.push(`  case ${Q}:{`);J.push(`      outColor = textureSampleGrad(textureSource${Q+1}, textureSampler${Q+1}, vUV, uvDx, uvDy);`),J.push("      break;}")}J.push("}")}return J.join(`
`)}function h2(Z){if(!FB[Z])FB[Z]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Mi(Z)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Wi(Z)}
            `}};return FB[Z]}function Gi(Z){let J=[];for(let Q=0;Q<Z;Q++){if(Q>0)J.push("else");if(Q<Z-1)J.push(`if(vTextureId < ${Q}.5)`);J.push("{"),J.push(`	outColor = texture(uTextures[${Q}], vUV);`),J.push("}")}return J.join(`
`)}function x2(Z){if(!jB[Z])jB[Z]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${Z}];

            `,main:`

                ${Gi(Z)}
            `}};return jB[Z]}var FB,jB;var SK=F(()=>{FB={};jB={}});var X4,z4;var _9=F(()=>{X4={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},z4={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}}});var wB,Hb;var Yb=F(()=>{wB=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Hb=wB.reduce((Z,J)=>{return Z[J]=!0,Z},{})});function Vb(Z,J){switch(Z){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*J);case"vec3<f32>":return new Float32Array(3*J);case"vec4<f32>":return new Float32Array(4*J);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ob=()=>{};var Ub=class Z{constructor(J,Q){this._touched=0,this.uid=_0("uniform"),this._resourceType="uniformGroup",this._resourceId=_0("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,Q={...Z.defaultOptions,...Q},this.uniformStructures=J;let q={};for(let K in J){let X=J[K];if(X.name=K,X.size=X.size??1,!Hb[X.type]){let N=X.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(N){let[,Y,O]=N;throw Error(`Uniform type ${X.type} is not supported. Use type: '${Y}', size: ${O} instead.`)}throw Error(`Uniform type ${X.type} is not supported. Supported uniform types are: ${wB.join(", ")}`)}X.value??(X.value=Vb(X.type,X.size)),q[K]=X.value}this.uniforms=q,this._dirtyId=1,this.ubo=Q.ubo,this.isStatic=Q.isStatic,this._signature=Z7(Object.keys(q).map((K)=>`${K}-${J[K].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}},p0;var I5=F(()=>{s1();RK();Yb();Ob();Ub.defaultOptions={ubo:!1,isStatic:!1};p0=Ub});function g2(Z){let J=Ab[Z];if(J)return J;let Q=new Int32Array(Z);for(let q=0;q<Z;q++)Q[q]=q;return J=Ab[Z]=new p0({uTextures:{value:Q,type:"i32",size:Z}},{isStatic:!0}),J}var Ab;var hH=F(()=>{I5();Ab={}});var _1;var N6=F(()=>{_1=((Z)=>{return Z[Z.WEBGL=1]="WEBGL",Z[Z.WEBGPU=2]="WEBGPU",Z[Z.BOTH=3]="BOTH",Z})(_1||{})});var T1;var S6=F(()=>{B5();s1();Q4();A9();J7();N6();I5();T1=class T1 extends t0{constructor(Z){super();this.uid=_0("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:J,glProgram:Q,groups:q,resources:K,compatibleRenderers:X,groupMap:N}=Z;if(this.gpuProgram=J,this.glProgram=Q,X===void 0){if(X=0,J)X|=_1.WEBGPU;if(Q)X|=_1.WEBGL}this.compatibleRenderers=X;let Y={};if(!K&&!q)K={};if(K&&q)throw Error("[Shader] Cannot have both resources and groups");else if(!J&&q&&!N)throw Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");else if(!J&&q&&N)for(let O in N)for(let U in N[O]){let $=N[O][U];Y[$]={group:O,binding:U,name:$}}else if(J&&q&&!N){let O=J.structsAndGroups.groups;N={},O.forEach((U)=>{N[U.group]=N[U.group]||{},N[U.group][U.binding]=U.name,Y[U.name]=U})}else if(K){if(q={},N={},J)J.structsAndGroups.groups.forEach(($)=>{N[$.group]=N[$.group]||{},N[$.group][$.binding]=$.name,Y[$.name]=$});let O=0;for(let U in K){if(Y[U])continue;if(!q[99])q[99]=new M5,this._ownedBindGroups.push(q[99]);Y[U]={group:99,binding:O,name:U},N[99]=N[99]||{},N[99][O]=U,O++}for(let U in K){let $=U,B=K[U];if(!B.source&&!B._resourceType)B=new p0(B);let _=Y[$];if(_){if(!q[_.group])q[_.group]=new M5,this._ownedBindGroups.push(q[_.group]);q[_.group].setResource(B,_.binding)}}}this.groups=q,this._uniformBindMap=N,this.resources=this._buildResourceAccessor(q,Y)}addResource(Z,J,Q){var q,K;if((q=this._uniformBindMap)[J]||(q[J]={}),(K=this._uniformBindMap[J])[Q]||(K[Q]=Z),!this.groups[J])this.groups[J]=new M5,this._ownedBindGroups.push(this.groups[J])}_buildResourceAccessor(Z,J){let Q={};for(let q in J){let K=J[q];Object.defineProperty(Q,K.name,{get(){return Z[K.group].getResource(K.binding)},set(X){Z[K.group].setResource(X,K.binding)}})}return Q}destroy(Z=!1){if(this.emit("destroy",this),Z)this.gpuProgram?.destroy(),this.glProgram?.destroy();this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach((J)=>{J.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(Z){let{gpu:J,gl:Q,...q}=Z,K,X;if(J)K=N5.from(J);if(Q)X=z5.from(Q);return new T1({gpuProgram:K,glProgram:X,...q})}}});var LB;var $b=F(()=>{B9();TK();SK();_9();hH();S6();LB=class LB extends T1{constructor(Z){let J=K4({name:"batch",bits:[y2,x2(Z),z4]}),Q=q4({name:"batch",bits:[f2,h2(Z),X4]});super({glProgram:J,gpuProgram:Q,resources:{batchSamplers:g2(Z)}})}}});var CB=null,Db,bK;var RB=F(()=>{g();OS();DS();$b();Db=class Z extends VS{constructor(J){super(J);this.geometry=new AB,this.name=Z.extension.name,this.vertexSize=6,CB??(CB=new LB(J.maxTextures)),this.shader=CB}packAttributes(J,Q,q,K,X){let N=X<<16|J.roundPixels&65535,Y=J.transform,O=Y.a,U=Y.b,$=Y.c,B=Y.d,_=Y.tx,W=Y.ty,{positions:w,uvs:L}=J,R=J.color,G=J.attributeOffset,j=G+J.attributeSize;for(let C=G;C<j;C++){let T=C*2,v=w[T],f=w[T+1];Q[K++]=O*v+$*f+_,Q[K++]=B*f+U*v+W,Q[K++]=L[T],Q[K++]=L[T+1],q[K++]=R,q[K++]=N}}packQuadAttributes(J,Q,q,K,X){let{texture:N,transform:Y}=J,O=Y.a,U=Y.b,$=Y.c,B=Y.d,_=Y.tx,W=Y.ty,w=J.bounds,L=w.maxX,R=w.minX,G=w.maxY,j=w.minY,C=N.uvs,T=J.color,v=X<<16|J.roundPixels&65535;Q[K+0]=O*R+$*j+_,Q[K+1]=B*j+U*R+W,Q[K+2]=C.x0,Q[K+3]=C.y0,q[K+4]=T,q[K+5]=v,Q[K+6]=O*L+$*j+_,Q[K+7]=B*j+U*L+W,Q[K+8]=C.x1,Q[K+9]=C.y1,q[K+10]=T,q[K+11]=v,Q[K+12]=O*L+$*G+_,Q[K+13]=B*G+U*L+W,Q[K+14]=C.x2,Q[K+15]=C.y2,q[K+16]=T,q[K+17]=v,Q[K+18]=O*R+$*G+_,Q[K+19]=B*G+U*R+W,Q[K+20]=C.x3,Q[K+21]=C.y3,q[K+22]=T,q[K+23]=v}};Db.extension={type:[I.Batcher],name:"default"};bK=Db});function Bb(Z,J,Q,q,K,X,N,Y=null){let O=0;Q*=J,K*=X;let{a:U,b:$,c:B,d:_,tx:W,ty:w}=Y;while(O<N){let L=Z[Q],R=Z[Q+1];q[K]=U*L+B*R+W,q[K+1]=$*L+_*R+w,K+=X,Q+=J,O++}}function _b(Z,J,Q,q){let K=0;J*=Q;while(K<q)Z[J]=0,Z[J+1]=0,J+=Q,K++}var Mb=()=>{};function EB(Z,J,Q,q,K){let{a:X,b:N,c:Y,d:O,tx:U,ty:$}=J;Q||(Q=0),q||(q=2),K||(K=Z.length/q-Q);let B=Q*q;for(let _=0;_<K;_++){let W=Z[B],w=Z[B+1];Z[B]=X*W+Y*w+U,Z[B+1]=N*W+O*w+$,B+=q}}var Wb=()=>{};class m2{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){if(this.renderable&&this.applyTransform)return this.renderable.groupBlendMode;return"normal"}get color(){let Z=this.baseColor,J=Z>>16|Z&65280|(Z&255)<<16,Q=this.renderable;if(Q)return XH(J,Q.groupColor)+(this.alpha*Q.groupAlpha*255<<24);return J+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||Fi}copyTo(Z){Z.indexOffset=this.indexOffset,Z.indexSize=this.indexSize,Z.attributeOffset=this.attributeOffset,Z.attributeSize=this.attributeSize,Z.baseColor=this.baseColor,Z.alpha=this.alpha,Z.texture=this.texture,Z.geometryData=this.geometryData,Z.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}var Fi;var IB=F(()=>{I0();LD();Fi=new a});var d2,Gb,Fb;var jb=F(()=>{g();d2={extension:{type:I.ShapeBuilder,name:"circle"},build(Z,J){let Q,q,K,X,N,Y;if(Z.type==="circle"){let T=Z;if(N=Y=T.radius,N<=0)return!1;Q=T.x,q=T.y,K=X=0}else if(Z.type==="ellipse"){let T=Z;if(N=T.halfWidth,Y=T.halfHeight,N<=0||Y<=0)return!1;Q=T.x,q=T.y,K=X=0}else{let T=Z,v=T.width/2,f=T.height/2;Q=T.x+v,q=T.y+f,N=Y=Math.max(0,Math.min(T.radius,Math.min(v,f))),K=v-N,X=f-Y}if(K<0||X<0)return!1;let O=Math.ceil(2.3*Math.sqrt(N+Y)),U=O*8+(K?4:0)+(X?4:0);if(U===0)return!1;if(O===0)return J[0]=J[6]=Q+K,J[1]=J[3]=q+X,J[2]=J[4]=Q-K,J[5]=J[7]=q-X,!0;let $=0,B=O*4+(K?2:0)+2,_=B,W=U,w=K+N,L=X,R=Q+w,G=Q-w,j=q+L;if(J[$++]=R,J[$++]=j,J[--B]=j,J[--B]=G,X){let T=q-L;J[_++]=G,J[_++]=T,J[--W]=T,J[--W]=R}for(let T=1;T<O;T++){let v=Math.PI/2*(T/O),f=K+Math.cos(v)*N,b=X+Math.sin(v)*Y,m=Q+f,u=Q-f,l=q+b,o=q-b;J[$++]=m,J[$++]=l,J[--B]=l,J[--B]=u,J[_++]=u,J[_++]=o,J[--W]=o,J[--W]=m}w=K,L=X+Y,R=Q+w,G=Q-w,j=q+L;let C=q-L;if(J[$++]=R,J[$++]=j,J[--W]=C,J[--W]=R,K)J[$++]=G,J[$++]=j,J[--W]=C,J[--W]=G;return!0},triangulate(Z,J,Q,q,K,X){if(Z.length===0)return;let N=0,Y=0;for(let $=0;$<Z.length;$+=2)N+=Z[$],Y+=Z[$+1];N/=Z.length/2,Y/=Z.length/2;let O=q;J[O*Q]=N,J[O*Q+1]=Y;let U=O++;for(let $=0;$<Z.length;$+=2){if(J[O*Q]=Z[$],J[O*Q+1]=Z[$+1],$>0)K[X++]=O,K[X++]=U,K[X++]=O-1;O++}K[X++]=U+1,K[X++]=U,K[X++]=O-1}},Gb={...d2,extension:{...d2.extension,name:"ellipse"}},Fb={...d2,extension:{...d2.extension,name:"roundedRectangle"}}});var xH=0.0001,TB=0.0001;var SB=()=>{};function wb(Z){let J=Z.length;if(J<6)return 1;let Q=0;for(let q=0,K=Z[J-2],X=Z[J-1];q<J;q+=2){let N=Z[q],Y=Z[q+1];Q+=(N-K)*(Y+X),K=N,X=Y}if(Q<0)return-1;return 1}var Lb=()=>{};function Cb(Z,J,Q,q,K,X,N,Y){let O=Z-Q*K,U=J-q*K,$=Z+Q*X,B=J+q*X,_,W;if(N)_=q,W=-Q;else _=-q,W=Q;let w=O+_,L=U+W,R=$+_,G=B+W;return Y.push(w,L),Y.push(R,G),2}function kZ(Z,J,Q,q,K,X,N,Y){let O=Q-Z,U=q-J,$=Math.atan2(O,U),B=Math.atan2(K-Z,X-J);if(Y&&$<B)$+=Math.PI*2;else if(!Y&&$>B)B+=Math.PI*2;let _=$,W=B-$,w=Math.abs(W),L=Math.sqrt(O*O+U*U),R=(15*w*Math.sqrt(L)/Math.PI>>0)+1,G=W/R;if(_+=G,Y){N.push(Z,J),N.push(Q,q);for(let j=1,C=_;j<R;j++,C+=G)N.push(Z,J),N.push(Z+Math.sin(C)*L,J+Math.cos(C)*L);N.push(Z,J),N.push(K,X)}else{N.push(Q,q),N.push(Z,J);for(let j=1,C=_;j<R;j++,C+=G)N.push(Z+Math.sin(C)*L,J+Math.cos(C)*L),N.push(Z,J);N.push(K,X),N.push(Z,J)}return R*2}function Rb(Z,J,Q,q,K,X){let N=xH;if(Z.length===0)return;let Y=J,O=Y.alignment;if(J.alignment!==0.5){let D0=wb(Z);if(Q)D0*=-1;O=(O-0.5)*D0+0.5}let U=new S0(Z[0],Z[1]),$=new S0(Z[Z.length-2],Z[Z.length-1]),B=q,_=Math.abs(U.x-$.x)<N&&Math.abs(U.y-$.y)<N;if(B){if(Z=Z.slice(),_)Z.pop(),Z.pop(),$.set(Z[Z.length-2],Z[Z.length-1]);let D0=(U.x+$.x)*0.5,c5=($.y+U.y)*0.5;Z.unshift(D0,c5),Z.push(D0,c5)}let W=K,w=Z.length/2,L=Z.length,R=W.length/2,G=Y.width/2,j=G*G,C=Y.miterLimit*Y.miterLimit,T=Z[0],v=Z[1],f=Z[2],b=Z[3],m=0,u=0,l=-(v-b),o=T-f,N0=0,j0=0,z0=Math.sqrt(l*l+o*o);l/=z0,o/=z0,l*=G,o*=G;let X1=O,t=(1-X1)*2,H0=X1*2;if(!B){if(Y.cap==="round")L+=kZ(T-l*(t-H0)*0.5,v-o*(t-H0)*0.5,T-l*t,v-o*t,T+l*H0,v+o*H0,W,!0)+2;else if(Y.cap==="square")L+=Cb(T,v,l,o,t,H0,!0,W)}W.push(T-l*t,v-o*t),W.push(T+l*H0,v+o*H0);for(let D0=1;D0<w-1;++D0){T=Z[(D0-1)*2],v=Z[(D0-1)*2+1],f=Z[D0*2],b=Z[D0*2+1],m=Z[(D0+1)*2],u=Z[(D0+1)*2+1],l=-(v-b),o=T-f,z0=Math.sqrt(l*l+o*o),l/=z0,o/=z0,l*=G,o*=G,N0=-(b-u),j0=f-m,z0=Math.sqrt(N0*N0+j0*j0),N0/=z0,j0/=z0,N0*=G,j0*=G;let c5=f-T,k8=v-b,P8=f-m,H8=u-b,U6=c5*P8+k8*H8,G5=k8*P8-H8*c5,Y8=G5<0;if(Math.abs(G5)<0.001*Math.abs(U6)){if(W.push(f-l*t,b-o*t),W.push(f+l*H0,b+o*H0),U6>=0){if(Y.join==="round")L+=kZ(f,b,f-l*t,b-o*t,f-N0*t,b-j0*t,W,!1)+4;else L+=2;W.push(f-N0*H0,b-j0*H0),W.push(f+N0*t,b+j0*t)}continue}let f6=(-l+T)*(-o+b)-(-l+f)*(-o+v),UQ=(-N0+m)*(-j0+b)-(-N0+f)*(-j0+u),w9=(c5*UQ-P8*f6)/G5,y6=(H8*f6-k8*UQ)/G5,O4=(w9-f)*(w9-f)+(y6-b)*(y6-b),V8=f+(w9-f)*t,v8=b+(y6-b)*t,f8=f-(w9-f)*H0,A6=b-(y6-b)*H0,h6=Math.min(c5*c5+k8*k8,P8*P8+H8*H8),AQ=Y8?t:H0,lZ=h6+AQ*AQ*j;if(O4<=lZ)if(Y.join==="bevel"||O4/j>C){if(Y8)W.push(V8,v8),W.push(f+l*H0,b+o*H0),W.push(V8,v8),W.push(f+N0*H0,b+j0*H0);else W.push(f-l*t,b-o*t),W.push(f8,A6),W.push(f-N0*t,b-j0*t),W.push(f8,A6);L+=2}else if(Y.join==="round")if(Y8)W.push(V8,v8),W.push(f+l*H0,b+o*H0),L+=kZ(f,b,f+l*H0,b+o*H0,f+N0*H0,b+j0*H0,W,!0)+4,W.push(V8,v8),W.push(f+N0*H0,b+j0*H0);else W.push(f-l*t,b-o*t),W.push(f8,A6),L+=kZ(f,b,f-l*t,b-o*t,f-N0*t,b-j0*t,W,!1)+4,W.push(f-N0*t,b-j0*t),W.push(f8,A6);else W.push(V8,v8),W.push(f8,A6);else{if(W.push(f-l*t,b-o*t),W.push(f+l*H0,b+o*H0),Y.join==="round")if(Y8)L+=kZ(f,b,f+l*H0,b+o*H0,f+N0*H0,b+j0*H0,W,!0)+2;else L+=kZ(f,b,f-l*t,b-o*t,f-N0*t,b-j0*t,W,!1)+2;else if(Y.join==="miter"&&O4/j<=C){if(Y8)W.push(f8,A6),W.push(f8,A6);else W.push(V8,v8),W.push(V8,v8);L+=2}W.push(f-N0*t,b-j0*t),W.push(f+N0*H0,b+j0*H0),L+=2}}if(T=Z[(w-2)*2],v=Z[(w-2)*2+1],f=Z[(w-1)*2],b=Z[(w-1)*2+1],l=-(v-b),o=T-f,z0=Math.sqrt(l*l+o*o),l/=z0,o/=z0,l*=G,o*=G,W.push(f-l*t,b-o*t),W.push(f+l*H0,b+o*H0),!B){if(Y.cap==="round")L+=kZ(f-l*(t-H0)*0.5,b-o*(t-H0)*0.5,f-l*t,b-o*t,f+l*H0,b+o*H0,W,!1)+2;else if(Y.cap==="square")L+=Cb(f,b,l,o,t,H0,!1,W)}let W1=TB*TB;for(let D0=R;D0<L+R-2;++D0){if(T=W[D0*2],v=W[D0*2+1],f=W[(D0+1)*2],b=W[(D0+1)*2+1],m=W[(D0+2)*2],u=W[(D0+2)*2+1],Math.abs(T*(b-u)+f*(u-v)+m*(v-b))<W1)continue;X.push(D0,D0+1,D0+2)}}var Eb=F(()=>{L6();SB();Lb()});function Ib(Z,J,Q,q){let K=xH;if(Z.length===0)return;let X=Z[0],N=Z[1],Y=Z[Z.length-2],O=Z[Z.length-1],U=J||Math.abs(X-Y)<K&&Math.abs(N-O)<K,$=Q,B=Z.length/2,_=$.length/2;for(let W=0;W<B;W++)$.push(Z[W*2]),$.push(Z[W*2+1]);for(let W=0;W<B-1;W++)q.push(_+W,_+W+1);if(U)q.push(_+B-1,_)}var Tb=F(()=>{SB()});function dH(Z,J,Q=2){let q=J&&J.length,K=q?J[0]*Q:Z.length,X=bb(Z,0,K,Q,!0),N=[];if(!X||X.next===X.prev)return N;let Y,O,U;if(q)X=Ri(Z,J,X,Q);if(Z.length>80*Q){Y=Z[0],O=Z[1];let $=Y,B=O;for(let _=Q;_<K;_+=Q){let W=Z[_],w=Z[_+1];if(W<Y)Y=W;if(w<O)O=w;if(W>$)$=W;if(w>B)B=w}U=Math.max($-Y,B-O),U=U!==0?32767/U:0}return PK(X,N,Q,Y,O,U,0),N}function bb(Z,J,Q,q,K){let X;if(K===hi(Z,J,Q,q)>0)for(let N=J;N<Q;N+=q)X=Sb(N/q|0,Z[N],Z[N+1],X);else for(let N=Q-q;N>=J;N-=q)X=Sb(N/q|0,Z[N],Z[N+1],X);if(X&&c2(X,X.next))fK(X),X=X.next;return X}function PZ(Z,J){if(!Z)return Z;if(!J)J=Z;let Q=Z,q;do if(q=!1,!Q.steiner&&(c2(Q,Q.next)||F1(Q.prev,Q,Q.next)===0)){if(fK(Q),Q=J=Q.prev,Q===Q.next)break;q=!0}else Q=Q.next;while(q||Q!==J);return J}function PK(Z,J,Q,q,K,X,N){if(!Z)return;if(!N&&X)bi(Z,q,K,X);let Y=Z;while(Z.prev!==Z.next){let{prev:O,next:U}=Z;if(X?wi(Z,q,K,X):ji(Z)){J.push(O.i,Z.i,U.i),fK(Z),Z=U.next,Y=U.next;continue}if(Z=U,Z===Y){if(!N)PK(PZ(Z),J,Q,q,K,X,1);else if(N===1)Z=Li(PZ(Z),J),PK(Z,J,Q,q,K,X,2);else if(N===2)Ci(Z,J,Q,q,K,X);break}}}function ji(Z){let J=Z.prev,Q=Z,q=Z.next;if(F1(J,Q,q)>=0)return!1;let K=J.x,X=Q.x,N=q.x,Y=J.y,O=Q.y,U=q.y,$=Math.min(K,X,N),B=Math.min(Y,O,U),_=Math.max(K,X,N),W=Math.max(Y,O,U),w=q.next;while(w!==J){if(w.x>=$&&w.x<=_&&w.y>=B&&w.y<=W&&kK(K,Y,X,O,N,U,w.x,w.y)&&F1(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function wi(Z,J,Q,q){let K=Z.prev,X=Z,N=Z.next;if(F1(K,X,N)>=0)return!1;let Y=K.x,O=X.x,U=N.x,$=K.y,B=X.y,_=N.y,W=Math.min(Y,O,U),w=Math.min($,B,_),L=Math.max(Y,O,U),R=Math.max($,B,_),G=bB(W,w,J,Q,q),j=bB(L,R,J,Q,q),C=Z.prevZ,T=Z.nextZ;while(C&&C.z>=G&&T&&T.z<=j){if(C.x>=W&&C.x<=L&&C.y>=w&&C.y<=R&&C!==K&&C!==N&&kK(Y,$,O,B,U,_,C.x,C.y)&&F1(C.prev,C,C.next)>=0)return!1;if(C=C.prevZ,T.x>=W&&T.x<=L&&T.y>=w&&T.y<=R&&T!==K&&T!==N&&kK(Y,$,O,B,U,_,T.x,T.y)&&F1(T.prev,T,T.next)>=0)return!1;T=T.nextZ}while(C&&C.z>=G){if(C.x>=W&&C.x<=L&&C.y>=w&&C.y<=R&&C!==K&&C!==N&&kK(Y,$,O,B,U,_,C.x,C.y)&&F1(C.prev,C,C.next)>=0)return!1;C=C.prevZ}while(T&&T.z<=j){if(T.x>=W&&T.x<=L&&T.y>=w&&T.y<=R&&T!==K&&T!==N&&kK(Y,$,O,B,U,_,T.x,T.y)&&F1(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Li(Z,J){let Q=Z;do{let q=Q.prev,K=Q.next.next;if(!c2(q,K)&&Pb(q,Q,Q.next,K)&&vK(q,K)&&vK(K,q))J.push(q.i,Q.i,K.i),fK(Q),fK(Q.next),Q=Z=K;Q=Q.next}while(Q!==Z);return PZ(Q)}function Ci(Z,J,Q,q,K,X){let N=Z;do{let Y=N.next.next;while(Y!==N.prev){if(N.i!==Y.i&&vi(N,Y)){let O=vb(N,Y);N=PZ(N,N.next),O=PZ(O,O.next),PK(N,J,Q,q,K,X,0),PK(O,J,Q,q,K,X,0);return}Y=Y.next}N=N.next}while(N!==Z)}function Ri(Z,J,Q,q){let K=[];for(let X=0,N=J.length;X<N;X++){let Y=J[X]*q,O=X<N-1?J[X+1]*q:Z.length,U=bb(Z,Y,O,q,!1);if(U===U.next)U.steiner=!0;K.push(Pi(U))}K.sort(Ei);for(let X=0;X<K.length;X++)Q=Ii(K[X],Q);return Q}function Ei(Z,J){let Q=Z.x-J.x;if(Q===0){if(Q=Z.y-J.y,Q===0){let q=(Z.next.y-Z.y)/(Z.next.x-Z.x),K=(J.next.y-J.y)/(J.next.x-J.x);Q=q-K}}return Q}function Ii(Z,J){let Q=Ti(Z,J);if(!Q)return J;let q=vb(Q,Z);return PZ(q,q.next),PZ(Q,Q.next)}function Ti(Z,J){let Q=J,q=Z.x,K=Z.y,X=-1/0,N;if(c2(Z,Q))return Q;do{if(c2(Z,Q.next))return Q.next;else if(K<=Q.y&&K>=Q.next.y&&Q.next.y!==Q.y){let B=Q.x+(K-Q.y)*(Q.next.x-Q.x)/(Q.next.y-Q.y);if(B<=q&&B>X){if(X=B,N=Q.x<Q.next.x?Q:Q.next,B===q)return N}}Q=Q.next}while(Q!==J);if(!N)return null;let Y=N,O=N.x,U=N.y,$=1/0;Q=N;do{if(q>=Q.x&&Q.x>=O&&q!==Q.x&&kb(K<U?q:X,K,O,U,K<U?X:q,K,Q.x,Q.y)){let B=Math.abs(K-Q.y)/(q-Q.x);if(vK(Q,Z)&&(B<$||B===$&&(Q.x>N.x||Q.x===N.x&&Si(N,Q))))N=Q,$=B}Q=Q.next}while(Q!==Y);return N}function Si(Z,J){return F1(Z.prev,Z,J.prev)<0&&F1(J.next,Z,Z.next)<0}function bi(Z,J,Q,q){let K=Z;do{if(K.z===0)K.z=bB(K.x,K.y,J,Q,q);K.prevZ=K.prev,K.nextZ=K.next,K=K.next}while(K!==Z);K.prevZ.nextZ=null,K.prevZ=null,ki(K)}function ki(Z){let J,Q=1;do{let q=Z,K;Z=null;let X=null;J=0;while(q){J++;let N=q,Y=0;for(let U=0;U<Q;U++)if(Y++,N=N.nextZ,!N)break;let O=Q;while(Y>0||O>0&&N){if(Y!==0&&(O===0||!N||q.z<=N.z))K=q,q=q.nextZ,Y--;else K=N,N=N.nextZ,O--;if(X)X.nextZ=K;else Z=K;K.prevZ=X,X=K}q=N}X.nextZ=null,Q*=2}while(J>1);return Z}function bB(Z,J,Q,q,K){return Z=(Z-Q)*K|0,J=(J-q)*K|0,Z=(Z|Z<<8)&16711935,Z=(Z|Z<<4)&252645135,Z=(Z|Z<<2)&858993459,Z=(Z|Z<<1)&1431655765,J=(J|J<<8)&16711935,J=(J|J<<4)&252645135,J=(J|J<<2)&858993459,J=(J|J<<1)&1431655765,Z|J<<1}function Pi(Z){let J=Z,Q=Z;do{if(J.x<Q.x||J.x===Q.x&&J.y<Q.y)Q=J;J=J.next}while(J!==Z);return Q}function kb(Z,J,Q,q,K,X,N,Y){return(K-N)*(J-Y)>=(Z-N)*(X-Y)&&(Z-N)*(q-Y)>=(Q-N)*(J-Y)&&(Q-N)*(X-Y)>=(K-N)*(q-Y)}function kK(Z,J,Q,q,K,X,N,Y){return!(Z===N&&J===Y)&&kb(Z,J,Q,q,K,X,N,Y)}function vi(Z,J){return Z.next.i!==J.i&&Z.prev.i!==J.i&&!fi(Z,J)&&(vK(Z,J)&&vK(J,Z)&&yi(Z,J)&&(F1(Z.prev,Z,J.prev)||F1(Z,J.prev,J))||c2(Z,J)&&F1(Z.prev,Z,Z.next)>0&&F1(J.prev,J,J.next)>0)}function F1(Z,J,Q){return(J.y-Z.y)*(Q.x-J.x)-(J.x-Z.x)*(Q.y-J.y)}function c2(Z,J){return Z.x===J.x&&Z.y===J.y}function Pb(Z,J,Q,q){let K=mH(F1(Z,J,Q)),X=mH(F1(Z,J,q)),N=mH(F1(Q,q,Z)),Y=mH(F1(Q,q,J));if(K!==X&&N!==Y)return!0;if(K===0&&gH(Z,Q,J))return!0;if(X===0&&gH(Z,q,J))return!0;if(N===0&&gH(Q,Z,q))return!0;if(Y===0&&gH(Q,J,q))return!0;return!1}function gH(Z,J,Q){return J.x<=Math.max(Z.x,Q.x)&&J.x>=Math.min(Z.x,Q.x)&&J.y<=Math.max(Z.y,Q.y)&&J.y>=Math.min(Z.y,Q.y)}function mH(Z){return Z>0?1:Z<0?-1:0}function fi(Z,J){let Q=Z;do{if(Q.i!==Z.i&&Q.next.i!==Z.i&&Q.i!==J.i&&Q.next.i!==J.i&&Pb(Q,Q.next,Z,J))return!0;Q=Q.next}while(Q!==Z);return!1}function vK(Z,J){return F1(Z.prev,Z,Z.next)<0?F1(Z,J,Z.next)>=0&&F1(Z,Z.prev,J)>=0:F1(Z,J,Z.prev)<0||F1(Z,Z.next,J)<0}function yi(Z,J){let Q=Z,q=!1,K=(Z.x+J.x)/2,X=(Z.y+J.y)/2;do{if(Q.y>X!==Q.next.y>X&&Q.next.y!==Q.y&&K<(Q.next.x-Q.x)*(X-Q.y)/(Q.next.y-Q.y)+Q.x)q=!q;Q=Q.next}while(Q!==Z);return q}function vb(Z,J){let Q=kB(Z.i,Z.x,Z.y),q=kB(J.i,J.x,J.y),K=Z.next,X=J.prev;return Z.next=J,J.prev=Z,Q.next=K,K.prev=Q,q.next=Q,Q.prev=q,X.next=q,q.prev=X,q}function Sb(Z,J,Q,q){let K=kB(Z,J,Q);if(!q)K.prev=K,K.next=K;else K.next=q.next,K.prev=q,q.next.prev=K,q.next=K;return K}function fK(Z){if(Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ)Z.prevZ.nextZ=Z.nextZ;if(Z.nextZ)Z.nextZ.prevZ=Z.prevZ}function kB(Z,J,Q){return{i:Z,x:J,y:Q,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function hi(Z,J,Q,q){let K=0;for(let X=J,N=Q-q;X<Q;X+=q)K+=(Z[N]-Z[X])*(Z[X+1]+Z[N+1]),N=X;return K}var fb;var yb=F(()=>{B5();fb=dH.default||dH});function cH(Z,J,Q,q,K,X,N){let Y=fb(Z,J,2);if(!Y)return;for(let U=0;U<Y.length;U+=3)X[N++]=Y[U]+K,X[N++]=Y[U+1]+K,X[N++]=Y[U+2]+K;let O=K*q;for(let U=0;U<Z.length;U+=2)Q[O]=Z[U],Q[O+1]=Z[U+1],O+=q}var PB=F(()=>{yb()});var xi,hb;var xb=F(()=>{g();PB();xi=[],hb={extension:{type:I.ShapeBuilder,name:"polygon"},build(Z,J){for(let Q=0;Q<Z.points.length;Q++)J[Q]=Z.points[Q];return!0},triangulate(Z,J,Q,q,K,X){cH(Z,xi,J,Q,q,K,X)}}});var gb;var mb=F(()=>{g();gb={extension:{type:I.ShapeBuilder,name:"rectangle"},build(Z,J){let Q=Z,q=Q.x,K=Q.y,X=Q.width,N=Q.height;if(!(X>0&&N>0))return!1;return J[0]=q,J[1]=K,J[2]=q+X,J[3]=K,J[4]=q+X,J[5]=K+N,J[6]=q,J[7]=K+N,!0},triangulate(Z,J,Q,q,K,X){let N=0;q*=Q,J[q+N]=Z[0],J[q+N+1]=Z[1],N+=Q,J[q+N]=Z[2],J[q+N+1]=Z[3],N+=Q,J[q+N]=Z[6],J[q+N+1]=Z[7],N+=Q,J[q+N]=Z[4],J[q+N+1]=Z[5],N+=Q;let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2,K[X++]=Y+1,K[X++]=Y+3,K[X++]=Y+2}}});var db;var cb=F(()=>{g();db={extension:{type:I.ShapeBuilder,name:"triangle"},build(Z,J){return J[0]=Z.x,J[1]=Z.y,J[2]=Z.x2,J[3]=Z.y2,J[4]=Z.x3,J[5]=Z.y3,!0},triangulate(Z,J,Q,q,K,X){let N=0;q*=Q,J[q+N]=Z[0],J[q+N+1]=Z[1],N+=Q,J[q+N]=Z[2],J[q+N+1]=Z[3],N+=Q,J[q+N]=Z[4],J[q+N+1]=Z[5];let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2}}});function lb(Z,J){for(let Q=0;Q<J.length;Q++){let q=J[Q];Z.addColorStop(q.offset,q.color)}}function pb(Z,J){let Q=K0.get().createCanvas(Z,J),q=Q.getContext("2d");return{canvas:Q,context:q}}function gi(Z){let J=Z[0]??{};if(typeof J==="number"||Z[1])q0("8.5.2","use options object instead"),J={type:"linear",start:{x:Z[0],y:Z[1]},end:{x:Z[2],y:Z[3]},textureSpace:Z[4],textureSize:Z[5]??K8.defaultLinearOptions.textureSize};return J}var ub,vB=class Z{constructor(...J){this.uid=_0("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let Q=gi(J);if(Q={...Q.type==="radial"?Z.defaultRadialOptions:Z.defaultLinearOptions,...NH(Q)},this._textureSize=Q.textureSize,this._wrapMode=Q.wrapMode,Q.type==="radial")this.center=Q.center,this.outerCenter=Q.outerCenter??this.center,this.innerRadius=Q.innerRadius,this.outerRadius=Q.outerRadius,this.scale=Q.scale,this.rotation=Q.rotation;else this.start=Q.start,this.end=Q.end;this.textureSpace=Q.textureSpace,this.type=Q.type,Q.colorStops.forEach((K)=>{this.addColorStop(K.offset,K.color)})}addColorStop(J,Q){return this.colorStops.push({offset:J,color:G0.shared.setValue(Q).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:J,y:Q}=this.start,{x:q,y:K}=this.end,X=q-J,N=K-Q,Y=X<0||N<0;if(this._wrapMode==="clamp-to-edge"){if(X<0){let R=J;J=q,q=R,X*=-1}if(N<0){let R=Q;Q=K,K=R,N*=-1}}let O=this.colorStops.length?this.colorStops:ub,U=this._textureSize,{canvas:$,context:B}=pb(U,1),_=!Y?B.createLinearGradient(0,0,this._textureSize,0):B.createLinearGradient(this._textureSize,0,0,0);lb(_,O),B.fillStyle=_,B.fillRect(0,0,U,1),this.texture=new p({source:new b8({resource:$,addressMode:this._wrapMode})});let W=Math.sqrt(X*X+N*N),w=Math.atan2(N,X),L=new a;if(L.scale(W/U,1),L.rotate(w),L.translate(J,Q),this.textureSpace==="local")L.scale(U,U);this.transform=L}buildGradient(){if(!this.texture)this._tick++;if(this.type==="linear")this.buildLinearGradient();else this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;let J=this.colorStops.length?this.colorStops:ub,Q=this._textureSize,{canvas:q,context:K}=pb(Q,Q),{x:X,y:N}=this.center,{x:Y,y:O}=this.outerCenter,U=this.innerRadius,$=this.outerRadius,B=Y-$,_=O-$,W=Q/($*2),w=(X-B)*W,L=(N-_)*W,R=K.createRadialGradient(w,L,U*W,(Y-B)*W,(O-_)*W,$*W);lb(R,J),K.fillStyle=J[J.length-1].color,K.fillRect(0,0,Q,Q),K.fillStyle=R,K.translate(w,L),K.rotate(this.rotation),K.scale(1,this.scale),K.translate(-w,-L),K.fillRect(0,0,Q,Q),this.texture=new p({source:new b8({resource:q,addressMode:this._wrapMode})});let G=new a;if(G.scale(1/W,1/W),G.translate(B,_),this.textureSpace==="local")G.scale(Q,Q);this.transform=G}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}},K8;var u2=F(()=>{E5();l0();I0();S2();u0();s1();$1();TD();ub=[{offset:0,color:"white"},{offset:1,color:"black"}];vB.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};vB.defaultRadialOptions={center:{x:0.5,y:0.5},innerRadius:0,outerRadius:0.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};K8=vB});function ib(Z,J,Q,q){let K=J.matrix?Z.copyFrom(J.matrix).invert():Z.identity();if(J.textureSpace==="local"){let N=Q.getBounds(di);if(J.width)N.pad(J.width);let{x:Y,y:O}=N,U=1/N.width,$=1/N.height,B=-Y*U,_=-O*$,W=K.a,w=K.b,L=K.c,R=K.d;K.a*=U,K.b*=U,K.c*=$,K.d*=$,K.tx=B*W+_*L+K.tx,K.ty=B*w+_*R+K.ty}else K.translate(J.texture.frame.x,J.texture.frame.y),K.scale(1/J.texture.source.width,1/J.texture.source.height);let X=J.texture.source.style;if(!(J.fill instanceof K8)&&X.addressMode==="clamp-to-edge")X.addressMode="repeat",X.update();if(q)K.append(mi.copyFrom(q).invert());return K}var mi,di;var ab=F(()=>{I0();n1();u2();mi=new a,di=new A0});function nb(Z,J){let{geometryData:Q,batches:q}=J;q.length=0,Q.indices.length=0,Q.vertices.length=0,Q.uvs.length=0;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];if(X.action==="texture")li(X.data,q,Q);else if(X.action==="fill"||X.action==="stroke"){let N=X.action==="stroke",Y=X.data.path.shapePath,O=X.data.style,U=X.data.hole;if(N&&U)sb(U.shapePath,O,!0,q,Q);if(U)Y.shapePrimitives[Y.shapePrimitives.length-1].holes=U.shapePath.shapePrimitives;sb(Y,O,N,q,Q)}}}function li(Z,J,Q){let q=[],K=uH.rectangle,X=ci;X.x=Z.dx,X.y=Z.dy,X.width=Z.dw,X.height=Z.dh;let N=Z.transform;if(!K.build(X,q))return;let{vertices:Y,uvs:O,indices:U}=Q,$=U.length,B=Y.length/2;if(N)EB(q,N);K.triangulate(q,Y,2,B,U,$);let _=Z.image,W=_.uvs;O.push(W.x0,W.y0,W.x1,W.y1,W.x3,W.y3,W.x2,W.y2);let w=r0.get(m2);w.indexOffset=$,w.indexSize=U.length-$,w.attributeOffset=B,w.attributeSize=Y.length/2-B,w.baseColor=Z.style,w.alpha=Z.alpha,w.texture=_,w.geometryData=Q,J.push(w)}function sb(Z,J,Q,q,K){let{vertices:X,uvs:N,indices:Y}=K;Z.shapePrimitives.forEach(({shape:O,transform:U,holes:$})=>{let B=[],_=uH[O.type];if(!_.build(O,B))return;let W=Y.length,w=X.length/2,L="triangle-list";if(U)EB(B,U);if(!Q)if($){let C=[],T=B.slice();pi($).forEach((f)=>{C.push(T.length/2),T.push(...f)}),cH(T,C,X,2,w,Y,W)}else _.triangulate(B,X,2,w,Y,W);else{let C=O.closePath??!0,T=J;if(!T.pixelLine)Rb(B,T,!1,C,X,Y);else Ib(B,C,X,Y),L="line-list"}let R=N.length/2,G=J.texture;if(G!==p.WHITE){let C=ib(ui,J,O,U);Bb(X,2,w,N,R,2,X.length/2-w,C)}else _b(N,R,2,X.length/2-w);let j=r0.get(m2);j.indexOffset=W,j.indexSize=Y.length-W,j.attributeOffset=w,j.attributeSize=X.length/2-w,j.baseColor=J.color,j.alpha=J.alpha,j.texture=G,j.geometryData=K,j.topology=L,q.push(j)})}function pi(Z){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q].shape,K=[];if(uH[q.type].build(q,K))J.push(K)}return J}var uH,ci,ui;var ob=F(()=>{g();I0();n1();Mb();Wb();u0();e6();IB();jb();Eb();Tb();xb();mb();cb();ab();PB();uH={};J0.handleByMap(I.ShapeBuilder,uH);J0.add(gb,hb,db,d2,Gb,Fb);ci=new A0,ui=new a});class tb{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class rb{constructor(){this.instructions=new YK}init(Z){this.batcher=new bK({maxTextures:Z}),this.instructions.reset()}get geometry(){return q0(DI,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}var fB=class Z{constructor(J){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=J,J.renderableGC.addManagedHash(this,"_gpuContextHash"),J.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(J){Z.defaultOptions.bezierSmoothness=J?.bezierSmoothness??Z.defaultOptions.bezierSmoothness}getContextRenderData(J){return this._graphicsDataContextHash[J.uid]||this._initContextRenderData(J)}updateGpuContext(J){let Q=this._gpuContextHash[J.uid]||this._initContext(J);if(J.dirty){if(Q)this._cleanGraphicsContextData(J);else Q=this._initContext(J);nb(J,Q);let q=J.batchMode;if(J.customShader||q==="no-batch")Q.isBatchable=!1;else if(q==="auto")Q.isBatchable=Q.geometryData.vertices.length<400;else Q.isBatchable=!0;J.dirty=!1}return Q}getGpuContext(J){return this._gpuContextHash[J.uid]||this._initContext(J)}_initContextRenderData(J){let Q=r0.get(rb,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:q,geometryData:K}=this._gpuContextHash[J.uid],X=K.vertices.length,N=K.indices.length;for(let $=0;$<q.length;$++)q[$].applyTransform=!1;let Y=Q.batcher;Y.ensureAttributeBuffer(X),Y.ensureIndexBuffer(N),Y.begin();for(let $=0;$<q.length;$++){let B=q[$];Y.add(B)}Y.finish(Q.instructions);let O=Y.geometry;O.indexBuffer.setDataWithSize(Y.indexBuffer,Y.indexSize,!0),O.buffers[0].setDataWithSize(Y.attributeBuffer.float32View,Y.attributeSize,!0);let U=Y.batches;for(let $=0;$<U.length;$++){let B=U[$];B.bindGroup=b2(B.textures.textures,B.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[J.uid]=Q,Q}_initContext(J){let Q=new tb;return Q.context=J,this._gpuContextHash[J.uid]=Q,J.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]}onGraphicsContextDestroy(J){this._cleanGraphicsContextData(J),J.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]=null}_cleanGraphicsContextData(J){let Q=this._gpuContextHash[J.uid];if(!Q.isBatchable){if(this._graphicsDataContextHash[J.uid])r0.return(this.getContextRenderData(J)),this._graphicsDataContextHash[J.uid]=null}if(Q.batches)Q.batches.forEach((q)=>{r0.return(q)})}destroy(){for(let J in this._gpuContextHash)if(this._gpuContextHash[J])this.onGraphicsContextDestroy(this._gpuContextHash[J].context)}},l2;var lH=F(()=>{g();SH();RB();ED();$1();e6();ob();fB.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"graphicsContext"};fB.defaultOptions={bezierSmoothness:0.5};l2=fB});var ii,yB=class Z{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1)}set blend(J){if(!!(this.data&1)!==J)this.data^=1}get offsets(){return!!(this.data&2)}set offsets(J){if(!!(this.data&2)!==J)this.data^=2}set cullMode(J){if(J==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=J==="front"}get cullMode(){if(!this.culling)return"none";return this.clockwiseFrontFace?"front":"back"}get culling(){return!!(this.data&4)}set culling(J){if(!!(this.data&4)!==J)this.data^=4}get depthTest(){return!!(this.data&8)}set depthTest(J){if(!!(this.data&8)!==J)this.data^=8}get depthMask(){return!!(this.data&32)}set depthMask(J){if(!!(this.data&32)!==J)this.data^=32}get clockwiseFrontFace(){return!!(this.data&16)}set clockwiseFrontFace(J){if(!!(this.data&16)!==J)this.data^=16}get blendMode(){return this._blendMode}set blendMode(J){this.blend=J!=="none",this._blendMode=J,this._blendModeId=ii[J]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(J){this.offsets=!!J,this._polygonOffset=J}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){let J=new Z;return J.depthTest=!1,J.blend=!0,J}},f1;var b6=F(()=>{ii={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10};yB.default2d=yB.for2d();f1=yB});function N4(Z,J,Q){let q=(Z>>24&255)/255;J[Q++]=(Z&255)/255*q,J[Q++]=(Z>>8&255)/255*q,J[Q++]=(Z>>16&255)/255*q,J[Q++]=q}var p2=()=>{};class eb{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach((Z)=>{r0.return(Z)}),this.batches.length=0}}class pH{constructor(Z,J){this.state=f1.for2d(),this.renderer=Z,this._adaptor=J,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(Z){let J=Z.context,Q=!!Z._gpuData,q=this.renderer.graphicsContext.updateGpuContext(J);if(q.isBatchable||Q!==q.isBatchable)return!0;return!1}addRenderable(Z,J){let Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(Z.didViewUpdate)this._rebuild(Z);if(Q.isBatchable)this._addToBatcher(Z,J);else this.renderer.renderPipes.batch.break(J),J.add(Z)}updateRenderable(Z){let Q=this._getGpuDataForRenderable(Z).batches;for(let q=0;q<Q.length;q++){let K=Q[q];K._batcher.updateElement(K)}}execute(Z){if(!Z.isRenderable)return;let J=this.renderer,Q=Z.context;if(!J.graphicsContext.getGpuContext(Q).batches.length)return;let K=Q.customShader||this._adaptor.shader;this.state.blendMode=Z.groupBlendMode;let X=K.resources.localUniforms.uniforms;X.uTransformMatrix=Z.groupTransform,X.uRound=J._roundPixels|Z._roundPixels,N4(Z.groupColorAlpha,X.uColor,0),this._adaptor.execute(this,Z)}_rebuild(Z){let J=this._getGpuDataForRenderable(Z),Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(J.destroy(),Q.isBatchable)this._updateBatchesForRenderable(Z,J)}_addToBatcher(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getGpuDataForRenderable(Z).batches;for(let K=0;K<q.length;K++){let X=q[K];Q.addToBatch(X,J)}}_getGpuDataForRenderable(Z){return Z._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(Z)}_initGpuDataForRenderable(Z){let J=new eb;return Z._gpuData[this.renderer.uid]=J,J}_updateBatchesForRenderable(Z,J){let Q=Z.context,q=this.renderer.graphicsContext.getGpuContext(Q),K=this.renderer._roundPixels|Z._roundPixels;J.batches=q.batches.map((X)=>{let N=r0.get(m2);return X.copyTo(N),N.renderable=Z,N.roundPixels=K,N})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}var Zk=F(()=>{g();b6();e6();p2();IB();pH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"graphics"}});var hB=F(()=>{g();lH();Zk();J0.add(pH);J0.add(l2)});class vZ{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(Z){this._topology=Z}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(Z){if(this.texture===Z)return;this.texture=Z,this._textureMatrixUpdateId=-1}get uvs(){let J=this.geometry.getBuffer("aUV"),Q=J.data,q=Q,K=this.texture.textureMatrix;if(!K.isSimple){if(q=this._transformedUvs,this._textureMatrixUpdateId!==K._updateID||this._uvUpdateId!==J._updateID){if(!q||q.length<Q.length)q=this._transformedUvs=new Float32Array(Q.length);this._textureMatrixUpdateId=K._updateID,this._uvUpdateId=J._updateID,K.multiplyUvs(Q,q)}}return q}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}var iH=()=>{};class xB{destroy(){}}class aH{constructor(Z,J){this.localUniforms=new p0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new M5({0:this.localUniforms}),this.renderer=Z,this._adaptor=J,this._adaptor.init()}validateRenderable(Z){let J=this._getMeshData(Z),Q=J.batched,q=Z.batched;if(J.batched=q,Q!==q)return!0;else if(q){let K=Z._geometry;if(K.indices.length!==J.indexSize||K.positions.length!==J.vertexSize)return J.indexSize=K.indices.length,J.vertexSize=K.positions.length,!0;let X=this._getBatchableMesh(Z);if(X.texture.uid!==Z._texture.uid)X._textureMatrixUpdateId=-1;return!X._batcher.checkAndUpdateTexture(X,Z._texture)}return!1}addRenderable(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getMeshData(Z);if(Z.didViewUpdate)q.indexSize=Z._geometry.indices?.length,q.vertexSize=Z._geometry.positions?.length;if(q.batched){let K=this._getBatchableMesh(Z);K.setTexture(Z._texture),K.geometry=Z._geometry,Q.addToBatch(K,J)}else Q.break(J),J.add(Z)}updateRenderable(Z){if(Z.batched){let J=this._getBatchableMesh(Z);J.setTexture(Z._texture),J.geometry=Z._geometry,J._batcher.updateElement(J)}}execute(Z){if(!Z.isRenderable)return;Z.state.blendMode=r4(Z.groupBlendMode,Z.texture._source);let J=this.localUniforms;J.uniforms.uTransformMatrix=Z.groupTransform,J.uniforms.uRound=this.renderer._roundPixels|Z._roundPixels,J.update(),N4(Z.groupColorAlpha,J.uniforms.uColor,0),this._adaptor.execute(this,Z)}_getMeshData(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new xB),Z._gpuData[this.renderer.uid].meshData||this._initMeshData(Z)}_initMeshData(Z){return Z._gpuData[this.renderer.uid].meshData={batched:Z.batched,indexSize:0,vertexSize:0},Z._gpuData[this.renderer.uid].meshData}_getBatchableMesh(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new xB),Z._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(Z)}_initBatchableMesh(Z){let J=new vZ;return J.renderable=Z,J.setTexture(Z._texture),J.transform=Z.groupTransform,J.roundPixels=this.renderer._roundPixels|Z._roundPixels,Z._gpuData[this.renderer.uid].batchableMesh=J,J}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}var Jk=F(()=>{g();I0();A9();I5();wK();p2();iH();aH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"mesh"}});var gB=F(()=>{g();Jk();J0.add(aH)});class mB{execute(Z,J){let{state:Q,renderer:q}=Z,K=J.shader||Z.defaultShader;K.resources.uTexture=J.texture._source,K.resources.uniforms=Z.localUniforms;let X=q.gl,N=Z.getBuffers(J);q.shader.bind(K),q.state.set(Q),q.geometry.bind(N.geometry,K.glProgram);let O=N.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?X.UNSIGNED_SHORT:X.UNSIGNED_INT;X.drawElements(X.TRIANGLES,J.particleChildren.length*6,O,0)}}var Qk=()=>{};function dB(Z,J=null){let Q=Z*6;if(Q>65535)J||(J=new Uint32Array(Q));else J||(J=new Uint16Array(Q));if(J.length!==Q)throw Error(`Out buffer length is incorrect, got ${J.length} and expected ${Q}`);for(let q=0,K=0;q<Q;q+=6,K+=4)J[q+0]=K+0,J[q+1]=K+1,J[q+2]=K+2,J[q+3]=K+0,J[q+4]=K+2,J[q+5]=K+3;return J}var qk=()=>{};function Xk(Z){return{dynamicUpdate:Kk(Z,!0),staticUpdate:Kk(Z,!1)}}function Kk(Z,J){let Q=[];Q.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let q=0;for(let X in Z){let N=Z[X];if(J!==N.dynamic)continue;Q.push(`offset = index + ${q}`),Q.push(N.code);let Y=q8(N.format);q+=Y.stride/4}Q.push(`
            index += stride * 4;
        }
    `),Q.unshift(`
        var stride = ${q};
    `);let K=Q.join(`
`);return Function("ps","f32v","u32v",K)}var zk=F(()=>{bZ()});class cB{constructor(Z){this._size=0,this._generateParticleUpdateCache={};let J=this._size=Z.size??1000,Q=Z.properties,q=0,K=0;for(let U in Q){let $=Q[U],B=q8($.format);if($.dynamic)K+=B.stride;else q+=B.stride}this._dynamicStride=K/4,this._staticStride=q/4,this.staticAttributeBuffer=new t4(J*4*q),this.dynamicAttributeBuffer=new t4(J*4*K),this.indexBuffer=dB(J);let X=new T6,N=0,Y=0;this._staticBuffer=new v1({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:F0.VERTEX|F0.COPY_DST}),this._dynamicBuffer=new v1({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:F0.VERTEX|F0.COPY_DST});for(let U in Q){let $=Q[U],B=q8($.format);if($.dynamic)X.addAttribute($.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:N*4,format:$.format}),N+=B.size;else X.addAttribute($.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:Y*4,format:$.format}),Y+=B.size}X.addIndex(this.indexBuffer);let O=this.getParticleUpdate(Q);this._dynamicUpload=O.dynamicUpdate,this._staticUpload=O.staticUpdate,this.geometry=X}getParticleUpdate(Z){let J=ai(Z);if(this._generateParticleUpdateCache[J])return this._generateParticleUpdateCache[J];return this._generateParticleUpdateCache[J]=this.generateParticleUpdate(Z),this._generateParticleUpdateCache[J]}generateParticleUpdate(Z){return Xk(Z)}update(Z,J){if(Z.length>this._size)J=!0,this._size=Math.max(Z.length,this._size*1.5|0),this.staticAttributeBuffer=new t4(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new t4(this._size*this._dynamicStride*4*4),this.indexBuffer=dB(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0);let Q=this.dynamicAttributeBuffer;if(this._dynamicUpload(Z,Q.float32View,Q.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,Z.length*this._dynamicStride*4,!0),J){let q=this.staticAttributeBuffer;this._staticUpload(Z,q.float32View,q.uint32View),this._staticBuffer.setDataWithSize(q.float32View,Z.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function ai(Z){let J=[];for(let Q in Z){let q=Z[Q];J.push(Q,q.code,q.dynamic?"d":"s")}return J.join("_")}var Nk=F(()=>{$9();e4();P2();bZ();NB();qk();zk()});var Hk=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`;var Yk=()=>{};var Vk=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`;var Ok=()=>{};var uB=`
struct ParticleUniforms {
  uTranslationMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uRound:f32,
  uResolution:vec2<f32>,
};

fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
{
  return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   var position = vec4((uniforms.uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

   if(uniforms.uRound == 1.0) {
       position = vec4(roundPixels(position.xy, uniforms.uResolution), position.zw);
   }

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;var Uk=()=>{};var lB;var Ak=F(()=>{E5();I0();Q4();J7();S6();u0();FZ();Yk();Ok();Uk();lB=class lB extends T1{constructor(){let Z=z5.from({vertex:Vk,fragment:Hk}),J=N5.from({fragment:{source:uB,entryPoint:"mainFragment"},vertex:{source:uB,entryPoint:"mainVertex"}});super({glProgram:Z,gpuProgram:J,resources:{uTexture:p.WHITE.source,uSampler:new J8({}),uniforms:{uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new G0(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}});class yK{constructor(Z,J){this.state=f1.for2d(),this.localUniforms=new p0({uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=Z,this.adaptor=J,this.defaultShader=new lB,this.state=f1.for2d()}validateRenderable(Z){return!1}addRenderable(Z,J){this.renderer.renderPipes.batch.break(J),J.add(Z)}getBuffers(Z){return Z._gpuData[this.renderer.uid]||this._initBuffer(Z)}_initBuffer(Z){return Z._gpuData[this.renderer.uid]=new cB({size:Z.particleChildren.length,properties:Z._properties}),Z._gpuData[this.renderer.uid]}updateRenderable(Z){}execute(Z){let J=Z.particleChildren;if(J.length===0)return;let Q=this.renderer,q=this.getBuffers(Z);Z.texture||(Z.texture=J[0].texture);let K=this.state;q.update(J,Z._childrenDirty),Z._childrenDirty=!1,K.blendMode=r4(Z.blendMode,Z.texture._source);let X=this.localUniforms.uniforms,N=X.uTranslationMatrix;Z.worldTransform.copyTo(N),N.prepend(Q.globalUniforms.globalUniformData.projectionMatrix),X.uResolution=Q.globalUniforms.globalUniformData.resolution,X.uRound=Q._roundPixels|Z._roundPixels,N4(Z.groupColorAlpha,X.uColor,0),this.adaptor.execute(this,Z)}destroy(){if(this.renderer=null,this.defaultShader)this.defaultShader.destroy(),this.defaultShader=null}}var pB=F(()=>{I0();I5();wK();b6();p2();Nk();Ak()});var sH;var $k=F(()=>{g();Qk();pB();sH=class sH extends yK{constructor(Z){super(Z,new mB)}};sH.extension={type:[I.WebGLPipes],name:"particle"}});class iB{execute(Z,J){let Q=Z.renderer,q=J.shader||Z.defaultShader;q.groups[0]=Q.renderPipes.uniformBatch.getUniformBindGroup(Z.localUniforms,!0),q.groups[1]=Q.texture.getTextureBindGroup(J.texture);let K=Z.state,X=Z.getBuffers(J);Q.encoder.draw({geometry:X.geometry,shader:J.shader||Z.defaultShader,state:K,size:J.particleChildren.length*6})}}var Dk=()=>{};var nH;var Bk=F(()=>{g();Dk();pB();nH=class nH extends yK{constructor(Z){super(Z,new iB)}};nH.extension={type:[I.WebGPUPipes],name:"particle"}});var aB=F(()=>{g();$k();Bk();J0.add(sH);J0.add(nH)});function hK(Z,J){let{texture:Q,bounds:q}=Z,K=J._style._getFinalPadding();GH(q,J._anchor,Q);let X=J._anchor._x*K*2,N=J._anchor._y*K*2;q.minX-=K-X,q.minY-=K-N,q.maxX-=K-X,q.maxY-=K-N}var sB=F(()=>{eD()});class Q7{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}var xK=()=>{};var nB;var _k=F(()=>{xK();nB=class nB extends Q7{constructor(Z){super();this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{canvasText:Z}=this._renderer;if(Z.getReferenceCount(this.currentKey)>0)Z.decreaseReferenceCount(this.currentKey);else if(this.texture)Z.returnTexture(this.texture);this._renderer.runners.resolutionChange.remove(this),this._renderer=null}}});class oH{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return Z._didTextUpdate}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z);Z._didTextUpdate=!1,hK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}_updateGpuText(Z){let J=this._getGpuText(Z);if(J.texture)this._renderer.canvasText.decreaseReferenceCount(J.currentKey);Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,J.texture=this._renderer.canvasText.getManagedTexture(Z),J.currentKey=Z.styleKey}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new nB(this._renderer);return J.currentKey="--",J.renderable=Z,J.transform=Z.groupTransform,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var Mk=F(()=>{g();sB();_k();oH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"text"}});class M9{constructor(Z,J){if(this.uid=_0("fillPattern"),this._tick=0,this.transform=new a,this.texture=Z,this.transform.scale(1/Z.frame.width,1/Z.frame.height),J)Z.source.style.addressModeU=Wk[J].addressModeU,Z.source.style.addressModeV=Wk[J].addressModeV}setTransform(Z){let J=this.texture;this.transform.copyFrom(Z),this.transform.invert(),this.transform.scale(1/J.frame.width,1/J.frame.height),this._tick++}get texture(){return this._texture}set texture(Z){if(this._texture===Z)return;this._texture=Z,this._tick++}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Wk;var tH=F(()=>{I0();s1();Wk={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}});var Fk=uQ((X90,Gk)=>{Gk.exports=ni;var oB={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},si=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function ni(Z){var J=[];return Z.replace(si,function(Q,q,K){var X=q.toLowerCase();if(K=ti(K),X=="m"&&K.length>2)J.push([q].concat(K.splice(0,2))),X="l",q=q=="m"?"l":"L";while(!0){if(K.length==oB[X])return K.unshift(q),J.push(K);if(K.length<oB[X])throw Error("malformed path data");J.push([q].concat(K.splice(0,oB[X])))}}),J}var oi=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function ti(Z){var J=Z.match(oi);return J?J.map(Number):[]}});function wk(Z,J){let Q=jk.default(Z),q=[],K=null,X=0,N=0;for(let Y=0;Y<Q.length;Y++){let O=Q[Y],U=O[0],$=O;switch(U){case"M":X=$[1],N=$[2],J.moveTo(X,N);break;case"m":X+=$[1],N+=$[2],J.moveTo(X,N);break;case"H":X=$[1],J.lineTo(X,N);break;case"h":X+=$[1],J.lineTo(X,N);break;case"V":N=$[1],J.lineTo(X,N);break;case"v":N+=$[1],J.lineTo(X,N);break;case"L":X=$[1],N=$[2],J.lineTo(X,N);break;case"l":X+=$[1],N+=$[2],J.lineTo(X,N);break;case"C":X=$[5],N=$[6],J.bezierCurveTo($[1],$[2],$[3],$[4],X,N);break;case"c":J.bezierCurveTo(X+$[1],N+$[2],X+$[3],N+$[4],X+$[5],N+$[6]),X+=$[5],N+=$[6];break;case"S":X=$[3],N=$[4],J.bezierCurveToShort($[1],$[2],X,N);break;case"s":J.bezierCurveToShort(X+$[1],N+$[2],X+$[3],N+$[4]),X+=$[3],N+=$[4];break;case"Q":X=$[3],N=$[4],J.quadraticCurveTo($[1],$[2],X,N);break;case"q":J.quadraticCurveTo(X+$[1],N+$[2],X+$[3],N+$[4]),X+=$[3],N+=$[4];break;case"T":X=$[1],N=$[2],J.quadraticCurveToShort(X,N);break;case"t":X+=$[1],N+=$[2],J.quadraticCurveToShort(X,N);break;case"A":X=$[6],N=$[7],J.arcToSvg($[1],$[2],$[3],$[4],$[5],X,N);break;case"a":X+=$[6],N+=$[7],J.arcToSvg($[1],$[2],$[3],$[4],$[5],X,N);break;case"Z":case"z":if(J.closePath(),q.length>0)if(K=q.pop(),K)X=K.startX,N=K.startY;else X=0,N=0;K=null;break;default:e(`Unknown SVG path command: ${U}`)}if(U!=="Z"&&U!=="z"){if(K===null)K={startX:X,startY:N},q.push(K)}}return J}var jk;var Lk=F(()=>{c0();jk=cQ(Fk(),1)});class rH{constructor(Z=0,J=0,Q=0){this.type="circle",this.x=Z,this.y=J,this.radius=Q}clone(){return new rH(this.x,this.y,this.radius)}contains(Z,J){if(this.radius<=0)return!1;let Q=this.radius*this.radius,q=this.x-Z,K=this.y-J;return q*=q,K*=K,q+K<=Q}strokeContains(Z,J,Q,q=0.5){if(this.radius===0)return!1;let K=this.x-Z,X=this.y-J,N=this.radius,Y=(1-q)*Q,O=Math.sqrt(K*K+X*X);return O<=N+Y&&O>N-(Q-Y)}getBounds(Z){return Z||(Z=new A0),Z.x=this.x-this.radius,Z.y=this.y-this.radius,Z.width=this.radius*2,Z.height=this.radius*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.radius=Z.radius,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}var Ck=F(()=>{n1()});class eH{constructor(Z=0,J=0,Q=0,q=0){this.type="ellipse",this.x=Z,this.y=J,this.halfWidth=Q,this.halfHeight=q}clone(){return new eH(this.x,this.y,this.halfWidth,this.halfHeight)}contains(Z,J){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let Q=(Z-this.x)/this.halfWidth,q=(J-this.y)/this.halfHeight;return Q*=Q,q*=q,Q+q<=1}strokeContains(Z,J,Q,q=0.5){let{halfWidth:K,halfHeight:X}=this;if(K<=0||X<=0)return!1;let N=Q*(1-q),Y=Q-N,O=K-Y,U=X-Y,$=K+N,B=X+N,_=Z-this.x,W=J-this.y,w=_*_/(O*O)+W*W/(U*U),L=_*_/($*$)+W*W/(B*B);return w>1&&L<=1}getBounds(Z){return Z||(Z=new A0),Z.x=this.x-this.halfWidth,Z.y=this.y-this.halfHeight,Z.width=this.halfWidth*2,Z.height=this.halfHeight*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.halfWidth=Z.halfWidth,this.halfHeight=Z.halfHeight,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}var Rk=F(()=>{n1()});function Ek(Z,J,Q,q,K,X){let N=Z-Q,Y=J-q,O=K-Q,U=X-q,$=N*O+Y*U,B=O*O+U*U,_=-1;if(B!==0)_=$/B;let W,w;if(_<0)W=Q,w=q;else if(_>1)W=K,w=X;else W=Q+_*O,w=q+_*U;let L=Z-W,R=J-w;return L*L+R*R}var Ik=()=>{};class i2{constructor(...Z){this.type="polygon";let J=Array.isArray(Z[0])?Z[0]:Z;if(typeof J[0]!=="number"){let Q=[];for(let q=0,K=J.length;q<K;q++)Q.push(J[q].x,J[q].y);J=Q}this.points=J,this.closePath=!0}isClockwise(){let Z=0,J=this.points,Q=J.length;for(let q=0;q<Q;q+=2){let K=J[q],X=J[q+1],N=J[(q+2)%Q],Y=J[(q+3)%Q];Z+=(N-K)*(Y+X)}return Z<0}containsPolygon(Z){let J=this.getBounds(ri),Q=Z.getBounds(ei);if(!J.containsRect(Q))return!1;let q=Z.points;for(let K=0;K<q.length;K+=2){let X=q[K],N=q[K+1];if(!this.contains(X,N))return!1}return!0}clone(){let Z=this.points.slice(),J=new i2(Z);return J.closePath=this.closePath,J}contains(Z,J){let Q=!1,q=this.points.length/2;for(let K=0,X=q-1;K<q;X=K++){let N=this.points[K*2],Y=this.points[K*2+1],O=this.points[X*2],U=this.points[X*2+1];if(Y>J!==U>J&&Z<(O-N)*((J-Y)/(U-Y))+N)Q=!Q}return Q}strokeContains(Z,J,Q,q=0.5){let K=Q*Q,X=K*(1-q),N=K-X,{points:Y}=this,O=Y.length-(this.closePath?0:2);for(let U=0;U<O;U+=2){let $=Y[U],B=Y[U+1],_=Y[(U+2)%Y.length],W=Y[(U+3)%Y.length],w=Ek(Z,J,$,B,_,W),L=Math.sign((_-$)*(J-B)-(W-B)*(Z-$));if(w<=(L<0?N:X))return!0}return!1}getBounds(Z){Z||(Z=new A0);let J=this.points,Q=1/0,q=-1/0,K=1/0,X=-1/0;for(let N=0,Y=J.length;N<Y;N+=2){let O=J[N],U=J[N+1];Q=O<Q?O:Q,q=O>q?O:q,K=U<K?U:K,X=U>X?U:X}return Z.x=Q,Z.width=q-Q,Z.y=K,Z.height=X-K,Z}copyFrom(Z){return this.points=Z.points.slice(),this.closePath=Z.closePath,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((Z,J)=>`${Z}, ${J}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return q0("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return q0("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}var ri,ei;var Tk=F(()=>{$1();Ik();n1()});class JY{constructor(Z=0,J=0,Q=0,q=0,K=20){this.type="roundedRectangle",this.x=Z,this.y=J,this.width=Q,this.height=q,this.radius=K}getBounds(Z){return Z||(Z=new A0),Z.x=this.x,Z.y=this.y,Z.width=this.width,Z.height=this.height,Z}clone(){return new JY(this.x,this.y,this.width,this.height,this.radius)}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<=this.x+this.width){if(J>=this.y&&J<=this.y+this.height){let Q=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(J>=this.y+Q&&J<=this.y+this.height-Q||Z>=this.x+Q&&Z<=this.x+this.width-Q)return!0;let q=Z-(this.x+Q),K=J-(this.y+Q),X=Q*Q;if(q*q+K*K<=X)return!0;if(q=Z-(this.x+this.width-Q),q*q+K*K<=X)return!0;if(K=J-(this.y+this.height-Q),q*q+K*K<=X)return!0;if(q=Z-(this.x+Q),q*q+K*K<=X)return!0}}return!1}strokeContains(Z,J,Q,q=0.5){let{x:K,y:X,width:N,height:Y,radius:O}=this,U=Q*(1-q),$=Q-U,B=K+O,_=X+O,W=N-O*2,w=Y-O*2,L=K+N,R=X+Y;if((Z>=K-U&&Z<=K+$||Z>=L-$&&Z<=L+U)&&J>=_&&J<=_+w)return!0;if((J>=X-U&&J<=X+$||J>=R-$&&J<=R+U)&&Z>=B&&Z<=B+W)return!0;return Z<B&&J<_&&ZY(Z,J,B,_,O,$,U)||Z>L-O&&J<_&&ZY(Z,J,L-O,_,O,$,U)||Z>L-O&&J>R-O&&ZY(Z,J,L-O,R-O,O,$,U)||Z<B&&J>R-O&&ZY(Z,J,B,R-O,O,$,U)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var ZY=(Z,J,Q,q,K,X,N)=>{let Y=Z-Q,O=J-q,U=Math.sqrt(Y*Y+O*O);return U>=K-X&&U<=K+N};var Sk=F(()=>{n1()});function qY(Z,J,Q,q,K,X,N,Y,O,U){let B=Math.min(0.99,Math.max(0,U??l2.defaultOptions.bezierSmoothness)),_=(Ja-B)/1;return _*=_,Qa(J,Q,q,K,X,N,Y,O,Z,_),Z}function Qa(Z,J,Q,q,K,X,N,Y,O,U){rB(Z,J,Q,q,K,X,N,Y,O,U,0),O.push(N,Y)}function rB(Z,J,Q,q,K,X,N,Y,O,U,$){if($>Za)return;let B=Math.PI,_=(Z+Q)/2,W=(J+q)/2,w=(Q+K)/2,L=(q+X)/2,R=(K+N)/2,G=(X+Y)/2,j=(_+w)/2,C=(W+L)/2,T=(w+R)/2,v=(L+G)/2,f=(j+T)/2,b=(C+v)/2;if($>0){let m=N-Z,u=Y-J,l=Math.abs((Q-N)*u-(q-Y)*m),o=Math.abs((K-N)*u-(X-Y)*m),N0,j0;if(l>QY&&o>QY){if((l+o)*(l+o)<=U*(m*m+u*u)){if(a2<tB){O.push(f,b);return}let z0=Math.atan2(X-q,K-Q);if(N0=Math.abs(z0-Math.atan2(q-J,Q-Z)),j0=Math.abs(Math.atan2(Y-X,N-K)-z0),N0>=B)N0=2*B-N0;if(j0>=B)j0=2*B-j0;if(N0+j0<a2){O.push(f,b);return}if(fZ!==0){if(N0>fZ){O.push(Q,q);return}if(j0>fZ){O.push(K,X);return}}}}else if(l>QY){if(l*l<=U*(m*m+u*u)){if(a2<tB){O.push(f,b);return}if(N0=Math.abs(Math.atan2(X-q,K-Q)-Math.atan2(q-J,Q-Z)),N0>=B)N0=2*B-N0;if(N0<a2){O.push(Q,q),O.push(K,X);return}if(fZ!==0){if(N0>fZ){O.push(Q,q);return}}}}else if(o>QY){if(o*o<=U*(m*m+u*u)){if(a2<tB){O.push(f,b);return}if(N0=Math.abs(Math.atan2(Y-X,N-K)-Math.atan2(X-q,K-Q)),N0>=B)N0=2*B-N0;if(N0<a2){O.push(Q,q),O.push(K,X);return}if(fZ!==0){if(N0>fZ){O.push(K,X);return}}}}else if(m=f-(Z+N)/2,u=b-(J+Y)/2,m*m+u*u<=U){O.push(f,b);return}}rB(Z,J,_,W,j,C,f,b,O,U,$+1),rB(f,b,T,v,R,G,N,Y,O,U,$+1)}var Za=8,QY=0.00000011920929,Ja=1,tB=0.01,a2=0,fZ=0;var eB=F(()=>{lH()});function kk(Z,J,Q,q,K,X,N,Y){let U=Math.min(0.99,Math.max(0,Y??l2.defaultOptions.bezierSmoothness)),$=(Xa-U)/1;return $*=$,Na(J,Q,q,K,X,N,Z,$),Z}function Na(Z,J,Q,q,K,X,N,Y){Z_(N,Z,J,Q,q,K,X,Y,0),N.push(K,X)}function Z_(Z,J,Q,q,K,X,N,Y,O){if(O>qa)return;let U=Math.PI,$=(J+q)/2,B=(Q+K)/2,_=(q+X)/2,W=(K+N)/2,w=($+_)/2,L=(B+W)/2,R=X-J,G=N-Q,j=Math.abs((q-X)*G-(K-N)*R);if(j>Ka){if(j*j<=Y*(R*R+G*G)){if(bk<za){Z.push(w,L);return}let C=Math.abs(Math.atan2(N-K,X-q)-Math.atan2(K-Q,q-J));if(C>=U)C=2*U-C;if(C<bk){Z.push(w,L);return}}}else if(R=w-(J+X)/2,G=L-(Q+N)/2,R*R+G*G<=Y){Z.push(w,L);return}Z_(Z,J,Q,$,B,w,L,Y,O+1),Z_(Z,w,L,_,W,X,N,Y,O+1)}var qa=8,Ka=0.00000011920929,Xa=1,za=0.01,bk=0;var Pk=F(()=>{lH()});function KY(Z,J,Q,q,K,X,N,Y){let O=Math.abs(K-X);if(!N&&K>X)O=2*Math.PI-O;else if(N&&X>K)O=2*Math.PI-O;Y||(Y=Math.max(6,Math.floor(6*Math.pow(q,0.3333333333333333)*(O/Math.PI)))),Y=Math.max(Y,3);let U=O/Y,$=K;U*=N?-1:1;for(let B=0;B<Y+1;B++){let _=Math.cos($),W=Math.sin($),w=J+_*q,L=Q+W*q;Z.push(w,L),$+=U}}var J_=()=>{};function vk(Z,J,Q,q,K,X){let N=Z[Z.length-2],O=Z[Z.length-1]-Q,U=N-J,$=K-Q,B=q-J,_=Math.abs(O*B-U*$);if(_<0.00000001||X===0){if(Z[Z.length-2]!==J||Z[Z.length-1]!==Q)Z.push(J,Q);return}let W=O*O+U*U,w=$*$+B*B,L=O*$+U*B,R=X*Math.sqrt(W)/_,G=X*Math.sqrt(w)/_,j=R*L/W,C=G*L/w,T=R*B+G*U,v=R*$+G*O,f=U*(G+j),b=O*(G+j),m=B*(R+C),u=$*(R+C),l=Math.atan2(b-v,f-T),o=Math.atan2(u-v,m-T);KY(Z,T+J,v+Q,X,l,o,U*$>B*O)}var fk=F(()=>{J_()});function Ha(Z,J){let Q=J===-1.5707963267948966?-0.551915024494:1.3333333333333333*Math.tan(J/4),q=J===1.5707963267948966?0.551915024494:Q,K=Math.cos(Z),X=Math.sin(Z),N=Math.cos(Z+J),Y=Math.sin(Z+J);return[{x:K-X*q,y:X+K*q},{x:N+Y*q,y:Y-N*q},{x:N,y:Y}]}function hk(Z,J,Q,q,K,X,N,Y=0,O=0,U=0){if(X===0||N===0)return;let $=Math.sin(Y*gK/360),B=Math.cos(Y*gK/360),_=B*(J-q)/2+$*(Q-K)/2,W=-$*(J-q)/2+B*(Q-K)/2;if(_===0&&W===0)return;X=Math.abs(X),N=Math.abs(N);let w=Math.pow(_,2)/Math.pow(X,2)+Math.pow(W,2)/Math.pow(N,2);if(w>1)X*=Math.sqrt(w),N*=Math.sqrt(w);Ya(J,Q,q,K,X,N,O,U,$,B,_,W,Q_);let{ang1:L,ang2:R}=Q_,{centerX:G,centerY:j}=Q_,C=Math.abs(R)/(gK/4);if(Math.abs(1-C)<0.0000001)C=1;let T=Math.max(Math.ceil(C),1);R/=T;let v=Z[Z.length-2],f=Z[Z.length-1],b={x:0,y:0};for(let m=0;m<T;m++){let u=Ha(L,R),{x:l,y:o}=q_(u[0],X,N,B,$,G,j,b),{x:N0,y:j0}=q_(u[1],X,N,B,$,G,j,b),{x:z0,y:X1}=q_(u[2],X,N,B,$,G,j,b);qY(Z,v,f,l,o,N0,j0,z0,X1),v=z0,f=X1,L+=R}}var gK,Q_,q_=({x:Z,y:J},Q,q,K,X,N,Y,O)=>{Z*=Q,J*=q;let U=K*Z-X*J,$=X*Z+K*J;return O.x=U+N,O.y=$+Y,O},yk=(Z,J,Q,q)=>{let K=Z*q-J*Q<0?-1:1,X=Z*Q+J*q;if(X>1)X=1;if(X<-1)X=-1;return K*Math.acos(X)},Ya=(Z,J,Q,q,K,X,N,Y,O,U,$,B,_)=>{let W=Math.pow(K,2),w=Math.pow(X,2),L=Math.pow($,2),R=Math.pow(B,2),G=W*w-W*R-w*L;if(G<0)G=0;G/=W*R+w*L,G=Math.sqrt(G)*(N===Y?-1:1);let j=G*K/X*B,C=G*-X/K*$,T=U*j-O*C+(Z+Q)/2,v=O*j+U*C+(J+q)/2,f=($-j)/K,b=(B-C)/X,m=(-$-j)/K,u=(-B-C)/X,l=yk(1,0,f,b),o=yk(f,b,m,u);if(Y===0&&o>0)o-=gK;if(Y===1&&o<0)o+=gK;_.centerX=T,_.centerY=v,_.ang1=l,_.ang2=o};var xk=F(()=>{eB();gK=Math.PI*2,Q_={centerX:0,centerY:0,ang1:0,ang2:0}});function gk(Z,J,Q){let q=(N,Y)=>{let O=Y.x-N.x,U=Y.y-N.y,$=Math.sqrt(O*O+U*U),B=O/$,_=U/$;return{len:$,nx:B,ny:_}},K=(N,Y)=>{if(N===0)Z.moveTo(Y.x,Y.y);else Z.lineTo(Y.x,Y.y)},X=J[J.length-1];for(let N=0;N<J.length;N++){let Y=J[N%J.length],O=Y.radius??Q;if(O<=0){K(N,Y),X=Y;continue}let U=J[(N+1)%J.length],$=q(Y,X),B=q(Y,U);if($.len<0.0001||B.len<0.0001){K(N,Y),X=Y;continue}let _=Math.asin($.nx*B.ny-$.ny*B.nx),W=1,w=!1;if($.nx*B.nx-$.ny*-B.ny<0)if(_<0)_=Math.PI+_;else _=Math.PI-_,W=-1,w=!0;else if(_>0)W=-1,w=!0;let L=_/2,R,G=Math.abs(Math.cos(L)*O/Math.sin(L));if(G>Math.min($.len/2,B.len/2))G=Math.min($.len/2,B.len/2),R=Math.abs(G*Math.sin(L)/Math.cos(L));else R=O;let j=Y.x+B.nx*G+-B.ny*R*W,C=Y.y+B.ny*G+B.nx*R*W,T=Math.atan2($.ny,$.nx)+Math.PI/2*W,v=Math.atan2(B.ny,B.nx)-Math.PI/2*W;if(N===0)Z.moveTo(j+Math.cos(T)*R,C+Math.sin(T)*R);Z.arc(j,C,R,T,v,w),X=Y}}function mk(Z,J,Q,q){let K=(Y,O)=>Math.sqrt((Y.x-O.x)**2+(Y.y-O.y)**2),X=(Y,O,U)=>({x:Y.x+(O.x-Y.x)*U,y:Y.y+(O.y-Y.y)*U}),N=J.length;for(let Y=0;Y<N;Y++){let O=J[(Y+1)%N],U=O.radius??Q;if(U<=0){if(Y===0)Z.moveTo(O.x,O.y);else Z.lineTo(O.x,O.y);continue}let $=J[Y],B=J[(Y+2)%N],_=K($,O),W;if(_<0.0001)W=O;else{let R=Math.min(_/2,U);W=X(O,$,R/_)}let w=K(B,O),L;if(w<0.0001)L=O;else{let R=Math.min(w/2,U);L=X(O,B,R/w)}if(Y===0)Z.moveTo(W.x,W.y);else Z.lineTo(W.x,W.y);Z.quadraticCurveTo(O.x,O.y,L.x,L.y,q)}}var dk=()=>{};class K_{constructor(Z){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new e0,this._graphicsPath2D=Z,this.signed=Z.checkForHoles}moveTo(Z,J){return this.startPoly(Z,J),this}lineTo(Z,J){this._ensurePoly();let Q=this._currentPoly.points,q=Q[Q.length-2],K=Q[Q.length-1];if(q!==Z||K!==J)Q.push(Z,J);return this}arc(Z,J,Q,q,K,X){this._ensurePoly(!1);let N=this._currentPoly.points;return KY(N,Z,J,Q,q,K,X),this}arcTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly.points;return vk(X,Z,J,Q,q,K),this}arcToSvg(Z,J,Q,q,K,X,N){let Y=this._currentPoly.points;return hk(Y,this._currentPoly.lastX,this._currentPoly.lastY,X,N,Z,J,Q,q,K),this}bezierCurveTo(Z,J,Q,q,K,X,N){this._ensurePoly();let Y=this._currentPoly;return qY(this._currentPoly.points,Y.lastX,Y.lastY,Z,J,Q,q,K,X,N),this}quadraticCurveTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly;return kk(this._currentPoly.points,X.lastX,X.lastY,Z,J,Q,q,K),this}closePath(){return this.endPoly(!0),this}addPath(Z,J){if(this.endPoly(),J&&!J.isIdentity())Z=Z.clone(!0),Z.transform(J);let Q=this.shapePrimitives,q=Q.length;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];this[X.action](...X.data)}if(Z.checkForHoles&&Q.length-q>1){let K=null;for(let X=q;X<Q.length;X++){let N=Q[X];if(N.shape.type==="polygon"){let Y=N.shape,O=K?.shape;if(O&&O.containsPolygon(Y))K.holes||(K.holes=[]),K.holes.push(N),Q.copyWithin(X,X+1),Q.length--,X--;else K=N}}}return this}finish(Z=!1){this.endPoly(Z)}rect(Z,J,Q,q,K){return this.drawShape(new A0(Z,J,Q,q),K),this}circle(Z,J,Q,q){return this.drawShape(new rH(Z,J,Q),q),this}poly(Z,J,Q){let q=new i2(Z);return q.closePath=J,this.drawShape(q,Q),this}regularPoly(Z,J,Q,q,K=0,X){q=Math.max(q|0,3);let N=-1*Math.PI/2+K,Y=Math.PI*2/q,O=[];for(let U=0;U<q;U++){let $=N-U*Y;O.push(Z+Q*Math.cos($),J+Q*Math.sin($))}return this.poly(O,!0,X),this}roundPoly(Z,J,Q,q,K,X=0,N){if(q=Math.max(q|0,3),K<=0)return this.regularPoly(Z,J,Q,q,X);let Y=Q*Math.sin(Math.PI/q)-0.001;K=Math.min(K,Y);let O=-1*Math.PI/2+X,U=Math.PI*2/q,$=(q-2)*Math.PI/q/2;for(let B=0;B<q;B++){let _=B*U+O,W=Z+Q*Math.cos(_),w=J+Q*Math.sin(_),L=_+Math.PI+$,R=_-Math.PI-$,G=W+K*Math.cos(L),j=w+K*Math.sin(L),C=W+K*Math.cos(R),T=w+K*Math.sin(R);if(B===0)this.moveTo(G,j);else this.lineTo(G,j);this.quadraticCurveTo(W,w,C,T,N)}return this.closePath()}roundShape(Z,J,Q=!1,q){if(Z.length<3)return this;if(Q)mk(this,Z,J,q);else gk(this,Z,J);return this.closePath()}filletRect(Z,J,Q,q,K){if(K===0)return this.rect(Z,J,Q,q);let X=Math.min(Q,q)/2,N=Math.min(X,Math.max(-X,K)),Y=Z+Q,O=J+q,U=N<0?-N:0,$=Math.abs(N);return this.moveTo(Z,J+$).arcTo(Z+U,J+U,Z+$,J,$).lineTo(Y-$,J).arcTo(Y-U,J+U,Y,J+$,$).lineTo(Y,O-$).arcTo(Y-U,O-U,Z+Q-$,O,$).lineTo(Z+$,O).arcTo(Z+U,O-U,Z,O-$,$).closePath()}chamferRect(Z,J,Q,q,K,X){if(K<=0)return this.rect(Z,J,Q,q);let N=Math.min(K,Math.min(Q,q)/2),Y=Z+Q,O=J+q,U=[Z+N,J,Y-N,J,Y,J+N,Y,O-N,Y-N,O,Z+N,O,Z,O-N,Z,J+N];for(let $=U.length-1;$>=2;$-=2)if(U[$]===U[$-2]&&U[$-1]===U[$-3])U.splice($-1,2);return this.poly(U,!0,X)}ellipse(Z,J,Q,q,K){return this.drawShape(new eH(Z,J,Q,q),K),this}roundRect(Z,J,Q,q,K,X){return this.drawShape(new JY(Z,J,Q,q,K),X),this}drawShape(Z,J){return this.endPoly(),this.shapePrimitives.push({shape:Z,transform:J}),this}startPoly(Z,J){let Q=this._currentPoly;if(Q)this.endPoly();return Q=new i2,Q.points.push(Z,J),this._currentPoly=Q,this}endPoly(Z=!1){let J=this._currentPoly;if(J&&J.points.length>2)J.closePath=Z,this.shapePrimitives.push({shape:J});return this._currentPoly=null,this}_ensurePoly(Z=!0){if(this._currentPoly)return;if(this._currentPoly=new i2,Z){let J=this.shapePrimitives[this.shapePrimitives.length-1];if(J){let Q=J.shape.x,q=J.shape.y;if(J.transform&&!J.transform.isIdentity()){let K=J.transform,X=Q;Q=K.a*Q+K.c*q+K.tx,q=K.b*X+K.d*q+K.ty}this._currentPoly.points.push(Q,q)}else this._currentPoly.points.push(0,0)}}buildPath(){let Z=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let J=0;J<Z.instructions.length;J++){let Q=Z.instructions[J];this[Q.action](...Q.data)}this.finish()}get bounds(){let Z=this._bounds;Z.clear();let J=this.shapePrimitives;for(let Q=0;Q<J.length;Q++){let q=J[Q],K=q.shape.getBounds(Va);if(q.transform)Z.addRect(K,q.transform);else Z.addRect(K)}return Z}}var Va;var ck=F(()=>{Ck();Rk();Tk();n1();Sk();Z8();eB();Pk();J_();fk();xk();dk();Va=new A0});class H6{constructor(Z,J=!1){if(this.instructions=[],this.uid=_0("graphicsPath"),this._dirty=!0,this.checkForHoles=J,typeof Z==="string")wk(Z,this);else this.instructions=Z?.slice()??[]}get shapePath(){if(!this._shapePath)this._shapePath=new K_(this);if(this._dirty)this._dirty=!1,this._shapePath.buildPath();return this._shapePath}addPath(Z,J){return Z=Z.clone(),this.instructions.push({action:"addPath",data:[Z,J]}),this._dirty=!0,this}arc(...Z){return this.instructions.push({action:"arc",data:Z}),this._dirty=!0,this}arcTo(...Z){return this.instructions.push({action:"arcTo",data:Z}),this._dirty=!0,this}arcToSvg(...Z){return this.instructions.push({action:"arcToSvg",data:Z}),this._dirty=!0,this}bezierCurveTo(...Z){return this.instructions.push({action:"bezierCurveTo",data:Z}),this._dirty=!0,this}bezierCurveToShort(Z,J,Q,q,K){let X=this.instructions[this.instructions.length-1],N=this.getLastPoint(S0.shared),Y=0,O=0;if(!X||X.action!=="bezierCurveTo")Y=N.x,O=N.y;else{Y=X.data[2],O=X.data[3];let{x:U,y:$}=N;Y=U+(U-Y),O=$+($-O)}return this.instructions.push({action:"bezierCurveTo",data:[Y,O,Z,J,Q,q,K]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...Z){return this.instructions.push({action:"ellipse",data:Z}),this._dirty=!0,this}lineTo(...Z){return this.instructions.push({action:"lineTo",data:Z}),this._dirty=!0,this}moveTo(...Z){return this.instructions.push({action:"moveTo",data:Z}),this}quadraticCurveTo(...Z){return this.instructions.push({action:"quadraticCurveTo",data:Z}),this._dirty=!0,this}quadraticCurveToShort(Z,J,Q){let q=this.instructions[this.instructions.length-1],K=this.getLastPoint(S0.shared),X=0,N=0;if(!q||q.action!=="quadraticCurveTo")X=K.x,N=K.y;else{X=q.data[0],N=q.data[1];let{x:Y,y:O}=K;X=Y+(Y-X),N=O+(O-N)}return this.instructions.push({action:"quadraticCurveTo",data:[X,N,Z,J,Q]}),this._dirty=!0,this}rect(Z,J,Q,q,K){return this.instructions.push({action:"rect",data:[Z,J,Q,q,K]}),this._dirty=!0,this}circle(Z,J,Q,q){return this.instructions.push({action:"circle",data:[Z,J,Q,q]}),this._dirty=!0,this}roundRect(...Z){return this.instructions.push({action:"roundRect",data:Z}),this._dirty=!0,this}poly(...Z){return this.instructions.push({action:"poly",data:Z}),this._dirty=!0,this}regularPoly(...Z){return this.instructions.push({action:"regularPoly",data:Z}),this._dirty=!0,this}roundPoly(...Z){return this.instructions.push({action:"roundPoly",data:Z}),this._dirty=!0,this}roundShape(...Z){return this.instructions.push({action:"roundShape",data:Z}),this._dirty=!0,this}filletRect(...Z){return this.instructions.push({action:"filletRect",data:Z}),this._dirty=!0,this}chamferRect(...Z){return this.instructions.push({action:"chamferRect",data:Z}),this._dirty=!0,this}star(Z,J,Q,q,K,X,N){K||(K=q/2);let Y=-1*Math.PI/2+X,O=Q*2,U=Math.PI*2/O,$=[];for(let B=0;B<O;B++){let _=B%2?K:q,W=B*U+Y;$.push(Z+_*Math.cos(W),J+_*Math.sin(W))}return this.poly($,!0,N),this}clone(Z=!1){let J=new H6;if(J.checkForHoles=this.checkForHoles,!Z)J.instructions=this.instructions.slice();else for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q];J.instructions.push({action:q.action,data:q.data.slice()})}return J}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(Z){if(Z.isIdentity())return this;let{a:J,b:Q,c:q,d:K,tx:X,ty:N}=Z,Y=0,O=0,U=0,$=0,B=0,_=0,W=0,w=0;for(let L=0;L<this.instructions.length;L++){let R=this.instructions[L],G=R.data;switch(R.action){case"moveTo":case"lineTo":Y=G[0],O=G[1],G[0]=J*Y+q*O+X,G[1]=Q*Y+K*O+N;break;case"bezierCurveTo":U=G[0],$=G[1],B=G[2],_=G[3],Y=G[4],O=G[5],G[0]=J*U+q*$+X,G[1]=Q*U+K*$+N,G[2]=J*B+q*_+X,G[3]=Q*B+K*_+N,G[4]=J*Y+q*O+X,G[5]=Q*Y+K*O+N;break;case"quadraticCurveTo":U=G[0],$=G[1],Y=G[2],O=G[3],G[0]=J*U+q*$+X,G[1]=Q*U+K*$+N,G[2]=J*Y+q*O+X,G[3]=Q*Y+K*O+N;break;case"arcToSvg":Y=G[5],O=G[6],W=G[0],w=G[1],G[0]=J*W+q*w,G[1]=Q*W+K*w,G[5]=J*Y+q*O+X,G[6]=Q*Y+K*O+N;break;case"circle":G[4]=mK(G[3],Z);break;case"rect":G[4]=mK(G[4],Z);break;case"ellipse":G[8]=mK(G[8],Z);break;case"roundRect":G[5]=mK(G[5],Z);break;case"addPath":G[0].transform(Z);break;case"poly":G[2]=mK(G[2],Z);break;default:e("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(Z){let J=this.instructions.length-1,Q=this.instructions[J];if(!Q)return Z.x=0,Z.y=0,Z;while(Q.action==="closePath"){if(J--,J<0)return Z.x=0,Z.y=0,Z;Q=this.instructions[J]}switch(Q.action){case"moveTo":case"lineTo":Z.x=Q.data[0],Z.y=Q.data[1];break;case"quadraticCurveTo":Z.x=Q.data[2],Z.y=Q.data[3];break;case"bezierCurveTo":Z.x=Q.data[4],Z.y=Q.data[5];break;case"arc":case"arcToSvg":Z.x=Q.data[5],Z.y=Q.data[6];break;case"addPath":Q.data[0].getLastPoint(Z);break}return Z}}function mK(Z,J){if(Z)return Z.prepend(J);return J.clone()}var XY=F(()=>{L6();s1();c0();Lk();ck()});function M1(Z,J,Q){let q=Z.getAttribute(J);return q?Number(q):Q}var X_=()=>{};function uk(Z,J){let Q=Z.querySelectorAll("defs");for(let q=0;q<Q.length;q++){let K=Q[q];for(let X=0;X<K.children.length;X++){let N=K.children[X];switch(N.nodeName.toLowerCase()){case"lineargradient":J.defs[N.id]=Oa(N);break;case"radialgradient":J.defs[N.id]=Ua(N);break;default:break}}}}function Oa(Z){let J=M1(Z,"x1",0),Q=M1(Z,"y1",0),q=M1(Z,"x2",1),K=M1(Z,"y2",0),X=Z.getAttribute("gradientUnits")||"objectBoundingBox",N=new K8(J,Q,q,K,X==="objectBoundingBox"?"local":"global");for(let Y=0;Y<Z.children.length;Y++){let O=Z.children[Y],U=M1(O,"offset",0),$=G0.shared.setValue(O.getAttribute("stop-color")).toNumber();N.addColorStop(U,$)}return N}function Ua(Z){return e("[SVG Parser] Radial gradients are not yet supported"),new K8(0,0,1,0)}var lk=F(()=>{E5();c0();u2();X_()});function z_(Z){let J=Z.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return J?J[1]:""}var pk=()=>{};function N_(Z,J){let Q=Z.getAttribute("style"),q={},K={},X={strokeStyle:q,fillStyle:K,useFill:!1,useStroke:!1};for(let N in ik){let Y=Z.getAttribute(N);if(Y)ak(J,X,N,Y.trim())}if(Q){let N=Q.split(";");for(let Y=0;Y<N.length;Y++){let O=N[Y].trim(),[U,$]=O.split(":");if(ik[U])ak(J,X,U,$.trim())}}return{strokeStyle:X.useStroke?q:null,fillStyle:X.useFill?K:null,useFill:X.useFill,useStroke:X.useStroke}}function ak(Z,J,Q,q){switch(Q){case"stroke":if(q!=="none"){if(q.startsWith("url(")){let K=z_(q);J.strokeStyle.fill=Z.defs[K]}else J.strokeStyle.color=G0.shared.setValue(q).toNumber();J.useStroke=!0}break;case"stroke-width":J.strokeStyle.width=Number(q);break;case"fill":if(q!=="none"){if(q.startsWith("url(")){let K=z_(q);J.fillStyle.fill=Z.defs[K]}else J.fillStyle.color=G0.shared.setValue(q).toNumber();J.useFill=!0}break;case"fill-opacity":J.fillStyle.alpha=Number(q);break;case"stroke-opacity":J.strokeStyle.alpha=Number(q);break;case"opacity":J.fillStyle.alpha=Number(q),J.strokeStyle.alpha=Number(q);break}}var ik;var sk=F(()=>{E5();pk();ik={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}}});function nk(Z){if(Z.length<=2)return!0;let J=Z.map((Y)=>Y.area).sort((Y,O)=>O-Y),[Q,q]=J,K=J[J.length-1],X=Q/q,N=q/K;if(X>3&&N<2)return!1;return!0}var ok=()=>{};function tk(Z){return Z.split(/(?=[Mm])/).filter((q)=>q.trim().length>0)}function rk(Z){let J=Z.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!J||J.length<4)return 0;let Q=J.map(Number),q=[],K=[];for(let $=0;$<Q.length;$+=2)if($+1<Q.length)q.push(Q[$]),K.push(Q[$+1]);if(q.length===0||K.length===0)return 0;let X=Math.min(...q),N=Math.max(...q),Y=Math.min(...K),O=Math.max(...K);return(N-X)*(O-Y)}function H_(Z,J){let Q=new H6(Z,!1);for(let q of Q.instructions)J.instructions.push(q)}var ek=F(()=>{XY()});function ZP(Z,J){if(typeof Z==="string"){let N=document.createElement("div");N.innerHTML=Z.trim(),Z=N.querySelector("svg")}let Q={context:J,defs:{},path:new H6};uk(Z,Q);let q=Z.children,{fillStyle:K,strokeStyle:X}=N_(Z,Q);for(let N=0;N<q.length;N++){let Y=q[N];if(Y.nodeName.toLowerCase()==="defs")continue;JP(Y,Q,K,X)}return J}function JP(Z,J,Q,q){let K=Z.children,{fillStyle:X,strokeStyle:N}=N_(Z,J);if(X&&Q)Q={...Q,...X};else if(X)Q=X;if(N&&q)q={...q,...N};else if(N)q=N;let Y=!Q&&!q;if(Y)Q={color:0};let O,U,$,B,_,W,w,L,R,G,j,C,T,v,f,b,m;switch(Z.nodeName.toLowerCase()){case"path":{v=Z.getAttribute("d");let u=Z.getAttribute("fill-rule"),l=tk(v),o=u==="evenodd",N0=l.length>1;if(o&&N0){let z0=l.map((t)=>({path:t,area:rk(t)}));if(z0.sort((t,H0)=>H0.area-t.area),l.length>3||!nk(z0))for(let t=0;t<z0.length;t++){let H0=z0[t],W1=t===0;J.context.beginPath();let D0=new H6(void 0,!0);if(H_(H0.path,D0),J.context.path(D0),W1){if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}else J.context.cut()}else for(let t=0;t<z0.length;t++){let H0=z0[t],W1=t%2===1;J.context.beginPath();let D0=new H6(void 0,!0);if(H_(H0.path,D0),J.context.path(D0),W1)J.context.cut();else{if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}}}else{if(f=new H6(v,u?u==="evenodd":!0),J.context.path(f),Q)J.context.fill(Q);if(q)J.context.stroke(q)}break}case"circle":if(w=M1(Z,"cx",0),L=M1(Z,"cy",0),R=M1(Z,"r",0),J.context.ellipse(w,L,R,R),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"rect":if(O=M1(Z,"x",0),U=M1(Z,"y",0),b=M1(Z,"width",0),m=M1(Z,"height",0),G=M1(Z,"rx",0),j=M1(Z,"ry",0),G||j)J.context.roundRect(O,U,b,m,G||j);else J.context.rect(O,U,b,m);if(Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"ellipse":if(w=M1(Z,"cx",0),L=M1(Z,"cy",0),G=M1(Z,"rx",0),j=M1(Z,"ry",0),J.context.beginPath(),J.context.ellipse(w,L,G,j),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"line":if($=M1(Z,"x1",0),B=M1(Z,"y1",0),_=M1(Z,"x2",0),W=M1(Z,"y2",0),J.context.beginPath(),J.context.moveTo($,B),J.context.lineTo(_,W),q)J.context.stroke(q);break;case"polygon":if(T=Z.getAttribute("points"),C=T.match(/\d+/g).map((u)=>parseInt(u,10)),J.context.poly(C,!0),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"polyline":if(T=Z.getAttribute("points"),C=T.match(/\d+/g).map((u)=>parseInt(u,10)),J.context.poly(C,!1),q)J.context.stroke(q);break;case"g":case"svg":break;default:{e(`[SVG parser] <${Z.nodeName}> elements unsupported`);break}}if(Y)Q=null;for(let u=0;u<K.length;u++)JP(K[u],J,Q,q)}var QP=F(()=>{c0();XY();lk();X_();sk();ok();ek()});function Aa(Z){return G0.isColorLike(Z)}function qP(Z){return Z instanceof M9}function KP(Z){return Z instanceof K8}function $a(Z){return Z instanceof p}function Da(Z,J,Q){let q=G0.shared.setValue(J??0);return Z.color=q.toNumber(),Z.alpha=q.alpha===1?Q.alpha:q.alpha,Z.texture=p.WHITE,{...Q,...Z}}function Ba(Z,J,Q){return Z.texture=J,{...Q,...Z}}function XP(Z,J,Q){return Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,{...Q,...Z}}function zP(Z,J,Q){return J.buildGradient(),Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,Z.textureSpace=J.textureSpace,{...Q,...Z}}function _a(Z,J){let Q={...J,...Z},q=G0.shared.setValue(Q.color);return Q.alpha*=q.alpha,Q.color=q.toNumber(),Q}function q7(Z,J){if(Z===void 0||Z===null)return null;let Q={},q=Z;if(Aa(Z))return Da(Q,Z,J);else if($a(Z))return Ba(Q,Z,J);else if(qP(Z))return XP(Q,Z,J);else if(KP(Z))return zP(Q,Z,J);else if(q.fill&&qP(q.fill))return XP(q,q.fill,J);else if(q.fill&&KP(q.fill))return zP(q,q.fill,J);return _a(q,J)}function s2(Z,J){let{width:Q,alignment:q,miterLimit:K,cap:X,join:N,pixelLine:Y,...O}=J,U=q7(Z,O);if(!U)return null;return{width:Q,alignment:q,miterLimit:K,cap:X,join:N,pixelLine:Y,...U}}var Y_=F(()=>{E5();u0();u2();tH()});var Ma,NP,V_,m5;var zY=F(()=>{B5();E5();I0();L6();u0();s1();$1();Z8();XY();QP();Y_();Ma=new S0,NP=new a,V_=class Z extends t0{constructor(){super(...arguments);this.uid=_0("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new H6,this._transform=new a,this._fillStyle={...Z.defaultFillStyle},this._strokeStyle={...Z.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new e0,this._boundsDirty=!0}clone(){let J=new Z;return J.batchMode=this.batchMode,J.instructions=this.instructions.slice(),J._activePath=this._activePath.clone(),J._transform=this._transform.clone(),J._fillStyle={...this._fillStyle},J._strokeStyle={...this._strokeStyle},J._stateStack=this._stateStack.slice(),J._bounds=this._bounds.clone(),J._boundsDirty=!0,J}get fillStyle(){return this._fillStyle}set fillStyle(J){this._fillStyle=q7(J,Z.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(J){this._strokeStyle=s2(J,Z.defaultStrokeStyle)}setFillStyle(J){return this._fillStyle=q7(J,Z.defaultFillStyle),this}setStrokeStyle(J){return this._strokeStyle=q7(J,Z.defaultStrokeStyle),this}texture(J,Q,q,K,X,N){return this.instructions.push({action:"texture",data:{image:J,dx:q||0,dy:K||0,dw:X||J.frame.width,dh:N||J.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:Q?G0.shared.setValue(Q).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new H6,this}fill(J,Q){let q,K=this.instructions[this.instructions.length-1];if(this._tick===0&&K&&K.action==="stroke")q=K.data.path;else q=this._activePath.clone();if(!q)return this;if(J!=null){if(Q!==void 0&&typeof J==="number")q0(V0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),J={color:J,alpha:Q};this._fillStyle=q7(J,Z.defaultFillStyle)}return this.instructions.push({action:"fill",data:{style:this.fillStyle,path:q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}_initNextPathLocation(){let{x:J,y:Q}=this._activePath.getLastPoint(S0.shared);this._activePath.clear(),this._activePath.moveTo(J,Q)}stroke(J){let Q,q=this.instructions[this.instructions.length-1];if(this._tick===0&&q&&q.action==="fill")Q=q.data.path;else Q=this._activePath.clone();if(!Q)return this;if(J!=null)this._strokeStyle=s2(J,Z.defaultStrokeStyle);return this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:Q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}cut(){for(let J=0;J<2;J++){let Q=this.instructions[this.instructions.length-1-J],q=this._activePath.clone();if(Q){if(Q.action==="stroke"||Q.action==="fill")if(Q.data.hole)Q.data.hole.addPath(q);else{Q.data.hole=q;break}}}return this._initNextPathLocation(),this}arc(J,Q,q,K,X,N){this._tick++;let Y=this._transform;return this._activePath.arc(Y.a*J+Y.c*Q+Y.tx,Y.b*J+Y.d*Q+Y.ty,q,K,X,N),this}arcTo(J,Q,q,K,X){this._tick++;let N=this._transform;return this._activePath.arcTo(N.a*J+N.c*Q+N.tx,N.b*J+N.d*Q+N.ty,N.a*q+N.c*K+N.tx,N.b*q+N.d*K+N.ty,X),this}arcToSvg(J,Q,q,K,X,N,Y){this._tick++;let O=this._transform;return this._activePath.arcToSvg(J,Q,q,K,X,O.a*N+O.c*Y+O.tx,O.b*N+O.d*Y+O.ty),this}bezierCurveTo(J,Q,q,K,X,N,Y){this._tick++;let O=this._transform;return this._activePath.bezierCurveTo(O.a*J+O.c*Q+O.tx,O.b*J+O.d*Q+O.ty,O.a*q+O.c*K+O.tx,O.b*q+O.d*K+O.ty,O.a*X+O.c*N+O.tx,O.b*X+O.d*N+O.ty,Y),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(J,Q,q,K){return this._tick++,this._activePath.ellipse(J,Q,q,K,this._transform.clone()),this}circle(J,Q,q){return this._tick++,this._activePath.circle(J,Q,q,this._transform.clone()),this}path(J){return this._tick++,this._activePath.addPath(J,this._transform.clone()),this}lineTo(J,Q){this._tick++;let q=this._transform;return this._activePath.lineTo(q.a*J+q.c*Q+q.tx,q.b*J+q.d*Q+q.ty),this}moveTo(J,Q){this._tick++;let q=this._transform,K=this._activePath.instructions,X=q.a*J+q.c*Q+q.tx,N=q.b*J+q.d*Q+q.ty;if(K.length===1&&K[0].action==="moveTo")return K[0].data[0]=X,K[0].data[1]=N,this;return this._activePath.moveTo(X,N),this}quadraticCurveTo(J,Q,q,K,X){this._tick++;let N=this._transform;return this._activePath.quadraticCurveTo(N.a*J+N.c*Q+N.tx,N.b*J+N.d*Q+N.ty,N.a*q+N.c*K+N.tx,N.b*q+N.d*K+N.ty,X),this}rect(J,Q,q,K){return this._tick++,this._activePath.rect(J,Q,q,K,this._transform.clone()),this}roundRect(J,Q,q,K,X){return this._tick++,this._activePath.roundRect(J,Q,q,K,X,this._transform.clone()),this}poly(J,Q){return this._tick++,this._activePath.poly(J,Q,this._transform.clone()),this}regularPoly(J,Q,q,K,X=0,N){return this._tick++,this._activePath.regularPoly(J,Q,q,K,X,N),this}roundPoly(J,Q,q,K,X,N){return this._tick++,this._activePath.roundPoly(J,Q,q,K,X,N),this}roundShape(J,Q,q,K){return this._tick++,this._activePath.roundShape(J,Q,q,K),this}filletRect(J,Q,q,K,X){return this._tick++,this._activePath.filletRect(J,Q,q,K,X),this}chamferRect(J,Q,q,K,X,N){return this._tick++,this._activePath.chamferRect(J,Q,q,K,X,N),this}star(J,Q,q,K,X=0,N=0){return this._tick++,this._activePath.star(J,Q,q,K,X,N,this._transform.clone()),this}svg(J){return this._tick++,ZP(J,this),this}restore(){let J=this._stateStack.pop();if(J)this._transform=J.transform,this._fillStyle=J.fillStyle,this._strokeStyle=J.strokeStyle;return this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(J){return this._transform.rotate(J),this}scale(J,Q=J){return this._transform.scale(J,Q),this}setTransform(J,Q,q,K,X,N){if(J instanceof a)return this._transform.set(J.a,J.b,J.c,J.d,J.tx,J.ty),this;return this._transform.set(J,Q,q,K,X,N),this}transform(J,Q,q,K,X,N){if(J instanceof a)return this._transform.append(J),this;return NP.set(J,Q,q,K,X,N),this._transform.append(NP),this}translate(J,Q=J){return this._transform.translate(J,Q),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){if(this._boundsDirty=!0,this.dirty)return;this.emit("update",this,16),this.dirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;let J=this._bounds;J.clear();for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q],K=q.action;if(K==="fill"){let X=q.data;J.addBounds(X.path.bounds)}else if(K==="texture"){let X=q.data;J.addFrame(X.dx,X.dy,X.dx+X.dw,X.dy+X.dh,X.transform)}if(K==="stroke"){let X=q.data,N=X.style.alignment,Y=X.style.width*(1-N),O=X.path.bounds;J.addFrame(O.minX-Y,O.minY-Y,O.maxX+Y,O.maxY+Y)}}return J}containsPoint(J){if(!this.bounds.containsPoint(J.x,J.y))return!1;let Q=this.instructions,q=!1;for(let K=0;K<Q.length;K++){let X=Q[K],N=X.data,Y=N.path;if(!X.action||!Y)continue;let O=N.style,U=Y.shapePath.shapePrimitives;for(let $=0;$<U.length;$++){let B=U[$].shape;if(!O||!B)continue;let _=U[$].transform,W=_?_.applyInverse(J,Ma):J;if(X.action==="fill")q=B.contains(W.x,W.y);else{let L=O;q=B.strokeContains(W.x,W.y,L.width,L.alignment)}let w=N.hole;if(w){let L=w.shapePath?.shapePrimitives;if(L){for(let R=0;R<L.length;R++)if(L[R].shape.contains(W.x,W.y))q=!1}}if(q)return!0}}return q}destroy(J=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fillStyle.texture)this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(q);if(this._strokeStyle.texture)this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(q)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};V_.defaultFillStyle={color:16777215,alpha:1,texture:p.WHITE,matrix:null,fill:null,textureSpace:"local"};V_.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:0.5,miterLimit:10,cap:"butt",join:"miter",texture:p.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};m5=V_});function Wa(Z){let J=Z;if(typeof J.dropShadow==="boolean"&&J.dropShadow){let Q=X8.defaultDropShadow;Z.dropShadow={alpha:J.dropShadowAlpha??Q.alpha,angle:J.dropShadowAngle??Q.angle,blur:J.dropShadowBlur??Q.blur,color:J.dropShadowColor??Q.color,distance:J.dropShadowDistance??Q.distance}}if(J.strokeThickness!==void 0){q0(V0,"strokeThickness is now a part of stroke");let Q=J.stroke,q={};if(G0.isColorLike(Q))q.color=Q;else if(Q instanceof K8||Q instanceof M9)q.fill=Q;else if(Object.hasOwnProperty.call(Q,"color")||Object.hasOwnProperty.call(Q,"fill"))q=Q;else throw Error("Invalid stroke value.");Z.stroke={...q,width:J.strokeThickness}}if(Array.isArray(J.fillGradientStops)){if(q0(V0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(J.fill)||J.fill.length===0)throw Error("Invalid fill value. Expected an array of colors for gradient fill.");if(J.fill.length!==J.fillGradientStops.length)e("The number of fill colors must match the number of fill gradient stops.");let Q=new K8({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),q=J.fillGradientStops.slice(),K=J.fill.map((X)=>G0.shared.setValue(X).toNumber());q.forEach((X,N)=>{Q.addColorStop(X,K[N])}),Z.fill={fill:Q}}}var O_,X8;var dK=F(()=>{B5();E5();s1();$1();c0();u2();tH();zY();Y_();O_=class Z extends t0{constructor(J={}){super();this.uid=_0("textStyle"),this._tick=0,Wa(J);let Q={...Z.defaultTextStyle,...J};for(let q in Q){let K=q;this[K]=Q[q]}this.update(),this._tick=0}get align(){return this._align}set align(J){if(this._align===J)return;this._align=J,this.update()}get breakWords(){return this._breakWords}set breakWords(J){if(this._breakWords===J)return;this._breakWords=J,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(J){if(this._dropShadow===J)return;if(J!==null&&typeof J==="object")this._dropShadow=this._createProxy({...Z.defaultDropShadow,...J});else this._dropShadow=J?this._createProxy({...Z.defaultDropShadow}):null;this.update()}get fontFamily(){return this._fontFamily}set fontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.update()}get fontSize(){return this._fontSize}set fontSize(J){if(this._fontSize===J)return;if(typeof J==="string")this._fontSize=parseInt(J,10);else this._fontSize=J;this.update()}get fontStyle(){return this._fontStyle}set fontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(J){if(this._fontVariant===J)return;this._fontVariant=J,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.update()}get leading(){return this._leading}set leading(J){if(this._leading===J)return;this._leading=J,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(J){if(this._letterSpacing===J)return;this._letterSpacing=J,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(J){if(this._lineHeight===J)return;this._lineHeight=J,this.update()}get padding(){return this._padding}set padding(J){if(this._padding===J)return;this._padding=J,this.update()}get filters(){return this._filters}set filters(J){if(this._filters===J)return;this._filters=Object.freeze(J),this.update()}get trim(){return this._trim}set trim(J){if(this._trim===J)return;this._trim=J,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(J){if(this._textBaseline===J)return;this._textBaseline=J,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(J){if(this._whiteSpace===J)return;this._whiteSpace=J,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(J){if(this._wordWrap===J)return;this._wordWrap=J,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(J){if(this._wordWrapWidth===J)return;this._wordWrapWidth=J,this.update()}get fill(){return this._originalFill}set fill(J){if(J===this._originalFill)return;if(this._originalFill=J,this._isFillStyle(J))this._originalFill=this._createProxy({...m5.defaultFillStyle,...J},()=>{this._fill=q7({...this._originalFill},m5.defaultFillStyle)});this._fill=q7(J===0?"black":J,m5.defaultFillStyle),this.update()}get stroke(){return this._originalStroke}set stroke(J){if(J===this._originalStroke)return;if(this._originalStroke=J,this._isFillStyle(J))this._originalStroke=this._createProxy({...m5.defaultStrokeStyle,...J},()=>{this._stroke=s2({...this._originalStroke},m5.defaultStrokeStyle)});this._stroke=s2(J,m5.defaultStrokeStyle),this.update()}update(){this._tick++,this.emit("update",this)}reset(){let J=Z.defaultTextStyle;for(let Q in J)this[Q]=J[Q]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Z({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let J=0;if(this._filters)for(let Q=0;Q<this._filters.length;Q++)J+=this._filters[Q].padding;return Math.max(this._padding,J)}destroy(J=!1){if(this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fill?.texture)this._fill.texture.destroy(q);if(this._originalFill?.texture)this._originalFill.texture.destroy(q);if(this._stroke?.texture)this._stroke.texture.destroy(q);if(this._originalStroke?.texture)this._originalStroke.texture.destroy(q)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(J,Q){return new Proxy(J,{set:(q,K,X)=>{if(q[K]===X)return!0;return q[K]=X,Q?.(K,X),this.update(),!0}})}_isFillStyle(J){return(J??null)!==null&&!(G0.isColorLike(J)||J instanceof K8||J instanceof M9)}};O_.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};O_.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};X8=O_});function NY(Z,J,Q,q){let K=Ga;K.minX=0,K.minY=0,K.maxX=Z.width/q|0,K.maxY=Z.height/q|0;let X=a0.getOptimalTexture(K.width,K.height,q,!1);return X.source.uploadMethodId="image",X.source.resource=Z,X.source.alphaMode="premultiply-alpha-on-upload",X.frame.width=J/q,X.frame.height=Q/q,X.source.emit("update",X.source),X.updateUvs(),X}var Ga;var U_=F(()=>{Z4();Z8();Ga=new e0});class HP{constructor(Z){this._canvasPool=Object.create(null),this.canvasOptions=Z||{},this.enableFullScreen=!1}_createCanvasAndContext(Z,J){let Q=K0.get().createCanvas();Q.width=Z,Q.height=J;let q=Q.getContext("2d");return{canvas:Q,context:q}}getOptimalCanvasAndContext(Z,J,Q=1){Z=Math.ceil(Z*Q-0.000001),J=Math.ceil(J*Q-0.000001),Z=s4(Z),J=s4(J);let q=(Z<<17)+(J<<1);if(!this._canvasPool[q])this._canvasPool[q]=[];let K=this._canvasPool[q].pop();if(!K)K=this._createCanvasAndContext(Z,J);return K}returnCanvasAndContext(Z){let J=Z.canvas,{width:Q,height:q}=J,K=(Q<<17)+(q<<1);Z.context.resetTransform(),Z.context.clearRect(0,0,Q,q),this._canvasPool[K].push(Z)}clear(){this._canvasPool={}}}var z8;var n2=F(()=>{l0();VK();WZ();z8=new HP;X6.register(z8)});function Fa(Z,J){if(!yZ)yZ=K0.get().createCanvas(256,128),K7=yZ.getContext("2d",{willReadFrequently:!0}),K7.globalCompositeOperation="copy",K7.globalAlpha=1;if(yZ.width<Z||yZ.height<J)yZ.width=s4(Z),yZ.height=s4(J)}function YP(Z,J,Q){for(let q=0,K=4*Q*J;q<J;++q,K+=4)if(Z[K+3]!==0)return!1;return!0}function VP(Z,J,Q,q,K){let X=4*J;for(let N=q,Y=q*X+4*Q;N<=K;++N,Y+=X)if(Z[Y+3]!==0)return!1;return!0}function OP(...Z){let J=Z[0];if(!J.canvas)J={canvas:Z[0],resolution:Z[1]};let{canvas:Q}=J,q=Math.min(J.resolution??1,1),K=J.width??Q.width,X=J.height??Q.height,N=J.output;if(Fa(K,X),!K7)throw TypeError("Failed to get canvas 2D context");K7.drawImage(Q,0,0,K,X,0,0,K*q,X*q);let O=K7.getImageData(0,0,K,X).data,U=0,$=0,B=K-1,_=X-1;while($<X&&YP(O,K,$))++$;if($===X)return A0.EMPTY;while(YP(O,K,_))--_;while(VP(O,K,U,$,_))++U;while(VP(O,K,B,$,_))--B;return++B,++_,K7.globalCompositeOperation="source-over",K7.strokeRect(U,$,B-U,_-$),K7.globalCompositeOperation="copy",N??(N=new A0),N.set(U/q,$/q,(B-U)/q,(_-$)/q),N}var yZ=null,K7=null;var UP=F(()=>{l0();VK();n1()});class AP{constructor(Z=0,J=0,Q=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=Z,this.resetTtl=Q,this.size=0,this.ttl=J}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(Z){if(this.has(Z)){let J=this.items[Z];if(delete this.items[Z],this.size--,J.prev!==null)J.prev.next=J.next;if(J.next!==null)J.next.prev=J.prev;if(this.first===J)this.first=J.next;if(this.last===J)this.last=J.prev}return this}entries(Z=this.keys()){return Z.map((J)=>[J,this.get(J)])}evict(Z=!1){if(Z||this.size>0){let J=this.first;if(delete this.items[J.key],--this.size===0)this.first=null,this.last=null;else this.first=J.next,this.first.prev=null}return this}expiresAt(Z){let J;if(this.has(Z))J=this.items[Z].expiry;return J}get(Z){let J=this.items[Z];if(J!==void 0){if(this.ttl>0){if(J.expiry<=Date.now()){this.delete(Z);return}}return this.moveToEnd(J),J.value}return}has(Z){return Z in this.items}moveToEnd(Z){if(this.last===Z)return;if(Z.prev!==null)Z.prev.next=Z.next;if(Z.next!==null)Z.next.prev=Z.prev;if(this.first===Z)this.first=Z.next;if(Z.prev=this.last,Z.next=null,this.last!==null)this.last.next=Z;if(this.last=Z,this.first===null)this.first=Z}keys(){let Z=[],J=this.first;while(J!==null)Z.push(J.key),J=J.next;return Z}setWithEvicted(Z,J,Q=this.resetTtl){let q=null;if(this.has(Z))this.set(Z,J,!0,Q);else{if(this.max>0&&this.size===this.max)q={...this.first},this.evict(!0);let K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J};if(++this.size===1)this.first=K;else this.last.next=K;this.last=K}return q}set(Z,J,Q=!1,q=this.resetTtl){let K=this.items[Z];if(Q||K!==void 0){if(K.value=J,Q===!1&&q)K.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;this.moveToEnd(K)}else{if(this.max>0&&this.size===this.max)this.evict(!0);if(K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J},++this.size===1)this.first=K;else this.last.next=K;this.last=K}return this}values(Z=this.keys()){return Z.map((J)=>this.get(J))}}function HY(Z=1000,J=0,Q=!1){if(isNaN(Z)||Z<0)throw TypeError("Invalid max value");if(isNaN(J)||J<0)throw TypeError("Invalid ttl value");if(typeof Q!=="boolean")throw TypeError("Invalid resetTtl value");return new AP(Z,J,Q)}var A_=()=>{};function hZ(Z){let J=typeof Z.fontSize==="number"?`${Z.fontSize}px`:Z.fontSize,Q=Z.fontFamily;if(!Array.isArray(Z.fontFamily))Q=Z.fontFamily.split(",");for(let q=Q.length-1;q>=0;q--){let K=Q[q].trim();if(!/([\"\'])[^\'\"]+\1/.test(K)&&!ja.includes(K))K=`"${K}"`;Q[q]=K}return`${Z.fontStyle} ${Z.fontVariant} ${Z.fontWeight} ${J} ${Q.join(",")}`}var ja;var YY=F(()=>{ja=["serif","sans-serif","monospace","cursive","fantasy","system-ui"]});var $_,k6=class Z{static get experimentalLetterSpacingSupported(){let J=Z._experimentalLetterSpacingSupported;if(J===void 0){let Q=K0.get().getCanvasRenderingContext2D().prototype;J=Z._experimentalLetterSpacingSupported="letterSpacing"in Q||"textLetterSpacing"in Q}return J}constructor(J,Q,q,K,X,N,Y,O,U){this.text=J,this.style=Q,this.width=q,this.height=K,this.lines=X,this.lineWidths=N,this.lineHeight=Y,this.maxLineWidth=O,this.fontProperties=U}static measureText(J=" ",Q,q=Z._canvas,K=Q.wordWrap){let X=`${J}-${Q.styleKey}-wordWrap-${K}`;if(Z._measurementCache.has(X))return Z._measurementCache.get(X);let N=hZ(Q),Y=Z.measureFont(N);if(Y.fontSize===0)Y.fontSize=Q.fontSize,Y.ascent=Q.fontSize;let O=Z.__context;O.font=N;let $=(K?Z._wordWrap(J,Q,q):J).split(/(?:\r\n|\r|\n)/),B=Array($.length),_=0;for(let j=0;j<$.length;j++){let C=Z._measureText($[j],Q.letterSpacing,O);B[j]=C,_=Math.max(_,C)}let W=Q._stroke?.width||0,w=_+W;if(Q.dropShadow)w+=Q.dropShadow.distance;let L=Q.lineHeight||Y.fontSize,R=Math.max(L,Y.fontSize+W)+($.length-1)*(L+Q.leading);if(Q.dropShadow)R+=Q.dropShadow.distance;let G=new Z(J,Q,w,R,$,B,L+Q.leading,_,Y);return Z._measurementCache.set(X,G),G}static _measureText(J,Q,q){let K=!1;if(Z.experimentalLetterSpacingSupported)if(Z.experimentalLetterSpacing)q.letterSpacing=`${Q}px`,q.textLetterSpacing=`${Q}px`,K=!0;else q.letterSpacing="0px",q.textLetterSpacing="0px";let X=q.measureText(J),N=X.width,Y=-X.actualBoundingBoxLeft,U=X.actualBoundingBoxRight-Y;if(N>0)if(K)N-=Q,U-=Q;else{let $=(Z.graphemeSegmenter(J).length-1)*Q;N+=$,U+=$}return Math.max(N,U)}static _wordWrap(J,Q,q=Z._canvas){let K=q.getContext("2d",$_),X=0,N="",Y="",O=Object.create(null),{letterSpacing:U,whiteSpace:$}=Q,B=Z._collapseSpaces($),_=Z._collapseNewlines($),W=!B,w=Q.wordWrapWidth+U,L=Z._tokenize(J);for(let R=0;R<L.length;R++){let G=L[R];if(Z._isNewline(G)){if(!_){Y+=Z._addLine(N),W=!B,N="",X=0;continue}G=" "}if(B){let C=Z.isBreakingSpace(G),T=Z.isBreakingSpace(N[N.length-1]);if(C&&T)continue}let j=Z._getFromCache(G,U,O,K);if(j>w){if(N!=="")Y+=Z._addLine(N),N="",X=0;if(Z.canBreakWords(G,Q.breakWords)){let C=Z.wordWrapSplit(G);for(let T=0;T<C.length;T++){let v=C[T],f=v,b=1;while(C[T+b]){let u=C[T+b];if(!Z.canBreakChars(f,u,G,T,Q.breakWords))v+=u;else break;f=u,b++}T+=b-1;let m=Z._getFromCache(v,U,O,K);if(m+X>w)Y+=Z._addLine(N),W=!1,N="",X=0;N+=v,X+=m}}else{if(N.length>0)Y+=Z._addLine(N),N="",X=0;let C=R===L.length-1;Y+=Z._addLine(G,!C),W=!1,N="",X=0}}else{if(j+X>w)W=!1,Y+=Z._addLine(N),N="",X=0;if(N.length>0||!Z.isBreakingSpace(G)||W)N+=G,X+=j}}return Y+=Z._addLine(N,!1),Y}static _addLine(J,Q=!0){return J=Z._trimRight(J),J=Q?`${J}
`:J,J}static _getFromCache(J,Q,q,K){let X=q[J];if(typeof X!=="number")X=Z._measureText(J,Q,K)+Q,q[J]=X;return X}static _collapseSpaces(J){return J==="normal"||J==="pre-line"}static _collapseNewlines(J){return J==="normal"}static _trimRight(J){if(typeof J!=="string")return"";for(let Q=J.length-1;Q>=0;Q--){let q=J[Q];if(!Z.isBreakingSpace(q))break;J=J.slice(0,-1)}return J}static _isNewline(J){if(typeof J!=="string")return!1;return Z._newlines.includes(J.charCodeAt(0))}static isBreakingSpace(J,Q){if(typeof J!=="string")return!1;return Z._breakingSpaces.includes(J.charCodeAt(0))}static _tokenize(J){let Q=[],q="";if(typeof J!=="string")return Q;for(let K=0;K<J.length;K++){let X=J[K],N=J[K+1];if(Z.isBreakingSpace(X,N)||Z._isNewline(X)){if(q!=="")Q.push(q),q="";if(X==="\r"&&N===`
`)Q.push(`\r
`),K++;else Q.push(X);continue}q+=X}if(q!=="")Q.push(q);return Q}static canBreakWords(J,Q){return Q}static canBreakChars(J,Q,q,K,X){return!0}static wordWrapSplit(J){return Z.graphemeSegmenter(J)}static measureFont(J){if(Z._fonts[J])return Z._fonts[J];let Q=Z._context;Q.font=J;let q=Q.measureText(Z.METRICS_STRING+Z.BASELINE_SYMBOL),K={ascent:q.actualBoundingBoxAscent,descent:q.actualBoundingBoxDescent,fontSize:q.actualBoundingBoxAscent+q.actualBoundingBoxDescent};return Z._fonts[J]=K,K}static clearMetrics(J=""){if(J)delete Z._fonts[J];else Z._fonts={}}static get _canvas(){if(!Z.__canvas){let J;try{let Q=new OffscreenCanvas(0,0);if(Q.getContext("2d",$_)?.measureText)return Z.__canvas=Q,Q;J=K0.get().createCanvas()}catch(Q){J=K0.get().createCanvas()}J.width=J.height=10,Z.__canvas=J}return Z.__canvas}static get _context(){if(!Z.__context)Z.__context=Z._canvas.getContext("2d",$_);return Z.__context}},N8;var cK=F(()=>{A_();l0();YY();$_={willReadFrequently:!0};k6.METRICS_STRING="|q";k6.BASELINE_SYMBOL="M";k6.BASELINE_MULTIPLIER=1.4;k6.HEIGHT_MULTIPLIER=2;k6.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter==="function"){let Z=new Intl.Segmenter;return(J)=>{let Q=Z.segment(J),q=[],K=0;for(let X of Q)q[K++]=X.segment;return q}}return(Z)=>[...Z]})();k6.experimentalLetterSpacing=!1;k6._fonts={};k6._newlines=[10,13];k6._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];k6._measurementCache=HY(1000);N8=k6});function o2(Z,J,Q,q=0){if(Z.texture===p.WHITE&&!Z.fill)return G0.shared.setValue(Z.color).setAlpha(Z.alpha??1).toHexa();else if(!Z.fill){let K=J.createPattern(Z.texture.source.resource,"repeat"),X=Z.matrix.copyTo(a.shared);return X.scale(Z.texture.frame.width,Z.texture.frame.height),K.setTransform(X),K}else if(Z.fill instanceof M9){let K=Z.fill,X=J.createPattern(K.texture.source.resource,"repeat"),N=K.transform.copyTo(a.shared);return N.scale(K.texture.frame.width,K.texture.frame.height),X.setTransform(N),X}else if(Z.fill instanceof K8){let K=Z.fill,X=K.type==="linear",N=K.textureSpace==="local",Y=1,O=1;if(N&&Q)Y=Q.width+q,O=Q.height+q;let U,$=!1;if(X){let{start:B,end:_}=K;U=J.createLinearGradient(B.x*Y,B.y*O,_.x*Y,_.y*O),$=Math.abs(_.x-B.x)<Math.abs((_.y-B.y)*0.1)}else{let{center:B,innerRadius:_,outerCenter:W,outerRadius:w}=K;U=J.createRadialGradient(B.x*Y,B.y*O,_*Y,W.x*Y,W.y*O,w*Y)}if($&&N&&Q){let B=Q.lineHeight/O;for(let _=0;_<Q.lines.length;_++){let W=(_*Q.lineHeight+q/2)/O;K.colorStops.forEach((w)=>{let L=W+w.offset*B;U.addColorStop(Math.floor(L*$P)/$P,G0.shared.setValue(w.color).toHex())})}}else K.colorStops.forEach((B)=>{U.addColorStop(B.offset,G0.shared.setValue(B.color).toHex())});return U}return e("FillStyle not recognised",Z),"red"}var $P=1e5;var D_=F(()=>{E5();I0();u0();c0();u2();tH()});class BP{getCanvasAndContext(Z){let{text:J,style:Q,resolution:q=1}=Z,K=Q._getFinalPadding(),X=N8.measureText(J||" ",Q),N=Math.ceil(Math.ceil(Math.max(1,X.width)+K*2)*q),Y=Math.ceil(Math.ceil(Math.max(1,X.height)+K*2)*q),O=z8.getOptimalCanvasAndContext(N,Y);this._renderTextToCanvas(J,Q,K,q,O);let U=Q.trim?OP({canvas:O.canvas,width:N,height:Y,resolution:1,output:DP}):DP.set(0,0,N,Y);return{canvasAndContext:O,frame:U}}returnCanvasAndContext(Z){z8.returnCanvasAndContext(Z)}_renderTextToCanvas(Z,J,Q,q,K){let{canvas:X,context:N}=K,Y=hZ(J),O=N8.measureText(Z||" ",J),U=O.lines,$=O.lineHeight,B=O.lineWidths,_=O.maxLineWidth,W=O.fontProperties,w=X.height;if(N.resetTransform(),N.scale(q,q),N.textBaseline=J.textBaseline,J._stroke?.width){let j=J._stroke;N.lineWidth=j.width,N.miterLimit=j.miterLimit,N.lineJoin=j.join,N.lineCap=j.cap}N.font=Y;let L,R,G=J.dropShadow?2:1;for(let j=0;j<G;++j){let C=J.dropShadow&&j===0,T=C?Math.ceil(Math.max(1,w)+Q*2):0,v=T*q;if(C){N.fillStyle="black",N.strokeStyle="black";let m=J.dropShadow,u=m.color,l=m.alpha;N.shadowColor=G0.shared.setValue(u).setAlpha(l).toRgbaString();let o=m.blur*q,N0=m.distance*q;N.shadowBlur=o,N.shadowOffsetX=Math.cos(m.angle)*N0,N.shadowOffsetY=Math.sin(m.angle)*N0+v}else{if(N.fillStyle=J._fill?o2(J._fill,N,O,Q*2):null,J._stroke?.width){let m=J._stroke.width*0.5+Q*2;N.strokeStyle=o2(J._stroke,N,O,m)}N.shadowColor="black"}let f=($-W.fontSize)/2;if($-W.fontSize<0)f=0;let b=J._stroke?.width??0;for(let m=0;m<U.length;m++){if(L=b/2,R=b/2+m*$+W.ascent+f,J.align==="right")L+=_-B[m];else if(J.align==="center")L+=(_-B[m])/2;if(J._stroke?.width)this._drawLetterSpacing(U[m],J,K,L+Q,R+Q-T,!0);if(J._fill!==void 0)this._drawLetterSpacing(U[m],J,K,L+Q,R+Q-T)}}}_drawLetterSpacing(Z,J,Q,q,K,X=!1){let{context:N}=Q,Y=J.letterSpacing,O=!1;if(N8.experimentalLetterSpacingSupported)if(N8.experimentalLetterSpacing)N.letterSpacing=`${Y}px`,N.textLetterSpacing=`${Y}px`,O=!0;else N.letterSpacing="0px",N.textLetterSpacing="0px";if(Y===0||O){if(X)N.strokeText(Z,q,K);else N.fillText(Z,q,K);return}let U=q,$=N8.graphemeSegmenter(Z),B=N.measureText(Z).width,_=0;for(let W=0;W<$.length;++W){let w=$[W];if(X)N.strokeText(w,U,K);else N.fillText(w,U,K);let L="";for(let R=W+1;R<$.length;++R)L+=$[R];_=N.measureText(L).width,U+=B-_+Y,B=_}}}var DP,VY;var _P=F(()=>{E5();n1();n2();UP();cK();YY();D_();DP=new A0;VY=new BP});class OY{constructor(Z){this._activeTextures={},this._renderer=Z}getTexture(Z,J,Q,q){if(typeof Z==="string")q0("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),Z={text:Z,style:Q,resolution:J};if(!(Z.style instanceof X8))Z.style=new X8(Z.style);if(!(Z.textureStyle instanceof J8))Z.textureStyle=new J8(Z.textureStyle);if(typeof Z.text!=="string")Z.text=Z.text.toString();let{text:K,style:X,textureStyle:N}=Z,Y=Z.resolution??this._renderer.resolution,{frame:O,canvasAndContext:U}=VY.getCanvasAndContext({text:K,style:X,resolution:Y}),$=NY(U.canvas,O.width,O.height,Y);if(N)$.source.style=N;if(X.trim)O.pad(X.padding),$.frame.copyFrom(O),$.frame.scale(1/Y),$.updateUvs();if(X.filters){let B=this._applyFilters($,X.filters);return this.returnTexture($),VY.returnCanvasAndContext(U),B}return this._renderer.texture.initSource($._source),VY.returnCanvasAndContext(U),$}returnTexture(Z){let J=Z.source;J.resource=null,J.uploadMethodId="unknown",J.alphaMode="no-premultiply-alpha",a0.returnTexture(Z,!0)}renderTextToCanvas(){q0("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}getManagedTexture(Z){Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].texture;let Q=this.getTexture({text:Z.text,style:Z.style,resolution:Z._resolution,textureStyle:Z.textureStyle});return this._activeTextures[J]={texture:Q,usageCount:1},Q}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(J.usageCount--,J.usageCount===0)this.returnTexture(J.texture),this._activeTextures[Z]=null}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??0}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}_applyFilters(Z,J){let Q=this._renderer.renderTarget.renderTarget,q=this._renderer.filter.generateFilteredTexture({texture:Z,filters:J});return this._renderer.renderTarget.bind(Q,!1),q}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexture(this._activeTextures[Z].texture);this._activeTextures=null}}var MP=F(()=>{g();Z4();FZ();$1();dK();U_();_P();OY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"canvasText"}});var B_=F(()=>{g();Mk();MP();J0.add(OY);J0.add(oH)});var P6;var __=F(()=>{$1();oD();zY();P6=class P6 extends MK{constructor(Z){if(Z instanceof m5)Z={context:Z};let{context:J,roundPixels:Q,...q}=Z||{};super({label:"Graphics",...q});if(this.renderPipeId="graphics",!J)this._context=this._ownedContext=new m5;else this._context=J;this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=Q??!1}set context(Z){if(Z===this._context)return;this._context.off("update",this.onViewUpdate,this),this._context=Z,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate()}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(Z){return this._context.containsPoint(Z)}destroy(Z){if(this._ownedContext&&!Z)this._ownedContext.destroy(Z);else if(Z===!0||Z?.context===!0)this._context.destroy(Z);this._ownedContext=null,this._context=null,super.destroy(Z)}_callContextMethod(Z,J){return this.context[Z](...J),this}setFillStyle(...Z){return this._callContextMethod("setFillStyle",Z)}setStrokeStyle(...Z){return this._callContextMethod("setStrokeStyle",Z)}fill(...Z){return this._callContextMethod("fill",Z)}stroke(...Z){return this._callContextMethod("stroke",Z)}texture(...Z){return this._callContextMethod("texture",Z)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...Z){return this._callContextMethod("arc",Z)}arcTo(...Z){return this._callContextMethod("arcTo",Z)}arcToSvg(...Z){return this._callContextMethod("arcToSvg",Z)}bezierCurveTo(...Z){return this._callContextMethod("bezierCurveTo",Z)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...Z){return this._callContextMethod("ellipse",Z)}circle(...Z){return this._callContextMethod("circle",Z)}path(...Z){return this._callContextMethod("path",Z)}lineTo(...Z){return this._callContextMethod("lineTo",Z)}moveTo(...Z){return this._callContextMethod("moveTo",Z)}quadraticCurveTo(...Z){return this._callContextMethod("quadraticCurveTo",Z)}rect(...Z){return this._callContextMethod("rect",Z)}roundRect(...Z){return this._callContextMethod("roundRect",Z)}poly(...Z){return this._callContextMethod("poly",Z)}regularPoly(...Z){return this._callContextMethod("regularPoly",Z)}roundPoly(...Z){return this._callContextMethod("roundPoly",Z)}roundShape(...Z){return this._callContextMethod("roundShape",Z)}filletRect(...Z){return this._callContextMethod("filletRect",Z)}chamferRect(...Z){return this._callContextMethod("chamferRect",Z)}star(...Z){return this._callContextMethod("star",Z)}svg(...Z){return this._callContextMethod("svg",Z)}restore(...Z){return this._callContextMethod("restore",Z)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...Z){return this._callContextMethod("rotate",Z)}scaleTransform(...Z){return this._callContextMethod("scale",Z)}setTransform(...Z){return this._callContextMethod("setTransform",Z)}transform(...Z){return this._callContextMethod("transform",Z)}translateTransform(...Z){return this._callContextMethod("translate",Z)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(Z){this._context.fillStyle=Z}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(Z){this._context.strokeStyle=Z}clone(Z=!1){if(Z)return new P6(this._context.clone());return this._ownedContext=null,new P6(this._context)}lineStyle(Z,J,Q){q0(V0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");let q={};return Z&&(q.width=Z),J&&(q.color=J),Q&&(q.alpha=Q),this.context.strokeStyle=q,this}beginFill(Z,J){q0(V0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");let Q={};if(Z!==void 0)Q.color=Z;if(J!==void 0)Q.alpha=J;return this.context.fillStyle=Q,this}endFill(){q0(V0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();let Z=this.context.strokeStyle;if(Z.width!==m5.defaultStrokeStyle.width||Z.color!==m5.defaultStrokeStyle.color||Z.alpha!==m5.defaultStrokeStyle.alpha)this.context.stroke();return this}drawCircle(...Z){return q0(V0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",Z)}drawEllipse(...Z){return q0(V0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",Z)}drawPolygon(...Z){return q0(V0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",Z)}drawRect(...Z){return q0(V0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",Z)}drawRoundedRect(...Z){return q0(V0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",Z)}drawStar(...Z){return q0(V0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",Z)}}});var WP,GP;var FP=F(()=>{WP={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},GP={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}}});var jP,wP;var LP=F(()=>{jP={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},wP={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}}});var M_,W_,G_;var CP=F(()=>{I0();B9();TK();SK();_9();hH();S6();I5();FP();LP();G_=class G_ extends T1{constructor(Z){let J=new p0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});M_??(M_=q4({name:"sdf-shader",bits:[f2,h2(Z),WP,jP,X4]})),W_??(W_=K4({name:"sdf-shader",bits:[y2,x2(Z),GP,wP,z4]}));super({glProgram:W_,gpuProgram:M_,resources:{localUniforms:J,batchSamplers:g2(Z)}})}}});var uK;var F_=F(()=>{B5();$1();uK=class uK extends t0{constructor(){super(...arguments);this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return q0(V0,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return q0(V0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return q0(V0,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return q0(V0,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return q0(V0,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(Z=!1){this.emit("destroy",this),this.removeAllListeners();for(let J in this.chars)this.chars[J].texture?.destroy();if(this.chars=null,Z)this.pages.forEach((J)=>J.texture.destroy(!0)),this.pages=null}}});var RP,j_;var EP=F(()=>{E5();n1();n2();S2();u0();FZ();$1();cK();YY();D_();dK();F_();RP=class Z extends uK{constructor(J){super();this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;let Q={...Z.defaultOptions,...J};this._textureSize=Q.textureSize,this._mipmap=Q.mipmap;let q=Q.style.clone();if(Q.overrideFill)q._fill.color=16777215,q._fill.alpha=1,q._fill.texture=p.WHITE,q._fill.fill=null;this.applyFillAsTint=Q.overrideFill;let K=q.fontSize;q.fontSize=this.baseMeasurementFontSize;let X=hZ(q);if(Q.overrideSize){if(q._stroke)q._stroke.width*=this.baseRenderedFontSize/K}else q.fontSize=this.baseRenderedFontSize=K;if(this._style=q,this._skipKerning=Q.skipKerning??!1,this.resolution=Q.resolution??1,this._padding=Q.padding??4,Q.textureStyle)this._textureStyle=Q.textureStyle instanceof J8?Q.textureStyle:new J8(Q.textureStyle);this.fontMetrics=N8.measureFont(X),this.lineHeight=q.lineHeight||this.fontMetrics.fontSize||q.fontSize}ensureCharacters(J){let Q=N8.graphemeSegmenter(J).filter((R)=>!this._currentChars.includes(R)).filter((R,G,j)=>j.indexOf(R)===G);if(!Q.length)return;this._currentChars=[...this._currentChars,...Q];let q;if(this._currentPageIndex===-1)q=this._nextPage();else q=this.pages[this._currentPageIndex];let{canvas:K,context:X}=q.canvasAndContext,N=q.texture.source,Y=this._style,O=this._currentX,U=this._currentY,$=this._currentMaxCharHeight,B=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*B,W=!1,w=K.width/this.resolution,L=K.height/this.resolution;for(let R=0;R<Q.length;R++){let G=Q[R],j=N8.measureText(G,Y,K,!1);j.lineHeight=j.height;let C=j.width*B,T=Math.ceil((Y.fontStyle==="italic"?2:1)*C),v=j.height*B,f=T+_*2,b=v+_*2;if(W=!1,G!==`
`&&G!=="\r"&&G!=="\t"&&G!==" ")W=!0,$=Math.ceil(Math.max(b,$));if(O+f>w){if(U+=$,$=b,O=0,U+$>L){N.update();let u=this._nextPage();K=u.canvasAndContext.canvas,X=u.canvasAndContext.context,N=u.texture.source,O=0,U=0,$=0}}let m=C/B-(Y.dropShadow?.distance??0)-(Y._stroke?.width??0);if(this.chars[G]={id:G.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:m,kerning:{}},W){this._drawGlyph(X,j,O+_,U+_,B,Y);let u=N.width*B,l=N.height*B,o=new A0(O/u*N.width,U/l*N.height,f/u*N.width,b/l*N.height);this.chars[G].texture=new p({source:N,frame:o}),O+=Math.ceil(f)}}N.update(),this._currentX=O,this._currentY=U,this._currentMaxCharHeight=$,this._skipKerning&&this._applyKerning(Q,X)}get pageTextures(){return q0(V0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(J,Q){let q=this._measureCache;for(let K=0;K<J.length;K++){let X=J[K];for(let N=0;N<this._currentChars.length;N++){let Y=this._currentChars[N],O=q[X];if(!O)O=q[X]=Q.measureText(X).width;let U=q[Y];if(!U)U=q[Y]=Q.measureText(Y).width;let $=Q.measureText(X+Y).width,B=$-(O+U);if(B)this.chars[X].kerning[Y]=B;if($=Q.measureText(X+Y).width,B=$-(O+U),B)this.chars[Y].kerning[X]=B}}}_nextPage(){this._currentPageIndex++;let J=this.resolution,Q=z8.getOptimalCanvasAndContext(this._textureSize,this._textureSize,J);this._setupContext(Q.context,this._style,J);let q=J*(this.baseRenderedFontSize/this.baseMeasurementFontSize),K=new p({source:new b8({resource:Q.canvas,resolution:q,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});if(this._textureStyle)K.source.style=this._textureStyle;let X={canvasAndContext:Q,texture:K};return this.pages[this._currentPageIndex]=X,X}_setupContext(J,Q,q){Q.fontSize=this.baseRenderedFontSize,J.scale(q,q),J.font=hZ(Q),Q.fontSize=this.baseMeasurementFontSize,J.textBaseline=Q.textBaseline;let K=Q._stroke,X=K?.width??0;if(K)J.lineWidth=X,J.lineJoin=K.join,J.miterLimit=K.miterLimit,J.strokeStyle=o2(K,J);if(Q._fill)J.fillStyle=o2(Q._fill,J);if(Q.dropShadow){let N=Q.dropShadow,Y=G0.shared.setValue(N.color).toArray(),O=N.blur*q,U=N.distance*q;J.shadowColor=`rgba(${Y[0]*255},${Y[1]*255},${Y[2]*255},${N.alpha})`,J.shadowBlur=O,J.shadowOffsetX=Math.cos(N.angle)*U,J.shadowOffsetY=Math.sin(N.angle)*U}else J.shadowColor="black",J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0}_drawGlyph(J,Q,q,K,X,N){let{text:Y,fontProperties:O}=Q,$=(N._stroke?.width??0)*X,B=q+$/2,_=K-$/2,W=O.descent*X,w=Q.lineHeight*X,L=!1;if(N.stroke&&$)L=!0,J.strokeText(Y,B,_+w-W);let{shadowBlur:R,shadowOffsetX:G,shadowOffsetY:j}=J;if(N._fill){if(L)J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0;J.fillText(Y,B,_+w-W)}if(L)J.shadowBlur=R,J.shadowOffsetX=G,J.shadowOffsetY=j}destroy(){super.destroy();for(let J=0;J<this.pages.length;J++){let{canvasAndContext:Q,texture:q}=this.pages[J];z8.returnCanvasAndContext(Q),q.destroy(!0)}this.pages=null}};RP.defaultOptions={textureSize:512,style:new X8,mipmap:!0};j_=RP});function UY(Z,J,Q,q){let K={width:0,height:0,offsetY:0,scale:J.fontSize/Q.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};K.offsetY=Q.baseLineOffset;let X=K.lines[0],N=null,Y=!0,O={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},U=Q.baseMeasurementFontSize/J.fontSize,$=J.letterSpacing*U,B=J.wordWrapWidth*U,_=J.lineHeight?J.lineHeight*U:Q.lineHeight,W=J.wordWrap&&J.breakWords,w=(G)=>{let j=X.width;for(let C=0;C<O.index;C++){let T=G.positions[C];X.chars.push(G.chars[C]),X.charPositions.push(T+j)}X.width+=G.width,Y=!1,O.width=0,O.index=0,O.chars.length=0},L=()=>{let G=X.chars.length-1;if(q){let j=X.chars[G];while(j===" ")X.width-=Q.chars[j].xAdvance,j=X.chars[--G]}K.width=Math.max(K.width,X.width),X={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},Y=!0,K.lines.push(X),K.height+=_},R=(G)=>G-$>B;for(let G=0;G<Z.length+1;G++){let j,C=G===Z.length;if(!C)j=Z[G];let T=Q.chars[j]||Q.chars[" "];if(/(?:\s)/.test(j)||j==="\r"||j===`
`||C){if(!Y&&J.wordWrap&&R(X.width+O.width)){if(L(),w(O),!C)X.charPositions.push(0)}else if(O.start=X.width,w(O),!C)X.charPositions.push(0);if(j==="\r"||j===`
`)L();else if(!C){let m=T.xAdvance+(T.kerning[N]||0)+$;X.width+=m,X.spaceWidth=m,X.spacesIndex.push(X.charPositions.length),X.chars.push(j)}}else{let b=T.kerning[N]||0,m=T.xAdvance+b+$;if(W&&R(X.width+O.width+m))w(O),L();O.positions[O.index++]=O.width+b,O.chars.push(j),O.width+=m}N=j}if(L(),J.align==="center")wa(K);else if(J.align==="right")La(K);else if(J.align==="justify")Ca(K);return K}function wa(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width/2-Q.width/2;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function La(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width-Q.width;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function Ca(Z){let J=Z.width;for(let Q=0;Q<Z.lines.length;Q++){let q=Z.lines[Q],K=0,X=q.spacesIndex[K++],N=0,Y=q.spacesIndex.length,U=(J-q.width)/Y;for(let $=0;$<q.charPositions.length;$++){if($===X)X=q.spacesIndex[K++],N+=U;q.charPositions[$]+=N}}}var w_=()=>{};function IP(Z){if(Z==="")return[];if(typeof Z==="string")Z=[Z];let J=[];for(let Q=0,q=Z.length;Q<q;Q++){let K=Z[Q];if(Array.isArray(K)){if(K.length!==2)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${K.length}.`);if(K[0].length===0||K[1].length===0)throw Error("[BitmapFont]: Invalid character delimiter.");let X=K[0].charCodeAt(0),N=K[1].charCodeAt(0);if(N<X)throw Error("[BitmapFont]: Invalid character range.");for(let Y=X,O=N;Y<=O;Y++)J.push(String.fromCharCode(Y))}else J.push(...Array.from(K))}if(J.length===0)throw Error("[BitmapFont]: Empty set when resolving characters.");return J}var TP=()=>{};class SP{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=HY(1000)}getFont(Z,J){let Q=`${J.fontFamily}-bitmap`,q=!0;if(J._fill.fill&&!J._stroke)Q+=J._fill.fill.styleKey,q=!1;else if(J._stroke||J.dropShadow)Q=`${J.styleKey}-bitmap`,q=!1;if(!P0.has(Q)){let X=Object.create(J);X.lineHeight=0;let N=new j_({style:X,overrideFill:q,overrideSize:!0,...this.defaultOptions});if(AY++,AY>50)e("BitmapText",`You have dynamically created ${AY} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``);N.once("destroy",()=>{AY--,P0.remove(Q)}),P0.set(Q,N)}let K=P0.get(Q);return K.ensureCharacters?.(Z),K}getLayout(Z,J,Q=!0){let q=this.getFont(Z,J),K=`${Z}-${J.styleKey}-${Q}`;if(this.measureCache.has(K))return this.measureCache.get(K);let X=N8.graphemeSegmenter(Z),N=UY(X,J,q,Q);return this.measureCache.set(K,N),N}measureText(Z,J,Q=!0){return this.getLayout(Z,J,Q)}install(...Z){let J=Z[0];if(typeof J==="string")J={name:J,style:Z[1],chars:Z[2]?.chars,resolution:Z[2]?.resolution,padding:Z[2]?.padding,skipKerning:Z[2]?.skipKerning},q0(V0,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})");let Q=J?.name;if(!Q)throw Error("[BitmapFontManager] Property `name` is required.");J={...this.defaultOptions,...J};let q=J.style,K=q instanceof X8?q:new X8(q),X=J.dynamicFill??this._canUseTintForStyle(K),N=new j_({style:K,overrideFill:X,skipKerning:J.skipKerning,padding:J.padding,resolution:J.resolution,overrideSize:!1,textureStyle:J.textureStyle}),Y=IP(J.chars);return N.ensureCharacters(Y.join("")),P0.set(`${Q}-bitmap`,N),N.once("destroy",()=>P0.remove(`${Q}-bitmap`)),N}uninstall(Z){let J=`${Z}-bitmap`,Q=P0.get(J);if(Q)Q.destroy()}_canUseTintForStyle(Z){return!Z._stroke&&(!Z.dropShadow||Z.dropShadow.color===0)&&!Z._fill.fill&&Z._fill.color===16777215}}var AY=0,lK;var L_=F(()=>{A_();U9();$1();c0();cK();dK();EP();w_();TP();lK=new SP});class $Y{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuBitmapText(Z);return this._renderer.renderPipes.graphics.validateRenderable(J)}addRenderable(Z,J){let Q=this._getGpuBitmapText(Z);if(bP(Z,Q),Z._didTextUpdate)Z._didTextUpdate=!1,this._updateContext(Z,Q);if(this._renderer.renderPipes.graphics.addRenderable(Q,J),Q.context.customShader)this._updateDistanceField(Z)}updateRenderable(Z){let J=this._getGpuBitmapText(Z);if(bP(Z,J),this._renderer.renderPipes.graphics.updateRenderable(J),J.context.customShader)this._updateDistanceField(Z)}_updateContext(Z,J){let{context:Q}=J,q=lK.getFont(Z.text,Z._style);if(Q.clear(),q.distanceField.type!=="none"){if(!Q.customShader)Q.customShader=new G_(this._renderer.limits.maxBatchableTextures)}let K=N8.graphemeSegmenter(Z.text),X=Z._style,N=q.baseLineOffset,Y=UY(K,X,q,!0),O=X.padding,U=Y.scale,$=Y.width,B=Y.height+Y.offsetY;if(X._stroke)$+=X._stroke.width/U,B+=X._stroke.width/U;Q.translate(-Z._anchor._x*$-O,-Z._anchor._y*B-O).scale(U,U);let _=q.applyFillAsTint?X._fill.color:16777215,W=q.fontMetrics.fontSize,w=q.lineHeight;if(X.lineHeight)W=X.fontSize/U,w=X.lineHeight/U;let L=(w-W)/2;if(L-q.baseLineOffset<0)L=0;for(let R=0;R<Y.lines.length;R++){let G=Y.lines[R];for(let j=0;j<G.charPositions.length;j++){let C=G.chars[j],T=q.chars[C];if(T?.texture){let v=T.texture;Q.texture(v,_?_:"black",Math.round(G.charPositions[j]+T.xOffset),Math.round(N+T.yOffset+L),v.orig.width,v.orig.height)}}N+=w}}_getGpuBitmapText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new kP;return Z._gpuData[this._renderer.uid]=J,this._updateContext(Z,J),J}_updateDistanceField(Z){let J=this._getGpuBitmapText(Z).context,Q=Z._style.fontFamily,q=P0.get(`${Q}-bitmap`),{a:K,b:X,c:N,d:Y}=Z.groupTransform,O=Math.sqrt(K*K+X*X),U=Math.sqrt(N*N+Y*Y),$=(Math.abs(O)+Math.abs(U))/2,B=q.baseRenderedFontSize/Z._style.fontSize,_=$*q.distanceField.range*(1/B);J.customShader.resources.localUniforms.uniforms.uDistance=_}destroy(){this._renderer=null}}function bP(Z,J){J.groupTransform=Z.groupTransform,J.groupColorAlpha=Z.groupColorAlpha,J.groupColor=Z.groupColor,J.groupBlendMode=Z.groupBlendMode,J.globalDisplayStatus=Z.globalDisplayStatus,J.groupTransform=Z.groupTransform,J.localDisplayStatus=Z.localDisplayStatus,J.groupAlpha=Z.groupAlpha,J._roundPixels=Z._roundPixels}var kP;var PP=F(()=>{U9();g();__();cK();CP();L_();w_();kP=class kP extends P6{destroy(){if(this.context.customShader)this.context.customShader.destroy();super.destroy()}};$Y.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"bitmapText"}});var C_=F(()=>{g();PP();J0.add($Y)});var R_;var vP=F(()=>{xK();R_=class R_ extends Q7{constructor(Z){super();this.generatingTexture=!1,this.currentKey="--",this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{htmlText:Z}=this._renderer;Z.getReferenceCount(this.currentKey)===null?Z.returnTexturePromise(this.texturePromise):Z.decreaseReferenceCount(this.currentKey),this._renderer.runners.resolutionChange.remove(this),this.texturePromise=null,this._renderer=null}}});class DY{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return!1}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z).catch((K)=>{console.error(K)});Z._didTextUpdate=!1,hK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}async _updateGpuText(Z){Z._didTextUpdate=!1;let J=this._getGpuText(Z);if(J.generatingTexture)return;let Q=J.texturePromise;J.texturePromise=null,J.generatingTexture=!0,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let q=this._renderer.htmlText.getTexturePromise(Z);if(Q)q=q.finally(()=>{this._renderer.htmlText.decreaseReferenceCount(J.currentKey),this._renderer.htmlText.returnTexturePromise(Q)});J.texturePromise=q,J.currentKey=Z.styleKey,J.texture=await q;let K=Z.renderGroup||Z.parentRenderGroup;if(K)K.structureDidChange=!0;J.generatingTexture=!1,hK(J,Z)}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new R_(this._renderer);return J.renderable=Z,J.transform=Z.groupTransform,J.texture=p.EMPTY,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var fP=F(()=>{g();u0();sB();vP();DY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"htmlText"}});function yP(){let{userAgent:Z}=K0.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(Z)}var hP=F(()=>{l0()});class pK{constructor(){this.svgRoot=document.createElementNS(xP,"svg"),this.foreignObject=document.createElementNS(xP,"foreignObject"),this.domElement=document.createElementNS(gP,"div"),this.styleElement=document.createElementNS(gP,"style");let{foreignObject:Z,svgRoot:J,styleElement:Q,domElement:q}=this;Z.setAttribute("width","10000"),Z.setAttribute("height","10000"),Z.style.overflow="hidden",J.appendChild(Z),Z.appendChild(Q),Z.appendChild(q),this.image=K0.get().createImage()}destroy(){this.svgRoot.remove(),this.foreignObject.remove(),this.styleElement.remove(),this.domElement.remove(),this.image.src="",this.image.remove(),this.svgRoot=null,this.foreignObject=null,this.styleElement=null,this.domElement=null,this.image=null,this.canvasAndContext=null}}var xP="http://www.w3.org/2000/svg",gP="http://www.w3.org/1999/xhtml";var E_=F(()=>{l0()});function mP(Z,J){let Q=J.fontFamily,q=[],K={},X=/font-family:([^;"\s]+)/g,N=Z.match(X);function Y(O){if(!K[O])q.push(O),K[O]=!0}if(Array.isArray(Q))for(let O=0;O<Q.length;O++)Y(Q[O]);else Y(Q);if(N)N.forEach((O)=>{let U=O.split(":")[1].trim();Y(U)});for(let O in J.tagStyles){let U=J.tagStyles[O].fontFamily;Y(U)}return q}var dP=()=>{};async function cP(Z){let Q=await(await K0.get().fetch(Z)).blob(),q=new FileReader;return await new Promise((X,N)=>{q.onloadend=()=>X(q.result),q.onerror=N,q.readAsDataURL(Q)})}var uP=F(()=>{l0()});async function lP(Z,J){let Q=await cP(J);return`@font-face {
        font-family: "${Z.fontFamily}";
        font-weight: ${Z.fontWeight};
        font-style: ${Z.fontStyle};
        src: url('${Q}');
    }`}var pP=F(()=>{uP()});async function iP(Z){let J=Z.filter((Q)=>P0.has(`${Q}-and-url`)).map((Q)=>{if(!I_.has(Q)){let{entries:q}=P0.get(`${Q}-and-url`),K=[];q.forEach((X)=>{let N=X.url,O=X.faces.map((U)=>({weight:U.weight,style:U.style}));K.push(...O.map((U)=>lP({fontWeight:U.weight,fontStyle:U.style,fontFamily:Q},N)))}),I_.set(Q,Promise.all(K).then((X)=>X.join(`
`)))}return I_.get(Q)});return(await Promise.all(J)).join(`
`)}var I_;var aP=F(()=>{U9();pP();I_=new Map});function sP(Z,J,Q,q,K){let{domElement:X,styleElement:N,svgRoot:Y}=K;X.innerHTML=`<style>${J.cssStyle}</style><div style='padding:0;'>${Z}</div>`,X.setAttribute("style",`transform: scale(${Q});transform-origin: top left; display: inline-block`),N.textContent=q;let{width:O,height:U}=K.image;return Y.setAttribute("width",O.toString()),Y.setAttribute("height",U.toString()),new XMLSerializer().serializeToString(Y)}var nP=()=>{};function oP(Z,J){let Q=z8.getOptimalCanvasAndContext(Z.width,Z.height,J),{context:q}=Q;return q.clearRect(0,0,Z.width,Z.height),q.drawImage(Z,0,0),Q}var tP=F(()=>{n2()});function rP(Z,J,Q){return new Promise(async(q)=>{if(Q)await new Promise((K)=>setTimeout(K,100));Z.onload=()=>{q()},Z.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(J)}`,Z.crossOrigin="anonymous"})}var eP=()=>{};function Jv(Z,J,Q,q){q||(q=Zv||(Zv=new pK));let{domElement:K,styleElement:X,svgRoot:N}=q;if(K.innerHTML=`<style>${J.cssStyle};</style><div style='padding:0'>${Z}</div>`,K.setAttribute("style","transform-origin: top left; display: inline-block"),Q)X.textContent=Q;document.body.appendChild(N);let Y=K.getBoundingClientRect();N.remove();let O=J.padding*2;return{width:Y.width-O,height:Y.height-O}}var Zv;var Qv=F(()=>{E_()});class BY{constructor(Z){this._activeTextures={},this._renderer=Z,this._createCanvas=Z.type===_1.WEBGPU}getTexture(Z){return this.getTexturePromise(Z)}getManagedTexture(Z){let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].promise;let Q=this._buildTexturePromise(Z).then((q)=>{return this._activeTextures[J].texture=q,q});return this._activeTextures[J]={texture:null,promise:Q,usageCount:1},Q}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??null}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(!J)return;if(J.usageCount--,J.usageCount===0){if(J.texture)this._cleanUp(J.texture);else J.promise.then((Q)=>{J.texture=Q,this._cleanUp(J.texture)}).catch(()=>{e("HTMLTextSystem: Failed to clean texture")});this._activeTextures[Z]=null}}getTexturePromise(Z){return this._buildTexturePromise(Z)}async _buildTexturePromise(Z){let{text:J,style:Q,resolution:q,textureStyle:K}=Z,X=r0.get(pK),N=mP(J,Q),Y=await iP(N),O=Jv(J,Q,Y,X),U=Math.ceil(Math.ceil(Math.max(1,O.width)+Q.padding*2)*q),$=Math.ceil(Math.ceil(Math.max(1,O.height)+Q.padding*2)*q),B=X.image,_=2;B.width=(U|0)+2,B.height=($|0)+2;let W=sP(J,Q,q,Y,X);await rP(B,W,yP()&&N.length>0);let w=B,L;if(this._createCanvas)L=oP(B,q);let R=NY(L?L.canvas:w,B.width-2,B.height-2,q);if(K)R.source.style=K;if(this._createCanvas)this._renderer.texture.initSource(R.source),z8.returnCanvasAndContext(L);return r0.return(X),R}returnTexturePromise(Z){Z.then((J)=>{this._cleanUp(J)}).catch(()=>{e("HTMLTextSystem: Failed to clean texture")})}_cleanUp(Z){a0.returnTexture(Z,!0),Z.source.resource=null,Z.source.uploadMethodId="unknown"}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexturePromise(this._activeTextures[Z].promise);this._activeTextures=null}}var qv=F(()=>{g();n2();Z4();N6();hP();c0();e6();U_();E_();dP();aP();nP();tP();eP();Qv();BY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"htmlText"}});var T_=F(()=>{g();fP();qv();J0.add(BY);J0.add(DY)});var Kv,t2;var _Y=F(()=>{$9();e4();P2();$1();Kv=class Z extends T6{constructor(...J){let Q=J[0]??{};if(Q instanceof Float32Array)q0(V0,"use new MeshGeometry({ positions, uvs, indices }) instead"),Q={positions:Q,uvs:J[1],indices:J[2]};Q={...Z.defaultOptions,...Q};let q=Q.positions||new Float32Array([0,0,1,0,1,1,0,1]),K=Q.uvs;if(!K)if(Q.positions)K=new Float32Array(q.length);else K=new Float32Array([0,0,1,0,1,1,0,1]);let X=Q.indices||new Uint32Array([0,1,2,0,2,3]),N=Q.shrinkBuffersToFit,Y=new v1({data:q,label:"attribute-mesh-positions",shrinkToFit:N,usage:F0.VERTEX|F0.COPY_DST}),O=new v1({data:K,label:"attribute-mesh-uvs",shrinkToFit:N,usage:F0.VERTEX|F0.COPY_DST}),U=new v1({data:X,label:"index-mesh-buffer",shrinkToFit:N,usage:F0.INDEX|F0.COPY_DST});super({attributes:{aPosition:{buffer:Y,format:"float32x2",stride:8,offset:0},aUV:{buffer:O,format:"float32x2",stride:8,offset:0}},indexBuffer:U,topology:Q.topology});this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(J){this.attributes.aPosition.buffer.data=J}get uvs(){return this.attributes.aUV.buffer.data}set uvs(J){this.attributes.aUV.buffer.data=J}get indices(){return this.indexBuffer.data}set indices(J){this.indexBuffer.data=J}};Kv.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};t2=Kv});var xZ,Xv,r2;var e2=F(()=>{xZ={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},Xv={...xZ,vertex:{...xZ.vertex,header:xZ.vertex.header.replace("group(1)","group(2)")}},r2={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}}});var zv,Nv;var Hv=F(()=>{zv={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},Nv={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}}});var S_,b_,k_;var Yv=F(()=>{I0();B9();e2();_9();S6();I5();u0();Hv();k_=class k_ extends T1{constructor(){S_??(S_=q4({name:"tiling-sprite-shader",bits:[xZ,zv,X4]})),b_??(b_=K4({name:"tiling-sprite-shader",bits:[r2,Nv,z4]}));let Z=new p0({uMapCoord:{value:new a,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new a,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,0.5,0.5]),type:"vec4<f32>"}});super({glProgram:b_,gpuProgram:S_,resources:{localUniforms:new p0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:Z,uTexture:p.EMPTY.source,uSampler:p.EMPTY.source.style}})}updateUniforms(Z,J,Q,q,K,X){let N=this.resources.tilingUniforms,Y=X.width,O=X.height,U=X.textureMatrix,$=N.uniforms.uTextureTransform;if($.set(Q.a*Y/Z,Q.b*Y/J,Q.c*O/Z,Q.d*O/J,Q.tx/Z,Q.ty/J),$.invert(),N.uniforms.uMapCoord=U.mapCoord,N.uniforms.uClampFrame=U.uClampFrame,N.uniforms.uClampOffset=U.uClampOffset,N.uniforms.uTextureTransform=$,N.uniforms.uSizeAnchor[0]=Z,N.uniforms.uSizeAnchor[1]=J,N.uniforms.uSizeAnchor[2]=q,N.uniforms.uSizeAnchor[3]=K,X)this.resources.uTexture=X.source,this.resources.uSampler=X.source.style}}});var P_;var Vv=F(()=>{_Y();P_=class P_ extends t2{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}});function Ov(Z,J){let Q=Z.anchor.x,q=Z.anchor.y;J[0]=-Q*Z.width,J[1]=-q*Z.height,J[2]=(1-Q)*Z.width,J[3]=-q*Z.height,J[4]=(1-Q)*Z.width,J[5]=(1-q)*Z.height,J[6]=-Q*Z.width,J[7]=(1-q)*Z.height}var Uv=()=>{};function Av(Z,J,Q,q){let K=0,X=Z.length/(J||2),N=q.a,Y=q.b,O=q.c,U=q.d,$=q.tx,B=q.ty;Q*=J;while(K<X){let _=Z[Q],W=Z[Q+1];Z[Q]=N*_+O*W+$,Z[Q+1]=Y*_+U*W+B,Q+=J,K++}}var $v=()=>{};function Dv(Z,J){let Q=Z.texture,q=Q.frame.width,K=Q.frame.height,X=0,N=0;if(Z.applyAnchorToTexture)X=Z.anchor.x,N=Z.anchor.y;J[0]=J[6]=-X,J[2]=J[4]=1-X,J[1]=J[3]=-N,J[5]=J[7]=1-N;let Y=a.shared;Y.copyFrom(Z._tileTransform.matrix),Y.tx/=Z.width,Y.ty/=Z.height,Y.invert(),Y.scale(Z.width/q,Z.height/K),Av(J,2,0,Y)}var Bv=F(()=>{I0();$v()});class _v{constructor(){this.canBatch=!0,this.geometry=new t2({indices:MY.indices.slice(),positions:MY.positions.slice(),uvs:MY.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class WY{constructor(Z){this._state=f1.default2d,this._renderer=Z}validateRenderable(Z){let J=this._getTilingSpriteData(Z),Q=J.canBatch;this._updateCanBatch(Z);let q=J.canBatch;if(q&&q===Q){let{batchableMesh:K}=J;return!K._batcher.checkAndUpdateTexture(K,Z.texture)}return Q!==q}addRenderable(Z,J){let Q=this._renderer.renderPipes.batch;this._updateCanBatch(Z);let q=this._getTilingSpriteData(Z),{geometry:K,canBatch:X}=q;if(X){q.batchableMesh||(q.batchableMesh=new vZ);let N=q.batchableMesh;if(Z.didViewUpdate)this._updateBatchableMesh(Z),N.geometry=K,N.renderable=Z,N.transform=Z.groupTransform,N.setTexture(Z._texture);N.roundPixels=this._renderer._roundPixels|Z._roundPixels,Q.addToBatch(N,J)}else Q.break(J),q.shader||(q.shader=new k_),this.updateRenderable(Z),J.add(Z)}execute(Z){let{shader:J}=this._getTilingSpriteData(Z);J.groups[0]=this._renderer.globalUniforms.bindGroup;let Q=J.resources.localUniforms.uniforms;Q.uTransformMatrix=Z.groupTransform,Q.uRound=this._renderer._roundPixels|Z._roundPixels,N4(Z.groupColorAlpha,Q.uColor,0),this._state.blendMode=r4(Z.groupBlendMode,Z.texture._source),this._renderer.encoder.draw({geometry:MY,shader:J,state:this._state})}updateRenderable(Z){let J=this._getTilingSpriteData(Z),{canBatch:Q}=J;if(Q){let{batchableMesh:q}=J;if(Z.didViewUpdate)this._updateBatchableMesh(Z);q._batcher.updateElement(q)}else if(Z.didViewUpdate){let{shader:q}=J;q.updateUniforms(Z.width,Z.height,Z._tileTransform.matrix,Z.anchor.x,Z.anchor.y,Z.texture)}}_getTilingSpriteData(Z){return Z._gpuData[this._renderer.uid]||this._initTilingSpriteData(Z)}_initTilingSpriteData(Z){let J=new _v;return J.renderable=Z,Z._gpuData[this._renderer.uid]=J,J}_updateBatchableMesh(Z){let J=this._getTilingSpriteData(Z),{geometry:Q}=J,q=Z.texture.source.style;if(q.addressMode!=="repeat")q.addressMode="repeat",q.update();Dv(Z,Q.uvs),Ov(Z,Q.positions)}destroy(){this._renderer=null}_updateCanBatch(Z){let J=this._getTilingSpriteData(Z),Q=Z.texture,q=!0;if(this._renderer.type===_1.WEBGL)q=this._renderer.context.supports.nonPowOf2wrapping;return J.canBatch=Q.textureMatrix.isSimple&&(q||Q.source.isPowerOfTwo),J.canBatch}}var MY;var Mv=F(()=>{g();wK();b6();N6();p2();iH();_Y();Yv();Vv();Uv();Bv();MY=new P_;WY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"tilingSprite"}});var v_=F(()=>{g();Mv();J0.add(WY)});var Wv,Gv;var Fv=F(()=>{$1();_Y();Wv=class Z extends t2{constructor(...J){super({});let Q=J[0]??{};if(typeof Q==="number")q0(V0,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),Q={width:Q,height:J[1],verticesX:J[2],verticesY:J[3]};this.build(Q)}build(J){J={...Z.defaultOptions,...J},this.verticesX=this.verticesX??J.verticesX,this.verticesY=this.verticesY??J.verticesY,this.width=this.width??J.width,this.height=this.height??J.height;let Q=this.verticesX*this.verticesY,q=[],K=[],X=[],N=this.verticesX-1,Y=this.verticesY-1,O=this.width/N,U=this.height/Y;for(let B=0;B<Q;B++){let _=B%this.verticesX,W=B/this.verticesX|0;q.push(_*O,W*U),K.push(_/N,W/Y)}let $=N*Y;for(let B=0;B<$;B++){let _=B%N,W=B/N|0,w=W*this.verticesX+_,L=W*this.verticesX+_+1,R=(W+1)*this.verticesX+_,G=(W+1)*this.verticesX+_+1;X.push(w,L,R,L,G,R)}this.buffers[0].data=new Float32Array(q),this.buffers[1].data=new Float32Array(K),this.indexBuffer.data=new Uint32Array(X),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};Wv.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};Gv=Wv});var jv,wv;var Lv=F(()=>{Fv();jv=class Z extends Gv{constructor(J={}){J={...Z.defaultOptions,...J};super({width:J.width,height:J.height,verticesX:4,verticesY:4});this.update(J)}update(J){this.width=J.width??this.width,this.height=J.height??this.height,this._originalWidth=J.originalWidth??this._originalWidth,this._originalHeight=J.originalHeight??this._originalHeight,this._leftWidth=J.leftWidth??this._leftWidth,this._rightWidth=J.rightWidth??this._rightWidth,this._topHeight=J.topHeight??this._topHeight,this._bottomHeight=J.bottomHeight??this._bottomHeight,this._anchorX=J.anchor?.x,this._anchorY=J.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){let J=this.positions,{width:Q,height:q,_leftWidth:K,_rightWidth:X,_topHeight:N,_bottomHeight:Y,_anchorX:O,_anchorY:U}=this,$=K+X,B=Q>$?1:Q/$,_=N+Y,W=q>_?1:q/_,w=Math.min(B,W),L=O*Q,R=U*q;J[0]=J[8]=J[16]=J[24]=-L,J[2]=J[10]=J[18]=J[26]=K*w-L,J[4]=J[12]=J[20]=J[28]=Q-X*w-L,J[6]=J[14]=J[22]=J[30]=Q-L,J[1]=J[3]=J[5]=J[7]=-R,J[9]=J[11]=J[13]=J[15]=N*w-R,J[17]=J[19]=J[21]=J[23]=q-Y*w-R,J[25]=J[27]=J[29]=J[31]=q-R,this.getBuffer("aPosition").update()}updateUvs(){let J=this.uvs;J[0]=J[8]=J[16]=J[24]=0,J[1]=J[3]=J[5]=J[7]=0,J[6]=J[14]=J[22]=J[30]=1,J[25]=J[27]=J[29]=J[31]=1;let Q=1/this._originalWidth,q=1/this._originalHeight;J[2]=J[10]=J[18]=J[26]=Q*this._leftWidth,J[9]=J[11]=J[13]=J[15]=q*this._topHeight,J[4]=J[12]=J[20]=J[28]=1-Q*this._rightWidth,J[17]=J[19]=J[21]=J[23]=1-q*this._bottomHeight,this.getBuffer("aUV").update()}};jv.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};wv=jv});class GY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.geometry.update(Z),J.setTexture(Z._texture)}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=Z._gpuData[this._renderer.uid]=new Cv,Q=J;if(Q.renderable=Z,Q.transform=Z.groupTransform,Q.texture=Z._texture,Q.roundPixels=this._renderer._roundPixels|Z._roundPixels,!Z.didViewUpdate)this._updateBatchableSprite(Z,Q);return J}destroy(){this._renderer=null}}var Cv;var Rv=F(()=>{g();iH();Lv();Cv=class Cv extends vZ{constructor(){super();this.geometry=new wv}destroy(){this.geometry.destroy()}};GY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"nineSliceSprite"}});var f_=F(()=>{g();Rv();J0.add(GY)});class FY{constructor(Z){this._renderer=Z}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:J,filterEffect:Z})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(Z){if(Z.action==="pushFilter")this._renderer.filter.push(Z);else if(Z.action==="popFilter")this._renderer.filter.pop()}destroy(){this._renderer=null}}var Ev=F(()=>{g();FY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"filter"}});var Iv,D1;var gZ=F(()=>{Q4();J7();S6();b6();Iv=class Z extends T1{constructor(J){J={...Z.defaultOptions,...J};super(J);if(this.enabled=!0,this._state=f1.for2d(),this.blendMode=J.blendMode,this.padding=J.padding,typeof J.antialias==="boolean")this.antialias=J.antialias?"on":"off";else this.antialias=J.antialias;this.resolution=J.resolution,this.blendRequired=J.blendRequired,this.clipToViewport=J.clipToViewport,this.addResource("uTexture",0,1)}apply(J,Q,q,K){J.applyFilter(this,Q,q,K)}get blendMode(){return this._state.blendMode}set blendMode(J){this._state.blendMode=J}static from(J){let{gpu:Q,gl:q,...K}=J,X,N;if(Q)X=N5.from(Q);if(q)N=z5.from(q);return new Z({gpuProgram:X,glProgram:N,...K})}};Iv.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};D1=Iv});var jY=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;var y_=()=>{};var Tv=`in vec2 vTextureCoord;
out vec4 finalColor;
uniform sampler2D uTexture;
void main() {
    finalColor = texture(uTexture, vTextureCoord);
}
`;var Sv=()=>{};var h_=`struct GlobalFilterUniforms {
  uInputSize: vec4<f32>,
  uInputPixel: vec4<f32>,
  uInputClamp: vec4<f32>,
  uOutputFrame: vec4<f32>,
  uGlobalFrame: vec4<f32>,
  uOutputTexture: vec4<f32>,
};

@group(0) @binding(0) var <uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler: sampler;

struct VSOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) uv: vec2<f32>
};

fn filterVertexPosition(aPosition: vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0 * gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord(aPosition: vec2<f32>) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition: vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {
    return textureSample(uTexture, uSampler, uv);
}
`;var bv=()=>{};var x_;var kv=F(()=>{Q4();J7();gZ();y_();Sv();bv();x_=class x_ extends D1{constructor(){let Z=N5.from({vertex:{source:h_,entryPoint:"mainVertex"},fragment:{source:h_,entryPoint:"mainFragment"},name:"passthrough-filter"}),J=z5.from({vertex:jY,fragment:Tv,name:"passthrough-filter"});super({gpuProgram:Z,glProgram:J})}}});function vv(Z,J){J.clear();let Q=J.matrix;for(let q=0;q<Z.length;q++){let K=Z[q];if(K.globalDisplayStatus<7)continue;let X=K.renderGroup??K.parentRenderGroup;if(X?.isCachedAsTexture)J.matrix=Pv.copyFrom(X.textureOffsetInverseTransform).append(K.worldTransform);else if(X?._parentCacheAsTextureRenderGroup)J.matrix=Pv.copyFrom(X._parentCacheAsTextureRenderGroup.inverseWorldTransform).append(K.groupTransform);else J.matrix=K.worldTransform;J.addBounds(K.bounds)}return J.matrix=Q,J}var Pv;var fv=F(()=>{I0();Pv=new a});class yv{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new e0,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0},this.firstEnabledIndex=-1,this.lastEnabledIndex=-1}}class wY{constructor(Z){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new p0({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new M5({}),this.renderer=Z}get activeBackTexture(){return this._activeFilterData?.backTexture}push(Z){let J=this.renderer,Q=Z.filterEffect.filters,q=this._pushFilterData();q.skip=!1,q.filters=Q,q.container=Z.container,q.outputRenderSurface=J.renderTarget.renderSurface;let K=J.renderTarget.renderTarget.colorTexture.source,X=K.resolution,N=K.antialias;if(Q.every((_)=>!_.enabled)){q.skip=!0;return}let Y=q.bounds;if(this._calculateFilterArea(Z,Y),this._calculateFilterBounds(q,J.renderTarget.rootViewPort,N,X,1),q.skip)return;let O=this._getPreviousFilterData(),U=this._findFilterResolution(X),$=0,B=0;if(O)$=O.bounds.minX,B=O.bounds.minY;this._calculateGlobalFrame(q,$,B,U,K.width,K.height),this._setupFilterTextures(q,Y,J,O)}generateFilteredTexture({texture:Z,filters:J}){let Q=this._pushFilterData();this._activeFilterData=Q,Q.skip=!1,Q.filters=J;let q=Z.source,K=q.resolution,X=q.antialias;if(J.every((_)=>!_.enabled))return Q.skip=!0,Z;let N=Q.bounds;if(N.addRect(Z.frame),this._calculateFilterBounds(Q,N.rectangle,X,K,0),Q.skip)return Z;let Y=K,O=0,U=0;this._calculateGlobalFrame(Q,O,U,Y,q.width,q.height),Q.outputRenderSurface=a0.getOptimalTexture(N.width,N.height,Q.resolution,Q.antialias),Q.backTexture=p.EMPTY,Q.inputTexture=Z,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(Q,!0);let B=Q.outputRenderSurface;return B.source.alphaMode="premultiplied-alpha",B}pop(){let Z=this.renderer,J=this._popFilterData();if(J.skip)return;if(Z.globalUniforms.pop(),Z.renderTarget.finishRenderPass(),this._activeFilterData=J,this._applyFiltersToTexture(J,!1),J.blendRequired)a0.returnTexture(J.backTexture);a0.returnTexture(J.inputTexture)}getBackTexture(Z,J,Q){let q=Z.colorTexture.source._resolution,K=a0.getOptimalTexture(J.width,J.height,q,!1),X=J.minX,N=J.minY;if(Q)X-=Q.minX,N-=Q.minY;X=Math.floor(X*q),N=Math.floor(N*q);let Y=Math.ceil(J.width*q),O=Math.ceil(J.height*q);return this.renderer.renderTarget.copyToTexture(Z,K,{x:X,y:N},{width:Y,height:O},{x:0,y:0}),K}applyFilter(Z,J,Q,q){let K=this.renderer,X=this._activeFilterData,Y=X.outputRenderSurface===Q,O=K.renderTarget.rootRenderTarget.colorTexture.source._resolution,U=this._findFilterResolution(O),$=0,B=0;if(Y){let W=this._findPreviousFilterOffset();$=W.x,B=W.y}this._updateFilterUniforms(J,Q,X,$,B,U,Y,q);let _=Z.enabled?Z:this._getPassthroughFilter();this._setupBindGroupsAndRender(_,J,K)}calculateSpriteMatrix(Z,J){let Q=this._activeFilterData,q=Z.set(Q.inputTexture._source.width,0,0,Q.inputTexture._source.height,Q.bounds.minX,Q.bounds.minY),K=J.worldTransform.copyTo(a.shared),X=J.renderGroup||J.parentRenderGroup;if(X&&X.cacheToLocalTransform)K.prepend(X.cacheToLocalTransform);return K.invert(),q.prepend(K),q.scale(1/J.texture.orig.width,1/J.texture.orig.height),q.translate(J.anchor.x,J.anchor.y),q}destroy(){this._passthroughFilter?.destroy(!0),this._passthroughFilter=null}_getPassthroughFilter(){return this._passthroughFilter??(this._passthroughFilter=new x_),this._passthroughFilter}_setupBindGroupsAndRender(Z,J,Q){if(Q.renderPipes.uniformBatch){let q=Q.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(q,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);if(this._globalFilterBindGroup.setResource(J.source,1),this._globalFilterBindGroup.setResource(J.source.style,2),Z.groups[0]=this._globalFilterBindGroup,Q.encoder.draw({geometry:Ra,shader:Z,state:Z._state,topology:"triangle-list"}),Q.type===_1.WEBGL)Q.renderTarget.finishRenderPass()}_setupFilterTextures(Z,J,Q,q){if(Z.backTexture=p.EMPTY,Z.inputTexture=a0.getOptimalTexture(J.width,J.height,Z.resolution,Z.antialias),Z.blendRequired){Q.renderTarget.finishRenderPass();let K=Q.renderTarget.getRenderTarget(Z.outputRenderSurface);Z.backTexture=this.getBackTexture(K,J,q?.bounds)}Q.renderTarget.bind(Z.inputTexture,!0),Q.globalUniforms.push({offset:J})}_calculateGlobalFrame(Z,J,Q,q,K,X){let N=Z.globalFrame;N.x=J*q,N.y=Q*q,N.width=K*q,N.height=X*q}_updateFilterUniforms(Z,J,Q,q,K,X,N,Y){let O=this._filterGlobalUniforms.uniforms,U=O.uOutputFrame,$=O.uInputSize,B=O.uInputPixel,_=O.uInputClamp,W=O.uGlobalFrame,w=O.uOutputTexture;if(N)U[0]=Q.bounds.minX-q,U[1]=Q.bounds.minY-K;else U[0]=0,U[1]=0;U[2]=Z.frame.width,U[3]=Z.frame.height,$[0]=Z.source.width,$[1]=Z.source.height,$[2]=1/$[0],$[3]=1/$[1],B[0]=Z.source.pixelWidth,B[1]=Z.source.pixelHeight,B[2]=1/B[0],B[3]=1/B[1],_[0]=0.5*B[2],_[1]=0.5*B[3],_[2]=Z.frame.width*$[2]-0.5*B[2],_[3]=Z.frame.height*$[3]-0.5*B[3];let L=this.renderer.renderTarget.rootRenderTarget.colorTexture;if(W[0]=q*X,W[1]=K*X,W[2]=L.source.width*X,W[3]=L.source.height*X,J instanceof p)J.source.resource=null;let R=this.renderer.renderTarget.getRenderTarget(J);if(this.renderer.renderTarget.bind(J,!!Y),J instanceof p)w[0]=J.frame.width,w[1]=J.frame.height;else w[0]=R.width,w[1]=R.height;w[2]=R.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(Z){let J=this._filterStackIndex-1;while(J>0&&this._filterStack[J].skip)--J;return J>0&&this._filterStack[J].inputTexture?this._filterStack[J].inputTexture.source._resolution:Z}_findPreviousFilterOffset(){let Z=0,J=0,Q=this._filterStackIndex;while(Q>0){Q--;let q=this._filterStack[Q];if(!q.skip){Z=q.bounds.minX,J=q.bounds.minY;break}}return{x:Z,y:J}}_calculateFilterArea(Z,J){if(Z.renderables)vv(Z.renderables,J);else if(Z.filterEffect.filterArea)J.clear(),J.addRect(Z.filterEffect.filterArea),J.applyMatrix(Z.container.worldTransform);else Z.container.getFastGlobalBounds(!0,J);if(Z.container){let q=(Z.container.renderGroup||Z.container.parentRenderGroup).cacheToLocalTransform;if(q)J.applyMatrix(q)}}_applyFiltersToTexture(Z,J){let{inputTexture:Q,bounds:q,filters:K,firstEnabledIndex:X,lastEnabledIndex:N}=Z;if(this._globalFilterBindGroup.setResource(Q.source.style,2),this._globalFilterBindGroup.setResource(Z.backTexture.source,3),X===N)K[X].apply(this,Q,Z.outputRenderSurface,J);else{let Y=Z.inputTexture,O=a0.getOptimalTexture(q.width,q.height,Y.source._resolution,!1),U=O;for(let $=X;$<N;$++){let B=K[$];if(!B.enabled)continue;B.apply(this,Y,U,!0);let _=Y;Y=U,U=_}K[N].apply(this,Y,Z.outputRenderSurface,J),a0.returnTexture(O)}}_calculateFilterBounds(Z,J,Q,q,K){let X=this.renderer,N=Z.bounds,Y=Z.filters,O=1/0,U=0,$=!0,B=!1,_=!1,W=!0,w=-1,L=-1;for(let R=0;R<Y.length;R++){let G=Y[R];if(!G.enabled)continue;if(w===-1)w=R;if(L=R,O=Math.min(O,G.resolution==="inherit"?q:G.resolution),U+=G.padding,G.antialias==="off")$=!1;else if(G.antialias==="inherit")$&&($=Q);if(!G.clipToViewport)W=!1;if(!(G.compatibleRenderers&X.type)){_=!1;break}if(G.blendRequired&&!(X.backBuffer?.useBackBuffer??!0)){e("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),_=!1;break}_=!0,B||(B=G.blendRequired)}if(!_){Z.skip=!0;return}if(W)N.fitBounds(0,J.width/q,0,J.height/q);if(N.scale(O).ceil().scale(1/O).pad((U|0)*K),!N.isPositive){Z.skip=!0;return}Z.antialias=$,Z.resolution=O,Z.blendRequired=B,Z.firstEnabledIndex=w,Z.lastEnabledIndex=L}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let Z,J=this._filterStackIndex-1;while(J>0)if(J--,Z=this._filterStack[J],!Z.skip)break;return Z}_pushFilterData(){let Z=this._filterStack[this._filterStackIndex];if(!Z)Z=this._filterStack[this._filterStackIndex]=new yv;return this._filterStackIndex++,Z}}var Ra;var hv=F(()=>{g();kv();I0();A9();P2();I5();u0();Z4();N6();Z8();fv();c0();Ra=new T6({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});wY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"filter"}});var g_=F(()=>{g();Ev();hv();J0.add(wY);J0.add(FY)});var Ea={};var xv=F(()=>{RT();uD();PT();fT();WH();TH();hB();gB();aB();B_();C_();T_();v_();f_();g_()});var Ia={};var mv=F(()=>{uD();WH();TH();hB();gB();aB();B_();C_();T_();v_();f_();g_()});async function cv(Z){if(Z)return;for(let J=0;J<m_.length;J++){let Q=m_[J];if(Q.value.test()){await Q.value.load();return}}}var m_;var uv=F(()=>{g();m_=[];J0.handleByNamedList(I.Environment,m_)});function LY(){if(typeof iK==="boolean")return iK;try{iK=Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(Z){iK=!1}return iK}var iK;var d_=()=>{};var H5;var ZQ=F(()=>{H5=((Z)=>{return Z[Z.NONE=0]="NONE",Z[Z.COLOR=16384]="COLOR",Z[Z.STENCIL=1024]="STENCIL",Z[Z.DEPTH=256]="DEPTH",Z[Z.COLOR_DEPTH=16640]="COLOR_DEPTH",Z[Z.COLOR_STENCIL=17408]="COLOR_STENCIL",Z[Z.DEPTH_STENCIL=1280]="DEPTH_STENCIL",Z[Z.ALL=17664]="ALL",Z})(H5||{})});class aK{constructor(Z){this.items=[],this._name=Z}emit(Z,J,Q,q,K,X,N,Y){let{name:O,items:U}=this;for(let $=0,B=U.length;$<B;$++)U[$][O](Z,J,Q,q,K,X,N,Y);return this}add(Z){if(Z[this._name])this.remove(Z),this.items.push(Z);return this}remove(Z){let J=this.items.indexOf(Z);if(J!==-1)this.items.splice(J,1);return this}contains(Z){return this.items.indexOf(Z)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}var c_=()=>{};var Ta,lv,W9;var sK=F(()=>{E5();uv();C6();d_();s1();$1();WZ();ZQ();c_();B5();Ta=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],lv=class Z extends t0{constructor(J){super();this.uid=_0("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=J.type,this.name=J.name,this.config=J;let Q=[...Ta,...this.config.runners??[]];this._addRunners(...Q),this._unsafeEvalCheck()}async init(J={}){let Q=J.skipExtensionImports===!0?!0:J.manageImports===!1;await cv(Q),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(let q in this._systemsHash)J={...this._systemsHash[q].constructor.defaultOptions,...J};J={...Z.defaultOptions,...J},this._roundPixels=J.roundPixels?1:0;for(let q=0;q<this.runners.init.items.length;q++)await this.runners.init.items[q].init(J);this._initOptions=J}render(J,Q){let q=J;if(q instanceof k0){if(q={container:q},Q)q0(V0,"passing a second argument is deprecated, please use render options instead"),q.target=Q.renderTexture}if(q.target||(q.target=this.view.renderTarget),q.target===this.view.renderTarget)this._lastObjectRendered=q.container,q.clearColor??(q.clearColor=this.background.colorRgba),q.clear??(q.clear=this.background.clearBeforeRender);if(q.clearColor){let K=Array.isArray(q.clearColor)&&q.clearColor.length===4;q.clearColor=K?q.clearColor:G0.shared.setValue(q.clearColor).toArray()}if(!q.transform)q.container.updateLocalTransform(),q.transform=q.container.localTransform;if(!q.container.visible)return;q.container.enableRenderGroup(),this.runners.prerender.emit(q),this.runners.renderStart.emit(q),this.runners.render.emit(q),this.runners.renderEnd.emit(q),this.runners.postrender.emit(q)}resize(J,Q,q){let K=this.view.resolution;if(this.view.resize(J,Q,q),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),q!==void 0&&q!==K)this.runners.resolutionChange.emit(q)}clear(J={}){let Q=this;J.target||(J.target=Q.renderTarget.renderTarget),J.clearColor||(J.clearColor=this.background.colorRgba),J.clear??(J.clear=H5.ALL);let{clear:q,clearColor:K,target:X}=J;G0.shared.setValue(K??this.background.colorRgba),Q.renderTarget.clear(X,q,G0.shared.toArray())}get resolution(){return this.view.resolution}set resolution(J){this.view.resolution=J,this.runners.resolutionChange.emit(J)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...J){J.forEach((Q)=>{this.runners[Q]=new aK(Q)})}_addSystems(J){let Q;for(Q in J){let q=J[Q];this._addSystem(q.value,q.name)}}_addSystem(J,Q){let q=new J(this);if(this[Q])throw Error(`Whoops! The name "${Q}" is already in use`);this[Q]=q,this._systemsHash[Q]=q;for(let K in this.runners)this.runners[K].add(q);return this}_addPipes(J,Q){let q=Q.reduce((K,X)=>{return K[X.name]=X.value,K},{});J.forEach((K)=>{let{value:X,name:N}=K,Y=q[N];this.renderPipes[N]=new X(this,Y?new Y:null),this.runners.destroy.add(this.renderPipes[N])})}destroy(J=!1){if(this.runners.destroy.items.reverse(),this.runners.destroy.emit(J),Object.values(this.runners).forEach((Q)=>{Q.destroy()}),J===!0||typeof J==="object"&&J.releaseGlobalResources)X6.release();this._systemsHash=null,this.renderPipes=null}generateTexture(J){return this.textureGenerator.generateTexture(J)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!LY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};lv.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};W9=lv});class EY{constructor(){this._maxTextures=0}contextChange(Z){let J=new p0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=Z.limits.maxBatchableTextures;let Q=q4({name:"graphics",bits:[f2,h2(this._maxTextures),Xv,X4]});this.shader=new T1({gpuProgram:Q,resources:{localUniforms:J}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:N,instructions:Y}=X.getContextRenderData(Q),O=K.encoder;O.setGeometry(N.geometry,q.gpuProgram);let U=K.globalUniforms.bindGroup;O.setBindGroup(0,U,q.gpuProgram);let $=K.renderPipes.uniformBatch.getUniformBindGroup(q.resources.localUniforms,!0);O.setBindGroup(2,$,q.gpuProgram);let B=Y.instructions,_=null;for(let W=0;W<Y.instructionSize;W++){let w=B[W];if(w.topology!==_)_=w.topology,O.setPipelineFromGeometryProgramAndState(N.geometry,q.gpuProgram,Z.state,w.topology);if(q.groups[1]=w.bindGroup,!w.gpuBindGroup){let L=w.textures;w.bindGroup=b2(L.textures,L.count,this._maxTextures),w.gpuBindGroup=K.bindGroup.getBindGroup(w.bindGroup,q.gpuProgram,1)}O.setBindGroup(1,w.bindGroup,q.gpuProgram),O.renderPassEncoder.drawIndexed(w.size,1,w.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}var av=F(()=>{g();I0();SH();B9();TK();SK();e2();_9();S6();I5();EY.extension={type:[I.WebGPUPipesAdaptor],name:"graphics"}});var sv,nv;var u_=F(()=>{sv={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},nv={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}}});class IY{init(){let Z=q4({name:"mesh",bits:[xZ,sv,X4]});this._shader=new T1({gpuProgram:Z,resources:{uTexture:p.EMPTY._source,uSampler:p.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q)q=this._shader,q.groups[2]=Q.texture.getTextureBindGroup(J.texture);else if(!q.gpuProgram){e("Mesh shader has no gpuProgram",J.shader);return}let K=q.gpuProgram;if(K.autoAssignGlobalUniforms)q.groups[0]=Q.globalUniforms.bindGroup;if(K.autoAssignLocalUniforms){let X=Z.localUniforms;q.groups[1]=Q.renderPipes.uniformBatch.getUniformBindGroup(X,!0)}Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var ov=F(()=>{g();I0();B9();e2();_9();u_();S6();u0();c0();IY.extension={type:[I.WebGPUPipesAdaptor],name:"mesh"}});class SY{start(Z,J,Q){let q=Z.renderer,K=q.encoder,X=Q.gpuProgram;this._shader=Q,this._geometry=J,K.setGeometry(J,X),TY.blendMode="normal",q.pipeline.getPipeline(J,X,TY);let N=q.globalUniforms.bindGroup;K.resetBindGroup(1),K.setBindGroup(0,N,X)}execute(Z,J){let Q=this._shader.gpuProgram,q=Z.renderer,K=q.encoder;if(!J.bindGroup){let Y=J.textures;J.bindGroup=b2(Y.textures,Y.count,q.limits.maxBatchableTextures)}TY.blendMode=J.blendMode;let X=q.bindGroup.getBindGroup(J.bindGroup,Q,1),N=q.pipeline.getPipeline(this._geometry,Q,TY,J.topology);J.bindGroup._touch(q.textureGC.count),K.setPipeline(N),K.renderPassEncoder.setBindGroup(1,X),K.renderPassEncoder.drawIndexed(J.size,1,J.start)}}var TY;var tv=F(()=>{g();b6();SH();TY=f1.for2d();SY.extension={type:[I.WebGPUPipesAdaptor],name:"batch"}});class bY{constructor(Z){this._renderer=Z}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(Z,J){this._renderer.renderPipes.batch.break(J),J.add(Z)}execute(Z){if(!Z.isRenderable)return;Z.render(this._renderer)}destroy(){this._renderer=null}}var rv=F(()=>{g();bY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"customRender"}});function nK(Z,J){let Q=Z.instructionSet,q=Q.instructions;for(let K=0;K<Q.instructionSize;K++){let X=q[K];J[X.renderPipeId].execute(X)}}var l_=()=>{};class kY{constructor(Z){this._renderer=Z}addRenderGroup(Z,J){if(Z.isCachedAsTexture)this._addRenderableCacheAsTexture(Z,J);else this._addRenderableDirect(Z,J)}execute(Z){if(!Z.isRenderable)return;if(Z.isCachedAsTexture)this._executeCacheAsTexture(Z);else this._executeDirect(Z)}destroy(){this._renderer=null}_addRenderableDirect(Z,J){if(this._renderer.renderPipes.batch.break(J),Z._batchableRenderGroup)r0.return(Z._batchableRenderGroup),Z._batchableRenderGroup=null;J.add(Z)}_addRenderableCacheAsTexture(Z,J){let Q=Z._batchableRenderGroup??(Z._batchableRenderGroup=r0.get(Q7));Q.renderable=Z.root,Q.transform=Z.root.relativeGroupTransform,Q.texture=Z.texture,Q.bounds=Z._textureBounds,J.add(Z),this._renderer.renderPipes.blendMode.pushBlendMode(Z,Z.root.groupBlendMode,J),this._renderer.renderPipes.batch.addToBatch(Q,J),this._renderer.renderPipes.blendMode.popBlendMode(J)}_executeCacheAsTexture(Z){if(Z.textureNeedsUpdate){Z.textureNeedsUpdate=!1;let J=Sa.identity().translate(-Z._textureBounds.x,-Z._textureBounds.y);this._renderer.renderTarget.push(Z.texture,!0,null,Z.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:J,worldColor:4294967295,offset:{x:0,y:0}}),nK(Z,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}Z._batchableRenderGroup._batcher.updateElement(Z._batchableRenderGroup),Z._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(Z){this._renderer.globalUniforms.push({worldTransformMatrix:Z.inverseParentTextureTransform,worldColor:Z.worldColorAlpha}),nK(Z,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}var Sa;var ev=F(()=>{g();I0();e6();xK();l_();Sa=new a;kY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"renderGroup"}});function oK(Z,J){J||(J=0);for(let Q=J;Q<Z.length;Q++)if(Z[Q])Z[Q]=null;else break}var p_=()=>{};function i_(Z,J=!1){ka(Z);let Q=Z.childrenToUpdate,q=Z.updateTick++;for(let K in Q){let X=Number(K),N=Q[K],Y=N.list,O=N.index;for(let U=0;U<O;U++){let $=Y[U];if($.parentRenderGroup===Z&&$.relativeRenderGroupDepth===X)Qf($,q,0)}oK(Y,O),N.index=0}if(J)for(let K=0;K<Z.renderGroupChildren.length;K++)i_(Z.renderGroupChildren[K],J)}function ka(Z){let J=Z.root,Q;if(Z.renderGroupParent){let q=Z.renderGroupParent;Z.worldTransform.appendFrom(J.relativeGroupTransform,q.worldTransform),Z.worldColor=F2(J.groupColor,q.worldColor),Q=J.groupAlpha*q.worldAlpha}else Z.worldTransform.copyFrom(J.localTransform),Z.worldColor=J.localColor,Q=J.localAlpha;Q=Q<0?0:Q>1?1:Q,Z.worldAlpha=Q,Z.worldColorAlpha=Z.worldColor+((Q*255|0)<<24)}function Qf(Z,J,Q){if(J===Z.updateTick)return;Z.updateTick=J,Z.didChange=!1;let q=Z.localTransform;Z.updateLocalTransform();let K=Z.parent;if(K&&!K.renderGroup){if(Q|=Z._updateFlags,Z.relativeGroupTransform.appendFrom(q,K.relativeGroupTransform),Q&Zf)Jf(Z,K,Q)}else if(Q=Z._updateFlags,Z.relativeGroupTransform.copyFrom(q),Q&Zf)Jf(Z,ba,Q);if(!Z.renderGroup){let X=Z.children,N=X.length;for(let U=0;U<N;U++)Qf(X[U],J,Q);let Y=Z.parentRenderGroup,O=Z;if(O.renderPipeId&&!Y.structureDidChange)Y.updateRenderable(O)}}function Jf(Z,J,Q){if(Q&C2){Z.groupColor=F2(Z.localColor,J.groupColor);let q=Z.localAlpha*J.groupAlpha;q=q<0?0:q>1?1:q,Z.groupAlpha=q,Z.groupColorAlpha=Z.groupColor+((q*255|0)<<24)}if(Q&UK)Z.groupBlendMode=Z.localBlendMode==="inherit"?J.groupBlendMode:Z.localBlendMode;if(Q&RZ)Z.globalDisplayStatus=Z.localDisplayStatus&J.globalDisplayStatus;Z._updateFlags=0}var ba,Zf;var qf=F(()=>{C6();p_();CD();ba=new k0,Zf=RZ|C2|UK});function Kf(Z,J){let{list:Q}=Z.childrenRenderablesToUpdate,q=!1;for(let K=0;K<Z.childrenRenderablesToUpdate.index;K++){let X=Q[K];if(q=J[X.renderPipeId].validateRenderable(X),q)break}return Z.structureDidChange=q,q}var Xf=()=>{};class PY{constructor(Z){this._renderer=Z}render({container:Z,transform:J}){let Q=Z.parent,q=Z.renderGroup.renderGroupParent;Z.parent=null,Z.renderGroup.renderGroupParent=null;let K=this._renderer,X=Pa;if(J)X.copyFrom(Z.renderGroup.localTransform),Z.renderGroup.localTransform.copyFrom(J);let N=K.renderPipes;if(this._updateCachedRenderGroups(Z.renderGroup,null),this._updateRenderGroups(Z.renderGroup),K.globalUniforms.start({worldTransformMatrix:J?Z.renderGroup.localTransform:Z.renderGroup.worldTransform,worldColor:Z.renderGroup.worldColorAlpha}),nK(Z.renderGroup,N),N.uniformBatch)N.uniformBatch.renderEnd();if(J)Z.renderGroup.localTransform.copyFrom(X);Z.parent=Q,Z.renderGroup.renderGroupParent=q}destroy(){this._renderer=null}_updateCachedRenderGroups(Z,J){if(Z._parentCacheAsTextureRenderGroup=J,Z.isCachedAsTexture){if(!Z.textureNeedsUpdate)return;J=Z}for(let Q=Z.renderGroupChildren.length-1;Q>=0;Q--)this._updateCachedRenderGroups(Z.renderGroupChildren[Q],J);if(Z.invalidateMatrices(),Z.isCachedAsTexture){if(Z.textureNeedsUpdate){let Q=Z.root.getLocalBounds();Q.ceil();let q=Z.texture;if(Z.texture)a0.returnTexture(Z.texture,!0);let K=this._renderer,X=Z.textureOptions.resolution||K.view.resolution,N=Z.textureOptions.antialias??K.view.antialias,Y=Z.textureOptions.scaleMode??"linear",O=a0.getOptimalTexture(Q.width,Q.height,X,N);if(O._source.style=new J8({scaleMode:Y}),Z.texture=O,Z._textureBounds||(Z._textureBounds=new e0),Z._textureBounds.copyFrom(Q),q!==Z.texture){if(Z.renderGroupParent)Z.renderGroupParent.structureDidChange=!0}}}else if(Z.texture)a0.returnTexture(Z.texture,!0),Z.texture=null}_updateRenderGroups(Z){let J=this._renderer,Q=J.renderPipes;if(Z.runOnRender(J),Z.instructionSet.renderPipes=Q,!Z.structureDidChange)Kf(Z,Q);else oK(Z.childrenRenderablesToUpdate.list,0);if(i_(Z),Z.structureDidChange)Z.structureDidChange=!1,this._buildInstructions(Z,J);else this._updateRenderables(Z);if(Z.childrenRenderablesToUpdate.index=0,J.renderPipes.batch.upload(Z.instructionSet),Z.isCachedAsTexture&&!Z.textureNeedsUpdate)return;for(let q=0;q<Z.renderGroupChildren.length;q++)this._updateRenderGroups(Z.renderGroupChildren[q])}_updateRenderables(Z){let{list:J,index:Q}=Z.childrenRenderablesToUpdate;for(let q=0;q<Q;q++){let K=J[q];if(K.didViewUpdate)Z.updateRenderable(K)}oK(J,Q)}_buildInstructions(Z,J){let{root:Q,instructionSet:q}=Z;q.reset();let K=J.renderPipes?J:J.batch.renderer,X=K.renderPipes;if(X.batch.buildStart(q),X.blendMode.buildStart(),X.colorMask.buildStart(),Q.sortableChildren)Q.sortChildren();Q.collectRenderablesWithEffects(q,K,null),X.batch.buildEnd(q),X.blendMode.buildEnd(q)}}var Pa;var zf=F(()=>{g();I0();Z4();FZ();Z8();p_();l_();qf();Xf();Pa=new a;PY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"renderGroup"}});class vY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.bounds=Z.visualBounds,J.texture=Z._texture}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=new Q7;return J.renderable=Z,J.transform=Z.groupTransform,J.texture=Z._texture,J.bounds=Z.visualBounds,J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var Nf=F(()=>{g();xK();vY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"sprite"}});var JQ="8.14.0";var a_=F(()=>{B5()});class fY{static init(){globalThis.__PIXI_APP_INIT__?.(this,JQ)}static destroy(){}}class yY{constructor(Z){this._renderer=Z}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,JQ)}destroy(){this._renderer=null}}var s_=F(()=>{g();a_();fY.extension=I.Application;yY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"initHook",priority:-10}});var n_=class Z{constructor(J,Q){this.state=f1.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=J,this._adaptor=Q,this._adaptor.init?.(this)}static getBatcher(J){return new this._availableBatchers[J]}buildStart(J){let Q=this._batchersByInstructionSet[J.uid];if(!Q)Q=this._batchersByInstructionSet[J.uid]=Object.create(null),Q.default||(Q.default=new bK({maxTextures:this.renderer.limits.maxBatchableTextures}));this._activeBatches=Q,this._activeBatch=this._activeBatches.default;for(let q in this._activeBatches)this._activeBatches[q].begin()}addToBatch(J,Q){if(this._activeBatch.name!==J.batcherName){this._activeBatch.break(Q);let q=this._activeBatches[J.batcherName];if(!q)q=this._activeBatches[J.batcherName]=Z.getBatcher(J.batcherName),q.begin();this._activeBatch=q}this._activeBatch.add(J)}break(J){this._activeBatch.break(J)}buildEnd(J){this._activeBatch.break(J);let Q=this._activeBatches;for(let q in Q){let K=Q[q],X=K.geometry;X.indexBuffer.setDataWithSize(K.indexBuffer,K.indexSize,!0),X.buffers[0].setDataWithSize(K.attributeBuffer.float32View,K.attributeSize,!1)}}upload(J){let Q=this._batchersByInstructionSet[J.uid];for(let q in Q){let K=Q[q],X=K.geometry;if(K.dirty)K.dirty=!1,X.buffers[0].update(K.attributeSize*4)}}execute(J){if(J.action==="startBatch"){let Q=J.batcher,q=Q.geometry,K=Q.shader;this._adaptor.start(this,q,K)}this._adaptor.execute(this,J)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(let J in this._activeBatches)this._activeBatches[J].destroy();this._activeBatches=null}},o_;var Hf=F(()=>{g();b6();RB();n_.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"batch"};n_._availableBatchers=Object.create(null);o_=n_;J0.handleByMap(I.Batcher,o_._availableBatchers);J0.add(bK)});var Yf=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`;var Vf=()=>{};var Of=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`;var Uf=()=>{};var t_=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;var Af=()=>{};var r_;var $f=F(()=>{I0();Q4();J7();I5();vD();gZ();Vf();Uf();Af();r_=class r_ extends D1{constructor(Z){let{sprite:J,...Q}=Z,q=new OK(J.texture),K=new p0({uFilterMatrix:{value:new a,type:"mat3x3<f32>"},uMaskClamp:{value:q.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:Z.inverse?1:0,type:"f32"}}),X=N5.from({vertex:{source:t_,entryPoint:"mainVertex"},fragment:{source:t_,entryPoint:"mainFragment"}}),N=z5.from({vertex:Of,fragment:Yf,name:"mask-filter"});super({...Q,gpuProgram:X,glProgram:N,clipToViewport:!1,resources:{filterUniforms:K,uMaskTexture:J.texture.source}});this.sprite=J,this._textureMatrix=q}set inverse(Z){this.resources.filterUniforms.uniforms.uInverse=Z?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(Z,J,Q,q){this._textureMatrix.texture=this.sprite.texture,Z.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,Z.applyFilter(this,J,Q,q)}}});class hY{constructor(Z){this._activeMaskStage=[],this._renderer=Z}push(Z,J,Q){let q=this._renderer;if(q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1,maskedContainer:J}),Z.inverse=J._maskOptions.inverse,Z.renderMaskToTexture){let K=Z.mask;K.includeInBuild=!0,K.collectRenderables(Q,q,null),K.includeInBuild=!1}q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:Z,maskedContainer:J,inverse:J._maskOptions.inverse,canBundle:!1})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1})}execute(Z){let J=this._renderer,Q=Z.mask.renderMaskToTexture;if(Z.action==="pushMaskBegin"){let q=r0.get(Df);if(q.inverse=Z.inverse,Q){Z.mask.mask.measurable=!0;let K=G2(Z.mask.mask,!0,va);Z.mask.mask.measurable=!1,K.ceil();let X=J.renderTarget.renderTarget.colorTexture.source,N=a0.getOptimalTexture(K.width,K.height,X._resolution,X.antialias);J.renderTarget.push(N,!0),J.globalUniforms.push({offset:K,worldColor:4294967295});let Y=q.sprite;Y.texture=N,Y.worldTransform.tx=K.minX,Y.worldTransform.ty=K.minY,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer,filterTexture:N})}else q.sprite=Z.mask.mask,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer})}else if(Z.action==="pushMaskEnd"){let q=this._activeMaskStage[this._activeMaskStage.length-1];if(Q){if(J.type===_1.WEBGL)J.renderTarget.finishRenderPass();J.renderTarget.pop(),J.globalUniforms.pop()}J.filter.push({renderPipeId:"filter",action:"pushFilter",container:q.maskedContainer,filterEffect:q.filterEffect,canBundle:!1})}else if(Z.action==="popMaskEnd"){J.filter.pop();let q=this._activeMaskStage.pop();if(Q)a0.returnTexture(q.filterTexture);r0.return(q.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}var va,Df;var Bf=F(()=>{g();JH();$f();Z8();NK();FH();e6();u0();Z4();N6();va=new e0;Df=class Df extends H9{constructor(){super();this.filters=[new r_({sprite:new I6(p.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(Z){this.filters[0].sprite=Z}get inverse(){return this.filters[0].inverse}set inverse(Z){this.filters[0].inverse=Z}};hY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"alphaMask"}});class xY{constructor(Z){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=Z}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;K[this._colorStackIndex]=K[this._colorStackIndex-1]&Z.mask;let X=this._colorStack[this._colorStackIndex];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1});this._colorStackIndex++}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;this._colorStackIndex--;let X=K[this._colorStackIndex-1];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1})}execute(Z){this._renderer.colorMask.setMask(Z.colorMask)}destroy(){this._renderer=null,this._colorStack=null}}var _f=F(()=>{g();xY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"colorMask"}});class gY{constructor(Z){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=Z}push(Z,J,Q){var q;let K=Z,X=this._renderer;X.renderPipes.batch.break(Q),X.renderPipes.blendMode.setBlendMode(K.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let N=K.mask;if(N.includeInBuild=!0,!this._maskHash.has(K))this._maskHash.set(K,{instructionsStart:0,instructionsLength:0});let Y=this._maskHash.get(K);Y.instructionsStart=Q.instructionSize,N.collectRenderables(Q,X,null),N.includeInBuild=!1,X.renderPipes.batch.break(Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let O=Q.instructionSize-Y.instructionsStart-1;Y.instructionsLength=O;let U=X.renderTarget.renderTarget.uid;(q=this._maskStackHash)[U]??(q[U]=0)}pop(Z,J,Q){let q=Z,K=this._renderer;K.renderPipes.batch.break(Q),K.renderPipes.blendMode.setBlendMode(q.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:J._maskOptions.inverse,canBundle:!1});let X=this._maskHash.get(Z);for(let N=0;N<X.instructionsLength;N++)Q.instructions[Q.instructionSize++]=Q.instructions[X.instructionsStart++];Q.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(Z){var J;let Q=this._renderer,q=Q.renderTarget.renderTarget.uid,K=(J=this._maskStackHash)[q]??(J[q]=0);if(Z.action==="pushMaskBegin")Q.renderTarget.ensureDepthStencil(),Q.stencil.setStencilMode(Y1.RENDERING_MASK_ADD,K),K++,Q.colorMask.setMask(0);else if(Z.action==="pushMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode(Y1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode(Y1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}else if(Z.action==="popMaskBegin"){if(Q.colorMask.setMask(0),K!==0)Q.stencil.setStencilMode(Y1.RENDERING_MASK_REMOVE,K);else Q.renderTarget.clear(null,H5.STENCIL),Q.stencil.setStencilMode(Y1.DISABLED,K);K--}else if(Z.action==="popMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode(Y1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode(Y1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}this._maskStackHash[q]=K}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}var Mf=F(()=>{g();ZQ();SZ();gY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"stencilMask"}});var e_=class Z{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new G0(0),this.color=this._backgroundColor,this.alpha=1}init(J){J={...Z.defaultOptions,...J},this.clearBeforeRender=J.clearBeforeRender,this.color=J.background||J.backgroundColor||this._backgroundColor,this.alpha=J.backgroundAlpha,this._backgroundColor.setAlpha(J.backgroundAlpha)}get color(){return this._backgroundColor}set color(J){if(G0.shared.setValue(J).alpha<1&&this._backgroundColor.alpha===1)e("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application.");this._backgroundColor.setValue(J)}get alpha(){return this._backgroundColor.alpha}set alpha(J){this._backgroundColor.setAlpha(J)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}},Wf;var Gf=F(()=>{E5();g();c0();e_.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"background",priority:0};e_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Wf=e_});class mY{constructor(Z){this._blendModeStack=[],this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=Z,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}pushBlendMode(Z,J,Q){this._blendModeStack.push(J),this.setBlendMode(Z,J,Q)}popBlendMode(Z){this._blendModeStack.pop();let J=this._blendModeStack[this._activeBlendMode.length-1]??"normal";this.setBlendMode(null,J,Z)}setBlendMode(Z,J,Q){let q=Z instanceof L2;if(this._activeBlendMode===J){if(this._isAdvanced&&Z&&!q)this._renderableList?.push(Z);return}if(this._isAdvanced)this._endAdvancedBlendMode(Q);if(this._activeBlendMode=J,!Z)return;if(this._isAdvanced=!!tK[J],this._isAdvanced)this._beginAdvancedBlendMode(Z,Q)}_beginAdvancedBlendMode(Z,J){this._renderer.renderPipes.batch.break(J);let Q=this._activeBlendMode;if(!tK[Q]){e(`Unable to assign BlendMode: '${Q}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let q=this._ensureFilterEffect(Q),K=Z instanceof L2,X={renderPipeId:"filter",action:"pushFilter",filterEffect:q,renderables:K?null:[Z],container:K?Z.root:null,canBundle:!1};this._renderableList=X.renderables,J.add(X)}_ensureFilterEffect(Z){let J=this._filterHash[Z];if(!J)J=this._filterHash[Z]=new H9,J.filters=[new tK[Z]];return J}_endAdvancedBlendMode(Z){this._isAdvanced=!1,this._renderableList=null,this._renderer.renderPipes.batch.break(Z),Z.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(Z){if(!this._isAdvanced)return;this._endAdvancedBlendMode(Z)}destroy(){this._renderer=null,this._renderableList=null;for(let Z in this._filterHash)this._filterHash[Z].destroy();this._filterHash=null}}var tK;var Ff=F(()=>{g();JH();fD();c0();tK={};J0.handle(I.BlendMode,(Z)=>{if(!Z.name)throw Error("BlendMode extension must have a name property");tK[Z.name]=Z.ref},(Z)=>{delete tK[Z.name]});mY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"blendMode"}});var ZM,JM=class Z{constructor(J){this._renderer=J}_normalizeOptions(J,Q={}){if(J instanceof k0||J instanceof p)return{target:J,...Q};return{...Q,...J}}async image(J){let Q=K0.get().createImage();return Q.src=await this.base64(J),Q}async base64(J){J=this._normalizeOptions(J,Z.defaultImageOptions);let{format:Q,quality:q}=J,K=this.canvas(J);if(K.toBlob!==void 0)return new Promise((X,N)=>{K.toBlob((Y)=>{if(!Y){N(Error("ICanvas.toBlob failed!"));return}let O=new FileReader;O.onload=()=>X(O.result),O.onerror=N,O.readAsDataURL(Y)},ZM[Q],q)});if(K.toDataURL!==void 0)return K.toDataURL(ZM[Q],q);if(K.convertToBlob!==void 0){let X=await K.convertToBlob({type:ZM[Q],quality:q});return new Promise((N,Y)=>{let O=new FileReader;O.onload=()=>N(O.result),O.onerror=Y,O.readAsDataURL(X)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer;if(Q instanceof p)return q.texture.generateCanvas(Q);let K=q.textureGenerator.generateTexture(J),X=q.texture.generateCanvas(K);return K.destroy(!0),X}pixels(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer,K=Q instanceof p?Q:q.textureGenerator.generateTexture(J),X=q.texture.getPixels(K);if(Q instanceof k0)K.destroy(!0);return X}texture(J){if(J=this._normalizeOptions(J),J.target instanceof p)return J.target;return this._renderer.textureGenerator.generateTexture(J)}download(J){J=this._normalizeOptions(J);let Q=this.canvas(J),q=document.createElement("a");q.download=J.filename??"image.png",q.href=Q.toDataURL("image/png"),document.body.appendChild(q),q.click(),document.body.removeChild(q)}log(J){let Q=J.width??200;J=this._normalizeOptions(J);let q=this.canvas(J),K=q.toDataURL();console.log(`[Pixi Texture] ${q.width}px ${q.height}px`);let X=["font-size: 1px;",`padding: ${Q}px 300px;`,`background: url(${K}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",X)}destroy(){this._renderer=null}},jf;var wf=F(()=>{l0();g();C6();u0();ZM={png:"image/png",jpg:"image/jpeg",webp:"image/webp"};JM.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"extract"};JM.defaultImageOptions={format:"png",quality:1};jf=JM});var dY;var Lf=F(()=>{y5();u0();dY=class dY extends p{static create(Z){return new dY({source:new y0(Z)})}resize(Z,J,Q){return this.source.resize(Z,J,Q),this}}});class cY{constructor(Z){this._renderer=Z}generateTexture(Z){if(Z instanceof k0)Z={target:Z,frame:void 0,textureSourceOptions:{},resolution:void 0};let J=Z.resolution||this._renderer.resolution,Q=Z.antialias||this._renderer.view.antialias,q=Z.target,K=Z.clearColor;if(K)K=Array.isArray(K)&&K.length===4?K:G0.shared.setValue(K).toArray();else K=ha;let X=Z.frame?.copyTo(fa)||j2(q,ya).rectangle;X.width=Math.max(X.width,1/J)|0,X.height=Math.max(X.height,1/J)|0;let N=dY.create({...Z.textureSourceOptions,width:X.width,height:X.height,resolution:J,antialias:Q}),Y=a.shared.translate(-X.x,-X.y);return this._renderer.render({container:q,transform:Y,target:N,clearColor:K}),N.source.updateMipmaps(),N}destroy(){this._renderer=null}}var fa,ya,ha;var Cf=F(()=>{E5();g();I0();n1();Z8();zH();C6();Lf();fa=new A0,ya=new e0,ha=[0,0,0,0];cY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"textureGenerator"}});class uY{constructor(Z){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=Z}reset(){this._stackIndex=0;for(let Z=0;Z<this._activeUniforms.length;Z++)this._uniformsPool.push(this._activeUniforms[Z]);for(let Z=0;Z<this._activeBindGroups.length;Z++)this._bindGroupPool.push(this._activeBindGroups[Z]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(Z){this.reset(),this.push(Z)}bind({size:Z,projectionMatrix:J,worldTransformMatrix:Q,worldColor:q,offset:K}){let X=this._renderer.renderTarget.renderTarget,N=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:X,worldTransformMatrix:new a,worldColor:4294967295,offset:new S0},Y={projectionMatrix:J||this._renderer.renderTarget.projectionMatrix,resolution:Z||X.size,worldTransformMatrix:Q||N.worldTransformMatrix,worldColor:q||N.worldColor,offset:K||N.offset,bindGroup:null},O=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(O);let U=O.uniforms;U.uProjectionMatrix=Y.projectionMatrix,U.uResolution=Y.resolution,U.uWorldTransformMatrix.copyFrom(Y.worldTransformMatrix),U.uWorldTransformMatrix.tx-=Y.offset.x,U.uWorldTransformMatrix.ty-=Y.offset.y,N4(Y.worldColor,U.uWorldColorAlpha,0),O.update();let $;if(this._renderer.renderPipes.uniformBatch)$=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(O,!1);else $=this._bindGroupPool.pop()||new M5,this._activeBindGroups.push($),$.setResource(O,0);Y.bindGroup=$,this._currentGlobalUniformData=Y}push(Z){this.bind(Z),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){if(this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===_1.WEBGL)this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new p0({uProjectionMatrix:{value:new a,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null,this._globalUniformDataStack.length=0,this._uniformsPool.length=0,this._activeUniforms.length=0,this._bindGroupPool.length=0,this._activeBindGroups.length=0,this._currentGlobalUniformData=null}}var Rf=F(()=>{g();I0();L6();p2();A9();N6();I5();uY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"globalUniforms"}});class lY{constructor(){this._tasks=[],this._offset=0}init(){_5.system.add(this._update,this)}repeat(Z,J,Q=!0){let q=xa++,K=0;if(Q)this._offset+=1000,K=this._offset;return this._tasks.push({func:Z,duration:J,start:performance.now(),offset:K,last:performance.now(),repeat:!0,id:q}),q}cancel(Z){for(let J=0;J<this._tasks.length;J++)if(this._tasks[J].id===Z){this._tasks.splice(J,1);return}}_update(){let Z=performance.now();for(let J=0;J<this._tasks.length;J++){let Q=this._tasks[J];if(Z-Q.offset-Q.last>=Q.duration){let q=Z-Q.start;Q.func(q),Q.last=Z}}}destroy(){_5.system.remove(this._update,this),this._tasks.length=0}}var xa=1;var Ef=F(()=>{g();R2();lY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"scheduler",priority:0}});function Tf(Z){if(If)return;if(K0.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){let J=[`%c  %c  %c  %c  %c PixiJS %c v${JQ} (${Z}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...J)}else if(globalThis.console)globalThis.console.log(`PixiJS ${JQ} - ${Z} - http://www.pixijs.com/`);If=!0}var If=!1;var Sf=F(()=>{l0();a_()});class rK{constructor(Z){this._renderer=Z}init(Z){if(Z.hello){let J=this._renderer.name;if(this._renderer.type===_1.WEBGL)J+=` ${this._renderer.context.webGLVersion}`;Tf(J)}}}var bf=F(()=>{g();Sf();N6();rK.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"hello",priority:-2};rK.defaultOptions={hello:!1}});function kf(Z){let J=!1;for(let q in Z)if(Z[q]==null){J=!0;break}if(!J)return Z;let Q=Object.create(null);for(let q in Z){let K=Z[q];if(K)Q[q]=K}return Q}function Pf(Z){let J=0;for(let Q=0;Q<Z.length;Q++)if(Z[Q]==null)J++;else Z[Q-J]=Z[Q];return Z.length-=J,Z}var vf=()=>{};var ga=0,QM=class Z{constructor(J){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=J}init(J){J={...Z.defaultOptions,...J},this.maxUnusedTime=J.renderableGCMaxUnusedTime,this._frequency=J.renderableGCFrequency,this.enabled=J.renderableGCActive}get enabled(){return!!this._handler}set enabled(J){if(this.enabled===J)return;if(J)this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedHashes)Q.context[Q.hash]=kf(Q.context[Q.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedArrays)Pf(Q.context[Q.hash])},this._frequency);else this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)}addManagedHash(J,Q){this._managedHashes.push({context:J,hash:Q})}addManagedArray(J,Q){this._managedArrays.push({context:J,hash:Q})}prerender({container:J}){this._now=performance.now(),J.renderGroup.gcTick=ga++,this._updateInstructionGCTick(J.renderGroup,J.renderGroup.gcTick)}addRenderable(J){if(!this.enabled)return;if(J._lastUsed===-1)this._managedRenderables.push(J),J.once("destroyed",this._removeRenderable,this);J._lastUsed=this._now}run(){let J=this._now,Q=this._managedRenderables,q=this._renderer.renderPipes,K=0;for(let X=0;X<Q.length;X++){let N=Q[X];if(N===null){K++;continue}let Y=N.renderGroup??N.parentRenderGroup,O=Y?.instructionSet?.gcTick??-1;if((Y?.gcTick??0)===O)N._lastUsed=J;if(J-N._lastUsed>this.maxUnusedTime){if(!N.destroyed){let U=q;if(Y)Y.structureDidChange=!0;U[N.renderPipeId].destroyRenderable(N)}N._lastUsed=-1,K++,N.off("destroyed",this._removeRenderable,this)}else Q[X-K]=N}Q.length-=K}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(J){let Q=this._managedRenderables.indexOf(J);if(Q>=0)J.off("destroyed",this._removeRenderable,this),this._managedRenderables[Q]=null}_updateInstructionGCTick(J,Q){J.instructionSet.gcTick=Q;for(let q of J.renderGroupChildren)this._updateInstructionGCTick(q,Q)}},ff;var yf=F(()=>{g();vf();QM.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"renderableGC",priority:0};QM.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:60000,renderableGCFrequency:30000};ff=QM});var qM=class Z{constructor(J){this._renderer=J,this.count=0,this.checkCount=0}init(J){J={...Z.defaultOptions,...J},this.checkCountMax=J.textureGCCheckCountMax,this.maxIdle=J.textureGCAMaxIdle??J.textureGCMaxIdle,this.active=J.textureGCActive}postrender(){if(!this._renderer.renderingToScreen)return;if(this.count++,!this.active)return;if(this.checkCount++,this.checkCount>this.checkCountMax)this.checkCount=0,this.run()}run(){let J=this._renderer.texture.managedTextures;for(let Q=0;Q<J.length;Q++){let q=J[Q];if(q.autoGarbageCollect&&q.resource&&q._touched>-1&&this.count-q._touched>this.maxIdle)q._touched=-1,q.unload()}}destroy(){this._renderer=null}},hf;var xf=F(()=>{g();qM.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"textureGC"};qM.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};hf=qM});var gf=class Z{constructor(J={}){if(this.uid=_0("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,J={...Z.defaultOptions,...J},this.stencil=J.stencil,this.depth=J.depth,this.isRoot=J.isRoot,typeof J.colorTextures==="number"){this._managedColorTextures=!0;for(let Q=0;Q<J.colorTextures;Q++)this.colorTextures.push(new y0({width:J.width,height:J.height,resolution:J.resolution,antialias:J.antialias}))}else{this.colorTextures=[...J.colorTextures.map((q)=>q.source)];let Q=this.colorTexture.source;this.resize(Q.width,Q.height,Q._resolution)}if(this.colorTexture.source.on("resize",this.onSourceResize,this),J.depthStencilTexture||this.stencil)if(J.depthStencilTexture instanceof p||J.depthStencilTexture instanceof y0)this.depthStencilTexture=J.depthStencilTexture.source;else this.ensureDepthStencilTexture()}get size(){let J=this._size;return J[0]=this.pixelWidth,J[1]=this.pixelHeight,J}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(J){this.resize(J.width,J.height,J._resolution,!0)}ensureDepthStencilTexture(){if(!this.depthStencilTexture)this.depthStencilTexture=new y0({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1})}resize(J,Q,q=this.resolution,K=!1){if(this.dirtyId++,this.colorTextures.forEach((X,N)=>{if(K&&N===0)return;X.source.resize(J,Q,q)}),this.depthStencilTexture)this.depthStencilTexture.source.resize(J,Q,q)}destroy(){if(this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures)this.colorTextures.forEach((J)=>{J.destroy()});if(this.depthStencilTexture)this.depthStencilTexture.destroy(),delete this.depthStencilTexture}},eK;var KM=F(()=>{s1();y5();u0();gf.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};eK=gf});function pY(Z,J){if(!QQ.has(Z)){let Q=new p({source:new g5({resource:Z,...J})}),q=()=>{if(QQ.get(Z)===Q)QQ.delete(Z)};Q.once("destroy",q),Q.source.once("destroy",q),QQ.set(Z,Q)}return QQ.get(Z)}var QQ;var XM=F(()=>{WZ();T2();u0();QQ=new Map;X6.register(QQ)});var zM=class Z{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(J){this.texture.source.autoDensity=J}get resolution(){return this.texture.source._resolution}set resolution(J){this.texture.source.resize(this.texture.source.width,this.texture.source.height,J)}init(J){if(J={...Z.defaultOptions,...J},J.view)q0(V0,"ViewSystem.view has been renamed to ViewSystem.canvas"),J.canvas=J.view;this.screen=new A0(0,0,J.width,J.height),this.canvas=J.canvas||K0.get().createCanvas(),this.antialias=!!J.antialias,this.texture=pY(this.canvas,J),this.renderTarget=new eK({colorTextures:[this.texture],depth:!!J.depth,isRoot:!0}),this.texture.source.transparent=J.backgroundAlpha<1,this.resolution=J.resolution}resize(J,Q,q){this.texture.source.resize(J,Q,q),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(J=!1){if((typeof J==="boolean"?J:!!J?.removeView)&&this.canvas.parentNode)this.canvas.parentNode.removeChild(this.canvas);this.texture.destroy()}},mf;var df=F(()=>{l0();g();n1();$1();KM();XM();zM.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"view",priority:0};zM.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};mf=zM});var iY,aY;var NM=F(()=>{rv();ev();zf();Nf();s_();Hf();Bf();_f();Mf();Gf();Ff();wf();Cf();Rf();Ef();bf();yf();xf();df();iY=[Wf,uY,rK,mf,PY,hf,cY,jf,yY,ff,lY],aY=[mY,o_,vY,kY,hY,gY,xY,bY]});class sY{constructor(Z){this._hash=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(Z){this._gpu=Z}getBindGroup(Z,J,Q){return Z._updateKey(),this._hash[Z._key]||this._createBindGroup(Z,J,Q)}_createBindGroup(Z,J,Q){let q=this._gpu.device,K=J.layout[Q],X=[],N=this._renderer;for(let U in K){let $=Z.resources[U]??Z.resources[K[U]],B;if($._resourceType==="uniformGroup"){let _=$;N.ubo.updateUniformGroup(_);let W=_.buffer;B={buffer:N.buffer.getGPUBuffer(W),offset:0,size:W.descriptor.size}}else if($._resourceType==="buffer"){let _=$;B={buffer:N.buffer.getGPUBuffer(_),offset:0,size:_.descriptor.size}}else if($._resourceType==="bufferResource"){let _=$;B={buffer:N.buffer.getGPUBuffer(_.buffer),offset:_.offset,size:_.size}}else if($._resourceType==="textureSampler"){let _=$;B=N.texture.getGpuSampler(_)}else if($._resourceType==="textureSource"){let _=$;B=N.texture.getGpuSource(_).createView({})}X.push({binding:K[U],resource:B})}let Y=N.shader.getProgramData(J).bindGroups[Q],O=q.createBindGroup({layout:Y,entries:X});return this._hash[Z._key]=O,O}destroy(){for(let Z of Object.keys(this._hash))this._hash[Z]=null;this._hash=null,this._renderer=null}}var cf=F(()=>{g();sY.extension={type:[I.WebGPUSystem],name:"bindGroup"}});class nY{constructor(Z){this._gpuBuffers=Object.create(null),this._managedBuffers=[],Z.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(Z){this._gpu=Z}getGPUBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z)}updateBuffer(Z){let J=this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z),Q=Z.data;if(Z._updateID&&Q)Z._updateID=0,this._gpu.device.queue.writeBuffer(J,0,Q.buffer,0,(Z._updateSize||Q.byteLength)+3&-4);return J}destroyAll(){for(let Z in this._gpuBuffers)this._gpuBuffers[Z].destroy();this._gpuBuffers={}}createGPUBuffer(Z){if(!this._gpuBuffers[Z.uid])Z.on("update",this.updateBuffer,this),Z.on("change",this.onBufferChange,this),Z.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(Z);let J=this._gpu.device.createBuffer(Z.descriptor);if(Z._updateID=0,Z.data)jK(Z.data.buffer,J.getMappedRange()),J.unmap();return this._gpuBuffers[Z.uid]=J,J}onBufferChange(Z){this._gpuBuffers[Z.uid].destroy(),Z._updateID=0,this._gpuBuffers[Z.uid]=this.createGPUBuffer(Z)}onBufferDestroy(Z){this._managedBuffers.splice(this._managedBuffers.indexOf(Z),1),this._destroyBuffer(Z)}destroy(){this._managedBuffers.forEach((Z)=>this._destroyBuffer(Z)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(Z){this._gpuBuffers[Z.uid].destroy(),Z.off("update",this.updateBuffer,this),Z.off("change",this.onBufferChange,this),Z.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[Z.uid]=null}}var uf=F(()=>{g();HB();nY.extension={type:[I.WebGPUSystem],name:"buffer"}});class oY{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.pipeline.setColorMask(Z)}destroy(){this._renderer=null,this._colorMaskCache=null}}var lf=F(()=>{g();oY.extension={type:[I.WebGPUSystem],name:"colorMask"}});class ZX{constructor(Z){this._renderer=Z}async init(Z){if(this._initPromise)return this._initPromise;return this._initPromise=(Z.gpu?Promise.resolve(Z.gpu):this._createDeviceAndAdaptor(Z)).then((J)=>{this.gpu=J,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise}contextChange(Z){this._renderer.gpu=Z}async _createDeviceAndAdaptor(Z){let J=await K0.get().getNavigator().gpu.requestAdapter({powerPreference:Z.powerPreference,forceFallbackAdapter:Z.forceFallbackAdapter}),Q=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter((K)=>J.features.has(K)),q=await J.requestDevice({requiredFeatures:Q});return{adapter:J,device:q}}destroy(){this.gpu=null,this._renderer=null}}var pf=F(()=>{l0();g();ZX.extension={type:[I.WebGPUSystem],name:"device"};ZX.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1}});class tY{constructor(Z){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=Z}renderStart(){this.commandFinished=new Promise((Z)=>{this._resolveCommandFinished=Z}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(Z){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z.descriptor)}endRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end();this.renderPassEncoder=null}setViewport(Z){this.renderPassEncoder.setViewport(Z.x,Z.y,Z.width,Z.height,0,1)}setPipelineFromGeometryProgramAndState(Z,J,Q,q){let K=this._renderer.pipeline.getPipeline(Z,J,Q,q);this.setPipeline(K)}setPipeline(Z){if(this._boundPipeline===Z)return;this._boundPipeline=Z,this.renderPassEncoder.setPipeline(Z)}_setVertexBuffer(Z,J){if(this._boundVertexBuffer[Z]===J)return;this._boundVertexBuffer[Z]=J,this.renderPassEncoder.setVertexBuffer(Z,this._renderer.buffer.updateBuffer(J))}_setIndexBuffer(Z){if(this._boundIndexBuffer===Z)return;this._boundIndexBuffer=Z;let J=Z.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(Z),J)}resetBindGroup(Z){this._boundBindGroup[Z]=null}setBindGroup(Z,J,Q){if(this._boundBindGroup[Z]===J)return;this._boundBindGroup[Z]=J,J._touch(this._renderer.textureGC.count);let q=this._renderer.bindGroup.getBindGroup(J,Q,Z);this.renderPassEncoder.setBindGroup(Z,q)}setGeometry(Z,J){let Q=this._renderer.pipeline.getBufferNamesToBind(Z,J);for(let q in Q)this._setVertexBuffer(parseInt(q,10),Z.attributes[Q[q]].buffer);if(Z.indexBuffer)this._setIndexBuffer(Z.indexBuffer)}_setShaderBindGroups(Z,J){for(let Q in Z.groups){let q=Z.groups[Q];if(!J)this._syncBindGroup(q);this.setBindGroup(Q,q,Z.gpuProgram)}}_syncBindGroup(Z){for(let J in Z.resources){let Q=Z.resources[J];if(Q.isUniformGroup)this._renderer.ubo.updateUniformGroup(Q)}}draw(Z){let{geometry:J,shader:Q,state:q,topology:K,size:X,start:N,instanceCount:Y,skipSync:O}=Z;if(this.setPipelineFromGeometryProgramAndState(J,Q.gpuProgram,q,K),this.setGeometry(J,Q.gpuProgram),this._setShaderBindGroups(Q,O),J.indexBuffer)this.renderPassEncoder.drawIndexed(X||J.indexBuffer.data.length,Y??J.instanceCount,N||0);else this.renderPassEncoder.draw(X||J.getSize(),Y??J.instanceCount,N||0)}finishRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end(),this.renderPassEncoder=null}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){let Z=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z);let J=this._boundPipeline,Q={...this._boundVertexBuffer},q=this._boundIndexBuffer,K={...this._boundBindGroup};this._clearCache();let X=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(X.x,X.y,X.width,X.height,0,1),this.setPipeline(J);for(let N in Q)this._setVertexBuffer(N,Q[N]);for(let N in K)this.setBindGroup(N,K[N],null);this._setIndexBuffer(q)}_clearCache(){for(let Z=0;Z<16;Z++)this._boundBindGroup[Z]=null,this._boundVertexBuffer[Z]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(Z){this._gpu=Z}}var af=F(()=>{g();tY.extension={type:[I.WebGPUSystem],name:"encoder",priority:1}});class rY{constructor(Z){this._renderer=Z}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}var sf=F(()=>{g();rY.extension={type:[I.WebGPUSystem],name:"limits"}});class eY{constructor(Z){this._renderTargetStencilState=Object.create(null),this._renderer=Z,Z.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(Z){let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:Y1.DISABLED,stencilReference:0};this._activeRenderTarget=Z,this.setStencilMode(J.stencilMode,J.stencilReference)}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid];Q.stencilMode=Z,Q.stencilReference=J;let q=this._renderer;q.pipeline.setStencilMode(Z),q.encoder.renderPassEncoder.setStencilReference(J)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}var nf=F(()=>{g();SZ();eY.extension={type:[I.WebGPUSystem],name:"stencil"}});class JX{constructor(Z){this._syncFunctionHash=Object.create(null),this._adaptor=Z,this._systemCheck()}_systemCheck(){if(!LY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(Z){let J=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new v1({data:new Float32Array(J.layout.size/4),usage:F0.UNIFORM|F0.COPY_DST}))}getUniformGroupData(Z){return this._syncFunctionHash[Z._signature]||this._initUniformGroup(Z)}_initUniformGroup(Z){let J=Z._signature,Q=this._syncFunctionHash[J];if(!Q){let q=Object.keys(Z.uniformStructures).map((N)=>Z.uniformStructures[N]),K=this._adaptor.createUboElements(q),X=this._generateUboSync(K.uboElements);Q=this._syncFunctionHash[J]={layout:K,syncFunction:X}}return this._syncFunctionHash[J]}_generateUboSync(Z){return this._adaptor.generateUboSync(Z)}syncUniformGroup(Z,J,Q){let q=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new v1({data:new Float32Array(q.layout.size/4),usage:F0.UNIFORM|F0.COPY_DST}));let K=null;if(!J)J=Z.buffer.data,K=Z.buffer.dataInt32;return Q||(Q=0),q.syncFunction(Z.uniforms,J,K,Q),!0}updateUniformGroup(Z){if(Z.isStatic&&!Z._dirtyId)return!1;Z._dirtyId=0;let J=this.syncUniformGroup(Z);return Z.buffer.update(),J}destroy(){this._syncFunctionHash=null}}var HM=F(()=>{d_();$9();e4()});function of(Z){let J=Z.map((q)=>({data:q,offset:0,size:0})),Q=0;for(let q=0;q<J.length;q++){let K=J[q],X=QX[K.data.type].size,N=QX[K.data.type].align;if(!QX[K.data.type])throw Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${K.data.type}`);if(K.data.size>1)X=Math.max(X,N)*K.data.size;Q=Math.ceil(Q/N)*N,K.size=X,K.offset=Q,Q+=X}return Q=Math.ceil(Q/16)*16,{uboElements:J,size:Q}}var QX;var YM=F(()=>{QX={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}}});var X7;var VM=F(()=>{X7=[{type:"mat3x3<f32>",test:(Z)=>{return Z.value.a!==void 0},ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:(Z)=>Z.type==="vec2<f32>"&&Z.size===1&&Z.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:(Z)=>Z.type==="vec3<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}]});function ZV(Z,J,Q,q){let K=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `],X=0;for(let Y=0;Y<Z.length;Y++){let O=Z[Y],U=O.data.name,$=!1,B=0;for(let _=0;_<X7.length;_++)if(X7[_].test(O.data)){B=O.offset/4,K.push(`name = "${U}";`,`offset += ${B-X};`,X7[_][J]||X7[_].ubo),$=!0;break}if(!$)if(O.data.size>1)B=O.offset/4,K.push(Q(O,B-X));else{let _=q[O.data.type];B=O.offset/4,K.push(`
                    v = uv.${U};
                    offset += ${B-X};
                    ${_};
                `)}X=B}let N=K.join(`
`);return Function("uv","data","dataInt32","offset",N)}var OM=F(()=>{VM()});function qQ(Z,J){return`
        for (let i = 0; i < ${Z*J}; i++) {
            data[offset + (((i / ${Z})|0) * 4) + (i % ${Z})] = v[i];
        }
    `}var UM,tf;var AM=F(()=>{UM={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":qQ(3,2),"mat4x2<f32>":qQ(4,2),"mat2x3<f32>":qQ(2,3),"mat4x3<f32>":qQ(4,3),"mat2x4<f32>":qQ(2,4),"mat3x4<f32>":qQ(3,4)},tf={...UM,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `}});function rf(Z,J){let{size:Q,align:q}=QX[Z.data.type],K=(q-Q)/4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${Z.data.name};
         ${J!==0?`offset += ${J};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${Z.data.size*(Q/4)}; i++)
         {
             for(var j = 0; j < ${Q/4}; j++)
             {
                 ${X}[arrayOffset++] = v[t++];
             }
             ${K!==0?`arrayOffset += ${K};`:""}
         }
     `}var ef=F(()=>{YM()});function Zy(Z){return ZV(Z,"uboWgsl",rf,tf)}var Jy=F(()=>{OM();AM();ef()});var JV;var Qy=F(()=>{g();HM();YM();Jy();JV=class JV extends JX{constructor(){super({createUboElements:of,generateUboSync:Zy})}};JV.extension={type:[I.WebGPUSystem],name:"ubo"}});var mZ;var QV=F(()=>{B5();s1();mZ=class mZ extends t0{constructor({buffer:Z,offset:J,size:Q}){super();this.uid=_0("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=_0("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=Z,this.offset=J|0,this.size=Q,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=_0("resource"),this.emit("change",this)}destroy(Z=!1){if(this.destroyed=!0,Z)this.buffer.destroy();this.emit("change",this),this.buffer=null}}});class $M{constructor({minUniformOffsetAlignment:Z}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=Z,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(Z){if(Z>this._minUniformOffsetAlignment/4)throw Error(`UniformBufferBatch: array is too large: ${Z*4}`);let J=this.byteIndex,Q=J+Z*4;if(Q=Math.ceil(Q/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,Q>this.data.length*4)throw Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=Q,J}addGroup(Z){let J=this.addEmptyGroup(Z.length);for(let Q=0;Q<Z.length;Q++)this.data[J/4+Q]=Z[Q];return J}destroy(){this.data=null}}var qy=()=>{};class qV{constructor(Z){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new $M({minUniformOffsetAlignment:G9});let J=256/G9;for(let Q=0;Q<J;Q++){let q=F0.UNIFORM|F0.COPY_DST;if(Q===0)q|=F0.COPY_SRC;this._buffers.push(new v1({data:this._batchBuffer.data,usage:q}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(let Z in this._bindGroupHash)this._bindGroupHash[Z]=null;this._batchBuffer.clear()}getUniformBindGroup(Z,J){if(!J&&this._bindGroupHash[Z.uid])return this._bindGroupHash[Z.uid];this._renderer.ubo.ensureUniformGroup(Z);let Q=Z.buffer.data,q=this._batchBuffer.addEmptyGroup(Q.length);return this._renderer.ubo.syncUniformGroup(Z,this._batchBuffer.data,q/4),this._bindGroupHash[Z.uid]=this._getBindGroup(q/G9),this._bindGroupHash[Z.uid]}getUboResource(Z){this._renderer.ubo.updateUniformGroup(Z);let J=Z.buffer.data,Q=this._batchBuffer.addGroup(J);return this._getBufferResource(Q/G9)}getArrayBindGroup(Z){let J=this._batchBuffer.addGroup(Z);return this._getBindGroup(J/G9)}getArrayBufferResource(Z){let Q=this._batchBuffer.addGroup(Z)/G9;return this._getBufferResource(Q)}_getBufferResource(Z){if(!this._bufferResources[Z]){let J=this._buffers[Z%2];this._bufferResources[Z]=new mZ({buffer:J,offset:(Z/2|0)*256,size:G9})}return this._bufferResources[Z]}_getBindGroup(Z){if(!this._bindGroups[Z]){let J=new M5({0:this._getBufferResource(Z)});this._bindGroups[Z]=J}return this._bindGroups[Z]}_uploadBindGroups(){let Z=this._renderer.buffer,J=this._buffers[0];J.update(this._batchBuffer.byteIndex),Z.updateBuffer(J);let Q=this._renderer.gpu.device.createCommandEncoder();for(let q=1;q<this._buffers.length;q++){let K=this._buffers[q];Q.copyBufferToBuffer(Z.getGPUBuffer(J),G9,Z.getGPUBuffer(K),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([Q.finish()])}destroy(){for(let Z=0;Z<this._bindGroups.length;Z++)this._bindGroups[Z]?.destroy();this._bindGroups=null,this._bindGroupHash=null;for(let Z=0;Z<this._buffers.length;Z++)this._buffers[Z].destroy();this._buffers=null;for(let Z=0;Z<this._bufferResources.length;Z++)this._bufferResources[Z].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}var G9=128;var Ky=F(()=>{g();$9();QV();e4();qy();A9();qV.extension={type:[I.WebGPUPipes],name:"uniformBatch"}});function KV(Z,J){for(let Q in Z.attributes){let q=Z.attributes[Q],K=J[Q];if(K)q.format??(q.format=K.format),q.offset??(q.offset=K.offset),q.instance??(q.instance=K.instance);else e(`Attribute ${Q} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}ma(Z)}function ma(Z){let{buffers:J,attributes:Q}=Z,q={},K={};for(let X in J){let N=J[X];q[N.uid]=0,K[N.uid]=0}for(let X in Q){let N=Q[X];q[N.buffer.uid]+=q8(N.format).stride}for(let X in Q){let N=Q[X];N.stride??(N.stride=q[N.buffer.uid]),N.start??(N.start=K[N.buffer.uid]),K[N.buffer.uid]+=q8(N.format).stride}}var DM=F(()=>{c0();bZ()});var H4;var BM=F(()=>{SZ();H4=[];H4[Y1.NONE]=void 0;H4[Y1.DISABLED]={stencilWriteMask:0,stencilReadMask:0};H4[Y1.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};H4[Y1.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};H4[Y1.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};H4[Y1.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}});function ca(Z,J,Q,q,K){return Z<<24|J<<16|Q<<10|q<<5|K}function ua(Z,J,Q,q){return Q<<6|Z<<3|q<<1|J}class XV{constructor(Z){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=Z}contextChange(Z){this._gpu=Z,this.setStencilMode(Y1.DISABLED),this._updatePipeHash()}setMultisampleCount(Z){if(this._multisampleCount===Z)return;this._multisampleCount=Z,this._updatePipeHash()}setRenderTarget(Z){this._multisampleCount=Z.msaaSamples,this._depthStencilAttachment=Z.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(Z){if(this._colorMask===Z)return;this._colorMask=Z,this._updatePipeHash()}setStencilMode(Z){if(this._stencilMode===Z)return;this._stencilMode=Z,this._stencilState=H4[Z],this._updatePipeHash()}setPipeline(Z,J,Q,q){let K=this.getPipeline(Z,J,Q);q.setPipeline(K)}getPipeline(Z,J,Q,q){if(!Z._layoutKey)KV(Z,J.attributeData),this._generateBufferKey(Z);q||(q=Z.topology);let K=ca(Z._layoutKey,J._layoutKey,Q.data,Q._blendModeId,da[q]);if(this._pipeCache[K])return this._pipeCache[K];return this._pipeCache[K]=this._createPipeline(Z,J,Q,q),this._pipeCache[K]}_createPipeline(Z,J,Q,q){let K=this._gpu.device,X=this._createVertexBufferLayouts(Z,J),N=this._renderer.state.getColorTargets(Q);N[0].writeMask=this._stencilMode===Y1.RENDERING_MASK_ADD?0:this._colorMask;let Y=this._renderer.shader.getProgramData(J).pipeline,O={vertex:{module:this._getModule(J.vertex.source),entryPoint:J.vertex.entryPoint,buffers:X},fragment:{module:this._getModule(J.fragment.source),entryPoint:J.fragment.entryPoint,targets:N},primitive:{topology:q,cullMode:Q.cullMode},layout:Y,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};if(this._depthStencilAttachment)O.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:Q.depthTest,depthCompare:Q.depthTest?"less":"always"};return K.createRenderPipeline(O)}_getModule(Z){return this._moduleCache[Z]||this._createModule(Z)}_createModule(Z){let J=this._gpu.device;return this._moduleCache[Z]=J.createShaderModule({code:Z}),this._moduleCache[Z]}_generateBufferKey(Z){let J=[],Q=0,q=Object.keys(Z.attributes).sort();for(let X=0;X<q.length;X++){let N=Z.attributes[q[X]];J[Q++]=N.offset,J[Q++]=N.format,J[Q++]=N.stride,J[Q++]=N.instance}let K=J.join("|");return Z._layoutKey=Z7(K,"geometry"),Z._layoutKey}_generateAttributeLocationsKey(Z){let J=[],Q=0,q=Object.keys(Z.attributeData).sort();for(let X=0;X<q.length;X++){let N=Z.attributeData[q[X]];J[Q++]=N.location}let K=J.join("|");return Z._attributeLocationsKey=Z7(K,"programAttributes"),Z._attributeLocationsKey}getBufferNamesToBind(Z,J){let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bindingNamesCache[Q])return this._bindingNamesCache[Q];let q=this._createVertexBufferLayouts(Z,J),K=Object.create(null),X=J.attributeData;for(let N=0;N<q.length;N++){let O=Object.values(q[N].attributes)[0].shaderLocation;for(let U in X)if(X[U].location===O){K[N]=U;break}}return this._bindingNamesCache[Q]=K,K}_createVertexBufferLayouts(Z,J){if(!J._attributeLocationsKey)this._generateAttributeLocationsKey(J);let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bufferLayoutsCache[Q])return this._bufferLayoutsCache[Q];let q=[];return Z.buffers.forEach((K)=>{let X={arrayStride:0,stepMode:"vertex",attributes:[]},N=X.attributes;for(let Y in J.attributeData){let O=Z.attributes[Y];if((O.divisor??1)!==1)e(`Attribute ${Y} has an invalid divisor value of '${O.divisor}'. WebGPU only supports a divisor value of 1`);if(O.buffer===K)X.arrayStride=O.stride,X.stepMode=O.instance?"instance":"vertex",N.push({shaderLocation:J.attributeData[Y].location,offset:O.offset,format:O.format})}if(N.length)q.push(X)}),this._bufferLayoutsCache[Q]=q,q}_updatePipeHash(){let Z=ua(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);if(!this._pipeStateCaches[Z])this._pipeStateCaches[Z]=Object.create(null);this._pipeCache=this._pipeStateCaches[Z]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}var da;var Xy=F(()=>{g();c0();DM();SZ();RK();BM();da={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};XV.extension={type:[I.WebGPUSystem],name:"pipeline"}});function zy(Z,J,Q,q,K,X){let N=X?1:-1;return Z.identity(),Z.a=1/q*2,Z.d=N*(1/K*2),Z.tx=-1-J*Z.a,Z.ty=-N-Q*Z.d,Z}var Ny=()=>{};function Hy(Z){let J=Z.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&J instanceof HTMLCanvasElement&&document.body.contains(J)}var Yy=()=>{};class qX{constructor(Z){this.rootViewPort=new A0,this.viewport=new A0,this.onRenderTargetChange=new aK("onRenderTargetChange"),this.projectionMatrix=new a,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:Z,clear:J,clearColor:Q,frame:q}){this._renderTargetStack.length=0,this.push(Z,J,Q,q),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=Hy(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(Z,J=!0,Q,q){let K=this.getRenderTarget(Z),X=this.renderTarget!==K;this.renderTarget=K,this.renderSurface=Z;let N=this.getGpuRenderTarget(K);if(K.pixelWidth!==N.width||K.pixelHeight!==N.height)this.adaptor.resizeGpuRenderTarget(K),N.width=K.pixelWidth,N.height=K.pixelHeight;let Y=K.colorTexture,O=this.viewport,U=Y.pixelWidth,$=Y.pixelHeight;if(!q&&Z instanceof p)q=Z.frame;if(q){let B=Y._resolution;O.x=q.x*B+0.5|0,O.y=q.y*B+0.5|0,O.width=q.width*B+0.5|0,O.height=q.height*B+0.5|0}else O.x=0,O.y=0,O.width=U,O.height=$;if(zy(this.projectionMatrix,0,0,O.width/Y.resolution,O.height/Y.resolution,!K.isRoot),this.adaptor.startRenderPass(K,J,Q,O),X)this.onRenderTargetChange.emit(K);return K}clear(Z,J=H5.ALL,Q){if(!J)return;if(Z)Z=this.getRenderTarget(Z);this.adaptor.clear(Z||this.renderTarget,J,Q,this.viewport)}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(Z,J=H5.ALL,Q,q){let K=this.bind(Z,J,Q,q);return this._renderTargetStack.push({renderTarget:K,frame:q}),K}pop(){this._renderTargetStack.pop();let Z=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(Z.renderTarget,!1,null,Z.frame)}getRenderTarget(Z){if(Z.isTexture)Z=Z.source;return this._renderSurfaceToRenderTargetHash.get(Z)??this._initRenderTarget(Z)}copyToTexture(Z,J,Q,q,K){if(Q.x<0)q.width+=Q.x,K.x-=Q.x,Q.x=0;if(Q.y<0)q.height+=Q.y,K.y-=Q.y,Q.y=0;let{pixelWidth:X,pixelHeight:N}=Z;return q.width=Math.min(q.width,X-Q.x),q.height=Math.min(q.height,N-Q.y),this.adaptor.copyToTexture(Z,J,Q,q,K)}ensureDepthStencil(){if(!this.renderTarget.stencil)this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport)}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((Z,J)=>{if(Z!==J)Z.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(Z){let J=null;if(g5.test(Z))Z=pY(Z).source;if(Z instanceof eK)J=Z;else if(Z instanceof y0){if(J=new eK({colorTextures:[Z]}),Z.source instanceof g5)J.isRoot=!0;Z.once("destroy",()=>{J.destroy(),this._renderSurfaceToRenderTargetHash.delete(Z);let Q=this._gpuRenderTargetHash[J.uid];if(Q)this._gpuRenderTargetHash[J.uid]=null,this.adaptor.destroyGpuRenderTarget(Q)})}return this._renderSurfaceToRenderTargetHash.set(Z,J),J}getGpuRenderTarget(Z){return this._gpuRenderTargetHash[Z.uid]||(this._gpuRenderTargetHash[Z.uid]=this.adaptor.initGpuRenderTarget(Z))}resetState(){this.renderTarget=null,this.renderSurface=null}}var _M=F(()=>{I0();n1();ZQ();Ny();c_();T2();y5();u0();XM();Yy();KM()});class MM{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}var Vy=()=>{};class WM{init(Z,J){this._renderer=Z,this._renderTargetSystem=J}copyToTexture(Z,J,Q,q,K){let X=this._renderer,N=this._getGpuColorTexture(Z),Y=X.texture.getGpuSource(J.source);return X.encoder.commandEncoder.copyTextureToTexture({texture:N,origin:Q},{texture:Y,origin:K},q),J}startRenderPass(Z,J=!0,Q,q){let X=this._renderTargetSystem.getGpuRenderTarget(Z),N=this.getDescriptor(Z,J,Q);X.descriptor=N,this._renderer.pipeline.setRenderTarget(X),this._renderer.encoder.beginRenderPass(X),this._renderer.encoder.setViewport(q)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.contexts[0])return J.contexts[0].getCurrentTexture();return this._renderer.texture.getGpuSource(Z.colorTextures[0].source)}getDescriptor(Z,J,Q){if(typeof J==="boolean")J=J?H5.ALL:H5.NONE;let q=this._renderTargetSystem,K=q.getGpuRenderTarget(Z),X=Z.colorTextures.map((O,U)=>{let $=K.contexts[U],B,_;if($)B=$.getCurrentTexture().createView();else B=this._renderer.texture.getGpuSource(O).createView({mipLevelCount:1});if(K.msaaTextures[U])_=B,B=this._renderer.texture.getTextureView(K.msaaTextures[U]);let W=J&H5.COLOR?"clear":"load";return Q??(Q=q.defaultClearColor),{view:B,resolveTarget:_,clearValue:Q,storeOp:"store",loadOp:W}}),N;if((Z.stencil||Z.depth)&&!Z.depthStencilTexture)Z.ensureDepthStencilTexture(),Z.depthStencilTexture.source.sampleCount=K.msaa?4:1;if(Z.depthStencilTexture){let O=J&H5.STENCIL?"clear":"load",U=J&H5.DEPTH?"clear":"load";N={view:this._renderer.texture.getGpuSource(Z.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:O,depthClearValue:1,depthLoadOp:U,depthStoreOp:"store"}}return{colorAttachments:X,depthStencilAttachment:N}}clear(Z,J=!0,Q,q){if(!J)return;let{gpu:K,encoder:X}=this._renderer,N=K.device;if(X.commandEncoder===null){let O=N.createCommandEncoder(),U=this.getDescriptor(Z,J,Q),$=O.beginRenderPass(U);$.setViewport(q.x,q.y,q.width,q.height,0,1),$.end();let B=O.finish();N.queue.submit([B])}else this.startRenderPass(Z,J,Q,q)}initGpuRenderTarget(Z){Z.isRoot=!0;let J=new MM;if(Z.colorTextures.forEach((Q,q)=>{if(Q instanceof g5){let K=Q.resource.getContext("webgpu"),X=Q.transparent?"premultiplied":"opaque";try{K.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:X})}catch(N){console.error(N)}J.contexts[q]=K}if(J.msaa=Q.source.antialias,Q.source.antialias){let K=new y0({width:0,height:0,sampleCount:4});J.msaaTextures[q]=K}}),J.msaa){if(J.msaaSamples=4,Z.depthStencilTexture)Z.depthStencilTexture.source.sampleCount=4}return J}destroyGpuRenderTarget(Z){Z.contexts.forEach((J)=>{J.unconfigure()}),Z.msaaTextures.forEach((J)=>{J.destroy()}),Z.msaaTextures.length=0,Z.contexts.length=0}ensureDepthStencilTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(Z.depthStencilTexture&&J.msaa)Z.depthStencilTexture.source.sampleCount=4}resizeGpuRenderTarget(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.width=Z.width,J.height=Z.height,J.msaa)Z.colorTextures.forEach((Q,q)=>{J.msaaTextures[q]?.resize(Q.source.width,Q.source.height,Q.source._resolution)})}}var Oy=F(()=>{ZQ();T2();y5();Vy()});var zV;var Uy=F(()=>{g();_M();Oy();zV=class zV extends qX{constructor(Z){super(Z);this.adaptor=new WM,this.adaptor.init(Z,this)}};zV.extension={type:[I.WebGPUSystem],name:"renderTarget"}});class NV{constructor(){this._gpuProgramData=Object.create(null)}contextChange(Z){this._gpu=Z}getProgramData(Z){return this._gpuProgramData[Z._layoutKey]||this._createGPUProgramData(Z)}_createGPUProgramData(Z){let J=this._gpu.device,Q=Z.gpuLayout.map((K)=>J.createBindGroupLayout({entries:K})),q={bindGroupLayouts:Q};return this._gpuProgramData[Z._layoutKey]={bindGroups:Q,pipeline:J.createPipelineLayout(q)},this._gpuProgramData[Z._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}var Ay=F(()=>{g();NV.extension={type:[I.WebGPUSystem],name:"shader"}});var d5;var $y=F(()=>{d5={};d5.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};d5.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};d5.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};d5.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};d5.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};d5.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};d5["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};d5["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};d5["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};d5.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};d5.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};d5.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}}});class HV{constructor(){this.defaultState=new f1,this.defaultState.blend=!0}contextChange(Z){this.gpu=Z}getColorTargets(Z){return[{format:"bgra8unorm",writeMask:0,blend:d5[Z.blendMode]||d5.normal}]}destroy(){this.gpu=null}}var Dy=F(()=>{g();b6();$y();HV.extension={type:[I.WebGPUSystem],name:"state"}});var By;var _y=F(()=>{By={type:"image",upload(Z,J,Q){let q=Z.resource,K=(Z.pixelWidth|0)*(Z.pixelHeight|0),X=q.byteLength/K;Q.device.queue.writeTexture({texture:J},q,{offset:0,rowsPerImage:Z.pixelHeight,bytesPerRow:Z.pixelHeight*X},{width:Z.pixelWidth,height:Z.pixelHeight,depthOrArrayLayers:1})}}});var GM,la,My;var Wy=F(()=>{GM={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},la={blockBytes:4,blockWidth:1,blockHeight:1},My={type:"compressed",upload(Z,J,Q){let{pixelWidth:q,pixelHeight:K}=Z,X=GM[Z.format]||la;for(let N=0;N<Z.resource.length;N++){let Y=Z.resource[N],O=Math.ceil(q/X.blockWidth)*X.blockBytes;Q.device.queue.writeTexture({texture:J,mipLevel:N},Y,{offset:0,bytesPerRow:O},{width:Math.ceil(q/X.blockWidth)*X.blockWidth,height:Math.ceil(K/X.blockHeight)*X.blockHeight,depthOrArrayLayers:1}),q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var YV;var FM=F(()=>{l0();c0();YV={type:"image",upload(Z,J,Q){let q=Z.resource;if(!q)return;if(globalThis.HTMLImageElement&&q instanceof HTMLImageElement){let Y=K0.get().createCanvas(q.width,q.height);Y.getContext("2d").drawImage(q,0,0,q.width,q.height),Z.resource=Y,e("ImageSource: Image element passed, converting to canvas and replacing resource.")}let K=Math.min(J.width,Z.resourceWidth||Z.pixelWidth),X=Math.min(J.height,Z.resourceHeight||Z.pixelHeight),N=Z.alphaMode==="premultiply-alpha-on-upload";Q.device.queue.copyExternalImageToTexture({source:q},{texture:J,premultipliedAlpha:N},{width:K,height:X})}}});var Gy;var Fy=F(()=>{FM();Gy={type:"video",upload(Z,J,Q){YV.upload(Z,J,Q)}}});class jM{constructor(Z){this.device=Z,this.sampler=Z.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(Z){let J=this.pipelines[Z];if(!J){if(!this.mipmapShaderModule)this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `});J=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:Z}]}}),this.pipelines[Z]=J}return J}generateMipmap(Z){let J=this._getMipmapPipeline(Z.format);if(Z.dimension==="3d"||Z.dimension==="1d")throw Error("Generating mipmaps for non-2d textures is currently unsupported!");let Q=Z,q=Z.depthOrArrayLayers||1,K=Z.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!K){let Y={size:{width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q},format:Z.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:Z.mipLevelCount-1};Q=this.device.createTexture(Y)}let X=this.device.createCommandEncoder({}),N=J.getBindGroupLayout(0);for(let Y=0;Y<q;++Y){let O=Z.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),U=K?1:0;for(let $=1;$<Z.mipLevelCount;++$){let B=Q.createView({baseMipLevel:U++,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),_=X.beginRenderPass({colorAttachments:[{view:B,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),W=this.device.createBindGroup({layout:N,entries:[{binding:0,resource:this.sampler},{binding:1,resource:O}]});_.setPipeline(J),_.setBindGroup(0,W),_.draw(3,1,0,0),_.end(),O=B}}if(!K){let Y={width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q};for(let O=1;O<Z.mipLevelCount;++O)X.copyTextureToTexture({texture:Q,mipLevel:O-1},{texture:Z,mipLevel:O},Y),Y.width=Math.ceil(Y.width/2),Y.height=Math.ceil(Y.height/2)}if(this.device.queue.submit([X.finish()]),!K)Q.destroy();return Z}}var jy=()=>{};class VV{constructor(Z){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:YV,buffer:By,video:Gy,compressed:My},this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuSources"),Z.renderableGC.addManagedHash(this,"_gpuSamplers"),Z.renderableGC.addManagedHash(this,"_bindGroupHash"),Z.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(Z){this._gpu=Z}initSource(Z){if(this._gpuSources[Z.uid])return this._gpuSources[Z.uid];return this._initSource(Z)}_initSource(Z){if(Z.autoGenerateMipmaps){let Y=Math.max(Z.pixelWidth,Z.pixelHeight);Z.mipLevelCount=Math.floor(Math.log2(Y))+1}let J=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;if(Z.uploadMethodId!=="compressed")J|=GPUTextureUsage.RENDER_ATTACHMENT,J|=GPUTextureUsage.COPY_SRC;let Q=GM[Z.format]||{blockBytes:4,blockWidth:1,blockHeight:1},q=Math.ceil(Z.pixelWidth/Q.blockWidth)*Q.blockWidth,K=Math.ceil(Z.pixelHeight/Q.blockHeight)*Q.blockHeight,X={label:Z.label,size:{width:q,height:K},format:Z.format,sampleCount:Z.sampleCount,mipLevelCount:Z.mipLevelCount,dimension:Z.dimension,usage:J},N=this._gpuSources[Z.uid]=this._gpu.device.createTexture(X);if(!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceResize,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),N}onSourceUpdate(Z){let J=this.getGpuSource(Z);if(!J)return;if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,J,this._gpu);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z)}onSourceUnload(Z){let J=this._gpuSources[Z.uid];if(J)this._gpuSources[Z.uid]=null,J.destroy()}onUpdateMipmaps(Z){if(!this._mipmapGenerator)this._mipmapGenerator=new jM(this._gpu.device);let J=this.getGpuSource(Z);this._mipmapGenerator.generateMipmap(J)}onSourceDestroy(Z){Z.off("update",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("destroy",this.onSourceDestroy,this),Z.off("resize",this.onSourceResize,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}onSourceResize(Z){let J=this._gpuSources[Z.uid];if(!J)this.initSource(Z);else if(J.width!==Z.pixelWidth||J.height!==Z.pixelHeight)this._textureViewHash[Z.uid]=null,this._bindGroupHash[Z.uid]=null,this.onSourceUnload(Z),this.initSource(Z)}_initSampler(Z){return this._gpuSamplers[Z._resourceId]=this._gpu.device.createSampler(Z),this._gpuSamplers[Z._resourceId]}getGpuSampler(Z){return this._gpuSamplers[Z._resourceId]||this._initSampler(Z)}getGpuSource(Z){return this._gpuSources[Z.uid]||this.initSource(Z)}getTextureBindGroup(Z){return this._bindGroupHash[Z.uid]??this._createTextureBindGroup(Z)}_createTextureBindGroup(Z){let J=Z.source;return this._bindGroupHash[Z.uid]=new M5({0:J,1:J.style,2:new p0({uTextureMatrix:{type:"mat3x3<f32>",value:Z.textureMatrix.mapCoord}})}),this._bindGroupHash[Z.uid]}getTextureView(Z){let J=Z.source;return this._textureViewHash[J.uid]??this._createTextureView(J)}_createTextureView(Z){return this._textureViewHash[Z.uid]=this.getGpuSource(Z).createView(),this._textureViewHash[Z.uid]}generateCanvas(Z){let J=this._renderer,Q=J.gpu.device.createCommandEncoder(),q=K0.get().createCanvas();q.width=Z.source.pixelWidth,q.height=Z.source.pixelHeight;let K=q.getContext("webgpu");return K.configure({device:J.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:K0.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),Q.copyTextureToTexture({texture:J.texture.getGpuSource(Z.source),origin:{x:0,y:0}},{texture:K.getCurrentTexture()},{width:q.width,height:q.height}),J.gpu.device.queue.submit([Q.finish()]),q}getPixels(Z){let J=this.generateCanvas(Z),Q=z8.getOptimalCanvasAndContext(J.width,J.height),q=Q.context;q.drawImage(J,0,0);let{width:K,height:X}=J,N=q.getImageData(0,0,K,X),Y=new Uint8ClampedArray(N.data.buffer);return z8.returnCanvasAndContext(Q),{pixels:Y,width:K,height:X}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null;for(let Z of Object.keys(this._bindGroupHash)){let J=Number(Z);this._bindGroupHash[J]?.destroy(),this._bindGroupHash[J]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}var wy=F(()=>{l0();g();I5();n2();A9();_y();Wy();FM();Fy();jy();VV.extension={type:[I.WebGPUSystem],name:"texture"}});var Iy={};qz(Iy,{WebGPURenderer:()=>Ey});var pa,ia,aa,Ly,Cy,Ry,Ey;var Ty=F(()=>{g();av();ov();tv();sK();NM();N6();cf();uf();lf();pf();af();sf();nf();Qy();Ky();Xy();Uy();Ay();Dy();wy();pa=[...iY,JV,tY,ZX,rY,nY,VV,zV,NV,HV,XV,oY,eY,sY],ia=[...aY,qV],aa=[SY,IY,EY],Ly=[],Cy=[],Ry=[];J0.handleByNamedList(I.WebGPUSystem,Ly);J0.handleByNamedList(I.WebGPUPipes,Cy);J0.handleByNamedList(I.WebGPUPipesAdaptor,Ry);J0.add(...pa,...ia,...aa);Ey=class Ey extends W9{constructor(){let Z={name:"webgpu",type:_1.WEBGPU,systems:Ly,renderPipes:Cy,renderPipeAdaptors:Ry};super(Z)}}});class OV{contextChange(Z){let J=new p0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),Q=Z.limits.maxBatchableTextures,q=K4({name:"graphics",bits:[y2,x2(Q),r2,z4]});this.shader=new T1({glProgram:q,resources:{localUniforms:J,batchSamplers:g2(Q)}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:N,instructions:Y}=X.getContextRenderData(Q);q.groups[0]=K.globalUniforms.bindGroup,K.state.set(Z.state),K.shader.bind(q),K.geometry.bind(N.geometry,q.glProgram);let O=Y.instructions;for(let U=0;U<Y.instructionSize;U++){let $=O[U];if($.size){for(let B=0;B<$.textures.count;B++)K.texture.bind($.textures.textures[B],B);K.geometry.draw($.topology,$.size,$.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}var Sy=F(()=>{g();I0();B9();TK();SK();e2();_9();hH();S6();I5();OV.extension={type:[I.WebGLPipesAdaptor],name:"graphics"}});class UV{init(){let Z=K4({name:"mesh",bits:[r2,nv,z4]});this._shader=new T1({glProgram:Z,resources:{uTexture:p.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q){q=this._shader;let K=J.texture,X=K.source;q.resources.uTexture=X,q.resources.uSampler=X.style,q.resources.textureUniforms.uniforms.uTextureMatrix=K.textureMatrix.mapCoord}else if(!q.glProgram){e("Mesh shader has no glProgram",J.shader);return}q.groups[100]=Q.globalUniforms.bindGroup,q.groups[101]=Z.localUniformsBindGroup,Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var by=F(()=>{g();I0();B9();e2();_9();u_();S6();u0();c0();UV.extension={type:[I.WebGLPipesAdaptor],name:"mesh"}});class AV{constructor(){this._tempState=f1.for2d(),this._didUploadHash={}}init(Z){Z.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(Z,J,Q){let q=Z.renderer,K=this._didUploadHash[Q.uid];if(q.shader.bind(Q,K),!K)this._didUploadHash[Q.uid]=!0;q.shader.updateUniformGroup(q.globalUniforms.uniformGroup),q.geometry.bind(J,Q.glProgram)}execute(Z,J){let Q=Z.renderer;this._tempState.blendMode=J.blendMode,Q.state.set(this._tempState);let q=J.textures.textures;for(let K=0;K<J.textures.count;K++)Q.texture.bind(q[K],K);Q.geometry.draw(J.topology,J.size,J.start)}}var ky=F(()=>{g();b6();AV.extension={type:[I.WebGLPipesAdaptor],name:"batch"}});var KX;var Py=F(()=>{KX=((Z)=>{return Z[Z.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Z[Z.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Z[Z.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Z})(KX||{})});class wM{constructor(Z,J){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=Z||null,this.updateID=-1,this.byteLength=-1,this.type=J}}var vy=()=>{};class $V{constructor(Z){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGLBuffer(Z)}bind(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);J.bindBuffer(Q.type,Q.buffer)}bindBufferBase(Z,J){let{_gl:Q}=this;if(this._boundBufferBases[J]!==Z)this._boundBufferBases[J]=Z,Z._lastBindBaseLocation=J,Q.bindBufferBase(Q.UNIFORM_BUFFER,J,Z.buffer)}nextBindBase(Z){if(this._bindCallId++,this._minBaseLocation=0,Z){if(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1)this._nextBindBaseIndex=1}}freeLocationForBufferBase(Z){let J=this.getLastBindBaseLocation(Z);if(J>=this._minBaseLocation)return Z._lastBindCallId=this._bindCallId,J;let Q=0,q=this._nextBindBaseIndex;while(Q<2){if(q>=this._maxBindings)q=this._minBaseLocation,Q++;let K=this._boundBufferBases[q];if(K&&K._lastBindCallId===this._bindCallId){q++;continue}break}if(J=q,this._nextBindBaseIndex=q+1,Q>=2)return-1;return Z._lastBindCallId=this._bindCallId,this._boundBufferBases[J]=null,J}getLastBindBaseLocation(Z){let J=Z._lastBindBaseLocation;if(this._boundBufferBases[J]===Z)return J;return-1}bindBufferRange(Z,J,Q,q){let{_gl:K}=this;Q||(Q=0),J||(J=0),this._boundBufferBases[J]=null,K.bindBufferRange(K.UNIFORM_BUFFER,J||0,Z.buffer,Q*256,q||256)}updateBuffer(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);if(Z._updateID===Q.updateID)return Q;Q.updateID=Z._updateID,J.bindBuffer(Q.type,Q.buffer);let q=Z.data,K=Z.descriptor.usage&F0.STATIC?J.STATIC_DRAW:J.DYNAMIC_DRAW;if(q)if(Q.byteLength>=q.byteLength)J.bufferSubData(Q.type,0,q,0,Z._updateSize/q.BYTES_PER_ELEMENT);else Q.byteLength=q.byteLength,J.bufferData(Q.type,q,K);else Q.byteLength=Z.descriptor.size,J.bufferData(Q.type,Q.byteLength,K);return Q}destroyAll(){let Z=this._gl;for(let J in this._gpuBuffers)Z.deleteBuffer(this._gpuBuffers[J].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(Z,J){let Q=this._gpuBuffers[Z.uid],q=this._gl;if(!J)q.deleteBuffer(Q.buffer);this._gpuBuffers[Z.uid]=null}createGLBuffer(Z){let{_gl:J}=this,Q=KX.ARRAY_BUFFER;if(Z.descriptor.usage&F0.INDEX)Q=KX.ELEMENT_ARRAY_BUFFER;else if(Z.descriptor.usage&F0.UNIFORM)Q=KX.UNIFORM_BUFFER;let q=new wM(J.createBuffer(),Q);return this._gpuBuffers[Z.uid]=q,Z.on("destroy",this.onBufferDestroy,this),q}resetState(){this._boundBufferBases=Object.create(null)}}var fy=F(()=>{g();e4();Py();vy();$V.extension={type:[I.WebGLSystem],name:"buffer"}});var LM=class Z{constructor(J){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=J,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(J){this.gl=J,this._renderer.gl=J}init(J){J={...Z.defaultOptions,...J};let Q=this.multiView=J.multiView;if(J.context&&Q)e("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),Q=!1;if(Q)this.canvas=K0.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height);else this.canvas=this._renderer.view.canvas;if(J.context)this.initFromContext(J.context);else{let q=this._renderer.background.alpha<1,K=J.premultipliedAlpha??!0,X=J.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(J.preferWebGLVersion,{alpha:q,premultipliedAlpha:K,antialias:X,stencil:!0,preserveDrawingBuffer:J.preserveDrawingBuffer,powerPreference:J.powerPreference??"default"})}}ensureCanvasSize(J){if(!this.multiView){if(J!==this.canvas)e("multiView is disabled, but targetCanvas is not the main canvas");return}let{canvas:Q}=this;if(Q.width<J.width||Q.height<J.height)Q.width=Math.max(J.width,J.width),Q.height=Math.max(J.height,J.height)}initFromContext(J){this.gl=J,this.webGLVersion=J instanceof K0.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(J),this._renderer.runners.contextChange.emit(J);let Q=this._renderer.view.canvas;Q.addEventListener("webglcontextlost",this.handleContextLost,!1),Q.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(J,Q){let q,K=this.canvas;if(J===2)q=K.getContext("webgl2",Q);if(!q){if(q=K.getContext("webgl",Q),!q)throw Error("This browser does not support WebGL. Try using the canvas renderer")}this.gl=q,this.initFromContext(this.gl)}getExtensions(){let{gl:J}=this,Q={anisotropicFiltering:J.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),s3tc:J.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:J.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:J.getExtension("WEBGL_compressed_texture_etc"),etc1:J.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:J.getExtension("WEBGL_compressed_texture_pvrtc")||J.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:J.getExtension("WEBGL_compressed_texture_atc"),astc:J.getExtension("WEBGL_compressed_texture_astc"),bptc:J.getExtension("EXT_texture_compression_bptc"),rgtc:J.getExtension("EXT_texture_compression_rgtc"),loseContext:J.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...Q,drawBuffers:J.getExtension("WEBGL_draw_buffers"),depthTexture:J.getExtension("WEBGL_depth_texture"),vertexArrayObject:J.getExtension("OES_vertex_array_object")||J.getExtension("MOZ_OES_vertex_array_object")||J.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:J.getExtension("OES_element_index_uint"),floatTexture:J.getExtension("OES_texture_float"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),textureHalfFloat:J.getExtension("OES_texture_half_float"),textureHalfFloatLinear:J.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:J.getExtension("ANGLE_instanced_arrays"),srgb:J.getExtension("EXT_sRGB")};else{this.extensions={...Q,colorBufferFloat:J.getExtension("EXT_color_buffer_float")};let q=J.getExtension("WEBGL_provoking_vertex");if(q)q.provokingVertexWEBGL(q.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(J){if(J.preventDefault(),this._contextLossForced)this._contextLossForced=!1,setTimeout(()=>{if(this.gl.isContextLost())this.extensions.loseContext?.restoreContext()},0)}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){let J=this._renderer.view.canvas;this._renderer=null,J.removeEventListener("webglcontextlost",this.handleContextLost),J.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext?.loseContext()}forceContextLoss(){this.extensions.loseContext?.loseContext(),this._contextLossForced=!0}validateContext(J){let Q=J.getContextAttributes();if(Q&&!Q.stencil)e("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let q=this.supports,K=this.webGLVersion===2,X=this.extensions;if(q.uint32Indices=K||!!X.uint32ElementIndex,q.uniformBufferObject=K,q.vertexArrayObject=K||!!X.vertexArrayObject,q.srgbTextures=K||!!X.srgb,q.nonPowOf2wrapping=K,q.nonPowOf2mipmaps=K,q.msaa=K,!q.uint32Indices)e("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}},yy;var hy=F(()=>{l0();g();c0();LM.extension={type:[I.WebGLSystem],name:"context"};LM.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};yy=LM});var DV,CM,f0;var RM=F(()=>{DV=((Z)=>{return Z[Z.RGBA=6408]="RGBA",Z[Z.RGB=6407]="RGB",Z[Z.RG=33319]="RG",Z[Z.RED=6403]="RED",Z[Z.RGBA_INTEGER=36249]="RGBA_INTEGER",Z[Z.RGB_INTEGER=36248]="RGB_INTEGER",Z[Z.RG_INTEGER=33320]="RG_INTEGER",Z[Z.RED_INTEGER=36244]="RED_INTEGER",Z[Z.ALPHA=6406]="ALPHA",Z[Z.LUMINANCE=6409]="LUMINANCE",Z[Z.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Z[Z.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Z[Z.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Z})(DV||{}),CM=((Z)=>{return Z[Z.TEXTURE_2D=3553]="TEXTURE_2D",Z[Z.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Z[Z.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Z})(CM||{}),f0=((Z)=>{return Z[Z.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Z[Z.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Z[Z.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Z[Z.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Z[Z.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Z[Z.UNSIGNED_INT=5125]="UNSIGNED_INT",Z[Z.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",Z[Z.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",Z[Z.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",Z[Z.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",Z[Z.BYTE=5120]="BYTE",Z[Z.SHORT=5122]="SHORT",Z[Z.INT=5124]="INT",Z[Z.FLOAT=5126]="FLOAT",Z[Z.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",Z[Z.HALF_FLOAT=36193]="HALF_FLOAT",Z})(f0||{})});function gy(Z){return xy[Z]??xy.float32}var xy;var my=F(()=>{RM();xy={uint8x2:f0.UNSIGNED_BYTE,uint8x4:f0.UNSIGNED_BYTE,sint8x2:f0.BYTE,sint8x4:f0.BYTE,unorm8x2:f0.UNSIGNED_BYTE,unorm8x4:f0.UNSIGNED_BYTE,snorm8x2:f0.BYTE,snorm8x4:f0.BYTE,uint16x2:f0.UNSIGNED_SHORT,uint16x4:f0.UNSIGNED_SHORT,sint16x2:f0.SHORT,sint16x4:f0.SHORT,unorm16x2:f0.UNSIGNED_SHORT,unorm16x4:f0.UNSIGNED_SHORT,snorm16x2:f0.SHORT,snorm16x4:f0.SHORT,float16x2:f0.HALF_FLOAT,float16x4:f0.HALF_FLOAT,float32:f0.FLOAT,float32x2:f0.FLOAT,float32x3:f0.FLOAT,float32x4:f0.FLOAT,uint32:f0.UNSIGNED_INT,uint32x2:f0.UNSIGNED_INT,uint32x3:f0.UNSIGNED_INT,uint32x4:f0.UNSIGNED_INT,sint32:f0.INT,sint32x2:f0.INT,sint32x3:f0.INT,sint32x4:f0.INT}});class BV{constructor(Z){this._geometryVaoHash=Object.create(null),this._renderer=Z,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){let Z=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw Error("[PixiJS] Vertex Array Objects are not supported on this device");let J=this._renderer.context.extensions.vertexArrayObject;if(J)Z.createVertexArray=()=>J.createVertexArrayOES(),Z.bindVertexArray=(q)=>J.bindVertexArrayOES(q),Z.deleteVertexArray=(q)=>J.deleteVertexArrayOES(q);let Q=this._renderer.context.extensions.vertexAttribDivisorANGLE;if(Q)Z.drawArraysInstanced=(q,K,X,N)=>{Q.drawArraysInstancedANGLE(q,K,X,N)},Z.drawElementsInstanced=(q,K,X,N,Y)=>{Q.drawElementsInstancedANGLE(q,K,X,N,Y)},Z.vertexAttribDivisor=(q,K)=>Q.vertexAttribDivisorANGLE(q,K);this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(Z,J){let Q=this.gl;this._activeGeometry=Z;let q=this.getVao(Z,J);if(this._activeVao!==q)this._activeVao=q,Q.bindVertexArray(q);this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){let Z=this._activeGeometry,J=this._renderer.buffer;for(let Q=0;Q<Z.buffers.length;Q++){let q=Z.buffers[Q];J.updateBuffer(q)}}checkCompatibility(Z,J){let Q=Z.attributes,q=J._attributeData;for(let K in q)if(!Q[K])throw Error(`shader and geometry incompatible, geometry missing the "${K}" attribute`)}getSignature(Z,J){let Q=Z.attributes,q=J._attributeData,K=["g",Z.uid];for(let X in Q)if(q[X])K.push(X,q[X].location);return K.join("-")}getVao(Z,J){return this._geometryVaoHash[Z.uid]?.[J._key]||this.initGeometryVao(Z,J)}initGeometryVao(Z,J,Q=!0){let q=this._renderer.gl,K=this._renderer.buffer;this._renderer.shader._getProgramData(J),this.checkCompatibility(Z,J);let X=this.getSignature(Z,J);if(!this._geometryVaoHash[Z.uid])this._geometryVaoHash[Z.uid]=Object.create(null),Z.on("destroy",this.onGeometryDestroy,this);let N=this._geometryVaoHash[Z.uid],Y=N[X];if(Y)return N[J._key]=Y,Y;KV(Z,J._attributeData);let O=Z.buffers;Y=q.createVertexArray(),q.bindVertexArray(Y);for(let U=0;U<O.length;U++){let $=O[U];K.bind($)}return this.activateVao(Z,J),N[J._key]=Y,N[X]=Y,q.bindVertexArray(null),Y}onGeometryDestroy(Z,J){let Q=this._geometryVaoHash[Z.uid],q=this.gl;if(Q){if(J)for(let K in Q){if(this._activeVao!==Q[K])this.unbind();q.deleteVertexArray(Q[K])}this._geometryVaoHash[Z.uid]=null}}destroyAll(Z=!1){let J=this.gl;for(let Q in this._geometryVaoHash){if(Z)for(let q in this._geometryVaoHash[Q]){let K=this._geometryVaoHash[Q];if(this._activeVao!==K)this.unbind();J.deleteVertexArray(K[q])}this._geometryVaoHash[Q]=null}}activateVao(Z,J){let Q=this._renderer.gl,q=this._renderer.buffer,K=Z.attributes;if(Z.indexBuffer)q.bind(Z.indexBuffer);let X=null;for(let N in K){let Y=K[N],O=Y.buffer,U=q.getGlBuffer(O),$=J._attributeData[N];if($){if(X!==U)q.bind(O),X=U;let B=$.location;Q.enableVertexAttribArray(B);let _=q8(Y.format),W=gy(Y.format);if($.format?.substring(1,4)==="int")Q.vertexAttribIPointer(B,_.size,W,Y.stride,Y.offset);else Q.vertexAttribPointer(B,_.size,W,_.normalised,Y.stride,Y.offset);if(Y.instance)if(this.hasInstance){let w=Y.divisor??1;Q.vertexAttribDivisor(B,w)}else throw Error("geometry error, GPU Instancing is not supported on this device")}}}draw(Z,J,Q,q){let{gl:K}=this._renderer,X=this._activeGeometry,N=sa[Z||X.topology];if(q??(q=X.instanceCount),X.indexBuffer){let Y=X.indexBuffer.data.BYTES_PER_ELEMENT,O=Y===2?K.UNSIGNED_SHORT:K.UNSIGNED_INT;if(q!==1)K.drawElementsInstanced(N,J||X.indexBuffer.data.length,O,(Q||0)*Y,q);else K.drawElements(N,J||X.indexBuffer.data.length,O,(Q||0)*Y)}else if(q!==1)K.drawArraysInstanced(N,Q||0,J||X.getSize(),q);else K.drawArrays(N,Q||0,J||X.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null,this._geometryVaoHash=null}}var sa;var dy=F(()=>{g();bZ();DM();my();sa={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};BV.extension={type:[I.WebGLSystem],name:"geometry"}});var na,EM=class Z{constructor(J){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=J}init(J={}){let{useBackBuffer:Q,antialias:q}={...Z.defaultOptions,...J};if(this.useBackBuffer=Q,this._antialias=q,!this._renderer.context.supports.msaa)e("antialiasing, is not supported on when using the back buffer"),this._antialias=!1;this._state=f1.for2d();let K=new z5({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new T1({glProgram:K,resources:{uTexture:p.WHITE.source}})}renderStart(J){let Q=this._renderer.renderTarget.getRenderTarget(J.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!Q.isRoot,this._useBackBufferThisRender){let q=this._renderer.renderTarget.getRenderTarget(J.target);this._targetTexture=q.colorTexture,J.target=this._getBackBufferTexture(q.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){let J=this._renderer;if(J.renderTarget.finishRenderPass(),!this._useBackBufferThisRender)return;J.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,J.encoder.draw({geometry:na,shader:this._bigTriangleShader,state:this._state})}_getBackBufferTexture(J){return this._backBufferTexture=this._backBufferTexture||new p({source:new y0({width:J.width,height:J.height,resolution:J._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(J.width,J.height,J._resolution),this._backBufferTexture}destroy(){if(this._backBufferTexture)this._backBufferTexture.destroy(),this._backBufferTexture=null}},cy;var uy=F(()=>{g();c0();P2();S6();b6();y5();u0();Q4();na=new T6({attributes:{aPosition:[-1,-1,3,-1,-1,3]}});EM.extension={type:[I.WebGLSystem],name:"backBuffer",priority:1};EM.defaultOptions={useBackBuffer:!1};cy=EM});class _V{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.gl.colorMask(!!(Z&8),!!(Z&4),!!(Z&2),!!(Z&1))}}var ly=F(()=>{g();_V.extension={type:[I.WebGLSystem],name:"colorMask"}});class MV{constructor(Z){this.commandFinished=Promise.resolve(),this._renderer=Z}setGeometry(Z,J){this._renderer.geometry.bind(Z,J.glProgram)}finishRenderPass(){}draw(Z){let J=this._renderer,{geometry:Q,shader:q,state:K,skipSync:X,topology:N,size:Y,start:O,instanceCount:U}=Z;if(J.shader.bind(q,X),J.geometry.bind(Q,J.shader._activeProgram),K)J.state.set(K);J.geometry.draw(N,Y,O,U??Q.instanceCount)}destroy(){this._renderer=null}}var py=F(()=>{g();MV.extension={type:[I.WebGLSystem],name:"encoder"}});class WV{constructor(Z){this._renderer=Z}contextChange(){let Z=this._renderer.gl;this.maxTextures=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=PH(this.maxTextures,Z);let J=this._renderer.context.webGLVersion===2;this.maxUniformBindings=J?Z.getParameter(Z.MAX_UNIFORM_BUFFER_BINDINGS):0}destroy(){}}var iy=F(()=>{g();VB();WV.extension={type:[I.WebGLSystem],name:"limits"}});class GV{constructor(Z){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:Y1.NONE},this._renderTargetStencilState=Object.create(null),Z.renderTarget.onRenderTargetChange.add(this)}contextChange(Z){this._gl=Z,this._comparisonFuncMapping={always:Z.ALWAYS,never:Z.NEVER,equal:Z.EQUAL,"not-equal":Z.NOTEQUAL,less:Z.LESS,"less-equal":Z.LEQUAL,greater:Z.GREATER,"greater-equal":Z.GEQUAL},this._stencilOpsMapping={keep:Z.KEEP,zero:Z.ZERO,replace:Z.REPLACE,invert:Z.INVERT,"increment-clamp":Z.INCR,"decrement-clamp":Z.DECR,"increment-wrap":Z.INCR_WRAP,"decrement-wrap":Z.DECR_WRAP},this.resetState()}onRenderTargetChange(Z){if(this._activeRenderTarget===Z)return;this._activeRenderTarget=Z;let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:Y1.DISABLED,stencilReference:0};this.setStencilMode(J.stencilMode,J.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=Y1.NONE,this._stencilCache.stencilReference=0}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid],q=this._gl,K=H4[Z],X=this._stencilCache;if(Q.stencilMode=Z,Q.stencilReference=J,Z===Y1.DISABLED){if(this._stencilCache.enabled)this._stencilCache.enabled=!1,q.disable(q.STENCIL_TEST);return}if(!this._stencilCache.enabled)this._stencilCache.enabled=!0,q.enable(q.STENCIL_TEST);if(Z!==X.stencilMode||X.stencilReference!==J)X.stencilMode=Z,X.stencilReference=J,q.stencilFunc(this._comparisonFuncMapping[K.stencilBack.compare],J,255),q.stencilOp(q.KEEP,q.KEEP,this._stencilOpsMapping[K.stencilBack.passOp])}}var ay=F(()=>{g();BM();SZ();GV.extension={type:[I.WebGLSystem],name:"stencil"}});function sy(Z){let J=Z.map((X)=>({data:X,offset:0,size:0})),Q=16,q=0,K=0;for(let X=0;X<J.length;X++){let N=J[X];if(q=IM[N.data.type],!q)throw Error(`Unknown type ${N.data.type}`);if(N.data.size>1)q=Math.max(q,16)*N.data.size;let Y=q===12?16:q;N.size=q;let O=K%16;if(O>0&&16-O<Y)K+=(16-O)%16;else K+=(q-O%q)%q;N.offset=K,K+=q}return K=Math.ceil(K/16)*16,{uboElements:J,size:K}}var IM;var TM=F(()=>{IM={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":32,"mat3x3<f32>":48,"mat4x4<f32>":64}});function ny(Z,J){let Q=Math.max(IM[Z.data.type]/16,1),q=Z.data.value.length/Z.data.size,K=(4-q%4)%4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${Z.data.name};
        offset += ${J};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${Z.data.size*Q}; i++)
        {
            for(var j = 0; j < ${q}; j++)
            {
                ${X}[arrayOffset++] = v[t++];
            }
            ${K!==0?`arrayOffset += ${K};`:""}
        }
    `}var oy=F(()=>{TM()});function ty(Z){return ZV(Z,"uboStd40",ny,UM)}var ry=F(()=>{OM();AM();oy()});var FV;var ey=F(()=>{g();HM();TM();ry();FV=class FV extends JX{constructor(){super({createUboElements:sy,generateUboSync:ty})}};FV.extension={type:[I.WebGLSystem],name:"ubo"}});class SM{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}var Zh=()=>{};class bM{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new A0}init(Z,J){this._renderer=Z,this._renderTargetSystem=J,Z.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new A0}copyToTexture(Z,J,Q,q,K){let X=this._renderTargetSystem,N=this._renderer,Y=X.getGpuRenderTarget(Z),O=N.gl;return this.finishRenderPass(Z),O.bindFramebuffer(O.FRAMEBUFFER,Y.resolveTargetFramebuffer),N.texture.bind(J,0),O.copyTexSubImage2D(O.TEXTURE_2D,0,K.x,K.y,Q.x,Q.y,q.width,q.height),J}startRenderPass(Z,J=!0,Q,q){let K=this._renderTargetSystem,X=Z.colorTexture,N=K.getGpuRenderTarget(Z),Y=q.y;if(Z.isRoot)Y=X.pixelHeight-q.height;Z.colorTextures.forEach(($)=>{this._renderer.texture.unbind($)});let O=this._renderer.gl;O.bindFramebuffer(O.FRAMEBUFFER,N.framebuffer);let U=this._viewPortCache;if(U.x!==q.x||U.y!==Y||U.width!==q.width||U.height!==q.height)U.x=q.x,U.y=Y,U.width=q.width,U.height=q.height,O.viewport(q.x,Y,q.width,q.height);if(!N.depthStencilRenderBuffer&&(Z.stencil||Z.depth))this._initStencil(N);this.clear(Z,J,Q)}finishRenderPass(Z){let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(!Q.msaa)return;let q=this._renderer.gl;q.bindFramebuffer(q.FRAMEBUFFER,Q.resolveTargetFramebuffer),q.bindFramebuffer(q.READ_FRAMEBUFFER,Q.framebuffer),q.blitFramebuffer(0,0,Q.width,Q.height,0,0,Q.width,Q.height,q.COLOR_BUFFER_BIT,q.NEAREST),q.bindFramebuffer(q.FRAMEBUFFER,Q.framebuffer)}initGpuRenderTarget(Z){let Q=this._renderer.gl,q=new SM;if(Z.colorTexture instanceof g5)return this._renderer.context.ensureCanvasSize(Z.colorTexture.resource),q.framebuffer=null,q;return this._initColor(Z,q),Q.bindFramebuffer(Q.FRAMEBUFFER,null),q}destroyGpuRenderTarget(Z){let J=this._renderer.gl;if(Z.framebuffer)J.deleteFramebuffer(Z.framebuffer),Z.framebuffer=null;if(Z.resolveTargetFramebuffer)J.deleteFramebuffer(Z.resolveTargetFramebuffer),Z.resolveTargetFramebuffer=null;if(Z.depthStencilRenderBuffer)J.deleteRenderbuffer(Z.depthStencilRenderBuffer),Z.depthStencilRenderBuffer=null;Z.msaaRenderBuffer.forEach((Q)=>{J.deleteRenderbuffer(Q)}),Z.msaaRenderBuffer=null}clear(Z,J,Q){if(!J)return;let q=this._renderTargetSystem;if(typeof J==="boolean")J=J?H5.ALL:H5.NONE;let K=this._renderer.gl;if(J&H5.COLOR){Q??(Q=q.defaultClearColor);let X=this._clearColorCache,N=Q;if(X[0]!==N[0]||X[1]!==N[1]||X[2]!==N[2]||X[3]!==N[3])X[0]=N[0],X[1]=N[1],X[2]=N[2],X[3]=N[3],K.clearColor(N[0],N[1],N[2],N[3])}K.clear(J)}resizeGpuRenderTarget(Z){if(Z.isRoot)return;let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(this._resizeColor(Z,Q),Z.stencil||Z.depth)this._resizeStencil(Q)}_initColor(Z,J){let Q=this._renderer,q=Q.gl,K=q.createFramebuffer();if(J.resolveTargetFramebuffer=K,q.bindFramebuffer(q.FRAMEBUFFER,K),J.width=Z.colorTexture.source.pixelWidth,J.height=Z.colorTexture.source.pixelHeight,Z.colorTextures.forEach((X,N)=>{let Y=X.source;if(Y.antialias)if(Q.context.supports.msaa)J.msaa=!0;else e("[RenderTexture] Antialiasing on textures is not supported in WebGL1");Q.texture.bindSource(Y,0);let U=Q.texture.getGlSource(Y).texture;q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+N,3553,U,0)}),J.msaa){let X=q.createFramebuffer();J.framebuffer=X,q.bindFramebuffer(q.FRAMEBUFFER,X),Z.colorTextures.forEach((N,Y)=>{let O=q.createRenderbuffer();J.msaaRenderBuffer[Y]=O})}else J.framebuffer=K;this._resizeColor(Z,J)}_resizeColor(Z,J){let Q=Z.colorTexture.source;if(J.width=Q.pixelWidth,J.height=Q.pixelHeight,Z.colorTextures.forEach((q,K)=>{if(K===0)return;q.source.resize(Q.width,Q.height,Q._resolution)}),J.msaa){let q=this._renderer,K=q.gl,X=J.framebuffer;K.bindFramebuffer(K.FRAMEBUFFER,X),Z.colorTextures.forEach((N,Y)=>{let O=N.source;q.texture.bindSource(O,0);let $=q.texture.getGlSource(O).internalFormat,B=J.msaaRenderBuffer[Y];K.bindRenderbuffer(K.RENDERBUFFER,B),K.renderbufferStorageMultisample(K.RENDERBUFFER,4,$,O.pixelWidth,O.pixelHeight),K.framebufferRenderbuffer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+Y,K.RENDERBUFFER,B)})}}_initStencil(Z){if(Z.framebuffer===null)return;let J=this._renderer.gl,Q=J.createRenderbuffer();Z.depthStencilRenderBuffer=Q,J.bindRenderbuffer(J.RENDERBUFFER,Q),J.framebufferRenderbuffer(J.FRAMEBUFFER,J.DEPTH_STENCIL_ATTACHMENT,J.RENDERBUFFER,Q),this._resizeStencil(Z)}_resizeStencil(Z){let J=this._renderer.gl;if(J.bindRenderbuffer(J.RENDERBUFFER,Z.depthStencilRenderBuffer),Z.msaa)J.renderbufferStorageMultisample(J.RENDERBUFFER,4,J.DEPTH24_STENCIL8,Z.width,Z.height);else J.renderbufferStorage(J.RENDERBUFFER,this._renderer.context.webGLVersion===2?J.DEPTH24_STENCIL8:J.DEPTH_STENCIL,Z.width,Z.height)}prerender(Z){let J=Z.colorTexture.resource;if(this._renderer.context.multiView&&g5.test(J))this._renderer.context.ensureCanvasSize(J)}postrender(Z){if(!this._renderer.context.multiView)return;if(g5.test(Z.colorTexture.resource)){let J=this._renderer.context.canvas,Q=Z.colorTexture;Q.context2D.drawImage(J,0,Q.pixelHeight-J.height)}}}var Jh=F(()=>{n1();c0();T2();ZQ();Zh()});var jV;var Qh=F(()=>{g();_M();Jh();jV=class jV extends qX{constructor(Z){super(Z);this.adaptor=new bM,this.adaptor.init(Z,this)}};jV.extension={type:[I.WebGLSystem],name:"renderTarget"}});function qh(Z,J){let Q=[],q=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `],K=!1,X=0,N=J._getProgramData(Z.glProgram);for(let O in Z.groups){let U=Z.groups[O];Q.push(`
            resources = g[${O}].resources;
        `);for(let $ in U.resources){let B=U.resources[$];if(B instanceof p0)if(B.ubo){let _=Z._uniformBindMap[O][Number($)];Q.push(`
                        sS.bindUniformBlock(
                            resources[${$}],
                            '${_}',
                            ${Z.glProgram._uniformBlockData[_].index}
                        );
                    `)}else Q.push(`
                        ugS.updateUniformGroup(resources[${$}], p, sD);
                    `);else if(B instanceof mZ){let _=Z._uniformBindMap[O][Number($)];Q.push(`
                    sS.bindUniformBlock(
                        resources[${$}],
                        '${_}',
                        ${Z.glProgram._uniformBlockData[_].index}
                    );
                `)}else if(B instanceof y0){let _=Z._uniformBindMap[O][$],W=N.uniformData[_];if(W){if(!K)K=!0,q.push(`
                        var tS = r.texture;
                        `);J._gl.uniform1i(W.location,X),Q.push(`
                        tS.bind(resources[${$}], ${X});
                    `),X++}}}}let Y=[...q,...Q].join(`
`);return Function("r","s","sD",Y)}var Kh=F(()=>{QV();I5();y5()});class kM{constructor(Z,J){this.program=Z,this.uniformData=J,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}var Xh=()=>{};function PM(Z,J,Q){let q=Z.createShader(J);return Z.shaderSource(q,Q),Z.compileShader(q),q}var zh=()=>{};function vM(Z){let J=Array(Z);for(let Q=0;Q<J.length;Q++)J[Q]=!1;return J}function wV(Z,J){switch(Z){case"float":return 0;case"vec2":return new Float32Array(2*J);case"vec3":return new Float32Array(3*J);case"vec4":return new Float32Array(4*J);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*J);case"ivec3":return new Int32Array(3*J);case"ivec4":return new Int32Array(4*J);case"uvec2":return new Uint32Array(2*J);case"uvec3":return new Uint32Array(3*J);case"uvec4":return new Uint32Array(4*J);case"bool":return!1;case"bvec2":return vM(2*J);case"bvec3":return vM(3*J);case"bvec4":return vM(4*J);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var fM=()=>{};function yM(Z,J){if(!LV){let Q=Object.keys(Nh);LV={};for(let q=0;q<Q.length;++q){let K=Q[q];LV[Z[K]]=Nh[K]}}return LV[J]}function Hh(Z,J){let Q=yM(Z,J);return oa[Q]||"float32"}var LV=null,Nh,oa;var hM=F(()=>{Nh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},oa={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"}});function Yh(Z,J,Q=!1){let q={},K=J.getProgramParameter(Z,J.ACTIVE_ATTRIBUTES);for(let N=0;N<K;N++){let Y=J.getActiveAttrib(Z,N);if(Y.name.startsWith("gl_"))continue;let O=Hh(J,Y.type);q[Y.name]={location:0,format:O,stride:q8(O).stride,offset:0,instance:!1,start:0}}let X=Object.keys(q);if(Q){X.sort((N,Y)=>N>Y?1:-1);for(let N=0;N<X.length;N++)q[X[N]].location=N,J.bindAttribLocation(Z,N,X[N]);J.linkProgram(Z)}else for(let N=0;N<X.length;N++)q[X[N]].location=J.getAttribLocation(Z,X[N]);return q}var Vh=F(()=>{bZ();hM()});function Oh(Z,J){if(!J.ACTIVE_UNIFORM_BLOCKS)return{};let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORM_BLOCKS);for(let K=0;K<q;K++){let X=J.getActiveUniformBlockName(Z,K),N=J.getUniformBlockIndex(Z,X),Y=J.getActiveUniformBlockParameter(Z,K,J.UNIFORM_BLOCK_DATA_SIZE);Q[X]={name:X,index:N,size:Y}}return Q}var Uh=()=>{};function Ah(Z,J){let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORMS);for(let K=0;K<q;K++){let X=J.getActiveUniform(Z,K),N=X.name.replace(/\[.*?\]$/,""),Y=!!X.name.match(/\[.*?\]$/),O=yM(J,X.type);Q[N]={name:N,index:K,type:O,size:X.size,isArray:Y,value:wV(O,X.size)}}return Q}var $h=F(()=>{fM();hM()});function Dh(Z,J){let Q=Z.getShaderSource(J).split(`
`).map((U,$)=>`${$}: ${U}`),q=Z.getShaderInfoLog(J),K=q.split(`
`),X={},N=K.map((U)=>parseFloat(U.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter((U)=>{if(U&&!X[U])return X[U]=!0,!0;return!1}),Y=[""];N.forEach((U)=>{Q[U-1]=`%c${Q[U-1]}%c`,Y.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let O=Q.join(`
`);Y[0]=O,console.error(q),console.groupCollapsed("click to view full shader code"),console.warn(...Y),console.groupEnd()}function Bh(Z,J,Q,q){if(!Z.getProgramParameter(J,Z.LINK_STATUS)){if(!Z.getShaderParameter(Q,Z.COMPILE_STATUS))Dh(Z,Q);if(!Z.getShaderParameter(q,Z.COMPILE_STATUS))Dh(Z,q);if(console.error("PixiJS Error: Could not initialize shader."),Z.getProgramInfoLog(J)!=="")console.warn("PixiJS Warning: gl.getProgramInfoLog()",Z.getProgramInfoLog(J))}}var _h=()=>{};function Mh(Z,J){let Q=PM(Z,Z.VERTEX_SHADER,J.vertex),q=PM(Z,Z.FRAGMENT_SHADER,J.fragment),K=Z.createProgram();Z.attachShader(K,Q),Z.attachShader(K,q);let X=J.transformFeedbackVaryings;if(X)if(typeof Z.transformFeedbackVaryings!=="function")e("TransformFeedback is not supported but TransformFeedbackVaryings are given.");else Z.transformFeedbackVaryings(K,X.names,X.bufferMode==="separate"?Z.SEPARATE_ATTRIBS:Z.INTERLEAVED_ATTRIBS);if(Z.linkProgram(K),!Z.getProgramParameter(K,Z.LINK_STATUS))Bh(Z,K,Q,q);J._attributeData=Yh(K,Z,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(J.vertex)),J._uniformData=Ah(K,Z),J._uniformBlockData=Oh(K,Z),Z.deleteShader(Q),Z.deleteShader(q);let N={};for(let O in J._uniformData){let U=J._uniformData[O];N[O]={location:Z.getUniformLocation(K,O),value:wV(U.type,U.size)}}return new kM(K,N)}var Wh=F(()=>{c0();Xh();zh();fM();Vh();Uh();$h();_h()});class RV{constructor(Z){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(Z){this._gl=Z,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(Z,J){if(this._setProgram(Z.glProgram),J)return;CV.textureCount=0,CV.blockIndex=0;let Q=this._shaderSyncFunctions[Z.glProgram._key];if(!Q)Q=this._shaderSyncFunctions[Z.glProgram._key]=this._generateShaderSync(Z,this);this._renderer.buffer.nextBindBase(!!Z.glProgram.transformFeedbackVaryings),Q(this._renderer,Z,CV)}updateUniformGroup(Z){this._renderer.uniformGroup.updateUniformGroup(Z,this._activeProgram,CV)}bindUniformBlock(Z,J,Q=0){let q=this._renderer.buffer,K=this._getProgramData(this._activeProgram),X=Z._bufferResource;if(!X)this._renderer.ubo.updateUniformGroup(Z);let N=Z.buffer,Y=q.updateBuffer(N),O=q.freeLocationForBufferBase(Y);if(X){let{offset:$,size:B}=Z;if($===0&&B===N.data.byteLength)q.bindBufferBase(Y,O);else q.bindBufferRange(Y,O,$)}else if(q.getLastBindBaseLocation(Y)!==O)q.bindBufferBase(Y,O);let U=this._activeProgram._uniformBlockData[J].index;if(K.uniformBlockBindings[Q]===O)return;K.uniformBlockBindings[Q]=O,this._renderer.gl.uniformBlockBinding(K.program,U,O)}_setProgram(Z){if(this._activeProgram===Z)return;this._activeProgram=Z;let J=this._getProgramData(Z);this._gl.useProgram(J.program)}_getProgramData(Z){return this._programDataHash[Z._key]||this._createProgramData(Z)}_createProgramData(Z){let J=Z._key;return this._programDataHash[J]=Mh(this._gl,Z),this._programDataHash[J]}destroy(){for(let Z of Object.keys(this._programDataHash))this._programDataHash[Z].destroy(),this._programDataHash[Z]=null;this._programDataHash=null,this._shaderSyncFunctions=null,this._activeProgram=null,this._renderer=null,this._gl=null}_generateShaderSync(Z,J){return qh(Z,J)}resetState(){this._activeProgram=null}}var CV;var Gh=F(()=>{g();Kh();Wh();CV={textureCount:0,blockIndex:0};RV.extension={type:[I.WebGLSystem],name:"shader"}});var Fh,jh;var wh=F(()=>{Fh={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},jh={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"}});function Lh(Z,J){let Q=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(let q in Z.uniforms){if(!J[q]){if(Z.uniforms[q]instanceof p0)if(Z.uniforms[q].ubo)Q.push(`
                        renderer.shader.bindUniformBlock(uv.${q}, "${q}");
                    `);else Q.push(`
                        renderer.shader.updateUniformGroup(uv.${q});
                    `);else if(Z.uniforms[q]instanceof mZ)Q.push(`
                        renderer.shader.bindBufferResource(uv.${q}, "${q}");
                    `);continue}let K=Z.uniformStructures[q],X=!1;for(let N=0;N<X7.length;N++){let Y=X7[N];if(K.type===Y.type&&Y.test(K)){Q.push(`name = "${q}";`,X7[N].uniform),X=!0;break}}if(!X){let Y=(K.size===1?Fh:jh)[K.type].replace("location",`ud["${q}"].location`);Q.push(`
            cu = ud["${q}"];
            cv = cu.value;
            v = uv["${q}"];
            ${Y};`)}}return Function("ud","uv","renderer","syncData",Q.join(`
`))}var Ch=F(()=>{QV();I5();VM();wh()});class EV{constructor(Z){this._cache={},this._uniformGroupSyncHash={},this._renderer=Z,this.gl=null,this._cache={}}contextChange(Z){this.gl=Z}updateUniformGroup(Z,J,Q){let q=this._renderer.shader._getProgramData(J);if(!Z.isStatic||Z._dirtyId!==q.uniformDirtyGroups[Z.uid])q.uniformDirtyGroups[Z.uid]=Z._dirtyId,this._getUniformSyncFunction(Z,J)(q.uniformData,Z.uniforms,this._renderer,Q)}_getUniformSyncFunction(Z,J){return this._uniformGroupSyncHash[Z._signature]?.[J._key]||this._createUniformSyncFunction(Z,J)}_createUniformSyncFunction(Z,J){let Q=this._uniformGroupSyncHash[Z._signature]||(this._uniformGroupSyncHash[Z._signature]={}),q=this._getSignature(Z,J._uniformData,"u");if(!this._cache[q])this._cache[q]=this._generateUniformsSync(Z,J._uniformData);return Q[J._key]=this._cache[q],Q[J._key]}_generateUniformsSync(Z,J){return Lh(Z,J)}_getSignature(Z,J,Q){let q=Z.uniforms,K=[`${Q}-`];for(let X in q)if(K.push(X),J[X])K.push(J[X].type);return K.join("-")}destroy(){this._renderer=null,this._cache=null}}var Rh=F(()=>{g();Ch();EV.extension={type:[I.WebGLSystem],name:"uniformGroup"}});function Eh(Z){let J={};if(J.normal=[Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.add=[Z.ONE,Z.ONE],J.multiply=[Z.DST_COLOR,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.screen=[Z.ONE,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.none=[0,0],J["normal-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J["add-npm"]=[Z.SRC_ALPHA,Z.ONE,Z.ONE,Z.ONE],J["screen-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.erase=[Z.ZERO,Z.ONE_MINUS_SRC_ALPHA],!(Z instanceof K0.get().getWebGLRenderingContext()))J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MIN,Z.MIN],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MAX,Z.MAX];else{let q=Z.getExtension("EXT_blend_minmax");if(q)J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MIN_EXT,q.MIN_EXT],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MAX_EXT,q.MAX_EXT]}return J}var Ih=F(()=>{l0()});var ta=0,ra=1,ea=2,Zs=3,Js=4,Qs=5,Th=class Z{constructor(J){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[ta]=this.setBlend,this.map[ra]=this.setOffset,this.map[ea]=this.setCullFace,this.map[Zs]=this.setDepthTest,this.map[Js]=this.setFrontFace,this.map[Qs]=this.setDepthMask,this.checks=[],this.defaultState=f1.for2d(),J.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(J){if(this._invertFrontFace=!J.isRoot,this._cullFace)this.setFrontFace(this._frontFace);else this._frontFaceDirty=!0}contextChange(J){this.gl=J,this.blendModesMap=Eh(J),this.resetState()}set(J){if(J||(J=this.defaultState),this.stateId!==J.data){let Q=this.stateId^J.data,q=0;while(Q){if(Q&1)this.map[q].call(this,!!(J.data&1<<q));Q>>=1,q++}this.stateId=J.data}for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J)}forceState(J){J||(J=this.defaultState);for(let Q=0;Q<this.map.length;Q++)this.map[Q].call(this,!!(J.data&1<<Q));for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J);this.stateId=J.data}setBlend(J){this._updateCheck(Z._checkBlendMode,J),this.gl[J?"enable":"disable"](this.gl.BLEND)}setOffset(J){this._updateCheck(Z._checkPolygonOffset,J),this.gl[J?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(J){this.gl[J?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(J){this.gl.depthMask(J)}setCullFace(J){if(this._cullFace=J,this.gl[J?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty)this.setFrontFace(this._frontFace)}setFrontFace(J){this._frontFace=J,this._frontFaceDirty=!1;let Q=this._invertFrontFace?!J:J;if(this._glFrontFace!==Q)this._glFrontFace=Q,this.gl.frontFace(this.gl[Q?"CW":"CCW"])}setBlendMode(J){if(!this.blendModesMap[J])J="normal";if(J===this.blendMode)return;this.blendMode=J;let Q=this.blendModesMap[J],q=this.gl;if(Q.length===2)q.blendFunc(Q[0],Q[1]);else q.blendFuncSeparate(Q[0],Q[1],Q[2],Q[3]);if(Q.length===6)this._blendEq=!0,q.blendEquationSeparate(Q[4],Q[5]);else if(this._blendEq)this._blendEq=!1,q.blendEquationSeparate(q.FUNC_ADD,q.FUNC_ADD)}setPolygonOffset(J,Q){this.gl.polygonOffset(J,Q)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(J,Q){let q=this.checks.indexOf(J);if(Q&&q===-1)this.checks.push(J);else if(!Q&&q!==-1)this.checks.splice(q,1)}static _checkBlendMode(J,Q){J.setBlendMode(Q.blendMode)}static _checkPolygonOffset(J,Q){J.setPolygonOffset(1,Q.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}},Sh;var bh=F(()=>{g();b6();Ih();Th.extension={type:[I.WebGLSystem],name:"state"};Sh=Th});class xM{constructor(Z){this.target=CM.TEXTURE_2D,this.texture=Z,this.width=-1,this.height=-1,this.type=f0.UNSIGNED_BYTE,this.internalFormat=DV.RGBA,this.format=DV.RGBA,this.samplerType=0}}var kh=F(()=>{RM()});var Ph;var vh=F(()=>{Ph={id:"buffer",upload(Z,J,Q){if(J.width===Z.width||J.height===Z.height)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,Z.width,Z.height,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,Z.width,Z.height,0,J.format,J.type,Z.resource);J.width=Z.width,J.height=Z.height}}});var qs,fh;var yh=F(()=>{qs={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},fh={id:"compressed",upload(Z,J,Q){Q.pixelStorei(Q.UNPACK_ALIGNMENT,4);let{pixelWidth:q,pixelHeight:K}=Z,X=!!qs[Z.format];for(let N=0;N<Z.resource.length;N++){let Y=Z.resource[N];if(X)Q.compressedTexImage2D(Q.TEXTURE_2D,N,J.internalFormat,q,K,0,Y);else Q.texImage2D(Q.TEXTURE_2D,N,J.internalFormat,q,K,0,J.format,J.type,Y);q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var IV;var gM=F(()=>{IV={id:"image",upload(Z,J,Q,q){let{width:K,height:X}=J,N=Z.pixelWidth,Y=Z.pixelHeight,O=Z.resourceWidth,U=Z.resourceHeight;if(O<N||U<Y){if(K!==N||X!==Y)Q.texImage2D(J.target,0,J.internalFormat,N,Y,0,J.format,J.type,null);if(q===2)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,O,U,J.format,J.type,Z.resource);else Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource)}else if(K===N&&X===Y)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource);else if(q===2)Q.texImage2D(J.target,0,J.internalFormat,N,Y,0,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,J.format,J.type,Z.resource);J.width=N,J.height=Y}}});var hh;var xh=F(()=>{gM();hh={id:"video",upload(Z,J,Q,q){if(!Z.isValid){Q.texImage2D(J.target,0,J.internalFormat,1,1,0,J.format,J.type,null);return}IV.upload(Z,J,Q,q)}}});var mM,gh,TV,mh;var dh=F(()=>{mM={linear:9729,nearest:9728},gh={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},TV={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},mh={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519}});function dM(Z,J,Q,q,K,X,N,Y){let O=X;if(!Y||Z.addressModeU!=="repeat"||Z.addressModeV!=="repeat"||Z.addressModeW!=="repeat"){let U=TV[N?"clamp-to-edge":Z.addressModeU],$=TV[N?"clamp-to-edge":Z.addressModeV],B=TV[N?"clamp-to-edge":Z.addressModeW];if(J[K](O,J.TEXTURE_WRAP_S,U),J[K](O,J.TEXTURE_WRAP_T,$),J.TEXTURE_WRAP_R)J[K](O,J.TEXTURE_WRAP_R,B)}if(!Y||Z.magFilter!=="linear")J[K](O,J.TEXTURE_MAG_FILTER,mM[Z.magFilter]);if(Q){if(!Y||Z.mipmapFilter!=="linear"){let U=gh[Z.minFilter][Z.mipmapFilter];J[K](O,J.TEXTURE_MIN_FILTER,U)}}else J[K](O,J.TEXTURE_MIN_FILTER,mM[Z.minFilter]);if(q&&Z.maxAnisotropy>1){let U=Math.min(Z.maxAnisotropy,J.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT));J[K](O,q.TEXTURE_MAX_ANISOTROPY_EXT,U)}if(Z.compare)J[K](O,J.TEXTURE_COMPARE_FUNC,mh[Z.compare])}var ch=F(()=>{dh()});function uh(Z){return{r8unorm:Z.RED,r8snorm:Z.RED,r8uint:Z.RED,r8sint:Z.RED,r16uint:Z.RED,r16sint:Z.RED,r16float:Z.RED,rg8unorm:Z.RG,rg8snorm:Z.RG,rg8uint:Z.RG,rg8sint:Z.RG,r32uint:Z.RED,r32sint:Z.RED,r32float:Z.RED,rg16uint:Z.RG,rg16sint:Z.RG,rg16float:Z.RG,rgba8unorm:Z.RGBA,"rgba8unorm-srgb":Z.RGBA,rgba8snorm:Z.RGBA,rgba8uint:Z.RGBA,rgba8sint:Z.RGBA,bgra8unorm:Z.RGBA,"bgra8unorm-srgb":Z.RGBA,rgb9e5ufloat:Z.RGB,rgb10a2unorm:Z.RGBA,rg11b10ufloat:Z.RGB,rg32uint:Z.RG,rg32sint:Z.RG,rg32float:Z.RG,rgba16uint:Z.RGBA,rgba16sint:Z.RGBA,rgba16float:Z.RGBA,rgba32uint:Z.RGBA,rgba32sint:Z.RGBA,rgba32float:Z.RGBA,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT,depth24plus:Z.DEPTH_COMPONENT,"depth24plus-stencil8":Z.DEPTH_STENCIL,depth32float:Z.DEPTH_COMPONENT,"depth32float-stencil8":Z.DEPTH_STENCIL}}var lh=()=>{};function ph(Z,J){let Q={},q=Z.RGBA;if(!(Z instanceof K0.get().getWebGLRenderingContext()))Q={"rgba8unorm-srgb":Z.SRGB8_ALPHA8,"bgra8unorm-srgb":Z.SRGB8_ALPHA8},q=Z.RGBA8;else if(J.srgb)Q={"rgba8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT};return{r8unorm:Z.R8,r8snorm:Z.R8_SNORM,r8uint:Z.R8UI,r8sint:Z.R8I,r16uint:Z.R16UI,r16sint:Z.R16I,r16float:Z.R16F,rg8unorm:Z.RG8,rg8snorm:Z.RG8_SNORM,rg8uint:Z.RG8UI,rg8sint:Z.RG8I,r32uint:Z.R32UI,r32sint:Z.R32I,r32float:Z.R32F,rg16uint:Z.RG16UI,rg16sint:Z.RG16I,rg16float:Z.RG16F,rgba8unorm:Z.RGBA,...Q,rgba8snorm:Z.RGBA8_SNORM,rgba8uint:Z.RGBA8UI,rgba8sint:Z.RGBA8I,bgra8unorm:q,rgb9e5ufloat:Z.RGB9_E5,rgb10a2unorm:Z.RGB10_A2,rg11b10ufloat:Z.R11F_G11F_B10F,rg32uint:Z.RG32UI,rg32sint:Z.RG32I,rg32float:Z.RG32F,rgba16uint:Z.RGBA16UI,rgba16sint:Z.RGBA16I,rgba16float:Z.RGBA16F,rgba32uint:Z.RGBA32UI,rgba32sint:Z.RGBA32I,rgba32float:Z.RGBA32F,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT16,depth24plus:Z.DEPTH_COMPONENT24,"depth24plus-stencil8":Z.DEPTH24_STENCIL8,depth32float:Z.DEPTH_COMPONENT32F,"depth32float-stencil8":Z.DEPTH32F_STENCIL8,...J.s3tc?{"bc1-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...J.s3tc_sRGB?{"bc1-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...J.rgtc?{"bc4-r-unorm":J.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":J.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":J.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":J.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...J.bptc?{"bc6h-rgb-float":J.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":J.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":J.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":J.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...J.etc?{"etc2-rgb8unorm":J.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":J.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":J.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":J.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":J.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":J.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":J.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":J.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...J.astc?{"astc-4x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}var ih=F(()=>{l0()});function ah(Z){return{r8unorm:Z.UNSIGNED_BYTE,r8snorm:Z.BYTE,r8uint:Z.UNSIGNED_BYTE,r8sint:Z.BYTE,r16uint:Z.UNSIGNED_SHORT,r16sint:Z.SHORT,r16float:Z.HALF_FLOAT,rg8unorm:Z.UNSIGNED_BYTE,rg8snorm:Z.BYTE,rg8uint:Z.UNSIGNED_BYTE,rg8sint:Z.BYTE,r32uint:Z.UNSIGNED_INT,r32sint:Z.INT,r32float:Z.FLOAT,rg16uint:Z.UNSIGNED_SHORT,rg16sint:Z.SHORT,rg16float:Z.HALF_FLOAT,rgba8unorm:Z.UNSIGNED_BYTE,"rgba8unorm-srgb":Z.UNSIGNED_BYTE,rgba8snorm:Z.BYTE,rgba8uint:Z.UNSIGNED_BYTE,rgba8sint:Z.BYTE,bgra8unorm:Z.UNSIGNED_BYTE,"bgra8unorm-srgb":Z.UNSIGNED_BYTE,rgb9e5ufloat:Z.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:Z.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:Z.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:Z.UNSIGNED_INT,rg32sint:Z.INT,rg32float:Z.FLOAT,rgba16uint:Z.UNSIGNED_SHORT,rgba16sint:Z.SHORT,rgba16float:Z.HALF_FLOAT,rgba32uint:Z.UNSIGNED_INT,rgba32sint:Z.INT,rgba32float:Z.FLOAT,stencil8:Z.UNSIGNED_BYTE,depth16unorm:Z.UNSIGNED_SHORT,depth24plus:Z.UNSIGNED_INT,"depth24plus-stencil8":Z.UNSIGNED_INT_24_8,depth32float:Z.FLOAT,"depth32float-stencil8":Z.FLOAT_32_UNSIGNED_INT_24_8_REV}}var sh=()=>{};class SV{constructor(Z){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:IV,buffer:Ph,video:hh,compressed:fh},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(Z){if(this._gl=Z,!this._mapFormatToInternalFormat)this._mapFormatToInternalFormat=ph(Z,this._renderer.context.extensions),this._mapFormatToType=ah(Z),this._mapFormatToFormat=uh(Z);this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let J=0;J<16;J++)this.bind(p.EMPTY,J)}initSource(Z){this.bind(Z)}bind(Z,J=0){let Q=Z.source;if(Z){if(this.bindSource(Q,J),this._useSeparateSamplers)this._bindSampler(Q.style,J)}else if(this.bindSource(null,J),this._useSeparateSamplers)this._bindSampler(null,J)}bindSource(Z,J=0){let Q=this._gl;if(Z._touched=this._renderer.textureGC.count,this._boundTextures[J]!==Z){this._boundTextures[J]=Z,this._activateLocation(J),Z||(Z=p.EMPTY.source);let q=this.getGlSource(Z);Q.bindTexture(q.target,q.texture)}}_bindSampler(Z,J=0){let Q=this._gl;if(!Z){this._boundSamplers[J]=null,Q.bindSampler(J,null);return}let q=this._getGlSampler(Z);if(this._boundSamplers[J]!==q)this._boundSamplers[J]=q,Q.bindSampler(J,q)}unbind(Z){let J=Z.source,Q=this._boundTextures,q=this._gl;for(let K=0;K<Q.length;K++)if(Q[K]===J){this._activateLocation(K);let X=this.getGlSource(J);q.bindTexture(X.target,null),Q[K]=null}}_activateLocation(Z){if(this._activeTextureLocation!==Z)this._activeTextureLocation=Z,this._gl.activeTexture(this._gl.TEXTURE0+Z)}_initSource(Z){let J=this._gl,Q=new xM(J.createTexture());if(Q.type=this._mapFormatToType[Z.format],Q.internalFormat=this._mapFormatToInternalFormat[Z.format],Q.format=this._mapFormatToFormat[Z.format],Z.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||Z.isPowerOfTwo)){let q=Math.max(Z.width,Z.height);Z.mipLevelCount=Math.floor(Math.log2(q))+1}if(this._glTextures[Z.uid]=Q,!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceUpdate,this),Z.on("styleChange",this.onStyleChange,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),this.updateStyle(Z,!1),Q}onStyleChange(Z){this.updateStyle(Z,!1)}updateStyle(Z,J){let Q=this._gl,q=this.getGlSource(Z);Q.bindTexture(Q.TEXTURE_2D,q.texture),this._boundTextures[this._activeTextureLocation]=Z,dM(Z.style,Q,Z.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",Q.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!Z.isPowerOfTwo,J)}onSourceUnload(Z){let J=this._glTextures[Z.uid];if(!J)return;this.unbind(Z),this._glTextures[Z.uid]=null,this._gl.deleteTexture(J.texture)}onSourceUpdate(Z){let J=this._gl,Q=this.getGlSource(Z);J.bindTexture(J.TEXTURE_2D,Q.texture),this._boundTextures[this._activeTextureLocation]=Z;let q=Z.alphaMode==="premultiply-alpha-on-upload";if(this._premultiplyAlpha!==q)this._premultiplyAlpha=q,J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q);if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,Q,J,this._renderer.context.webGLVersion);else J.texImage2D(J.TEXTURE_2D,0,J.RGBA,Z.pixelWidth,Z.pixelHeight,0,J.RGBA,J.UNSIGNED_BYTE,null);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z,!1)}onUpdateMipmaps(Z,J=!0){if(J)this.bindSource(Z,0);let Q=this.getGlSource(Z);this._gl.generateMipmap(Q.target)}onSourceDestroy(Z){Z.off("destroy",this.onSourceDestroy,this),Z.off("update",this.onSourceUpdate,this),Z.off("resize",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("styleChange",this.onStyleChange,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}_initSampler(Z){let J=this._gl,Q=this._gl.createSampler();return this._glSamplers[Z._resourceId]=Q,dM(Z,J,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",Q,!1,!0),this._glSamplers[Z._resourceId]}_getGlSampler(Z){return this._glSamplers[Z._resourceId]||this._initSampler(Z)}getGlSource(Z){return this._glTextures[Z.uid]||this._initSource(Z)}generateCanvas(Z){let{pixels:J,width:Q,height:q}=this.getPixels(Z),K=K0.get().createCanvas();K.width=Q,K.height=q;let X=K.getContext("2d");if(X){let N=X.createImageData(Q,q);N.data.set(J),X.putImageData(N,0,0)}return K}getPixels(Z){let J=Z.source.resolution,Q=Z.frame,q=Math.max(Math.round(Q.width*J),1),K=Math.max(Math.round(Q.height*J),1),X=new Uint8Array(Ks*q*K),N=this._renderer,Y=N.renderTarget.getRenderTarget(Z),O=N.renderTarget.getGpuRenderTarget(Y),U=N.gl;return U.bindFramebuffer(U.FRAMEBUFFER,O.resolveTargetFramebuffer),U.readPixels(Math.round(Q.x*J),Math.round(Q.y*J),q,K,U.RGBA,U.UNSIGNED_BYTE,X),{pixels:new Uint8ClampedArray(X.buffer),width:q,height:K}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null,this._glTextures=null,this._glSamplers=null,this._boundTextures=null,this._boundSamplers=null,this._mapFormatToInternalFormat=null,this._mapFormatToType=null,this._mapFormatToFormat=null,this._uploads=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(p.EMPTY.source),this._boundSamplers=Object.create(null);let Z=this._gl;this._premultiplyAlpha=!1,Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}var Ks=4;var nh=F(()=>{l0();g();u0();kh();vh();yh();gM();xh();ch();lh();ih();sh();SV.extension={type:[I.WebGLSystem],name:"texture"}});var Zx={};qz(Zx,{WebGLRenderer:()=>eh});var Xs,zs,Ns,oh,th,rh,eh;var Jx=F(()=>{g();Sy();by();ky();sK();NM();N6();fy();hy();dy();uy();ly();py();iy();ay();ey();Qh();Gh();Rh();bh();nh();Xs=[...iY,FV,cy,yy,WV,$V,SV,jV,BV,EV,RV,MV,Sh,GV,_V],zs=[...aY],Ns=[AV,UV,OV],oh=[],th=[],rh=[];J0.handleByNamedList(I.WebGLSystem,oh);J0.handleByNamedList(I.WebGLPipes,th);J0.handleByNamedList(I.WebGLPipesAdaptor,rh);J0.add(...Xs,...zs,...Ns);eh=class eh extends W9{constructor(){let Z={name:"webgl",type:_1.WEBGL,systems:oh,renderPipes:th,renderPipeAdaptors:rh};super(Z)}}});function XW(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<pV(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function Y4(Z){return Z.length===0?null:Z[0]}function nV(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var N=2*(q+1)-1,Y=Z[N],O=N+1,U=Z[O];if(0>pV(Y,Q))O<K&&0>pV(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[N]=Q,q=N);else if(O<K&&0>pV(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function pV(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function aV(Z){for(var J=Y4(j9);J!==null;){if(J.callback===null)nV(j9);else if(J.startTime<=Z)nV(j9),J.sortIndex=J.expirationTime,XW(z7,J);else break;J=Y4(j9)}}function VW(Z){if(UX=!1,aV(Z),!OX)if(Y4(z7)!==null)OX=!0,qg();else{var J=Y4(j9);J!==null&&OW(VW,J.startTime-Z)}}function Qg(){return V4()-Jg<Yn?!1:!0}function KW(){if(oV){var Z=V4();Jg=Z;var J=!0;try{Z:{OX=!1,UX&&(UX=!1,Zg(AX),AX=-1),HW=!0;var Q=qW;try{J:{aV(Z);for(O6=Y4(z7);O6!==null&&!(O6.expirationTime>Z&&Qg());){var q=O6.callback;if(typeof q==="function"){O6.callback=null,qW=O6.priorityLevel;var K=q(O6.expirationTime<=Z);if(Z=V4(),typeof K==="function"){O6.callback=K,aV(Z),J=!0;break J}O6===Y4(z7)&&nV(z7),aV(Z)}else nV(z7);O6=Y4(z7)}if(O6!==null)J=!0;else{var X=Y4(j9);X!==null&&OW(VW,X.startTime-Z),J=!1}}break Z}finally{O6=null,qW=Q,HW=!1}J=void 0}}finally{J?VX():oV=!1}}}function qg(){oV||(oV=!0,VX())}function OW(Z,J){AX=ex(function(){Z(V4())},J)}var V4=void 0,zW,iV,NW,z7,j9,Hn=1,O6=null,qW=3,HW=!1,OX=!1,UX=!1,ex,Zg,rx,oV=!1,AX=-1,Yn=5,Jg=-1,VX,sV,YW,UW=5,AW=1,tV=3,$W=2,DW=function(Z){Z.callback=null},BW=function(){},rV=function(Z,J,Q){var q=V4();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:Hn++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,XW(j9,Z),Y4(z7)===null&&Z===Y4(j9)&&(UX?(Zg(AX),AX=-1):UX=!0,OW(VW,Q-q))):(Z.sortIndex=K,XW(z7,Z),OX||HW||(OX=!0,qg())),Z},_W;var Xg=F(()=>{if(typeof performance==="object"&&typeof performance.now==="function")zW=performance,V4=function(){return zW.now()};else iV=Date,NW=iV.now(),V4=function(){return iV.now()-NW};z7=[],j9=[],ex=typeof setTimeout==="function"?setTimeout:null,Zg=typeof clearTimeout==="function"?clearTimeout:null,rx=typeof setImmediate<"u"?setImmediate:null;if(typeof rx==="function")VX=function(){rx(KW)};else if(typeof MessageChannel<"u")sV=new MessageChannel,YW=sV.port2,sV.port1.onmessage=KW,VX=function(){YW.postMessage(null)};else VX=function(){ex(KW,0)};_W=Qg});var zg=uQ((QM0,$X)=>{C5();Xg();$X.exports=function(Z){function J(z,H,V,A){return new wm(z,H,V,A)}function Q(){}function q(z){var H="https://react.dev/errors/"+z;if(1<arguments.length){H+="?args[]="+encodeURIComponent(arguments[1]);for(var V=2;V<arguments.length;V++)H+="&args[]="+encodeURIComponent(arguments[V])}return"Minified React error #"+z+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K(z){if(z===null||typeof z!=="object")return null;return z=EF&&z[EF]||z["@@iterator"],typeof z==="function"?z:null}function X(z){if(z==null)return null;if(typeof z==="function")return z.$$typeof===Im?null:z.displayName||z.name||null;if(typeof z==="string")return z;switch(z){case rZ:return"Fragment";case tZ:return"Portal";case HU:return"Profiler";case LF:return"StrictMode";case VU:return"Suspense";case OU:return"SuspenseList"}if(typeof z==="object")switch(z.$$typeof){case B7:return(z.displayName||"Context")+".Provider";case CF:return(z._context.displayName||"Context")+".Consumer";case YU:var H=z.render;return z=z.displayName,z||(z=H.displayName||H.name||"",z=z!==""?"ForwardRef("+z+")":"ForwardRef"),z;case UU:return H=z.displayName||null,H!==null?H:X(z.type)||"Memo";case _7:H=z._payload,z=z._init;try{return X(z(H))}catch(V){}}return null}function N(z){if(AU===void 0)try{throw Error()}catch(V){var H=V.stack.trim().match(/\n( *(at )?)/);AU=H&&H[1]||"",IF=-1<V.stack.indexOf(`
    at`)?" (<anonymous>)":-1<V.stack.indexOf("@")?"@unknown:0:0":""}return`
`+AU+z+IF}function Y(z,H){if(!z||$U)return"";$U=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(H){var Q0=function(){throw Error()};if(Object.defineProperty(Q0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(Q0,[])}catch(M0){var X0=M0}Reflect.construct(z,[],Q0)}else{try{Q0.call()}catch(M0){X0=M0}z.call(Q0.prototype)}}else{try{throw Error()}catch(M0){X0=M0}(Q0=z())&&typeof Q0.catch==="function"&&Q0.catch(function(){})}}catch(M0){if(M0&&X0&&typeof M0.stack==="string")return[M0.stack,X0.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=A.DetermineComponentFrameRoot(),E=M[0],S=M[1];if(E&&S){var P=E.split(`
`),d=S.split(`
`);for(D=A=0;A<P.length&&!P[A].includes("DetermineComponentFrameRoot");)A++;for(;D<d.length&&!d[D].includes("DetermineComponentFrameRoot");)D++;if(A===P.length||D===d.length)for(A=P.length-1,D=d.length-1;1<=A&&0<=D&&P[A]!==d[D];)D--;for(;1<=A&&0<=D;A--,D--)if(P[A]!==d[D]){if(A!==1||D!==1)do if(A--,D--,0>D||P[A]!==d[D]){var n=`
`+P[A].replace(" at new "," at ");return z.displayName&&n.includes("<anonymous>")&&(n=n.replace("<anonymous>",z.displayName)),n}while(1<=A&&0<=D);break}}}finally{$U=!1,Error.prepareStackTrace=V}return(V=z?z.displayName||z.name:"")?N(V):""}function O(z){switch(z.tag){case 26:case 27:case 5:return N(z.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return z=Y(z.type,!1),z;case 11:return z=Y(z.type.render,!1),z;case 1:return z=Y(z.type,!0),z;default:return""}}function U(z){try{var H="";do H+=O(z),z=z.return;while(z);return H}catch(V){return`
Error generating stack: `+V.message+`
`+V.stack}}function $(z){var H=z,V=z;if(z.alternate)for(;H.return;)H=H.return;else{z=H;do H=z,(H.flags&4098)!==0&&(V=H.return),z=H.return;while(z)}return H.tag===3?V:null}function B(z){if($(z)!==z)throw Error(q(188))}function _(z){var H=z.alternate;if(!H){if(H=$(z),H===null)throw Error(q(188));return H!==z?null:z}for(var V=z,A=H;;){var D=V.return;if(D===null)break;var M=D.alternate;if(M===null){if(A=D.return,A!==null){V=A;continue}break}if(D.child===M.child){for(M=D.child;M;){if(M===V)return B(D),z;if(M===A)return B(D),H;M=M.sibling}throw Error(q(188))}if(V.return!==A.return)V=D,A=M;else{for(var E=!1,S=D.child;S;){if(S===V){E=!0,V=D,A=M;break}if(S===A){E=!0,A=D,V=M;break}S=S.sibling}if(!E){for(S=M.child;S;){if(S===V){E=!0,V=M,A=D;break}if(S===A){E=!0,A=M,V=D;break}S=S.sibling}if(!E)throw Error(q(189))}}if(V.alternate!==A)throw Error(q(190))}if(V.tag!==3)throw Error(q(188));return V.stateNode.current===V?z:H}function W(z){var H=z.tag;if(H===5||H===26||H===27||H===6)return z;for(z=z.child;z!==null;){if(H=W(z),H!==null)return H;z=z.sibling}return null}function w(z){var H=z.tag;if(H===5||H===26||H===27||H===6)return z;for(z=z.child;z!==null;){if(z.tag!==4&&(H=w(z),H!==null))return H;z=z.sibling}return null}function L(z){return{current:z}}function R(z){0>ZJ||(z.current=GU[ZJ],GU[ZJ]=null,ZJ--)}function G(z,H){ZJ++,GU[ZJ]=z.current,z.current=H}function j(z){return z>>>=0,z===0?32:31-(ud(z)/ld|0)|0}function C(z){var H=z&42;if(H!==0)return H;switch(z&-z){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return z&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return z&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return z}}function T(z,H){var V=z.pendingLanes;if(V===0)return 0;var A=0,D=z.suspendedLanes,M=z.pingedLanes,E=z.warmLanes;z=z.finishedLanes!==0;var S=V&134217727;return S!==0?(V=S&~D,V!==0?A=C(V):(M&=S,M!==0?A=C(M):z||(E=S&~E,E!==0&&(A=C(E))))):(S=V&~D,S!==0?A=C(S):M!==0?A=C(M):z||(E=V&~E,E!==0&&(A=C(E)))),A===0?0:H!==0&&H!==A&&(H&D)===0&&(D=A&-A,E=H&-H,D>=E||D===32&&(E&4194176)!==0)?H:A}function v(z,H){return(z.pendingLanes&~(z.suspendedLanes&~z.pingedLanes)&H)===0}function f(z,H){switch(z){case 1:case 2:case 4:case 8:return H+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b(){var z=hX;return hX<<=1,(hX&4194176)===0&&(hX=128),z}function m(){var z=xX;return xX<<=1,(xX&62914560)===0&&(xX=4194304),z}function u(z){for(var H=[],V=0;31>V;V++)H.push(z);return H}function l(z,H){z.pendingLanes|=H,H!==268435456&&(z.suspendedLanes=0,z.pingedLanes=0,z.warmLanes=0)}function o(z,H,V,A,D,M){var E=z.pendingLanes;z.pendingLanes=V,z.suspendedLanes=0,z.pingedLanes=0,z.warmLanes=0,z.expiredLanes&=V,z.entangledLanes&=V,z.errorRecoveryDisabledLanes&=V,z.shellSuspendCounter=0;var{entanglements:S,expirationTimes:P,hiddenUpdates:d}=z;for(V=E&~V;0<V;){var n=31-D8(V),Q0=1<<n;S[n]=0,P[n]=-1;var X0=d[n];if(X0!==null)for(d[n]=null,n=0;n<X0.length;n++){var M0=X0[n];M0!==null&&(M0.lane&=-536870913)}V&=~Q0}A!==0&&N0(z,A,0),M!==0&&D===0&&z.tag!==0&&(z.suspendedLanes|=M&~(E&~H))}function N0(z,H,V){z.pendingLanes|=H,z.suspendedLanes&=~H;var A=31-D8(H);z.entangledLanes|=H,z.entanglements[A]=z.entanglements[A]|1073741824|V&4194218}function j0(z,H){var V=z.entangledLanes|=H;for(z=z.entanglements;V;){var A=31-D8(V),D=1<<A;D&H|z[A]&H&&(z[A]|=H),V&=~D}}function z0(z){return z&=-z,2<z?8<z?(z&134217727)!==0?32:268435456:8:2}function X1(z){if(B8&&typeof B8.onCommitFiberRoot==="function")try{B8.onCommitFiberRoot(SQ,z,void 0,(z.current.flags&128)===128)}catch(H){}}function t(z){if(typeof nd==="function"&&od(z),B8&&typeof B8.setStrictMode==="function")try{B8.setStrictMode(SQ,z)}catch(H){}}function H0(z,H){return z===H&&(z!==0||1/z===1/H)||z!==z&&H!==H}function W1(z,H){if(typeof z==="object"&&z!==null){var V=Zj.get(z);if(V!==void 0)return V;return H={value:z,source:H,stack:U(H)},Zj.set(z,H),H}return{value:z,source:H,stack:U(H)}}function D0(z,H){QJ[qJ++]=dX,QJ[qJ++]=mX,mX=z,dX=H}function c5(z,H,V){x8[g8++]=W4,x8[g8++]=G4,x8[g8++]=k9,k9=z;var A=W4;z=G4;var D=32-D8(A)-1;A&=~(1<<D),V+=1;var M=32-D8(H)+D;if(30<M){var E=D-D%5;M=(A&(1<<E)-1).toString(32),A>>=E,D-=E,W4=1<<32-D8(H)+D|V<<D|A,G4=M+z}else W4=1<<M|V<<D|A,G4=z}function k8(z){z.return!==null&&(D0(z,1),c5(z,1,0))}function P8(z){for(;z===mX;)mX=QJ[--qJ],QJ[qJ]=null,dX=QJ[--qJ],QJ[qJ]=null;for(;z===k9;)k9=x8[--g8],x8[g8]=null,G4=x8[--g8],x8[g8]=null,W4=x8[--g8],x8[g8]=null}function H8(z,H){G(W7,H),G(bQ,z),G(V5,null),z=bm(H),R(V5),G(V5,z)}function U6(){R(V5),R(bQ),R(W7)}function G5(z){z.memoizedState!==null&&G(cX,z);var H=V5.current,V=km(H,z.type);H!==V&&(G(bQ,z),G(V5,V))}function Y8(z){bQ.current===z&&(R(V5),R(bQ)),cX.current===z&&(R(cX),M4?b9._currentValue=eZ:b9._currentValue2=eZ)}function f6(z){var H=Error(q(418,""));throw V8(W1(H,z)),wU}function UQ(z,H){if(!y8)throw Error(q(175));Cd(z.stateNode,z.type,z.memoizedProps,H,z)||f6(z)}function w9(z){for(S5=z.return;S5;)switch(S5.tag){case 3:case 27:x6=!0;return;case 5:case 13:x6=!1;return;default:S5=S5.return}}function y6(z){if(!y8||z!==S5)return!1;if(!h0)return w9(z),h0=!0,!1;var H=!1;if(w5?z.tag!==3&&z.tag!==27&&(z.tag!==5||uF(z.type)&&!yX(z.type,z.memoizedProps))&&(H=!0):z.tag!==3&&(z.tag!==5||uF(z.type)&&!yX(z.type,z.memoizedProps))&&(H=!0),H&&L5&&f6(z),w9(z),z.tag===13){if(!y8)throw Error(q(316));if(z=z.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(q(317));L5=Id(z)}else L5=S5?dF(z.stateNode):null;return!0}function O4(){y8&&(L5=S5=null,h0=!1)}function V8(z){_6===null?_6=[z]:_6.push(z)}function v8(){for(var z=KJ,H=LU=KJ=0;H<z;){var V=m8[H];m8[H++]=null;var A=m8[H];m8[H++]=null;var D=m8[H];m8[H++]=null;var M=m8[H];if(m8[H++]=null,A!==null&&D!==null){var E=A.pending;E===null?D.next=D:(D.next=E.next,E.next=D),A.pending=D}M!==0&&AQ(V,D,M)}}function f8(z,H,V,A){m8[KJ++]=z,m8[KJ++]=H,m8[KJ++]=V,m8[KJ++]=A,LU|=A,z.lanes|=A,z=z.alternate,z!==null&&(z.lanes|=A)}function A6(z,H,V,A){return f8(z,H,V,A),lZ(z)}function h6(z,H){return f8(z,null,null,H),lZ(z)}function AQ(z,H,V){z.lanes|=V;var A=z.alternate;A!==null&&(A.lanes|=V);for(var D=!1,M=z.return;M!==null;)M.childLanes|=V,A=M.alternate,A!==null&&(A.childLanes|=V),M.tag===22&&(z=M.stateNode,z===null||z._visibility&1||(D=!0)),z=M,M=M.return;D&&H!==null&&z.tag===3&&(M=z.stateNode,D=31-D8(V),M=M.hiddenUpdates,z=M[D],z===null?M[D]=[H]:z.push(H),H.lane=V|536870912)}function lZ(z){if(50<mQ)throw mQ=0,mU=null,Error(q(185));for(var H=z.return;H!==null;)z=H,H=z.return;return z.tag===3?z.stateNode:null}function $6(z){z!==XJ&&z.next===null&&(XJ===null?uX=XJ=z:XJ=XJ.next=z),lX=!0,CU||(CU=!0,Zm(eg))}function pZ(z,H){if(!RU&&lX){RU=!0;do{var V=!1;for(var A=uX;A!==null;){if(!H)if(z!==0){var D=A.pendingLanes;if(D===0)var M=0;else{var{suspendedLanes:E,pingedLanes:S}=A;M=(1<<31-D8(42|z)+1)-1,M&=D&~(E&~S),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(V=!0,LW(A,M))}else M=v0,M=T(A,A===z1?M:0),(M&3)===0||v(A,M)||(V=!0,LW(A,M));A=A.next}}while(V);RU=!1}}function eg(){lX=CU=!1;var z=0;zJ!==0&&(mm()&&(z=zJ),zJ=0);for(var H=B6(),V=null,A=uX;A!==null;){var D=A.next,M=jW(A,H);if(M===0)A.next=null,V===null?uX=D:V.next=D,D===null&&(XJ=V);else if(V=A,z!==0||(M&3)!==0)lX=!0;A=D}pZ(z,!1)}function jW(z,H){for(var{suspendedLanes:V,pingedLanes:A,expirationTimes:D}=z,M=z.pendingLanes&-62914561;0<M;){var E=31-D8(M),S=1<<E,P=D[E];if(P===-1){if((S&V)===0||(S&A)!==0)D[E]=f(S,H)}else P<=H&&(z.expiredLanes|=S);M&=~S}if(H=z1,V=v0,V=T(z,z===H?V:0),A=z.callbackNode,V===0||z===H&&N1===2||z.cancelPendingCommit!==null)return A!==null&&A!==null&&FU(A),z.callbackNode=null,z.callbackPriority=0;if((V&3)===0||v(z,V)){if(H=V&-V,H===z.callbackPriority)return H;switch(A!==null&&FU(A),z0(V)){case 2:case 8:V=ad;break;case 32:V=jU;break;case 268435456:V=sd;break;default:V=jU}return A=wW.bind(null,z),V=gX(V,A),z.callbackPriority=H,z.callbackNode=V,H}return A!==null&&A!==null&&FU(A),z.callbackPriority=2,z.callbackNode=null,2}function wW(z,H){var V=z.callbackNode;if(I9()&&z.callbackNode!==V)return null;var A=v0;if(A=T(z,z===z1?A:0),A===0)return null;return qF(z,A,H),jW(z,B6()),z.callbackNode!=null&&z.callbackNode===V?wW.bind(null,z):null}function LW(z,H){if(I9())return null;qF(z,H,!0)}function Zm(z){im?am(function(){(J1&6)!==0?gX(eF,z):z()}):gX(eF,z)}function KO(){return zJ===0&&(zJ=b()),zJ}function Jm(z,H){if(kQ===null){var V=kQ=[];EU=0,NJ=KO(),HJ={status:"pending",value:void 0,then:function(A){V.push(A)}}}return EU++,H.then(CW,CW),H}function CW(){if(--EU===0&&kQ!==null){HJ!==null&&(HJ.status="fulfilled");var z=kQ;kQ=null,NJ=0,HJ=null;for(var H=0;H<z.length;H++)(0,z[H])()}}function Qm(z,H){var V=[],A={status:"pending",value:null,reason:null,then:function(D){V.push(D)}};return z.then(function(){A.status="fulfilled",A.value=H;for(var D=0;D<V.length;D++)(0,V[D])(H)},function(D){A.status="rejected",A.reason=D;for(D=0;D<V.length;D++)(0,V[D])(void 0)}),A}function XO(z){z.updateQueue={baseState:z.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zO(z,H){z=z.updateQueue,H.updateQueue===z&&(H.updateQueue={baseState:z.baseState,firstBaseUpdate:z.firstBaseUpdate,lastBaseUpdate:z.lastBaseUpdate,shared:z.shared,callbacks:null})}function N7(z){return{lane:z,tag:0,payload:null,callback:null,next:null}}function H7(z,H,V){var A=z.updateQueue;if(A===null)return null;if(A=A.shared,(J1&2)!==0){var D=A.pending;return D===null?H.next=H:(H.next=D.next,D.next=H),A.pending=H,H=lZ(z),AQ(z,null,V),H}return f8(z,A,H,V),lZ(z)}function $Q(z,H,V){if(H=H.updateQueue,H!==null&&(H=H.shared,(V&4194176)!==0)){var A=H.lanes;A&=z.pendingLanes,V|=A,H.lanes=V,j0(z,V)}}function NO(z,H){var{updateQueue:V,alternate:A}=z;if(A!==null&&(A=A.updateQueue,V===A)){var D=null,M=null;if(V=V.firstBaseUpdate,V!==null){do{var E={lane:V.lane,tag:V.tag,payload:V.payload,callback:null,next:null};M===null?D=M=E:M=M.next=E,V=V.next}while(V!==null);M===null?D=M=H:M=M.next=H}else D=M=H;V={baseState:A.baseState,firstBaseUpdate:D,lastBaseUpdate:M,shared:A.shared,callbacks:A.callbacks},z.updateQueue=V;return}z=V.lastBaseUpdate,z===null?V.firstBaseUpdate=H:z.next=H,V.lastBaseUpdate=H}function DQ(){if(IU){var z=HJ;if(z!==null)throw z}}function BQ(z,H,V,A){IU=!1;var D=z.updateQueue;G7=!1;var{firstBaseUpdate:M,lastBaseUpdate:E}=D,S=D.shared.pending;if(S!==null){D.shared.pending=null;var P=S,d=P.next;P.next=null,E===null?M=d:E.next=d,E=P;var n=z.alternate;n!==null&&(n=n.updateQueue,S=n.lastBaseUpdate,S!==E&&(S===null?n.firstBaseUpdate=d:S.next=d,n.lastBaseUpdate=P))}if(M!==null){var Q0=D.baseState;E=0,n=d=P=null,S=M;do{var X0=S.lane&-536870913,M0=X0!==S.lane;if(M0?(v0&X0)===X0:(A&X0)===X0){X0!==0&&X0===NJ&&(IU=!0),n!==null&&(n=n.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});Z:{var u8=z,dQ=S;X0=H;var d9=V;switch(dQ.tag){case 1:if(u8=dQ.payload,typeof u8==="function"){Q0=u8.call(d9,Q0,X0);break Z}Q0=u8;break Z;case 3:u8.flags=u8.flags&-65537|128;case 0:if(u8=dQ.payload,X0=typeof u8==="function"?u8.call(d9,Q0,X0):u8,X0===null||X0===void 0)break Z;Q0=NU({},Q0,X0);break Z;case 2:G7=!0}}X0=S.callback,X0!==null&&(z.flags|=64,M0&&(z.flags|=8192),M0=D.callbacks,M0===null?D.callbacks=[X0]:M0.push(X0))}else M0={lane:X0,tag:S.tag,payload:S.payload,callback:S.callback,next:null},n===null?(d=n=M0,P=Q0):n=n.next=M0,E|=X0;if(S=S.next,S===null)if(S=D.shared.pending,S===null)break;else M0=S,S=M0.next,M0.next=null,D.lastBaseUpdate=M0,D.shared.pending=null}while(1);n===null&&(P=Q0),D.baseState=P,D.firstBaseUpdate=d,D.lastBaseUpdate=n,M===null&&(D.shared.lanes=0),w7|=E,z.lanes=E,z.memoizedState=Q0}}function RW(z,H){if(typeof z!=="function")throw Error(q(191,z));z.call(H)}function EW(z,H){var V=z.callbacks;if(V!==null)for(z.callbacks=null,z=0;z<V.length;z++)RW(V[z],H)}function DX(z,H){if(_8(z,H))return!0;if(typeof z!=="object"||z===null||typeof H!=="object"||H===null)return!1;var V=Object.keys(z),A=Object.keys(H);if(V.length!==A.length)return!1;for(A=0;A<V.length;A++){var D=V[A];if(!td.call(H,D)||!_8(z[D],H[D]))return!1}return!0}function IW(z){return z=z.status,z==="fulfilled"||z==="rejected"}function BX(){}function TW(z,H,V){switch(V=z[V],V===void 0?z.push(H):V!==H&&(H.then(BX,BX),H=V),H.status){case"fulfilled":return H.value;case"rejected":if(z=H.reason,z===PQ)throw Error(q(483));throw z;default:if(typeof H.status==="string")H.then(BX,BX);else{if(z=z1,z!==null&&100<z.shellSuspendCounter)throw Error(q(482));z=H,z.status="pending",z.then(function(A){if(H.status==="pending"){var D=H;D.status="fulfilled",D.value=A}},function(A){if(H.status==="pending"){var D=H;D.status="rejected",D.reason=A}})}switch(H.status){case"fulfilled":return H.value;case"rejected":if(z=H.reason,z===PQ)throw Error(q(483));throw z}throw YJ=H,PQ}}function SW(){if(YJ===null)throw Error(q(459));var z=YJ;return YJ=null,z}function _X(z){var H=vQ;return vQ+=1,VJ===null&&(VJ=[]),TW(VJ,z,H)}function _Q(z,H){H=H.props.ref,z.ref=H!==void 0?H:null}function MX(z,H){if(H.$$typeof===Cm)throw Error(q(525));throw z=Object.prototype.toString.call(H),Error(q(31,z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":z))}function bW(z){var H=z._init;return H(z._payload)}function kW(z){function H(y,k){if(z){var h=y.deletions;h===null?(y.deletions=[k],y.flags|=16):h.push(k)}}function V(y,k){if(!z)return null;for(;k!==null;)H(y,k),k=k.sibling;return null}function A(y){for(var k=new Map;y!==null;)y.key!==null?k.set(y.key,y):k.set(y.index,y),y=y.sibling;return k}function D(y,k){return y=D7(y,k),y.index=0,y.sibling=null,y}function M(y,k,h){if(y.index=h,!z)return y.flags|=1048576,k;if(h=y.alternate,h!==null)return h=h.index,h<k?(y.flags|=33554434,k):h;return y.flags|=33554434,k}function E(y){return z&&y.alternate===null&&(y.flags|=33554434),y}function S(y,k,h,s){if(k===null||k.tag!==6)return k=KU(h,y.mode,s),k.return=y,k;return k=D(k,h),k.return=y,k}function P(y,k,h,s){var Y0=h.type;if(Y0===rZ)return n(y,k,h.props.children,s,h.key);if(k!==null&&(k.elementType===Y0||typeof Y0==="object"&&Y0!==null&&Y0.$$typeof===_7&&bW(Y0)===k.type))return k=D(k,h.props),_Q(k,h),k.return=y,k;return k=PX(h.type,h.key,h.props,null,y.mode,s),_Q(k,h),k.return=y,k}function d(y,k,h,s){if(k===null||k.tag!==4||k.stateNode.containerInfo!==h.containerInfo||k.stateNode.implementation!==h.implementation)return k=XU(h,y.mode,s),k.return=y,k;return k=D(k,h.children||[]),k.return=y,k}function n(y,k,h,s,Y0){if(k===null||k.tag!==7)return k=T9(h,y.mode,s,Y0),k.return=y,k;return k=D(k,h),k.return=y,k}function Q0(y,k,h){if(typeof k==="string"&&k!==""||typeof k==="number"||typeof k==="bigint")return k=KU(""+k,y.mode,h),k.return=y,k;if(typeof k==="object"&&k!==null){switch(k.$$typeof){case vX:return h=PX(k.type,k.key,k.props,null,y.mode,h),_Q(h,k),h.return=y,h;case tZ:return k=XU(k,y.mode,h),k.return=y,k;case _7:var s=k._init;return k=s(k._payload),Q0(y,k,h)}if(fX(k)||K(k))return k=T9(k,y.mode,h,null),k.return=y,k;if(typeof k.then==="function")return Q0(y,_X(k),h);if(k.$$typeof===B7)return Q0(y,EX(y,k),h);MX(y,k)}return null}function X0(y,k,h,s){var Y0=k!==null?k.key:null;if(typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint")return Y0!==null?null:S(y,k,""+h,s);if(typeof h==="object"&&h!==null){switch(h.$$typeof){case vX:return h.key===Y0?P(y,k,h,s):null;case tZ:return h.key===Y0?d(y,k,h,s):null;case _7:return Y0=h._init,h=Y0(h._payload),X0(y,k,h,s)}if(fX(h)||K(h))return Y0!==null?null:n(y,k,h,s,null);if(typeof h.then==="function")return X0(y,k,_X(h),s);if(h.$$typeof===B7)return X0(y,k,EX(y,h),s);MX(y,h)}return null}function M0(y,k,h,s,Y0){if(typeof s==="string"&&s!==""||typeof s==="number"||typeof s==="bigint")return y=y.get(h)||null,S(k,y,""+s,Y0);if(typeof s==="object"&&s!==null){switch(s.$$typeof){case vX:return y=y.get(s.key===null?h:s.key)||null,P(k,y,s,Y0);case tZ:return y=y.get(s.key===null?h:s.key)||null,d(k,y,s,Y0);case _7:var V1=s._init;return s=V1(s._payload),M0(y,k,h,s,Y0)}if(fX(s)||K(s))return y=y.get(h)||null,n(k,y,s,Y0,null);if(typeof s.then==="function")return M0(y,k,h,_X(s),Y0);if(s.$$typeof===B7)return M0(y,k,h,EX(k,s),Y0);MX(k,s)}return null}function u8(y,k,h,s){for(var Y0=null,V1=null,$0=k,x0=k=0,e1=null;$0!==null&&x0<h.length;x0++){$0.index>x0?(e1=$0,$0=null):e1=$0.sibling;var g0=X0(y,$0,h[x0],s);if(g0===null){$0===null&&($0=e1);break}z&&$0&&g0.alternate===null&&H(y,$0),k=M(g0,k,x0),V1===null?Y0=g0:V1.sibling=g0,V1=g0,$0=e1}if(x0===h.length)return V(y,$0),h0&&D0(y,x0),Y0;if($0===null){for(;x0<h.length;x0++)$0=Q0(y,h[x0],s),$0!==null&&(k=M($0,k,x0),V1===null?Y0=$0:V1.sibling=$0,V1=$0);return h0&&D0(y,x0),Y0}for($0=A($0);x0<h.length;x0++)e1=M0($0,y,x0,h[x0],s),e1!==null&&(z&&e1.alternate!==null&&$0.delete(e1.key===null?x0:e1.key),k=M(e1,k,x0),V1===null?Y0=e1:V1.sibling=e1,V1=e1);return z&&$0.forEach(function(C7){return H(y,C7)}),h0&&D0(y,x0),Y0}function dQ(y,k,h,s){if(h==null)throw Error(q(151));for(var Y0=null,V1=null,$0=k,x0=k=0,e1=null,g0=h.next();$0!==null&&!g0.done;x0++,g0=h.next()){$0.index>x0?(e1=$0,$0=null):e1=$0.sibling;var C7=X0(y,$0,g0.value,s);if(C7===null){$0===null&&($0=e1);break}z&&$0&&C7.alternate===null&&H(y,$0),k=M(C7,k,x0),V1===null?Y0=C7:V1.sibling=C7,V1=C7,$0=e1}if(g0.done)return V(y,$0),h0&&D0(y,x0),Y0;if($0===null){for(;!g0.done;x0++,g0=h.next())g0=Q0(y,g0.value,s),g0!==null&&(k=M(g0,k,x0),V1===null?Y0=g0:V1.sibling=g0,V1=g0);return h0&&D0(y,x0),Y0}for($0=A($0);!g0.done;x0++,g0=h.next())g0=M0($0,y,x0,g0.value,s),g0!==null&&(z&&g0.alternate!==null&&$0.delete(g0.key===null?x0:g0.key),k=M(g0,k,x0),V1===null?Y0=g0:V1.sibling=g0,V1=g0);return z&&$0.forEach(function(Kc){return H(y,Kc)}),h0&&D0(y,x0),Y0}function d9(y,k,h,s){if(typeof h==="object"&&h!==null&&h.type===rZ&&h.key===null&&(h=h.props.children),typeof h==="object"&&h!==null){switch(h.$$typeof){case vX:Z:{for(var Y0=h.key;k!==null;){if(k.key===Y0){if(Y0=h.type,Y0===rZ){if(k.tag===7){V(y,k.sibling),s=D(k,h.props.children),s.return=y,y=s;break Z}}else if(k.elementType===Y0||typeof Y0==="object"&&Y0!==null&&Y0.$$typeof===_7&&bW(Y0)===k.type){V(y,k.sibling),s=D(k,h.props),_Q(s,h),s.return=y,y=s;break Z}V(y,k);break}else H(y,k);k=k.sibling}h.type===rZ?(s=T9(h.props.children,y.mode,s,h.key),s.return=y,y=s):(s=PX(h.type,h.key,h.props,null,y.mode,s),_Q(s,h),s.return=y,y=s)}return E(y);case tZ:Z:{for(Y0=h.key;k!==null;){if(k.key===Y0)if(k.tag===4&&k.stateNode.containerInfo===h.containerInfo&&k.stateNode.implementation===h.implementation){V(y,k.sibling),s=D(k,h.children||[]),s.return=y,y=s;break Z}else{V(y,k);break}else H(y,k);k=k.sibling}s=XU(h,y.mode,s),s.return=y,y=s}return E(y);case _7:return Y0=h._init,h=Y0(h._payload),d9(y,k,h,s)}if(fX(h))return u8(y,k,h,s);if(K(h)){if(Y0=K(h),typeof Y0!=="function")throw Error(q(150));return h=Y0.call(h),dQ(y,k,h,s)}if(typeof h.then==="function")return d9(y,k,_X(h),s);if(h.$$typeof===B7)return d9(y,k,EX(y,h),s);MX(y,h)}return typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint"?(h=""+h,k!==null&&k.tag===6?(V(y,k.sibling),s=D(k,h),s.return=y,y=s):(V(y,k),s=KU(h,y.mode,s),s.return=y,y=s),E(y)):V(y,k)}return function(y,k,h,s){try{vQ=0;var Y0=d9(y,k,h,s);return VJ=null,Y0}catch($0){if($0===PQ)throw $0;var V1=J(29,$0,null,y.mode);return V1.lanes=s,V1.return=y,V1}finally{}}}function PW(z,H){z=L4,G(iX,z),G(OJ,H),L4=z|H.baseLanes}function HO(){G(iX,L4),G(OJ,OJ.current)}function YO(){L4=iX.current,R(OJ),R(iX)}function Y7(z){var H=z.alternate;G(i1,i1.current&1),G(d8,z),g6===null&&(H===null||OJ.current!==null?g6=z:H.memoizedState!==null&&(g6=z))}function vW(z){if(z.tag===22){if(G(i1,i1.current),G(d8,z),g6===null){var H=z.alternate;H!==null&&H.memoizedState!==null&&(g6=z)}}else V7(z)}function V7(){G(i1,i1.current),G(d8,d8.current)}function U4(z){R(d8),g6===z&&(g6=null),R(i1)}function WX(z){for(var H=z;H!==null;){if(H.tag===13){var V=H.memoizedState;if(V!==null&&(V=V.dehydrated,V===null||_U(V)||MU(V)))return H}else if(H.tag===19&&H.memoizedProps.revealOrder!==void 0){if((H.flags&128)!==0)return H}else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===z)break;for(;H.sibling===null;){if(H.return===null||H.return===z)return null;H=H.return}H.sibling.return=H.return,H=H.sibling}return null}function S1(){throw Error(q(321))}function VO(z,H){if(H===null)return!1;for(var V=0;V<H.length&&V<z.length;V++)if(!_8(z[V],H[V]))return!1;return!0}function OO(z,H,V,A,D,M){return F7=M,w0=H,H.memoizedState=null,H.updateQueue=null,H.lanes=0,B0.H=z===null||z.memoizedState===null?f9:j7,v9=!1,M=V(A,D),v9=!1,UJ&&(M=yW(H,V,A,D)),fW(z),M}function fW(z){B0.H=m6;var H=Z1!==null&&Z1.next!==null;if(F7=0,h1=Z1=w0=null,aX=!1,fQ=0,AJ=null,H)throw Error(q(300));z===null||t1||(z=z.dependencies,z!==null&&RX(z)&&(t1=!0))}function yW(z,H,V,A){w0=z;var D=0;do{if(UJ&&(AJ=null),fQ=0,UJ=!1,25<=D)throw Error(q(301));if(D+=1,h1=Z1=null,z.updateQueue!=null){var M=z.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}B0.H=y9,M=H(V,A)}while(UJ);return M}function qm(){var z=B0.H,H=z.useState()[0];return H=typeof H.then==="function"?MQ(H):H,z=z.useState()[0],(Z1!==null?Z1.memoizedState:null)!==z&&(w0.flags|=1024),H}function UO(){var z=sX!==0;return sX=0,z}function AO(z,H,V){H.updateQueue=z.updateQueue,H.flags&=-2053,z.lanes&=~V}function $O(z){if(aX){for(z=z.memoizedState;z!==null;){var H=z.queue;H!==null&&(H.pending=null),z=z.next}aX=!1}F7=0,h1=Z1=w0=null,UJ=!1,fQ=sX=0,AJ=null}function u5(){var z={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return h1===null?w0.memoizedState=h1=z:h1=h1.next=z,h1}function y1(){if(Z1===null){var z=w0.alternate;z=z!==null?z.memoizedState:null}else z=Z1.next;var H=h1===null?w0.memoizedState:h1.next;if(H!==null)h1=H,Z1=z;else{if(z===null){if(w0.alternate===null)throw Error(q(467));throw Error(q(310))}Z1=z,z={memoizedState:Z1.memoizedState,baseState:Z1.baseState,baseQueue:Z1.baseQueue,queue:Z1.queue,next:null},h1===null?w0.memoizedState=h1=z:h1=h1.next=z}return h1}function MQ(z){var H=fQ;return fQ+=1,AJ===null&&(AJ=[]),z=TW(AJ,z,H),H=w0,(h1===null?H.memoizedState:h1.next)===null&&(H=H.alternate,B0.H=H===null||H.memoizedState===null?f9:j7),z}function GX(z){if(z!==null&&typeof z==="object"){if(typeof z.then==="function")return MQ(z);if(z.$$typeof===B7)return F5(z)}throw Error(q(438,String(z)))}function DO(z){var H=null,V=w0.updateQueue;if(V!==null&&(H=V.memoCache),H==null){var A=w0.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(H={data:A.data.map(function(D){return D.slice()}),index:0})))}if(H==null&&(H={data:[],index:0}),V===null&&(V=SU(),w0.updateQueue=V),V.memoCache=H,V=H.data[H.index],V===void 0)for(V=H.data[H.index]=Array(z),A=0;A<z;A++)V[A]=Em;return H.index++,V}function A4(z,H){return typeof H==="function"?H(z):H}function FX(z){var H=y1();return BO(H,Z1,z)}function BO(z,H,V){var A=z.queue;if(A===null)throw Error(q(311));A.lastRenderedReducer=V;var D=z.baseQueue,M=A.pending;if(M!==null){if(D!==null){var E=D.next;D.next=M.next,M.next=E}H.baseQueue=D=M,A.pending=null}if(M=z.baseState,D===null)z.memoizedState=M;else{H=D.next;var S=E=null,P=null,d=H,n=!1;do{var Q0=d.lane&-536870913;if(Q0!==d.lane?(v0&Q0)===Q0:(F7&Q0)===Q0){var X0=d.revertLane;if(X0===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),Q0===NJ&&(n=!0);else if((F7&X0)===X0){d=d.next,X0===NJ&&(n=!0);continue}else Q0={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=Q0,E=M):P=P.next=Q0,w0.lanes|=X0,w7|=X0;Q0=d.action,v9&&V(M,Q0),M=d.hasEagerState?d.eagerState:V(M,Q0)}else X0={lane:Q0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=X0,E=M):P=P.next=X0,w0.lanes|=Q0,w7|=Q0;d=d.next}while(d!==null&&d!==H);if(P===null?E=M:P.next=S,!_8(M,z.memoizedState)&&(t1=!0,n&&(V=HJ,V!==null)))throw V;z.memoizedState=M,z.baseState=E,z.baseQueue=P,A.lastRenderedState=M}return D===null&&(A.lanes=0),[z.memoizedState,A.dispatch]}function _O(z){var H=y1(),V=H.queue;if(V===null)throw Error(q(311));V.lastRenderedReducer=z;var{dispatch:A,pending:D}=V,M=H.memoizedState;if(D!==null){V.pending=null;var E=D=D.next;do M=z(M,E.action),E=E.next;while(E!==D);_8(M,H.memoizedState)||(t1=!0),H.memoizedState=M,H.baseQueue===null&&(H.baseState=M),V.lastRenderedState=M}return[M,A]}function hW(z,H,V){var A=w0,D=y1(),M=h0;if(M){if(V===void 0)throw Error(q(407));V=V()}else V=H();var E=!_8((Z1||D).memoizedState,V);if(E&&(D.memoizedState=V,t1=!0),D=D.queue,GO(mW.bind(null,A,D,z),[z]),D.getSnapshot!==H||E||h1!==null&&h1.memoizedState.tag&1){if(A.flags|=2048,iZ(9,gW.bind(null,A,D,V,H),{destroy:void 0},null),z1===null)throw Error(q(349));M||(F7&60)!==0||xW(A,H,V)}return V}function xW(z,H,V){z.flags|=16384,z={getSnapshot:H,value:V},H=w0.updateQueue,H===null?(H=SU(),w0.updateQueue=H,H.stores=[z]):(V=H.stores,V===null?H.stores=[z]:V.push(z))}function gW(z,H,V,A){H.value=V,H.getSnapshot=A,dW(H)&&cW(z)}function mW(z,H,V){return V(function(){dW(H)&&cW(z)})}function dW(z){var H=z.getSnapshot;z=z.value;try{var V=H();return!_8(z,V)}catch(A){return!0}}function cW(z){var H=h6(z,2);H!==null&&T5(H,z,2)}function MO(z){var H=u5();if(typeof z==="function"){var V=z;if(z=V(),v9){t(!0);try{V()}finally{t(!1)}}}return H.memoizedState=H.baseState=z,H.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A4,lastRenderedState:z},H}function uW(z,H,V,A){return z.baseState=V,BO(z,Z1,typeof A==="function"?A:A4)}function Km(z,H,V,A,D){if(LX(z))throw Error(q(485));if(z=H.action,z!==null){var M={payload:D,action:z,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){M.listeners.push(E)}};B0.T!==null?V(!0):M.isTransition=!1,A(M),V=H.pending,V===null?(M.next=H.pending=M,lW(H,M)):(M.next=V.next,H.pending=V.next=M)}}function lW(z,H){var{action:V,payload:A}=H,D=z.state;if(H.isTransition){var M=B0.T,E={};B0.T=E;try{var S=V(D,A),P=B0.S;P!==null&&P(E,S),pW(z,H,S)}catch(d){WO(z,H,d)}finally{B0.T=M}}else try{M=V(D,A),pW(z,H,M)}catch(d){WO(z,H,d)}}function pW(z,H,V){V!==null&&typeof V==="object"&&typeof V.then==="function"?V.then(function(A){iW(z,H,A)},function(A){return WO(z,H,A)}):iW(z,H,V)}function iW(z,H,V){H.status="fulfilled",H.value=V,aW(H),z.state=V,H=z.pending,H!==null&&(V=H.next,V===H?z.pending=null:(V=V.next,H.next=V,lW(z,V)))}function WO(z,H,V){var A=z.pending;if(z.pending=null,A!==null){A=A.next;do H.status="rejected",H.reason=V,aW(H),H=H.next;while(H!==A)}z.action=null}function aW(z){z=z.listeners;for(var H=0;H<z.length;H++)(0,z[H])()}function sW(z,H){return H}function nW(z,H){if(h0){var V=z1.formState;if(V!==null){Z:{var A=w0;if(h0){if(L5){var D=Md(L5,x6);if(D){L5=dF(D),A=Wd(D);break Z}}f6(A)}A=!1}A&&(H=V[0])}}V=u5(),V.memoizedState=V.baseState=H,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sW,lastRenderedState:H},V.queue=A,V=UG.bind(null,w0,A),A.dispatch=V,A=MO(!1);var M=LO.bind(null,w0,!1,A.queue);return A=u5(),D={state:H,dispatch:null,action:z,pending:null},A.queue=D,V=Km.bind(null,w0,D,M,V),D.dispatch=V,A.memoizedState=z,[H,V,!1]}function oW(z){var H=y1();return tW(H,Z1,z)}function tW(z,H,V){H=BO(z,H,sW)[0],z=FX(A4)[0],H=typeof H==="object"&&H!==null&&typeof H.then==="function"?MQ(H):H;var A=y1(),D=A.queue,M=D.dispatch;return V!==A.memoizedState&&(w0.flags|=2048,iZ(9,Xm.bind(null,D,V),{destroy:void 0},null)),[H,M,z]}function Xm(z,H){z.action=H}function rW(z){var H=y1(),V=Z1;if(V!==null)return tW(H,V,z);y1(),H=H.memoizedState,V=y1();var A=V.queue.dispatch;return V.memoizedState=z,[H,A,!1]}function iZ(z,H,V,A){return z={tag:z,create:H,inst:V,deps:A,next:null},H=w0.updateQueue,H===null&&(H=SU(),w0.updateQueue=H),V=H.lastEffect,V===null?H.lastEffect=z.next=z:(A=V.next,V.next=z,z.next=A,H.lastEffect=z),z}function eW(){return y1().memoizedState}function jX(z,H,V,A){var D=u5();w0.flags|=z,D.memoizedState=iZ(1|H,V,{destroy:void 0},A===void 0?null:A)}function wX(z,H,V,A){var D=y1();A=A===void 0?null:A;var M=D.memoizedState.inst;Z1!==null&&A!==null&&VO(A,Z1.memoizedState.deps)?D.memoizedState=iZ(H,V,M,A):(w0.flags|=z,D.memoizedState=iZ(1|H,V,M,A))}function ZG(z,H){jX(8390656,8,z,H)}function GO(z,H){wX(2048,8,z,H)}function JG(z,H){return wX(4,2,z,H)}function QG(z,H){return wX(4,4,z,H)}function qG(z,H){if(typeof H==="function"){z=z();var V=H(z);return function(){typeof V==="function"?V():H(null)}}if(H!==null&&H!==void 0)return z=z(),H.current=z,function(){H.current=null}}function KG(z,H,V){V=V!==null&&V!==void 0?V.concat([z]):null,wX(4,4,qG.bind(null,H,z),V)}function FO(){}function XG(z,H){var V=y1();H=H===void 0?null:H;var A=V.memoizedState;if(H!==null&&VO(H,A[1]))return A[0];return V.memoizedState=[z,H],z}function zG(z,H){var V=y1();H=H===void 0?null:H;var A=V.memoizedState;if(H!==null&&VO(H,A[1]))return A[0];if(A=z(),v9){t(!0);try{z()}finally{t(!1)}}return V.memoizedState=[A,H],A}function jO(z,H,V){if(V===void 0||(F7&1073741824)!==0)return z.memoizedState=H;return z.memoizedState=V,z=QF(),w0.lanes|=z,w7|=z,V}function NG(z,H,V,A){if(_8(V,H))return V;if(OJ.current!==null)return z=jO(z,V,A),_8(z,H)||(t1=!0),z;if((F7&42)===0)return t1=!0,z.memoizedState=V;return z=QF(),w0.lanes|=z,w7|=z,H}function HG(z,H,V,A,D){var M=S9();p5(M!==0&&8>M?M:8);var E=B0.T,S={};B0.T=S,LO(z,!1,H,V);try{var P=D(),d=B0.S;if(d!==null&&d(S,P),P!==null&&typeof P==="object"&&typeof P.then==="function"){var n=Qm(P,A);WQ(z,H,n,$8(z))}else WQ(z,H,A,$8(z))}catch(Q0){WQ(z,H,{then:function(){},status:"rejected",reason:Q0},$8())}finally{p5(M),B0.T=E}}function YG(z){var H=z.memoizedState;if(H!==null)return H;H={memoizedState:eZ,baseState:eZ,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A4,lastRenderedState:eZ},next:null};var V={};return H.next={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A4,lastRenderedState:V},next:null},z.memoizedState=H,z=z.alternate,z!==null&&(z.memoizedState=H),H}function wO(){return F5(b9)}function VG(){return y1().memoizedState}function OG(){return y1().memoizedState}function zm(z){for(var H=z.return;H!==null;){switch(H.tag){case 24:case 3:var V=$8();z=N7(V);var A=H7(H,z,V);A!==null&&(T5(A,H,V),$Q(A,H,V)),H={cache:hO()},z.payload=H;return}H=H.return}}function Nm(z,H,V){var A=$8();V={lane:A,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null},LX(z)?AG(H,V):(V=A6(z,H,V,A),V!==null&&(T5(V,z,A),$G(V,H,A)))}function UG(z,H,V){var A=$8();WQ(z,H,V,A)}function WQ(z,H,V,A){var D={lane:A,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};if(LX(z))AG(H,D);else{var M=z.alternate;if(z.lanes===0&&(M===null||M.lanes===0)&&(M=H.lastRenderedReducer,M!==null))try{var E=H.lastRenderedState,S=M(E,V);if(D.hasEagerState=!0,D.eagerState=S,_8(S,E))return f8(z,H,D,0),z1===null&&v8(),!1}catch(P){}finally{}if(V=A6(z,H,D,A),V!==null)return T5(V,z,A),$G(V,H,A),!0}return!1}function LO(z,H,V,A){if(A={lane:2,revertLane:KO(),action:A,hasEagerState:!1,eagerState:null,next:null},LX(z)){if(H)throw Error(q(479))}else H=A6(z,V,A,2),H!==null&&T5(H,z,2)}function LX(z){var H=z.alternate;return z===w0||H!==null&&H===w0}function AG(z,H){UJ=aX=!0;var V=z.pending;V===null?H.next=H:(H.next=V.next,V.next=H),z.pending=H}function $G(z,H,V){if((V&4194176)!==0){var A=H.lanes;A&=z.pendingLanes,V|=A,H.lanes=V,j0(z,V)}}function CO(z,H,V,A){H=z.memoizedState,V=V(A,H),V=V===null||V===void 0?H:NU({},H,V),z.memoizedState=V,z.lanes===0&&(z.updateQueue.baseState=V)}function DG(z,H,V,A,D,M,E){return z=z.stateNode,typeof z.shouldComponentUpdate==="function"?z.shouldComponentUpdate(A,M,E):H.prototype&&H.prototype.isPureReactComponent?!DX(V,A)||!DX(D,M):!0}function BG(z,H,V,A){z=H.state,typeof H.componentWillReceiveProps==="function"&&H.componentWillReceiveProps(V,A),typeof H.UNSAFE_componentWillReceiveProps==="function"&&H.UNSAFE_componentWillReceiveProps(V,A),H.state!==z&&bU.enqueueReplaceState(H,H.state,null)}function L9(z,H){var V=H;if("ref"in H){V={};for(var A in H)A!=="ref"&&(V[A]=H[A])}if(z=z.defaultProps){V===H&&(V=NU({},V));for(var D in z)V[D]===void 0&&(V[D]=z[D])}return V}function CX(z,H){try{var V=z.onUncaughtError;V(H.value,{componentStack:H.stack})}catch(A){setTimeout(function(){throw A})}}function _G(z,H,V){try{var A=z.onCaughtError;A(V.value,{componentStack:V.stack,errorBoundary:H.tag===1?H.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function RO(z,H,V){return V=N7(V),V.tag=3,V.payload={element:null},V.callback=function(){CX(z,H)},V}function MG(z){return z=N7(z),z.tag=3,z}function WG(z,H,V,A){var D=V.type.getDerivedStateFromError;if(typeof D==="function"){var M=A.value;z.payload=function(){return D(M)},z.callback=function(){_G(H,V,A)}}var E=V.stateNode;E!==null&&typeof E.componentDidCatch==="function"&&(z.callback=function(){_G(H,V,A),typeof D!=="function"&&(L7===null?L7=new Set([this]):L7.add(this));var S=A.stack;this.componentDidCatch(A.value,{componentStack:S!==null?S:""})})}function Hm(z,H,V,A,D){if(V.flags|=32768,A!==null&&typeof A==="object"&&typeof A.then==="function"){if(H=V.alternate,H!==null&&FQ(H,V,D,!0),V=d8.current,V!==null){switch(V.tag){case 13:return g6===null?ZU():V.alternate===null&&L1===0&&(L1=3),V.flags&=-257,V.flags|=65536,V.lanes=D,A===pX?V.flags|=16384:(H=V.updateQueue,H===null?V.updateQueue=new Set([A]):H.add(A),QU(z,A,D)),!1;case 22:return V.flags|=65536,A===pX?V.flags|=16384:(H=V.updateQueue,H===null?(H={transitions:null,markerInstances:null,retryQueue:new Set([A])},V.updateQueue=H):(V=H.retryQueue,V===null?H.retryQueue=new Set([A]):V.add(A)),QU(z,A,D)),!1}throw Error(q(435,V.tag))}return QU(z,A,D),ZU(),!1}if(h0)return H=d8.current,H!==null?((H.flags&65536)===0&&(H.flags|=256),H.flags|=65536,H.lanes=D,A!==wU&&(z=Error(q(422),{cause:A}),V8(W1(z,V)))):(A!==wU&&(H=Error(q(423),{cause:A}),V8(W1(H,V))),z=z.current.alternate,z.flags|=65536,D&=-D,z.lanes|=D,A=W1(A,V),D=RO(z.stateNode,A,D),NO(z,D),L1!==4&&(L1=2)),!1;var M=Error(q(520),{cause:A});if(M=W1(M,V),hQ===null?hQ=[M]:hQ.push(M),L1!==4&&(L1=2),H===null)return!0;A=W1(A,V),V=H;do{switch(V.tag){case 3:return V.flags|=65536,z=D&-D,V.lanes|=z,z=RO(V.stateNode,A,z),NO(V,z),!1;case 1:if(H=V.type,M=V.stateNode,(V.flags&128)===0&&(typeof H.getDerivedStateFromError==="function"||M!==null&&typeof M.componentDidCatch==="function"&&(L7===null||!L7.has(M))))return V.flags|=65536,D&=-D,V.lanes|=D,D=MG(D),WG(D,z,V,A),NO(V,D),!1}V=V.return}while(V!==null);return!1}function Y5(z,H,V,A){H.child=z===null?Jj(H,null,V,A):P9(H,z.child,V,A)}function GG(z,H,V,A,D){V=V.render;var M=H.ref;if("ref"in A){var E={};for(var S in A)S!=="ref"&&(E[S]=A[S])}else E=A;if(C9(H),A=OO(z,H,V,E,M,D),S=UO(),z!==null&&!t1)return AO(z,H,D),$4(z,H,D);return h0&&S&&k8(H),H.flags|=1,Y5(z,H,A,D),H.child}function FG(z,H,V,A,D){if(z===null){var M=V.type;if(typeof M==="function"&&!qU(M)&&M.defaultProps===void 0&&V.compare===null)return H.tag=15,H.type=M,jG(z,H,M,A,D);return z=PX(V.type,null,A,H,H.mode,D),z.ref=H.ref,z.return=H,H.child=z}if(M=z.child,!vO(z,D)){var E=M.memoizedProps;if(V=V.compare,V=V!==null?V:DX,V(E,A)&&z.ref===H.ref)return $4(z,H,D)}return H.flags|=1,z=D7(M,A),z.ref=H.ref,z.return=H,H.child=z}function jG(z,H,V,A,D){if(z!==null){var M=z.memoizedProps;if(DX(M,A)&&z.ref===H.ref)if(t1=!1,H.pendingProps=A=M,vO(z,D))(z.flags&131072)!==0&&(t1=!0);else return H.lanes=z.lanes,$4(z,H,D)}return EO(z,H,V,A,D)}function wG(z,H,V){var A=H.pendingProps,D=A.children,M=(H.stateNode._pendingVisibility&2)!==0,E=z!==null?z.memoizedState:null;if(GQ(z,H),A.mode==="hidden"||M){if((H.flags&128)!==0){if(A=E!==null?E.baseLanes|V:V,z!==null){D=H.child=z.child;for(M=0;D!==null;)M=M|D.lanes|D.childLanes,D=D.sibling;H.childLanes=M&~A}else H.childLanes=0,H.child=null;return LG(z,H,A,V)}if((V&536870912)!==0)H.memoizedState={baseLanes:0,cachePool:null},z!==null&&IX(H,E!==null?E.cachePool:null),E!==null?PW(H,E):HO(),vW(H);else return H.lanes=H.childLanes=536870912,LG(z,H,E!==null?E.baseLanes|V:V,V)}else E!==null?(IX(H,E.cachePool),PW(H,E),V7(H),H.memoizedState=null):(z!==null&&IX(H,null),HO(),V7(H));return Y5(z,H,D,V),H.child}function LG(z,H,V,A){var D=xO();return D=D===null?null:{parent:M4?j1._currentValue:j1._currentValue2,pool:D},H.memoizedState={baseLanes:V,cachePool:D},z!==null&&IX(H,null),HO(),vW(H),z!==null&&FQ(z,H,A,!0),null}function GQ(z,H){var V=H.ref;if(V===null)z!==null&&z.ref!==null&&(H.flags|=2097664);else{if(typeof V!=="function"&&typeof V!=="object")throw Error(q(284));if(z===null||z.ref!==V)H.flags|=2097664}}function EO(z,H,V,A,D){if(C9(H),V=OO(z,H,V,A,void 0,D),A=UO(),z!==null&&!t1)return AO(z,H,D),$4(z,H,D);return h0&&A&&k8(H),H.flags|=1,Y5(z,H,V,D),H.child}function CG(z,H,V,A,D,M){if(C9(H),H.updateQueue=null,V=yW(H,A,V,D),fW(z),A=UO(),z!==null&&!t1)return AO(z,H,M),$4(z,H,M);return h0&&A&&k8(H),H.flags|=1,Y5(z,H,V,M),H.child}function RG(z,H,V,A,D){if(C9(H),H.stateNode===null){var M=JJ,E=V.contextType;typeof E==="object"&&E!==null&&(M=F5(E)),M=new V(A,M),H.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=bU,H.stateNode=M,M._reactInternals=H,M=H.stateNode,M.props=A,M.state=H.memoizedState,M.refs={},XO(H),E=V.contextType,M.context=typeof E==="object"&&E!==null?F5(E):JJ,M.state=H.memoizedState,E=V.getDerivedStateFromProps,typeof E==="function"&&(CO(H,V,E,A),M.state=H.memoizedState),typeof V.getDerivedStateFromProps==="function"||typeof M.getSnapshotBeforeUpdate==="function"||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(E=M.state,typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount(),E!==M.state&&bU.enqueueReplaceState(M,M.state,null),BQ(H,A,M,D),DQ(),M.state=H.memoizedState),typeof M.componentDidMount==="function"&&(H.flags|=4194308),A=!0}else if(z===null){M=H.stateNode;var S=H.memoizedProps,P=L9(V,S);M.props=P;var d=M.context,n=V.contextType;E=JJ,typeof n==="object"&&n!==null&&(E=F5(n));var Q0=V.getDerivedStateFromProps;n=typeof Q0==="function"||typeof M.getSnapshotBeforeUpdate==="function",S=H.pendingProps!==S,n||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(S||d!==E)&&BG(H,M,A,E),G7=!1;var X0=H.memoizedState;M.state=X0,BQ(H,A,M,D),DQ(),d=H.memoizedState,S||X0!==d||G7?(typeof Q0==="function"&&(CO(H,V,Q0,A),d=H.memoizedState),(P=G7||DG(H,V,P,A,X0,d,E))?(n||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount==="function"&&(H.flags|=4194308)):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),H.memoizedProps=A,H.memoizedState=d),M.props=A,M.state=d,M.context=E,A=P):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),A=!1)}else{M=H.stateNode,zO(z,H),E=H.memoizedProps,n=L9(V,E),M.props=n,Q0=H.pendingProps,X0=M.context,d=V.contextType,P=JJ,typeof d==="object"&&d!==null&&(P=F5(d)),S=V.getDerivedStateFromProps,(d=typeof S==="function"||typeof M.getSnapshotBeforeUpdate==="function")||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(E!==Q0||X0!==P)&&BG(H,M,A,P),G7=!1,X0=H.memoizedState,M.state=X0,BQ(H,A,M,D),DQ();var M0=H.memoizedState;E!==Q0||X0!==M0||G7||z!==null&&z.dependencies!==null&&RX(z.dependencies)?(typeof S==="function"&&(CO(H,V,S,A),M0=H.memoizedState),(n=G7||DG(H,V,n,A,X0,M0,P)||z!==null&&z.dependencies!==null&&RX(z.dependencies))?(d||typeof M.UNSAFE_componentWillUpdate!=="function"&&typeof M.componentWillUpdate!=="function"||(typeof M.componentWillUpdate==="function"&&M.componentWillUpdate(A,M0,P),typeof M.UNSAFE_componentWillUpdate==="function"&&M.UNSAFE_componentWillUpdate(A,M0,P)),typeof M.componentDidUpdate==="function"&&(H.flags|=4),typeof M.getSnapshotBeforeUpdate==="function"&&(H.flags|=1024)):(typeof M.componentDidUpdate!=="function"||E===z.memoizedProps&&X0===z.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===z.memoizedProps&&X0===z.memoizedState||(H.flags|=1024),H.memoizedProps=A,H.memoizedState=M0),M.props=A,M.state=M0,M.context=P,A=n):(typeof M.componentDidUpdate!=="function"||E===z.memoizedProps&&X0===z.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===z.memoizedProps&&X0===z.memoizedState||(H.flags|=1024),A=!1)}return M=A,GQ(z,H),A=(H.flags&128)!==0,M||A?(M=H.stateNode,V=A&&typeof V.getDerivedStateFromError!=="function"?null:M.render(),H.flags|=1,z!==null&&A?(H.child=P9(H,z.child,null,D),H.child=P9(H,null,V,D)):Y5(z,H,V,D),H.memoizedState=M.state,z=H.child):z=$4(z,H,D),z}function EG(z,H,V,A){return O4(),H.flags|=256,Y5(z,H,V,A),H.child}function IO(z){return{baseLanes:z,cachePool:PG()}}function TO(z,H,V){return z=z!==null?z.childLanes&~V:0,H&&(z|=c8),z}function IG(z,H,V){var A=H.pendingProps,D=!1,M=(H.flags&128)!==0,E;if((E=M)||(E=z!==null&&z.memoizedState===null?!1:(i1.current&2)!==0),E&&(D=!0,H.flags&=-129),E=(H.flags&32)!==0,H.flags&=-33,z===null){if(h0){if(D?Y7(H):V7(H),h0){var S=L5,P;if(P=S)S=Ld(S,x6),S!==null?(H.memoizedState={dehydrated:S,treeContext:k9!==null?{id:W4,overflow:G4}:null,retryLane:536870912},P=J(18,null,null,0),P.stateNode=S,P.return=H,H.child=P,S5=H,L5=null,P=!0):P=!1;P||f6(H)}if(S=H.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return MU(S)?H.lanes=16:H.lanes=536870912,null;U4(H)}if(S=A.children,A=A.fallback,D)return V7(H),D=H.mode,S=bO({mode:"hidden",children:S},D),A=T9(A,D,V,null),S.return=H,A.return=H,S.sibling=A,H.child=S,D=H.child,D.memoizedState=IO(V),D.childLanes=TO(z,E,V),H.memoizedState=kU,A;return Y7(H),SO(H,S)}if(P=z.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(M)H.flags&256?(Y7(H),H.flags&=-257,H=kO(z,H,V)):H.memoizedState!==null?(V7(H),H.child=z.child,H.flags|=128,H=null):(V7(H),D=A.fallback,S=H.mode,A=bO({mode:"visible",children:A.children},S),D=T9(D,S,V,null),D.flags|=2,A.return=H,D.return=H,A.sibling=D,H.child=A,P9(H,z.child,null,V),A=H.child,A.memoizedState=IO(V),A.childLanes=TO(z,E,V),H.memoizedState=kU,H=D);else if(Y7(H),MU(S))E=Bd(S).digest,A=Error(q(419)),A.stack="",A.digest=E,V8({value:A,source:null,stack:null}),H=kO(z,H,V);else if(t1||FQ(z,H,V,!1),E=(V&z.childLanes)!==0,t1||E){if(E=z1,E!==null){if(A=V&-V,(A&42)!==0)A=1;else switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=64;break;case 268435456:A=134217728;break;default:A=0}if(A=(A&(E.suspendedLanes|V))!==0?0:A,A!==0&&A!==P.retryLane)throw P.retryLane=A,h6(z,A),T5(E,z,A),qj}_U(S)||ZU(),H=kO(z,H,V)}else _U(S)?(H.flags|=128,H.child=z.child,H=Gm.bind(null,z),_d(S,H),H=null):(z=P.treeContext,y8&&(L5=Fd(S),S5=H,h0=!0,_6=null,x6=!1,z!==null&&(x8[g8++]=W4,x8[g8++]=G4,x8[g8++]=k9,W4=z.id,G4=z.overflow,k9=H)),H=SO(H,A.children),H.flags|=4096);return H}if(D)return V7(H),D=A.fallback,S=H.mode,P=z.child,M=P.sibling,A=D7(P,{mode:"hidden",children:A.children}),A.subtreeFlags=P.subtreeFlags&31457280,M!==null?D=D7(M,D):(D=T9(D,S,V,null),D.flags|=2),D.return=H,A.return=H,A.sibling=D,H.child=A,A=D,D=H.child,S=z.child.memoizedState,S===null?S=IO(V):(P=S.cachePool,P!==null?(M=M4?j1._currentValue:j1._currentValue2,P=P.parent!==M?{parent:M,pool:M}:P):P=PG(),S={baseLanes:S.baseLanes|V,cachePool:P}),D.memoizedState=S,D.childLanes=TO(z,E,V),H.memoizedState=kU,A;return Y7(H),V=z.child,z=V.sibling,V=D7(V,{mode:"visible",children:A.children}),V.return=H,V.sibling=null,z!==null&&(E=H.deletions,E===null?(H.deletions=[z],H.flags|=16):E.push(z)),H.child=V,H.memoizedState=null,V}function SO(z,H){return H=bO({mode:"visible",children:H},z.mode),H.return=z,z.child=H}function bO(z,H){return MF(z,H,0,null)}function kO(z,H,V){return P9(H,z.child,null,V),z=SO(H,H.pendingProps.children),z.flags|=2,H.memoizedState=null,z}function TG(z,H,V){z.lanes|=H;var A=z.alternate;A!==null&&(A.lanes|=H),fO(z.return,H,V)}function PO(z,H,V,A,D){var M=z.memoizedState;M===null?z.memoizedState={isBackwards:H,rendering:null,renderingStartTime:0,last:A,tail:V,tailMode:D}:(M.isBackwards=H,M.rendering=null,M.renderingStartTime=0,M.last=A,M.tail=V,M.tailMode=D)}function SG(z,H,V){var A=H.pendingProps,D=A.revealOrder,M=A.tail;if(Y5(z,H,A.children,V),A=i1.current,(A&2)!==0)A=A&1|2,H.flags|=128;else{if(z!==null&&(z.flags&128)!==0)Z:for(z=H.child;z!==null;){if(z.tag===13)z.memoizedState!==null&&TG(z,V,H);else if(z.tag===19)TG(z,V,H);else if(z.child!==null){z.child.return=z,z=z.child;continue}if(z===H)break Z;for(;z.sibling===null;){if(z.return===null||z.return===H)break Z;z=z.return}z.sibling.return=z.return,z=z.sibling}A&=1}switch(G(i1,A),D){case"forwards":V=H.child;for(D=null;V!==null;)z=V.alternate,z!==null&&WX(z)===null&&(D=V),V=V.sibling;V=D,V===null?(D=H.child,H.child=null):(D=V.sibling,V.sibling=null),PO(H,!1,D,V,M);break;case"backwards":V=null,D=H.child;for(H.child=null;D!==null;){if(z=D.alternate,z!==null&&WX(z)===null){H.child=D;break}z=D.sibling,D.sibling=V,V=D,D=z}PO(H,!0,V,null,M);break;case"together":PO(H,!1,null,null,void 0);break;default:H.memoizedState=null}return H.child}function $4(z,H,V){if(z!==null&&(H.dependencies=z.dependencies),w7|=H.lanes,(V&H.childLanes)===0)if(z!==null){if(FQ(z,H,V,!1),(V&H.childLanes)===0)return null}else return null;if(z!==null&&H.child!==z.child)throw Error(q(153));if(H.child!==null){z=H.child,V=D7(z,z.pendingProps),H.child=V;for(V.return=H;z.sibling!==null;)z=z.sibling,V=V.sibling=D7(z,z.pendingProps),V.return=H;V.sibling=null}return H.child}function vO(z,H){if((z.lanes&H)!==0)return!0;return z=z.dependencies,z!==null&&RX(z)?!0:!1}function Ym(z,H,V){switch(H.tag){case 3:H8(H,H.stateNode.containerInfo),O7(H,j1,z.memoizedState.cache),O4();break;case 27:case 5:G5(H);break;case 4:H8(H,H.stateNode.containerInfo);break;case 10:O7(H,H.type,H.memoizedProps.value);break;case 13:var A=H.memoizedState;if(A!==null){if(A.dehydrated!==null)return Y7(H),H.flags|=128,null;if((V&H.child.childLanes)!==0)return IG(z,H,V);return Y7(H),z=$4(z,H,V),z!==null?z.sibling:null}Y7(H);break;case 19:var D=(z.flags&128)!==0;if(A=(V&H.childLanes)!==0,A||(FQ(z,H,V,!1),A=(V&H.childLanes)!==0),D){if(A)return SG(z,H,V);H.flags|=128}if(D=H.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),G(i1,i1.current),A)break;else return null;case 22:case 23:return H.lanes=0,wG(z,H,V);case 24:O7(H,j1,z.memoizedState.cache)}return $4(z,H,V)}function bG(z,H,V){if(z!==null)if(z.memoizedProps!==H.pendingProps)t1=!0;else{if(!vO(z,V)&&(H.flags&128)===0)return t1=!1,Ym(z,H,V);t1=(z.flags&131072)!==0?!0:!1}else t1=!1,h0&&(H.flags&1048576)!==0&&c5(H,dX,H.index);switch(H.lanes=0,H.tag){case 16:Z:{z=H.pendingProps;var A=H.elementType,D=A._init;if(A=D(A._payload),H.type=A,typeof A==="function")qU(A)?(z=L9(A,z),H.tag=1,H=RG(null,H,A,z,V)):(H.tag=0,H=EO(null,H,A,z,V));else{if(A!==void 0&&A!==null){if(D=A.$$typeof,D===YU){H.tag=11,H=GG(null,H,A,z,V);break Z}else if(D===UU){H.tag=14,H=FG(null,H,A,z,V);break Z}}throw H=X(A)||A,Error(q(306,H,""))}}return H;case 0:return EO(z,H,H.type,H.pendingProps,V);case 1:return A=H.type,D=L9(A,H.pendingProps),RG(z,H,A,D,V);case 3:Z:{if(H8(H,H.stateNode.containerInfo),z===null)throw Error(q(387));var M=H.pendingProps;D=H.memoizedState,A=D.element,zO(z,H),BQ(H,M,null,V);var E=H.memoizedState;if(M=E.cache,O7(H,j1,M),M!==D.cache&&yO(H,[j1],V,!0),DQ(),M=E.element,y8&&D.isDehydrated)if(D={element:M,isDehydrated:!1,cache:E.cache},H.updateQueue.baseState=D,H.memoizedState=D,H.flags&256){H=EG(z,H,M,V);break Z}else if(M!==A){A=W1(Error(q(424)),H),V8(A),H=EG(z,H,M,V);break Z}else for(y8&&(L5=Gd(H.stateNode.containerInfo),S5=H,h0=!0,_6=null,x6=!0),V=Jj(H,null,M,V),H.child=V;V;)V.flags=V.flags&-3|4096,V=V.sibling;else{if(O4(),M===A){H=$4(z,H,V);break Z}Y5(z,H,M,V)}H=H.child}return H;case 26:if(h8)return GQ(z,H),z===null?(V=pF(H.type,null,H.pendingProps,null))?H.memoizedState=V:h0||(H.stateNode=yd(H.type,H.pendingProps,W7.current,H)):H.memoizedState=pF(H.type,z.memoizedProps,H.pendingProps,z.memoizedState),null;case 27:if(w5)return G5(H),z===null&&w5&&h0&&(A=H.stateNode=tF(H.type,H.pendingProps,W7.current,V5.current,!1),S5=H,x6=!0,L5=cF(A)),A=H.pendingProps.children,z!==null||h0?Y5(z,H,A,V):H.child=P9(H,null,A,V),GQ(z,H),H.child;case 5:if(z===null&&h0){if(Pd(H.type,H.pendingProps,V5.current),D=A=L5)A=jd(A,H.type,H.pendingProps,x6),A!==null?(H.stateNode=A,S5=H,L5=cF(A),x6=!1,D=!0):D=!1;D||f6(H)}return G5(H),D=H.type,M=H.pendingProps,E=z!==null?z.memoizedProps:null,A=M.children,yX(D,M)?A=null:E!==null&&yX(D,E)&&(H.flags|=32),H.memoizedState!==null&&(D=OO(z,H,qm,null,null,V),M4?b9._currentValue=D:b9._currentValue2=D),GQ(z,H),Y5(z,H,A,V),H.child;case 6:if(z===null&&h0){if(vd(H.pendingProps,V5.current),z=V=L5)V=wd(V,H.pendingProps,x6),V!==null?(H.stateNode=V,S5=H,L5=null,z=!0):z=!1;z||f6(H)}return null;case 13:return IG(z,H,V);case 4:return H8(H,H.stateNode.containerInfo),A=H.pendingProps,z===null?H.child=P9(H,null,A,V):Y5(z,H,A,V),H.child;case 11:return GG(z,H,H.type,H.pendingProps,V);case 7:return Y5(z,H,H.pendingProps,V),H.child;case 8:return Y5(z,H,H.pendingProps.children,V),H.child;case 12:return Y5(z,H,H.pendingProps.children,V),H.child;case 10:return A=H.pendingProps,O7(H,H.type,A.value),Y5(z,H,A.children,V),H.child;case 9:return D=H.type._context,A=H.pendingProps.children,C9(H),D=F5(D),A=A(D),H.flags|=1,Y5(z,H,A,V),H.child;case 14:return FG(z,H,H.type,H.pendingProps,V);case 15:return jG(z,H,H.type,H.pendingProps,V);case 19:return SG(z,H,V);case 22:return wG(z,H,V);case 24:return C9(H),A=F5(j1),z===null?(D=xO(),D===null&&(D=z1,M=hO(),D.pooledCache=M,M.refCount++,M!==null&&(D.pooledCacheLanes|=V),D=M),H.memoizedState={parent:A,cache:D},XO(H),O7(H,j1,D)):((z.lanes&V)!==0&&(zO(z,H),BQ(H,null,null,V),DQ()),D=z.memoizedState,M=H.memoizedState,D.parent!==A?(D={parent:A,cache:A},H.memoizedState=D,H.lanes===0&&(H.memoizedState=H.updateQueue.baseState=D),O7(H,j1,A)):(A=M.cache,O7(H,j1,A),A!==D.cache&&yO(H,[j1],V,!0))),Y5(z,H,H.pendingProps.children,V),H.child;case 29:throw H.pendingProps}throw Error(q(156,H.tag))}function O7(z,H,V){M4?(G(nX,H._currentValue),H._currentValue=V):(G(nX,H._currentValue2),H._currentValue2=V)}function D4(z){var H=nX.current;M4?z._currentValue=H:z._currentValue2=H,R(nX)}function fO(z,H,V){for(;z!==null;){var A=z.alternate;if((z.childLanes&H)!==H?(z.childLanes|=H,A!==null&&(A.childLanes|=H)):A!==null&&(A.childLanes&H)!==H&&(A.childLanes|=H),z===V)break;z=z.return}}function yO(z,H,V,A){var D=z.child;D!==null&&(D.return=z);for(;D!==null;){var M=D.dependencies;if(M!==null){var E=D.child;M=M.firstContext;Z:for(;M!==null;){var S=M;M=D;for(var P=0;P<H.length;P++)if(S.context===H[P]){M.lanes|=V,S=M.alternate,S!==null&&(S.lanes|=V),fO(M.return,V,z),A||(E=null);break Z}M=S.next}}else if(D.tag===18){if(E=D.return,E===null)throw Error(q(341));E.lanes|=V,M=E.alternate,M!==null&&(M.lanes|=V),fO(E,V,z),E=null}else E=D.child;if(E!==null)E.return=D;else for(E=D;E!==null;){if(E===z){E=null;break}if(D=E.sibling,D!==null){D.return=E.return,E=D;break}E=E.return}D=E}}function FQ(z,H,V,A){z=null;for(var D=H,M=!1;D!==null;){if(!M){if((D.flags&524288)!==0)M=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var E=D.alternate;if(E===null)throw Error(q(387));if(E=E.memoizedProps,E!==null){var S=D.type;_8(D.pendingProps.value,E.value)||(z!==null?z.push(S):z=[S])}}else if(D===cX.current){if(E=D.alternate,E===null)throw Error(q(387));E.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(z!==null?z.push(b9):z=[b9])}D=D.return}z!==null&&yO(H,z,V,A),H.flags|=262144}function RX(z){for(z=z.firstContext;z!==null;){var H=z.context;if(!_8(M4?H._currentValue:H._currentValue2,z.memoizedValue))return!0;z=z.next}return!1}function C9(z){h9=z,F4=null,z=z.dependencies,z!==null&&(z.firstContext=null)}function F5(z){return kG(h9,z)}function EX(z,H){return h9===null&&C9(z),kG(z,H)}function kG(z,H){var V=M4?H._currentValue:H._currentValue2;if(H={context:H,memoizedValue:V,next:null},F4===null){if(z===null)throw Error(q(308));F4=H,z.dependencies={lanes:0,firstContext:H},z.flags|=524288}else F4=F4.next=H;return V}function hO(){return{controller:new ed,data:new Map,refCount:0}}function jQ(z){z.refCount--,z.refCount===0&&Zc(Jc,function(){z.controller.abort()})}function xO(){var z=x9.current;return z!==null?z:z1.pooledCache}function IX(z,H){H===null?G(x9,x9.current):G(x9,H.pool)}function PG(){var z=xO();return z===null?null:{parent:M4?j1._currentValue:j1._currentValue2,pool:z}}function O8(z){z.flags|=4}function vG(z,H){if(z!==null&&z.child===H.child)return!1;if((H.flags&16)!==0)return!0;for(z=H.child;z!==null;){if((z.flags&13878)!==0||(z.subtreeFlags&13878)!==0)return!0;z=z.sibling}return!1}function gO(z,H,V,A){if(j5)for(V=H.child;V!==null;){if(V.tag===5||V.tag===6)DU(z,V.stateNode);else if(!(V.tag===4||w5&&V.tag===27)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===H)break;for(;V.sibling===null;){if(V.return===null||V.return===H)return;V=V.return}V.sibling.return=V.return,V=V.sibling}else if(M7)for(var D=H.child;D!==null;){if(D.tag===5){var M=D.stateNode;V&&A&&(M=gF(M,D.type,D.memoizedProps)),DU(z,M)}else if(D.tag===6)M=D.stateNode,V&&A&&(M=mF(M,D.memoizedProps)),DU(z,M);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)M=D.child,M!==null&&(M.return=D),gO(z,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===H)break;for(;D.sibling===null;){if(D.return===null||D.return===H)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function fG(z,H,V,A){if(M7)for(var D=H.child;D!==null;){if(D.tag===5){var M=D.stateNode;V&&A&&(M=gF(M,D.type,D.memoizedProps)),hF(z,M)}else if(D.tag===6)M=D.stateNode,V&&A&&(M=mF(M,D.memoizedProps)),hF(z,M);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)M=D.child,M!==null&&(M.return=D),fG(z,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===H)break;for(;D.sibling===null;){if(D.return===null||D.return===H)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function yG(z,H){if(M7&&vG(z,H)){z=H.stateNode;var V=z.containerInfo,A=yF();fG(A,H,!1,!1),z.pendingChildren=A,O8(H),Dd(V,A)}}function mO(z,H,V,A){if(j5)z.memoizedProps!==A&&O8(H);else if(M7){var{stateNode:D,memoizedProps:M}=z;if((z=vG(z,H))||M!==A){var E=V5.current;M=$d(D,V,M,A,!z,null),M===D?H.stateNode=D:(SF(M,V,A,E)&&O8(H),H.stateNode=M,z?gO(M,H,!1,!1):O8(H))}else H.stateNode=D}}function dO(z,H,V){if(cm(H,V)){if(z.flags|=16777216,!PF(H,V))if(NF())z.flags|=8192;else throw YJ=pX,TU}else z.flags&=-16777217}function hG(z,H){if(xd(H)){if(z.flags|=16777216,!oF(H))if(NF())z.flags|=8192;else throw YJ=pX,TU}else z.flags&=-16777217}function TX(z,H){H!==null&&(z.flags|=4),z.flags&16384&&(H=z.tag!==22?m():536870912,z.lanes|=H,BJ|=H)}function wQ(z,H){if(!h0)switch(z.tailMode){case"hidden":H=z.tail;for(var V=null;H!==null;)H.alternate!==null&&(V=H),H=H.sibling;V===null?z.tail=null:V.sibling=null;break;case"collapsed":V=z.tail;for(var A=null;V!==null;)V.alternate!==null&&(A=V),V=V.sibling;A===null?H||z.tail===null?z.tail=null:z.tail.sibling=null:A.sibling=null}}function G1(z){var H=z.alternate!==null&&z.alternate.child===z.child,V=0,A=0;if(H)for(var D=z.child;D!==null;)V|=D.lanes|D.childLanes,A|=D.subtreeFlags&31457280,A|=D.flags&31457280,D.return=z,D=D.sibling;else for(D=z.child;D!==null;)V|=D.lanes|D.childLanes,A|=D.subtreeFlags,A|=D.flags,D.return=z,D=D.sibling;return z.subtreeFlags|=A,z.childLanes=V,H}function Vm(z,H,V){var A=H.pendingProps;switch(P8(H),H.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return G1(H),null;case 1:return G1(H),null;case 3:if(V=H.stateNode,A=null,z!==null&&(A=z.memoizedState.cache),H.memoizedState.cache!==A&&(H.flags|=2048),D4(j1),U6(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),z===null||z.child===null)y6(H)?O8(H):z===null||z.memoizedState.isDehydrated&&(H.flags&256)===0||(H.flags|=1024,_6!==null&&(rO(_6),_6=null));return yG(z,H),G1(H),null;case 26:if(h8){V=H.type;var D=H.memoizedState;return z===null?(O8(H),D!==null?(G1(H),hG(H,D)):(G1(H),dO(H,V,A))):D?D!==z.memoizedState?(O8(H),G1(H),hG(H,D)):(G1(H),H.flags&=-16777217):(j5?z.memoizedProps!==A&&O8(H):mO(z,H,V,A),G1(H),dO(H,V,A)),null}case 27:if(w5){if(Y8(H),V=W7.current,D=H.type,z!==null&&H.stateNode!=null)j5?z.memoizedProps!==A&&O8(H):mO(z,H,D,A);else{if(!A){if(H.stateNode===null)throw Error(q(166));return G1(H),null}z=V5.current,y6(H)?UQ(H,z):(z=tF(D,A,V,z,!0),H.stateNode=z,O8(H))}return G1(H),null}case 5:if(Y8(H),V=H.type,z!==null&&H.stateNode!=null)mO(z,H,V,A);else{if(!A){if(H.stateNode===null)throw Error(q(166));return G1(H),null}z=V5.current,y6(H)?UQ(H,z):(D=fm(V,A,W7.current,z,H),gO(D,H,!1,!1),H.stateNode=D,SF(D,V,A,z)&&O8(H))}return G1(H),dO(H,H.type,H.pendingProps),null;case 6:if(z&&H.stateNode!=null)V=z.memoizedProps,j5?V!==A&&O8(H):M7&&(V!==A?(H.stateNode=bF(A,W7.current,V5.current,H),O8(H)):H.stateNode=z.stateNode);else{if(typeof A!=="string"&&H.stateNode===null)throw Error(q(166));if(z=W7.current,V=V5.current,y6(H)){if(!y8)throw Error(q(176));if(z=H.stateNode,V=H.memoizedProps,A=null,D=S5,D!==null)switch(D.tag){case 27:case 5:A=D.memoizedProps}Rd(z,V,H,A)||f6(H)}else H.stateNode=bF(A,z,V,H)}return G1(H),null;case 13:if(A=H.memoizedState,z===null||z.memoizedState!==null&&z.memoizedState.dehydrated!==null){if(D=y6(H),A!==null&&A.dehydrated!==null){if(z===null){if(!D)throw Error(q(318));if(!y8)throw Error(q(344));if(D=H.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(q(317));Ed(D,H)}else O4(),(H.flags&128)===0&&(H.memoizedState=null),H.flags|=4;G1(H),D=!1}else _6!==null&&(rO(_6),_6=null),D=!0;if(!D){if(H.flags&256)return U4(H),H;return U4(H),null}}if(U4(H),(H.flags&128)!==0)return H.lanes=V,H;if(V=A!==null,z=z!==null&&z.memoizedState!==null,V){A=H.child,D=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(D=A.alternate.memoizedState.cachePool.pool);var M=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(M=A.memoizedState.cachePool.pool),M!==D&&(A.flags|=2048)}return V!==z&&V&&(H.child.flags|=8192),TX(H,H.updateQueue),G1(H),null;case 4:return U6(),yG(z,H),z===null&&xm(H.stateNode.containerInfo),G1(H),null;case 10:return D4(H.type),G1(H),null;case 19:if(R(i1),D=H.memoizedState,D===null)return G1(H),null;if(A=(H.flags&128)!==0,M=D.rendering,M===null)if(A)wQ(D,!1);else{if(L1!==0||z!==null&&(z.flags&128)!==0)for(z=H.child;z!==null;){if(M=WX(z),M!==null){H.flags|=128,wQ(D,!1),z=M.updateQueue,H.updateQueue=z,TX(H,z),H.subtreeFlags=0,z=V;for(V=H.child;V!==null;)_F(V,z),V=V.sibling;return G(i1,i1.current&1|2),H.child}z=z.sibling}D.tail!==null&&B6()>xQ&&(H.flags|=128,A=!0,wQ(D,!1),H.lanes=4194304)}else{if(!A)if(z=WX(M),z!==null){if(H.flags|=128,A=!0,z=z.updateQueue,H.updateQueue=z,TX(H,z),wQ(D,!0),D.tail===null&&D.tailMode==="hidden"&&!M.alternate&&!h0)return G1(H),null}else 2*B6()-D.renderingStartTime>xQ&&V!==536870912&&(H.flags|=128,A=!0,wQ(D,!1),H.lanes=4194304);D.isBackwards?(M.sibling=H.child,H.child=M):(z=D.last,z!==null?z.sibling=M:H.child=M,D.last=M)}if(D.tail!==null)return H=D.tail,D.rendering=H,D.tail=H.sibling,D.renderingStartTime=B6(),H.sibling=null,z=i1.current,G(i1,A?z&1|2:z&1),H;return G1(H),null;case 22:case 23:return U4(H),YO(),A=H.memoizedState!==null,z!==null?z.memoizedState!==null!==A&&(H.flags|=8192):A&&(H.flags|=8192),A?(V&536870912)!==0&&(H.flags&128)===0&&(G1(H),H.subtreeFlags&6&&(H.flags|=8192)):G1(H),V=H.updateQueue,V!==null&&TX(H,V.retryQueue),V=null,z!==null&&z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(V=z.memoizedState.cachePool.pool),A=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(A=H.memoizedState.cachePool.pool),A!==V&&(H.flags|=2048),z!==null&&R(x9),null;case 24:return V=null,z!==null&&(V=z.memoizedState.cache),H.memoizedState.cache!==V&&(H.flags|=2048),D4(j1),G1(H),null;case 25:return null}throw Error(q(156,H.tag))}function Om(z,H){switch(P8(H),H.tag){case 1:return z=H.flags,z&65536?(H.flags=z&-65537|128,H):null;case 3:return D4(j1),U6(),z=H.flags,(z&65536)!==0&&(z&128)===0?(H.flags=z&-65537|128,H):null;case 26:case 27:case 5:return Y8(H),null;case 13:if(U4(H),z=H.memoizedState,z!==null&&z.dehydrated!==null){if(H.alternate===null)throw Error(q(340));O4()}return z=H.flags,z&65536?(H.flags=z&-65537|128,H):null;case 19:return R(i1),null;case 4:return U6(),null;case 10:return D4(H.type),null;case 22:case 23:return U4(H),YO(),z!==null&&R(x9),z=H.flags,z&65536?(H.flags=z&-65537|128,H):null;case 24:return D4(j1),null;case 25:return null;default:return null}}function xG(z,H){switch(P8(H),H.tag){case 3:D4(j1),U6();break;case 26:case 27:case 5:Y8(H);break;case 4:U6();break;case 13:U4(H);break;case 19:R(i1);break;case 10:D4(H.type);break;case 22:case 23:U4(H),YO(),z!==null&&R(x9);break;case 24:D4(j1)}}function LQ(z,H){try{var V=H.updateQueue,A=V!==null?V.lastEffect:null;if(A!==null){var D=A.next;V=D;do{if((V.tag&z)===z){A=void 0;var{create:M,inst:E}=V;A=M(),E.destroy=A}V=V.next}while(V!==D)}}catch(S){s0(H,H.return,S)}}function U7(z,H,V){try{var A=H.updateQueue,D=A!==null?A.lastEffect:null;if(D!==null){var M=D.next;A=M;do{if((A.tag&z)===z){var E=A.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,D=H;var P=V;try{S()}catch(d){s0(D,P,d)}}}A=A.next}while(A!==M)}}catch(d){s0(H,H.return,d)}}function gG(z){var H=z.updateQueue;if(H!==null){var V=z.stateNode;try{EW(H,V)}catch(A){s0(z,z.return,A)}}}function mG(z,H,V){V.props=L9(z.type,z.memoizedProps),V.state=z.memoizedState;try{V.componentWillUnmount()}catch(A){s0(z,H,A)}}function R9(z,H){try{var V=z.ref;if(V!==null){var A=z.stateNode;switch(z.tag){case 26:case 27:case 5:var D=EQ(A);break;default:D=A}typeof V==="function"?z.refCleanup=V(D):V.current=D}}catch(M){s0(z,H,M)}}function U8(z,H){var{ref:V,refCleanup:A}=z;if(V!==null)if(typeof A==="function")try{A()}catch(D){s0(z,H,D)}finally{z.refCleanup=null,z=z.alternate,z!=null&&(z.refCleanup=null)}else if(typeof V==="function")try{V(null)}catch(D){s0(z,H,D)}else V.current=null}function dG(z){var{type:H,memoizedProps:V,stateNode:A}=z;try{qd(A,H,V,z)}catch(D){s0(z,z.return,D)}}function cG(z,H,V){try{Kd(z.stateNode,z.type,V,H,z)}catch(A){s0(z,z.return,A)}}function uG(z){return z.tag===5||z.tag===3||(h8?z.tag===26:!1)||(w5?z.tag===27:!1)||z.tag===4}function cO(z){Z:for(;;){for(;z.sibling===null;){if(z.return===null||uG(z.return))return null;z=z.return}z.sibling.return=z.return;for(z=z.sibling;z.tag!==5&&z.tag!==6&&(w5?z.tag!==27:1)&&z.tag!==18;){if(z.flags&2)continue Z;if(z.child===null||z.tag===4)continue Z;else z.child.return=z,z=z.child}if(!(z.flags&2))return z.stateNode}}function uO(z,H,V){var A=z.tag;if(A===5||A===6)z=z.stateNode,H?zd(V,z,H):Jd(V,z);else if(!(A===4||w5&&A===27)&&(z=z.child,z!==null))for(uO(z,H,V),z=z.sibling;z!==null;)uO(z,H,V),z=z.sibling}function SX(z,H,V){var A=z.tag;if(A===5||A===6)z=z.stateNode,H?Xd(V,z,H):Zd(V,z);else if(!(A===4||w5&&A===27)&&(z=z.child,z!==null))for(SX(z,H,V),z=z.sibling;z!==null;)SX(z,H,V),z=z.sibling}function lG(z,H,V){z=z.containerInfo;try{xF(z,V)}catch(A){s0(H,H.return,A)}}function Um(z,H){Pm(z.containerInfo);for(r1=H;r1!==null;)if(z=r1,H=z.child,(z.subtreeFlags&1028)!==0&&H!==null)H.return=z,r1=H;else for(;r1!==null;){z=r1;var V=z.alternate;switch(H=z.flags,z.tag){case 0:break;case 11:case 15:break;case 1:if((H&1024)!==0&&V!==null){H=void 0;var A=z,D=V.memoizedProps;V=V.memoizedState;var M=A.stateNode;try{var E=L9(A.type,D,A.elementType===A.type);H=M.getSnapshotBeforeUpdate(E,V),M.__reactInternalSnapshotBeforeUpdate=H}catch(S){s0(A,A.return,S)}}break;case 3:(H&1024)!==0&&j5&&Ad(z.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((H&1024)!==0)throw Error(q(163))}if(H=z.sibling,H!==null){H.return=z.return,r1=H;break}r1=z.return}return E=zj,zj=!1,E}function pG(z,H,V){var A=V.flags;switch(V.tag){case 0:case 11:case 15:B4(z,V),A&4&&LQ(5,V);break;case 1:if(B4(z,V),A&4)if(z=V.stateNode,H===null)try{z.componentDidMount()}catch(S){s0(V,V.return,S)}else{var D=L9(V.type,H.memoizedProps);H=H.memoizedState;try{z.componentDidUpdate(D,H,z.__reactInternalSnapshotBeforeUpdate)}catch(S){s0(V,V.return,S)}}A&64&&gG(V),A&512&&R9(V,V.return);break;case 3:if(B4(z,V),A&64&&(A=V.updateQueue,A!==null)){if(z=null,V.child!==null)switch(V.child.tag){case 27:case 5:z=EQ(V.child.stateNode);break;case 1:z=V.child.stateNode}try{EW(A,z)}catch(S){s0(V,V.return,S)}}break;case 26:if(h8){B4(z,V),A&512&&R9(V,V.return);break}case 27:case 5:B4(z,V),H===null&&A&4&&dG(V),A&512&&R9(V,V.return);break;case 12:B4(z,V);break;case 13:B4(z,V),A&4&&aG(z,V);break;case 22:if(D=V.memoizedState!==null||j4,!D){H=H!==null&&H.memoizedState!==null||w1;var M=j4,E=w1;j4=D,(w1=H)&&!E?A7(z,V,(V.subtreeFlags&8772)!==0):B4(z,V),j4=M,w1=E}A&512&&(V.memoizedProps.mode==="manual"?R9(V,V.return):U8(V,V.return));break;default:B4(z,V)}}function iG(z){var H=z.alternate;H!==null&&(z.alternate=null,iG(H)),z.child=null,z.deletions=null,z.sibling=null,z.tag===5&&(H=z.stateNode,H!==null&&dm(H)),z.stateNode=null,z.return=null,z.dependencies=null,z.memoizedProps=null,z.memoizedState=null,z.pendingProps=null,z.stateNode=null,z.updateQueue=null}function D6(z,H,V){for(V=V.child;V!==null;)lO(z,H,V),V=V.sibling}function lO(z,H,V){if(B8&&typeof B8.onCommitFiberUnmount==="function")try{B8.onCommitFiberUnmount(SQ,V)}catch(M){}switch(V.tag){case 26:if(h8){w1||U8(V,H),D6(z,H,V),V.memoizedState?aF(V.memoizedState):V.stateNode&&nF(V.stateNode);break}case 27:if(w5){w1||U8(V,H);var A=x1,D=M8;x1=V.stateNode,D6(z,H,V),cd(V.stateNode),x1=A,M8=D;break}case 5:w1||U8(V,H);case 6:if(j5){if(A=x1,D=M8,x1=null,D6(z,H,V),x1=A,M8=D,x1!==null)if(M8)try{Hd(x1,V.stateNode)}catch(M){s0(V,H,M)}else try{Nd(x1,V.stateNode)}catch(M){s0(V,H,M)}}else D6(z,H,V);break;case 18:j5&&x1!==null&&(M8?kd(x1,V.stateNode):bd(x1,V.stateNode));break;case 4:j5?(A=x1,D=M8,x1=V.stateNode.containerInfo,M8=!0,D6(z,H,V),x1=A,M8=D):(M7&&lG(V.stateNode,V,yF()),D6(z,H,V));break;case 0:case 11:case 14:case 15:w1||U7(2,V,H),w1||U7(4,V,H),D6(z,H,V);break;case 1:w1||(U8(V,H),A=V.stateNode,typeof A.componentWillUnmount==="function"&&mG(V,H,A)),D6(z,H,V);break;case 21:D6(z,H,V);break;case 22:w1||U8(V,H),w1=(A=w1)||V.memoizedState!==null,D6(z,H,V),w1=A;break;default:D6(z,H,V)}}function aG(z,H){if(y8&&H.memoizedState===null&&(z=H.alternate,z!==null&&(z=z.memoizedState,z!==null&&(z=z.dehydrated,z!==null))))try{Sd(z)}catch(V){s0(H,H.return,V)}}function Am(z){switch(z.tag){case 13:case 19:var H=z.stateNode;return H===null&&(H=z.stateNode=new Xj),H;case 22:return z=z.stateNode,H=z._retryCache,H===null&&(H=z._retryCache=new Xj),H;default:throw Error(q(435,z.tag))}}function pO(z,H){var V=Am(z);H.forEach(function(A){var D=Fm.bind(null,z,A);V.has(A)||(V.add(A),A.then(D,D))})}function l5(z,H){var V=H.deletions;if(V!==null)for(var A=0;A<V.length;A++){var D=V[A],M=z,E=H;if(j5){var S=E;Z:for(;S!==null;){switch(S.tag){case 27:case 5:x1=S.stateNode,M8=!1;break Z;case 3:x1=S.stateNode.containerInfo,M8=!0;break Z;case 4:x1=S.stateNode.containerInfo,M8=!0;break Z}S=S.return}if(x1===null)throw Error(q(160));lO(M,E,D),x1=null,M8=!1}else lO(M,E,D);M=D.alternate,M!==null&&(M.return=null),D.return=null}if(H.subtreeFlags&13878)for(H=H.child;H!==null;)sG(H,z),H=H.sibling}function sG(z,H){var{alternate:V,flags:A}=z;switch(z.tag){case 0:case 11:case 14:case 15:l5(H,z),A8(z),A&4&&(U7(3,z,z.return),LQ(3,z),U7(5,z,z.return));break;case 1:l5(H,z),A8(z),A&512&&(w1||V===null||U8(V,V.return)),A&64&&j4&&(z=z.updateQueue,z!==null&&(A=z.callbacks,A!==null&&(V=z.shared.hiddenCallbacks,z.shared.hiddenCallbacks=V===null?A:V.concat(A))));break;case 26:if(h8){var D=M6;l5(H,z),A8(z),A&512&&(w1||V===null||U8(V,V.return)),A&4&&(A=V!==null?V.memoizedState:null,H=z.memoizedState,V===null?H===null?z.stateNode===null?z.stateNode=fd(D,z.type,z.memoizedProps,z):sF(D,z.type,z.stateNode):z.stateNode=iF(D,H,z.memoizedProps):A!==H?(A===null?V.stateNode!==null&&nF(V.stateNode):aF(A),H===null?sF(D,z.type,z.stateNode):iF(D,H,z.memoizedProps)):H===null&&z.stateNode!==null&&cG(z,z.memoizedProps,V.memoizedProps));break}case 27:if(w5&&A&4&&z.alternate===null){D=z.stateNode;var M=z.memoizedProps;try{md(D),dd(z.type,M,D,z)}catch(n){s0(z,z.return,n)}}case 5:if(l5(H,z),A8(z),A&512&&(w1||V===null||U8(V,V.return)),j5){if(z.flags&32){H=z.stateNode;try{fF(H)}catch(n){s0(z,z.return,n)}}A&4&&z.stateNode!=null&&(H=z.memoizedProps,cG(z,H,V!==null?V.memoizedProps:H)),A&1024&&(PU=!0)}break;case 6:if(l5(H,z),A8(z),A&4&&j5){if(z.stateNode===null)throw Error(q(162));A=z.memoizedProps,V=V!==null?V.memoizedProps:A,H=z.stateNode;try{Qd(H,V,A)}catch(n){s0(z,z.return,n)}}break;case 3:if(h8?(hd(),D=M6,M6=WU(H.containerInfo),l5(H,z),M6=D):l5(H,z),A8(z),A&4){if(j5&&y8&&V!==null&&V.memoizedState.isDehydrated)try{Td(H.containerInfo)}catch(n){s0(z,z.return,n)}if(M7){A=H.containerInfo,V=H.pendingChildren;try{xF(A,V)}catch(n){s0(z,z.return,n)}}}PU&&(PU=!1,nG(z));break;case 4:h8?(V=M6,M6=WU(z.stateNode.containerInfo),l5(H,z),A8(z),M6=V):(l5(H,z),A8(z)),A&4&&M7&&lG(z.stateNode,z,z.stateNode.pendingChildren);break;case 12:l5(H,z),A8(z);break;case 13:l5(H,z),A8(z),z.child.flags&8192&&z.memoizedState!==null!==(V!==null&&V.memoizedState!==null)&&(hU=B6()),A&4&&(A=z.updateQueue,A!==null&&(z.updateQueue=null,pO(z,A)));break;case 22:A&512&&(w1||V===null||U8(V,V.return)),D=z.memoizedState!==null;var E=V!==null&&V.memoizedState!==null,S=j4,P=w1;if(j4=S||D,w1=P||E,l5(H,z),w1=P,j4=S,A8(z),H=z.stateNode,H._current=z,H._visibility&=-3,H._visibility|=H._pendingVisibility&2,A&8192&&(H._visibility=D?H._visibility&-2:H._visibility|1,D&&(H=j4||w1,V===null||E||H||aZ(z)),j5&&(z.memoizedProps===null||z.memoizedProps.mode!=="manual")))Z:if(V=null,j5)for(H=z;;){if(H.tag===5||h8&&H.tag===26||w5&&H.tag===27){if(V===null){E=V=H;try{M=E.stateNode,D?Yd(M):Od(E.stateNode,E.memoizedProps)}catch(n){s0(E,E.return,n)}}}else if(H.tag===6){if(V===null){E=H;try{var d=E.stateNode;D?Vd(d):Ud(d,E.memoizedProps)}catch(n){s0(E,E.return,n)}}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===z)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===z)break Z;for(;H.sibling===null;){if(H.return===null||H.return===z)break Z;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}A&4&&(A=z.updateQueue,A!==null&&(V=A.retryQueue,V!==null&&(A.retryQueue=null,pO(z,V))));break;case 19:l5(H,z),A8(z),A&4&&(A=z.updateQueue,A!==null&&(z.updateQueue=null,pO(z,A)));break;case 21:break;default:l5(H,z),A8(z)}}function A8(z){var H=z.flags;if(H&2){try{if(j5&&(!w5||z.tag!==27)){Z:{for(var V=z.return;V!==null;){if(uG(V)){var A=V;break Z}V=V.return}throw Error(q(160))}switch(A.tag){case 27:if(w5){var D=A.stateNode,M=cO(z);SX(z,M,D);break}case 5:var E=A.stateNode;A.flags&32&&(fF(E),A.flags&=-33);var S=cO(z);SX(z,S,E);break;case 3:case 4:var P=A.stateNode.containerInfo,d=cO(z);uO(z,d,P);break;default:throw Error(q(161))}}}catch(n){s0(z,z.return,n)}z.flags&=-3}H&4096&&(z.flags&=-4097)}function nG(z){if(z.subtreeFlags&1024)for(z=z.child;z!==null;){var H=z;nG(H),H.tag===5&&H.flags&1024&&pm(H.stateNode),z=z.sibling}}function B4(z,H){if(H.subtreeFlags&8772)for(H=H.child;H!==null;)pG(z,H.alternate,H),H=H.sibling}function aZ(z){for(z=z.child;z!==null;){var H=z;switch(H.tag){case 0:case 11:case 14:case 15:U7(4,H,H.return),aZ(H);break;case 1:U8(H,H.return);var V=H.stateNode;typeof V.componentWillUnmount==="function"&&mG(H,H.return,V),aZ(H);break;case 26:case 27:case 5:U8(H,H.return),aZ(H);break;case 22:U8(H,H.return),H.memoizedState===null&&aZ(H);break;default:aZ(H)}z=z.sibling}}function A7(z,H,V){V=V&&(H.subtreeFlags&8772)!==0;for(H=H.child;H!==null;){var A=H.alternate,D=z,M=H,E=M.flags;switch(M.tag){case 0:case 11:case 15:A7(D,M,V),LQ(4,M);break;case 1:if(A7(D,M,V),A=M,D=A.stateNode,typeof D.componentDidMount==="function")try{D.componentDidMount()}catch(d){s0(A,A.return,d)}if(A=M,D=A.updateQueue,D!==null){var S=A.stateNode;try{var P=D.shared.hiddenCallbacks;if(P!==null)for(D.shared.hiddenCallbacks=null,D=0;D<P.length;D++)RW(P[D],S)}catch(d){s0(A,A.return,d)}}V&&E&64&&gG(M),R9(M,M.return);break;case 26:case 27:case 5:A7(D,M,V),V&&A===null&&E&4&&dG(M),R9(M,M.return);break;case 12:A7(D,M,V);break;case 13:A7(D,M,V),V&&E&4&&aG(D,M);break;case 22:M.memoizedState===null&&A7(D,M,V),R9(M,M.return);break;default:A7(D,M,V)}H=H.sibling}}function iO(z,H){var V=null;z!==null&&z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(V=z.memoizedState.cachePool.pool),z=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(z=H.memoizedState.cachePool.pool),z!==V&&(z!=null&&z.refCount++,V!=null&&jQ(V))}function aO(z,H){z=null,H.alternate!==null&&(z=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==z&&(H.refCount++,z!=null&&jQ(z))}function $7(z,H,V,A){if(H.subtreeFlags&10256)for(H=H.child;H!==null;)oG(z,H,V,A),H=H.sibling}function oG(z,H,V,A){var D=H.flags;switch(H.tag){case 0:case 11:case 15:$7(z,H,V,A),D&2048&&LQ(9,H);break;case 3:$7(z,H,V,A),D&2048&&(z=null,H.alternate!==null&&(z=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==z&&(H.refCount++,z!=null&&jQ(z)));break;case 12:if(D&2048){$7(z,H,V,A),z=H.stateNode;try{var M=H.memoizedProps,E=M.id,S=M.onPostCommit;typeof S==="function"&&S(E,H.alternate===null?"mount":"update",z.passiveEffectDuration,-0)}catch(P){s0(H,H.return,P)}}else $7(z,H,V,A);break;case 23:break;case 22:M=H.stateNode,H.memoizedState!==null?M._visibility&4?$7(z,H,V,A):CQ(z,H):M._visibility&4?$7(z,H,V,A):(M._visibility|=4,sZ(z,H,V,A,(H.subtreeFlags&10256)!==0)),D&2048&&iO(H.alternate,H);break;case 24:$7(z,H,V,A),D&2048&&aO(H.alternate,H);break;default:$7(z,H,V,A)}}function sZ(z,H,V,A,D){D=D&&(H.subtreeFlags&10256)!==0;for(H=H.child;H!==null;){var M=z,E=H,S=V,P=A,d=E.flags;switch(E.tag){case 0:case 11:case 15:sZ(M,E,S,P,D),LQ(8,E);break;case 23:break;case 22:var n=E.stateNode;E.memoizedState!==null?n._visibility&4?sZ(M,E,S,P,D):CQ(M,E):(n._visibility|=4,sZ(M,E,S,P,D)),D&&d&2048&&iO(E.alternate,E);break;case 24:sZ(M,E,S,P,D),D&&d&2048&&aO(E.alternate,E);break;default:sZ(M,E,S,P,D)}H=H.sibling}}function CQ(z,H){if(H.subtreeFlags&10256)for(H=H.child;H!==null;){var V=z,A=H,D=A.flags;switch(A.tag){case 22:CQ(V,A),D&2048&&iO(A.alternate,A);break;case 24:CQ(V,A),D&2048&&aO(A.alternate,A);break;default:CQ(V,A)}H=H.sibling}}function E9(z){if(z.subtreeFlags&$J)for(z=z.child;z!==null;)tG(z),z=z.sibling}function tG(z){switch(z.tag){case 26:E9(z),z.flags&$J&&(z.memoizedState!==null?gd(M6,z.memoizedState,z.memoizedProps):vF(z.type,z.memoizedProps));break;case 5:E9(z),z.flags&$J&&vF(z.type,z.memoizedProps);break;case 3:case 4:if(h8){var H=M6;M6=WU(z.stateNode.containerInfo),E9(z),M6=H}else E9(z);break;case 22:z.memoizedState===null&&(H=z.alternate,H!==null&&H.memoizedState!==null?(H=$J,$J=16777216,E9(z),$J=H):E9(z));break;default:E9(z)}}function rG(z){var H=z.alternate;if(H!==null&&(z=H.child,z!==null)){H.child=null;do H=z.sibling,z.sibling=null,z=H;while(z!==null)}}function RQ(z){var H=z.deletions;if((z.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var A=H[V];r1=A,ZF(A,z)}rG(z)}if(z.subtreeFlags&10256)for(z=z.child;z!==null;)eG(z),z=z.sibling}function eG(z){switch(z.tag){case 0:case 11:case 15:RQ(z),z.flags&2048&&U7(9,z,z.return);break;case 3:RQ(z);break;case 12:RQ(z);break;case 22:var H=z.stateNode;z.memoizedState!==null&&H._visibility&4&&(z.return===null||z.return.tag!==13)?(H._visibility&=-5,bX(z)):RQ(z);break;default:RQ(z)}}function bX(z){var H=z.deletions;if((z.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var A=H[V];r1=A,ZF(A,z)}rG(z)}for(z=z.child;z!==null;){switch(H=z,H.tag){case 0:case 11:case 15:U7(8,H,H.return),bX(H);break;case 22:V=H.stateNode,V._visibility&4&&(V._visibility&=-5,bX(H));break;default:bX(H)}z=z.sibling}}function ZF(z,H){for(;r1!==null;){var V=r1;switch(V.tag){case 0:case 11:case 15:U7(8,V,H);break;case 23:case 22:if(V.memoizedState!==null&&V.memoizedState.cachePool!==null){var A=V.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:jQ(V.memoizedState.cache)}if(A=V.child,A!==null)A.return=V,r1=A;else Z:for(V=z;r1!==null;){A=r1;var{sibling:D,return:M}=A;if(iG(A),A===V){r1=null;break Z}if(D!==null){D.return=M,r1=D;break Z}r1=M}}}function sO(z){var H=kF(z);if(H!=null){if(typeof H.memoizedProps["data-testname"]!=="string")throw Error(q(364));return H}if(z=sm(z),z===null)throw Error(q(362));return z.stateNode.current}function nO(z,H){var V=z.tag;switch(H.$$typeof){case oX:if(z.type===H.value)return!0;break;case tX:Z:{H=H.value,z=[z,0];for(V=0;V<z.length;){var A=z[V++],D=A.tag,M=z[V++],E=H[M];if(D!==5&&D!==26&&D!==27||!TQ(A)){for(;E!=null&&nO(A,E);)M++,E=H[M];if(M===H.length){H=!0;break Z}else for(A=A.child;A!==null;)z.push(A,M),A=A.sibling}}H=!1}return H;case rX:if((V===5||V===26||V===27)&&tm(z.stateNode,H.value))return!0;break;case Zz:if(V===5||V===6||V===26||V===27){if(z=om(z),z!==null&&0<=z.indexOf(H.value))return!0}break;case eX:if(V===5||V===26||V===27){if(z=z.memoizedProps["data-testname"],typeof z==="string"&&z.toLowerCase()===H.value.toLowerCase())return!0}break;default:throw Error(q(365))}return!1}function oO(z){switch(z.$$typeof){case oX:return"<"+(X(z.value)||"Unknown")+">";case tX:return":has("+(oO(z)||"")+")";case rX:return'[role="'+z.value+'"]';case Zz:return'"'+z.value+'"';case eX:return'[data-testname="'+z.value+'"]';default:throw Error(q(365))}}function JF(z,H){var V=[];z=[z,0];for(var A=0;A<z.length;){var D=z[A++],M=D.tag,E=z[A++],S=H[E];if(M!==5&&M!==26&&M!==27||!TQ(D)){for(;S!=null&&nO(D,S);)E++,S=H[E];if(E===H.length)V.push(D);else for(D=D.child;D!==null;)z.push(D,E),D=D.sibling}}return V}function tO(z,H){if(!IQ)throw Error(q(363));z=sO(z),z=JF(z,H),H=[],z=Array.from(z);for(var V=0;V<z.length;){var A=z[V++],D=A.tag;if(D===5||D===26||D===27)TQ(A)||H.push(A.stateNode);else for(A=A.child;A!==null;)z.push(A),A=A.sibling}return H}function $8(){if((J1&2)!==0&&v0!==0)return v0&-v0;if(B0.T!==null){var z=NJ;return z!==0?z:KO()}return gm()}function QF(){c8===0&&(c8=(v0&536870912)===0||h0?b():536870912);var z=d8.current;return z!==null&&(z.flags|=32),c8}function T5(z,H,V){if(z===z1&&N1===2||z.cancelPendingCommit!==null)nZ(z,0),_4(z,v0,c8,!1);if(l(z,V),(J1&2)===0||z!==z1)z===z1&&((J1&2)===0&&(g9|=V),L1===4&&_4(z,v0,c8,!1)),$6(z)}function qF(z,H,V){if((J1&6)!==0)throw Error(q(327));var A=!V&&(H&60)===0&&(H&z.expiredLanes)===0||v(z,H),D=A?Bm(z,H):JU(z,H,!0),M=A;do{if(D===0){DJ&&!A&&_4(z,H,0,!1);break}else if(D===6)_4(z,H,0,!w4);else{if(V=z.current.alternate,M&&!$m(V)){D=JU(z,H,!1),M=!1;continue}if(D===2){if(M=H,z.errorRecoveryDisabledLanes&M)var E=0;else E=z.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){H=E;Z:{var S=z;D=hQ;var P=y8&&S.current.memoizedState.isDehydrated;if(P&&(nZ(S,E).flags|=256),E=JU(S,E,!1),E!==2){if(vU&&!P){S.errorRecoveryDisabledLanes|=M,g9|=M,D=4;break Z}M=d6,d6=D,M!==null&&rO(M)}D=E}if(M=!1,D!==2)continue}}if(D===1){nZ(z,0),_4(z,H,0,!0);break}Z:{switch(A=z,D){case 0:case 1:throw Error(q(345));case 4:if((H&4194176)===H){_4(A,H,c8,!w4);break Z}break;case 2:d6=null;break;case 3:case 5:break;default:throw Error(q(329))}if(A.finishedWork=V,A.finishedLanes=H,(H&62914560)===H&&(M=hU+300-B6(),10<M)){if(_4(A,H,c8,!w4),T(A,0)!==0)break Z;A.timeoutHandle=ym(KF.bind(null,A,V,d6,Jz,yU,H,c8,g9,BJ,w4,2,-0,0),M);break Z}KF(A,V,d6,Jz,yU,H,c8,g9,BJ,w4,0,-0,0)}}break}while(1);$6(z)}function rO(z){d6===null?d6=z:d6.push.apply(d6,z)}function KF(z,H,V,A,D,M,E,S,P,d,n,Q0,X0){var M0=H.subtreeFlags;if(M0&8192||(M0&16785408)===16785408){if(um(),tG(H),H=lm(),H!==null){z.cancelPendingCommit=H(AF.bind(null,z,V,A,D,E,S,P,1,Q0,X0)),_4(z,M,E,!d);return}}AF(z,V,A,D,E,S,P,n,Q0,X0)}function $m(z){for(var H=z;;){var V=H.tag;if((V===0||V===11||V===15)&&H.flags&16384&&(V=H.updateQueue,V!==null&&(V=V.stores,V!==null)))for(var A=0;A<V.length;A++){var D=V[A],M=D.getSnapshot;D=D.value;try{if(!_8(M(),D))return!1}catch(E){return!1}}if(V=H.child,H.subtreeFlags&16384&&V!==null)V.return=H,H=V;else{if(H===z)break;for(;H.sibling===null;){if(H.return===null||H.return===z)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}function _4(z,H,V,A){H&=~fU,H&=~g9,z.suspendedLanes|=H,z.pingedLanes&=~H,A&&(z.warmLanes|=H),A=z.expirationTimes;for(var D=H;0<D;){var M=31-D8(D),E=1<<M;A[M]=-1,D&=~E}V!==0&&N0(z,V,H)}function XF(){return(J1&6)===0?(pZ(0,!1),!1):!0}function eO(){if(C0!==null){if(N1===0)var z=C0.return;else z=C0,F4=h9=null,$O(z),VJ=null,vQ=0,z=C0;for(;z!==null;)xG(z.alternate,z),z=z.return;C0=null}}function nZ(z,H){z.finishedWork=null,z.finishedLanes=0;var V=z.timeoutHandle;V!==BU&&(z.timeoutHandle=BU,hm(V)),V=z.cancelPendingCommit,V!==null&&(z.cancelPendingCommit=null,V()),eO(),z1=z,C0=V=D7(z.current,null),v0=H,N1=0,W8=null,w4=!1,DJ=v(z,H),vU=!1,BJ=c8=fU=g9=w7=L1=0,d6=hQ=null,yU=!1,(H&8)!==0&&(H|=H&32);var A=z.entangledLanes;if(A!==0)for(z=z.entanglements,A&=H;0<A;){var D=31-D8(A),M=1<<D;H|=z[D],A&=~M}return L4=H,v8(),V}function zF(z,H){w0=null,B0.H=m6,H===PQ?(H=SW(),N1=3):H===TU?(H=SW(),N1=4):N1=H===qj?8:H!==null&&typeof H==="object"&&typeof H.then==="function"?6:1,W8=H,C0===null&&(L1=1,CX(z,W1(H,z.current)))}function NF(){var z=d8.current;return z===null?!0:(v0&4194176)===v0?g6===null?!0:!1:(v0&62914560)===v0||(v0&536870912)!==0?z===g6:!1}function HF(){var z=B0.H;return B0.H=m6,z===null?m6:z}function YF(){var z=B0.A;return B0.A=Qc,z}function ZU(){L1=4,w4||(v0&4194176)!==v0&&d8.current!==null||(DJ=!0),(w7&134217727)===0&&(g9&134217727)===0||z1===null||_4(z1,v0,c8,!1)}function JU(z,H,V){var A=J1;J1|=2;var D=HF(),M=YF();if(z1!==z||v0!==H)Jz=null,nZ(z,H);H=!1;var E=L1;Z:do try{if(N1!==0&&C0!==null){var S=C0,P=W8;switch(N1){case 8:eO(),E=6;break Z;case 3:case 2:case 6:d8.current===null&&(H=!0);var d=N1;if(N1=0,W8=null,oZ(z,S,P,d),V&&DJ){E=0;break Z}break;default:d=N1,N1=0,W8=null,oZ(z,S,P,d)}}Dm(),E=L1;break}catch(n){zF(z,n)}while(1);return H&&z.shellSuspendCounter++,F4=h9=null,J1=A,B0.H=D,B0.A=M,C0===null&&(z1=null,v0=0,v8()),E}function Dm(){for(;C0!==null;)VF(C0)}function Bm(z,H){var V=J1;J1|=2;var A=HF(),D=YF();z1!==z||v0!==H?(Jz=null,xQ=B6()+500,nZ(z,H)):DJ=v(z,H);Z:do try{if(N1!==0&&C0!==null){H=C0;var M=W8;J:switch(N1){case 1:N1=0,W8=null,oZ(z,H,M,1);break;case 2:if(IW(M)){N1=0,W8=null,OF(H);break}H=function(){N1===2&&z1===z&&(N1=7),$6(z)},M.then(H,H);break Z;case 3:N1=7;break Z;case 4:N1=5;break Z;case 7:IW(M)?(N1=0,W8=null,OF(H)):(N1=0,W8=null,oZ(z,H,M,7));break;case 5:var E=null;switch(C0.tag){case 26:E=C0.memoizedState;case 5:case 27:var S=C0,P=S.type,d=S.pendingProps;if(E?oF(E):PF(P,d)){N1=0,W8=null;var n=S.sibling;if(n!==null)C0=n;else{var Q0=S.return;Q0!==null?(C0=Q0,kX(Q0)):C0=null}break J}}N1=0,W8=null,oZ(z,H,M,5);break;case 6:N1=0,W8=null,oZ(z,H,M,6);break;case 8:eO(),L1=6;break Z;default:throw Error(q(462))}}_m();break}catch(X0){zF(z,X0)}while(1);if(F4=h9=null,B0.H=A,B0.A=D,J1=V,C0!==null)return 0;return z1=null,v0=0,v8(),L1}function _m(){for(;C0!==null&&!pd();)VF(C0)}function VF(z){var H=bG(z.alternate,z,L4);z.memoizedProps=z.pendingProps,H===null?kX(z):C0=H}function OF(z){var H=z,V=H.alternate;switch(H.tag){case 15:case 0:H=CG(V,H,H.pendingProps,H.type,void 0,v0);break;case 11:H=CG(V,H,H.pendingProps,H.type.render,H.ref,v0);break;case 5:$O(H);default:xG(V,H),H=C0=_F(H,L4),H=bG(V,H,L4)}z.memoizedProps=z.pendingProps,H===null?kX(z):C0=H}function oZ(z,H,V,A){F4=h9=null,$O(H),VJ=null,vQ=0;var D=H.return;try{if(Hm(z,D,H,V,v0)){L1=1,CX(z,W1(V,z.current)),C0=null;return}}catch(M){if(D!==null)throw C0=D,M;L1=1,CX(z,W1(V,z.current)),C0=null;return}if(H.flags&32768){if(h0||A===1)z=!0;else if(DJ||(v0&536870912)!==0)z=!1;else if(w4=z=!0,A===2||A===3||A===6)A=d8.current,A!==null&&A.tag===13&&(A.flags|=16384);UF(H,z)}else kX(H)}function kX(z){var H=z;do{if((H.flags&32768)!==0){UF(H,w4);return}z=H.return;var V=Vm(H.alternate,H,L4);if(V!==null){C0=V;return}if(H=H.sibling,H!==null){C0=H;return}C0=H=z}while(H!==null);L1===0&&(L1=5)}function UF(z,H){do{var V=Om(z.alternate,z);if(V!==null){V.flags&=32767,C0=V;return}if(V=z.return,V!==null&&(V.flags|=32768,V.subtreeFlags=0,V.deletions=null),!H&&(z=z.sibling,z!==null)){C0=z;return}C0=z=V}while(z!==null);L1=6,C0=null}function AF(z,H,V,A,D,M,E,S,P,d){var n=B0.T,Q0=S9();try{p5(2),B0.T=null,Mm(z,H,V,A,Q0,D,M,E,S,P,d)}finally{B0.T=n,p5(Q0)}}function Mm(z,H,V,A,D,M,E,S){do I9();while(m9!==null);if((J1&6)!==0)throw Error(q(327));var P=z.finishedWork;if(A=z.finishedLanes,P===null)return null;if(z.finishedWork=null,z.finishedLanes=0,P===z.current)throw Error(q(177));z.callbackNode=null,z.callbackPriority=0,z.cancelPendingCommit=null;var d=P.lanes|P.childLanes;if(d|=LU,o(z,A,d,M,E,S),z===z1&&(C0=z1=null,v0=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Qz||(Qz=!0,xU=d,gU=V,jm(jU,function(){return I9(!0),null})),V=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||V?(V=B0.T,B0.T=null,M=S9(),p5(2),E=J1,J1|=4,Um(z,P),sG(P,z),vm(z.containerInfo),z.current=P,pG(z,P.alternate,P),id(),J1=E,p5(M),B0.T=V):z.current=P,Qz?(Qz=!1,m9=z,gQ=A):$F(z,d),d=z.pendingLanes,d===0&&(L7=null),X1(P.stateNode,D),$6(z),H!==null)for(D=z.onRecoverableError,P=0;P<H.length;P++)d=H[P],D(d.value,{componentStack:d.stack});return(gQ&3)!==0&&I9(),d=z.pendingLanes,(A&4194218)!==0&&(d&42)!==0?z===mU?mQ++:(mQ=0,mU=z):mQ=0,pZ(0,!1),null}function $F(z,H){(z.pooledCacheLanes&=H)===0&&(H=z.pooledCache,H!=null&&(z.pooledCache=null,jQ(H)))}function I9(){if(m9!==null){var z=m9,H=xU;xU=0;var V=z0(gQ),A=32>V?32:V;V=B0.T;var D=S9();try{if(p5(A),B0.T=null,m9===null)var M=!1;else{A=gU,gU=null;var E=m9,S=gQ;if(m9=null,gQ=0,(J1&6)!==0)throw Error(q(331));var P=J1;if(J1|=4,eG(E.current),oG(E,E.current,S,A),J1=P,pZ(0,!1),B8&&typeof B8.onPostCommitFiberRoot==="function")try{B8.onPostCommitFiberRoot(SQ,E)}catch(d){}M=!0}return M}finally{p5(D),B0.T=V,$F(z,H)}}return!1}function DF(z,H,V){H=W1(V,H),H=RO(z.stateNode,H,2),z=H7(z,H,2),z!==null&&(l(z,2),$6(z))}function s0(z,H,V){if(z.tag===3)DF(z,z,V);else for(;H!==null;){if(H.tag===3){DF(H,z,V);break}else if(H.tag===1){var A=H.stateNode;if(typeof H.type.getDerivedStateFromError==="function"||typeof A.componentDidCatch==="function"&&(L7===null||!L7.has(A))){z=W1(V,z),V=MG(2),A=H7(H,V,2),A!==null&&(WG(V,A,H,z),l(A,2),$6(A));break}}H=H.return}}function QU(z,H,V){var A=z.pingCache;if(A===null){A=z.pingCache=new qc;var D=new Set;A.set(H,D)}else D=A.get(H),D===void 0&&(D=new Set,A.set(H,D));D.has(V)||(vU=!0,D.add(V),z=Wm.bind(null,z,H,V),H.then(z,z))}function Wm(z,H,V){var A=z.pingCache;A!==null&&A.delete(H),z.pingedLanes|=z.suspendedLanes&V,z.warmLanes&=~V,z1===z&&(v0&V)===V&&(L1===4||L1===3&&(v0&62914560)===v0&&300>B6()-hU?(J1&2)===0&&nZ(z,0):fU|=V,BJ===v0&&(BJ=0)),$6(z)}function BF(z,H){H===0&&(H=m()),z=h6(z,H),z!==null&&(l(z,H),$6(z))}function Gm(z){var H=z.memoizedState,V=0;H!==null&&(V=H.retryLane),BF(z,V)}function Fm(z,H){var V=0;switch(z.tag){case 13:var{stateNode:A,memoizedState:D}=z;D!==null&&(V=D.retryLane);break;case 19:A=z.stateNode;break;case 22:A=z.stateNode._retryCache;break;default:throw Error(q(314))}A!==null&&A.delete(H),BF(z,V)}function jm(z,H){return gX(z,H)}function wm(z,H,V,A){this.tag=z,this.key=V,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=H,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qU(z){return z=z.prototype,!(!z||!z.isReactComponent)}function D7(z,H){var V=z.alternate;return V===null?(V=J(z.tag,H,z.key,z.mode),V.elementType=z.elementType,V.type=z.type,V.stateNode=z.stateNode,V.alternate=z,z.alternate=V):(V.pendingProps=H,V.type=z.type,V.flags=0,V.subtreeFlags=0,V.deletions=null),V.flags=z.flags&31457280,V.childLanes=z.childLanes,V.lanes=z.lanes,V.child=z.child,V.memoizedProps=z.memoizedProps,V.memoizedState=z.memoizedState,V.updateQueue=z.updateQueue,H=z.dependencies,V.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext},V.sibling=z.sibling,V.index=z.index,V.ref=z.ref,V.refCleanup=z.refCleanup,V}function _F(z,H){z.flags&=31457282;var V=z.alternate;return V===null?(z.childLanes=0,z.lanes=H,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=V.childLanes,z.lanes=V.lanes,z.child=V.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=V.memoizedProps,z.memoizedState=V.memoizedState,z.updateQueue=V.updateQueue,z.type=V.type,H=V.dependencies,z.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),z}function PX(z,H,V,A,D,M){var E=0;if(A=z,typeof z==="function")qU(z)&&(E=1);else if(typeof z==="string")E=h8&&w5?lF(z,V,V5.current)?26:rF(z)?27:5:h8?lF(z,V,V5.current)?26:5:w5?rF(z)?27:5:5;else Z:switch(z){case rZ:return T9(V.children,D,M,H);case LF:E=8,D|=24;break;case HU:return z=J(12,V,H,D|2),z.elementType=HU,z.lanes=M,z;case VU:return z=J(13,V,H,D),z.elementType=VU,z.lanes=M,z;case OU:return z=J(19,V,H,D),z.elementType=OU,z.lanes=M,z;case RF:return MF(V,D,M,H);default:if(typeof z==="object"&&z!==null)switch(z.$$typeof){case Rm:case B7:E=10;break Z;case CF:E=9;break Z;case YU:E=11;break Z;case UU:E=14;break Z;case _7:E=16,A=null;break Z}E=29,V=Error(q(130,z===null?"null":typeof z,"")),A=null}return H=J(E,V,H,D),H.elementType=z,H.type=A,H.lanes=M,H}function T9(z,H,V,A){return z=J(7,z,A,H),z.lanes=V,z}function MF(z,H,V,A){z=J(22,z,A,H),z.elementType=RF,z.lanes=V;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=D._current;if(M===null)throw Error(q(456));if((D._pendingVisibility&2)===0){var E=h6(M,2);E!==null&&(D._pendingVisibility|=2,T5(E,M,2))}},attach:function(){var M=D._current;if(M===null)throw Error(q(456));if((D._pendingVisibility&2)!==0){var E=h6(M,2);E!==null&&(D._pendingVisibility&=-3,T5(E,M,2))}}};return z.stateNode=D,z}function KU(z,H,V){return z=J(6,z,null,H),z.lanes=V,z}function XU(z,H,V){return H=J(4,z.children!==null?z.children:[],z.key,H),H.lanes=V,H.stateNode={containerInfo:z.containerInfo,pendingChildren:null,implementation:z.implementation},H}function Lm(z,H,V,A,D,M,E,S){this.tag=1,this.containerInfo=z,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=BU,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u(0),this.hiddenUpdates=u(null),this.identifierPrefix=A,this.onUncaughtError=D,this.onCaughtError=M,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function WF(z,H,V,A,D,M,E,S,P,d,n,Q0){return z=new Lm(z,H,V,E,S,P,d,Q0),H=1,M===!0&&(H|=24),M=J(3,null,null,H),z.current=M,M.stateNode=z,H=hO(),H.refCount++,z.pooledCache=H,H.refCount++,M.memoizedState={element:A,isDehydrated:V,cache:H},XO(M),z}function GF(z){if(!z)return JJ;return z=JJ,z}function FF(z){var H=z._reactInternals;if(H===void 0){if(typeof z.render==="function")throw Error(q(188));throw z=Object.keys(z).join(","),Error(q(268,z))}return z=_(H),z=z!==null?W(z):null,z===null?null:EQ(z.stateNode)}function jF(z,H,V,A,D,M){D=GF(D),A.context===null?A.context=D:A.pendingContext=D,A=N7(H),A.payload={element:V},M=M===void 0?null:M,M!==null&&(A.callback=M),V=H7(z,A,H),V!==null&&(T5(V,z,H),$Q(V,z,H))}function wF(z,H){if(z=z.memoizedState,z!==null&&z.dehydrated!==null){var V=z.retryLane;z.retryLane=V!==0&&V<H?V:H}}function zU(z,H){wF(z,H),(z=z.alternate)&&wF(z,H)}var L0={},NU=Object.assign,Cm=Symbol.for("react.element"),vX=Symbol.for("react.transitional.element"),tZ=Symbol.for("react.portal"),rZ=Symbol.for("react.fragment"),LF=Symbol.for("react.strict_mode"),HU=Symbol.for("react.profiler"),Rm=Symbol.for("react.provider"),CF=Symbol.for("react.consumer"),B7=Symbol.for("react.context"),YU=Symbol.for("react.forward_ref"),VU=Symbol.for("react.suspense"),OU=Symbol.for("react.suspense_list"),UU=Symbol.for("react.memo"),_7=Symbol.for("react.lazy"),RF=Symbol.for("react.offscreen"),Em=Symbol.for("react.memo_cache_sentinel"),EF=Symbol.iterator,Im=Symbol.for("react.client.reference"),B0=c9,AU,IF,$U=!1,fX=Array.isArray,Tm=Z.rendererVersion,Sm=Z.rendererPackageName,TF=Z.extraDevToolsConfig,EQ=Z.getPublicInstance,bm=Z.getRootHostContext,km=Z.getChildHostContext,Pm=Z.prepareForCommit,vm=Z.resetAfterCommit,fm=Z.createInstance,DU=Z.appendInitialChild,SF=Z.finalizeInitialChildren,yX=Z.shouldSetTextContent,bF=Z.createTextInstance,ym=Z.scheduleTimeout,hm=Z.cancelTimeout,BU=Z.noTimeout,M4=Z.isPrimaryRenderer;Z.warnsIfNotActing;var{supportsMutation:j5,supportsPersistence:M7,supportsHydration:y8,getInstanceFromNode:kF}=Z;Z.beforeActiveInstanceBlur,Z.afterActiveInstanceBlur;var xm=Z.preparePortalMount;Z.prepareScopeUpdate,Z.getInstanceFromScope;var{setCurrentUpdatePriority:p5,getCurrentUpdatePriority:S9,resolveUpdatePriority:gm}=Z;Z.resolveEventType,Z.resolveEventTimeStamp;var{shouldAttemptEagerTransition:mm,detachDeletedInstance:dm}=Z;Z.requestPostPaintCallback;var{maySuspendCommit:cm,preloadInstance:PF,startSuspendingCommit:um,suspendInstance:vF,waitForCommitToBeReady:lm,NotPendingTransition:eZ,HostTransitionContext:b9,resetFormInstance:pm}=Z;Z.bindToConsole;var{supportsMicrotasks:im,scheduleMicrotask:am,supportsTestSelectors:IQ,findFiberRoot:sm,getBoundingRect:nm,getTextContent:om,isHiddenSubtree:TQ,matchAccessibilityRole:tm,setFocusIfFocusable:rm,setupIntersectionObserver:em,appendChild:Zd,appendChildToContainer:Jd,commitTextUpdate:Qd,commitMount:qd,commitUpdate:Kd,insertBefore:Xd,insertInContainerBefore:zd,removeChild:Nd,removeChildFromContainer:Hd,resetTextContent:fF,hideInstance:Yd,hideTextInstance:Vd,unhideInstance:Od,unhideTextInstance:Ud,clearContainer:Ad,cloneInstance:$d,createContainerChildSet:yF,appendChildToContainerChildSet:hF,finalizeContainerChildren:Dd,replaceContainerChildren:xF,cloneHiddenInstance:gF,cloneHiddenTextInstance:mF,isSuspenseInstancePending:_U,isSuspenseInstanceFallback:MU,getSuspenseInstanceFallbackErrorDetails:Bd,registerSuspenseInstanceRetry:_d,canHydrateFormStateMarker:Md,isFormStateMarkerMatching:Wd,getNextHydratableSibling:dF,getFirstHydratableChild:cF,getFirstHydratableChildWithinContainer:Gd,getFirstHydratableChildWithinSuspenseInstance:Fd,canHydrateInstance:jd,canHydrateTextInstance:wd,canHydrateSuspenseInstance:Ld,hydrateInstance:Cd,hydrateTextInstance:Rd,hydrateSuspenseInstance:Ed,getNextHydratableInstanceAfterSuspenseInstance:Id,commitHydratedContainer:Td,commitHydratedSuspenseInstance:Sd,clearSuspenseBoundary:bd,clearSuspenseBoundaryFromContainer:kd,shouldDeleteUnhydratedTailInstances:uF}=Z;Z.diffHydratedPropsForDevWarnings,Z.diffHydratedTextForDevWarnings,Z.describeHydratableInstanceForDevWarnings;var{validateHydratableInstance:Pd,validateHydratableTextInstance:vd,supportsResources:h8,isHostHoistableType:lF,getHoistableRoot:WU,getResource:pF,acquireResource:iF,releaseResource:aF,hydrateHoistable:fd,mountHoistable:sF,unmountHoistable:nF,createHoistableInstance:yd,prepareToCommitHoistables:hd,mayResourceSuspendCommit:xd,preloadResource:oF,suspendResource:gd,supportsSingletons:w5,resolveSingletonInstance:tF,clearSingleton:md,acquireSingletonInstance:dd,releaseSingletonInstance:cd,isHostSingletonType:rF}=Z,GU=[],ZJ=-1,JJ={},D8=Math.clz32?Math.clz32:j,ud=Math.log,ld=Math.LN2,hX=128,xX=4194304,gX=rV,FU=DW,pd=_W,id=BW,B6=V4,eF=AW,ad=$W,jU=tV,sd=UW,nd=void 0,od=void 0,SQ=null,B8=null,_8=typeof Object.is==="function"?Object.is:H0,Zj=new WeakMap,QJ=[],qJ=0,mX=null,dX=0,x8=[],g8=0,k9=null,W4=1,G4="",V5=L(null),bQ=L(null),W7=L(null),cX=L(null),S5=null,L5=null,h0=!1,_6=null,x6=!1,wU=Error(q(519)),m8=[],KJ=0,LU=0,uX=null,XJ=null,CU=!1,lX=!1,RU=!1,zJ=0,kQ=null,EU=0,NJ=0,HJ=null,G7=!1,IU=!1,td=Object.prototype.hasOwnProperty,PQ=Error(q(460)),TU=Error(q(474)),pX={then:function(){}},YJ=null,VJ=null,vQ=0,P9=kW(!0),Jj=kW(!1),OJ=L(null),iX=L(0),d8=L(null),g6=null,i1=L(0),F7=0,w0=null,Z1=null,h1=null,aX=!1,UJ=!1,v9=!1,sX=0,fQ=0,AJ=null,rd=0,SU=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},m6={readContext:F5,use:GX,useCallback:S1,useContext:S1,useEffect:S1,useImperativeHandle:S1,useLayoutEffect:S1,useInsertionEffect:S1,useMemo:S1,useReducer:S1,useRef:S1,useState:S1,useDebugValue:S1,useDeferredValue:S1,useTransition:S1,useSyncExternalStore:S1,useId:S1};m6.useCacheRefresh=S1,m6.useMemoCache=S1,m6.useHostTransitionStatus=S1,m6.useFormState=S1,m6.useActionState=S1,m6.useOptimistic=S1;var f9={readContext:F5,use:GX,useCallback:function(z,H){return u5().memoizedState=[z,H===void 0?null:H],z},useContext:F5,useEffect:ZG,useImperativeHandle:function(z,H,V){V=V!==null&&V!==void 0?V.concat([z]):null,jX(4194308,4,qG.bind(null,H,z),V)},useLayoutEffect:function(z,H){return jX(4194308,4,z,H)},useInsertionEffect:function(z,H){jX(4,2,z,H)},useMemo:function(z,H){var V=u5();H=H===void 0?null:H;var A=z();if(v9){t(!0);try{z()}finally{t(!1)}}return V.memoizedState=[A,H],A},useReducer:function(z,H,V){var A=u5();if(V!==void 0){var D=V(H);if(v9){t(!0);try{V(H)}finally{t(!1)}}}else D=H;return A.memoizedState=A.baseState=D,z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z,lastRenderedState:D},A.queue=z,z=z.dispatch=Nm.bind(null,w0,z),[A.memoizedState,z]},useRef:function(z){var H=u5();return z={current:z},H.memoizedState=z},useState:function(z){z=MO(z);var H=z.queue,V=UG.bind(null,w0,H);return H.dispatch=V,[z.memoizedState,V]},useDebugValue:FO,useDeferredValue:function(z,H){var V=u5();return jO(V,z,H)},useTransition:function(){var z=MO(!1);return z=HG.bind(null,w0,z.queue,!0,!1),u5().memoizedState=z,[!1,z]},useSyncExternalStore:function(z,H,V){var A=w0,D=u5();if(h0){if(V===void 0)throw Error(q(407));V=V()}else{if(V=H(),z1===null)throw Error(q(349));(v0&60)!==0||xW(A,H,V)}D.memoizedState=V;var M={value:V,getSnapshot:H};return D.queue=M,ZG(mW.bind(null,A,M,z),[z]),A.flags|=2048,iZ(9,gW.bind(null,A,M,V,H),{destroy:void 0},null),V},useId:function(){var z=u5(),H=z1.identifierPrefix;if(h0){var V=G4,A=W4;V=(A&~(1<<32-D8(A)-1)).toString(32)+V,H=":"+H+"R"+V,V=sX++,0<V&&(H+="H"+V.toString(32)),H+=":"}else V=rd++,H=":"+H+"r"+V.toString(32)+":";return z.memoizedState=H},useCacheRefresh:function(){return u5().memoizedState=zm.bind(null,w0)}};f9.useMemoCache=DO,f9.useHostTransitionStatus=wO,f9.useFormState=nW,f9.useActionState=nW,f9.useOptimistic=function(z){var H=u5();H.memoizedState=H.baseState=z;var V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return H.queue=V,H=LO.bind(null,w0,!0,V),V.dispatch=H,[z,H]};var j7={readContext:F5,use:GX,useCallback:XG,useContext:F5,useEffect:GO,useImperativeHandle:KG,useInsertionEffect:JG,useLayoutEffect:QG,useMemo:zG,useReducer:FX,useRef:eW,useState:function(){return FX(A4)},useDebugValue:FO,useDeferredValue:function(z,H){var V=y1();return NG(V,Z1.memoizedState,z,H)},useTransition:function(){var z=FX(A4)[0],H=y1().memoizedState;return[typeof z==="boolean"?z:MQ(z),H]},useSyncExternalStore:hW,useId:VG};j7.useCacheRefresh=OG,j7.useMemoCache=DO,j7.useHostTransitionStatus=wO,j7.useFormState=oW,j7.useActionState=oW,j7.useOptimistic=function(z,H){var V=y1();return uW(V,Z1,z,H)};var y9={readContext:F5,use:GX,useCallback:XG,useContext:F5,useEffect:GO,useImperativeHandle:KG,useInsertionEffect:JG,useLayoutEffect:QG,useMemo:zG,useReducer:_O,useRef:eW,useState:function(){return _O(A4)},useDebugValue:FO,useDeferredValue:function(z,H){var V=y1();return Z1===null?jO(V,z,H):NG(V,Z1.memoizedState,z,H)},useTransition:function(){var z=_O(A4)[0],H=y1().memoizedState;return[typeof z==="boolean"?z:MQ(z),H]},useSyncExternalStore:hW,useId:VG};y9.useCacheRefresh=OG,y9.useMemoCache=DO,y9.useHostTransitionStatus=wO,y9.useFormState=rW,y9.useActionState=rW,y9.useOptimistic=function(z,H){var V=y1();if(Z1!==null)return uW(V,Z1,z,H);return V.baseState=z,[z,V.queue.dispatch]};var bU={isMounted:function(z){return(z=z._reactInternals)?$(z)===z:!1},enqueueSetState:function(z,H,V){z=z._reactInternals;var A=$8(),D=N7(A);D.payload=H,V!==void 0&&V!==null&&(D.callback=V),H=H7(z,D,A),H!==null&&(T5(H,z,A),$Q(H,z,A))},enqueueReplaceState:function(z,H,V){z=z._reactInternals;var A=$8(),D=N7(A);D.tag=1,D.payload=H,V!==void 0&&V!==null&&(D.callback=V),H=H7(z,D,A),H!==null&&(T5(H,z,A),$Q(H,z,A))},enqueueForceUpdate:function(z,H){z=z._reactInternals;var V=$8(),A=N7(V);A.tag=2,H!==void 0&&H!==null&&(A.callback=H),H=H7(z,A,V),H!==null&&(T5(H,z,V),$Q(H,z,V))}},Qj=typeof reportError==="function"?reportError:function(z){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z==="object"&&z!==null&&typeof z.message==="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(H))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",z);return}console.error(z)},qj=Error(q(461)),t1=!1,kU={dehydrated:null,treeContext:null,retryLane:0},nX=L(null),h9=null,F4=null,ed=typeof AbortController<"u"?AbortController:function(){var z=[],H=this.signal={aborted:!1,addEventListener:function(V,A){z.push(A)}};this.abort=function(){H.aborted=!0,z.forEach(function(V){return V()})}},Zc=rV,Jc=tV,j1={$$typeof:B7,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Kj=B0.S;B0.S=function(z,H){typeof H==="object"&&H!==null&&typeof H.then==="function"&&Jm(z,H),Kj!==null&&Kj(z,H)};var x9=L(null),j4=!1,w1=!1,PU=!1,Xj=typeof WeakSet==="function"?WeakSet:Set,r1=null,zj=!1,x1=null,M8=!1,M6=null,$J=8192,Qc={getCacheForType:function(z){var H=F5(j1),V=H.data.get(z);return V===void 0&&(V=z(),H.data.set(z,V)),V}},oX=0,tX=1,rX=2,eX=3,Zz=4;if(typeof Symbol==="function"&&Symbol.for){var yQ=Symbol.for;oX=yQ("selector.component"),tX=yQ("selector.has_pseudo_class"),rX=yQ("selector.role"),eX=yQ("selector.test_id"),Zz=yQ("selector.text")}var qc=typeof WeakMap==="function"?WeakMap:Map,J1=0,z1=null,C0=null,v0=0,N1=0,W8=null,w4=!1,DJ=!1,vU=!1,L4=0,L1=0,w7=0,g9=0,fU=0,c8=0,BJ=0,hQ=null,d6=null,yU=!1,hU=0,xQ=1/0,Jz=null,L7=null,Qz=!1,m9=null,gQ=0,xU=0,gU=null,mQ=0,mU=null;return L0.attemptContinuousHydration=function(z){if(z.tag===13){var H=h6(z,67108864);H!==null&&T5(H,z,67108864),zU(z,67108864)}},L0.attemptHydrationAtCurrentPriority=function(z){if(z.tag===13){var H=$8(),V=h6(z,H);V!==null&&T5(V,z,H),zU(z,H)}},L0.attemptSynchronousHydration=function(z){switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var H=C(z.pendingLanes);if(H!==0){z.pendingLanes|=2;for(z.entangledLanes|=2;H;){var V=1<<31-D8(H);z.entanglements[1]|=V,H&=~V}$6(z),(J1&6)===0&&(xQ=B6()+500,pZ(0,!1))}}break;case 13:H=h6(z,2),H!==null&&T5(H,z,2),XF(),zU(z,2)}},L0.batchedUpdates=function(z,H){return z(H)},L0.createComponentSelector=function(z){return{$$typeof:oX,value:z}},L0.createContainer=function(z,H,V,A,D,M,E,S,P,d){return WF(z,H,!1,null,V,A,M,E,S,P,d,null)},L0.createHasPseudoClassSelector=function(z){return{$$typeof:tX,value:z}},L0.createHydrationContainer=function(z,H,V,A,D,M,E,S,P,d,n,Q0,X0){return z=WF(V,A,!0,z,D,M,S,P,d,n,Q0,X0),z.context=GF(null),V=z.current,A=$8(),D=N7(A),D.callback=H!==void 0&&H!==null?H:null,H7(V,D,A),z.current.lanes=A,l(z,A),$6(z),z},L0.createPortal=function(z,H,V){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tZ,key:A==null?null:""+A,children:z,containerInfo:H,implementation:V}},L0.createRoleSelector=function(z){return{$$typeof:rX,value:z}},L0.createTestNameSelector=function(z){return{$$typeof:eX,value:z}},L0.createTextSelector=function(z){return{$$typeof:Zz,value:z}},L0.defaultOnCaughtError=function(z){console.error(z)},L0.defaultOnRecoverableError=function(z){Qj(z)},L0.defaultOnUncaughtError=function(z){Qj(z)},L0.deferredUpdates=function(z){var H=B0.T,V=S9();try{return p5(32),B0.T=null,z()}finally{p5(V),B0.T=H}},L0.discreteUpdates=function(z,H,V,A,D){var M=B0.T,E=S9();try{return p5(2),B0.T=null,z(H,V,A,D)}finally{p5(E),B0.T=M,J1===0&&(xQ=B6()+500)}},L0.findAllNodes=tO,L0.findBoundingRects=function(z,H){if(!IQ)throw Error(q(363));H=tO(z,H),z=[];for(var V=0;V<H.length;V++)z.push(nm(H[V]));for(H=z.length-1;0<H;H--){V=z[H];for(var A=V.x,D=A+V.width,M=V.y,E=M+V.height,S=H-1;0<=S;S--)if(H!==S){var P=z[S],d=P.x,n=d+P.width,Q0=P.y,X0=Q0+P.height;if(A>=d&&M>=Q0&&D<=n&&E<=X0){z.splice(H,1);break}else if(!(A!==d||V.width!==P.width||X0<M||Q0>E)){Q0>M&&(P.height+=Q0-M,P.y=M),X0<E&&(P.height=E-Q0),z.splice(H,1);break}else if(!(M!==Q0||V.height!==P.height||n<A||d>D)){d>A&&(P.width+=d-A,P.x=A),n<D&&(P.width=D-d),z.splice(H,1);break}}}return z},L0.findHostInstance=FF,L0.findHostInstanceWithNoPortals=function(z){return z=_(z),z=z!==null?w(z):null,z===null?null:EQ(z.stateNode)},L0.findHostInstanceWithWarning=function(z){return FF(z)},L0.flushPassiveEffects=I9,L0.flushSyncFromReconciler=function(z){var H=J1;J1|=1;var V=B0.T,A=S9();try{if(p5(2),B0.T=null,z)return z()}finally{p5(A),B0.T=V,J1=H,(J1&6)===0&&pZ(0,!1)}},L0.flushSyncWork=XF,L0.focusWithin=function(z,H){if(!IQ)throw Error(q(363));z=sO(z),H=JF(z,H),H=Array.from(H);for(z=0;z<H.length;){var V=H[z++],A=V.tag;if(!TQ(V)){if((A===5||A===26||A===27)&&rm(V.stateNode))return!0;for(V=V.child;V!==null;)H.push(V),V=V.sibling}}return!1},L0.getFindAllNodesFailureDescription=function(z,H){if(!IQ)throw Error(q(363));var V=0,A=[];z=[sO(z),0];for(var D=0;D<z.length;){var M=z[D++],E=M.tag,S=z[D++],P=H[S];if(E!==5&&E!==26&&E!==27||!TQ(M)){if(nO(M,P)&&(A.push(oO(P)),S++,S>V&&(V=S)),S<H.length)for(M=M.child;M!==null;)z.push(M,S),M=M.sibling}}if(V<H.length){for(z=[];V<H.length;V++)z.push(oO(H[V]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+z.join(" > ")}return null},L0.getPublicRootInstance=function(z){if(z=z.current,!z.child)return null;switch(z.child.tag){case 27:case 5:return EQ(z.child.stateNode);default:return z.child.stateNode}},L0.injectIntoDevTools=function(){var z={bundleType:0,version:Tm,rendererPackageName:Sm,currentDispatcherRef:B0,findFiberByHostInstance:kF,reconcilerVersion:"19.0.0"};if(TF!==null&&(z.rendererConfig=TF),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")z=!1;else{var H=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(H.isDisabled||!H.supportsFiber)z=!0;else{try{SQ=H.inject(z),B8=H}catch(V){}z=H.checkDCE?!0:!1}}return z},L0.isAlreadyRendering=function(){return!1},L0.observeVisibleRects=function(z,H,V,A){if(!IQ)throw Error(q(363));z=tO(z,H);var D=em(z,V,A).disconnect;return{disconnect:function(){D()}}},L0.shouldError=function(){return null},L0.shouldSuspend=function(){return!1},L0.startHostTransition=function(z,H,V,A){if(z.tag!==5)throw Error(q(476));var D=YG(z).queue;HG(z,D,H,eZ,V===null?Q:function(){var M=YG(z).next.queue;return WQ(z,M,{},$8()),V(A)})},L0.updateContainer=function(z,H,V,A){var D=H.current,M=$8();return jF(D,M,z,H,V,A),M},L0.updateContainerSync=function(z,H,V,A){return H.tag===0&&I9(),jF(H.current,2,z,H,V,A),2},L0};$X.exports.default=$X.exports;Object.defineProperty($X.exports,"__esModule",{value:!0})});var rg=cQ(rR(),1);C5();var lN=typeof self<"u"?self:global,eq=typeof navigator<"u",al=eq&&typeof HTMLImageElement>"u",gN=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),pN=lN.Buffer,vN=lN.BigInt,iN=!!pN,sl=(Z)=>Z;function mN(Z,J=sl){if(gN)try{return Promise.resolve(J(Nj(Z)))}catch(Q){console.warn(`Couldn't load ${Z}`)}}var t3=lN.fetch,nl=(Z)=>t3=Z;if(!lN.fetch){let Z=mN("http",(q)=>q),J=mN("https",(q)=>q),Q=(q,{headers:K}={})=>new Promise(async(X,N)=>{let{port:Y,hostname:O,pathname:U,protocol:$,search:B}=new URL(q),_={method:"GET",hostname:O,path:encodeURI(U)+B,headers:K};Y!==""&&(_.port=Number(Y));let W=($==="https:"?await J:await Z).request(_,(w)=>{if(w.statusCode===301||w.statusCode===302){let L=new URL(w.headers.location,q).toString();return Q(L,{headers:K}).then(X).catch(N)}X({status:w.statusCode,arrayBuffer:()=>new Promise((L)=>{let R=[];w.on("data",(G)=>R.push(G)),w.on("end",()=>L(Buffer.concat(R)))})})});W.on("error",N),W.end()});nl(Q)}function U0(Z,J,Q){return J in Z?Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[J]=Q,Z}var dN=(Z)=>UE(Z)?void 0:Z,ol=(Z)=>Z!==void 0;function UE(Z){return Z===void 0||(Z instanceof Map?Z.size===0:Object.values(Z).filter(ol).length===0)}function l1(Z){let J=Error(Z);throw delete J.stack,J}function OZ(Z){return(Z=function(J){for(;J.endsWith("\x00");)J=J.slice(0,-1);return J}(Z).trim())===""?void 0:Z}function d3(Z){let J=function(Q){let q=0;return Q.ifd0.enabled&&(q+=1024),Q.exif.enabled&&(q+=2048),Q.makerNote&&(q+=2048),Q.userComment&&(q+=1024),Q.gps.enabled&&(q+=512),Q.interop.enabled&&(q+=100),Q.ifd1.enabled&&(q+=1024),q+2048}(Z);return Z.jfif.enabled&&(J+=50),Z.xmp.enabled&&(J+=20000),Z.iptc.enabled&&(J+=14000),Z.icc.enabled&&(J+=6000),J}var c3=(Z)=>String.fromCharCode.apply(null,Z),eR=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function AE(Z){return eR?eR.decode(Z):iN?Buffer.from(Z).toString("utf8"):decodeURIComponent(escape(c3(Z)))}class e5{static from(Z,J){return Z instanceof this&&Z.le===J?Z:new e5(Z,void 0,void 0,J)}constructor(Z,J=0,Q,q){if(typeof q=="boolean"&&(this.le=q),Array.isArray(Z)&&(Z=new Uint8Array(Z)),Z===0)this.byteOffset=0,this.byteLength=0;else if(Z instanceof ArrayBuffer){Q===void 0&&(Q=Z.byteLength-J);let K=new DataView(Z,J,Q);this._swapDataView(K)}else if(Z instanceof Uint8Array||Z instanceof DataView||Z instanceof e5){Q===void 0&&(Q=Z.byteLength-J),(J+=Z.byteOffset)+Q>Z.byteOffset+Z.byteLength&&l1("Creating view outside of available memory in ArrayBuffer");let K=new DataView(Z.buffer,J,Q);this._swapDataView(K)}else if(typeof Z=="number"){let K=new DataView(new ArrayBuffer(Z));this._swapDataView(K)}else l1("Invalid input argument for BufferView: "+Z)}_swapArrayBuffer(Z){this._swapDataView(new DataView(Z))}_swapBuffer(Z){this._swapDataView(new DataView(Z.buffer,Z.byteOffset,Z.byteLength))}_swapDataView(Z){this.dataView=Z,this.buffer=Z.buffer,this.byteOffset=Z.byteOffset,this.byteLength=Z.byteLength}_lengthToEnd(Z){return this.byteLength-Z}set(Z,J,Q=e5){return Z instanceof DataView||Z instanceof e5?Z=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength):Z instanceof ArrayBuffer&&(Z=new Uint8Array(Z)),Z instanceof Uint8Array||l1("BufferView.set(): Invalid data argument."),this.toUint8().set(Z,J),new Q(this,J,Z.byteLength)}subarray(Z,J){return J=J||this._lengthToEnd(Z),new e5(this,Z,J)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(Z,J){return new Uint8Array(this.buffer,this.byteOffset+Z,J)}getString(Z=0,J=this.byteLength){return AE(this.getUint8Array(Z,J))}getLatin1String(Z=0,J=this.byteLength){let Q=this.getUint8Array(Z,J);return c3(Q)}getUnicodeString(Z=0,J=this.byteLength){let Q=[];for(let q=0;q<J&&Z+q<this.byteLength;q+=2)Q.push(this.getUint16(Z+q));return c3(Q)}getInt8(Z){return this.dataView.getInt8(Z)}getUint8(Z){return this.dataView.getUint8(Z)}getInt16(Z,J=this.le){return this.dataView.getInt16(Z,J)}getInt32(Z,J=this.le){return this.dataView.getInt32(Z,J)}getUint16(Z,J=this.le){return this.dataView.getUint16(Z,J)}getUint32(Z,J=this.le){return this.dataView.getUint32(Z,J)}getFloat32(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getFloat64(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getFloat(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getDouble(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getUintBytes(Z,J,Q){switch(J){case 1:return this.getUint8(Z,Q);case 2:return this.getUint16(Z,Q);case 4:return this.getUint32(Z,Q);case 8:return this.getUint64&&this.getUint64(Z,Q)}}getUint(Z,J,Q){switch(J){case 8:return this.getUint8(Z,Q);case 16:return this.getUint16(Z,Q);case 32:return this.getUint32(Z,Q);case 64:return this.getUint64&&this.getUint64(Z,Q)}}toString(Z){return this.dataView.toString(Z,this.constructor.name)}ensureChunk(){}}function u3(Z,J){l1(`${Z} '${J}' was not loaded, try using full build of exifr.`)}class aN extends Map{constructor(Z){super(),this.kind=Z}get(Z,J){return this.has(Z)||u3(this.kind,Z),J&&((Z in J)||function(Q,q){l1(`Unknown ${Q} '${q}'.`)}(this.kind,Z),J[Z].enabled||u3(this.kind,Z)),super.get(Z)}keyList(){return Array.from(this.keys())}}var t6=new aN("file parser"),u1=new aN("segment parser"),r6=new aN("file reader");function tl(Z,J){return typeof Z=="string"?ZE(Z,J):eq&&!al&&Z instanceof HTMLImageElement?ZE(Z.src,J):Z instanceof Uint8Array||Z instanceof ArrayBuffer||Z instanceof DataView?new e5(Z):eq&&Z instanceof Blob?l3(Z,J,"blob",DZ):void l1("Invalid input argument")}function ZE(Z,J){return(Q=Z).startsWith("data:")||Q.length>1e4?p3(Z,J,"base64"):gN&&Z.includes("://")?l3(Z,J,"url",$Z):gN?p3(Z,J,"fs"):eq?l3(Z,J,"url",$Z):void l1("Invalid input argument");var Q}async function l3(Z,J,Q,q){return r6.has(Q)?p3(Z,J,Q):q?async function(K,X){let N=await X(K);return new e5(N)}(Z,q):void l1(`Parser ${Q} is not loaded`)}async function p3(Z,J,Q){let q=new(r6.get(Q))(Z,J);return await q.read(),q}var $Z=(Z)=>t3(Z).then((J)=>J.arrayBuffer()),DZ=(Z)=>new Promise((J,Q)=>{let q=new FileReader;q.onloadend=()=>J(q.result||new ArrayBuffer),q.onerror=Q,q.readAsArrayBuffer(Z)});class $E extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function P1(Z,J,Q){let q=new $E;for(let[K,X]of Q)q.set(K,X);if(Array.isArray(J))for(let K of J)Z.set(K,q);else Z.set(J,q);return q}function BZ(Z,J,Q){let q,K=Z.get(J);for(q of Q)K.set(q[0],q[1])}var q5=new Map,j6=new Map,z9=new Map,Q9=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],D2=["jfif","xmp","icc","iptc","ihdr"],_Z=["tiff",...D2],I1=["ifd0","ifd1","exif","gps","interop"],q9=[..._Z,...I1],K9=["makerNote","userComment"],B2=["translateKeys","translateValues","reviveValues","multiSegment"],X9=[...B2,"sanitize","mergeOutput","silentErrors"];class r3{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class A2 extends r3{get needed(){return this.enabled||this.deps.size>0}constructor(Z,J,Q,q){if(super(),U0(this,"enabled",!1),U0(this,"skip",new Set),U0(this,"pick",new Set),U0(this,"deps",new Set),U0(this,"translateKeys",!1),U0(this,"translateValues",!1),U0(this,"reviveValues",!1),this.key=Z,this.enabled=J,this.parse=this.enabled,this.applyInheritables(q),this.canBeFiltered=I1.includes(Z),this.canBeFiltered&&(this.dict=q5.get(Z)),Q!==void 0)if(Array.isArray(Q))this.parse=this.enabled=!0,this.canBeFiltered&&Q.length>0&&this.translateTagSet(Q,this.pick);else if(typeof Q=="object"){if(this.enabled=!0,this.parse=Q.parse!==!1,this.canBeFiltered){let{pick:K,skip:X}=Q;K&&K.length>0&&this.translateTagSet(K,this.pick),X&&X.length>0&&this.translateTagSet(X,this.skip)}this.applyInheritables(Q)}else Q===!0||Q===!1?this.parse=this.enabled=Q:l1(`Invalid options argument: ${Q}`)}applyInheritables(Z){let J,Q;for(J of B2)Q=Z[J],Q!==void 0&&(this[J]=Q)}translateTagSet(Z,J){if(this.dict){let Q,q,{tagKeys:K,tagValues:X}=this.dict;for(Q of Z)typeof Q=="string"?(q=X.indexOf(Q),q===-1&&(q=K.indexOf(Number(Q))),q!==-1&&J.add(Number(K[q]))):J.add(Q)}else for(let Q of Z)J.add(Q)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,cN(this.pick,this.deps)):this.enabled&&this.pick.size>0&&cN(this.pick,this.deps)}}var P5={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},JE=new Map;class N9 extends r3{static useCached(Z){let J=JE.get(Z);return J!==void 0||(J=new this(Z),JE.set(Z,J)),J}constructor(Z){super(),Z===!0?this.setupFromTrue():Z===void 0?this.setupFromUndefined():Array.isArray(Z)?this.setupFromArray(Z):typeof Z=="object"?this.setupFromObject(Z):l1(`Invalid options argument ${Z}`),this.firstChunkSize===void 0&&(this.firstChunkSize=eq?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let Z;for(Z of Q9)this[Z]=P5[Z];for(Z of X9)this[Z]=P5[Z];for(Z of K9)this[Z]=P5[Z];for(Z of q9)this[Z]=new A2(Z,P5[Z],void 0,this)}setupFromTrue(){let Z;for(Z of Q9)this[Z]=P5[Z];for(Z of X9)this[Z]=P5[Z];for(Z of K9)this[Z]=!0;for(Z of q9)this[Z]=new A2(Z,!0,void 0,this)}setupFromArray(Z){let J;for(J of Q9)this[J]=P5[J];for(J of X9)this[J]=P5[J];for(J of K9)this[J]=P5[J];for(J of q9)this[J]=new A2(J,!1,void 0,this);this.setupGlobalFilters(Z,void 0,I1)}setupFromObject(Z){let J;for(J of(I1.ifd0=I1.ifd0||I1.image,I1.ifd1=I1.ifd1||I1.thumbnail,Object.assign(this,Z),Q9))this[J]=x3(Z[J],P5[J]);for(J of X9)this[J]=x3(Z[J],P5[J]);for(J of K9)this[J]=x3(Z[J],P5[J]);for(J of _Z)this[J]=new A2(J,P5[J],Z[J],this);for(J of I1)this[J]=new A2(J,P5[J],Z[J],this.tiff);this.setupGlobalFilters(Z.pick,Z.skip,I1,q9),Z.tiff===!0?this.batchEnableWithBool(I1,!0):Z.tiff===!1?this.batchEnableWithUserValue(I1,Z):Array.isArray(Z.tiff)?this.setupGlobalFilters(Z.tiff,void 0,I1):typeof Z.tiff=="object"&&this.setupGlobalFilters(Z.tiff.pick,Z.tiff.skip,I1)}batchEnableWithBool(Z,J){for(let Q of Z)this[Q].enabled=J}batchEnableWithUserValue(Z,J){for(let Q of Z){let q=J[Q];this[Q].enabled=q!==!1&&q!==void 0}}setupGlobalFilters(Z,J,Q,q=Q){if(Z&&Z.length){for(let X of q)this[X].enabled=!1;let K=QE(Z,Q);for(let[X,N]of K)cN(this[X].pick,N),this[X].enabled=!0}else if(J&&J.length){let K=QE(J,Q);for(let[X,N]of K)cN(this[X].skip,N)}}filterNestedSegmentTags(){let{ifd0:Z,exif:J,xmp:Q,iptc:q,icc:K}=this;this.makerNote?J.deps.add(37500):J.skip.add(37500),this.userComment?J.deps.add(37510):J.skip.add(37510),Q.enabled||Z.skip.add(700),q.enabled||Z.skip.add(33723),K.enabled||Z.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:Z,exif:J,gps:Q,interop:q}=this;q.needed&&(J.deps.add(40965),Z.deps.add(40965)),J.needed&&Z.deps.add(34665),Q.needed&&Z.deps.add(34853),this.tiff.enabled=I1.some((K)=>this[K].enabled===!0)||this.makerNote||this.userComment;for(let K of I1)this[K].finalizeFilters()}get onlyTiff(){return!D2.map((Z)=>this[Z].enabled).some((Z)=>Z===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let Z of _Z)this[Z].enabled&&!u1.has(Z)&&u3("segment parser",Z)}}function QE(Z,J){let Q,q,K,X,N=[];for(K of J){for(X of(Q=q5.get(K),q=[],Q))(Z.includes(X[0])||Z.includes(X[1]))&&q.push(X[0]);q.length&&N.push([K,q])}return N}function x3(Z,J){return Z!==void 0?Z:J!==void 0?J:void 0}function cN(Z,J){for(let Q of J)Z.add(Q)}U0(N9,"default",P5);class i4{constructor(Z){U0(this,"parsers",{}),U0(this,"output",{}),U0(this,"errors",[]),U0(this,"pushToErrors",(J)=>this.errors.push(J)),this.options=N9.useCached(Z)}async read(Z){this.file=await tl(Z,this.options)}setup(){if(this.fileParser)return;let{file:Z}=this,J=Z.getUint16(0);for(let[Q,q]of t6)if(q.canHandle(Z,J))return this.fileParser=new q(this.options,this.file,this.parsers),Z[Q]=!0;this.file.close&&this.file.close(),l1("Unknown file format")}async parse(){let{output:Z,errors:J}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),J.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&J.length>0&&(Z.errors=J),dN(Z)}async executeParsers(){let{output:Z}=this;await this.fileParser.parse();let J=Object.values(this.parsers).map(async(Q)=>{let q=await Q.parse();Q.assignToOutput(Z,q)});this.options.silentErrors&&(J=J.map((Q)=>Q.catch(this.pushToErrors))),await Promise.all(J)}async extractThumbnail(){this.setup();let{options:Z,file:J}=this,Q=u1.get("tiff",Z);var q;if(J.tiff?q={start:0,type:"tiff"}:J.jpeg&&(q=await this.fileParser.getOrFindSegment("tiff")),q===void 0)return;let K=await this.fileParser.ensureSegmentChunk(q),X=this.parsers.tiff=new Q(K,Z,J),N=await X.extractThumbnail();return J.close&&J.close(),N}}async function _2(Z,J){let Q=new i4(J);return await Q.read(Z),Q.parse()}var rl=Object.freeze({__proto__:null,parse:_2,Exifr:i4,fileParsers:t6,segmentParsers:u1,fileReaders:r6,tagKeys:q5,tagValues:j6,tagRevivers:z9,createDictionary:P1,extendDictionary:BZ,fetchUrlAsArrayBuffer:$Z,readBlobAsArrayBuffer:DZ,chunkedProps:Q9,otherSegments:D2,segments:_Z,tiffBlocks:I1,segmentsAndBlocks:q9,tiffExtractables:K9,inheritables:B2,allFormatters:X9,Options:N9});class ZK{constructor(Z,J,Q){U0(this,"errors",[]),U0(this,"ensureSegmentChunk",async(q)=>{let K=q.start,X=q.size||65536;if(this.file.chunked)if(this.file.available(K,X))q.chunk=this.file.subarray(K,X);else try{q.chunk=await this.file.readChunk(K,X)}catch(N){l1(`Couldn't read segment: ${JSON.stringify(q)}. ${N.message}`)}else this.file.byteLength>K+X?q.chunk=this.file.subarray(K,X):q.size===void 0?q.chunk=this.file.subarray(K):l1("Segment unreachable: "+JSON.stringify(q));return q.chunk}),this.extendOptions&&this.extendOptions(Z),this.options=Z,this.file=J,this.parsers=Q}injectSegment(Z,J){this.options[Z].enabled&&this.createParser(Z,J)}createParser(Z,J){let Q=new(u1.get(Z))(J,this.options,this.file);return this.parsers[Z]=Q}createParsers(Z){for(let J of Z){let{type:Q,chunk:q}=J,K=this.options[Q];if(K&&K.enabled){let X=this.parsers[Q];X&&X.append||X||this.createParser(Q,q)}}}async readSegments(Z){let J=Z.map(this.ensureSegmentChunk);await Promise.all(J)}}class q6{static findPosition(Z,J){let Q=Z.getUint16(J+2)+2,q=typeof this.headerLength=="function"?this.headerLength(Z,J,Q):this.headerLength,K=J+q,X=Q-q;return{offset:J,length:Q,headerLength:q,start:K,size:X,end:K+X}}static parse(Z,J={}){return new this(Z,new N9({[this.type]:J}),Z).parse()}normalizeInput(Z){return Z instanceof e5?Z:new e5(Z)}constructor(Z,J={},Q){U0(this,"errors",[]),U0(this,"raw",new Map),U0(this,"handleError",(q)=>{if(!this.options.silentErrors)throw q;this.errors.push(q.message)}),this.chunk=this.normalizeInput(Z),this.file=Q,this.type=this.constructor.type,this.globalOptions=this.options=J,this.localOptions=J[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(Z,J){let Q=z9.get(J),q=j6.get(J),K=q5.get(J),X=this.options[J],N=X.reviveValues&&!!Q,Y=X.translateValues&&!!q,O=X.translateKeys&&!!K,U={};for(let[$,B]of Z)N&&Q.has($)?B=Q.get($)(B):Y&&q.has($)&&(B=this.translateValue(B,q.get($))),O&&K.has($)&&($=K.get($)||$),U[$]=B;return U}translateValue(Z,J){return J[Z]||J.DEFAULT||Z}assignToOutput(Z,J){this.assignObjectToOutput(Z,this.constructor.type,J)}assignObjectToOutput(Z,J,Q){if(this.globalOptions.mergeOutput)return Object.assign(Z,Q);Z[J]?Object.assign(Z[J],Q):Z[J]=Q}}U0(q6,"headerLength",4),U0(q6,"type",void 0),U0(q6,"multiSegment",!1),U0(q6,"canHandle",()=>!1);function el(Z){return Z===192||Z===194||Z===196||Z===219||Z===221||Z===218||Z===254}function Zp(Z){return Z>=224&&Z<=239}function Jp(Z,J,Q){for(let[q,K]of u1)if(K.canHandle(Z,J,Q))return q}class i3 extends ZK{constructor(...Z){super(...Z),U0(this,"appSegments",[]),U0(this,"jpegSegments",[]),U0(this,"unknownSegments",[])}static canHandle(Z,J){return J===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(Z){Z===!0?(this.findAll=!0,this.wanted=new Set(u1.keyList())):(Z=Z===void 0?u1.keyList().filter((J)=>this.options[J].enabled):Z.filter((J)=>this.options[J].enabled&&u1.has(J)),this.findAll=!1,this.remaining=new Set(Z),this.wanted=new Set(Z)),this.unfinishedMultiSegment=!1}async findAppSegments(Z=0,J){this.setupSegmentFinderArgs(J);let{file:Q,findAll:q,wanted:K,remaining:X}=this;if(!q&&this.file.chunked&&(q=Array.from(K).some((N)=>{let Y=u1.get(N),O=this.options[N];return Y.multiSegment&&O.multiSegment}),q&&await this.file.readWhole()),Z=this.findAppSegmentsInRange(Z,Q.byteLength),!this.options.onlyTiff&&Q.chunked){let N=!1;for(;X.size>0&&!N&&(Q.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:Y}=Q,O=this.appSegments.some((U)=>!this.file.available(U.offset||U.start,U.length||U.size));if(N=Z>Y&&!O?!await Q.readNextChunk(Z):!await Q.readNextChunk(Y),(Z=this.findAppSegmentsInRange(Z,Q.byteLength))===void 0)return}}}findAppSegmentsInRange(Z,J){J-=2;let Q,q,K,X,N,Y,{file:O,findAll:U,wanted:$,remaining:B,options:_}=this;for(;Z<J;Z++)if(O.getUint8(Z)===255){if(Q=O.getUint8(Z+1),Zp(Q)){if(q=O.getUint16(Z+2),K=Jp(O,Z,q),K&&$.has(K)&&(X=u1.get(K),N=X.findPosition(O,Z),Y=_[K],N.type=K,this.appSegments.push(N),!U&&(X.multiSegment&&Y.multiSegment?(this.unfinishedMultiSegment=N.chunkNumber<N.chunkCount,this.unfinishedMultiSegment||B.delete(K)):B.delete(K),B.size===0)))break;_.recordUnknownSegments&&(N=q6.findPosition(O,Z),N.marker=Q,this.unknownSegments.push(N)),Z+=q+1}else if(el(Q)){if(q=O.getUint16(Z+2),Q===218&&_.stopAfterSos!==!1)return;_.recordJpegSegments&&this.jpegSegments.push({offset:Z,length:q,marker:Q}),Z+=q+1}}return Z}mergeMultiSegments(){if(!this.appSegments.some((J)=>J.multiSegment))return;let Z=function(J,Q){let q,K,X,N=new Map;for(let Y=0;Y<J.length;Y++)q=J[Y],K=q[Q],N.has(K)?X=N.get(K):N.set(K,X=[]),X.push(q);return Array.from(N)}(this.appSegments,"type");this.mergedAppSegments=Z.map(([J,Q])=>{let q=u1.get(J,this.options);if(q.handleMultiSegments)return{type:J,chunk:q.handleMultiSegments(Q)};return Q[0]})}getSegment(Z){return this.appSegments.find((J)=>J.type===Z)}async getOrFindSegment(Z){let J=this.getSegment(Z);return J===void 0&&(await this.findAppSegments(0,[Z]),J=this.getSegment(Z)),J}}U0(i3,"type","jpeg"),t6.set("jpeg",i3);var Qp=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class DE extends q6{parseHeader(){var Z=this.chunk.getUint16();Z===18761?this.le=!0:Z===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(Z,J,Q=new Map){let{pick:q,skip:K}=this.options[J];q=new Set(q);let X=q.size>0,N=K.size===0,Y=this.chunk.getUint16(Z);Z+=2;for(let O=0;O<Y;O++){let U=this.chunk.getUint16(Z);if(X){if(q.has(U)&&(Q.set(U,this.parseTag(Z,U,J)),q.delete(U),q.size===0))break}else!N&&K.has(U)||Q.set(U,this.parseTag(Z,U,J));Z+=12}return Q}parseTag(Z,J,Q){let{chunk:q}=this,K=q.getUint16(Z+2),X=q.getUint32(Z+4),N=Qp[K];if(N*X<=4?Z+=8:Z=q.getUint32(Z+8),(K<1||K>13)&&l1(`Invalid TIFF value type. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z}`),Z>q.byteLength&&l1(`Invalid TIFF value offset. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z} is outside of chunk size ${q.byteLength}`),K===1)return q.getUint8Array(Z,X);if(K===2)return OZ(q.getString(Z,X));if(K===7)return q.getUint8Array(Z,X);if(X===1)return this.parseTagValue(K,Z);{let Y=new(function(U){switch(U){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(K))(X),O=N;for(let U=0;U<X;U++)Y[U]=this.parseTagValue(K,Z),Z+=O;return Y}}parseTagValue(Z,J){let{chunk:Q}=this;switch(Z){case 1:return Q.getUint8(J);case 3:return Q.getUint16(J);case 4:return Q.getUint32(J);case 5:return Q.getUint32(J)/Q.getUint32(J+4);case 6:return Q.getInt8(J);case 8:return Q.getInt16(J);case 9:return Q.getInt32(J);case 10:return Q.getInt32(J)/Q.getInt32(J+4);case 11:return Q.getFloat(J);case 12:return Q.getDouble(J);case 13:return Q.getUint32(J);default:l1(`Invalid tiff type ${Z}`)}}}class yN extends DE{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1165519206&&Z.getUint16(J+8)===0}async parse(){this.parseHeader();let{options:Z}=this;return Z.ifd0.enabled&&await this.parseIfd0Block(),Z.exif.enabled&&await this.safeParse("parseExifBlock"),Z.gps.enabled&&await this.safeParse("parseGpsBlock"),Z.interop.enabled&&await this.safeParse("parseInteropBlock"),Z.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(Z){let J=this[Z]();return J.catch!==void 0&&(J=J.catch(this.handleError)),J}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let Z=this.chunk.getUint16(this.ifd0Offset),J=this.ifd0Offset+2+12*Z;this.ifd1Offset=this.chunk.getUint32(J)}}parseBlock(Z,J){let Q=new Map;return this[J]=Q,this.parseTags(Z,J,Q),Q}async parseIfd0Block(){if(this.ifd0)return;let{file:Z}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l1("Malformed EXIF data"),!Z.chunked&&this.ifd0Offset>Z.byteLength&&l1(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${Z.byteLength}`),Z.tiff&&await Z.ensureChunk(this.ifd0Offset,d3(this.options));let J=this.parseBlock(this.ifd0Offset,"ifd0");return J.size!==0?(this.exifOffset=J.get(34665),this.interopOffset=J.get(40965),this.gpsOffset=J.get(34853),this.xmp=J.get(700),this.iptc=J.get(33723),this.icc=J.get(34675),this.options.sanitize&&(J.delete(34665),J.delete(40965),J.delete(34853),J.delete(700),J.delete(33723),J.delete(34675)),J):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,d3(this.options));let Z=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=Z.get(40965)),this.makerNote=Z.get(37500),this.userComment=Z.get(37510),this.options.sanitize&&(Z.delete(40965),Z.delete(37500),Z.delete(37510)),this.unpack(Z,41728),this.unpack(Z,41729),Z}unpack(Z,J){let Q=Z.get(J);Q&&Q.length===1&&Z.set(J,Q[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0)return;let Z=this.parseBlock(this.gpsOffset,"gps");return Z&&Z.has(2)&&Z.has(4)&&(Z.set("latitude",qE(...Z.get(2),Z.get(1))),Z.set("longitude",qE(...Z.get(4),Z.get(3)))),Z}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(Z=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||Z))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let Z=this.ifd1.get(513),J=this.ifd1.get(514);return this.chunk.getUint8Array(Z,J)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let Z,J,Q,q={};for(J of I1)if(Z=this[J],!UE(Z))if(Q=this.canTranslate?this.translateBlock(Z,J):Object.fromEntries(Z),this.options.mergeOutput){if(J==="ifd1")continue;Object.assign(q,Q)}else q[J]=Q;return this.makerNote&&(q.makerNote=this.makerNote),this.userComment&&(q.userComment=this.userComment),q}assignToOutput(Z,J){if(this.globalOptions.mergeOutput)Object.assign(Z,J);else for(let[Q,q]of Object.entries(J))this.assignObjectToOutput(Z,Q,q)}}function qE(Z,J,Q,q){var K=Z+J/60+Q/3600;return q!=="S"&&q!=="W"||(K*=-1),K}U0(yN,"type","tiff"),U0(yN,"headerLength",10),u1.set("tiff",yN);var qp=Object.freeze({__proto__:null,default:rl,Exifr:i4,fileParsers:t6,segmentParsers:u1,fileReaders:r6,tagKeys:q5,tagValues:j6,tagRevivers:z9,createDictionary:P1,extendDictionary:BZ,fetchUrlAsArrayBuffer:$Z,readBlobAsArrayBuffer:DZ,chunkedProps:Q9,otherSegments:D2,segments:_Z,tiffBlocks:I1,segmentsAndBlocks:q9,tiffExtractables:K9,inheritables:B2,allFormatters:X9,Options:N9,parse:_2}),e3={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},ZD=Object.assign({},e3,{firstChunkSize:40000,gps:[1,2,3,4]});async function BE(Z){let J=new i4(ZD);await J.read(Z);let Q=await J.parse();if(Q&&Q.gps){let{latitude:q,longitude:K}=Q.gps;return{latitude:q,longitude:K}}}var JD=Object.assign({},e3,{tiff:!1,ifd1:!0,mergeOutput:!1});async function _E(Z){let J=new i4(JD);await J.read(Z);let Q=await J.extractThumbnail();return Q&&iN?pN.from(Q):Q}async function ME(Z){let J=await this.thumbnail(Z);if(J!==void 0){let Q=new Blob([J]);return URL.createObjectURL(Q)}}var QD=Object.assign({},e3,{firstChunkSize:40000,ifd0:[274]});async function qD(Z){let J=new i4(QD);await J.read(Z);let Q=await J.parse();if(Q&&Q.ifd0)return Q.ifd0[274]}var KD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),UZ=!0,AZ=!0;if(typeof navigator=="object"){let Z=navigator.userAgent;if(Z.includes("iPad")||Z.includes("iPhone")){let J=Z.match(/OS (\d+)_(\d+)/);if(J){let[,Q,q]=J;UZ=Number(Q)+0.1*Number(q)<13.4,AZ=!1}}else if(Z.includes("OS X 10")){let[,J]=Z.match(/OS X 10[_.](\d+)/);UZ=AZ=Number(J)<15}if(Z.includes("Chrome/")){let[,J]=Z.match(/Chrome\/(\d+)/);UZ=AZ=Number(J)<81}else if(Z.includes("Firefox/")){let[,J]=Z.match(/Firefox\/(\d+)/);UZ=AZ=Number(J)<77}}async function WE(Z){let J=await qD(Z);return Object.assign({canvas:UZ,css:AZ},KD[J])}class GE extends e5{constructor(...Z){super(...Z),U0(this,"ranges",new FE),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(Z,J,Q){if(Z===0&&this.byteLength===0&&Q){let q=new DataView(Q.buffer||Q,Q.byteOffset,Q.byteLength);this._swapDataView(q)}else{let q=Z+J;if(q>this.byteLength){let{dataView:K}=this._extend(q);this._swapDataView(K)}}}_extend(Z){let J;J=iN?pN.allocUnsafe(Z):new Uint8Array(Z);let Q=new DataView(J.buffer,J.byteOffset,J.byteLength);return J.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:J,dataView:Q}}subarray(Z,J,Q=!1){return J=J||this._lengthToEnd(Z),Q&&this._tryExtend(Z,J),this.ranges.add(Z,J),super.subarray(Z,J)}set(Z,J,Q=!1){Q&&this._tryExtend(J,Z.byteLength,Z);let q=super.set(Z,J);return this.ranges.add(J,q.byteLength),q}async ensureChunk(Z,J){this.chunked&&(this.ranges.available(Z,J)||await this.readChunk(Z,J))}available(Z,J){return this.ranges.available(Z,J)}}class FE{constructor(){U0(this,"list",[])}get length(){return this.list.length}add(Z,J,Q=0){let q=Z+J,K=this.list.filter((X)=>KE(Z,X.offset,q)||KE(Z,X.end,q));if(K.length>0){Z=Math.min(Z,...K.map((N)=>N.offset)),q=Math.max(q,...K.map((N)=>N.end)),J=q-Z;let X=K.shift();X.offset=Z,X.length=J,X.end=q,this.list=this.list.filter((N)=>!K.includes(N))}else this.list.push({offset:Z,length:J,end:q})}available(Z,J){let Q=Z+J;return this.list.some((q)=>q.offset<=Z&&Q<=q.end)}}function KE(Z,J,Q){return Z<=J&&J<=Q}class JK extends GE{constructor(Z,J){super(0),U0(this,"chunksRead",0),this.input=Z,this.options=J}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(Z=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let J=this.options.chunkSize,Q=await this.readChunk(Z,J);return!!Q&&Q.byteLength===J}async readChunk(Z,J){if(this.chunksRead++,(J=this.safeWrapAddress(Z,J))!==0)return this._readChunk(Z,J)}safeWrapAddress(Z,J){return this.size!==void 0&&Z+J>this.size?Math.max(0,this.size-Z):J}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}r6.set("blob",class extends JK{async readWhole(){this.chunked=!1;let Z=await DZ(this.input);this._swapArrayBuffer(Z)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(Z,J){let Q=J?Z+J:void 0,q=this.input.slice(Z,Q),K=await DZ(q);return this.set(K,Z,!0)}});var Kp=Object.freeze({__proto__:null,default:qp,Exifr:i4,fileParsers:t6,segmentParsers:u1,fileReaders:r6,tagKeys:q5,tagValues:j6,tagRevivers:z9,createDictionary:P1,extendDictionary:BZ,fetchUrlAsArrayBuffer:$Z,readBlobAsArrayBuffer:DZ,chunkedProps:Q9,otherSegments:D2,segments:_Z,tiffBlocks:I1,segmentsAndBlocks:q9,tiffExtractables:K9,inheritables:B2,allFormatters:X9,Options:N9,parse:_2,gpsOnlyOptions:ZD,gps:BE,thumbnailOnlyOptions:JD,thumbnail:_E,thumbnailUrl:ME,orientationOnlyOptions:QD,orientation:qD,rotations:KD,get rotateCanvas(){return UZ},get rotateCss(){return AZ},rotation:WE});r6.set("url",class extends JK{async readWhole(){this.chunked=!1;let Z=await $Z(this.input);Z instanceof ArrayBuffer?this._swapArrayBuffer(Z):Z instanceof Uint8Array&&this._swapBuffer(Z)}async _readChunk(Z,J){let Q=J?Z+J-1:void 0,q=this.options.httpHeaders||{};(Z||Q)&&(q.range=`bytes=${[Z,Q].join("-")}`);let K=await t3(this.input,{headers:q}),X=await K.arrayBuffer(),N=X.byteLength;if(K.status!==416)return N!==J&&(this.size=Z+N),this.set(X,Z,!0)}});e5.prototype.getUint64=function(Z){let J=this.getUint32(Z),Q=this.getUint32(Z+4);return J<1048575?J<<32|Q:typeof vN!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),vN(J)<<vN(32)|vN(Q)):void l1("Trying to read 64b value but JS can only handle 53b numbers.")};class jE extends ZK{parseBoxes(Z=0){let J=[];for(;Z<this.file.byteLength-4;){let Q=this.parseBoxHead(Z);if(J.push(Q),Q.length===0)break;Z+=Q.length}return J}parseSubBoxes(Z){Z.boxes=this.parseBoxes(Z.start)}findBox(Z,J){return Z.boxes===void 0&&this.parseSubBoxes(Z),Z.boxes.find((Q)=>Q.kind===J)}parseBoxHead(Z){let J=this.file.getUint32(Z),Q=this.file.getString(Z+4,4),q=Z+8;return J===1&&(J=this.file.getUint64(Z+8),q+=8),{offset:Z,length:J,kind:Q,start:q}}parseBoxFullHead(Z){if(Z.version!==void 0)return;let J=this.file.getUint32(Z.start);Z.version=J>>24,Z.start+=4}}class XD extends jE{static canHandle(Z,J){if(J!==0)return!1;let Q=Z.getUint16(2);if(Q>50)return!1;let q=16,K=[];for(;q<Q;)K.push(Z.getString(q,4)),q+=4;return K.includes(this.type)}async parse(){let Z=this.file.getUint32(0),J=this.parseBoxHead(Z);for(;J.kind!=="meta";)Z+=J.length,await this.file.ensureChunk(Z,16),J=this.parseBoxHead(Z);await this.file.ensureChunk(J.offset,J.length),this.parseBoxFullHead(J),this.parseSubBoxes(J),this.options.icc.enabled&&await this.findIcc(J),this.options.tiff.enabled&&await this.findExif(J)}async registerSegment(Z,J,Q){await this.file.ensureChunk(J,Q);let q=this.file.subarray(J,Q);this.createParser(Z,q)}async findIcc(Z){let J=this.findBox(Z,"iprp");if(J===void 0)return;let Q=this.findBox(J,"ipco");if(Q===void 0)return;let q=this.findBox(Q,"colr");q!==void 0&&await this.registerSegment("icc",q.offset+12,q.length)}async findExif(Z){let J=this.findBox(Z,"iinf");if(J===void 0)return;let Q=this.findBox(Z,"iloc");if(Q===void 0)return;let q=this.findExifLocIdInIinf(J),K=this.findExtentInIloc(Q,q);if(K===void 0)return;let[X,N]=K;await this.file.ensureChunk(X,N);let Y=4+this.file.getUint32(X);X+=Y,N-=Y,await this.registerSegment("tiff",X,N)}findExifLocIdInIinf(Z){this.parseBoxFullHead(Z);let J,Q,q,K,X=Z.start,N=this.file.getUint16(X);for(X+=2;N--;){if(J=this.parseBoxHead(X),this.parseBoxFullHead(J),Q=J.start,J.version>=2&&(q=J.version===3?4:2,K=this.file.getString(Q+q+2,4),K==="Exif"))return this.file.getUintBytes(Q,q);X+=J.length}}get8bits(Z){let J=this.file.getUint8(Z);return[J>>4,15&J]}findExtentInIloc(Z,J){this.parseBoxFullHead(Z);let Q=Z.start,[q,K]=this.get8bits(Q++),[X,N]=this.get8bits(Q++),Y=Z.version===2?4:2,O=Z.version===1||Z.version===2?2:0,U=N+q+K,$=Z.version===2?4:2,B=this.file.getUintBytes(Q,$);for(Q+=$;B--;){let _=this.file.getUintBytes(Q,Y);Q+=Y+O+2+X;let W=this.file.getUint16(Q);if(Q+=2,_===J)return W>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(Q+N,q),this.file.getUintBytes(Q+N+q,K)];Q+=W*U}}}class zD extends XD{}U0(zD,"type","heic");class a3 extends XD{}U0(a3,"type","avif"),t6.set("heic",zD),t6.set("avif",a3),P1(q5,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),P1(q5,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65000,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),P1(q5,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),P1(j6,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var tq=P1(j6,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),XE={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};tq.set(37392,XE),tq.set(41488,XE);var g3={0:"Normal",1:"Low",2:"High"};function zE(Z){return typeof Z=="object"&&Z.length!==void 0?Z[0]:Z}function NE(Z){let J=Array.from(Z).slice(1);return J[1]>15&&(J=J.map((Q)=>String.fromCharCode(Q))),J[2]!=="0"&&J[2]!==0||J.pop(),J.join(".")}function m3(Z){if(typeof Z=="string"){var[J,Q,q,K,X,N]=Z.trim().split(/[-: ]/g).map(Number),Y=new Date(J,Q-1,q);return Number.isNaN(K)||Number.isNaN(X)||Number.isNaN(N)||(Y.setHours(K),Y.setMinutes(X),Y.setSeconds(N)),Number.isNaN(+Y)?Z:Y}}function nq(Z){if(typeof Z=="string")return Z;let J=[];if(Z[1]===0&&Z[Z.length-1]===0)for(let Q=0;Q<Z.length;Q+=2)J.push(HE(Z[Q+1],Z[Q]));else for(let Q=0;Q<Z.length;Q+=2)J.push(HE(Z[Q],Z[Q+1]));return OZ(String.fromCodePoint(...J))}function HE(Z,J){return Z<<8|J}tq.set(41992,g3),tq.set(41993,g3),tq.set(41994,g3),P1(z9,["ifd0","ifd1"],[[50827,function(Z){return typeof Z!="string"?AE(Z):Z}],[306,m3],[40091,nq],[40092,nq],[40093,nq],[40094,nq],[40095,nq]]),P1(z9,"exif",[[40960,NE],[36864,NE],[36867,m3],[36868,m3],[40962,zE],[40963,zE]]),P1(z9,"gps",[[0,(Z)=>Array.from(Z).join(".")],[7,(Z)=>Array.from(Z).join(":")]]);class hN extends q6{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1752462448&&Z.getString(J+4,20)==="http://ns.adobe.com/"}static headerLength(Z,J){return Z.getString(J+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.multiSegment=Q.extended=Q.headerLength===79,Q.multiSegment?(Q.chunkCount=Z.getUint8(J+72),Q.chunkNumber=Z.getUint8(J+76),Z.getUint8(J+77)!==0&&Q.chunkNumber++):(Q.chunkCount=1/0,Q.chunkNumber=-1),Q}static handleMultiSegments(Z){return Z.map((J)=>J.chunk.getString()).join("")}normalizeInput(Z){return typeof Z=="string"?Z:e5.from(Z).getString()}parse(Z=this.chunk){if(!this.localOptions.parse)return Z;Z=function(K){let X={},N={};for(let Y of RE)X[Y]=[],N[Y]=0;return K.replace(Hp,(Y,O,U)=>{if(O==="<"){let $=++N[U];return X[U].push($),`${Y}#${$}`}return`${Y}#${X[U].pop()}`})}(Z);let J=$2.findAll(Z,"rdf","Description");J.length===0&&J.push(new $2("rdf","Description",void 0,Z));let Q,q={};for(let K of J)for(let X of K.properties)Q=Np(X.ns,q),wE(X,Q);return function(K){let X;for(let N in K)X=K[N]=dN(K[N]),X===void 0&&delete K[N];return dN(K)}(q)}assignToOutput(Z,J){if(this.localOptions.parse)for(let[Q,q]of Object.entries(J))switch(Q){case"tiff":this.assignObjectToOutput(Z,"ifd0",q);break;case"exif":this.assignObjectToOutput(Z,"exif",q);break;case"xmlns":break;default:this.assignObjectToOutput(Z,Q,q)}else Z.xmp=J}}U0(hN,"type","xmp"),U0(hN,"multiSegment",!0),u1.set("xmp",hN);class uN{static findAll(Z){return LE(Z,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(uN.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[3].slice(1,-1);return q=CE(q),new uN(J,Q,q)}constructor(Z,J,Q){this.ns=Z,this.name=J,this.value=Q}serialize(){return this.value}}class $2{static findAll(Z,J,Q){if(J!==void 0||Q!==void 0){J=J||"[\\w\\d-]+",Q=Q||"[\\w\\d-]+";var q=new RegExp(`<(${J}):(${Q})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else q=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return LE(Z,q).map($2.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[4],K=Z[8];return new $2(J,Q,q,K)}constructor(Z,J,Q,q){this.ns=Z,this.name=J,this.attrString=Q,this.innerXml=q,this.attrs=uN.findAll(Q),this.children=$2.findAll(q),this.value=this.children.length===0?CE(q):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:Z,name:J}=this;return Z==="rdf"&&(J==="Seq"||J==="Bag"||J==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return zp(this.children.map(Xp));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let Z={};for(let J of this.properties)wE(J,Z);return this.value!==void 0&&(Z.value=this.value),dN(Z)}}function wE(Z,J){let Q=Z.serialize();Q!==void 0&&(J[Z.name]=Q)}var Xp=(Z)=>Z.serialize(),zp=(Z)=>Z.length===1?Z[0]:Z,Np=(Z,J)=>J[Z]?J[Z]:J[Z]={};function LE(Z,J){let Q,q=[];if(!Z)return q;for(;(Q=J.exec(Z))!==null;)q.push(Q);return q}function CE(Z){if(function(q){return q==null||q==="null"||q==="undefined"||q===""||q.trim()===""}(Z))return;let J=Number(Z);if(!Number.isNaN(J))return J;let Q=Z.toLowerCase();return Q==="true"||Q!=="false"&&Z.trim()}var RE=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],Hp=new RegExp(`(<|\\/)(${RE.join("|")})`,"g"),Wn=Object.freeze({__proto__:null,default:Kp,Exifr:i4,fileParsers:t6,segmentParsers:u1,fileReaders:r6,tagKeys:q5,tagValues:j6,tagRevivers:z9,createDictionary:P1,extendDictionary:BZ,fetchUrlAsArrayBuffer:$Z,readBlobAsArrayBuffer:DZ,chunkedProps:Q9,otherSegments:D2,segments:_Z,tiffBlocks:I1,segmentsAndBlocks:q9,tiffExtractables:K9,inheritables:B2,allFormatters:X9,Options:N9,parse:_2,gpsOnlyOptions:ZD,gps:BE,thumbnailOnlyOptions:JD,thumbnail:_E,thumbnailUrl:ME,orientationOnlyOptions:QD,orientation:qD,rotations:KD,get rotateCanvas(){return UZ},get rotateCss(){return AZ},rotation:WE});var YE=mN("fs",(Z)=>Z.promises);r6.set("fs",class extends JK{async readWhole(){this.chunked=!1,this.fs=await YE;let Z=await this.fs.readFile(this.input);this._swapBuffer(Z)}async readChunked(){this.chunked=!0,this.fs=await YE,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(Z,J){this.fh===void 0&&await this.open(),Z+J>this.size&&(J=this.size-Z);var Q=this.subarray(Z,J,!0);return await this.fh.read(Q.dataView,0,J,Z),Q}async close(){if(this.fh){let Z=this.fh;this.fh=void 0,await Z.close()}}});r6.set("base64",class extends JK{constructor(...Z){super(...Z),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(Z,J){let Q,q,K=this.input;Z===void 0?(Z=0,Q=0,q=0):(Q=4*Math.floor(Z/3),q=Z-Q/4*3),J===void 0&&(J=this.size);let X=Z+J,N=Q+4*Math.ceil(X/3);K=K.slice(Q,N);let Y=Math.min(J,this.size-Z);if(iN){let O=pN.from(K,"base64").slice(q,q+Y);return this.set(O,Z,!0)}{let O=this.subarray(Z,Y,!0),U=atob(K),$=O.toUint8();for(let B=0;B<Y;B++)$[B]=U.charCodeAt(q+B);return O}}});class s3 extends ZK{static canHandle(Z,J){return J===18761||J===19789}extendOptions(Z){let{ifd0:J,xmp:Q,iptc:q,icc:K}=Z;Q.enabled&&J.deps.add(700),q.enabled&&J.deps.add(33723),K.enabled&&J.deps.add(34675),J.finalizeFilters()}async parse(){let{tiff:Z,xmp:J,iptc:Q,icc:q}=this.options;if(Z.enabled||J.enabled||Q.enabled||q.enabled){let K=Math.max(d3(this.options),this.options.chunkSize);await this.file.ensureChunk(0,K),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(Z){if(this.parsers.tiff[Z]){let J=this.parsers.tiff[Z];this.injectSegment(Z,J)}}}U0(s3,"type","tiff"),t6.set("tiff",s3);var Yp=mN("zlib"),Vp=["ihdr","iccp","text","itxt","exif"];class n3 extends ZK{constructor(...Z){super(...Z),U0(this,"catchError",(J)=>this.errors.push(J)),U0(this,"metaChunks",[]),U0(this,"unknownChunks",[])}static canHandle(Z,J){return J===35152&&Z.getUint32(0)===2303741511&&Z.getUint32(4)===218765834}async parse(){let{file:Z}=this;await this.findPngChunksInRange(8,Z.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(Z,J){let{file:Q}=this;for(;Z<J;){let q=Q.getUint32(Z),K=Q.getUint32(Z+4),X=Q.getString(Z+4,4).toLowerCase(),N=q+4+4+4,Y={type:X,offset:Z,length:N,start:Z+4+4,size:q,marker:K};Vp.includes(X)?this.metaChunks.push(Y):this.unknownChunks.push(Y),Z+=N}}parseTextChunks(){let Z=this.metaChunks.filter((J)=>J.type==="text");for(let J of Z){let[Q,q]=this.file.getString(J.start,J.size).split("\x00");this.injectKeyValToIhdr(Q,q)}}injectKeyValToIhdr(Z,J){let Q=this.parsers.ihdr;Q&&Q.raw.set(Z,J)}findIhdr(){let Z=this.metaChunks.find((J)=>J.type==="ihdr");Z&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",Z.chunk)}async findExif(){let Z=this.metaChunks.find((J)=>J.type==="exif");Z&&this.injectSegment("tiff",Z.chunk)}async findXmp(){let Z=this.metaChunks.filter((J)=>J.type==="itxt");for(let J of Z)J.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",J.chunk)}async findIcc(){let Z=this.metaChunks.find((N)=>N.type==="iccp");if(!Z)return;let{chunk:J}=Z,Q=J.getUint8Array(0,81),q=0;for(;q<80&&Q[q]!==0;)q++;let K=q+2,X=J.getString(0,q);if(this.injectKeyValToIhdr("ProfileName",X),gN){let N=await Yp,Y=J.getUint8Array(K);Y=N.inflateSync(Y),this.injectSegment("icc",Y)}}}U0(n3,"type","png"),t6.set("png",n3),P1(q5,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),BZ(q5,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var VE=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];BZ(q5,"ifd0",VE),BZ(q5,"exif",VE),P1(j6,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class xN extends q6{static canHandle(Z,J){return Z.getUint8(J+1)===224&&Z.getUint32(J+4)===1246120262&&Z.getUint8(J+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}U0(xN,"type","jfif"),U0(xN,"headerLength",9),u1.set("jfif",xN),P1(q5,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class o3 extends q6{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}U0(o3,"type","ihdr"),u1.set("ihdr",o3),P1(q5,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),P1(j6,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class rq extends q6{static canHandle(Z,J){return Z.getUint8(J+1)===226&&Z.getUint32(J+4)===1229144927}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.chunkNumber=Z.getUint8(J+16),Q.chunkCount=Z.getUint8(J+17),Q.multiSegment=Q.chunkCount>1,Q}static handleMultiSegments(Z){return function(J){let Q=function(q){let K=q[0].constructor,X=0;for(let O of q)X+=O.length;let N=new K(X),Y=0;for(let O of q)N.set(O,Y),Y+=O.length;return N}(J.map((q)=>q.chunk.toUint8()));return new e5(Q)}(Z)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:Z}=this;this.chunk.byteLength<84&&l1("ICC header is too short");for(let[J,Q]of Object.entries(Op)){J=parseInt(J,10);let q=Q(this.chunk,J);q!=="\x00\x00\x00\x00"&&Z.set(J,q)}}parseTags(){let Z,J,Q,q,K,{raw:X}=this,N=this.chunk.getUint32(128),Y=132,O=this.chunk.byteLength;for(;N--;){if(Z=this.chunk.getString(Y,4),J=this.chunk.getUint32(Y+4),Q=this.chunk.getUint32(Y+8),q=this.chunk.getString(J,4),J+Q>O)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");K=this.parseTag(q,J,Q),K!==void 0&&K!=="\x00\x00\x00\x00"&&X.set(Z,K),Y+=12}}parseTag(Z,J,Q){switch(Z){case"desc":return this.parseDesc(J);case"mluc":return this.parseMluc(J);case"text":return this.parseText(J,Q);case"sig ":return this.parseSig(J)}if(!(J+Q>this.chunk.byteLength))return this.chunk.getUint8Array(J,Q)}parseDesc(Z){let J=this.chunk.getUint32(Z+8)-1;return OZ(this.chunk.getString(Z+12,J))}parseText(Z,J){return OZ(this.chunk.getString(Z+8,J-8))}parseSig(Z){return OZ(this.chunk.getString(Z+8,4))}parseMluc(Z){let{chunk:J}=this,Q=J.getUint32(Z+8),q=J.getUint32(Z+12),K=Z+16,X=[];for(let N=0;N<Q;N++){let Y=J.getString(K+0,2),O=J.getString(K+2,2),U=J.getUint32(K+4),$=J.getUint32(K+8)+Z,B=OZ(J.getUnicodeString($,U));X.push({lang:Y,country:O,text:B}),K+=q}return Q===1?X[0].text:X}translateValue(Z,J){return typeof Z=="string"?J[Z]||J[Z.toLowerCase()]||Z:J[Z]||Z}}U0(rq,"type","icc"),U0(rq,"multiSegment",!0),U0(rq,"headerLength",18);var Op={4:p4,8:function(Z,J){return[Z.getUint8(J),Z.getUint8(J+1)>>4,Z.getUint8(J+1)%16].map((Q)=>Q.toString(10)).join(".")},12:p4,16:p4,20:p4,24:function(Z,J){let Q=Z.getUint16(J),q=Z.getUint16(J+2)-1,K=Z.getUint16(J+4),X=Z.getUint16(J+6),N=Z.getUint16(J+8),Y=Z.getUint16(J+10);return new Date(Date.UTC(Q,q,K,X,N,Y))},36:p4,40:p4,48:p4,52:p4,64:(Z,J)=>Z.getUint32(J),80:p4};function p4(Z,J){return OZ(Z.getString(J,4))}u1.set("icc",rq),P1(q5,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var fN={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},OE={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};P1(j6,"icc",[[4,fN],[12,OE],[40,Object.assign({},fN,OE)],[48,fN],[80,fN],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class oq extends q6{static canHandle(Z,J,Q){return Z.getUint8(J+1)===237&&Z.getString(J+4,9)==="Photoshop"&&this.containsIptc8bim(Z,J,Q)!==void 0}static headerLength(Z,J,Q){let q,K=this.containsIptc8bim(Z,J,Q);if(K!==void 0)return q=Z.getUint8(J+K+7),q%2!=0&&(q+=1),q===0&&(q=4),K+8+q}static containsIptc8bim(Z,J,Q){for(let q=0;q<Q;q++)if(this.isIptcSegmentHead(Z,J+q))return q}static isIptcSegmentHead(Z,J){return Z.getUint8(J)===56&&Z.getUint32(J)===943868237&&Z.getUint16(J+4)===1028}parse(){let{raw:Z}=this,J=this.chunk.byteLength-1,Q=!1;for(let q=0;q<J;q++)if(this.chunk.getUint8(q)===28&&this.chunk.getUint8(q+1)===2){Q=!0;let K=this.chunk.getUint16(q+3),X=this.chunk.getUint8(q+2),N=this.chunk.getLatin1String(q+5,K);Z.set(X,this.pluralizeValue(Z.get(X),N)),q+=4+K}else if(Q)break;return this.translate(),this.output}pluralizeValue(Z,J){return Z!==void 0?Z instanceof Array?(Z.push(J),Z):[Z,J]:J}}U0(oq,"type","iptc"),U0(oq,"translateValues",!1),U0(oq,"reviveValues",!1),u1.set("iptc",oq),P1(q5,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),P1(j6,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var sN=function(Z,J){return Z<J?-1:Z>J?1:0},EE=function(Z){return Z.reduce(function(J,Q){return J+Q},0)},Up=function(){function Z(Q){this.colors=Q}var J=Z.prototype;return J.palette=function(){return this.colors},J.map=function(Q){return Q},Z}(),Ap=function(){function Z(X,N,Y){return(X<<10)+(N<<5)+Y}function J(X){var N=[],Y=!1;function O(){N.sort(X),Y=!0}return{push:function(U){N.push(U),Y=!1},peek:function(U){return Y||O(),U===void 0&&(U=N.length-1),N[U]},pop:function(){return Y||O(),N.pop()},size:function(){return N.length},map:function(U){return N.map(U)},debug:function(){return Y||O(),N}}}function Q(X,N,Y,O,U,$,B){var _=this;_.r1=X,_.r2=N,_.g1=Y,_.g2=O,_.b1=U,_.b2=$,_.histo=B}function q(){this.vboxes=new J(function(X,N){return sN(X.vbox.count()*X.vbox.volume(),N.vbox.count()*N.vbox.volume())})}function K(X,N){if(N.count()){var Y=N.r2-N.r1+1,O=N.g2-N.g1+1,U=Math.max.apply(null,[Y,O,N.b2-N.b1+1]);if(N.count()==1)return[N.copy()];var $,B,_,W,w=0,L=[],R=[];if(U==Y)for($=N.r1;$<=N.r2;$++){for(W=0,B=N.g1;B<=N.g2;B++)for(_=N.b1;_<=N.b2;_++)W+=X[Z($,B,_)]||0;L[$]=w+=W}else if(U==O)for($=N.g1;$<=N.g2;$++){for(W=0,B=N.r1;B<=N.r2;B++)for(_=N.b1;_<=N.b2;_++)W+=X[Z(B,$,_)]||0;L[$]=w+=W}else for($=N.b1;$<=N.b2;$++){for(W=0,B=N.r1;B<=N.r2;B++)for(_=N.g1;_<=N.g2;_++)W+=X[Z(B,_,$)]||0;L[$]=w+=W}return L.forEach(function(G,j){R[j]=w-G}),function(G){var j,C,T,v,f,b=G+"1",m=G+"2",u=0;for($=N[b];$<=N[m];$++)if(L[$]>w/2){for(T=N.copy(),v=N.copy(),f=(j=$-N[b])<=(C=N[m]-$)?Math.min(N[m]-1,~~($+C/2)):Math.max(N[b],~~($-1-j/2));!L[f];)f++;for(u=R[f];!u&&L[f-1];)u=R[--f];return T[m]=f,v[b]=T[m]+1,[T,v]}}(U==Y?"r":U==O?"g":"b")}}return Q.prototype={volume:function(X){var N=this;return N._volume&&!X||(N._volume=(N.r2-N.r1+1)*(N.g2-N.g1+1)*(N.b2-N.b1+1)),N._volume},count:function(X){var N=this,Y=N.histo;if(!N._count_set||X){var O,U,$,B=0;for(O=N.r1;O<=N.r2;O++)for(U=N.g1;U<=N.g2;U++)for($=N.b1;$<=N.b2;$++)B+=Y[Z(O,U,$)]||0;N._count=B,N._count_set=!0}return N._count},copy:function(){var X=this;return new Q(X.r1,X.r2,X.g1,X.g2,X.b1,X.b2,X.histo)},avg:function(X){var N=this,Y=N.histo;if(!N._avg||X){var O,U,$,B,_=0,W=0,w=0,L=0;if(N.r1===N.r2&&N.g1===N.g2&&N.b1===N.b2)N._avg=[N.r1<<3,N.g1<<3,N.b1<<3];else{for(U=N.r1;U<=N.r2;U++)for($=N.g1;$<=N.g2;$++)for(B=N.b1;B<=N.b2;B++)_+=O=Y[Z(U,$,B)]||0,W+=O*(U+0.5)*8,w+=O*($+0.5)*8,L+=O*(B+0.5)*8;N._avg=_?[~~(W/_),~~(w/_),~~(L/_)]:[~~(8*(N.r1+N.r2+1)/2),~~(8*(N.g1+N.g2+1)/2),~~(8*(N.b1+N.b2+1)/2)]}}return N._avg},contains:function(X){var N=this,Y=X[0]>>3;return gval=X[1]>>3,bval=X[2]>>3,Y>=N.r1&&Y<=N.r2&&gval>=N.g1&&gval<=N.g2&&bval>=N.b1&&bval<=N.b2}},q.prototype={push:function(X){this.vboxes.push({vbox:X,color:X.avg()})},palette:function(){return this.vboxes.map(function(X){return X.color})},size:function(){return this.vboxes.size()},map:function(X){for(var N=this.vboxes,Y=0;Y<N.size();Y++)if(N.peek(Y).vbox.contains(X))return N.peek(Y).color;return this.nearest(X)},nearest:function(X){for(var N,Y,O,U=this.vboxes,$=0;$<U.size();$++)((Y=Math.sqrt(Math.pow(X[0]-U.peek($).color[0],2)+Math.pow(X[1]-U.peek($).color[1],2)+Math.pow(X[2]-U.peek($).color[2],2)))<N||N===void 0)&&(N=Y,O=U.peek($).color);return O},forcebw:function(){var X=this.vboxes;X.sort(function(U,$){return sN(EE(U.color),EE($.color))});var N=X[0].color;N[0]<5&&N[1]<5&&N[2]<5&&(X[0].color=[0,0,0]);var Y=X.length-1,O=X[Y].color;O[0]>251&&O[1]>251&&O[2]>251&&(X[Y].color=[255,255,255])}},{quantize:function(X,N){if(!Number.isInteger(N)||N<1||N>256)throw Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!X.length||N<2||N>256)return!1;if(!X.length||N<2||N>256)return!1;for(var Y=[],O=new Set,U=0;U<X.length;U++){var $=X[U],B=$.join(",");O.has(B)||(O.add(B),Y.push($))}if(Y.length<=N)return new Up(Y);var _=function(j){var C,T=Array(32768);return j.forEach(function(v){C=Z(v[0]>>3,v[1]>>3,v[2]>>3),T[C]=(T[C]||0)+1}),T}(X);_.forEach(function(){});var W=function(j,C){var T,v,f,b=1e6,m=0,u=1e6,l=0,o=1e6,N0=0;return j.forEach(function(j0){(T=j0[0]>>3)<b?b=T:T>m&&(m=T),(v=j0[1]>>3)<u?u=v:v>l&&(l=v),(f=j0[2]>>3)<o?o=f:f>N0&&(N0=f)}),new Q(b,m,u,l,o,N0,C)}(X,_),w=new J(function(j,C){return sN(j.count(),C.count())});function L(j,C){for(var T,v=j.size(),f=0;f<1000;){if(v>=C)return;if(f++>1000)return;if((T=j.pop()).count()){var b=K(_,T),m=b[0],u=b[1];if(!m)return;j.push(m),u&&(j.push(u),v++)}else j.push(T),f++}}w.push(W),L(w,0.75*N);for(var R=new J(function(j,C){return sN(j.count()*j.volume(),C.count()*C.volume())});w.size();)R.push(w.pop());L(R,N);for(var G=new q;R.size();)G.push(R.pop());return G}}}().quantize,IE=function(Z){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=Z.naturalWidth,this.height=this.canvas.height=Z.naturalHeight,this.context.drawImage(Z,0,0,this.width,this.height)};IE.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var MZ=function(){};MZ.prototype.getColor=function(Z,J){return J===void 0&&(J=10),this.getPalette(Z,5,J)[0]},MZ.prototype.getPalette=function(Z,J,Q){var q=function(Y){var{colorCount:O,quality:U}=Y;if(O!==void 0&&Number.isInteger(O)){if(O===1)throw Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");O=Math.max(O,2),O=Math.min(O,20)}else O=10;return(U===void 0||!Number.isInteger(U)||U<1)&&(U=10),{colorCount:O,quality:U}}({colorCount:J,quality:Q}),K=new IE(Z),X=function(Y,O,U){for(var $,B,_,W,w,L=Y,R=[],G=0;G<O;G+=U)B=L[0+($=4*G)],_=L[$+1],W=L[$+2],((w=L[$+3])===void 0||w>=125)&&(B>250&&_>250&&W>250||R.push([B,_,W]));return R}(K.getImageData().data,K.width*K.height,q.quality),N=Ap(X,q.colorCount);return N?N.palette():null},MZ.prototype.getColorFromUrl=function(Z,J,Q){var q=this,K=document.createElement("img");K.addEventListener("load",function(){var X=q.getPalette(K,5,Q);J(X[0],Z)}),K.src=Z},MZ.prototype.getImageData=function(Z,J){var Q=new XMLHttpRequest;Q.open("GET",Z,!0),Q.responseType="arraybuffer",Q.onload=function(){if(this.status==200){var q=new Uint8Array(this.response);i=q.length;for(var K=Array(i),X=0;X<q.length;X++)K[X]=String.fromCharCode(q[X]);var N=K.join(""),Y=window.btoa(N);J("data:image/png;base64,"+Y)}},Q.send()},MZ.prototype.getColorAsync=function(Z,J,Q){var q=this;this.getImageData(Z,function(K){var X=document.createElement("img");X.addEventListener("load",function(){var N=q.getPalette(X,5,Q);J(N[0],this)}),X.src=K})};var $p=Symbol.for("react.transitional.element"),Dp=Symbol.for("react.fragment");function TE(Z,J,Q){var q=null;if(Q!==void 0&&(q=""+Q),J.key!==void 0&&(q=""+J.key),"key"in J){Q={};for(var K in J)K!=="key"&&(Q[K]=J[K])}else Q=J;return J=Q.ref,{$$typeof:$p,type:Z,key:q,ref:J!==void 0?J:null,props:Q}}var v5=Dp,x=TE,Z0=TE;function SE({isOpen:Z,onToggle:J}){return x("button",{onClick:J,className:`fixed top-4 z-60 p-2 rounded-md shadow-md cursor-pointer transition-all duration-300 ${Z?"left-50 shadow-none hover:bg-neutral-500":"left-4 bg-white hover:bg-gray-50"}`,"aria-label":"Toggle menu",children:Z0("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[x("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white rotate-45 translate-y-0.5":"bg-gray-600 -translate-y-1"}`}),x("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white opacity-0":"bg-gray-600 opacity-100"}`}),x("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white -rotate-45 -translate-y-0.5":"bg-gray-600 translate-y-1"}`})]})})}function bE({isDragOver:Z,onFileChange:J,onDrop:Q,onDragOver:q,onDragLeave:K}){return Z0("div",{className:"max-w-7xl mx-auto text-center",children:[x("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"Web Image Tools"}),x("p",{className:"mb-8 text-neutral-400",children:"View, analyze, and edit images in your browser. Fully local and private."}),x("p",{className:"mb-8 text-neutral-400",children:" Please note that the app is under development and may not work as expected."}),Z0("div",{className:`border-2 border-dashed rounded-lg p-8 mb-4 transition-colors size-[50vh] justify-self-center flex justify-center items-center ${Z?"border-sky-500 bg-sky-50":"border-neutral-500"}`,onDrop:Q,onDragOver:q,onDragLeave:K,children:[x("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",id:"file-input"}),x("label",{htmlFor:"file-input",className:"cursor-pointer",children:Z0("div",{className:"text-neutral-500",children:[x("p",{className:"text-lg font-semibold",children:"Click to select an image"}),x("p",{children:"or drag and drop it here"})]})})]})]})}function QK({menuName:Z,isActiveSection:J,handleSectionClick:Q}){return x("button",{onClick:Q,className:`w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer ${J?"bg-cyan-600":"hover:bg-neutral-500"}`,children:Z})}function kE({isOpen:Z,activeSection:J,onSectionChange:Q,onClose:q}){let K=(X)=>{Q(X),q()};return Z0(v5,{children:[Z&&x("div",{className:"fixed inset-0 bg-black/70 z-40",onClick:q}),x("div",{className:`fixed top-0 left-0 h-full w-64 bg-neutral-600 shadow-lg z-50 transform transition-transform duration-300 ${Z?"translate-x-0":"-translate-x-full"}`,children:Z0("div",{className:"p-6 h-full flex flex-col",children:[x("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Menu"}),x("div",{className:"border-b border-neutral-500 mb-4"}),Z0("nav",{className:"flex flex-col justify-between flex-grow w-full",children:[Z0("div",{className:"w-full",children:[x("span",{className:"text-neutral-400",children:"Tools"}),x(QK,{menuName:"Image Information",isActiveSection:J==="info",handleSectionClick:()=>K("info")}),x(QK,{menuName:"Color Palette",isActiveSection:J==="palette",handleSectionClick:()=>K("palette")}),x(QK,{menuName:"Filters & Edit",isActiveSection:J==="filters",handleSectionClick:()=>K("filters")}),x(QK,{menuName:"Optimization",isActiveSection:J==="optimization",handleSectionClick:()=>K("optimization")})]}),Z0("div",{className:"w-full",children:[x("span",{className:"text-neutral-400",children:"Settings"}),x("div",{className:"w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer hover:bg-neutral-500",children:x("span",{children:"Preferences"})})]})]})]})})]})}var qK=(Z)=>{let J=["B","KB","MB","GB"],Q=Z,q=0;while(Q>=1024&&q<J.length-1)Q/=1024,q++;return`${Q.toFixed(2)} ${J[q]}`};function PE(Z,J){return J===0?Z:PE(J,Z%J)}function Bp(Z,J){let Q=PE(Z,J);return`${Z/Q}:${J/Q}`}function _p(Z){let J=Z.replace(/\.[^/.]+$/,"");if(J.length>20)return J.slice(0,20)+"[...]";return J}function vE({imageInfo:Z}){return Z0("div",{className:"text-left mx-auto flex gap-8",children:[Z0("div",{className:"grid grid-cols-[auto_1fr] mb-4 grid-rows-[min-content] self-start col-2-alternating-colors",children:[x("strong",{className:"pr-3 p-1",children:"File Name:"}),x("span",{className:"p-1",title:Z.name,children:_p(Z.name)}),x("strong",{className:"pr-3 p-1",children:"File Size:"}),x("span",{className:"p-1",children:qK(Z.fileSize)}),Z.format&&Z0(v5,{children:[x("strong",{className:"pr-3 p-1",children:"Format:"}),Z0("span",{className:"p-1",children:[".",Z.format.toUpperCase()]})]}),Z.dimensions&&Z0(v5,{children:[x("strong",{className:"pr-3 p-1",children:"Dimensions:"}),Z0("span",{className:"p-1",children:[Z.dimensions.width," x ",Z.dimensions.height," ","pixels"]}),x("strong",{className:"pr-3 p-1",children:"Aspect:"}),x("span",{className:"p-1",children:Bp(Z.dimensions.width,Z.dimensions.height)})]}),Z.lastModified&&Z0(v5,{children:[x("strong",{className:"pr-3 p-1",children:"Modified:"}),x("span",{className:"p-1",children:Z.lastModified.toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})]}),Z.exif&&Object.keys(Z.exif).length>0&&Z0("div",{children:[x("strong",{children:"EXIF Data:"}),x("pre",{className:"text-sm bg-neutral-600 overflow-x-hidden max-h-40",children:JSON.stringify(Z.exif,null,2)})]})]})}C5();function fE({palette:Z}){let[J,Q]=C1(6),[q,K]=C1(null),X=Z.slice(0,J),N=(U,$,B)=>{return"#"+[U,$,B].map((_)=>{let W=_.toString(16);return W.length===1?"0"+W:W}).join("")},Y=async(U,$)=>{try{await navigator.clipboard.writeText(U),K($),setTimeout(()=>K(null),1500)}catch(B){let _=document.createElement("textarea");_.value=U,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),K($),setTimeout(()=>K(null),1500)}},O=()=>{let U={};X.forEach((w,L)=>{let R=N(w[0]??0,w[1]??0,w[2]??0),G=`color_${String(L+1).padStart(2,"0")}`;U[G]=R});let $=JSON.stringify(U,null,2),B=new Blob([$],{type:"application/json"}),_=URL.createObjectURL(B),W=document.createElement("a");W.href=_,W.download="color-palette.json",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(_)};return Z0("div",{className:"text-left max-w-md mx-auto",children:[x("h2",{className:"text-2xl font-semibold mb-4",children:"Color Palette"}),Z0("div",{className:"mb-4",children:[Z0("label",{className:"block text-sm font-medium mb-2",children:["Number of Colors: ",J]}),x("input",{type:"range",min:"3",max:"32",value:J,onChange:(U)=>Q(Number(U.target.value)),className:"w-full"})]}),x("div",{className:"grid grid-cols-8 gap-2 max-w-lg",children:X.map((U,$)=>{let B=N(U[0]??0,U[1]??0,U[2]??0),_=q===$;return x("div",{className:`w-10 h-10 rounded border cursor-pointer transition-all duration-200 hover:scale-110 hover:shadow-lg ${_?"ring-2 ring-green-400 ring-offset-2":""}`,style:{backgroundColor:`rgb(${U[0]}, ${U[1]}, ${U[2]})`},title:`RGB(${U[0]??0}, ${U[1]??0}, ${U[2]??0}) | ${B} ${_?"(Copied!)":"(Click to copy)"}`,onClick:()=>Y(B,$),children:_&&x("div",{className:"w-full h-full rounded border flex items-center justify-center bg-black bg-opacity-50 text-white text-xs font-bold",children:""})},$)})}),x("div",{className:"mt-4 flex justify-center",children:x("button",{onClick:O,className:"px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 transition-colors cursor-pointer",children:"Download Palette"})})]})}var Mp=["png","jpeg","webp","avif"];function yE({convertFormat:Z,setConvertFormat:J,compressionValue:Q,setCompressionValue:q,onOptimize:K,onDownload:X,optimizedImage:N,imageInfo:Y,optimizedSize:O}){return x(v5,{children:x("div",{className:"text-left max-w-md mx-auto",children:Z0("div",{className:"space-y-4",children:[Z0("div",{className:"flex items-center gap-4",children:[x("label",{htmlFor:"format-select",className:"font-medium",children:"Format:"}),x("select",{id:"format-select",value:Z,onChange:(U)=>J(U.target.value),className:"bg-neutral-500 rounded px-2 py-1 cursor-pointer",children:Mp.map((U)=>x("option",{value:U,children:U.toUpperCase()},U))})]}),Z0("div",{className:"flex gap-4 items-center",children:[x("label",{className:"font-medium",children:"Quality:"}),x("input",{type:"range",min:0.1,max:1,step:0.1,value:Q,onChange:(U)=>q(parseFloat(U.target.value)),className:`flex-1 ${Z==="png"?"cursor-not-allowed opacity-50":""}`,disabled:Z==="png",title:Z==="png"?"Quality not applicable for PNG format":void 0}),Z0("span",{className:"w-12 text-center",children:[Math.round(Q*100),"%"]})]}),N&&Y&&O&&Z0("div",{className:"mt-4 flex items-center justify-between gap-4",children:[x("label",{className:"font-medium",children:"New size:"}),Y.fileSize>O?Z0(v5,{children:[x("span",{children:qK(O)}),Z0("span",{className:"text-emerald-500 font-semibold",children:["",Math.abs((1-O/Y.fileSize)*100).toFixed(1),"%"]})]}):Z0(v5,{children:[x("span",{children:qK(O)}),Z0("span",{className:"text-rose-500 font-semibold",children:["",Math.abs((O/Y.fileSize-1)*100).toFixed(1),"%"]})]})]}),Z0("div",{className:"flex gap-4 items-center justify-center",children:[x("button",{onClick:K,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Optimize"}),x("button",{onClick:X,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 cursor-pointer",disabled:!N,children:"Download"})]})]})})})}C5();C5();var KK={layers:[],workingLayer:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0},editHistory:[],historyIndex:-1};function hE(Z,J){switch(J.type){case"SET_WORKING_LAYER":return{...Z,workingLayer:J.payload};case"APPLY_LAYER":let Q={type:"committed",values:{...Z.workingLayer}};return{...Z,layers:[...Z.layers,Q],workingLayer:KK.workingLayer,editHistory:[...Z.editHistory,Z.workingLayer],historyIndex:Z.historyIndex+1};case"RESET_FILTERS":return{...Z,layers:[],workingLayer:KK.workingLayer,editHistory:[],historyIndex:-1};case"UNDO":if(Z.historyIndex<0)return Z;if(Z.historyIndex===0)return{...Z,layers:[],workingLayer:KK.workingLayer,historyIndex:-1};let q=Z.editHistory[Z.historyIndex-1];return{...Z,layers:Z.layers.slice(0,-1),workingLayer:q,historyIndex:Z.historyIndex-1};case"REDO":if(Z.historyIndex>=Z.editHistory.length-1)return Z;let K=Z.historyIndex+1,X=Z.editHistory[K],N={type:"committed",values:X};return{...Z,layers:[...Z.layers,N],workingLayer:X,historyIndex:K};default:return Z}}var xE=u9(void 0),gE=({children:Z})=>{let[J,Q]=LJ(hE,KK),q=(O)=>{Q({type:"SET_WORKING_LAYER",payload:O})},K=()=>{Q({type:"APPLY_LAYER"})},X=()=>{Q({type:"RESET_FILTERS"})},N=()=>{Q({type:"UNDO"})},Y=()=>{Q({type:"REDO"})};return x(xE.Provider,{value:{filterState:J,setWorkingLayer:q,applyFilter:K,undo:N,resetFilters:X,redo:Y},children:Z})},nN=()=>{let Z=wJ(xE);if(!Z)throw Error("useFilter must be used within a FilterProvider");return Z};var mE={none:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0,name:"None"},vintage:{hue:15,saturation:80,brightness:110,contrast:105,grayscale:0,invert:0,blur:0,name:"Vintage"},cool:{hue:200,saturation:90,brightness:105,contrast:115,grayscale:0,invert:0,blur:0,name:"Cool"},warm:{hue:25,saturation:110,brightness:105,contrast:105,grayscale:0,invert:0,blur:0,name:"Warm"},dramatic:{hue:0,saturation:70,brightness:90,contrast:130,grayscale:0,invert:0,blur:0,name:"Dramatic"},soft:{hue:0,saturation:85,brightness:95,contrast:85,grayscale:0,invert:0,blur:0,name:"Soft"},highContrast:{hue:0,saturation:100,brightness:110,contrast:140,grayscale:0,invert:0,blur:0,name:"High Contrast"},sepia:{hue:35,saturation:50,brightness:100,contrast:110,grayscale:0,invert:0,blur:0,name:"Sepia"},blackAndWhite:{hue:0,saturation:0,brightness:100,contrast:120,grayscale:100,invert:0,blur:0,name:"Black & White"},filmNoir:{hue:0,saturation:0,brightness:80,contrast:150,grayscale:100,invert:0,blur:0,name:"Film Noir"},dreamy:{hue:0,saturation:90,brightness:110,contrast:105,grayscale:0,invert:0,blur:3,name:"Dreamy"},negative:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:100,blur:0,name:"Negative"}};function dE(){let{filterState:Z,setWorkingLayer:J,applyFilter:Q,resetFilters:q,undo:K,redo:X}=nN(),[N,Y]=C1("none"),O=(U)=>{let $=mE[U];J({hue:$.hue,saturation:$.saturation,brightness:$.brightness,contrast:$.contrast,grayscale:$.grayscale,invert:$.invert,blur:$.blur}),Y(U)};return Z0("div",{className:"text-left mx-auto",children:[Z0("div",{className:"space-y-6",children:[Z0("div",{children:[x("h3",{className:"text-lg font-medium mb-3",children:"Filter Presets"}),x("div",{className:"space-y-4",children:Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Preset:"}),x("select",{value:N,onChange:(U)=>O(U.target.value),className:"flex-1 bg-neutral-500 text-white rounded px-2 py-1",children:Object.entries(mE).map(([U,$])=>x("option",{value:U,children:$.name},U))})]})})]}),Z0("div",{className:"flex gap-6",children:[Z0("div",{children:[x("h3",{className:"text-lg font-medium mb-3",children:"Color Adjustments"}),Z0("div",{className:"space-y-4",children:[Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Hue:"}),x("input",{type:"range",min:"0",max:"360",value:Z.workingLayer.hue,onChange:(U)=>J({...Z.workingLayer,hue:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.hue,""]})]}),Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Saturation:"}),x("input",{type:"range",min:"0",max:"200",value:Z.workingLayer.saturation,onChange:(U)=>J({...Z.workingLayer,saturation:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.saturation,"%"]})]}),Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Brightness:"}),x("input",{type:"range",min:"0",max:"200",value:Z.workingLayer.brightness,onChange:(U)=>J({...Z.workingLayer,brightness:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.brightness,"%"]})]}),Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Contrast:"}),x("input",{type:"range",min:"0",max:"200",value:Z.workingLayer.contrast,onChange:(U)=>J({...Z.workingLayer,contrast:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.contrast,"%"]})]})]})]}),Z0("div",{children:[x("h3",{className:"text-lg font-medium mb-3",children:"Effects"}),Z0("div",{className:"space-y-4",children:[Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Grayscale:"}),x("input",{type:"range",min:"0",max:"100",value:Z.workingLayer.grayscale,onChange:(U)=>J({...Z.workingLayer,grayscale:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.grayscale,"%"]})]}),Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Invert:"}),x("input",{type:"range",min:"0",max:"100",value:Z.workingLayer.invert,onChange:(U)=>J({...Z.workingLayer,invert:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.invert,"%"]})]}),Z0("div",{className:"flex items-center gap-4",children:[x("label",{className:"w-20 text-sm font-medium",children:"Blur:"}),x("input",{type:"range",min:"0",max:"20",value:Z.workingLayer.blur,onChange:(U)=>J({...Z.workingLayer,blur:Number(U.target.value)}),className:"flex-1"}),Z0("span",{className:"w-12 text-center text-sm",children:[Z.workingLayer.blur,"px"]})]})]})]})]})]}),Z0("div",{className:"flex justify-center gap-4 mt-4",children:[x("button",{onClick:K,disabled:Z.historyIndex<0,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Undo"}),x("button",{onClick:X,disabled:Z.historyIndex>=Z.editHistory.length-1,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Redo"}),x("button",{onClick:q,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Reset All"}),x("button",{onClick:Q,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Apply"})]})]})}function cE({clearImage:Z}){return x("button",{onClick:Z,className:"fixed top-4 left-16 z-50 w-10 h-10 p-2 bg-rose-800 text-white font-bold rounded-md flex items-center justify-center hover:bg-rose-700 transition-colors cursor-pointer",title:"Clear image",children:""})}function uE({children:Z,toolDrawerOpen:J,setToolDrawerOpen:Q,activeSection:q}){return Z0("div",{className:`fixed bottom-0 left-1/2 -translate-x-1/2 h-max max-h-104 w-max bg-neutral-700 shadow-2xl rounded-t-lg transform transition-transform duration-300 ease-in-out z-40 ${J?"translate-y-0":"translate-y-[calc(100%-3rem)]"}`,children:[Z0("div",{onClick:()=>Q(!J),className:"px-6 py-3 rounded-t-lg cursor-pointer hover:bg-neutral-600 transition-colors flex items-center justify-center gap-3 shadow-lg",children:[Z0("span",{className:"font-medium",children:[q==="info"&&"Image Info",q==="palette"&&"Color Palette",q==="optimization"&&"Optimization",q==="filters"&&"Filters & Edit",q==="transform"&&"Transform"]}),x("span",{className:`transform transition-transform duration-200 ${J?"rotate-180":""}`,children:""})]}),x("div",{className:"p-6 h-full overflow-y-auto",children:Z})]})}C5();function lE({message:Z="Loading..."}){let[J,Q]=C1(0);return i8(()=>{let q=setInterval(()=>{Q((K)=>K<90?K+10:K)},200);return()=>clearInterval(q)},[]),x("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:Z0("div",{className:"text-center",children:[x("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4"}),x("div",{className:"w-64 bg-gray-700 rounded-full h-2 mb-4",children:x("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${J}%`}})}),x("p",{className:"text-white text-lg",children:Z}),x("p",{className:"text-gray-400 text-sm mt-2",children:"This may take a moment on slower connections..."})]})})}C5();function pE(Z,J,Q){if(!Z)return;if(Q(Z)===!0)return Z;let q=J?Z.return:Z.child;for(;q;){let K=pE(q,J,Q);if(K)return K;q=J?null:q.sibling}}function iE(Z){try{return Object.defineProperties(Z,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(J){return Z}}var ND=iE(u9(null));class oN extends zA{render(){return jJ(ND.Provider,{value:this._reactInternals},this.props.children)}}function Wp(){let Z=wJ(ND);if(Z===null)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let J=HA();return E7(()=>{for(let Q of[Z,Z==null?void 0:Z.alternate]){if(!Q)continue;let q=pE(Q,!1,(K)=>{let X=K.memoizedState;for(;X;){if(X.memoizedState===J)return!0;X=X.next}});if(q)return q}},[Z,J])}var Gp=Symbol.for("react.context"),Fp=(Z)=>Z!==null&&typeof Z=="object"&&("$$typeof"in Z)&&Z.$$typeof===Gp;function jp(){let Z=Wp(),[J]=C1(()=>new Map);J.clear();let Q=Z;for(;Q;){let q=Q.type;Fp(q)&&q!==ND&&!J.has(q)&&J.set(q,NA(iE(q))),Q=Q.return}return J}function aE(){let Z=jp();return E7(()=>Array.from(Z.keys()).reduce((J,Q)=>(q)=>jJ(J,null,jJ(Q.Provider,{...q,value:Z.get(Q)})),(J)=>jJ(oN,{...J})),[Z])}g();var gv={extension:{type:I.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.resolve().then(() => (xv(),Ea))}};g();var dv={extension:{type:I.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Promise.resolve().then(() => (mv(),Ia))}};g();TH();WH();g();l0();sK();var CY;function pv(Z){if(CY!==void 0)return CY;return CY=(()=>{let J={stencil:!0,failIfMajorPerformanceCaveat:Z??W9.defaultOptions.failIfMajorPerformanceCaveat};try{if(!K0.get().getWebGLRenderingContext())return!1;let q=K0.get().createCanvas().getContext("webgl",J),K=!!q?.getContextAttributes()?.stencil;if(q){let X=q.getExtension("WEBGL_lose_context");if(X)X.loseContext()}return q=null,K}catch(Q){return!1}})(),CY}l0();var RY;async function iv(Z={}){if(RY!==void 0)return RY;return RY=await(async()=>{let J=K0.get().getNavigator().gpu;if(!J)return!1;try{return await(await J.requestAdapter(Z)).requestDevice(),!0}catch(Q){return!1}})(),RY}sK();var Qx=["webgl","webgpu","canvas"];async function qx(Z){let J=[];if(Z.preference)J.push(Z.preference),Qx.forEach((X)=>{if(X!==Z.preference)J.push(X)});else J=Qx.slice();let Q,q={};for(let X=0;X<J.length;X++){let N=J[X];if(N==="webgpu"&&await iv()){let{WebGPURenderer:Y}=await Promise.resolve().then(() => (Ty(),Iy));Q=Y,q={...Z,...Z.webgpu};break}else if(N==="webgl"&&pv(Z.failIfMajorPerformanceCaveat??W9.defaultOptions.failIfMajorPerformanceCaveat)){let{WebGLRenderer:Y}=await Promise.resolve().then(() => (Jx(),Zx));Q=Y,q={...Z,...Z.webgl};break}else if(N==="canvas")throw q={...Z},Error("CanvasRenderer is not yet implemented")}if(delete q.webgpu,delete q.webgl,!Q)throw Error("No available renderer for the current environment");let K=new Q;return await K.init(q),K}C6();s_();$1();var Kx=class Z{constructor(...J){if(this.stage=new k0,J[0]!==void 0)q0(V0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(J){J={...J},this.renderer=await qx(J),Z._plugins.forEach((Q)=>{Q.init.call(this,J)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return q0(V0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(J=!1,Q=!1){let q=Z._plugins.slice(0);q.reverse(),q.forEach((K)=>{K.destroy.call(this)}),this.stage.destroy(Q),this.stage=null,this.renderer.destroy(J),this.renderer=null}};Kx._plugins=[];var XX=Kx;J0.handleByList(I.Application,XX._plugins);J0.add(fY);g();O9();tD();l0();g();EZ();bD();n1();u0();F_();L_();class bV extends uK{constructor(Z,J){super();let{textures:Q,data:q}=Z;Object.keys(q.pages).forEach((K)=>{let X=q.pages[parseInt(K,10)],N=Q[X.id];this.pages.push({texture:N})}),Object.keys(q.chars).forEach((K)=>{let X=q.chars[K],{frame:N,source:Y,rotate:O}=Q[X.page],U=i0.transformRectCoords(X,N,O,new A0),$=new p({frame:U,orig:new A0(0,0,X.width,X.height),source:Y,rotate:O});this.chars[K]={id:K.codePointAt(0),xOffset:X.xOffset,yOffset:X.yOffset,xAdvance:X.xAdvance,kerning:X.kerning??{},texture:$}}),this.baseRenderedFontSize=q.fontSize,this.baseMeasurementFontSize=q.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:q.fontSize},this.baseLineOffset=q.baseLineOffset,this.lineHeight=q.lineHeight,this.fontFamily=q.fontFamily,this.distanceField=q.distanceField??{type:"none",range:0},this.url=J}destroy(){super.destroy();for(let Z=0;Z<this.pages.length;Z++){let{texture:J}=this.pages[Z];J.destroy(!0)}this.pages=null}static install(Z){lK.install(Z)}static uninstall(Z){lK.uninstall(Z)}}var kV={test(Z){return typeof Z==="string"&&Z.startsWith("info face=")},parse(Z){let J=Z.match(/^[a-z]+\s+.+$/gm),Q={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let B in J){let _=J[B].match(/^[a-z]+/gm)[0],W=J[B].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),w={};for(let L in W){let R=W[L].split("="),G=R[0],j=R[1].replace(/"/gm,""),C=parseFloat(j),T=isNaN(C)?j:C;w[G]=T}Q[_].push(w)}let q={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[K]=Q.info,[X]=Q.common,[N]=Q.distanceField??[];if(N)q.distanceField={range:parseInt(N.distanceRange,10),type:N.fieldType};q.fontSize=parseInt(K.size,10),q.fontFamily=K.face,q.lineHeight=parseInt(X.lineHeight,10);let Y=Q.page;for(let B=0;B<Y.length;B++)q.pages.push({id:parseInt(Y[B].id,10)||0,file:Y[B].file});let O={};q.baseLineOffset=q.lineHeight-parseInt(X.base,10);let U=Q.char;for(let B=0;B<U.length;B++){let _=U[B],W=parseInt(_.id,10),w=_.letter??_.char??String.fromCharCode(W);if(w==="space")w=" ";O[W]=w,q.chars[w]={id:W,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}let $=Q.kerning||[];for(let B=0;B<$.length;B++){let _=parseInt($[B].first,10),W=parseInt($[B].second,10),w=parseInt($[B].amount,10);q.chars[O[W]].kerning[O[_]]=w}return q}};l0();var cM={test(Z){let J=Z;return typeof J!=="string"&&"getElementsByTagName"in J&&J.getElementsByTagName("page").length&&J.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(Z){let J={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},Q=Z.getElementsByTagName("info")[0],q=Z.getElementsByTagName("common")[0],K=Z.getElementsByTagName("distanceField")[0];if(K)J.distanceField={type:K.getAttribute("fieldType"),range:parseInt(K.getAttribute("distanceRange"),10)};let X=Z.getElementsByTagName("page"),N=Z.getElementsByTagName("char"),Y=Z.getElementsByTagName("kerning");J.fontSize=parseInt(Q.getAttribute("size"),10),J.fontFamily=Q.getAttribute("face"),J.lineHeight=parseInt(q.getAttribute("lineHeight"),10);for(let U=0;U<X.length;U++)J.pages.push({id:parseInt(X[U].getAttribute("id"),10)||0,file:X[U].getAttribute("file")});let O={};J.baseLineOffset=J.lineHeight-parseInt(q.getAttribute("base"),10);for(let U=0;U<N.length;U++){let $=N[U],B=parseInt($.getAttribute("id"),10),_=$.getAttribute("letter")??$.getAttribute("char")??String.fromCharCode(B);if(_==="space")_=" ";O[B]=_,J.chars[_]={id:B,page:parseInt($.getAttribute("page"),10)||0,x:parseInt($.getAttribute("x"),10),y:parseInt($.getAttribute("y"),10),width:parseInt($.getAttribute("width"),10),height:parseInt($.getAttribute("height"),10),xOffset:parseInt($.getAttribute("xoffset"),10),yOffset:parseInt($.getAttribute("yoffset"),10),xAdvance:parseInt($.getAttribute("xadvance"),10),kerning:{}}}for(let U=0;U<Y.length;U++){let $=parseInt(Y[U].getAttribute("first"),10),B=parseInt(Y[U].getAttribute("second"),10),_=parseInt(Y[U].getAttribute("amount"),10);J.chars[O[B]].kerning[O[$]]=_}return J}};var uM={test(Z){if(typeof Z==="string"&&Z.includes("<font>"))return cM.test(K0.get().parseXML(Z));return!1},parse(Z){return cM.parse(K0.get().parseXML(Z))}};var Hs=[".xml",".fnt"],Xx={extension:{type:I.CacheParser,name:"cacheBitmapFont"},test:(Z)=>Z instanceof bV,getCacheableAssets(Z,J){let Q={};return Z.forEach((q)=>{Q[q]=J,Q[`${q}-bitmap`]=J}),Q[`${J.fontFamily}-bitmap`]=J,Q}},zx={extension:{type:I.LoadParser,priority:h5.Normal},name:"loadBitmapFont",id:"bitmap-font",test(Z){return Hs.includes(o1.extname(Z).toLowerCase())},async testParse(Z){return kV.test(Z)||uM.test(Z)},async parse(Z,J,Q){let q=kV.test(Z)?kV.parse(Z):uM.parse(Z),{src:K}=J,{pages:X}=q,N=[],Y=q.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let B=0;B<X.length;++B){let _=X[B].file,W=o1.join(o1.dirname(K),_);W=FK(W,K),N.push({src:W,data:Y})}let O=await Q.load(N),U=N.map((B)=>O[B.src]);return new bV({data:q,textures:U},K)},async load(Z,J){return await(await K0.get().fetch(Z)).text()},async unload(Z,J,Q){await Promise.all(Z.pages.map((q)=>Q.unload(q.texture.source._sourceOrigin))),Z.destroy()}};c0();class lM{constructor(Z,J=!1){this._loader=Z,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=J}add(Z){if(Z.forEach((J)=>{this._assetList.push(J)}),this.verbose)console.log("[BackgroundLoader] assets: ",this._assetList);if(this._isActive&&!this._isLoading)this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let Z=[],J=Math.min(this._assetList.length,this._maxConcurrent);for(let Q=0;Q<J;Q++)Z.push(this._assetList.pop());await this._loader.load(Z),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(Z){if(this._isActive===Z)return;if(this._isActive=Z,Z&&!this._isLoading)this._next()}}U9();g();u0();var Nx={extension:{type:I.CacheParser,name:"cacheTextureArray"},test:(Z)=>Array.isArray(Z)&&Z.every((J)=>J instanceof p),getCacheableAssets:(Z,J)=>{let Q={};return Z.forEach((q)=>{J.forEach((K,X)=>{Q[q+(X===0?"":X+1)]=K})}),Q}};g();async function PV(Z){if("Image"in globalThis)return new Promise((J)=>{let Q=new Image;Q.onload=()=>{J(!0)},Q.onerror=()=>{J(!1)},Q.src=Z});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let J=await(await fetch(Z)).blob();await createImageBitmap(J)}catch(J){return!1}return!0}return!1}var Hx={extension:{type:I.DetectionParser,priority:1},test:async()=>PV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async(Z)=>[...Z,"avif"],remove:async(Z)=>Z.filter((J)=>J!=="avif")};g();var Yx=["png","jpg","jpeg"],Vx={extension:{type:I.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async(Z)=>[...Z,...Yx],remove:async(Z)=>Z.filter((J)=>!Yx.includes(J))};g();var Ys="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function F9(Z){if(Ys)return!1;return document.createElement("video").canPlayType(Z)!==""}var Ox={extension:{type:I.DetectionParser,priority:0},test:async()=>F9("video/mp4"),add:async(Z)=>[...Z,"mp4","m4v"],remove:async(Z)=>Z.filter((J)=>J!=="mp4"&&J!=="m4v")};g();var Ux={extension:{type:I.DetectionParser,priority:0},test:async()=>F9("video/ogg"),add:async(Z)=>[...Z,"ogv"],remove:async(Z)=>Z.filter((J)=>J!=="ogv")};g();var Ax={extension:{type:I.DetectionParser,priority:0},test:async()=>F9("video/webm"),add:async(Z)=>[...Z,"webm"],remove:async(Z)=>Z.filter((J)=>J!=="webm")};g();var $x={extension:{type:I.DetectionParser,priority:0},test:async()=>PV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async(Z)=>[...Z,"webp"],remove:async(Z)=>Z.filter((J)=>J!=="webp")};c0();EZ();GK();MH();var Dx=class Z{constructor(){this.loadOptions={...Z.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(J,Q,q)=>{return this._parsersValidated=!1,J[Q]=q,!0}}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(J,Q){let q={promise:null,parser:null};return q.promise=(async()=>{let K=null,X=null;if(Q.parser||Q.loadParser){if(X=this._parserHash[Q.parser||Q.loadParser],Q.loadParser)e(`[Assets] "loadParser" is deprecated, use "parser" instead for ${J}`);if(!X)e(`[Assets] specified load parser "${Q.parser||Q.loadParser}" not found while loading ${J}`)}if(!X){for(let N=0;N<this.parsers.length;N++){let Y=this.parsers[N];if(Y.load&&Y.test?.(J,Q,this)){X=Y;break}}if(!X)return e(`[Assets] ${J} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}K=await X.load(J,Q,this),q.parser=X;for(let N=0;N<this.parsers.length;N++){let Y=this.parsers[N];if(Y.parse){if(Y.parse&&await Y.testParse?.(K,Q,this))K=await Y.parse(K,Q,this)||K,q.parser=Y}}return K})(),q}async load(J,Q){if(!this._parsersValidated)this._validateParsers();let q=typeof Q==="function"?{...Z.defaultOptions,...this.loadOptions,onProgress:Q}:{...Z.defaultOptions,...this.loadOptions,...Q||{}},{onProgress:K,onError:X,strategy:N,retryCount:Y,retryDelay:O}=q,U=0,$={},B=IZ(J),_=x5(J,(L)=>({alias:[L],src:L,data:{}})),W=_.reduce((L,R)=>L+(R.progressSize||1),0),w=_.map(async(L)=>{let R=o1.toAbsolute(L.src);if($[L.src])return;if(await this._loadAssetWithRetry(R,L,{onProgress:K,onError:X,strategy:N,retryCount:Y,retryDelay:O},$),U+=L.progressSize||1,K)K(U/W)});return await Promise.all(w),B?$[_[0].src]:$}async unload(J){let q=x5(J,(K)=>({alias:[K],src:K})).map(async(K)=>{let X=o1.toAbsolute(K.src),N=this.promiseCache[X];if(N){let Y=await N.promise;delete this.promiseCache[X],await N.parser?.unload?.(Y,K,this)}});await Promise.all(q)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((J)=>J.name||J.id).reduce((J,Q)=>{if(!Q.name&&!Q.id)e("[Assets] parser should have an id");else if(J[Q.name]||J[Q.id])e(`[Assets] parser id conflict "${Q.id}"`);if(J[Q.name]=Q,Q.id)J[Q.id]=Q;return J},{})}async _loadAssetWithRetry(J,Q,q,K){let X=0,{onError:N,strategy:Y,retryCount:O,retryDelay:U}=q,$=(B)=>new Promise((_)=>setTimeout(_,B));while(!0)try{if(!this.promiseCache[J])this.promiseCache[J]=this._getLoadPromiseAndParser(J,Q);K[Q.src]=await this.promiseCache[J].promise;return}catch(B){delete this.promiseCache[J],delete K[Q.src],X++;let _=Y!=="retry"||X>O;if(Y==="retry"&&!_){if(N)N(B,Q);await $(U);continue}if(Y==="skip"){if(N)N(B,Q);return}if(N)N(B,Q);throw Error(`[Loader.load] Failed to load ${J}.
${B}`)}}};Dx.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};var Bx=Dx;l0();g();function Y6(Z,J){if(Array.isArray(J)){for(let Q of J)if(Z.startsWith(`data:${Q}`))return!0;return!1}return Z.startsWith(`data:${J}`)}EZ();function V6(Z,J){let Q=Z.split("?")[0],q=o1.extname(Q).toLowerCase();if(Array.isArray(J))return J.includes(q);return q===J}O9();var Vs=".json",Os="application/json",_x={extension:{type:I.LoadParser,priority:h5.Low},name:"loadJson",id:"json",test(Z){return Y6(Z,Os)||V6(Z,Vs)},async load(Z){return await(await K0.get().fetch(Z)).json()}};l0();g();O9();var Us=".txt",As="text/plain",Mx={name:"loadTxt",id:"text",extension:{type:I.LoadParser,priority:h5.Low,name:"loadTxt"},test(Z){return Y6(Z,As)||V6(Z,Us)},async load(Z){return await(await K0.get().fetch(Z)).text()}};l0();g();c0();EZ();U9();O9();var $s=["normal","bold","100","200","300","400","500","600","700","800","900"],Ds=[".ttf",".otf",".woff",".woff2"],Bs=["font/ttf","font/otf","font/woff","font/woff2"],_s=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ms(Z){let J=o1.extname(Z),K=o1.basename(Z,J).replace(/(-|_)/g," ").toLowerCase().split(" ").map((Y)=>Y.charAt(0).toUpperCase()+Y.slice(1)),X=K.length>0;for(let Y of K)if(!Y.match(_s)){X=!1;break}let N=K.join(" ");if(!X)N=`"${N.replace(/[\\"]/g,"\\$&")}"`;return N}var Ws=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Gs(Z){if(Ws.test(Z))return Z;return encodeURI(Z)}var Wx={extension:{type:I.LoadParser,priority:h5.Low},name:"loadWebFont",id:"web-font",test(Z){return Y6(Z,Bs)||V6(Z,Ds)},async load(Z,J){let Q=K0.get().getFontFaceSet();if(Q){let q=[],K=J.data?.family??Ms(Z),X=J.data?.weights?.filter((Y)=>$s.includes(Y))??["normal"],N=J.data??{};for(let Y=0;Y<X.length;Y++){let O=X[Y],U=new FontFace(K,`url(${Gs(Z)})`,{...N,weight:O});await U.load(),Q.add(U),q.push(U)}if(P0.has(`${K}-and-url`))P0.get(`${K}-and-url`).entries.push({url:Z,faces:q});else P0.set(`${K}-and-url`,{entries:[{url:Z,faces:q}]});return q.length===1?q[0]:q}return e("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(Z){let J=Array.isArray(Z)?Z:[Z],Q=J[0].family,q=P0.get(`${Q}-and-url`),K=q.entries.find((X)=>X.faces.some((N)=>J.indexOf(N)!==-1));if(K.faces=K.faces.filter((X)=>J.indexOf(X)===-1),K.faces.length===0)q.entries=q.entries.filter((X)=>X!==K);if(J.forEach((X)=>{K0.get().getFontFaceSet().delete(X)}),q.entries.length===0)P0.remove(`${Q}-and-url`)}};l0();g();S2();zY();I2();function KQ(Z,J=1){let Q=z6.RETINA_PREFIX?.exec(Z);if(Q)return parseFloat(Q[1]);return J}O9();u0();c0();U9();function XQ(Z,J,Q){Z.label=Q,Z._sourceOrigin=Q;let q=new p({source:Z,label:Q}),K=()=>{if(delete J.promiseCache[Q],P0.has(Q))P0.remove(Q)};return q.source.once("destroy",()=>{if(J.promiseCache[Q])e("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),K()}),q.once("destroy",()=>{if(!Z.destroyed)e("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),K()}),q}var Fs=".svg",js="image/svg+xml",Gx={extension:{type:I.LoadParser,priority:h5.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(Z){return Y6(Z,js)||V6(Z,Fs)},async load(Z,J,Q){if(J.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext)return Ls(Z);return ws(Z,J,Q,this.config.crossOrigin)},unload(Z){Z.destroy(!0)}};async function ws(Z,J,Q,q){let K=await K0.get().fetch(Z),X=K0.get().createImage();X.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await K.text())}`,X.crossOrigin=q,await X.decode();let N=J.data?.width??X.width,Y=J.data?.height??X.height,O=J.data?.resolution||KQ(Z),U=Math.ceil(N*O),$=Math.ceil(Y*O),B=K0.get().createCanvas(U,$),_=B.getContext("2d");_.imageSmoothingEnabled=!0,_.imageSmoothingQuality="high",_.drawImage(X,0,0,N*O,Y*O);let{parseAsGraphicsContext:W,...w}=J.data??{},L=new b8({resource:B,alphaMode:"premultiply-alpha-on-upload",resolution:O,...w});return XQ(L,Q,Z)}async function Ls(Z){let Q=await(await K0.get().fetch(Z)).text(),q=new m5;return q.svg(Q),q}l0();g();S2();var zQ=null;class zX{constructor(){if(!zQ)zQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`],{type:"application/javascript"}));this.worker=new Worker(zQ)}}zX.revokeObjectURL=function(){if(zQ)URL.revokeObjectURL(zQ),zQ=null};var NQ=null;class vV{constructor(){if(!NQ)NQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`],{type:"application/javascript"}));this.worker=new Worker(NQ)}}vV.revokeObjectURL=function(){if(NQ)URL.revokeObjectURL(NQ),NQ=null};var Fx=0,pM;class jx{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){if(this._isImageBitmapSupported!==void 0)return this._isImageBitmapSupported;return this._isImageBitmapSupported=new Promise((Z)=>{let{worker:J}=new zX;J.addEventListener("message",(Q)=>{J.terminate(),zX.revokeObjectURL(),Z(Q.data)})}),this._isImageBitmapSupported}loadImageBitmap(Z,J){return this._run("loadImageBitmap",[Z,J?.data?.alphaMode])}async _initWorkers(){if(this._initialized)return;this._initialized=!0}_getWorker(){if(pM===void 0)pM=navigator.hardwareConcurrency||4;let Z=this._workerPool.pop();if(!Z&&this._createdWorkers<pM)this._createdWorkers++,Z=new vV().worker,Z.addEventListener("message",(J)=>{this._complete(J.data),this._returnWorker(J.target),this._next()});return Z}_returnWorker(Z){this._workerPool.push(Z)}_complete(Z){if(Z.error!==void 0)this._resolveHash[Z.uuid].reject(Z.error);else this._resolveHash[Z.uuid].resolve(Z.data);this._resolveHash[Z.uuid]=null}async _run(Z,J){await this._initWorkers();let Q=new Promise((q,K)=>{this._queue.push({id:Z,arguments:J,resolve:q,reject:K})});return this._next(),Q}_next(){if(!this._queue.length)return;let Z=this._getWorker();if(!Z)return;let J=this._queue.pop(),Q=J.id;this._resolveHash[Fx]={resolve:J.resolve,reject:J.reject},Z.postMessage({data:J.arguments,uuid:Fx++,id:Q})}reset(){this._workerPool.forEach((Z)=>Z.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:Z})=>{Z?.(Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}var iM=new jx;O9();var Cs=[".jpeg",".jpg",".png",".webp",".avif"],Rs=["image/jpeg","image/png","image/webp","image/avif"];async function Es(Z,J){let Q=await K0.get().fetch(Z);if(!Q.ok)throw Error(`[loadImageBitmap] Failed to fetch ${Z}: ${Q.status} ${Q.statusText}`);let q=await Q.blob();return J?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(q,{premultiplyAlpha:"none"}):createImageBitmap(q)}var fV={name:"loadTextures",id:"texture",extension:{type:I.LoadParser,priority:h5.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(Z){return Y6(Z,Rs)||V6(Z,Cs)},async load(Z,J,Q){let q=null;if(globalThis.createImageBitmap&&this.config.preferCreateImageBitmap)if(this.config.preferWorkers&&await iM.isImageBitmapSupported())q=await iM.loadImageBitmap(Z,J);else q=await Es(Z,J);else q=await new Promise((X,N)=>{if(q=K0.get().createImage(),q.crossOrigin=this.config.crossOrigin,q.src=Z,q.complete)X(q);else q.onload=()=>{X(q)},q.onerror=N});let K=new b8({resource:q,alphaMode:"premultiply-alpha-on-upload",resolution:J.data?.resolution||KQ(Z),...J.data});return XQ(K,Q,Z)},unload(Z){Z.destroy(!0)}};g();KB();qB();var Is=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],aM,sM;function Ts(Z,J,Q){if(Q===void 0&&!J.startsWith("data:"))Z.crossOrigin=bs(J);else if(Q!==!1)Z.crossOrigin=typeof Q==="string"?Q:"anonymous"}function Ss(Z){return new Promise((J,Q)=>{Z.addEventListener("canplaythrough",q),Z.addEventListener("error",K),Z.load();function q(){X(),J()}function K(N){X(),Q(N)}function X(){Z.removeEventListener("canplaythrough",q),Z.removeEventListener("error",K)}})}function bs(Z,J=globalThis.location){if(Z.startsWith("data:"))return"";J||(J=globalThis.location);let Q=new URL(Z,document.baseURI);if(Q.hostname!==J.hostname||Q.port!==J.port||Q.protocol!==J.protocol)return"anonymous";return""}function ks(){let Z=[],J=[];for(let Q of Is){let q=TZ.MIME_TYPES[Q.substring(1)]||`video/${Q.substring(1)}`;if(F9(q)){if(Z.push(Q),!J.includes(q))J.push(q)}}return{validVideoExtensions:Z,validVideoMime:J}}var wx={name:"loadVideo",id:"video",extension:{type:I.LoadParser,name:"loadVideo"},test(Z){if(!aM||!sM){let{validVideoExtensions:q,validVideoMime:K}=ks();aM=q,sM=K}let J=Y6(Z,sM),Q=V6(Z,aM);return J||Q},async load(Z,J,Q){let q={...TZ.defaultOptions,resolution:J.data?.resolution||KQ(Z),alphaMode:J.data?.alphaMode||await EH(),...J.data},K=document.createElement("video"),X={preload:q.autoLoad!==!1?"auto":void 0,"webkit-playsinline":q.playsinline!==!1?"":void 0,playsinline:q.playsinline!==!1?"":void 0,muted:q.muted===!0?"":void 0,loop:q.loop===!0?"":void 0,autoplay:q.autoPlay!==!1?"":void 0};if(Object.keys(X).forEach((O)=>{let U=X[O];if(U!==void 0)K.setAttribute(O,U)}),q.muted===!0)K.muted=!0;Ts(K,Z,q.crossorigin);let N=document.createElement("source"),Y;if(q.mime)Y=q.mime;else if(Z.startsWith("data:"))Y=Z.slice(5,Z.indexOf(";"));else if(!Z.startsWith("blob:")){let O=Z.split("?")[0].slice(Z.lastIndexOf(".")+1).toLowerCase();Y=TZ.MIME_TYPES[O]||`video/${O}`}if(N.src=Z,Y)N.type=Y;return new Promise((O)=>{let U=async()=>{let $=new TZ({...q,resource:K});if(K.removeEventListener("canplay",U),J.data.preload)await Ss(K);O(XQ($,Q,Z))};if(q.preload&&!q.autoPlay)K.load();K.addEventListener("canplay",U),K.appendChild(N)})},unload(Z){Z.destroy(!0)}};g();I2();g();I2();var yV={extension:{type:I.ResolveParser,name:"resolveTexture"},test:fV.test,parse:(Z)=>({resolution:parseFloat(z6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:Z.split(".").pop(),src:Z})};var Lx={extension:{type:I.ResolveParser,priority:-2,name:"resolveJson"},test:(Z)=>z6.RETINA_PREFIX.test(Z)&&Z.endsWith(".json"),parse:yV.parse};I2();GK();MH();class nM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new z6,this.loader=new Bx,this.cache=P0,this._backgroundLoader=new lM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(Z={}){if(this._initialized){e("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,Z.defaultSearchParams)this.resolver.setDefaultSearchParams(Z.defaultSearchParams);if(Z.basePath)this.resolver.basePath=Z.basePath;if(Z.bundleIdentifier)this.resolver.setBundleIdentifier(Z.bundleIdentifier);if(Z.manifest){let K=Z.manifest;if(typeof K==="string")K=await this.load(K);this.resolver.addManifest(K)}let J=Z.texturePreference?.resolution??1,Q=typeof J==="number"?[J]:J,q=await this._detectFormats({preferredFormats:Z.texturePreference?.format,skipDetections:Z.skipDetections,detections:this._detections});if(this.resolver.prefer({params:{format:q,resolution:Q}}),Z.preferences)this.setPreferences(Z.preferences);if(Z.loadOptions)this.loader.loadOptions={...this.loader.loadOptions,...Z.loadOptions}}add(Z){this.resolver.add(Z)}async load(Z,J){if(!this._initialized)await this.init();let Q=IZ(Z),q=x5(Z).map((N)=>{if(typeof N!=="string"){let Y=this.resolver.getAlias(N);if(Y.some((O)=>!this.resolver.hasKey(O)))this.add(N);return Array.isArray(Y)?Y[0]:Y}if(!this.resolver.hasKey(N))this.add({alias:N,src:N});return N}),K=this.resolver.resolve(q),X=await this._mapLoadToResolve(K,J);return Q?X[q[0]]:X}addBundle(Z,J){this.resolver.addBundle(Z,J)}async loadBundle(Z,J){if(!this._initialized)await this.init();let Q=!1;if(typeof Z==="string")Q=!0,Z=[Z];let q=this.resolver.resolveBundle(Z),K={},X=Object.keys(q),N=0,Y=[],O=()=>{J?.(Y.reduce(($,B)=>$+B,0)/N)},U=X.map(($,B)=>{let _=q[$],W=Object.values(_),L=[...new Set(W.flat())].reduce((R,G)=>R+(G.progressSize||1),0);return Y.push(0),N+=L,this._mapLoadToResolve(_,(R)=>{Y[B]=R*L,O()}).then((R)=>{K[$]=R})});return await Promise.all(U),Q?K[Z[0]]:K}async backgroundLoad(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolve(Z);this._backgroundLoader.add(Object.values(J))}async backgroundLoadBundle(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolveBundle(Z);Object.values(J).forEach((Q)=>{this._backgroundLoader.add(Object.values(Q))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(Z){if(typeof Z==="string")return P0.get(Z);let J={};for(let Q=0;Q<Z.length;Q++)J[Q]=P0.get(Z[Q]);return J}async _mapLoadToResolve(Z,J){let Q=[...new Set(Object.values(Z))];this._backgroundLoader.active=!1;let q=await this.loader.load(Q,J);this._backgroundLoader.active=!0;let K={};return Q.forEach((X)=>{let N=q[X.src],Y=[X.src];if(X.alias)Y.push(...X.alias);Y.forEach((O)=>{K[O]=N}),P0.set(Y,N)}),K}async unload(Z){if(!this._initialized)await this.init();let J=x5(Z).map((q)=>typeof q!=="string"?q.src:q),Q=this.resolver.resolve(J);await this._unloadFromResolved(Q)}async unloadBundle(Z){if(!this._initialized)await this.init();Z=x5(Z);let J=this.resolver.resolveBundle(Z),Q=Object.keys(J).map((q)=>this._unloadFromResolved(J[q]));await Promise.all(Q)}async _unloadFromResolved(Z){let J=Object.values(Z);J.forEach((Q)=>{P0.remove(Q.src)}),await this.loader.unload(J)}async _detectFormats(Z){let J=[];if(Z.preferredFormats)J=Array.isArray(Z.preferredFormats)?Z.preferredFormats:[Z.preferredFormats];for(let Q of Z.detections)if(Z.skipDetections||await Q.test())J=await Q.add(J);else if(!Z.skipDetections)J=await Q.remove(J);return J=J.filter((Q,q)=>J.indexOf(Q)===q),J}get detections(){return this._detections}setPreferences(Z){this.loader.parsers.forEach((J)=>{if(!J.config)return;Object.keys(J.config).filter((Q)=>(Q in Z)).forEach((Q)=>{J.config[Q]=Z[Q]})})}}var dZ=new nM;J0.handleByList(I.LoadParser,dZ.loader.parsers).handleByList(I.ResolveParser,dZ.resolver.parsers).handleByList(I.CacheParser,dZ.cache.parsers).handleByList(I.DetectionParser,dZ.detections);J0.add(Nx,Vx,Hx,$x,Ox,Ux,Ax,_x,Mx,Wx,Gx,fV,wx,zx,Xx,yV,Lx);var Cx={loader:I.LoadParser,resolver:I.ResolveParser,cache:I.CacheParser,detection:I.DetectionParser};J0.handle(I.Asset,(Z)=>{let J=Z.ref;Object.entries(Cx).filter(([Q])=>!!J[Q]).forEach(([Q,q])=>J0.add(Object.assign(J[Q],{extension:J[Q].extension??q})))},(Z)=>{let J=Z.ref;Object.keys(Cx).filter((Q)=>!!J[Q]).forEach((Q)=>J0.remove(J[Q]))});Z4();N6();$1();gZ();Z4();N6();gZ();Q4();var hV={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]};var Ps=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function Rx(Z){let J=hV[Z],Q=J.length,q=Ps,K="",X="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;",N;for(let Y=0;Y<Z;Y++){let O=X.replace("%index%",Y.toString());if(N=Y,Y>=Q)N=Z-Y-1;O=O.replace("%value%",J[N].toString()),K+=O,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q}function Ex(Z,J){let Q=Math.ceil(Z/2),q=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`,K="",X;if(J)X="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);";else X="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let N=0;N<Z;N++){let Y=X.replace("%index%",N.toString());Y=Y.replace("%sampleIndex%",`${N-(Q-1)}.0`),K+=Y,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q=q.replace("%dimension%",J?"z":"w"),q}function Ix(Z,J){let Q=Ex(J,Z),q=Rx(J);return z5.from({vertex:Q,fragment:q,name:`blur-${Z?"horizontal":"vertical"}-pass-filter`})}J7();var Tx=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function Sx(Z,J){let Q=hV[J],q=Q.length,K=[],X=[],N=[];for(let B=0;B<J;B++){if(K[B]=`@location(${B}) offset${B}: vec2<f32>,`,Z)X[B]=`filteredCord + vec2(${B-q+1} * pixelStrength, 0.0),`;else X[B]=`filteredCord + vec2(0.0, ${B-q+1} * pixelStrength),`;let _=B<q?B:J-B-1,W=Q[_].toString();N[B]=`finalColor += textureSample(uTexture, uSampler, offset${B}) * ${W};`}let Y=K.join(`
`),O=X.join(`
`),U=N.join(`
`),$=Tx.replace("%blur-struct%",Y).replace("%blur-vertex-out%",O).replace("%blur-fragment-in%",Y).replace("%blur-sampling%",U).replace("%dimension%",Z?"z":"w");return N5.from({vertex:{source:$,entryPoint:"mainVertex"},fragment:{source:$,entryPoint:"mainFragment"}})}var bx=class Z extends D1{constructor(J){J={...Z.defaultOptions,...J};let Q=Ix(J.horizontal,J.kernelSize),q=Sx(J.horizontal,J.kernelSize);super({glProgram:Q,gpuProgram:q,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...J});this.horizontal=J.horizontal,this._quality=0,this.quality=J.quality,this.blur=J.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(J,Q,q,K){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)J.applyFilter(this,Q,q,K);else{let X=a0.getSameSizeTexture(Q),N=Q,Y=X;this._state.blend=!1;let O=J.renderer.type===_1.WEBGPU;for(let U=0;U<this.passes-1;U++){J.applyFilter(this,N,Y,U===0?!0:O);let $=Y;Y=N,N=$}this._state.blend=!0,J.applyFilter(this,N,q,K),a0.returnTexture(X)}}get blur(){return this.strength}set blur(J){this.padding=1+Math.abs(J)*2,this.strength=J}get quality(){return this._quality}set quality(J){this._quality=J,this.passes=J}};bx.defaultOptions={strength:8,quality:4,kernelSize:5};var xV=bx;class cZ extends D1{constructor(...Z){let J=Z[0]??{};if(typeof J==="number"){if(q0(V0,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),J={strength:J},Z[1]!==void 0)J.quality=Z[1];if(Z[2]!==void 0)J.resolution=Z[2]||"inherit";if(Z[3]!==void 0)J.kernelSize=Z[3]}J={...xV.defaultOptions,...J};let{strength:Q,strengthX:q,strengthY:K,quality:X,...N}=J;super({...N,compatibleRenderers:_1.BOTH,resources:{}});this._repeatEdgePixels=!1,this.blurXFilter=new xV({horizontal:!0,...J}),this.blurYFilter=new xV({horizontal:!1,...J}),this.quality=X,this.strengthX=q??Q,this.strengthY=K??Q,this.repeatEdgePixels=!1}apply(Z,J,Q,q){let K=Math.abs(this.blurXFilter.strength),X=Math.abs(this.blurYFilter.strength);if(K&&X){let N=a0.getSameSizeTexture(J);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(Z,J,N,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,N,Q,q),a0.returnTexture(N)}else if(X)this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,J,Q,q);else this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(Z,J,Q,q)}updatePadding(){if(this._repeatEdgePixels)this.padding=0;else this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(Z){this.blurXFilter.blur=this.blurYFilter.blur=Z,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(Z){this.blurXFilter.quality=this.blurYFilter.quality=Z}get strengthX(){return this.blurXFilter.blur}set strengthX(Z){this.blurXFilter.blur=Z,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(Z){this.blurYFilter.blur=Z,this.updatePadding()}get blur(){return q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(Z){q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=Z}get blurX(){return q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(Z){q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=Z}get blurY(){return q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(Z){q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=Z}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(Z){this._repeatEdgePixels=Z,this.updatePadding()}}cZ.defaultOptions={strength:8,quality:4,kernelSize:5};E5();Q4();J7();I5();gZ();y_();var kx=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`;var oM=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class HQ extends D1{constructor(Z={}){let J=new p0({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),Q=N5.from({vertex:{source:oM,entryPoint:"mainVertex"},fragment:{source:oM,entryPoint:"mainFragment"}}),q=z5.from({vertex:jY,fragment:kx,name:"color-matrix-filter"});super({...Z,gpuProgram:Q,glProgram:q,resources:{colorMatrixUniforms:J}});this.alpha=1}_loadMatrix(Z,J=!1){let Q=Z;if(J)this._multiply(Q,this.matrix,Z),Q=this._colorMatrix(Q);this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Q,this.resources.colorMatrixUniforms.update()}_multiply(Z,J,Q){return Z[0]=J[0]*Q[0]+J[1]*Q[5]+J[2]*Q[10]+J[3]*Q[15],Z[1]=J[0]*Q[1]+J[1]*Q[6]+J[2]*Q[11]+J[3]*Q[16],Z[2]=J[0]*Q[2]+J[1]*Q[7]+J[2]*Q[12]+J[3]*Q[17],Z[3]=J[0]*Q[3]+J[1]*Q[8]+J[2]*Q[13]+J[3]*Q[18],Z[4]=J[0]*Q[4]+J[1]*Q[9]+J[2]*Q[14]+J[3]*Q[19]+J[4],Z[5]=J[5]*Q[0]+J[6]*Q[5]+J[7]*Q[10]+J[8]*Q[15],Z[6]=J[5]*Q[1]+J[6]*Q[6]+J[7]*Q[11]+J[8]*Q[16],Z[7]=J[5]*Q[2]+J[6]*Q[7]+J[7]*Q[12]+J[8]*Q[17],Z[8]=J[5]*Q[3]+J[6]*Q[8]+J[7]*Q[13]+J[8]*Q[18],Z[9]=J[5]*Q[4]+J[6]*Q[9]+J[7]*Q[14]+J[8]*Q[19]+J[9],Z[10]=J[10]*Q[0]+J[11]*Q[5]+J[12]*Q[10]+J[13]*Q[15],Z[11]=J[10]*Q[1]+J[11]*Q[6]+J[12]*Q[11]+J[13]*Q[16],Z[12]=J[10]*Q[2]+J[11]*Q[7]+J[12]*Q[12]+J[13]*Q[17],Z[13]=J[10]*Q[3]+J[11]*Q[8]+J[12]*Q[13]+J[13]*Q[18],Z[14]=J[10]*Q[4]+J[11]*Q[9]+J[12]*Q[14]+J[13]*Q[19]+J[14],Z[15]=J[15]*Q[0]+J[16]*Q[5]+J[17]*Q[10]+J[18]*Q[15],Z[16]=J[15]*Q[1]+J[16]*Q[6]+J[17]*Q[11]+J[18]*Q[16],Z[17]=J[15]*Q[2]+J[16]*Q[7]+J[17]*Q[12]+J[18]*Q[17],Z[18]=J[15]*Q[3]+J[16]*Q[8]+J[17]*Q[13]+J[18]*Q[18],Z[19]=J[15]*Q[4]+J[16]*Q[9]+J[17]*Q[14]+J[18]*Q[19]+J[19],Z}_colorMatrix(Z){let J=new Float32Array(Z);return J[4]/=255,J[9]/=255,J[14]/=255,J[19]/=255,J}brightness(Z,J){let Q=[Z,0,0,0,0,0,Z,0,0,0,0,0,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}tint(Z,J){let[Q,q,K]=G0.shared.setValue(Z).toArray(),X=[Q,0,0,0,0,0,q,0,0,0,0,0,K,0,0,0,0,0,1,0];this._loadMatrix(X,J)}greyscale(Z,J){let Q=[Z,Z,Z,0,0,Z,Z,Z,0,0,Z,Z,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}grayscale(Z,J){this.greyscale(Z,J)}blackAndWhite(Z){let J=[0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}hue(Z,J){Z=(Z||0)/180*Math.PI;let Q=Math.cos(Z),q=Math.sin(Z),K=Math.sqrt,X=0.3333333333333333,N=K(X),Y=Q+(1-Q)*X,O=X*(1-Q)-N*q,U=X*(1-Q)+N*q,$=X*(1-Q)+N*q,B=Q+X*(1-Q),_=X*(1-Q)-N*q,W=X*(1-Q)-N*q,w=X*(1-Q)+N*q,L=Q+X*(1-Q),R=[Y,O,U,0,0,$,B,_,0,0,W,w,L,0,0,0,0,0,1,0];this._loadMatrix(R,J)}contrast(Z,J){let Q=(Z||0)+1,q=-0.5*(Q-1),K=[Q,0,0,0,q,0,Q,0,0,q,0,0,Q,0,q,0,0,0,1,0];this._loadMatrix(K,J)}saturate(Z=0,J){let Q=Z*2/3+1,q=(Q-1)*-0.5,K=[Q,q,q,0,0,q,Q,q,0,0,q,q,Q,0,0,0,0,0,1,0];this._loadMatrix(K,J)}desaturate(){this.saturate(-1)}negative(Z){let J=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(J,Z)}sepia(Z){let J=[0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}technicolor(Z){let J=[1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(J,Z)}polaroid(Z){let J=[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}toBGR(Z){let J=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}kodachrome(Z){let J=[1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(J,Z)}browni(Z){let J=[0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(J,Z)}vintage(Z){let J=[0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(J,Z)}colorTone(Z,J,Q,q,K){Z||(Z=0.2),J||(J=0.15),Q||(Q=16770432),q||(q=3375104);let X=G0.shared,[N,Y,O]=X.setValue(Q).toArray(),[U,$,B]=X.setValue(q).toArray(),_=[0.3,0.59,0.11,0,0,N,Y,O,Z,0,U,$,B,J,0,N-U,Y-$,O-B,0,0];this._loadMatrix(_,K)}night(Z,J){Z||(Z=0.1);let Q=[Z*-2,-Z,0,0,0,-Z,0,Z,0,0,0,Z,Z*2,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}predator(Z,J){let Q=[11.224130630493164*Z,-4.794486999511719*Z,-2.8746118545532227*Z,0*Z,0.40342438220977783*Z,-3.6330697536468506*Z,9.193157196044922*Z,-2.951810836791992*Z,0*Z,-1.316135048866272*Z,-3.2184197902679443*Z,-4.2375030517578125*Z,7.476448059082031*Z,0*Z,0.8044459223747253*Z,0,0,0,1,0];this._loadMatrix(Q,J)}lsd(Z){let J=[2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}reset(){let Z=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(Z,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(Z){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Z}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(Z){this.resources.colorMatrixUniforms.uniforms.uAlpha=Z}}gZ();u0();zB();C6();__();FH();dK();B5();J0.add(gv,dv);C5();var tM=1,rM=8,YQ=32,eM=2;C5();var ZW=u9({}),Px=ZW.Provider,aB0=ZW.Consumer;function gV(Z,J){let Q=Object.getPrototypeOf(Z),q=Object.getOwnPropertyDescriptor(Q,J);return!(typeof q>"u"||q.writable||q.set)}var W5={currentUpdatePriority:YQ,debug:!1,unmountQueue:new Set};function r(Z,...J){if(!W5.debug)return;let Q=console[Z];if(!(Q instanceof Function)){console.warn(`Attempted to create an invalid log type: "${Z}"`);return}Q("@pixi/react",...J)}function mV(Z,J={}){let Q=Z;return Q.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},J),Q}var vs="@pixi/react",fs="0.0.0-development",ys="Write PixiJS applications using React declarative style.",hs=["react","pixi"],xs="https://github.com/pixijs/pixi-react#readme",gs={url:"https://github.com/pixijs/pixi-react/issues"},ms={type:"git",url:"git+https://github.com/pixijs/pixi-react.git"},ds="MIT",cs={".":{import:{types:"./types/index.d.ts",default:"./lib/index.mjs"},require:{types:"./types/index.d.ts",default:"./lib/index.js"}}},us="lib/index.js",ls="lib/index.mjs",ps="types/index.d.ts",is=["lib","dist","types"],as=["docs"],ss={build:"rimraf dist lib types && rollup -c && tsc","build:docs":"npm run --workspace docs build",deploy:"npm run deploy --workspace docs","start:docs":"npm run --workspace docs start",clean:"xs clean",docs:"xs docs",lint:"xs lint","lint:fix":"xs lint --fix",prepare:"husky install",prerelease:"npm run test:lint && npm run build",release:"xs bump,publish,git-push",test:"tsc --project tsconfig.test.json && vitest run","test:e2e":"tsc --project tsconfig.test.json && vitest run e2e","test:unit":"tsc --project tsconfig.test.json && vitest run unit","test:lint":"xs lint","test:watch":"vitest","test:types":"tsc --noEmit --emitDeclarationOnly false"},ns={hooks:{"pre-commit":"lint-staged"}},os={"its-fine":"^2.0.0","react-reconciler":"0.31.0"},ts={"@pixi/extension-scripts":"^4.0.0","@rollup/plugin-commonjs":"^25.0.8","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@testing-library/jest-dom":"^6.4.8","@testing-library/react":"^16.1.0","@testing-library/user-event":"^14.5.2","@types/react":"^19.0.0","@types/react-reconciler":"^0.28.9","@vitejs/plugin-react":"^4.3.1","@vitest/browser":"^2.0.4","eslint-plugin-react-hooks":"^5.2.0",husky:"^8.0.0",jsdom:"^25.0.0","pixi.js":"8.2.6",playwright:"^1.45.3",react:"^19.0.0","react-dom":"^19.0.0",rollup:"^4.18.0","rollup-plugin-esbuild":"^6.1.1","rollup-plugin-inject-process-env":"^1.3.1","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-sourcemaps":"^0.6.3",typescript:"^5.4.5",vitest:"^2.0.0"},rs={"pixi.js":"^8.2.6",react:">=19.0.0"},es={rollup:"^4.18.0"},Zn={access:"public"},Jn={lint:["test","src","docs"],environments:["node"],docsName:"PixiJS React",docsTitle:"PixiJS React API Documentation",docsDescription:"Documentation for PixiJS React library",docsKeyword:"docs, documentation, pixi, pixijs, react, html5, javascript, jsdoc"},vx={name:vs,version:fs,description:ys,keywords:hs,homepage:xs,bugs:gs,repository:ms,license:ds,exports:cs,main:us,module:ls,types:ps,files:is,workspaces:as,scripts:ss,husky:ns,"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix --max-warnings 0"]},dependencies:os,devDependencies:ts,peerDependencies:rs,overrides:es,publishConfig:Zn,extensionConfig:Jn};function fx(){r("info","lifecycle::afterActiveInstanceBlur")}function dV(Z,J,Q){if(J instanceof D1){if(J.__pixireact.parent=Z,typeof Q==="number")Z.__pixireact.filters.splice(Q,0,J);else Z.__pixireact.filters.push(J);Z.filters=Z.__pixireact.filters}}function cV(Z,J){if(r("info","lifecycle::appendChild"),!J)return;if(J instanceof k0)Z.addChild(J);else if(J instanceof D1)dV(Z,J)}function yx(){r("info","lifecycle::beforeActiveInstanceBlur")}function hx(){return r("info","lifecycle::clearContainer"),!1}var NX=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),uZ=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function xx(Z){return Array.isArray(Z)}function JW(Z,J,Q={arrays:"reference",objects:"reference",strict:!0}){let{arrays:q,objects:K,strict:X}=Q;if(typeof Z!==typeof J||!!Z!==!!J)return!1;if(Kn(Z)||Qn(Z))return Z===J;let N=qn(Z);if(N&&K==="reference")return Z===J;let Y=xx(Z);if(Y&&q==="reference")return Z===J;if((Y||N)&&Z===J)return!0;let O;for(O in Z)if(!(O in J))return!1;let U=Z;if(X)U=J;if(N&&q==="shallow"&&K==="shallow"){for(O in U)if(!JW(Z[O],J[O],{strict:X,objects:"reference"}))return!1}else for(O in U)if(Z[O]!==J[O])return!1;if(QW(O)){if(Y&&Z.length===0&&J.length===0)return!0;if(N&&Object.keys(Z).length===0&&Object.keys(J).length===0)return!0;if(Z!==J)return!1}return!0}function gx(Z){return Z===null}function Qn(Z){return typeof Z==="number"}function qn(Z){if(Z!==Object(Z))return!1;if(xx(Z))return!1;if(typeof Z==="function")return!1;return!0}function Kn(Z){return typeof Z==="string"}function QW(Z){return Z===void 0}var mx=Object.freeze(["children","key","ref"]);function dx(Z,J=[]){let Q={};return Object.entries(Z).reduce((q,[K,X])=>{if(!J.includes(K))q[K]=X;return q},Q)}function HX(Z,J=[]){return dx(Z,mx.concat(J))}var Xn="__default";function uV(Z,J={},Q=!1){let q=HX(Z),K=HX(J),X=Object.entries(q),N=[];if(Q){let Y=Object.keys(K),O=0;while(O<Y.length){let U=Y[O];if(!(U in q))X.unshift([U,`${Xn}remove`]);O+=1}}return X.forEach(([Y,O])=>{if(JW(O,K[Y]))return;if(Y in uZ){N.push([Y,O,!0,[]]);return}let U=[];if(Y.includes("-"))U=Y.split("-");N.push([Y,O,!1,U]);for(let $ in q){let B=q[$];if($.startsWith(`${Y}-`))N.push([$,B,!1,$.split("-")])}}),{changes:N}}function cx(Z){let J=Z;if(!J)return!1;if(!J.changes)return!1;return!0}var zn="__default",ux=new Map,lx={};function px(Z,J){if(Z){let Q=Z[J];if(!QW(Q)&&!gx(Q))return Q}return Z}function lV(Z,J){let{__pixireact:Q={},...q}=Z,K;if(cx(J))K=J;else K=uV(J,q);let{changes:X}=K,N=0;while(N<X.length){let Y=X[N],O=!1,U=Y[0],$=Y[1],B=Y[2],_=Y[3],W=Z,w=W[U];if(U==="draw"&&typeof $==="function")if(Z instanceof P6)$(Z);else O=!0,r("warn",`The \`draw\` prop was used on a \`${Q.type}\` component, but it's only valid on \`graphics\` components.`);if(U in NX){let L=U;if(O=!0,!lx[U])lx[U]=!0,r("warn",`Event names must be pascal case; instead of \`${U}\`, you probably want \`${NX[L]}\`.`)}if(!O){if(_.length){if(w=_.reduce(px,W),!(w&&w.set)){let[L,...R]=_.reverse();W=R.reverse().reduce(px,W),U=L}}if($===`${zn}remove`)if(W instanceof k0){let L=ux.get(W.constructor);if(!L)L=W.constructor,L=new L,ux.set(W.constructor,L);$=L[U]}else $=0;if(B&&Q){let R=uZ[U];if($)W[R]=$;else delete W[R]}else if(!gV(W,U))W[U]=$}N+=1}return Z}function ix(Z,J,Q,q){r("info","lifecycle::prepareUpdate");let{children:K,...X}=q,{children:N,...Y}=Q,O=uV(X,Y,!0);if(O.changes.length)return O;return null}function ax(Z,J,Q,q){r("info","lifecycle::commitUpdate");let K=ix(Z,J,Q,q);if(K)lV(Z,K)}var sx=Object.freeze([...Object.keys(NX),"draw"]);var YX={};function nx(Z){let J=Z.charAt(0),Q=Z.substring(1);return`${J.toUpperCase()}${Q}`}function Nn(Z,J){return J.toLowerCase()}function ox(Z){let J=Z;if(Z.startsWith("pixi"))J=Z.replace(/^pixi([A-Z])/,Nn);return J}function tx(Z,J,Q){r("info","lifecycle::createInstance");let q=ox(Z),K=nx(q);if(!(K in YX))throw Error(`${K} is not part of the PIXI namespace! Did you forget to extend?`);let X=YX[K],N=HX(J,sx);Object.entries(J).forEach(([O,U])=>{if(O in uZ){let $=uZ[O];N[$]=U}});let Y=mV(new X(N),{root:Q,type:q});return lV(Y,J),Y}var Ng=cQ(zg(),1),Hg=Ng.default;function Yg(Z,J,Q,q){throw r("info","lifecycle::createTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function Vg(){r("info","lifecycle::detachDeletedInstance")}function Og(){return r("info","lifecycle::finalizeInitialChildren"),!1}var eV={};function Ug(Z){return r("info","lifecycle::getChildHostContext"),Z??eV}function Ag(){return r("info","lifecycle::getCurrentUpdatePriority"),W5.currentUpdatePriority}function $g(){return r("info","lifecycle::getInstanceFromNode"),null}function Dg(Z){throw r("info","lifecycle:getInstanceFromScope"),Error("Not yet implemented.")}function Bg(Z){return r("info","lifecycle::getPublicInstance"),Z}function _g(){return r("info","lifecycle::getRootHostContext"),eV}function Mg(Z){if(Z instanceof k0)Z.visible=!1;else if(Z instanceof D1)Z.enabled=!1}function Wg(Z){throw r("info","lifecycle::hideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function ZO(Z){if(Z instanceof D1){let J=Z.__pixireact.parent;if(J){let Q=J.__pixireact.filters.indexOf(Z);J.__pixireact.filters.splice(Q,1),J.filters=J.__pixireact.filters}Z.__pixireact.parent=null}}function JO(Z,J,...Q){return}function MW(Z,J,Q){if(r("info","lifecycle::insertBefore"),JO(J!==Q,"Cannot insert node before itself"),J instanceof k0){let q=J,K=J,X=Q;if(q.parent===Z)Z.removeChild(K);let N=Z.getChildIndex(X);Z.addChildAt(K,N)}else if(J instanceof D1){let X=J.__pixireact.filters.indexOf(Q);ZO(J),dV(Z,J,X)}}function Gg(){return r("info","lifecycle::maySuspendCommit"),!1}function Fg(){return r("info","lifecycle::preloadInstance"),!0}function jg(){return r("info","lifecycle::prepareForCommit"),null}function wg(){r("info","lifecycle::preparePortalMount")}function Lg(){r("info","lifecycle::prepareScopeUpdate")}function WW(Z,J){if(r("info","lifecycle::removeChild"),J instanceof D1)ZO(J);J.destroy()}function Cg(Z){r("info","lifecycle::requestPostPaintCallback")}function Rg(){r("info","lifecycle::resetAfterCommit")}function Eg(){r("info","lifecycle::resetFormInstance")}function Ig(){return r("info","lifecycle::resolveEventTimeStamp"),-1.1}function Tg(){return r("info","lifecycle::resolveEventType"),null}function Sg(){if(r("info","lifecycle::resolveUpdatePriority"),W5.currentUpdatePriority)return W5.currentUpdatePriority;let Z=typeof self<"u"&&self||typeof window<"u"&&window;if(!Z)return YQ;switch(Z.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return eM;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return rM;default:return YQ}}function bg(Z){r("info","lifecycle::setCurrentUpdatePriority"),W5.currentUpdatePriority=Z}function kg(){return r("info","lifecycle::shouldAttemptEagerTransition"),!1}function Pg(){return r("info","lifecycle::shouldSetTextContent"),!1}function vg(){r("info","lifecycle::startSuspendingCommit")}function fg(){r("info","lifecycle::suspendInstance")}function yg(){r("info","lifecycle::trackSchedulerEvent")}function hg(Z){if(Z instanceof k0)Z.visible=!0;else if(Z instanceof D1)Z.enabled=!0}function xg(Z){throw r("info","lifecycle::unhideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function gg(){return r("info","lifecycle::waitForCommitToBeReady"),null}var Un={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:fx,appendChild:cV,appendChildToContainer:cV,appendInitialChild:cV,beforeActiveInstanceBlur:yx,cancelTimeout:clearTimeout,clearContainer:hx,commitUpdate:ax,createInstance:tx,createTextInstance:Yg,hideTextInstance:Wg,unhideTextInstance:xg,detachDeletedInstance:Vg,finalizeInitialChildren:Og,getChildHostContext:Ug,getCurrentUpdatePriority:Ag,getInstanceFromNode:$g,getInstanceFromScope:Dg,getPublicInstance:Bg,getRootHostContext:_g,hideInstance:Mg,insertBefore:MW,insertInContainerBefore:MW,maySuspendCommit:Gg,preloadInstance:Fg,prepareForCommit:jg,preparePortalMount:wg,prepareScopeUpdate:Lg,removeChild:WW,removeChildFromContainer:WW,requestPostPaintCallback:Cg,resetAfterCommit:Rg,resetFormInstance:Eg,resolveEventTimeStamp:Ig,resolveEventType:Tg,resolveUpdatePriority:Sg,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:kg,setCurrentUpdatePriority:bg,shouldSetTextContent:Pg,startSuspendingCommit:vg,suspendInstance:fg,trackSchedulerEvent:yg,unhideInstance:hg,waitForCommitToBeReady:gg},VQ=Hg(Un);VQ.injectIntoDevTools({bundleType:0,rendererPackageName:"@pixi/react",version:vx.version});var v6=new Map;function GW(Z,J={}){let Q=v6.get(Z),q=Q?.applicationState??{isInitialised:!1,isInitialising:!1},K=Q?.internalState??{};if(Q)r("warn","createRoot should only be called once!");else q.app=new XX,K.rootContainer=mV(q.app.stage);let X=Q?.fiber??VQ.createContainer(K.rootContainer,tM,null,!1,null,"",console.error,console.error,console.error,null);if(!Q){let N;if(Z instanceof HTMLCanvasElement)N=Z;if(!N)N=document.createElement("canvas"),Z.innerHTML="",Z.appendChild(N);K.canvas=N,Q={applicationState:q,fiber:X,internalState:K,render:async(O,U)=>{if(!q.app.renderer&&!q.isInitialised&&!q.isInitialising)q.isInitialising=!0,await q.app.init({...U,canvas:N}),q.isInitialising=!1,q.isInitialised=!0,q={...q},J.onInit?.(q.app);return Object.entries(U).forEach(([$,B])=>{let _=$;if(gV(U,_))return;q.app[_]=B}),VQ.updateContainer(x(Px,{value:q,children:O}),X,null,()=>{return}),q.app}},v6.set(N,Q)}return Q}function QO(Z){W5.unmountQueue.delete(Z);let J=Z.fiber;if(J)VQ.updateContainer(null,J,null,()=>{if(Z.applicationState.app)Z.applicationState.app.destroy();v6.delete(Z.internalState.canvas)})}function mg(){for(let Z of W5.unmountQueue)QO(Z)}function dg(Z){let J=v6.get(Z);if(J)if(J.applicationState.isInitialised)QO(J);else W5.unmountQueue.add(J)}function cg(Z){let J=v6.get(Z);if(J)W5.unmountQueue.delete(J)}C5();var OQ=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?Oz:i8;var An={...X8.defaultTextStyle},$n=Vz(function(J,Q){let{children:q,className:K,defaultTextStyle:X,extensions:N,onInit:Y,resizeTo:O,...U}=J,$=aE(),B=I7(null),_=I7(null),W=I7(new Set);YA(Q,()=>({getApplication(){return B.current},getCanvas(){return _.current}}));let w=l6(()=>{let R=B.current;if(R)if(O)if("current"in O){if(O.current instanceof HTMLElement)R.resizeTo=O.current}else R.resizeTo=O;else R.resizeTo=void 0},[O]),L=l6((R)=>{mg(),B.current=R,w(),Y?.(R)},[Y]);return OQ(()=>{if(N){let R=[...N],G=W.current;for(let j of G.values()){let C=R.indexOf(j);if(C===-1)J0.remove(j),G.delete(j);R.splice(C,1)}for(let j in R)J0.add(j),G.add(j)}},[N]),OQ(()=>{let R=_.current;if(R){let G=v6.get(R);if(!G)G=GW(R,{onInit:L});G.render(x($,{children:q}),U)}},[U,q,L,O]),OQ(()=>{w()},[O]),OQ(()=>{if(X)Object.assign(X8.defaultTextStyle,X);else Object.assign(X8.defaultTextStyle,An)},[X]),i8(()=>{let R=_.current;if(R)return cg(R),()=>{dg(R)}},[]),x("canvas",{ref:_,className:K})}),FW=Vz(function(J,Q){return x(oN,{children:x($n,{ref:Q,...J})})});function qO(Z){Object.assign(YX,Z)}C5();C5();C5();var ug=({comparisonSplitPosition:Z,setComparisonSplitPosition:J})=>{return Z0(v5,{children:[x("div",{className:"absolute top-0 bottom-0 w-0.5 bg-black/50 shadow-lg z-10",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%)"}}),x("div",{className:"absolute top-1/2 -translate-y-1/2 w-12 h-12 bg-black/70 shadow-xl rounded-full cursor-ew-resize z-20 flex items-center justify-center ",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%) translateY(-50%)"},onMouseDown:(Q)=>{Q.preventDefault();let q=Q.clientX,K=Z,X=(Y)=>{let O=Y.clientX-q,U=window.innerWidth,$=O/U*100,B=Math.max(0,Math.min(100,K+$));J(B)},N=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",N)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",N)},children:x("span",{className:"text-white text-xl font-bold select-none",children:"< >"})})]})};var lg=({zoom:Z,setZoom:J,rotation:Q,setRotation:q})=>{return Z0("div",{className:"absolute top-4 right-4 flex gap-2 select-none",children:[Z0("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J(1),title:"Zoom, click to reset",children:[Math.round(Z*100),"%"]}),x("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.min(K+0.1,5)),children:"+"}),x("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.max(K-0.1,0.1)),children:"-"}),x("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:(K)=>{if(K.ctrlKey)q(0);else q((X)=>(X+90)%360)},title:"Rotate 90 clockwise, ctrl+click to reset",children:""})]})};qO({Container:k0,Sprite:I6,Texture:p,Graphics:P6,BlurFilter:cZ,ColorMatrixFilter:HQ});var pg=(Z)=>{let{imageSrc:J,width:Q,height:q}=Z,{filterState:K}=nN(),X=K.layers.length>0||K.workingLayer.hue!==0||K.workingLayer.saturation!==100||K.workingLayer.brightness!==100||K.workingLayer.contrast!==100||K.workingLayer.grayscale!==0||K.workingLayer.invert!==0||K.workingLayer.blur!==0,[N,Y]=C1(p.EMPTY),[O,U]=C1(p.EMPTY),$=I7(null),[B,_]=C1(1),[W,w]=C1({x:window.innerWidth/2,y:window.innerHeight/2}),[L,R]=C1(!1),[G,j]=C1({x:0,y:0}),[C,T]=C1(0),[v,f]=C1(50);i8(()=>{if(N===p.EMPTY)dZ.load({src:J,parser:"loadTextures"}).then((z0)=>{Y(z0),U(z0)}).catch((z0)=>{console.error("Error loading image:",z0)})},[J]);let b=E7(()=>{let z0=[];K.layers.forEach((H0)=>{let{blur:W1,hue:D0,saturation:c5,brightness:k8,contrast:P8,grayscale:H8,invert:U6}=H0.values;if(W1>0){let Y8=new cZ;Y8.strength=W1,z0.push(Y8)}let G5=new HQ;if(D0!==0)G5.hue(D0,!1);if(c5!==100)G5.saturate(c5/100-1,!1);if(k8!==100)G5.brightness(k8/100,!1);if(P8!==100)G5.contrast(P8/100,!1);if(H8>0)G5.grayscale(H8/100,!1);if(U6>0)G5.negative(!1);z0.push(G5)});let X1=K.workingLayer;if(X1.blur>0){let H0=new cZ;H0.strength=X1.blur,z0.push(H0)}let t=new HQ;if(X1.hue!==0)t.hue(X1.hue,!1);if(X1.saturation!==100)t.saturate(X1.saturation/100-1,!1);if(X1.brightness!==100)t.brightness(X1.brightness/100,!1);if(X1.contrast!==100)t.contrast(X1.contrast/100,!1);if(X1.grayscale>0)t.grayscale(X1.grayscale/100,!1);if(X1.invert>0)t.negative(!1);return z0.push(t),z0},[K.layers,K.workingLayer]),m=E7(()=>{if(!X)return null;let z0=new P6;return z0.rect(0,0,v/100*window.innerWidth,window.innerHeight),z0.fill(16777215),z0},[X,v,Q,q]),u=l6((z0)=>{z0.preventDefault();let X1=z0.deltaY>0?0.9:1.1,t=Math.max(0.1,Math.min(5,B*X1));_(t)},[B]),l=l6((z0)=>{R(!0),j({x:z0.clientX-W.x,y:z0.clientY-W.y})},[W]),o=l6((z0)=>{if(L)w({x:z0.clientX-G.x,y:z0.clientY-G.y})},[L,G]),N0=l6(()=>{R(!1)},[]);i8(()=>{let z0=$.current;if(z0)return z0.addEventListener("wheel",u,{passive:!1}),()=>z0.removeEventListener("wheel",u)},[u]);let j0=l6(()=>{let z0=$.current;if(z0){let{clientWidth:X1,clientHeight:t}=z0,H0=X1/Q,W1=t/q,D0=Math.min(H0,W1,1);_(D0)}},[]);return i8(()=>{j0()},[J,j0]),Z0(v5,{children:[x("div",{className:"relative w-full h-full overflow-hidden cursor-move select-none bg-transparency-grid",ref:$,onMouseDown:l,onMouseMove:o,onMouseUp:N0,onMouseLeave:N0,children:x(FW,{backgroundAlpha:0,resolution:window.devicePixelRatio||1,resizeTo:window,children:Z0("pixiContainer",{x:W.x,y:W.y,scale:B,pivot:{x:Q/2,y:q/2},rotation:C*Math.PI/180,children:[X&&x("pixiSprite",{texture:O,width:Q,height:q,filters:b}),x("pixiSprite",{texture:N,width:Q,height:q,mask:X?m:void 0})]})})}),x(lg,{zoom:B,setZoom:_,rotation:C,setRotation:T}),X&&x(ug,{comparisonSplitPosition:v,setComparisonSplitPosition:f})]})};var ig={isLoadingImage:!1,sidebarOpen:!1,activeSection:"info",toolDrawerOpen:!1,isDragOver:!1};function ag(Z,J){switch(J.type){case"SET_LOADING":return{...Z,isLoadingImage:J.payload};case"TOGGLE_SIDEBAR":return{...Z,sidebarOpen:!Z.sidebarOpen};case"SET_ACTIVE_SECTION":return{...Z,activeSection:J.payload};case"TOGGLE_TOOL_DRAWER":return{...Z,toolDrawerOpen:!Z.toolDrawerOpen};case"SET_DRAG_OVER":return{...Z,isDragOver:J.payload};default:return Z}}var sg={selectedImage:null,imageInfo:null,palette:null,optimizedImage:null,optimizedSize:null,convertFormat:"png",compression:0.8};function ng(Z,J){switch(J.type){case"SET_SELECTED_IMAGE":return{...Z,selectedImage:J.payload};case"SET_IMAGE_INFO":return{...Z,imageInfo:J.payload};case"SET_PALETTE":return{...Z,palette:J.payload};case"CLEAR_IMAGE":return{...Z,selectedImage:null,imageInfo:null,palette:null};case"SET_COMPRESSION":return{...Z,compression:J.payload};case"SET_CONVERT_FORMAT":return{...Z,convertFormat:J.payload};case"SET_OPTIMIZED_IMAGE":return{...Z,optimizedImage:J.payload};case"SET_OPTIMIZED_SIZE":return{...Z,optimizedSize:J.payload};default:return Z}}function og(){let[Z,J]=LJ(ag,ig),[Q,q]=LJ(ng,sg),[K,X]=C1(0),[N,Y]=C1(0),O=async(G)=>{J({type:"SET_LOADING",payload:!0});let j={fileSize:G.size,dimensions:null,lastModified:new Date(G.lastModified),exif:null,format:G.type.split("/")[1]||"unknown",name:G.name};try{j.exif=await _2(G)}catch(T){console.log("No EXIF data or error parsing:",T)}let C=new Image;C.onload=()=>{j.dimensions={width:C.naturalWidth,height:C.naturalHeight},q({type:"SET_IMAGE_INFO",payload:{...j}}),X(C.naturalWidth),Y(C.naturalHeight);let T=new MZ;try{let v=T.getPalette(C,32,5);q({type:"SET_PALETTE",payload:v})}catch(v){console.log("Error extracting palette:",v)}J({type:"SET_LOADING",payload:!1})},C.src=URL.createObjectURL(G),q({type:"SET_IMAGE_INFO",payload:j})},U=(G)=>{if(G&&G.type.startsWith("image/")){let j=URL.createObjectURL(G);q({type:"SET_SELECTED_IMAGE",payload:j}),q({type:"SET_OPTIMIZED_IMAGE",payload:null}),q({type:"SET_OPTIMIZED_SIZE",payload:null}),O(G)}},$=(G)=>{let j=G.target.files?.[0];if(j)U(j)},B=(G)=>{G.preventDefault(),J({type:"SET_DRAG_OVER",payload:!1});let j=G.dataTransfer.files[0];if(j)U(j)},_=(G)=>{G.preventDefault(),J({type:"SET_DRAG_OVER",payload:!0})},W=()=>{J({type:"SET_DRAG_OVER",payload:!1})},w=()=>{if(!Q.selectedImage)return;let G=document.createElement("canvas"),j=new Image;j.onload=()=>{G.width=j.naturalWidth,G.height=j.naturalHeight,G.getContext("2d")?.drawImage(j,0,0),G.toBlob((T)=>{if(T){let v=URL.createObjectURL(T);q({type:"SET_OPTIMIZED_IMAGE",payload:v}),q({type:"SET_OPTIMIZED_SIZE",payload:T.size})}},`image/${Q.convertFormat}`,Q.compression)},j.src=Q.selectedImage},L=()=>{q({type:"SET_SELECTED_IMAGE",payload:null}),q({type:"SET_IMAGE_INFO",payload:null}),q({type:"SET_PALETTE",payload:null}),q({type:"SET_OPTIMIZED_IMAGE",payload:null}),q({type:"SET_OPTIMIZED_SIZE",payload:null}),X(0),Y(0)},R=()=>{let G=Q.optimizedImage||Q.selectedImage;if(!G)return;let j=document.createElement("canvas"),C=new Image;C.onload=()=>{j.width=C.naturalWidth,j.height=C.naturalHeight,j.getContext("2d")?.drawImage(C,0,0),j.toBlob((v)=>{if(v){let f=URL.createObjectURL(v),b=document.createElement("a");b.href=f,b.download=`optimized.${Q.convertFormat}`,b.click(),URL.revokeObjectURL(f)}},`image/${Q.convertFormat}`,Q.convertFormat==="png"?void 0:Q.compression)},C.src=G};return x(gE,{children:Z0("div",{className:"h-dvh w-screen relative overflow-x-hidden",children:[x(SE,{isOpen:Z.sidebarOpen,onToggle:()=>J({type:"TOGGLE_SIDEBAR"})}),Q.selectedImage&&x(cE,{clearImage:L}),x(kE,{isOpen:Z.sidebarOpen,activeSection:Z.activeSection,onSectionChange:(G)=>J({type:"SET_ACTIVE_SECTION",payload:G}),onClose:()=>J({type:"TOGGLE_SIDEBAR"})}),Q.selectedImage&&Z0(uE,{toolDrawerOpen:Z.toolDrawerOpen,setToolDrawerOpen:()=>J({type:"TOGGLE_TOOL_DRAWER"}),activeSection:Z.activeSection,children:[Z.activeSection==="info"&&Q.imageInfo&&x(vE,{imageInfo:Q.imageInfo}),Z.activeSection==="palette"&&Q.palette&&x(fE,{palette:Q.palette}),Z.activeSection==="optimization"&&x(yE,{convertFormat:Q.convertFormat||"png",setConvertFormat:(G)=>q({type:"SET_CONVERT_FORMAT",payload:G}),compressionValue:Q.compression||0.8,setCompressionValue:(G)=>q({type:"SET_COMPRESSION",payload:G}),onOptimize:w,onDownload:R,optimizedImage:Q.optimizedImage,imageInfo:Q.imageInfo,optimizedSize:Q.optimizedSize}),Z.activeSection==="filters"&&x(dE,{})]}),!Q.selectedImage&&x(bE,{isDragOver:Z.isDragOver,onFileChange:$,onDrop:B,onDragOver:_,onDragLeave:W}),Q.selectedImage&&Z.isLoadingImage&&x(lE,{message:"Loading image..."}),Q.selectedImage&&!Z.isLoadingImage&&x(pg,{imageSrc:Q.selectedImage,width:K,height:N})]})})}function tg(){rg.createRoot(document.getElementById("root")).render(x(og,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",tg);else tg();

//# debugId=C413F16E19AF1EAD64756E2164756E21
//# sourceMappingURL=chunk-b33z80tg.js.map
