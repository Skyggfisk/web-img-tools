var od=Object.create;var{getPrototypeOf:td,defineProperty:lU,getOwnPropertyNames:rd}=Object;var ed=Object.prototype.hasOwnProperty;var iQ=(Z,J,Q)=>{Q=Z!=null?od(td(Z)):{};let q=J||!Z||!Z.__esModule?lU(Q,"default",{value:Z,enumerable:!0}):Q;for(let K of rd(Z))if(!ed.call(q,K))lU(q,K,{get:()=>Z[K],enumerable:!0});return q};var aQ=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var zN=(Z,J)=>{for(var Q in J)lU(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(q)=>J[Q]=()=>q})};var F=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var zj=((Z)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Z,{get:(J,Q)=>(typeof require<"u"?require:J)[Q]}):Z)(function(Z){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+Z+'" is not supported')});function iU(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<HN(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function n6(Z){return Z.length===0?null:Z[0]}function $N(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var z=2*(q+1)-1,Y=Z[z],O=z+1,U=Z[O];if(0>HN(Y,Q))O<K&&0>HN(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[z]=Q,q=z);else if(O<K&&0>HN(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function HN(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function ON(Z){for(var J=n6(P7);J!==null;){if(J.callback===null)$N(P7);else if(J.startTime<=Z)$N(P7),J.sortIndex=J.expirationTime,iU(b4,J);else break;J=n6(P7)}}function rU(Z){if(nQ=!1,ON(Z),!sQ)if(n6(b4)!==null)sQ=!0,C2||(C2=!0,w2());else{var J=n6(P7);J!==null&&eU(rU,J.startTime-Z)}}function Uj(){return tU?!0:o6()-Oj<Jc?!1:!0}function pU(){if(tU=!1,C2){var Z=o6();Oj=Z;var J=!0;try{Z:{sQ=!1,nQ&&(nQ=!1,Vj(oQ),oQ=-1),nU=!0;var Q=VN;try{J:{ON(Z);for(J6=n6(b4);J6!==null&&!(J6.expirationTime>Z&&Uj());){var q=J6.callback;if(typeof q==="function"){J6.callback=null,VN=J6.priorityLevel;var K=q(J6.expirationTime<=Z);if(Z=o6(),typeof K==="function"){J6.callback=K,ON(Z),J=!0;break J}J6===n6(b4)&&$N(b4),ON(Z)}else $N(b4);J6=n6(b4)}if(J6!==null)J=!0;else{var X=n6(P7);X!==null&&eU(rU,X.startTime-Z),J=!1}}break Z}finally{J6=null,VN=Q,nU=!1}J=void 0}}finally{J?w2():C2=!1}}}function eU(Z,J){oQ=Yj(function(){Z(o6())},J)}var o6=void 0,aU,YN,sU,b4,P7,Zc=1,J6=null,VN=3,nU=!1,sQ=!1,nQ=!1,tU=!1,Yj,Vj,Hj,C2=!1,oQ=-1,Jc=5,Oj=-1,w2,UN,oU,Z$=5,J$=1,Q$=4,L2=3,q$=2,K$=function(Z){Z.callback=null},X$=function(){return VN},N$=function(){tU=!0},R2=function(Z,J,Q){var q=o6();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:Zc++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,iU(P7,Z),n6(b4)===null&&Z===n6(P7)&&(nQ?(Vj(oQ),oQ=-1):nQ=!0,eU(rU,Q-q))):(Z.sortIndex=K,iU(b4,Z),sQ||nU||(sQ=!0,C2||(C2=!0,w2()))),Z},z$;var $j=F(()=>{if(typeof performance==="object"&&typeof performance.now==="function")aU=performance,o6=function(){return aU.now()};else YN=Date,sU=YN.now(),o6=function(){return YN.now()-sU};b4=[],P7=[],Yj=typeof setTimeout==="function"?setTimeout:null,Vj=typeof clearTimeout==="function"?clearTimeout:null,Hj=typeof setImmediate<"u"?setImmediate:null;if(typeof Hj==="function")w2=function(){Hj(pU)};else if(typeof MessageChannel<"u")UN=new MessageChannel,oU=UN.port2,UN.port1.onmessage=pU,w2=function(){oU.postMessage(null)};else w2=function(){Yj(pU,0)};z$=Uj});function E2(Z,J,Q){this.props=Z,this.context=J,this.refs=Dj,this.updater=Q||Aj}function Bj(){}function _j(Z,J,Q){this.props=Z,this.context=J,this.refs=Dj,this.updater=Q||Aj}function Yc(Z,J,Q){var q=Q.ref;return{$$typeof:qc,type:Z,key:J,ref:q!==void 0?q:null,props:Q}}var qc,Kc,Xc,Nc,Aj,zc,Dj,H$,E6,Hc,Y$,t9,rQ=function(Z){return Z={$$typeof:Xc,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:Kc,_context:Z},Z},I2=function(Z,J,Q){var q,K={},X=null;if(J!=null)for(q in J.key!==void 0&&(X=""+J.key),J)Hc.call(J,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(K[q]=J[q]);var z=arguments.length-2;if(z===1)K.children=Q;else if(1<z){for(var Y=Array(z),O=0;O<z;O++)Y[O]=arguments[O+2];K.children=Y}if(Z&&Z.defaultProps)for(q in z=Z.defaultProps,z)K[q]===void 0&&(K[q]=z[q]);return Yc(Z,X,K)},AN=function(Z){return{$$typeof:Nc,render:Z}},V$=function(Z){return E6.H.use(Z)},t6=function(Z,J){return E6.H.useCallback(Z,J)},DN=function(Z){return E6.H.useContext(Z)},Q6=function(Z,J){return E6.H.useEffect(Z,J)},O$=function(){return E6.H.useId()},U$=function(Z,J,Q){return E6.H.useImperativeHandle(Z,J,Q)},BN=function(Z,J){return E6.H.useLayoutEffect(Z,J)},v7=function(Z,J){return E6.H.useMemo(Z,J)},f7=function(Z){return E6.H.useRef(Z)},_0=function(Z){return E6.H.useState(Z)},$$="19.2.0";var x5=F(()=>{qc=Symbol.for("react.transitional.element"),Kc=Symbol.for("react.consumer"),Xc=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),Aj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Dj={};E2.prototype.isReactComponent={};E2.prototype.setState=function(Z,J){if(typeof Z!=="object"&&typeof Z!=="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,J,"setState")};E2.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};Bj.prototype=E2.prototype;H$=_j.prototype=new Bj;H$.constructor=_j;zc(H$,E2.prototype);H$.isPureReactComponent=!0;E6={H:null,A:null,T:null,S:null},Hc=Object.prototype.hasOwnProperty;Y$=E2,t9=E6});var A$={};zN(A$,{version:()=>kj,useFormStatus:()=>bj,useFormState:()=>Sj,unstable_batchedUpdates:()=>Tj,requestFormReset:()=>Ij,preloadModule:()=>Ej,preload:()=>Rj,preinitModule:()=>Lj,preinit:()=>Cj,prefetchDNS:()=>wj,preconnect:()=>jj,flushSync:()=>Fj,createPortal:()=>Gj,__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE:()=>Wj});function Mj(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y7(){}function Oc(Z,J,Q){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vc,key:q==null?null:""+q,children:Z,containerInfo:J,implementation:Q}}function _N(Z,J){if(Z==="font")return"";if(typeof J==="string")return J==="use-credentials"?J:""}var g5,Vc,eQ,Wj,Gj=function(Z,J){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)throw Error(Mj(299));return Oc(Z,J,null,Q)},Fj=function(Z){var J=eQ.T,Q=g5.p;try{if(eQ.T=null,g5.p=2,Z)return Z()}finally{eQ.T=J,g5.p=Q,g5.d.f()}},jj=function(Z,J){typeof Z==="string"&&(J?(J=J.crossOrigin,J=typeof J==="string"?J==="use-credentials"?J:"":void 0):J=null,g5.d.C(Z,J))},wj=function(Z){typeof Z==="string"&&g5.d.D(Z)},Cj=function(Z,J){if(typeof Z==="string"&&J&&typeof J.as==="string"){var Q=J.as,q=_N(Q,J.crossOrigin),K=typeof J.integrity==="string"?J.integrity:void 0,X=typeof J.fetchPriority==="string"?J.fetchPriority:void 0;Q==="style"?g5.d.S(Z,typeof J.precedence==="string"?J.precedence:void 0,{crossOrigin:q,integrity:K,fetchPriority:X}):Q==="script"&&g5.d.X(Z,{crossOrigin:q,integrity:K,fetchPriority:X,nonce:typeof J.nonce==="string"?J.nonce:void 0})}},Lj=function(Z,J){if(typeof Z==="string")if(typeof J==="object"&&J!==null){if(J.as==null||J.as==="script"){var Q=_N(J.as,J.crossOrigin);g5.d.M(Z,{crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0})}}else J==null&&g5.d.M(Z)},Rj=function(Z,J){if(typeof Z==="string"&&typeof J==="object"&&J!==null&&typeof J.as==="string"){var Q=J.as,q=_N(Q,J.crossOrigin);g5.d.L(Z,Q,{crossOrigin:q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0,type:typeof J.type==="string"?J.type:void 0,fetchPriority:typeof J.fetchPriority==="string"?J.fetchPriority:void 0,referrerPolicy:typeof J.referrerPolicy==="string"?J.referrerPolicy:void 0,imageSrcSet:typeof J.imageSrcSet==="string"?J.imageSrcSet:void 0,imageSizes:typeof J.imageSizes==="string"?J.imageSizes:void 0,media:typeof J.media==="string"?J.media:void 0})}},Ej=function(Z,J){if(typeof Z==="string")if(J){var Q=_N(J.as,J.crossOrigin);g5.d.m(Z,{as:typeof J.as==="string"&&J.as!=="script"?J.as:void 0,crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0})}else g5.d.m(Z)},Ij=function(Z){g5.d.r(Z)},Tj=function(Z,J){return Z(J)},Sj=function(Z,J,Q){return eQ.H.useFormState(Z,J,Q)},bj=function(){return eQ.H.useHostTransitionStatus()},kj="19.2.0";var Pj=F(()=>{x5();g5={d:{f:y7,r:function(){throw Error(Mj(522))},D:y7,C:y7,L:y7,m:y7,X:y7,S:y7,M:y7},p:0,findDOMNode:null},Vc=Symbol.for("react.portal");eQ=t9;Wj=g5});var yj=aQ((Hn,fj)=>{Pj();function vj(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vj)}catch(Z){console.error(Z)}}vj(),fj.exports=A$});var m3={};zN(m3,{version:()=>sR,hydrateRoot:()=>aR,createRoot:()=>iR});function l(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zC(Z){return!(!Z||Z.nodeType!==1&&Z.nodeType!==9&&Z.nodeType!==11)}function cq(Z){var J=Z,Q=Z;if(Z.alternate)for(;J.return;)J=J.return;else{Z=J;do J=Z,(J.flags&4098)!==0&&(Q=J.return),Z=J.return;while(Z)}return J.tag===3?Q:null}function HC(Z){if(Z.tag===13){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function YC(Z){if(Z.tag===31){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function hj(Z){if(cq(Z)!==Z)throw Error(l(188))}function Uc(Z){var J=Z.alternate;if(!J){if(J=cq(Z),J===null)throw Error(l(188));return J!==Z?null:Z}for(var Q=Z,q=J;;){var K=Q.return;if(K===null)break;var X=K.alternate;if(X===null){if(q=K.return,q!==null){Q=q;continue}break}if(K.child===X.child){for(X=K.child;X;){if(X===Q)return hj(K),Z;if(X===q)return hj(K),J;X=X.sibling}throw Error(l(188))}if(Q.return!==q.return)Q=K,q=X;else{for(var z=!1,Y=K.child;Y;){if(Y===Q){z=!0,Q=K,q=X;break}if(Y===q){z=!0,q=K,Q=X;break}Y=Y.sibling}if(!z){for(Y=X.child;Y;){if(Y===Q){z=!0,Q=X,q=K;break}if(Y===q){z=!0,q=X,Q=K;break}Y=Y.sibling}if(!z)throw Error(l(189))}}if(Q.alternate!==q)throw Error(l(190))}if(Q.tag!==3)throw Error(l(188));return Q.stateNode.current===Q?Z:J}function VC(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z;for(Z=Z.child;Z!==null;){if(J=VC(Z),J!==null)return J;Z=Z.sibling}return null}function Zq(Z){if(Z===null||typeof Z!=="object")return null;return Z=xj&&Z[xj]||Z["@@iterator"],typeof Z==="function"?Z:null}function t$(Z){if(Z==null)return null;if(typeof Z==="function")return Z.$$typeof===Dc?null:Z.displayName||Z.name||null;if(typeof Z==="string")return Z;switch(Z){case v2:return"Fragment";case a$:return"Profiler";case OC:return"StrictMode";case s$:return"Suspense";case n$:return"SuspenseList";case o$:return"Activity"}if(typeof Z==="object")switch(Z.$$typeof){case Nq:return"Portal";case g4:return Z.displayName||"Context";case UC:return(Z._context.displayName||"Context")+".Consumer";case lA:var J=Z.render;return Z=Z.displayName,Z||(Z=J.displayName||J.name||"",Z=Z!==""?"ForwardRef("+Z+")":"ForwardRef"),Z;case pA:return J=Z.displayName||null,J!==null?J:t$(Z.type)||"Memo";case h7:J=Z._payload,Z=Z._init;try{return t$(Z(J))}catch(Q){}}return null}function Q4(Z){return{current:Z}}function N5(Z){0>f2||(Z.current=r$[f2],r$[f2]=null,f2--)}function O1(Z,J){f2++,r$[f2]=Z.current,Z.current=J}function nN(Z,J){switch(O1(s7,J),O1(Iq,Z),O1(J4,null),J.nodeType){case 9:case 11:Z=(Z=J.documentElement)?(Z=Z.namespaceURI)?uw(Z):0:0;break;default:if(Z=J.tagName,J=J.namespaceURI)J=uw(J),Z=kR(J,Z);else switch(Z){case"svg":Z=1;break;case"math":Z=2;break;default:Z=0}}N5(J4),O1(J4,Z)}function e2(){N5(J4),N5(Iq),N5(s7)}function e$(Z){Z.memoizedState!==null&&O1(sN,Z);var J=J4.current,Q=kR(J,Z.type);J!==Q&&(O1(Iq,Z),O1(J4,Q))}function oN(Z){Iq.current===Z&&(N5(J4),N5(Iq)),sN.current===Z&&(N5(sN),gq._currentValue=KZ)}function e9(Z){if(D$===void 0)try{throw Error()}catch(Q){var J=Q.stack.trim().match(/\n( *(at )?)/);D$=J&&J[1]||"",gj=-1<Q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D$+Z+gj}function _$(Z,J){if(!Z||B$)return"";B$=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var q={DetermineComponentFrameRoot:function(){try{if(J){var D=function(){throw Error()};if(Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(W){var _=W}Reflect.construct(Z,[],D)}else{try{D.call()}catch(W){_=W}Z.call(D.prototype)}}else{try{throw Error()}catch(W){_=W}(D=Z())&&typeof D.catch==="function"&&D.catch(function(){})}}catch(W){if(W&&_&&typeof W.stack==="string")return[W.stack,_.stack]}return[null,null]}};q.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(q.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(q.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=q.DetermineComponentFrameRoot(),z=X[0],Y=X[1];if(z&&Y){var O=z.split(`
`),U=Y.split(`
`);for(K=q=0;q<O.length&&!O[q].includes("DetermineComponentFrameRoot");)q++;for(;K<U.length&&!U[K].includes("DetermineComponentFrameRoot");)K++;if(q===O.length||K===U.length)for(q=O.length-1,K=U.length-1;1<=q&&0<=K&&O[q]!==U[K];)K--;for(;1<=q&&0<=K;q--,K--)if(O[q]!==U[K]){if(q!==1||K!==1)do if(q--,K--,0>K||O[q]!==U[K]){var A=`
`+O[q].replace(" at new "," at ");return Z.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",Z.displayName)),A}while(1<=q&&0<=K);break}}}finally{B$=!1,Error.prepareStackTrace=Q}return(Q=Z?Z.displayName||Z.name:"")?e9(Q):""}function Bc(Z,J){switch(Z.tag){case 26:case 27:case 5:return e9(Z.type);case 16:return e9("Lazy");case 13:return Z.child!==J&&J!==null?e9("Suspense Fallback"):e9("Suspense");case 19:return e9("SuspenseList");case 0:case 15:return _$(Z.type,!1);case 11:return _$(Z.type.render,!1);case 1:return _$(Z.type,!0);case 31:return e9("Activity");default:return""}}function mj(Z){try{var J="",Q=null;do J+=Bc(Z,Q),Q=Z,Z=Z.return;while(Z);return J}catch(q){return`
Error generating stack: `+q.message+`
`+q.stack}}function u7(Z){if(typeof Fc==="function"&&jc(Z),y8&&typeof y8.setStrictMode==="function")try{y8.setStrictMode(uq,Z)}catch(J){}}function Lc(Z){return Z>>>=0,Z===0?32:31-(wc(Z)/Cc|0)|0}function ZZ(Z){var J=Z&42;if(J!==0)return J;switch(Z&-Z){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Z&261888;case 262144:case 524288:case 1048576:case 2097152:return Z&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Z&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Z}}function wz(Z,J,Q){var q=Z.pendingLanes;if(q===0)return 0;var K=0,X=Z.suspendedLanes,z=Z.pingedLanes;Z=Z.warmLanes;var Y=q&134217727;return Y!==0?(q=Y&~X,q!==0?K=ZZ(q):(z&=Y,z!==0?K=ZZ(z):Q||(Q=Y&~Z,Q!==0&&(K=ZZ(Q))))):(Y=q&~X,Y!==0?K=ZZ(Y):z!==0?K=ZZ(z):Q||(Q=q&~Z,Q!==0&&(K=ZZ(Q)))),K===0?0:J!==0&&J!==K&&(J&X)===0&&(X=K&-K,Q=J&-J,X>=Q||X===32&&(Q&4194048)!==0)?J:K}function lq(Z,J){return(Z.pendingLanes&~(Z.suspendedLanes&~Z.pingedLanes)&J)===0}function Rc(Z,J){switch(Z){case 1:case 2:case 4:case 8:case 64:return J+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return J+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BC(){var Z=FN;return FN<<=1,(FN&62914560)===0&&(FN=4194304),Z}function W$(Z){for(var J=[],Q=0;31>Q;Q++)J.push(Z);return J}function pq(Z,J){Z.pendingLanes|=J,J!==268435456&&(Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0)}function Ec(Z,J,Q,q,K,X){var z=Z.pendingLanes;Z.pendingLanes=Q,Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0,Z.expiredLanes&=Q,Z.entangledLanes&=Q,Z.errorRecoveryDisabledLanes&=Q,Z.shellSuspendCounter=0;var{entanglements:Y,expirationTimes:O,hiddenUpdates:U}=Z;for(Q=z&~Q;0<Q;){var A=31-h8(Q),D=1<<A;Y[A]=0,O[A]=-1;var _=U[A];if(_!==null)for(U[A]=null,A=0;A<_.length;A++){var W=_[A];W!==null&&(W.lane&=-536870913)}Q&=~D}q!==0&&_C(Z,q,0),X!==0&&K===0&&Z.tag!==0&&(Z.suspendedLanes|=X&~(z&~J))}function _C(Z,J,Q){Z.pendingLanes|=J,Z.suspendedLanes&=~J;var q=31-h8(J);Z.entangledLanes|=J,Z.entanglements[q]=Z.entanglements[q]|1073741824|Q&261930}function MC(Z,J){var Q=Z.entangledLanes|=J;for(Z=Z.entanglements;Q;){var q=31-h8(Q),K=1<<q;K&J|Z[q]&J&&(Z[q]|=J),Q&=~K}}function WC(Z,J){var Q=J&-J;return Q=(Q&42)!==0?1:aA(Q),(Q&(Z.suspendedLanes|J))!==0?0:Q}function aA(Z){switch(Z){case 2:Z=1;break;case 8:Z=4;break;case 32:Z=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Z=128;break;case 268435456:Z=134217728;break;default:Z=0}return Z}function sA(Z){return Z&=-Z,2<Z?8<Z?(Z&134217727)!==0?32:268435456:8:2}function GC(){var Z=u0.p;if(Z!==0)return Z;return Z=window.event,Z===void 0?32:uR(Z.type)}function dj(Z,J){var Q=u0.p;try{return u0.p=Z,J()}finally{u0.p=Q}}function nA(Z){delete Z[_5],delete Z[H8],delete Z[JA],delete Z[Ic],delete Z[Tc]}function y2(Z){var J=Z[_5];if(J)return J;for(var Q=Z.parentNode;Q;){if(J=Q[VJ]||Q[_5]){if(Q=J.alternate,J.child!==null||Q!==null&&Q.child!==null)for(Z=sw(Z);Z!==null;){if(Q=Z[_5])return Q;Z=sw(Z)}return J}Z=Q,Q=Z.parentNode}return null}function OJ(Z){if(Z=Z[_5]||Z[VJ]){var J=Z.tag;if(J===5||J===6||J===13||J===31||J===26||J===27||J===3)return Z}return null}function Hq(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z.stateNode;throw Error(l(33))}function i2(Z){var J=Z[cj];return J||(J=Z[cj]={hoistableStyles:new Map,hoistableScripts:new Map}),J}function X5(Z){Z[iq]=!0}function AZ(Z,J){ZJ(Z,J),ZJ(Z+"Capture",J)}function ZJ(Z,J){jC[Z]=J;for(Z=0;Z<J.length;Z++)FC.add(J[Z])}function bc(Z){if(ZA.call(lj,Z))return!0;if(ZA.call(uj,Z))return!1;if(Sc.test(Z))return lj[Z]=!0;return uj[Z]=!0,!1}function kN(Z,J,Q){if(bc(J))if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":Z.removeAttribute(J);return;case"boolean":var q=J.toLowerCase().slice(0,5);if(q!=="data-"&&q!=="aria-"){Z.removeAttribute(J);return}}Z.setAttribute(J,""+Q)}}function jN(Z,J,Q){if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(J);return}Z.setAttribute(J,""+Q)}}function k4(Z,J,Q,q){if(q===null)Z.removeAttribute(Q);else{switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(Q);return}Z.setAttributeNS(J,Q,""+q)}}function K6(Z){switch(typeof Z){case"bigint":case"boolean":case"number":case"string":case"undefined":return Z;case"object":return Z;default:return""}}function wC(Z){var J=Z.type;return(Z=Z.nodeName)&&Z.toLowerCase()==="input"&&(J==="checkbox"||J==="radio")}function kc(Z,J,Q){var q=Object.getOwnPropertyDescriptor(Z.constructor.prototype,J);if(!Z.hasOwnProperty(J)&&typeof q<"u"&&typeof q.get==="function"&&typeof q.set==="function"){var{get:K,set:X}=q;return Object.defineProperty(Z,J,{configurable:!0,get:function(){return K.call(this)},set:function(z){Q=""+z,X.call(this,z)}}),Object.defineProperty(Z,J,{enumerable:q.enumerable}),{getValue:function(){return Q},setValue:function(z){Q=""+z},stopTracking:function(){Z._valueTracker=null,delete Z[J]}}}}function QA(Z){if(!Z._valueTracker){var J=wC(Z)?"checked":"value";Z._valueTracker=kc(Z,J,""+Z[J])}}function CC(Z){if(!Z)return!1;var J=Z._valueTracker;if(!J)return!0;var Q=J.getValue(),q="";return Z&&(q=wC(Z)?Z.checked?"true":"false":Z.value),Z=q,Z!==Q?(J.setValue(Z),!0):!1}function rN(Z){if(Z=Z||(typeof document<"u"?document:void 0),typeof Z>"u")return null;try{return Z.activeElement||Z.body}catch(J){return Z.body}}function z6(Z){return Z.replace(Pc,function(J){return"\\"+J.charCodeAt(0).toString(16)+" "})}function qA(Z,J,Q,q,K,X,z,Y){if(Z.name="",z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"?Z.type=z:Z.removeAttribute("type"),J!=null)if(z==="number"){if(J===0&&Z.value===""||Z.value!=J)Z.value=""+K6(J)}else Z.value!==""+K6(J)&&(Z.value=""+K6(J));else z!=="submit"&&z!=="reset"||Z.removeAttribute("value");J!=null?KA(Z,z,K6(J)):Q!=null?KA(Z,z,K6(Q)):q!=null&&Z.removeAttribute("value"),K==null&&X!=null&&(Z.defaultChecked=!!X),K!=null&&(Z.checked=K&&typeof K!=="function"&&typeof K!=="symbol"),Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&typeof Y!=="boolean"?Z.name=""+K6(Y):Z.removeAttribute("name")}function LC(Z,J,Q,q,K,X,z,Y){if(X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&typeof X!=="boolean"&&(Z.type=X),J!=null||Q!=null){if(!(X!=="submit"&&X!=="reset"||J!==void 0&&J!==null)){QA(Z);return}Q=Q!=null?""+K6(Q):"",J=J!=null?""+K6(J):Q,Y||J===Z.value||(Z.value=J),Z.defaultValue=J}q=q!=null?q:K,q=typeof q!=="function"&&typeof q!=="symbol"&&!!q,Z.checked=Y?Z.checked:!!q,Z.defaultChecked=!!q,z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"&&(Z.name=z),QA(Z)}function KA(Z,J,Q){J==="number"&&rN(Z.ownerDocument)===Z||Z.defaultValue===""+Q||(Z.defaultValue=""+Q)}function a2(Z,J,Q,q){if(Z=Z.options,J){J={};for(var K=0;K<Q.length;K++)J["$"+Q[K]]=!0;for(Q=0;Q<Z.length;Q++)K=J.hasOwnProperty("$"+Z[Q].value),Z[Q].selected!==K&&(Z[Q].selected=K),K&&q&&(Z[Q].defaultSelected=!0)}else{Q=""+K6(Q),J=null;for(K=0;K<Z.length;K++){if(Z[K].value===Q){Z[K].selected=!0,q&&(Z[K].defaultSelected=!0);return}J!==null||Z[K].disabled||(J=Z[K])}J!==null&&(J.selected=!0)}}function RC(Z,J,Q){if(J!=null&&(J=""+K6(J),J!==Z.value&&(Z.value=J),Q==null)){Z.defaultValue!==J&&(Z.defaultValue=J);return}Z.defaultValue=Q!=null?""+K6(Q):""}function EC(Z,J,Q,q){if(J==null){if(q!=null){if(Q!=null)throw Error(l(92));if(zq(q)){if(1<q.length)throw Error(l(93));q=q[0]}Q=q}Q==null&&(Q=""),J=Q}Q=K6(J),Z.defaultValue=Q,q=Z.textContent,q===Q&&q!==""&&q!==null&&(Z.value=q),QA(Z)}function JJ(Z,J){if(J){var Q=Z.firstChild;if(Q&&Q===Z.lastChild&&Q.nodeType===3){Q.nodeValue=J;return}}Z.textContent=J}function pj(Z,J,Q){var q=J.indexOf("--")===0;Q==null||typeof Q==="boolean"||Q===""?q?Z.setProperty(J,""):J==="float"?Z.cssFloat="":Z[J]="":q?Z.setProperty(J,Q):typeof Q!=="number"||Q===0||vc.has(J)?J==="float"?Z.cssFloat=Q:Z[J]=(""+Q).trim():Z[J]=Q+"px"}function IC(Z,J,Q){if(J!=null&&typeof J!=="object")throw Error(l(62));if(Z=Z.style,Q!=null){for(var q in Q)!Q.hasOwnProperty(q)||J!=null&&J.hasOwnProperty(q)||(q.indexOf("--")===0?Z.setProperty(q,""):q==="float"?Z.cssFloat="":Z[q]="");for(var K in J)q=J[K],J.hasOwnProperty(K)&&Q[K]!==q&&pj(Z,K,q)}else for(var X in J)J.hasOwnProperty(X)&&pj(Z,X,J[X])}function oA(Z){if(Z.indexOf("-")===-1)return!1;switch(Z){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function PN(Z){return yc.test(""+Z)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Z}function m4(){}function tA(Z){return Z=Z.target||Z.srcElement||window,Z.correspondingUseElement&&(Z=Z.correspondingUseElement),Z.nodeType===3?Z.parentNode:Z}function ij(Z){var J=OJ(Z);if(J&&(Z=J.stateNode)){var Q=Z[H8]||null;Z:switch(Z=J.stateNode,J.type){case"input":if(qA(Z,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name),J=Q.name,Q.type==="radio"&&J!=null){for(Q=Z;Q.parentNode;)Q=Q.parentNode;Q=Q.querySelectorAll('input[name="'+z6(""+J)+'"][type="radio"]');for(J=0;J<Q.length;J++){var q=Q[J];if(q!==Z&&q.form===Z.form){var K=q[H8]||null;if(!K)throw Error(l(90));qA(q,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(J=0;J<Q.length;J++)q=Q[J],q.form===Z.form&&CC(q)}break Z;case"textarea":RC(Z,Q.value,Q.defaultValue);break Z;case"select":J=Q.value,J!=null&&a2(Z,!!Q.multiple,J,!1)}}}function TC(Z,J,Q){if(G$)return Z(J,Q);G$=!0;try{var q=Z(J);return q}finally{if(G$=!1,h2!==null||s2!==null){if(fz(),h2&&(J=h2,Z=s2,s2=h2=null,ij(J),Z))for(J=0;J<Z.length;J++)ij(Z[J])}}}function Tq(Z,J){var Q=Z.stateNode;if(Q===null)return null;var q=Q[H8]||null;if(q===null)return null;Q=q[J];Z:switch(J){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(Z=Z.type,q=!(Z==="button"||Z==="input"||Z==="select"||Z==="textarea")),Z=!q;break Z;default:Z=!1}if(Z)return null;if(Q&&typeof Q!=="function")throw Error(l(231,J,typeof Q));return Q}function SC(){if(vN)return vN;var Z,J=rA,Q=J.length,q,K="value"in l7?l7.value:l7.textContent,X=K.length;for(Z=0;Z<Q&&J[Z]===K[Z];Z++);var z=Q-Z;for(q=1;q<=z&&J[Q-q]===K[X-q];q++);return vN=K.slice(Z,1<q?1-q:void 0)}function fN(Z){var J=Z.keyCode;return"charCode"in Z?(Z=Z.charCode,Z===0&&J===13&&(Z=13)):Z=J,Z===10&&(Z=13),32<=Z||Z===13?Z:0}function wN(){return!0}function aj(){return!1}function Y8(Z){function J(Q,q,K,X,z){this._reactName=Q,this._targetInst=K,this.type=q,this.nativeEvent=X,this.target=z,this.currentTarget=null;for(var Y in Z)Z.hasOwnProperty(Y)&&(Q=Z[Y],this[Y]=Q?Q(X):X[Y]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?wN:aj,this.isPropagationStopped=aj,this}return _1(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Q=this.nativeEvent;Q&&(Q.preventDefault?Q.preventDefault():typeof Q.returnValue!=="unknown"&&(Q.returnValue=!1),this.isDefaultPrevented=wN)},stopPropagation:function(){var Q=this.nativeEvent;Q&&(Q.stopPropagation?Q.stopPropagation():typeof Q.cancelBubble!=="unknown"&&(Q.cancelBubble=!0),this.isPropagationStopped=wN)},persist:function(){},isPersistent:wN}),J}function nc(Z){var J=this.nativeEvent;return J.getModifierState?J.getModifierState(Z):(Z=sc[Z])?!!J[Z]:!1}function eA(){return nc}function kC(Z,J){switch(Z){case"keyup":return zu.indexOf(J.keyCode)!==-1;case"keydown":return J.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PC(Z){return Z=Z.detail,typeof Z==="object"&&"data"in Z?Z.data:null}function Yu(Z,J){switch(Z){case"compositionend":return PC(J);case"keypress":if(J.which!==32)return null;return rj=!0,tj;case"textInput":return Z=J.data,Z===tj&&rj?null:Z;default:return null}}function Vu(Z,J){if(x2)return Z==="compositionend"||!Z3&&kC(Z,J)?(Z=SC(),vN=rA=l7=null,x2=!1,Z):null;switch(Z){case"paste":return null;case"keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case"compositionend":return bC&&J.locale!=="ko"?null:J.data;default:return null}}function ej(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J==="input"?!!Ou[Z.type]:J==="textarea"?!0:!1}function vC(Z,J,Q,q){h2?s2?s2.push(q):s2=[q]:h2=q,J=Bz(J,"onChange"),0<J.length&&(Q=new Cz("onChange","change",null,Q,q),Z.push({event:Q,listeners:J}))}function Uu(Z){TR(Z,0)}function Rz(Z){var J=Hq(Z);if(CC(J))return Z}function Zw(Z,J){if(Z==="change")return J}function Jw(){Bq&&(Bq.detachEvent("onpropertychange",yC),Sq=Bq=null)}function yC(Z){if(Z.propertyName==="value"&&Rz(Sq)){var J=[];vC(J,Sq,Z,tA(Z)),TC(Uu,J)}}function $u(Z,J,Q){Z==="focusin"?(Jw(),Bq=J,Sq=Q,Bq.attachEvent("onpropertychange",yC)):Z==="focusout"&&Jw()}function Au(Z){if(Z==="selectionchange"||Z==="keyup"||Z==="keydown")return Rz(Sq)}function Du(Z,J){if(Z==="click")return Rz(J)}function Bu(Z,J){if(Z==="input"||Z==="change")return Rz(J)}function _u(Z,J){return Z===J&&(Z!==0||1/Z===1/J)||Z!==Z&&J!==J}function bq(Z,J){if(g8(Z,J))return!0;if(typeof Z!=="object"||Z===null||typeof J!=="object"||J===null)return!1;var Q=Object.keys(Z),q=Object.keys(J);if(Q.length!==q.length)return!1;for(q=0;q<Q.length;q++){var K=Q[q];if(!ZA.call(J,K)||!g8(Z[K],J[K]))return!1}return!0}function Qw(Z){for(;Z&&Z.firstChild;)Z=Z.firstChild;return Z}function qw(Z,J){var Q=Qw(Z);Z=0;for(var q;Q;){if(Q.nodeType===3){if(q=Z+Q.textContent.length,Z<=J&&q>=J)return{node:Q,offset:J-Z};Z=q}Z:{for(;Q;){if(Q.nextSibling){Q=Q.nextSibling;break Z}Q=Q.parentNode}Q=void 0}Q=Qw(Q)}}function hC(Z,J){return Z&&J?Z===J?!0:Z&&Z.nodeType===3?!1:J&&J.nodeType===3?hC(Z,J.parentNode):("contains"in Z)?Z.contains(J):Z.compareDocumentPosition?!!(Z.compareDocumentPosition(J)&16):!1:!1}function xC(Z){Z=Z!=null&&Z.ownerDocument!=null&&Z.ownerDocument.defaultView!=null?Z.ownerDocument.defaultView:window;for(var J=rN(Z.document);J instanceof Z.HTMLIFrameElement;){try{var Q=typeof J.contentWindow.location.href==="string"}catch(q){Q=!1}if(Q)Z=J.contentWindow;else break;J=rN(Z.document)}return J}function J3(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J&&(J==="input"&&(Z.type==="text"||Z.type==="search"||Z.type==="tel"||Z.type==="url"||Z.type==="password")||J==="textarea"||Z.contentEditable==="true")}function Kw(Z,J,Q){var q=Q.window===Q?Q.document:Q.nodeType===9?Q:Q.ownerDocument;HA||g2==null||g2!==rN(q)||(q=g2,("selectionStart"in q)&&J3(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),_q&&bq(_q,q)||(_q=q,q=Bz(zA,"onSelect"),0<q.length&&(J=new Cz("onSelect","select",null,J,Q),Z.push({event:J,listeners:q}),J.target=g2)))}function r9(Z,J){var Q={};return Q[Z.toLowerCase()]=J.toLowerCase(),Q["Webkit"+Z]="webkit"+J,Q["Moz"+Z]="moz"+J,Q}function BZ(Z){if(C$[Z])return C$[Z];if(!m2[Z])return Z;var J=m2[Z],Q;for(Q in J)if(J.hasOwnProperty(Q)&&Q in gC)return C$[Z]=J[Q];return Z}function S6(Z,J){lC.set(Z,J),AZ(J,[Z])}function Ez(){for(var Z=d2,J=Q3=d2=0;J<Z;){var Q=q6[J];q6[J++]=null;var q=q6[J];q6[J++]=null;var K=q6[J];q6[J++]=null;var X=q6[J];if(q6[J++]=null,q!==null&&K!==null){var z=q.pending;z===null?K.next=K:(K.next=z.next,z.next=K),q.pending=K}X!==0&&pC(Q,K,X)}}function Iz(Z,J,Q,q){q6[d2++]=Z,q6[d2++]=J,q6[d2++]=Q,q6[d2++]=q,Q3|=q,Z.lanes|=q,Z=Z.alternate,Z!==null&&(Z.lanes|=q)}function q3(Z,J,Q,q){return Iz(Z,J,Q,q),Zz(Z)}function _Z(Z,J){return Iz(Z,null,null,J),Zz(Z)}function pC(Z,J,Q){Z.lanes|=Q;var q=Z.alternate;q!==null&&(q.lanes|=Q);for(var K=!1,X=Z.return;X!==null;)X.childLanes|=Q,q=X.alternate,q!==null&&(q.childLanes|=Q),X.tag===22&&(Z=X.stateNode,Z===null||Z._visibility&1||(K=!0)),Z=X,X=X.return;return Z.tag===3?(X=Z.stateNode,K&&J!==null&&(K=31-h8(Q),Z=X.hiddenUpdates,q=Z[K],q===null?Z[K]=[J]:q.push(J),J.lane=Q|536870912),X):null}function Zz(Z){if(50<Rq)throw Rq=0,SA=null,Error(l(185));for(var J=Z.return;J!==null;)Z=J,J=Z.return;return Z.tag===3?Z.stateNode:null}function ju(Z,J,Q,q){this.tag=Z,this.key=Q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=J,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function P8(Z,J,Q,q){return new ju(Z,J,Q,q)}function K3(Z){return Z=Z.prototype,!(!Z||!Z.isReactComponent)}function c4(Z,J){var Q=Z.alternate;return Q===null?(Q=P8(Z.tag,J,Z.key,Z.mode),Q.elementType=Z.elementType,Q.type=Z.type,Q.stateNode=Z.stateNode,Q.alternate=Z,Z.alternate=Q):(Q.pendingProps=J,Q.type=Z.type,Q.flags=0,Q.subtreeFlags=0,Q.deletions=null),Q.flags=Z.flags&65011712,Q.childLanes=Z.childLanes,Q.lanes=Z.lanes,Q.child=Z.child,Q.memoizedProps=Z.memoizedProps,Q.memoizedState=Z.memoizedState,Q.updateQueue=Z.updateQueue,J=Z.dependencies,Q.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext},Q.sibling=Z.sibling,Q.index=Z.index,Q.ref=Z.ref,Q.refCleanup=Z.refCleanup,Q}function iC(Z,J){Z.flags&=65011714;var Q=Z.alternate;return Q===null?(Z.childLanes=0,Z.lanes=J,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=Q.childLanes,Z.lanes=Q.lanes,Z.child=Q.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=Q.memoizedProps,Z.memoizedState=Q.memoizedState,Z.updateQueue=Q.updateQueue,Z.type=Q.type,J=Q.dependencies,Z.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext}),Z}function hN(Z,J,Q,q,K,X){var z=0;if(q=Z,typeof Z==="function")K3(Z)&&(z=1);else if(typeof Z==="string")z=Ll(Z,Q,J4.current)?26:Z==="html"||Z==="head"||Z==="body"?27:5;else Z:switch(Z){case o$:return Z=P8(31,Q,J,K),Z.elementType=o$,Z.lanes=X,Z;case v2:return XZ(Q.children,K,X,J);case OC:z=8,K|=24;break;case a$:return Z=P8(12,Q,J,K|2),Z.elementType=a$,Z.lanes=X,Z;case s$:return Z=P8(13,Q,J,K),Z.elementType=s$,Z.lanes=X,Z;case n$:return Z=P8(19,Q,J,K),Z.elementType=n$,Z.lanes=X,Z;default:if(typeof Z==="object"&&Z!==null)switch(Z.$$typeof){case g4:z=10;break Z;case UC:z=9;break Z;case lA:z=11;break Z;case pA:z=14;break Z;case h7:z=16,q=null;break Z}z=29,Q=Error(l(130,Z===null?"null":typeof Z,"")),q=null}return J=P8(z,Q,J,K),J.elementType=Z,J.type=q,J.lanes=X,J}function XZ(Z,J,Q,q){return Z=P8(7,Z,q,J),Z.lanes=Q,Z}function L$(Z,J,Q){return Z=P8(6,Z,null,J),Z.lanes=Q,Z}function aC(Z){var J=P8(18,null,null,0);return J.stateNode=Z,J}function R$(Z,J,Q){return J=P8(4,Z.children!==null?Z.children:[],Z.key,J),J.lanes=Q,J.stateNode={containerInfo:Z.containerInfo,pendingChildren:null,implementation:Z.implementation},J}function H6(Z,J){if(typeof Z==="object"&&Z!==null){var Q=Xw.get(Z);if(Q!==void 0)return Q;return J={value:Z,source:J,stack:mj(J)},Xw.set(Z,J),J}return{value:Z,source:J,stack:mj(J)}}function h4(Z,J){u2[l2++]=kq,u2[l2++]=Jz,Jz=Z,kq=J}function sC(Z,J,Q){X6[N6++]=r6,X6[N6++]=e6,X6[N6++]=q9,q9=Z;var q=r6;Z=e6;var K=32-h8(q)-1;q&=~(1<<K),Q+=1;var X=32-h8(J)+K;if(30<X){var z=K-K%5;X=(q&(1<<z)-1).toString(32),q>>=z,K-=z,r6=1<<32-h8(J)+K|Q<<K|q,e6=X+Z}else r6=1<<X|Q<<K|q,e6=Z}function X3(Z){Z.return!==null&&(h4(Z,1),sC(Z,1,0))}function N3(Z){for(;Z===Jz;)Jz=u2[--l2],u2[l2]=null,kq=u2[--l2],u2[l2]=null;for(;Z===q9;)q9=X6[--N6],X6[N6]=null,e6=X6[--N6],X6[N6]=null,r6=X6[--N6],X6[N6]=null}function nC(Z,J){X6[N6++]=r6,X6[N6++]=e6,X6[N6++]=q9,r6=J.id,e6=J.overflow,q9=Z}function K9(Z){var J=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pq(H6(J,Z)),VA}function Nw(Z){var{stateNode:J,type:Q,memoizedProps:q}=Z;switch(J[_5]=Z,J[H8]=q,Q){case"dialog":E0("cancel",J),E0("close",J);break;case"iframe":case"object":case"embed":E0("load",J);break;case"video":case"audio":for(Q=0;Q<hq.length;Q++)E0(hq[Q],J);break;case"source":E0("error",J);break;case"img":case"image":case"link":E0("error",J),E0("load",J);break;case"details":E0("toggle",J);break;case"input":E0("invalid",J),LC(J,q.value,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name,!0);break;case"select":E0("invalid",J);break;case"textarea":E0("invalid",J),EC(J,q.value,q.defaultValue,q.children)}Q=q.children,typeof Q!=="string"&&typeof Q!=="number"&&typeof Q!=="bigint"||J.textContent===""+Q||q.suppressHydrationWarning===!0||bR(J.textContent,Q)?(q.popover!=null&&(E0("beforetoggle",J),E0("toggle",J)),q.onScroll!=null&&E0("scroll",J),q.onScrollEnd!=null&&E0("scrollend",J),q.onClick!=null&&(J.onclick=m4),J=!0):J=!1,J||K9(Z,!0)}function zw(Z){for(M5=Z.return;M5;)switch(M5.tag){case 5:case 31:case 13:Y6=!1;return;case 27:case 3:Y6=!0;return;default:M5=M5.return}}function T2(Z){if(Z!==M5)return!1;if(!k0)return zw(Z),k0=!0,!1;var J=Z.tag,Q;if(Q=J!==3&&J!==27){if(Q=J===5)Q=Z.type,Q=!(Q!=="form"&&Q!=="button")||hA(Z.type,Z.memoizedProps);Q=!Q}if(Q&&B1&&K9(Z),zw(Z),J===13){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(317));B1=aw(Z)}else if(J===31){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(317));B1=aw(Z)}else J===27?(J=B1,H9(Z.type)?(Z=dA,dA=null,B1=Z):B1=J):B1=M5?O6(Z.stateNode.nextSibling):null;return!0}function YZ(){B1=M5=null,k0=!1}function E$(){var Z=n7;return Z!==null&&(N8===null?N8=Z:N8.push.apply(N8,Z),n7=null),Z}function Pq(Z){n7===null?n7=[Z]:n7.push(Z)}function g7(Z,J,Q){O1(OA,J._currentValue),J._currentValue=Q}function u4(Z){Z._currentValue=OA.current,N5(OA)}function UA(Z,J,Q){for(;Z!==null;){var q=Z.alternate;if((Z.childLanes&J)!==J?(Z.childLanes|=J,q!==null&&(q.childLanes|=J)):q!==null&&(q.childLanes&J)!==J&&(q.childLanes|=J),Z===Q)break;Z=Z.return}}function $A(Z,J,Q,q){var K=Z.child;K!==null&&(K.return=Z);for(;K!==null;){var X=K.dependencies;if(X!==null){var z=K.child;X=X.firstContext;Z:for(;X!==null;){var Y=X;X=K;for(var O=0;O<J.length;O++)if(Y.context===J[O]){X.lanes|=Q,Y=X.alternate,Y!==null&&(Y.lanes|=Q),UA(X.return,Q,Z),q||(z=null);break Z}X=Y.next}}else if(K.tag===18){if(z=K.return,z===null)throw Error(l(341));z.lanes|=Q,X=z.alternate,X!==null&&(X.lanes|=Q),UA(z,Q,Z),z=null}else z=K.child;if(z!==null)z.return=K;else for(z=K;z!==null;){if(z===Z){z=null;break}if(K=z.sibling,K!==null){K.return=z.return,z=K;break}z=z.return}K=z}}function UJ(Z,J,Q,q){Z=null;for(var K=J,X=!1;K!==null;){if(!X){if((K.flags&524288)!==0)X=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var z=K.alternate;if(z===null)throw Error(l(387));if(z=z.memoizedProps,z!==null){var Y=K.type;g8(K.pendingProps.value,z.value)||(Z!==null?Z.push(Y):Z=[Y])}}else if(K===sN.current){if(z=K.alternate,z===null)throw Error(l(387));z.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(Z!==null?Z.push(gq):Z=[gq])}K=K.return}Z!==null&&$A(J,Z,Q,q),J.flags|=262144}function Qz(Z){for(Z=Z.firstContext;Z!==null;){if(!g8(Z.context._currentValue,Z.memoizedValue))return!0;Z=Z.next}return!1}function VZ(Z){MZ=Z,d4=null,Z=Z.dependencies,Z!==null&&(Z.firstContext=null)}function W5(Z){return oC(MZ,Z)}function CN(Z,J){return MZ===null&&VZ(Z),oC(Z,J)}function oC(Z,J){var Q=J._currentValue;if(J={context:J,memoizedValue:Q,next:null},d4===null){if(Z===null)throw Error(l(308));d4=J,Z.dependencies={lanes:0,firstContext:J},Z.flags|=524288}else d4=d4.next=J;return Q}function z3(){return{controller:new wu,data:new Map,refCount:0}}function sq(Z){Z.refCount--,Z.refCount===0&&Cu(Lu,function(){Z.controller.abort()})}function Ru(Z,J){if(Mq===null){var Q=Mq=[];AA=0,QJ=k3(),n2={status:"pending",value:void 0,then:function(q){Q.push(q)}}}return AA++,J.then(Hw,Hw),J}function Hw(){if(--AA===0&&Mq!==null){n2!==null&&(n2.status="fulfilled");var Z=Mq;Mq=null,QJ=0,n2=null;for(var J=0;J<Z.length;J++)(0,Z[J])()}}function Eu(Z,J){var Q=[],q={status:"pending",value:null,reason:null,then:function(K){Q.push(K)}};return Z.then(function(){q.status="fulfilled",q.value=J;for(var K=0;K<Q.length;K++)(0,Q[K])(J)},function(K){q.status="rejected",q.reason=K;for(K=0;K<Q.length;K++)(0,Q[K])(void 0)}),q}function H3(){var Z=NZ.current;return Z!==null?Z:z1.pooledCache}function xN(Z,J){J===null?O1(NZ,NZ.current):O1(NZ,J.pool)}function tC(){var Z=H3();return Z===null?null:{parent:l1._currentValue,pool:Z}}function Vw(Z){return Z=Z.status,Z==="fulfilled"||Z==="rejected"}function rC(Z,J,Q){switch(Q=Z[Q],Q===void 0?Z.push(J):Q!==J&&(J.then(m4,m4),J=Q),J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Uw(Z),Z;default:if(typeof J.status==="string")J.then(m4,m4);else{if(Z=z1,Z!==null&&100<Z.shellSuspendCounter)throw Error(l(482));Z=J,Z.status="pending",Z.then(function(q){if(J.status==="pending"){var K=J;K.status="fulfilled",K.value=q}},function(q){if(J.status==="pending"){var K=J;K.status="rejected",K.reason=q}})}switch(J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Uw(Z),Z}throw zZ=J,$J}}function QZ(Z){try{var J=Z._init;return J(Z._payload)}catch(Q){if(Q!==null&&typeof Q==="object"&&typeof Q.then==="function")throw zZ=Q,$J;throw Q}}function Ow(){if(zZ===null)throw Error(l(459));var Z=zZ;return zZ=null,Z}function Uw(Z){if(Z===$J||Z===Tz)throw Error(l(483))}function LN(Z){var J=vq;return vq+=1,o2===null&&(o2=[]),rC(o2,Z,J)}function Qq(Z,J){J=J.props.ref,Z.ref=J!==void 0?J:null}function RN(Z,J){if(J.$$typeof===$c)throw Error(l(525));throw Z=Object.prototype.toString.call(J),Error(l(31,Z==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Z))}function eC(Z){function J(G,w){if(Z){var L=G.deletions;L===null?(G.deletions=[w],G.flags|=16):L.push(w)}}function Q(G,w){if(!Z)return null;for(;w!==null;)J(G,w),w=w.sibling;return null}function q(G){for(var w=new Map;G!==null;)G.key!==null?w.set(G.key,G):w.set(G.index,G),G=G.sibling;return w}function K(G,w){return G=c4(G,w),G.index=0,G.sibling=null,G}function X(G,w,L){if(G.index=L,!Z)return G.flags|=1048576,w;if(L=G.alternate,L!==null)return L=L.index,L<w?(G.flags|=67108866,w):L;return G.flags|=67108866,w}function z(G){return Z&&G.alternate===null&&(G.flags|=67108866),G}function Y(G,w,L,I){if(w===null||w.tag!==6)return w=L$(L,G.mode,I),w.return=G,w;return w=K(w,L),w.return=G,w}function O(G,w,L,I){var h=L.type;if(h===v2)return A(G,w,L.props.children,I,L.key);if(w!==null&&(w.elementType===h||typeof h==="object"&&h!==null&&h.$$typeof===h7&&QZ(h)===w.type))return w=K(w,L.props),Qq(w,L),w.return=G,w;return w=hN(L.type,L.key,L.props,null,G.mode,I),Qq(w,L),w.return=G,w}function U(G,w,L,I){if(w===null||w.tag!==4||w.stateNode.containerInfo!==L.containerInfo||w.stateNode.implementation!==L.implementation)return w=R$(L,G.mode,I),w.return=G,w;return w=K(w,L.children||[]),w.return=G,w}function A(G,w,L,I,h){if(w===null||w.tag!==7)return w=XZ(L,G.mode,I,h),w.return=G,w;return w=K(w,L),w.return=G,w}function D(G,w,L){if(typeof w==="string"&&w!==""||typeof w==="number"||typeof w==="bigint")return w=L$(""+w,G.mode,L),w.return=G,w;if(typeof w==="object"&&w!==null){switch(w.$$typeof){case MN:return L=hN(w.type,w.key,w.props,null,G.mode,L),Qq(L,w),L.return=G,L;case Nq:return w=R$(w,G.mode,L),w.return=G,w;case h7:return w=QZ(w),D(G,w,L)}if(zq(w)||Zq(w))return w=XZ(w,G.mode,L,null),w.return=G,w;if(typeof w.then==="function")return D(G,LN(w),L);if(w.$$typeof===g4)return D(G,CN(G,w),L);RN(G,w)}return null}function _(G,w,L,I){var h=w!==null?w.key:null;if(typeof L==="string"&&L!==""||typeof L==="number"||typeof L==="bigint")return h!==null?null:Y(G,w,""+L,I);if(typeof L==="object"&&L!==null){switch(L.$$typeof){case MN:return L.key===h?O(G,w,L,I):null;case Nq:return L.key===h?U(G,w,L,I):null;case h7:return L=QZ(L),_(G,w,L,I)}if(zq(L)||Zq(L))return h!==null?null:A(G,w,L,I,null);if(typeof L.then==="function")return _(G,w,LN(L),I);if(L.$$typeof===g4)return _(G,w,CN(G,L),I);RN(G,L)}return null}function W(G,w,L,I,h){if(typeof I==="string"&&I!==""||typeof I==="number"||typeof I==="bigint")return G=G.get(L)||null,Y(w,G,""+I,h);if(typeof I==="object"&&I!==null){switch(I.$$typeof){case MN:return G=G.get(I.key===null?L:I.key)||null,O(w,G,I,h);case Nq:return G=G.get(I.key===null?L:I.key)||null,U(w,G,I,h);case h7:return I=QZ(I),W(G,w,L,I,h)}if(zq(I)||Zq(I))return G=G.get(L)||null,A(w,G,I,h,null);if(typeof I.then==="function")return W(G,w,L,LN(I),h);if(I.$$typeof===g4)return W(G,w,L,CN(w,I),h);RN(w,I)}return null}function j(G,w,L,I){for(var h=null,v=null,b=w,m=w=0,c=null;b!==null&&m<L.length;m++){b.index>m?(c=b,b=null):c=b.sibling;var u=_(G,b,L[m],I);if(u===null){b===null&&(b=c);break}Z&&b&&u.alternate===null&&J(G,b),w=X(u,w,m),v===null?h=u:v.sibling=u,v=u,b=c}if(m===L.length)return Q(G,b),k0&&h4(G,m),h;if(b===null){for(;m<L.length;m++)b=D(G,L[m],I),b!==null&&(w=X(b,w,m),v===null?h=b:v.sibling=b,v=b);return k0&&h4(G,m),h}for(b=q(b);m<L.length;m++)c=W(b,G,m,L[m],I),c!==null&&(Z&&c.alternate!==null&&b.delete(c.key===null?m:c.key),w=X(c,w,m),v===null?h=c:v.sibling=c,v=c);return Z&&b.forEach(function(n){return J(G,n)}),k0&&h4(G,m),h}function C(G,w,L,I){if(L==null)throw Error(l(151));for(var h=null,v=null,b=w,m=w=0,c=null,u=L.next();b!==null&&!u.done;m++,u=L.next()){b.index>m?(c=b,b=null):c=b.sibling;var n=_(G,b,u.value,I);if(n===null){b===null&&(b=c);break}Z&&b&&n.alternate===null&&J(G,b),w=X(n,w,m),v===null?h=n:v.sibling=n,v=n,b=c}if(u.done)return Q(G,b),k0&&h4(G,m),h;if(b===null){for(;!u.done;m++,u=L.next())u=D(G,u.value,I),u!==null&&(w=X(u,w,m),v===null?h=u:v.sibling=u,v=u);return k0&&h4(G,m),h}for(b=q(b);!u.done;m++,u=L.next())u=W(b,G,m,u.value,I),u!==null&&(Z&&u.alternate!==null&&b.delete(u.key===null?m:u.key),w=X(u,w,m),v===null?h=u:v.sibling=u,v=u);return Z&&b.forEach(function(N0){return J(G,N0)}),k0&&h4(G,m),h}function R(G,w,L,I){if(typeof L==="object"&&L!==null&&L.type===v2&&L.key===null&&(L=L.props.children),typeof L==="object"&&L!==null){switch(L.$$typeof){case MN:Z:{for(var h=L.key;w!==null;){if(w.key===h){if(h=L.type,h===v2){if(w.tag===7){Q(G,w.sibling),I=K(w,L.props.children),I.return=G,G=I;break Z}}else if(w.elementType===h||typeof h==="object"&&h!==null&&h.$$typeof===h7&&QZ(h)===w.type){Q(G,w.sibling),I=K(w,L.props),Qq(I,L),I.return=G,G=I;break Z}Q(G,w);break}else J(G,w);w=w.sibling}L.type===v2?(I=XZ(L.props.children,G.mode,I,L.key),I.return=G,G=I):(I=hN(L.type,L.key,L.props,null,G.mode,I),Qq(I,L),I.return=G,G=I)}return z(G);case Nq:Z:{for(h=L.key;w!==null;){if(w.key===h)if(w.tag===4&&w.stateNode.containerInfo===L.containerInfo&&w.stateNode.implementation===L.implementation){Q(G,w.sibling),I=K(w,L.children||[]),I.return=G,G=I;break Z}else{Q(G,w);break}else J(G,w);w=w.sibling}I=R$(L,G.mode,I),I.return=G,G=I}return z(G);case h7:return L=QZ(L),R(G,w,L,I)}if(zq(L))return j(G,w,L,I);if(Zq(L)){if(h=Zq(L),typeof h!=="function")throw Error(l(150));return L=h.call(L),C(G,w,L,I)}if(typeof L.then==="function")return R(G,w,LN(L),I);if(L.$$typeof===g4)return R(G,w,CN(G,L),I);RN(G,L)}return typeof L==="string"&&L!==""||typeof L==="number"||typeof L==="bigint"?(L=""+L,w!==null&&w.tag===6?(Q(G,w.sibling),I=K(w,L),I.return=G,G=I):(Q(G,w),I=L$(L,G.mode,I),I.return=G,G=I),z(G)):Q(G,w)}return function(G,w,L,I){try{vq=0;var h=R(G,w,L,I);return o2=null,h}catch(b){if(b===$J||b===Tz)throw b;var v=P8(29,b,null,G.mode);return v.lanes=I,v.return=G,v}finally{}}}function V3(Z){Z.updateQueue={baseState:Z.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function DA(Z,J){Z=Z.updateQueue,J.updateQueue===Z&&(J.updateQueue={baseState:Z.baseState,firstBaseUpdate:Z.firstBaseUpdate,lastBaseUpdate:Z.lastBaseUpdate,shared:Z.shared,callbacks:null})}function o7(Z){return{lane:Z,tag:0,payload:null,callback:null,next:null}}function t7(Z,J,Q){var q=Z.updateQueue;if(q===null)return null;if(q=q.shared,(c0&2)!==0){var K=q.pending;return K===null?J.next=J:(J.next=K.next,K.next=J),q.pending=J,J=Zz(Z),pC(Z,null,Q),J}return Iz(Z,q,J,Q),Zz(Z)}function Wq(Z,J,Q){if(J=J.updateQueue,J!==null&&(J=J.shared,(Q&4194048)!==0)){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,MC(Z,Q)}}function I$(Z,J){var{updateQueue:Q,alternate:q}=Z;if(q!==null&&(q=q.updateQueue,Q===q)){var K=null,X=null;if(Q=Q.firstBaseUpdate,Q!==null){do{var z={lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:null,next:null};X===null?K=X=z:X=X.next=z,Q=Q.next}while(Q!==null);X===null?K=X=J:X=X.next=J}else K=X=J;Q={baseState:q.baseState,firstBaseUpdate:K,lastBaseUpdate:X,shared:q.shared,callbacks:q.callbacks},Z.updateQueue=Q;return}Z=Q.lastBaseUpdate,Z===null?Q.firstBaseUpdate=J:Z.next=J,Q.lastBaseUpdate=J}function Gq(){if(BA){var Z=n2;if(Z!==null)throw Z}}function Fq(Z,J,Q,q){BA=!1;var K=Z.updateQueue;x7=!1;var{firstBaseUpdate:X,lastBaseUpdate:z}=K,Y=K.shared.pending;if(Y!==null){K.shared.pending=null;var O=Y,U=O.next;O.next=null,z===null?X=U:z.next=U,z=O;var A=Z.alternate;A!==null&&(A=A.updateQueue,Y=A.lastBaseUpdate,Y!==z&&(Y===null?A.firstBaseUpdate=U:Y.next=U,A.lastBaseUpdate=O))}if(X!==null){var D=K.baseState;z=0,A=U=O=null,Y=X;do{var _=Y.lane&-536870913,W=_!==Y.lane;if(W?(S0&_)===_:(q&_)===_){_!==0&&_===QJ&&(BA=!0),A!==null&&(A=A.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});Z:{var j=Z,C=Y;_=J;var R=Q;switch(C.tag){case 1:if(j=C.payload,typeof j==="function"){D=j.call(R,D,_);break Z}D=j;break Z;case 3:j.flags=j.flags&-65537|128;case 0:if(j=C.payload,_=typeof j==="function"?j.call(R,D,_):j,_===null||_===void 0)break Z;D=_1({},D,_);break Z;case 2:x7=!0}}_=Y.callback,_!==null&&(Z.flags|=64,W&&(Z.flags|=8192),W=K.callbacks,W===null?K.callbacks=[_]:W.push(_))}else W={lane:_,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},A===null?(U=A=W,O=D):A=A.next=W,z|=_;if(Y=Y.next,Y===null)if(Y=K.shared.pending,Y===null)break;else W=Y,Y=W.next,W.next=null,K.lastBaseUpdate=W,K.shared.pending=null}while(1);A===null&&(O=D),K.baseState=O,K.firstBaseUpdate=U,K.lastBaseUpdate=A,X===null&&(K.shared.lanes=0),N9|=z,Z.lanes=z,Z.memoizedState=D}}function JL(Z,J){if(typeof Z!=="function")throw Error(l(191,Z));Z.call(J)}function QL(Z,J){var Q=Z.callbacks;if(Q!==null)for(Z.callbacks=null,Z=0;Z<Q.length;Z++)JL(Q[Z],J)}function $w(Z,J){Z=n4,O1(Kz,Z),O1(qJ,J),n4=Z|J.baseLanes}function _A(){O1(Kz,n4),O1(qJ,qJ.current)}function O3(){n4=Kz.current,N5(qJ),N5(Kz)}function m7(Z){var J=Z.alternate;O1(v1,v1.current&1),O1(m8,Z),V6===null&&(J===null||qJ.current!==null?V6=Z:J.memoizedState!==null&&(V6=Z))}function MA(Z){O1(v1,v1.current),O1(m8,Z),V6===null&&(V6=Z)}function qL(Z){Z.tag===22?(O1(v1,v1.current),O1(m8,Z),V6===null&&(V6=Z)):d7(Z)}function d7(){O1(v1,v1.current),O1(m8,m8.current)}function k8(Z){N5(m8),V6===Z&&(V6=null),N5(v1)}function Xz(Z){for(var J=Z;J!==null;){if(J.tag===13){var Q=J.memoizedState;if(Q!==null&&(Q=Q.dehydrated,Q===null||gA(Q)||mA(Q)))return J}else if(J.tag===19&&(J.memoizedProps.revealOrder==="forwards"||J.memoizedProps.revealOrder==="backwards"||J.memoizedProps.revealOrder==="unstable_legacy-backwards"||J.memoizedProps.revealOrder==="together")){if((J.flags&128)!==0)return J}else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return null;J=J.return}J.sibling.return=J.return,J=J.sibling}return null}function T1(){throw Error(l(321))}function U3(Z,J){if(J===null)return!1;for(var Q=0;Q<J.length&&Q<Z.length;Q++)if(!g8(Z[Q],J[Q]))return!1;return!0}function $3(Z,J,Q,q,K,X){return i4=X,F0=J,J.memoizedState=null,J.updateQueue=null,J.lanes=0,V0.H=Z===null||Z.memoizedState===null?vL:C3,UZ=!1,X=Q(q,K),UZ=!1,t2&&(X=XL(J,Q,q,K)),KL(Z),X}function KL(Z){V0.H=yq;var J=N1!==null&&N1.next!==null;if(i4=0,c1=N1=F0=null,Nz=!1,fq=0,r2=null,J)throw Error(l(300));Z===null||p1||(Z=Z.dependencies,Z!==null&&Qz(Z)&&(p1=!0))}function XL(Z,J,Q,q){F0=Z;var K=0;do{if(t2&&(r2=null),fq=0,t2=!1,25<=K)throw Error(l(301));if(K+=1,c1=N1=null,Z.updateQueue!=null){var X=Z.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}V0.H=fL,X=J(Q,q)}while(t2);return X}function Tu(){var Z=V0.H,J=Z.useState()[0];return J=typeof J.then==="function"?nq(J):J,Z=Z.useState()[0],(N1!==null?N1.memoizedState:null)!==Z&&(F0.flags|=1024),J}function A3(){var Z=zz!==0;return zz=0,Z}function D3(Z,J,Q){J.updateQueue=Z.updateQueue,J.flags&=-2053,Z.lanes&=~Q}function B3(Z){if(Nz){for(Z=Z.memoizedState;Z!==null;){var J=Z.queue;J!==null&&(J.pending=null),Z=Z.next}Nz=!1}i4=0,c1=N1=F0=null,t2=!1,fq=zz=0,r2=null}function m5(){var Z={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return c1===null?F0.memoizedState=c1=Z:c1=c1.next=Z,c1}function f1(){if(N1===null){var Z=F0.alternate;Z=Z!==null?Z.memoizedState:null}else Z=N1.next;var J=c1===null?F0.memoizedState:c1.next;if(J!==null)c1=J,N1=Z;else{if(Z===null){if(F0.alternate===null)throw Error(l(467));throw Error(l(310))}N1=Z,Z={memoizedState:N1.memoizedState,baseState:N1.baseState,baseQueue:N1.baseQueue,queue:N1.queue,next:null},c1===null?F0.memoizedState=c1=Z:c1=c1.next=Z}return c1}function Sz(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nq(Z){var J=fq;return fq+=1,r2===null&&(r2=[]),Z=rC(r2,Z,J),J=F0,(c1===null?J.memoizedState:c1.next)===null&&(J=J.alternate,V0.H=J===null||J.memoizedState===null?vL:C3),Z}function bz(Z){if(Z!==null&&typeof Z==="object"){if(typeof Z.then==="function")return nq(Z);if(Z.$$typeof===g4)return W5(Z)}throw Error(l(438,String(Z)))}function _3(Z){var J=null,Q=F0.updateQueue;if(Q!==null&&(J=Q.memoCache),J==null){var q=F0.alternate;q!==null&&(q=q.updateQueue,q!==null&&(q=q.memoCache,q!=null&&(J={data:q.data.map(function(K){return K.slice()}),index:0})))}if(J==null&&(J={data:[],index:0}),Q===null&&(Q=Sz(),F0.updateQueue=Q),Q.memoCache=J,Q=J.data[J.index],Q===void 0)for(Q=J.data[J.index]=Array(Z),q=0;q<Z;q++)Q[q]=Ac;return J.index++,Q}function a4(Z,J){return typeof J==="function"?J(Z):J}function gN(Z){var J=f1();return M3(J,N1,Z)}function M3(Z,J,Q){var q=Z.queue;if(q===null)throw Error(l(311));q.lastRenderedReducer=Q;var K=Z.baseQueue,X=q.pending;if(X!==null){if(K!==null){var z=K.next;K.next=X.next,X.next=z}J.baseQueue=K=X,q.pending=null}if(X=Z.baseState,K===null)Z.memoizedState=X;else{J=K.next;var Y=z=null,O=null,U=J,A=!1;do{var D=U.lane&-536870913;if(D!==U.lane?(S0&D)===D:(i4&D)===D){var _=U.revertLane;if(_===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),D===QJ&&(A=!0);else if((i4&_)===_){U=U.next,_===QJ&&(A=!0);continue}else D={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=D,z=X):O=O.next=D,F0.lanes|=_,N9|=_;D=U.action,UZ&&Q(X,D),X=U.hasEagerState?U.eagerState:Q(X,D)}else _={lane:D,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=_,z=X):O=O.next=_,F0.lanes|=D,N9|=D;U=U.next}while(U!==null&&U!==J);if(O===null?z=X:O.next=Y,!g8(X,Z.memoizedState)&&(p1=!0,A&&(Q=n2,Q!==null)))throw Q;Z.memoizedState=X,Z.baseState=z,Z.baseQueue=O,q.lastRenderedState=X}return K===null&&(q.lanes=0),[Z.memoizedState,q.dispatch]}function T$(Z){var J=f1(),Q=J.queue;if(Q===null)throw Error(l(311));Q.lastRenderedReducer=Z;var{dispatch:q,pending:K}=Q,X=J.memoizedState;if(K!==null){Q.pending=null;var z=K=K.next;do X=Z(X,z.action),z=z.next;while(z!==K);g8(X,J.memoizedState)||(p1=!0),J.memoizedState=X,J.baseQueue===null&&(J.baseState=X),Q.lastRenderedState=X}return[X,q]}function NL(Z,J,Q){var q=F0,K=f1(),X=k0;if(X){if(Q===void 0)throw Error(l(407));Q=Q()}else Q=J();var z=!g8((N1||K).memoizedState,Q);if(z&&(K.memoizedState=Q,p1=!0),K=K.queue,W3(YL.bind(null,q,K,Z),[Z]),K.getSnapshot!==J||z||c1!==null&&c1.memoizedState.tag&1){if(q.flags|=2048,KJ(9,{destroy:void 0},HL.bind(null,q,K,Q,J),null),z1===null)throw Error(l(349));X||(i4&127)!==0||zL(q,J,Q)}return Q}function zL(Z,J,Q){Z.flags|=16384,Z={getSnapshot:J,value:Q},J=F0.updateQueue,J===null?(J=Sz(),F0.updateQueue=J,J.stores=[Z]):(Q=J.stores,Q===null?J.stores=[Z]:Q.push(Z))}function HL(Z,J,Q,q){J.value=Q,J.getSnapshot=q,VL(J)&&OL(Z)}function YL(Z,J,Q){return Q(function(){VL(J)&&OL(Z)})}function VL(Z){var J=Z.getSnapshot;Z=Z.value;try{var Q=J();return!g8(Z,Q)}catch(q){return!0}}function OL(Z){var J=_Z(Z,2);J!==null&&z8(J,Z,2)}function WA(Z){var J=m5();if(typeof Z==="function"){var Q=Z;if(Z=Q(),UZ){u7(!0);try{Q()}finally{u7(!1)}}}return J.memoizedState=J.baseState=Z,J.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a4,lastRenderedState:Z},J}function UL(Z,J,Q,q){return Z.baseState=Q,M3(Z,N1,typeof q==="function"?q:a4)}function Su(Z,J,Q,q,K){if(Pz(Z))throw Error(l(485));if(Z=J.action,Z!==null){var X={payload:K,action:Z,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){X.listeners.push(z)}};V0.T!==null?Q(!0):X.isTransition=!1,q(X),Q=J.pending,Q===null?(X.next=J.pending=X,$L(J,X)):(X.next=Q.next,J.pending=Q.next=X)}}function $L(Z,J){var{action:Q,payload:q}=J,K=Z.state;if(J.isTransition){var X=V0.T,z={};V0.T=z;try{var Y=Q(K,q),O=V0.S;O!==null&&O(z,Y),Aw(Z,J,Y)}catch(U){GA(Z,J,U)}finally{X!==null&&z.types!==null&&(X.types=z.types),V0.T=X}}else try{X=Q(K,q),Aw(Z,J,X)}catch(U){GA(Z,J,U)}}function Aw(Z,J,Q){Q!==null&&typeof Q==="object"&&typeof Q.then==="function"?Q.then(function(q){Dw(Z,J,q)},function(q){return GA(Z,J,q)}):Dw(Z,J,Q)}function Dw(Z,J,Q){J.status="fulfilled",J.value=Q,AL(J),Z.state=Q,J=Z.pending,J!==null&&(Q=J.next,Q===J?Z.pending=null:(Q=Q.next,J.next=Q,$L(Z,Q)))}function GA(Z,J,Q){var q=Z.pending;if(Z.pending=null,q!==null){q=q.next;do J.status="rejected",J.reason=Q,AL(J),J=J.next;while(J!==q)}Z.action=null}function AL(Z){Z=Z.listeners;for(var J=0;J<Z.length;J++)(0,Z[J])()}function DL(Z,J){return J}function Bw(Z,J){if(k0){var Q=z1.formState;if(Q!==null){Z:{var q=F0;if(k0){if(B1){J:{var K=B1;for(var X=Y6;K.nodeType!==8;){if(!X){K=null;break J}if(K=O6(K.nextSibling),K===null){K=null;break J}}X=K.data,K=X==="F!"||X==="F"?K:null}if(K){B1=O6(K.nextSibling),q=K.data==="F!";break Z}}K9(q)}q=!1}q&&(J=Q[0])}}return Q=m5(),Q.memoizedState=Q.baseState=J,q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DL,lastRenderedState:J},Q.queue=q,Q=bL.bind(null,F0,q),q.dispatch=Q,q=WA(!1),X=w3.bind(null,F0,!1,q.queue),q=m5(),K={state:J,dispatch:null,action:Z,pending:null},q.queue=K,Q=Su.bind(null,F0,K,X,Q),K.dispatch=Q,q.memoizedState=Z,[J,Q,!1]}function _w(Z){var J=f1();return BL(J,N1,Z)}function BL(Z,J,Q){if(J=M3(Z,J,DL)[0],Z=gN(a4)[0],typeof J==="object"&&J!==null&&typeof J.then==="function")try{var q=nq(J)}catch(z){if(z===$J)throw Tz;throw z}else q=J;J=f1();var K=J.queue,X=K.dispatch;return Q!==J.memoizedState&&(F0.flags|=2048,KJ(9,{destroy:void 0},bu.bind(null,K,Q),null)),[q,X,Z]}function bu(Z,J){Z.action=J}function Mw(Z){var J=f1(),Q=N1;if(Q!==null)return BL(J,Q,Z);f1(),J=J.memoizedState,Q=f1();var q=Q.queue.dispatch;return Q.memoizedState=Z,[J,q,!1]}function KJ(Z,J,Q,q){return Z={tag:Z,create:Q,deps:q,inst:J,next:null},J=F0.updateQueue,J===null&&(J=Sz(),F0.updateQueue=J),Q=J.lastEffect,Q===null?J.lastEffect=Z.next=Z:(q=Q.next,Q.next=Z,Z.next=q,J.lastEffect=Z),Z}function _L(){return f1().memoizedState}function mN(Z,J,Q,q){var K=m5();F0.flags|=Z,K.memoizedState=KJ(1|J,{destroy:void 0},Q,q===void 0?null:q)}function kz(Z,J,Q,q){var K=f1();q=q===void 0?null:q;var X=K.memoizedState.inst;N1!==null&&q!==null&&U3(q,N1.memoizedState.deps)?K.memoizedState=KJ(J,X,Q,q):(F0.flags|=Z,K.memoizedState=KJ(1|J,X,Q,q))}function Ww(Z,J){mN(8390656,8,Z,J)}function W3(Z,J){kz(2048,8,Z,J)}function ku(Z){F0.flags|=4;var J=F0.updateQueue;if(J===null)J=Sz(),F0.updateQueue=J,J.events=[Z];else{var Q=J.events;Q===null?J.events=[Z]:Q.push(Z)}}function ML(Z){var J=f1().memoizedState;return ku({ref:J,nextImpl:Z}),function(){if((c0&2)!==0)throw Error(l(440));return J.impl.apply(void 0,arguments)}}function WL(Z,J){return kz(4,2,Z,J)}function GL(Z,J){return kz(4,4,Z,J)}function FL(Z,J){if(typeof J==="function"){Z=Z();var Q=J(Z);return function(){typeof Q==="function"?Q():J(null)}}if(J!==null&&J!==void 0)return Z=Z(),J.current=Z,function(){J.current=null}}function jL(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,kz(4,4,FL.bind(null,J,Z),Q)}function G3(){}function wL(Z,J){var Q=f1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&U3(J,q[1]))return q[0];return Q.memoizedState=[Z,J],Z}function CL(Z,J){var Q=f1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&U3(J,q[1]))return q[0];if(q=Z(),UZ){u7(!0);try{Z()}finally{u7(!1)}}return Q.memoizedState=[q,J],q}function F3(Z,J,Q){if(Q===void 0||(i4&1073741824)!==0&&(S0&261930)===0)return Z.memoizedState=J;return Z.memoizedState=Q,Z=UR(),F0.lanes|=Z,N9|=Z,Q}function LL(Z,J,Q,q){if(g8(Q,J))return Q;if(qJ.current!==null)return Z=F3(Z,Q,q),g8(Z,J)||(p1=!0),Z;if((i4&42)===0||(i4&1073741824)!==0&&(S0&261930)===0)return p1=!0,Z.memoizedState=Q;return Z=UR(),F0.lanes|=Z,N9|=Z,J}function RL(Z,J,Q,q,K){var X=u0.p;u0.p=X!==0&&8>X?X:8;var z=V0.T,Y={};V0.T=Y,w3(Z,!1,J,Q);try{var O=K(),U=V0.S;if(U!==null&&U(Y,O),O!==null&&typeof O==="object"&&typeof O.then==="function"){var A=Eu(O,q);jq(Z,J,A,x8(Z))}else jq(Z,J,q,x8(Z))}catch(D){jq(Z,J,{then:function(){},status:"rejected",reason:D},x8())}finally{u0.p=X,z!==null&&Y.types!==null&&(z.types=Y.types),V0.T=z}}function Pu(){}function FA(Z,J,Q,q){if(Z.tag!==5)throw Error(l(476));var K=EL(Z).queue;RL(Z,K,J,KZ,Q===null?Pu:function(){return IL(Z),Q(q)})}function EL(Z){var J=Z.memoizedState;if(J!==null)return J;J={memoizedState:KZ,baseState:KZ,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:a4,lastRenderedState:KZ},next:null};var Q={};return J.next={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:a4,lastRenderedState:Q},next:null},Z.memoizedState=J,Z=Z.alternate,Z!==null&&(Z.memoizedState=J),J}function IL(Z){var J=EL(Z);J.next===null&&(J=Z.alternate.memoizedState),jq(Z,J.next.queue,{},x8())}function j3(){return W5(gq)}function TL(){return f1().memoizedState}function SL(){return f1().memoizedState}function vu(Z){for(var J=Z.return;J!==null;){switch(J.tag){case 24:case 3:var Q=x8();Z=o7(Q);var q=t7(J,Z,Q);q!==null&&(z8(q,J,Q),Wq(q,J,Q)),J={cache:z3()},Z.payload=J;return}J=J.return}}function fu(Z,J,Q){var q=x8();Q={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null},Pz(Z)?kL(J,Q):(Q=q3(Z,J,Q,q),Q!==null&&(z8(Q,Z,q),PL(Q,J,q)))}function bL(Z,J,Q){var q=x8();jq(Z,J,Q,q)}function jq(Z,J,Q,q){var K={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null};if(Pz(Z))kL(J,K);else{var X=Z.alternate;if(Z.lanes===0&&(X===null||X.lanes===0)&&(X=J.lastRenderedReducer,X!==null))try{var z=J.lastRenderedState,Y=X(z,Q);if(K.hasEagerState=!0,K.eagerState=Y,g8(Y,z))return Iz(Z,J,K,0),z1===null&&Ez(),!1}catch(O){}finally{}if(Q=q3(Z,J,K,q),Q!==null)return z8(Q,Z,q),PL(Q,J,q),!0}return!1}function w3(Z,J,Q,q){if(q={lane:2,revertLane:k3(),gesture:null,action:q,hasEagerState:!1,eagerState:null,next:null},Pz(Z)){if(J)throw Error(l(479))}else J=q3(Z,Q,q,2),J!==null&&z8(J,Z,2)}function Pz(Z){var J=Z.alternate;return Z===F0||J!==null&&J===F0}function kL(Z,J){t2=Nz=!0;var Q=Z.pending;Q===null?J.next=J:(J.next=Q.next,Q.next=J),Z.pending=J}function PL(Z,J,Q){if((Q&4194048)!==0){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,MC(Z,Q)}}function S$(Z,J,Q,q){J=Z.memoizedState,Q=Q(q,J),Q=Q===null||Q===void 0?J:_1({},J,Q),Z.memoizedState=Q,Z.lanes===0&&(Z.updateQueue.baseState=Q)}function Gw(Z,J,Q,q,K,X,z){return Z=Z.stateNode,typeof Z.shouldComponentUpdate==="function"?Z.shouldComponentUpdate(q,X,z):J.prototype&&J.prototype.isPureReactComponent?!bq(Q,q)||!bq(K,X):!0}function Fw(Z,J,Q,q){Z=J.state,typeof J.componentWillReceiveProps==="function"&&J.componentWillReceiveProps(Q,q),typeof J.UNSAFE_componentWillReceiveProps==="function"&&J.UNSAFE_componentWillReceiveProps(Q,q),J.state!==Z&&jA.enqueueReplaceState(J,J.state,null)}function $Z(Z,J){var Q=J;if("ref"in J){Q={};for(var q in J)q!=="ref"&&(Q[q]=J[q])}if(Z=Z.defaultProps){Q===J&&(Q=_1({},Q));for(var K in Z)Q[K]===void 0&&(Q[K]=Z[K])}return Q}function yL(Z){eN(Z)}function hL(Z){console.error(Z)}function xL(Z){eN(Z)}function Hz(Z,J){try{var Q=Z.onUncaughtError;Q(J.value,{componentStack:J.stack})}catch(q){setTimeout(function(){throw q})}}function jw(Z,J,Q){try{var q=Z.onCaughtError;q(Q.value,{componentStack:Q.stack,errorBoundary:J.tag===1?J.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function wA(Z,J,Q){return Q=o7(Q),Q.tag=3,Q.payload={element:null},Q.callback=function(){Hz(Z,J)},Q}function gL(Z){return Z=o7(Z),Z.tag=3,Z}function mL(Z,J,Q,q){var K=Q.type.getDerivedStateFromError;if(typeof K==="function"){var X=q.value;Z.payload=function(){return K(X)},Z.callback=function(){jw(J,Q,q)}}var z=Q.stateNode;z!==null&&typeof z.componentDidCatch==="function"&&(Z.callback=function(){jw(J,Q,q),typeof K!=="function"&&(r7===null?r7=new Set([this]):r7.add(this));var Y=q.stack;this.componentDidCatch(q.value,{componentStack:Y!==null?Y:""})})}function yu(Z,J,Q,q,K){if(Q.flags|=32768,q!==null&&typeof q==="object"&&typeof q.then==="function"){if(J=Q.alternate,J!==null&&UJ(J,Q,K,!0),Q=m8.current,Q!==null){switch(Q.tag){case 31:case 13:return V6===null?$z():Q.alternate===null&&S1===0&&(S1=3),Q.flags&=-257,Q.flags|=65536,Q.lanes=K,q===qz?Q.flags|=16384:(J=Q.updateQueue,J===null?Q.updateQueue=new Set([q]):J.add(q),d$(Z,q,K)),!1;case 22:return Q.flags|=65536,q===qz?Q.flags|=16384:(J=Q.updateQueue,J===null?(J={transitions:null,markerInstances:null,retryQueue:new Set([q])},Q.updateQueue=J):(Q=J.retryQueue,Q===null?J.retryQueue=new Set([q]):Q.add(q)),d$(Z,q,K)),!1}throw Error(l(435,Q.tag))}return d$(Z,q,K),$z(),!1}if(k0)return J=m8.current,J!==null?((J.flags&65536)===0&&(J.flags|=256),J.flags|=65536,J.lanes=K,q!==VA&&(Z=Error(l(422),{cause:q}),Pq(H6(Z,Q)))):(q!==VA&&(J=Error(l(423),{cause:q}),Pq(H6(J,Q))),Z=Z.current.alternate,Z.flags|=65536,K&=-K,Z.lanes|=K,q=H6(q,Q),K=wA(Z.stateNode,q,K),I$(Z,K),S1!==4&&(S1=2)),!1;var X=Error(l(520),{cause:q});if(X=H6(X,Q),Lq===null?Lq=[X]:Lq.push(X),S1!==4&&(S1=2),J===null)return!0;q=H6(q,Q),Q=J;do{switch(Q.tag){case 3:return Q.flags|=65536,Z=K&-K,Q.lanes|=Z,Z=wA(Q.stateNode,q,Z),I$(Q,Z),!1;case 1:if(J=Q.type,X=Q.stateNode,(Q.flags&128)===0&&(typeof J.getDerivedStateFromError==="function"||X!==null&&typeof X.componentDidCatch==="function"&&(r7===null||!r7.has(X))))return Q.flags|=65536,K&=-K,Q.lanes|=K,K=gL(K),mL(K,Z,Q,q),I$(Q,K),!1}Q=Q.return}while(Q!==null);return!1}function B5(Z,J,Q,q){J.child=Z===null?ZL(J,null,Q,q):OZ(J,Z.child,Q,q)}function ww(Z,J,Q,q,K){Q=Q.render;var X=J.ref;if("ref"in q){var z={};for(var Y in q)Y!=="ref"&&(z[Y]=q[Y])}else z=q;if(VZ(J),q=$3(Z,J,Q,z,X,K),Y=A3(),Z!==null&&!p1)return D3(Z,J,K),s4(Z,J,K);return k0&&Y&&X3(J),J.flags|=1,B5(Z,J,q,K),J.child}function Cw(Z,J,Q,q,K){if(Z===null){var X=Q.type;if(typeof X==="function"&&!K3(X)&&X.defaultProps===void 0&&Q.compare===null)return J.tag=15,J.type=X,dL(Z,J,X,q,K);return Z=hN(Q.type,null,q,J,J.mode,K),Z.ref=J.ref,Z.return=J,J.child=Z}if(X=Z.child,!R3(Z,K)){var z=X.memoizedProps;if(Q=Q.compare,Q=Q!==null?Q:bq,Q(z,q)&&Z.ref===J.ref)return s4(Z,J,K)}return J.flags|=1,Z=c4(X,q),Z.ref=J.ref,Z.return=J,J.child=Z}function dL(Z,J,Q,q,K){if(Z!==null){var X=Z.memoizedProps;if(bq(X,q)&&Z.ref===J.ref)if(p1=!1,J.pendingProps=q=X,R3(Z,K))(Z.flags&131072)!==0&&(p1=!0);else return J.lanes=Z.lanes,s4(Z,J,K)}return CA(Z,J,Q,q,K)}function cL(Z,J,Q,q){var K=q.children,X=Z!==null?Z.memoizedState:null;if(Z===null&&J.stateNode===null&&(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),q.mode==="hidden"){if((J.flags&128)!==0){if(X=X!==null?X.baseLanes|Q:Q,Z!==null){q=J.child=Z.child;for(K=0;q!==null;)K=K|q.lanes|q.childLanes,q=q.sibling;q=K&~X}else q=0,J.child=null;return Lw(Z,J,X,Q,q)}if((Q&536870912)!==0)J.memoizedState={baseLanes:0,cachePool:null},Z!==null&&xN(J,X!==null?X.cachePool:null),X!==null?$w(J,X):_A(),qL(J);else return q=J.lanes=536870912,Lw(Z,J,X!==null?X.baseLanes|Q:Q,Q,q)}else X!==null?(xN(J,X.cachePool),$w(J,X),d7(J),J.memoizedState=null):(Z!==null&&xN(J,null),_A(),d7(J));return B5(Z,J,K,Q),J.child}function Oq(Z,J){return Z!==null&&Z.tag===22||J.stateNode!==null||(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),J.sibling}function Lw(Z,J,Q,q,K){var X=H3();return X=X===null?null:{parent:l1._currentValue,pool:X},J.memoizedState={baseLanes:Q,cachePool:X},Z!==null&&xN(J,null),_A(),qL(J),Z!==null&&UJ(Z,J,q,!0),J.childLanes=K,null}function dN(Z,J){return J=Yz({mode:J.mode,children:J.children},Z.mode),J.ref=Z.ref,Z.child=J,J.return=Z,J}function Rw(Z,J,Q){return OZ(J,Z.child,null,Q),Z=dN(J,J.pendingProps),Z.flags|=2,k8(J),J.memoizedState=null,Z}function hu(Z,J,Q){var q=J.pendingProps,K=(J.flags&128)!==0;if(J.flags&=-129,Z===null){if(k0){if(q.mode==="hidden")return Z=dN(J,q),J.lanes=536870912,Oq(null,Z);if(MA(J),(Z=B1)?(Z=vR(Z,Y6),Z=Z!==null&&Z.data==="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:q9!==null?{id:r6,overflow:e6}:null,retryLane:536870912,hydrationErrors:null},Q=aC(Z),Q.return=J,J.child=Q,M5=J,B1=null)):Z=null,Z===null)throw K9(J);return J.lanes=536870912,null}return dN(J,q)}var X=Z.memoizedState;if(X!==null){var z=X.dehydrated;if(MA(J),K)if(J.flags&256)J.flags&=-257,J=Rw(Z,J,Q);else if(J.memoizedState!==null)J.child=Z.child,J.flags|=128,J=null;else throw Error(l(558));else if(p1||UJ(Z,J,Q,!1),K=(Q&Z.childLanes)!==0,p1||K){if(q=z1,q!==null&&(z=WC(q,Q),z!==0&&z!==X.retryLane))throw X.retryLane=z,_Z(Z,z),z8(q,Z,z),L3;$z(),J=Rw(Z,J,Q)}else Z=X.treeContext,B1=O6(z.nextSibling),M5=J,k0=!0,n7=null,Y6=!1,Z!==null&&nC(J,Z),J=dN(J,q),J.flags|=4096;return J}return Z=c4(Z.child,{mode:q.mode,children:q.children}),Z.ref=J.ref,J.child=Z,Z.return=J,Z}function cN(Z,J){var Q=J.ref;if(Q===null)Z!==null&&Z.ref!==null&&(J.flags|=4194816);else{if(typeof Q!=="function"&&typeof Q!=="object")throw Error(l(284));if(Z===null||Z.ref!==Q)J.flags|=4194816}}function CA(Z,J,Q,q,K){if(VZ(J),Q=$3(Z,J,Q,q,void 0,K),q=A3(),Z!==null&&!p1)return D3(Z,J,K),s4(Z,J,K);return k0&&q&&X3(J),J.flags|=1,B5(Z,J,Q,K),J.child}function Ew(Z,J,Q,q,K,X){if(VZ(J),J.updateQueue=null,Q=XL(J,q,Q,K),KL(Z),q=A3(),Z!==null&&!p1)return D3(Z,J,X),s4(Z,J,X);return k0&&q&&X3(J),J.flags|=1,B5(Z,J,Q,X),J.child}function Iw(Z,J,Q,q,K){if(VZ(J),J.stateNode===null){var X=c2,z=Q.contextType;typeof z==="object"&&z!==null&&(X=W5(z)),X=new Q(q,X),J.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=jA,J.stateNode=X,X._reactInternals=J,X=J.stateNode,X.props=q,X.state=J.memoizedState,X.refs={},V3(J),z=Q.contextType,X.context=typeof z==="object"&&z!==null?W5(z):c2,X.state=J.memoizedState,z=Q.getDerivedStateFromProps,typeof z==="function"&&(S$(J,Q,z,q),X.state=J.memoizedState),typeof Q.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(z=X.state,typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount(),z!==X.state&&jA.enqueueReplaceState(X,X.state,null),Fq(J,q,X,K),Gq(),X.state=J.memoizedState),typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!0}else if(Z===null){X=J.stateNode;var Y=J.memoizedProps,O=$Z(Q,Y);X.props=O;var U=X.context,A=Q.contextType;z=c2,typeof A==="object"&&A!==null&&(z=W5(A));var D=Q.getDerivedStateFromProps;A=typeof D==="function"||typeof X.getSnapshotBeforeUpdate==="function",Y=J.pendingProps!==Y,A||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(Y||U!==z)&&Fw(J,X,q,z),x7=!1;var _=J.memoizedState;X.state=_,Fq(J,q,X,K),Gq(),U=J.memoizedState,Y||_!==U||x7?(typeof D==="function"&&(S$(J,Q,D,q),U=J.memoizedState),(O=x7||Gw(J,Q,O,q,_,U,z))?(A||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount==="function"&&(J.flags|=4194308)):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),J.memoizedProps=q,J.memoizedState=U),X.props=q,X.state=U,X.context=z,q=O):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!1)}else{X=J.stateNode,DA(Z,J),z=J.memoizedProps,A=$Z(Q,z),X.props=A,D=J.pendingProps,_=X.context,U=Q.contextType,O=c2,typeof U==="object"&&U!==null&&(O=W5(U)),Y=Q.getDerivedStateFromProps,(U=typeof Y==="function"||typeof X.getSnapshotBeforeUpdate==="function")||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(z!==D||_!==O)&&Fw(J,X,q,O),x7=!1,_=J.memoizedState,X.state=_,Fq(J,q,X,K),Gq();var W=J.memoizedState;z!==D||_!==W||x7||Z!==null&&Z.dependencies!==null&&Qz(Z.dependencies)?(typeof Y==="function"&&(S$(J,Q,Y,q),W=J.memoizedState),(A=x7||Gw(J,Q,A,q,_,W,O)||Z!==null&&Z.dependencies!==null&&Qz(Z.dependencies))?(U||typeof X.UNSAFE_componentWillUpdate!=="function"&&typeof X.componentWillUpdate!=="function"||(typeof X.componentWillUpdate==="function"&&X.componentWillUpdate(q,W,O),typeof X.UNSAFE_componentWillUpdate==="function"&&X.UNSAFE_componentWillUpdate(q,W,O)),typeof X.componentDidUpdate==="function"&&(J.flags|=4),typeof X.getSnapshotBeforeUpdate==="function"&&(J.flags|=1024)):(typeof X.componentDidUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),J.memoizedProps=q,J.memoizedState=W),X.props=q,X.state=W,X.context=O,q=A):(typeof X.componentDidUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),q=!1)}return X=q,cN(Z,J),q=(J.flags&128)!==0,X||q?(X=J.stateNode,Q=q&&typeof Q.getDerivedStateFromError!=="function"?null:X.render(),J.flags|=1,Z!==null&&q?(J.child=OZ(J,Z.child,null,K),J.child=OZ(J,null,Q,K)):B5(Z,J,Q,K),J.memoizedState=X.state,Z=J.child):Z=s4(Z,J,K),Z}function Tw(Z,J,Q,q){return YZ(),J.flags|=256,B5(Z,J,Q,q),J.child}function k$(Z){return{baseLanes:Z,cachePool:tC()}}function P$(Z,J,Q){return Z=Z!==null?Z.childLanes&~Q:0,J&&(Z|=v8),Z}function uL(Z,J,Q){var q=J.pendingProps,K=!1,X=(J.flags&128)!==0,z;if((z=X)||(z=Z!==null&&Z.memoizedState===null?!1:(v1.current&2)!==0),z&&(K=!0,J.flags&=-129),z=(J.flags&32)!==0,J.flags&=-33,Z===null){if(k0){if(K?m7(J):d7(J),(Z=B1)?(Z=vR(Z,Y6),Z=Z!==null&&Z.data!=="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:q9!==null?{id:r6,overflow:e6}:null,retryLane:536870912,hydrationErrors:null},Q=aC(Z),Q.return=J,J.child=Q,M5=J,B1=null)):Z=null,Z===null)throw K9(J);return mA(Z)?J.lanes=32:J.lanes=536870912,null}var Y=q.children;if(q=q.fallback,K)return d7(J),K=J.mode,Y=Yz({mode:"hidden",children:Y},K),q=XZ(q,K,Q,null),Y.return=J,q.return=J,Y.sibling=q,J.child=Y,q=J.child,q.memoizedState=k$(Q),q.childLanes=P$(Z,z,Q),J.memoizedState=b$,Oq(null,q);return m7(J),LA(J,Y)}var O=Z.memoizedState;if(O!==null&&(Y=O.dehydrated,Y!==null)){if(X)J.flags&256?(m7(J),J.flags&=-257,J=v$(Z,J,Q)):J.memoizedState!==null?(d7(J),J.child=Z.child,J.flags|=128,J=null):(d7(J),Y=q.fallback,K=J.mode,q=Yz({mode:"visible",children:q.children},K),Y=XZ(Y,K,Q,null),Y.flags|=2,q.return=J,Y.return=J,q.sibling=Y,J.child=q,OZ(J,Z.child,null,Q),q=J.child,q.memoizedState=k$(Q),q.childLanes=P$(Z,z,Q),J.memoizedState=b$,J=Oq(null,q));else if(m7(J),mA(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var U=z.dgst;z=U,q=Error(l(419)),q.stack="",q.digest=z,Pq({value:q,source:null,stack:null}),J=v$(Z,J,Q)}else if(p1||UJ(Z,J,Q,!1),z=(Q&Z.childLanes)!==0,p1||z){if(z=z1,z!==null&&(q=WC(z,Q),q!==0&&q!==O.retryLane))throw O.retryLane=q,_Z(Z,q),z8(z,Z,q),L3;gA(Y)||$z(),J=v$(Z,J,Q)}else gA(Y)?(J.flags|=192,J.child=Z.child,J=null):(Z=O.treeContext,B1=O6(Y.nextSibling),M5=J,k0=!0,n7=null,Y6=!1,Z!==null&&nC(J,Z),J=LA(J,q.children),J.flags|=4096);return J}if(K)return d7(J),Y=q.fallback,K=J.mode,O=Z.child,U=O.sibling,q=c4(O,{mode:"hidden",children:q.children}),q.subtreeFlags=O.subtreeFlags&65011712,U!==null?Y=c4(U,Y):(Y=XZ(Y,K,Q,null),Y.flags|=2),Y.return=J,q.return=J,q.sibling=Y,J.child=q,Oq(null,q),q=J.child,Y=Z.child.memoizedState,Y===null?Y=k$(Q):(K=Y.cachePool,K!==null?(O=l1._currentValue,K=K.parent!==O?{parent:O,pool:O}:K):K=tC(),Y={baseLanes:Y.baseLanes|Q,cachePool:K}),q.memoizedState=Y,q.childLanes=P$(Z,z,Q),J.memoizedState=b$,Oq(Z.child,q);return m7(J),Q=Z.child,Z=Q.sibling,Q=c4(Q,{mode:"visible",children:q.children}),Q.return=J,Q.sibling=null,Z!==null&&(z=J.deletions,z===null?(J.deletions=[Z],J.flags|=16):z.push(Z)),J.child=Q,J.memoizedState=null,Q}function LA(Z,J){return J=Yz({mode:"visible",children:J},Z.mode),J.return=Z,Z.child=J}function Yz(Z,J){return Z=P8(22,Z,null,J),Z.lanes=0,Z}function v$(Z,J,Q){return OZ(J,Z.child,null,Q),Z=LA(J,J.pendingProps.children),Z.flags|=2,J.memoizedState=null,Z}function Sw(Z,J,Q){Z.lanes|=J;var q=Z.alternate;q!==null&&(q.lanes|=J),UA(Z.return,J,Q)}function f$(Z,J,Q,q,K,X){var z=Z.memoizedState;z===null?Z.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:q,tail:Q,tailMode:K,treeForkCount:X}:(z.isBackwards=J,z.rendering=null,z.renderingStartTime=0,z.last=q,z.tail=Q,z.tailMode=K,z.treeForkCount=X)}function lL(Z,J,Q){var q=J.pendingProps,K=q.revealOrder,X=q.tail;q=q.children;var z=v1.current,Y=(z&2)!==0;if(Y?(z=z&1|2,J.flags|=128):z&=1,O1(v1,z),B5(Z,J,q,Q),q=k0?kq:0,!Y&&Z!==null&&(Z.flags&128)!==0)Z:for(Z=J.child;Z!==null;){if(Z.tag===13)Z.memoizedState!==null&&Sw(Z,Q,J);else if(Z.tag===19)Sw(Z,Q,J);else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===J)break Z;for(;Z.sibling===null;){if(Z.return===null||Z.return===J)break Z;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}switch(K){case"forwards":Q=J.child;for(K=null;Q!==null;)Z=Q.alternate,Z!==null&&Xz(Z)===null&&(K=Q),Q=Q.sibling;Q=K,Q===null?(K=J.child,J.child=null):(K=Q.sibling,Q.sibling=null),f$(J,!1,K,Q,X,q);break;case"backwards":case"unstable_legacy-backwards":Q=null,K=J.child;for(J.child=null;K!==null;){if(Z=K.alternate,Z!==null&&Xz(Z)===null){J.child=K;break}Z=K.sibling,K.sibling=Q,Q=K,K=Z}f$(J,!0,Q,null,X,q);break;case"together":f$(J,!1,null,null,void 0,q);break;default:J.memoizedState=null}return J.child}function s4(Z,J,Q){if(Z!==null&&(J.dependencies=Z.dependencies),N9|=J.lanes,(Q&J.childLanes)===0)if(Z!==null){if(UJ(Z,J,Q,!1),(Q&J.childLanes)===0)return null}else return null;if(Z!==null&&J.child!==Z.child)throw Error(l(153));if(J.child!==null){Z=J.child,Q=c4(Z,Z.pendingProps),J.child=Q;for(Q.return=J;Z.sibling!==null;)Z=Z.sibling,Q=Q.sibling=c4(Z,Z.pendingProps),Q.return=J;Q.sibling=null}return J.child}function R3(Z,J){if((Z.lanes&J)!==0)return!0;return Z=Z.dependencies,Z!==null&&Qz(Z)?!0:!1}function xu(Z,J,Q){switch(J.tag){case 3:nN(J,J.stateNode.containerInfo),g7(J,l1,Z.memoizedState.cache),YZ();break;case 27:case 5:e$(J);break;case 4:nN(J,J.stateNode.containerInfo);break;case 10:g7(J,J.type,J.memoizedProps.value);break;case 31:if(J.memoizedState!==null)return J.flags|=128,MA(J),null;break;case 13:var q=J.memoizedState;if(q!==null){if(q.dehydrated!==null)return m7(J),J.flags|=128,null;if((Q&J.child.childLanes)!==0)return uL(Z,J,Q);return m7(J),Z=s4(Z,J,Q),Z!==null?Z.sibling:null}m7(J);break;case 19:var K=(Z.flags&128)!==0;if(q=(Q&J.childLanes)!==0,q||(UJ(Z,J,Q,!1),q=(Q&J.childLanes)!==0),K){if(q)return lL(Z,J,Q);J.flags|=128}if(K=J.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),O1(v1,v1.current),q)break;else return null;case 22:return J.lanes=0,cL(Z,J,Q,J.pendingProps);case 24:g7(J,l1,Z.memoizedState.cache)}return s4(Z,J,Q)}function pL(Z,J,Q){if(Z!==null)if(Z.memoizedProps!==J.pendingProps)p1=!0;else{if(!R3(Z,Q)&&(J.flags&128)===0)return p1=!1,xu(Z,J,Q);p1=(Z.flags&131072)!==0?!0:!1}else p1=!1,k0&&(J.flags&1048576)!==0&&sC(J,kq,J.index);switch(J.lanes=0,J.tag){case 16:Z:{var q=J.pendingProps;if(Z=QZ(J.elementType),J.type=Z,typeof Z==="function")K3(Z)?(q=$Z(Z,q),J.tag=1,J=Iw(null,J,Z,q,Q)):(J.tag=0,J=CA(null,J,Z,q,Q));else{if(Z!==void 0&&Z!==null){var K=Z.$$typeof;if(K===lA){J.tag=11,J=ww(null,J,Z,q,Q);break Z}else if(K===pA){J.tag=14,J=Cw(null,J,Z,q,Q);break Z}}throw J=t$(Z)||Z,Error(l(306,J,""))}}return J;case 0:return CA(Z,J,J.type,J.pendingProps,Q);case 1:return q=J.type,K=$Z(q,J.pendingProps),Iw(Z,J,q,K,Q);case 3:Z:{if(nN(J,J.stateNode.containerInfo),Z===null)throw Error(l(387));q=J.pendingProps;var X=J.memoizedState;K=X.element,DA(Z,J),Fq(J,q,null,Q);var z=J.memoizedState;if(q=z.cache,g7(J,l1,q),q!==X.cache&&$A(J,[l1],Q,!0),Gq(),q=z.element,X.isDehydrated)if(X={element:q,isDehydrated:!1,cache:z.cache},J.updateQueue.baseState=X,J.memoizedState=X,J.flags&256){J=Tw(Z,J,q,Q);break Z}else if(q!==K){K=H6(Error(l(424)),J),Pq(K),J=Tw(Z,J,q,Q);break Z}else{switch(Z=J.stateNode.containerInfo,Z.nodeType){case 9:Z=Z.body;break;default:Z=Z.nodeName==="HTML"?Z.ownerDocument.body:Z}B1=O6(Z.firstChild),M5=J,k0=!0,n7=null,Y6=!0,Q=ZL(J,null,q,Q);for(J.child=Q;Q;)Q.flags=Q.flags&-3|4096,Q=Q.sibling}else{if(YZ(),q===K){J=s4(Z,J,Q);break Z}B5(Z,J,q,Q)}J=J.child}return J;case 26:return cN(Z,J),Z===null?(Q=ow(J.type,null,J.pendingProps,null))?J.memoizedState=Q:k0||(Q=J.type,Z=J.pendingProps,q=_z(s7.current).createElement(Q),q[_5]=J,q[H8]=Z,G5(q,Q,Z),X5(q),J.stateNode=q):J.memoizedState=ow(J.type,Z.memoizedProps,J.pendingProps,Z.memoizedState),null;case 27:return e$(J),Z===null&&k0&&(q=J.stateNode=fR(J.type,J.pendingProps,s7.current),M5=J,Y6=!0,K=B1,H9(J.type)?(dA=K,B1=O6(q.firstChild)):B1=K),B5(Z,J,J.pendingProps.children,Q),cN(Z,J),Z===null&&(J.flags|=4194304),J.child;case 5:if(Z===null&&k0){if(K=q=B1)q=Ul(q,J.type,J.pendingProps,Y6),q!==null?(J.stateNode=q,M5=J,B1=O6(q.firstChild),Y6=!1,K=!0):K=!1;K||K9(J)}return e$(J),K=J.type,X=J.pendingProps,z=Z!==null?Z.memoizedProps:null,q=X.children,hA(K,X)?q=null:z!==null&&hA(K,z)&&(J.flags|=32),J.memoizedState!==null&&(K=$3(Z,J,Tu,null,null,Q),gq._currentValue=K),cN(Z,J),B5(Z,J,q,Q),J.child;case 6:if(Z===null&&k0){if(Z=Q=B1)Q=$l(Q,J.pendingProps,Y6),Q!==null?(J.stateNode=Q,M5=J,B1=null,Z=!0):Z=!1;Z||K9(J)}return null;case 13:return uL(Z,J,Q);case 4:return nN(J,J.stateNode.containerInfo),q=J.pendingProps,Z===null?J.child=OZ(J,null,q,Q):B5(Z,J,q,Q),J.child;case 11:return ww(Z,J,J.type,J.pendingProps,Q);case 7:return B5(Z,J,J.pendingProps,Q),J.child;case 8:return B5(Z,J,J.pendingProps.children,Q),J.child;case 12:return B5(Z,J,J.pendingProps.children,Q),J.child;case 10:return q=J.pendingProps,g7(J,J.type,q.value),B5(Z,J,q.children,Q),J.child;case 9:return K=J.type._context,q=J.pendingProps.children,VZ(J),K=W5(K),q=q(K),J.flags|=1,B5(Z,J,q,Q),J.child;case 14:return Cw(Z,J,J.type,J.pendingProps,Q);case 15:return dL(Z,J,J.type,J.pendingProps,Q);case 19:return lL(Z,J,Q);case 31:return hu(Z,J,Q);case 22:return cL(Z,J,Q,J.pendingProps);case 24:return VZ(J),q=W5(l1),Z===null?(K=H3(),K===null&&(K=z1,X=z3(),K.pooledCache=X,X.refCount++,X!==null&&(K.pooledCacheLanes|=Q),K=X),J.memoizedState={parent:q,cache:K},V3(J),g7(J,l1,K)):((Z.lanes&Q)!==0&&(DA(Z,J),Fq(J,null,null,Q),Gq()),K=Z.memoizedState,X=J.memoizedState,K.parent!==q?(K={parent:q,cache:q},J.memoizedState=K,J.lanes===0&&(J.memoizedState=J.updateQueue.baseState=K),g7(J,l1,q)):(q=X.cache,g7(J,l1,q),q!==K.cache&&$A(J,[l1],Q,!0))),B5(Z,J,J.pendingProps.children,Q),J.child;case 29:throw J.pendingProps}throw Error(l(156,J.tag))}function P4(Z){Z.flags|=4}function y$(Z,J,Q,q,K){if(J=(Z.mode&32)!==0)J=!1;if(J){if(Z.flags|=16777216,(K&335544128)===K)if(Z.stateNode.complete)Z.flags|=8192;else if(DR())Z.flags|=8192;else throw zZ=qz,Y3}else Z.flags&=-16777217}function bw(Z,J){if(J.type!=="stylesheet"||(J.state.loading&4)!==0)Z.flags&=-16777217;else if(Z.flags|=16777216,!xR(J))if(DR())Z.flags|=8192;else throw zZ=qz,Y3}function EN(Z,J){J!==null&&(Z.flags|=4),Z.flags&16384&&(J=Z.tag!==22?BC():536870912,Z.lanes|=J,XJ|=J)}function qq(Z,J){if(!k0)switch(Z.tailMode){case"hidden":J=Z.tail;for(var Q=null;J!==null;)J.alternate!==null&&(Q=J),J=J.sibling;Q===null?Z.tail=null:Q.sibling=null;break;case"collapsed":Q=Z.tail;for(var q=null;Q!==null;)Q.alternate!==null&&(q=Q),Q=Q.sibling;q===null?J||Z.tail===null?Z.tail=null:Z.tail.sibling=null:q.sibling=null}}function D1(Z){var J=Z.alternate!==null&&Z.alternate.child===Z.child,Q=0,q=0;if(J)for(var K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags&65011712,q|=K.flags&65011712,K.return=Z,K=K.sibling;else for(K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags,q|=K.flags,K.return=Z,K=K.sibling;return Z.subtreeFlags|=q,Z.childLanes=Q,J}function gu(Z,J,Q){var q=J.pendingProps;switch(N3(J),J.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return D1(J),null;case 1:return D1(J),null;case 3:if(Q=J.stateNode,q=null,Z!==null&&(q=Z.memoizedState.cache),J.memoizedState.cache!==q&&(J.flags|=2048),u4(l1),e2(),Q.pendingContext&&(Q.context=Q.pendingContext,Q.pendingContext=null),Z===null||Z.child===null)T2(J)?P4(J):Z===null||Z.memoizedState.isDehydrated&&(J.flags&256)===0||(J.flags|=1024,E$());return D1(J),null;case 26:var{type:K,memoizedState:X}=J;return Z===null?(P4(J),X!==null?(D1(J),bw(J,X)):(D1(J),y$(J,K,null,q,Q))):X?X!==Z.memoizedState?(P4(J),D1(J),bw(J,X)):(D1(J),J.flags&=-16777217):(Z=Z.memoizedProps,Z!==q&&P4(J),D1(J),y$(J,K,Z,q,Q)),null;case 27:if(oN(J),Q=s7.current,K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&P4(J);else{if(!q){if(J.stateNode===null)throw Error(l(166));return D1(J),null}Z=J4.current,T2(J)?Nw(J,Z):(Z=fR(K,q,Q),J.stateNode=Z,P4(J))}return D1(J),null;case 5:if(oN(J),K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&P4(J);else{if(!q){if(J.stateNode===null)throw Error(l(166));return D1(J),null}if(X=J4.current,T2(J))Nw(J,X);else{var z=_z(s7.current);switch(X){case 1:X=z.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:X=z.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":X=z.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":X=z.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":X=z.createElement("div"),X.innerHTML="<script></script>",X=X.removeChild(X.firstChild);break;case"select":X=typeof q.is==="string"?z.createElement("select",{is:q.is}):z.createElement("select"),q.multiple?X.multiple=!0:q.size&&(X.size=q.size);break;default:X=typeof q.is==="string"?z.createElement(K,{is:q.is}):z.createElement(K)}}X[_5]=J,X[H8]=q;Z:for(z=J.child;z!==null;){if(z.tag===5||z.tag===6)X.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===J)break Z;for(;z.sibling===null;){if(z.return===null||z.return===J)break Z;z=z.return}z.sibling.return=z.return,z=z.sibling}J.stateNode=X;Z:switch(G5(X,K,q),K){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break Z;case"img":q=!0;break Z;default:q=!1}q&&P4(J)}}return D1(J),y$(J,J.type,Z===null?null:Z.memoizedProps,J.pendingProps,Q),null;case 6:if(Z&&J.stateNode!=null)Z.memoizedProps!==q&&P4(J);else{if(typeof q!=="string"&&J.stateNode===null)throw Error(l(166));if(Z=s7.current,T2(J)){if(Z=J.stateNode,Q=J.memoizedProps,q=null,K=M5,K!==null)switch(K.tag){case 27:case 5:q=K.memoizedProps}Z[_5]=J,Z=Z.nodeValue===Q||q!==null&&q.suppressHydrationWarning===!0||bR(Z.nodeValue,Q)?!0:!1,Z||K9(J,!0)}else Z=_z(Z).createTextNode(q),Z[_5]=J,J.stateNode=Z}return D1(J),null;case 31:if(Q=J.memoizedState,Z===null||Z.memoizedState!==null){if(q=T2(J),Q!==null){if(Z===null){if(!q)throw Error(l(318));if(Z=J.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(557));Z[_5]=J}else YZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;D1(J),Z=!1}else Q=E$(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=Q),Z=!0;if(!Z){if(J.flags&256)return k8(J),J;return k8(J),null}if((J.flags&128)!==0)throw Error(l(558))}return D1(J),null;case 13:if(q=J.memoizedState,Z===null||Z.memoizedState!==null&&Z.memoizedState.dehydrated!==null){if(K=T2(J),q!==null&&q.dehydrated!==null){if(Z===null){if(!K)throw Error(l(318));if(K=J.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(l(317));K[_5]=J}else YZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;D1(J),K=!1}else K=E$(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=K),K=!0;if(!K){if(J.flags&256)return k8(J),J;return k8(J),null}}if(k8(J),(J.flags&128)!==0)return J.lanes=Q,J;return Q=q!==null,Z=Z!==null&&Z.memoizedState!==null,Q&&(q=J.child,K=null,q.alternate!==null&&q.alternate.memoizedState!==null&&q.alternate.memoizedState.cachePool!==null&&(K=q.alternate.memoizedState.cachePool.pool),X=null,q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(X=q.memoizedState.cachePool.pool),X!==K&&(q.flags|=2048)),Q!==Z&&Q&&(J.child.flags|=8192),EN(J,J.updateQueue),D1(J),null;case 4:return e2(),Z===null&&P3(J.stateNode.containerInfo),D1(J),null;case 10:return u4(J.type),D1(J),null;case 19:if(N5(v1),q=J.memoizedState,q===null)return D1(J),null;if(K=(J.flags&128)!==0,X=q.rendering,X===null)if(K)qq(q,!1);else{if(S1!==0||Z!==null&&(Z.flags&128)!==0)for(Z=J.child;Z!==null;){if(X=Xz(Z),X!==null){J.flags|=128,qq(q,!1),Z=X.updateQueue,J.updateQueue=Z,EN(J,Z),J.subtreeFlags=0,Z=Q;for(Q=J.child;Q!==null;)iC(Q,Z),Q=Q.sibling;return O1(v1,v1.current&1|2),k0&&h4(J,q.treeForkCount),J.child}Z=Z.sibling}q.tail!==null&&f8()>Oz&&(J.flags|=128,K=!0,qq(q,!1),J.lanes=4194304)}else{if(!K)if(Z=Xz(X),Z!==null){if(J.flags|=128,K=!0,Z=Z.updateQueue,J.updateQueue=Z,EN(J,Z),qq(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!k0)return D1(J),null}else 2*f8()-q.renderingStartTime>Oz&&Q!==536870912&&(J.flags|=128,K=!0,qq(q,!1),J.lanes=4194304);q.isBackwards?(X.sibling=J.child,J.child=X):(Z=q.last,Z!==null?Z.sibling=X:J.child=X,q.last=X)}if(q.tail!==null)return Z=q.tail,q.rendering=Z,q.tail=Z.sibling,q.renderingStartTime=f8(),Z.sibling=null,Q=v1.current,O1(v1,K?Q&1|2:Q&1),k0&&h4(J,q.treeForkCount),Z;return D1(J),null;case 22:case 23:return k8(J),O3(),q=J.memoizedState!==null,Z!==null?Z.memoizedState!==null!==q&&(J.flags|=8192):q&&(J.flags|=8192),q?(Q&536870912)!==0&&(J.flags&128)===0&&(D1(J),J.subtreeFlags&6&&(J.flags|=8192)):D1(J),Q=J.updateQueue,Q!==null&&EN(J,Q.retryQueue),Q=null,Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),q=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(q=J.memoizedState.cachePool.pool),q!==Q&&(J.flags|=2048),Z!==null&&N5(NZ),null;case 24:return Q=null,Z!==null&&(Q=Z.memoizedState.cache),J.memoizedState.cache!==Q&&(J.flags|=2048),u4(l1),D1(J),null;case 25:return null;case 30:return null}throw Error(l(156,J.tag))}function mu(Z,J){switch(N3(J),J.tag){case 1:return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 3:return u4(l1),e2(),Z=J.flags,(Z&65536)!==0&&(Z&128)===0?(J.flags=Z&-65537|128,J):null;case 26:case 27:case 5:return oN(J),null;case 31:if(J.memoizedState!==null){if(k8(J),J.alternate===null)throw Error(l(340));YZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 13:if(k8(J),Z=J.memoizedState,Z!==null&&Z.dehydrated!==null){if(J.alternate===null)throw Error(l(340));YZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 19:return N5(v1),null;case 4:return e2(),null;case 10:return u4(J.type),null;case 22:case 23:return k8(J),O3(),Z!==null&&N5(NZ),Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 24:return u4(l1),null;case 25:return null;default:return null}}function iL(Z,J){switch(N3(J),J.tag){case 3:u4(l1),e2();break;case 26:case 27:case 5:oN(J);break;case 4:e2();break;case 31:J.memoizedState!==null&&k8(J);break;case 13:k8(J);break;case 19:N5(v1);break;case 10:u4(J.type);break;case 22:case 23:k8(J),O3(),Z!==null&&N5(NZ);break;case 24:u4(l1)}}function oq(Z,J){try{var Q=J.updateQueue,q=Q!==null?Q.lastEffect:null;if(q!==null){var K=q.next;Q=K;do{if((Q.tag&Z)===Z){q=void 0;var{create:X,inst:z}=Q;q=X(),z.destroy=q}Q=Q.next}while(Q!==K)}}catch(Y){r0(J,J.return,Y)}}function X9(Z,J,Q){try{var q=J.updateQueue,K=q!==null?q.lastEffect:null;if(K!==null){var X=K.next;q=X;do{if((q.tag&Z)===Z){var z=q.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,K=J;var O=Q,U=Y;try{U()}catch(A){r0(K,O,A)}}}q=q.next}while(q!==X)}}catch(A){r0(J,J.return,A)}}function aL(Z){var J=Z.updateQueue;if(J!==null){var Q=Z.stateNode;try{QL(J,Q)}catch(q){r0(Z,Z.return,q)}}}function sL(Z,J,Q){Q.props=$Z(Z.type,Z.memoizedProps),Q.state=Z.memoizedState;try{Q.componentWillUnmount()}catch(q){r0(Z,J,q)}}function wq(Z,J){try{var Q=Z.ref;if(Q!==null){switch(Z.tag){case 26:case 27:case 5:var q=Z.stateNode;break;case 30:q=Z.stateNode;break;default:q=Z.stateNode}typeof Q==="function"?Z.refCleanup=Q(q):Q.current=q}}catch(K){r0(Z,J,K)}}function Z4(Z,J){var{ref:Q,refCleanup:q}=Z;if(Q!==null)if(typeof q==="function")try{q()}catch(K){r0(Z,J,K)}finally{Z.refCleanup=null,Z=Z.alternate,Z!=null&&(Z.refCleanup=null)}else if(typeof Q==="function")try{Q(null)}catch(K){r0(Z,J,K)}else Q.current=null}function nL(Z){var{type:J,memoizedProps:Q,stateNode:q}=Z;try{Z:switch(J){case"button":case"input":case"select":case"textarea":Q.autoFocus&&q.focus();break Z;case"img":Q.src?q.src=Q.src:Q.srcSet&&(q.srcset=Q.srcSet)}}catch(K){r0(Z,Z.return,K)}}function h$(Z,J,Q){try{var q=Z.stateNode;Nl(q,Z.type,Q,J),q[H8]=J}catch(K){r0(Z,Z.return,K)}}function oL(Z){return Z.tag===5||Z.tag===3||Z.tag===26||Z.tag===27&&H9(Z.type)||Z.tag===4}function x$(Z){Z:for(;;){for(;Z.sibling===null;){if(Z.return===null||oL(Z.return))return null;Z=Z.return}Z.sibling.return=Z.return;for(Z=Z.sibling;Z.tag!==5&&Z.tag!==6&&Z.tag!==18;){if(Z.tag===27&&H9(Z.type))continue Z;if(Z.flags&2)continue Z;if(Z.child===null||Z.tag===4)continue Z;else Z.child.return=Z,Z=Z.child}if(!(Z.flags&2))return Z.stateNode}}function RA(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?(Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q).insertBefore(Z,J):(J=Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q,J.appendChild(Z),Q=Q._reactRootContainer,Q!==null&&Q!==void 0||J.onclick!==null||(J.onclick=m4));else if(q!==4&&(q===27&&H9(Z.type)&&(Q=Z.stateNode,J=null),Z=Z.child,Z!==null))for(RA(Z,J,Q),Z=Z.sibling;Z!==null;)RA(Z,J,Q),Z=Z.sibling}function Vz(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?Q.insertBefore(Z,J):Q.appendChild(Z);else if(q!==4&&(q===27&&H9(Z.type)&&(Q=Z.stateNode),Z=Z.child,Z!==null))for(Vz(Z,J,Q),Z=Z.sibling;Z!==null;)Vz(Z,J,Q),Z=Z.sibling}function tL(Z){var{stateNode:J,memoizedProps:Q}=Z;try{for(var q=Z.type,K=J.attributes;K.length;)J.removeAttributeNode(K[0]);G5(J,q,Q),J[_5]=Z,J[H8]=Q}catch(X){r0(Z,Z.return,X)}}function du(Z,J){if(Z=Z.containerInfo,fA=Fz,Z=xC(Z),J3(Z)){if("selectionStart"in Z)var Q={start:Z.selectionStart,end:Z.selectionEnd};else Z:{Q=(Q=Z.ownerDocument)&&Q.defaultView||window;var q=Q.getSelection&&Q.getSelection();if(q&&q.rangeCount!==0){Q=q.anchorNode;var{anchorOffset:K,focusNode:X}=q;q=q.focusOffset;try{Q.nodeType,X.nodeType}catch(C){Q=null;break Z}var z=0,Y=-1,O=-1,U=0,A=0,D=Z,_=null;J:for(;;){for(var W;;){if(D!==Q||K!==0&&D.nodeType!==3||(Y=z+K),D!==X||q!==0&&D.nodeType!==3||(O=z+q),D.nodeType===3&&(z+=D.nodeValue.length),(W=D.firstChild)===null)break;_=D,D=W}for(;;){if(D===Z)break J;if(_===Q&&++U===K&&(Y=z),_===X&&++A===q&&(O=z),(W=D.nextSibling)!==null)break;D=_,_=D.parentNode}D=W}Q=Y===-1||O===-1?null:{start:Y,end:O}}else Q=null}Q=Q||{start:0,end:0}}else Q=null;yA={focusedElem:Z,selectionRange:Q},Fz=!1;for(K5=J;K5!==null;)if(J=K5,Z=J.child,(J.subtreeFlags&1028)!==0&&Z!==null)Z.return=J,K5=Z;else for(;K5!==null;){switch(J=K5,X=J.alternate,Z=J.flags,J.tag){case 0:if((Z&4)!==0&&(Z=J.updateQueue,Z=Z!==null?Z.events:null,Z!==null))for(Q=0;Q<Z.length;Q++)K=Z[Q],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((Z&1024)!==0&&X!==null){Z=void 0,Q=J,K=X.memoizedProps,X=X.memoizedState,q=Q.stateNode;try{var j=$Z(Q.type,K);Z=q.getSnapshotBeforeUpdate(j,X),q.__reactInternalSnapshotBeforeUpdate=Z}catch(C){r0(Q,Q.return,C)}}break;case 3:if((Z&1024)!==0){if(Z=J.stateNode.containerInfo,Q=Z.nodeType,Q===9)xA(Z);else if(Q===1)switch(Z.nodeName){case"HEAD":case"HTML":case"BODY":xA(Z);break;default:Z.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Z&1024)!==0)throw Error(l(163))}if(Z=J.sibling,Z!==null){Z.return=J.return,K5=Z;break}K5=J.return}}function rL(Z,J,Q){var q=Q.flags;switch(Q.tag){case 0:case 11:case 15:f4(Z,Q),q&4&&oq(5,Q);break;case 1:if(f4(Z,Q),q&4)if(Z=Q.stateNode,J===null)try{Z.componentDidMount()}catch(z){r0(Q,Q.return,z)}else{var K=$Z(Q.type,J.memoizedProps);J=J.memoizedState;try{Z.componentDidUpdate(K,J,Z.__reactInternalSnapshotBeforeUpdate)}catch(z){r0(Q,Q.return,z)}}q&64&&aL(Q),q&512&&wq(Q,Q.return);break;case 3:if(f4(Z,Q),q&64&&(Z=Q.updateQueue,Z!==null)){if(J=null,Q.child!==null)switch(Q.child.tag){case 27:case 5:J=Q.child.stateNode;break;case 1:J=Q.child.stateNode}try{QL(Z,J)}catch(z){r0(Q,Q.return,z)}}break;case 27:J===null&&q&4&&tL(Q);case 26:case 5:f4(Z,Q),J===null&&q&4&&nL(Q),q&512&&wq(Q,Q.return);break;case 12:f4(Z,Q);break;case 31:f4(Z,Q),q&4&&JR(Z,Q);break;case 13:f4(Z,Q),q&4&&QR(Z,Q),q&64&&(Z=Q.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null&&(Q=ou.bind(null,Q),Al(Z,Q))));break;case 22:if(q=Q.memoizedState!==null||x4,!q){J=J!==null&&J.memoizedState!==null||u1,K=x4;var X=u1;x4=q,(u1=J)&&!X?y4(Z,Q,(Q.subtreeFlags&8772)!==0):f4(Z,Q),x4=K,u1=X}break;case 30:break;default:f4(Z,Q)}}function eL(Z){var J=Z.alternate;J!==null&&(Z.alternate=null,eL(J)),Z.child=null,Z.deletions=null,Z.sibling=null,Z.tag===5&&(J=Z.stateNode,J!==null&&nA(J)),Z.stateNode=null,Z.return=null,Z.dependencies=null,Z.memoizedProps=null,Z.memoizedState=null,Z.pendingProps=null,Z.stateNode=null,Z.updateQueue=null}function v4(Z,J,Q){for(Q=Q.child;Q!==null;)ZR(Z,J,Q),Q=Q.sibling}function ZR(Z,J,Q){if(y8&&typeof y8.onCommitFiberUnmount==="function")try{y8.onCommitFiberUnmount(uq,Q)}catch(X){}switch(Q.tag){case 26:u1||Z4(Q,J),v4(Z,J,Q),Q.memoizedState?Q.memoizedState.count--:Q.stateNode&&(Q=Q.stateNode,Q.parentNode.removeChild(Q));break;case 27:u1||Z4(Q,J);var q=F1,K=X8;H9(Q.type)&&(F1=Q.stateNode,X8=!1),v4(Z,J,Q),Eq(Q.stateNode),F1=q,X8=K;break;case 5:u1||Z4(Q,J);case 6:if(q=F1,K=X8,F1=null,v4(Z,J,Q),F1=q,X8=K,F1!==null)if(X8)try{(F1.nodeType===9?F1.body:F1.nodeName==="HTML"?F1.ownerDocument.body:F1).removeChild(Q.stateNode)}catch(X){r0(Q,J,X)}else try{F1.removeChild(Q.stateNode)}catch(X){r0(Q,J,X)}break;case 18:F1!==null&&(X8?(Z=F1,pw(Z.nodeType===9?Z.body:Z.nodeName==="HTML"?Z.ownerDocument.body:Z,Q.stateNode),YJ(Z)):pw(F1,Q.stateNode));break;case 4:q=F1,K=X8,F1=Q.stateNode.containerInfo,X8=!0,v4(Z,J,Q),F1=q,X8=K;break;case 0:case 11:case 14:case 15:X9(2,Q,J),u1||X9(4,Q,J),v4(Z,J,Q);break;case 1:u1||(Z4(Q,J),q=Q.stateNode,typeof q.componentWillUnmount==="function"&&sL(Q,J,q)),v4(Z,J,Q);break;case 21:v4(Z,J,Q);break;case 22:u1=(q=u1)||Q.memoizedState!==null,v4(Z,J,Q),u1=q;break;default:v4(Z,J,Q)}}function JR(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null))){Z=Z.dehydrated;try{YJ(Z)}catch(Q){r0(J,J.return,Q)}}}function QR(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))))try{YJ(Z)}catch(Q){r0(J,J.return,Q)}}function cu(Z){switch(Z.tag){case 31:case 13:case 19:var J=Z.stateNode;return J===null&&(J=Z.stateNode=new kw),J;case 22:return Z=Z.stateNode,J=Z._retryCache,J===null&&(J=Z._retryCache=new kw),J;default:throw Error(l(435,Z.tag))}}function IN(Z,J){var Q=cu(Z);J.forEach(function(q){if(!Q.has(q)){Q.add(q);var K=tu.bind(null,Z,q);q.then(K,K)}})}function q8(Z,J){var Q=J.deletions;if(Q!==null)for(var q=0;q<Q.length;q++){var K=Q[q],X=Z,z=J,Y=z;Z:for(;Y!==null;){switch(Y.tag){case 27:if(H9(Y.type)){F1=Y.stateNode,X8=!1;break Z}break;case 5:F1=Y.stateNode,X8=!1;break Z;case 3:case 4:F1=Y.stateNode.containerInfo,X8=!0;break Z}Y=Y.return}if(F1===null)throw Error(l(160));ZR(X,z,K),F1=null,X8=!1,X=K.alternate,X!==null&&(X.return=null),K.return=null}if(J.subtreeFlags&13886)for(J=J.child;J!==null;)qR(J,Z),J=J.sibling}function qR(Z,J){var{alternate:Q,flags:q}=Z;switch(Z.tag){case 0:case 11:case 14:case 15:q8(J,Z),K8(Z),q&4&&(X9(3,Z,Z.return),oq(3,Z),X9(5,Z,Z.return));break;case 1:q8(J,Z),K8(Z),q&512&&(u1||Q===null||Z4(Q,Q.return)),q&64&&x4&&(Z=Z.updateQueue,Z!==null&&(q=Z.callbacks,q!==null&&(Q=Z.shared.hiddenCallbacks,Z.shared.hiddenCallbacks=Q===null?q:Q.concat(q))));break;case 26:var K=T6;if(q8(J,Z),K8(Z),q&512&&(u1||Q===null||Z4(Q,Q.return)),q&4){var X=Q!==null?Q.memoizedState:null;if(q=Z.memoizedState,Q===null)if(q===null)if(Z.stateNode===null){Z:{q=Z.type,Q=Z.memoizedProps,K=K.ownerDocument||K;J:switch(q){case"title":if(X=K.getElementsByTagName("title")[0],!X||X[iq]||X[_5]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))X=K.createElement(q),K.head.insertBefore(X,K.querySelector("head > title"));G5(X,q,Q),X[_5]=Z,X5(X),q=X;break Z;case"link":var z=rw("link","href",K).get(q+(Q.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(X=z[Y],X.getAttribute("href")===(Q.href==null||Q.href===""?null:Q.href)&&X.getAttribute("rel")===(Q.rel==null?null:Q.rel)&&X.getAttribute("title")===(Q.title==null?null:Q.title)&&X.getAttribute("crossorigin")===(Q.crossOrigin==null?null:Q.crossOrigin)){z.splice(Y,1);break J}}X=K.createElement(q),G5(X,q,Q),K.head.appendChild(X);break;case"meta":if(z=rw("meta","content",K).get(q+(Q.content||""))){for(Y=0;Y<z.length;Y++)if(X=z[Y],X.getAttribute("content")===(Q.content==null?null:""+Q.content)&&X.getAttribute("name")===(Q.name==null?null:Q.name)&&X.getAttribute("property")===(Q.property==null?null:Q.property)&&X.getAttribute("http-equiv")===(Q.httpEquiv==null?null:Q.httpEquiv)&&X.getAttribute("charset")===(Q.charSet==null?null:Q.charSet)){z.splice(Y,1);break J}}X=K.createElement(q),G5(X,q,Q),K.head.appendChild(X);break;default:throw Error(l(468,q))}X[_5]=Z,X5(X),q=X}Z.stateNode=q}else ew(K,Z.type,Z.stateNode);else Z.stateNode=tw(K,q,Z.memoizedProps);else X!==q?(X===null?Q.stateNode!==null&&(Q=Q.stateNode,Q.parentNode.removeChild(Q)):X.count--,q===null?ew(K,Z.type,Z.stateNode):tw(K,q,Z.memoizedProps)):q===null&&Z.stateNode!==null&&h$(Z,Z.memoizedProps,Q.memoizedProps)}break;case 27:q8(J,Z),K8(Z),q&512&&(u1||Q===null||Z4(Q,Q.return)),Q!==null&&q&4&&h$(Z,Z.memoizedProps,Q.memoizedProps);break;case 5:if(q8(J,Z),K8(Z),q&512&&(u1||Q===null||Z4(Q,Q.return)),Z.flags&32){K=Z.stateNode;try{JJ(K,"")}catch(j){r0(Z,Z.return,j)}}q&4&&Z.stateNode!=null&&(K=Z.memoizedProps,h$(Z,K,Q!==null?Q.memoizedProps:K)),q&1024&&(g$=!0);break;case 6:if(q8(J,Z),K8(Z),q&4){if(Z.stateNode===null)throw Error(l(162));q=Z.memoizedProps,Q=Z.stateNode;try{Q.nodeValue=q}catch(j){r0(Z,Z.return,j)}}break;case 3:if(pN=null,K=T6,T6=Mz(J.containerInfo),q8(J,Z),T6=K,K8(Z),q&4&&Q!==null&&Q.memoizedState.isDehydrated)try{YJ(J.containerInfo)}catch(j){r0(Z,Z.return,j)}g$&&(g$=!1,KR(Z));break;case 4:q=T6,T6=Mz(Z.stateNode.containerInfo),q8(J,Z),K8(Z),T6=q;break;case 12:q8(J,Z),K8(Z);break;case 31:q8(J,Z),K8(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,IN(Z,q)));break;case 13:q8(J,Z),K8(Z),Z.child.flags&8192&&Z.memoizedState!==null!==(Q!==null&&Q.memoizedState!==null)&&(vz=f8()),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,IN(Z,q)));break;case 22:K=Z.memoizedState!==null;var O=Q!==null&&Q.memoizedState!==null,U=x4,A=u1;if(x4=U||K,u1=A||O,q8(J,Z),u1=A,x4=U,K8(Z),q&8192)Z:for(J=Z.stateNode,J._visibility=K?J._visibility&-2:J._visibility|1,K&&(Q===null||O||x4||u1||qZ(Z)),Q=null,J=Z;;){if(J.tag===5||J.tag===26){if(Q===null){O=Q=J;try{if(X=O.stateNode,K)z=X.style,typeof z.setProperty==="function"?z.setProperty("display","none","important"):z.display="none";else{Y=O.stateNode;var D=O.memoizedProps.style,_=D!==void 0&&D!==null&&D.hasOwnProperty("display")?D.display:null;Y.style.display=_==null||typeof _==="boolean"?"":(""+_).trim()}}catch(j){r0(O,O.return,j)}}}else if(J.tag===6){if(Q===null){O=J;try{O.stateNode.nodeValue=K?"":O.memoizedProps}catch(j){r0(O,O.return,j)}}}else if(J.tag===18){if(Q===null){O=J;try{var W=O.stateNode;K?iw(W,!0):iw(O.stateNode,!1)}catch(j){r0(O,O.return,j)}}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===Z)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break Z;for(;J.sibling===null;){if(J.return===null||J.return===Z)break Z;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}q&4&&(q=Z.updateQueue,q!==null&&(Q=q.retryQueue,Q!==null&&(q.retryQueue=null,IN(Z,Q))));break;case 19:q8(J,Z),K8(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,IN(Z,q)));break;case 30:break;case 21:break;default:q8(J,Z),K8(Z)}}function K8(Z){var J=Z.flags;if(J&2){try{for(var Q,q=Z.return;q!==null;){if(oL(q)){Q=q;break}q=q.return}if(Q==null)throw Error(l(160));switch(Q.tag){case 27:var K=Q.stateNode,X=x$(Z);Vz(Z,X,K);break;case 5:var z=Q.stateNode;Q.flags&32&&(JJ(z,""),Q.flags&=-33);var Y=x$(Z);Vz(Z,Y,z);break;case 3:case 4:var O=Q.stateNode.containerInfo,U=x$(Z);RA(Z,U,O);break;default:throw Error(l(161))}}catch(A){r0(Z,Z.return,A)}Z.flags&=-3}J&4096&&(Z.flags&=-4097)}function KR(Z){if(Z.subtreeFlags&1024)for(Z=Z.child;Z!==null;){var J=Z;KR(J),J.tag===5&&J.flags&1024&&J.stateNode.reset(),Z=Z.sibling}}function f4(Z,J){if(J.subtreeFlags&8772)for(J=J.child;J!==null;)rL(Z,J.alternate,J),J=J.sibling}function qZ(Z){for(Z=Z.child;Z!==null;){var J=Z;switch(J.tag){case 0:case 11:case 14:case 15:X9(4,J,J.return),qZ(J);break;case 1:Z4(J,J.return);var Q=J.stateNode;typeof Q.componentWillUnmount==="function"&&sL(J,J.return,Q),qZ(J);break;case 27:Eq(J.stateNode);case 26:case 5:Z4(J,J.return),qZ(J);break;case 22:J.memoizedState===null&&qZ(J);break;case 30:qZ(J);break;default:qZ(J)}Z=Z.sibling}}function y4(Z,J,Q){Q=Q&&(J.subtreeFlags&8772)!==0;for(J=J.child;J!==null;){var q=J.alternate,K=Z,X=J,z=X.flags;switch(X.tag){case 0:case 11:case 15:y4(K,X,Q),oq(4,X);break;case 1:if(y4(K,X,Q),q=X,K=q.stateNode,typeof K.componentDidMount==="function")try{K.componentDidMount()}catch(U){r0(q,q.return,U)}if(q=X,K=q.updateQueue,K!==null){var Y=q.stateNode;try{var O=K.shared.hiddenCallbacks;if(O!==null)for(K.shared.hiddenCallbacks=null,K=0;K<O.length;K++)JL(O[K],Y)}catch(U){r0(q,q.return,U)}}Q&&z&64&&aL(X),wq(X,X.return);break;case 27:tL(X);case 26:case 5:y4(K,X,Q),Q&&q===null&&z&4&&nL(X),wq(X,X.return);break;case 12:y4(K,X,Q);break;case 31:y4(K,X,Q),Q&&z&4&&JR(K,X);break;case 13:y4(K,X,Q),Q&&z&4&&QR(K,X);break;case 22:X.memoizedState===null&&y4(K,X,Q),wq(X,X.return);break;case 30:break;default:y4(K,X,Q)}J=J.sibling}}function E3(Z,J){var Q=null;Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),Z=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(Z=J.memoizedState.cachePool.pool),Z!==Q&&(Z!=null&&Z.refCount++,Q!=null&&sq(Q))}function I3(Z,J){Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&sq(Z))}function I6(Z,J,Q,q){if(J.subtreeFlags&10256)for(J=J.child;J!==null;)XR(Z,J,Q,q),J=J.sibling}function XR(Z,J,Q,q){var K=J.flags;switch(J.tag){case 0:case 11:case 15:I6(Z,J,Q,q),K&2048&&oq(9,J);break;case 1:I6(Z,J,Q,q);break;case 3:I6(Z,J,Q,q),K&2048&&(Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&sq(Z)));break;case 12:if(K&2048){I6(Z,J,Q,q),Z=J.stateNode;try{var X=J.memoizedProps,z=X.id,Y=X.onPostCommit;typeof Y==="function"&&Y(z,J.alternate===null?"mount":"update",Z.passiveEffectDuration,-0)}catch(O){r0(J,J.return,O)}}else I6(Z,J,Q,q);break;case 31:I6(Z,J,Q,q);break;case 13:I6(Z,J,Q,q);break;case 23:break;case 22:X=J.stateNode,z=J.alternate,J.memoizedState!==null?X._visibility&2?I6(Z,J,Q,q):Cq(Z,J):X._visibility&2?I6(Z,J,Q,q):(X._visibility|=2,b2(Z,J,Q,q,(J.subtreeFlags&10256)!==0||!1)),K&2048&&E3(z,J);break;case 24:I6(Z,J,Q,q),K&2048&&I3(J.alternate,J);break;default:I6(Z,J,Q,q)}}function b2(Z,J,Q,q,K){K=K&&((J.subtreeFlags&10256)!==0||!1);for(J=J.child;J!==null;){var X=Z,z=J,Y=Q,O=q,U=z.flags;switch(z.tag){case 0:case 11:case 15:b2(X,z,Y,O,K),oq(8,z);break;case 23:break;case 22:var A=z.stateNode;z.memoizedState!==null?A._visibility&2?b2(X,z,Y,O,K):Cq(X,z):(A._visibility|=2,b2(X,z,Y,O,K)),K&&U&2048&&E3(z.alternate,z);break;case 24:b2(X,z,Y,O,K),K&&U&2048&&I3(z.alternate,z);break;default:b2(X,z,Y,O,K)}J=J.sibling}}function Cq(Z,J){if(J.subtreeFlags&10256)for(J=J.child;J!==null;){var Q=Z,q=J,K=q.flags;switch(q.tag){case 22:Cq(Q,q),K&2048&&E3(q.alternate,q);break;case 24:Cq(Q,q),K&2048&&I3(q.alternate,q);break;default:Cq(Q,q)}J=J.sibling}}function S2(Z,J,Q){if(Z.subtreeFlags&Uq)for(Z=Z.child;Z!==null;)NR(Z,J,Q),Z=Z.sibling}function NR(Z,J,Q){switch(Z.tag){case 26:S2(Z,J,Q),Z.flags&Uq&&Z.memoizedState!==null&&Rl(Q,T6,Z.memoizedState,Z.memoizedProps);break;case 5:S2(Z,J,Q);break;case 3:case 4:var q=T6;T6=Mz(Z.stateNode.containerInfo),S2(Z,J,Q),T6=q;break;case 22:Z.memoizedState===null&&(q=Z.alternate,q!==null&&q.memoizedState!==null?(q=Uq,Uq=16777216,S2(Z,J,Q),Uq=q):S2(Z,J,Q));break;default:S2(Z,J,Q)}}function zR(Z){var J=Z.alternate;if(J!==null&&(Z=J.child,Z!==null)){J.child=null;do J=Z.sibling,Z.sibling=null,Z=J;while(Z!==null)}}function Kq(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];K5=q,YR(q,Z)}zR(Z)}if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;)HR(Z),Z=Z.sibling}function HR(Z){switch(Z.tag){case 0:case 11:case 15:Kq(Z),Z.flags&2048&&X9(9,Z,Z.return);break;case 3:Kq(Z);break;case 12:Kq(Z);break;case 22:var J=Z.stateNode;Z.memoizedState!==null&&J._visibility&2&&(Z.return===null||Z.return.tag!==13)?(J._visibility&=-3,uN(Z)):Kq(Z);break;default:Kq(Z)}}function uN(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];K5=q,YR(q,Z)}zR(Z)}for(Z=Z.child;Z!==null;){switch(J=Z,J.tag){case 0:case 11:case 15:X9(8,J,J.return),uN(J);break;case 22:Q=J.stateNode,Q._visibility&2&&(Q._visibility&=-3,uN(J));break;default:uN(J)}Z=Z.sibling}}function YR(Z,J){for(;K5!==null;){var Q=K5;switch(Q.tag){case 0:case 11:case 15:X9(8,Q,J);break;case 23:case 22:if(Q.memoizedState!==null&&Q.memoizedState.cachePool!==null){var q=Q.memoizedState.cachePool.pool;q!=null&&q.refCount++}break;case 24:sq(Q.memoizedState.cache)}if(q=Q.child,q!==null)q.return=Q,K5=q;else Z:for(Q=Z;K5!==null;){q=K5;var{sibling:K,return:X}=q;if(eL(q),q===Q){K5=null;break Z}if(K!==null){K.return=X,K5=K;break Z}K5=X}}}function x8(){return(c0&2)!==0&&S0!==0?S0&-S0:V0.T!==null?k3():GC()}function UR(){if(v8===0)if((S0&536870912)===0||k0){var Z=GN;GN<<=1,(GN&3932160)===0&&(GN=262144),v8=Z}else v8=536870912;return Z=m8.current,Z!==null&&(Z.flags|=32),v8}function z8(Z,J,Q){if(Z===z1&&(t0===2||t0===9)||Z.cancelPendingCommit!==null)zJ(Z,0),i7(Z,S0,v8,!1);if(pq(Z,Q),(c0&2)===0||Z!==z1)Z===z1&&((c0&2)===0&&(HZ|=Q),S1===4&&i7(Z,S0,v8,!1)),q4(Z)}function $R(Z,J,Q){if((c0&6)!==0)throw Error(l(327));var q=!Q&&(J&127)===0&&(J&Z.expiredLanes)===0||lq(Z,J),K=q?au(Z,J):m$(Z,J,!0),X=q;do{if(K===0){AJ&&!q&&i7(Z,J,0,!1);break}else{if(Q=Z.current.alternate,X&&!pu(Q)){K=m$(Z,J,!1),X=!1;continue}if(K===2){if(X=J,Z.errorRecoveryDisabledLanes&X)var z=0;else z=Z.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){J=z;Z:{var Y=Z;K=Lq;var O=Y.current.memoizedState.isDehydrated;if(O&&(zJ(Y,z).flags|=256),z=m$(Y,z,!1),z!==2){if(T3&&!O){Y.errorRecoveryDisabledLanes|=X,HZ|=X,K=4;break Z}X=N8,N8=K,X!==null&&(N8===null?N8=X:N8.push.apply(N8,X))}K=z}if(X=!1,K!==2)continue}}if(K===1){zJ(Z,0),i7(Z,J,0,!0);break}Z:{switch(q=Z,X=K,X){case 0:case 1:throw Error(l(345));case 4:if((J&4194048)!==J)break;case 6:i7(q,J,v8,!p7);break Z;case 2:N8=null;break;case 3:case 5:break;default:throw Error(l(329))}if((J&62914560)===J&&(K=vz+300-f8(),10<K)){if(i7(q,J,v8,!p7),wz(q,0,!0)!==0)break Z;l4=J,q.timeoutHandle=PR(Pw.bind(null,q,Q,N8,Uz,EA,J,v8,HZ,XJ,p7,X,"Throttled",-0,0),K);break Z}Pw(q,Q,N8,Uz,EA,J,v8,HZ,XJ,p7,X,null,-0,0)}}break}while(1);q4(Z)}function Pw(Z,J,Q,q,K,X,z,Y,O,U,A,D,_,W){if(Z.timeoutHandle=-1,D=J.subtreeFlags,D&8192||(D&16785408)===16785408){D={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:m4},NR(J,X,D);var j=(X&62914560)===X?vz-f8():(X&4194048)===X?VR-f8():0;if(j=El(D,j),j!==null){l4=X,Z.cancelPendingCommit=j(fw.bind(null,Z,J,X,Q,q,K,z,Y,O,A,D,null,_,W)),i7(Z,X,z,!U);return}}fw(Z,J,X,Q,q,K,z,Y,O)}function pu(Z){for(var J=Z;;){var Q=J.tag;if((Q===0||Q===11||Q===15)&&J.flags&16384&&(Q=J.updateQueue,Q!==null&&(Q=Q.stores,Q!==null)))for(var q=0;q<Q.length;q++){var K=Q[q],X=K.getSnapshot;K=K.value;try{if(!g8(X(),K))return!1}catch(z){return!1}}if(Q=J.child,J.subtreeFlags&16384&&Q!==null)Q.return=J,J=Q;else{if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return!0;J=J.return}J.sibling.return=J.return,J=J.sibling}}return!0}function i7(Z,J,Q,q){J&=~S3,J&=~HZ,Z.suspendedLanes|=J,Z.pingedLanes&=~J,q&&(Z.warmLanes|=J),q=Z.expirationTimes;for(var K=J;0<K;){var X=31-h8(K),z=1<<X;q[X]=-1,K&=~z}Q!==0&&_C(Z,Q,J)}function fz(){return(c0&6)===0?(tq(0,!1),!1):!0}function b3(){if(I0!==null){if(t0===0)var Z=I0.return;else Z=I0,d4=MZ=null,B3(Z),o2=null,vq=0,Z=I0;for(;Z!==null;)iL(Z.alternate,Z),Z=Z.return;I0=null}}function zJ(Z,J){var Q=Z.timeoutHandle;Q!==-1&&(Z.timeoutHandle=-1,Yl(Q)),Q=Z.cancelPendingCommit,Q!==null&&(Z.cancelPendingCommit=null,Q()),l4=0,b3(),z1=Z,I0=Q=c4(Z.current,null),S0=J,t0=0,b8=null,p7=!1,AJ=lq(Z,J),T3=!1,XJ=v8=S3=HZ=N9=S1=0,N8=Lq=null,EA=!1,(J&8)!==0&&(J|=J&32);var q=Z.entangledLanes;if(q!==0)for(Z=Z.entanglements,q&=J;0<q;){var K=31-h8(q),X=1<<K;J|=Z[K],q&=~X}return n4=J,Ez(),Q}function AR(Z,J){F0=null,V0.H=yq,J===$J||J===Tz?(J=Ow(),t0=3):J===Y3?(J=Ow(),t0=4):t0=J===L3?8:J!==null&&typeof J==="object"&&typeof J.then==="function"?6:1,b8=J,I0===null&&(S1=1,Hz(Z,H6(J,Z.current)))}function DR(){var Z=m8.current;return Z===null?!0:(S0&4194048)===S0?V6===null?!0:!1:(S0&62914560)===S0||(S0&536870912)!==0?Z===V6:!1}function BR(){var Z=V0.H;return V0.H=yq,Z===null?yq:Z}function _R(){var Z=V0.A;return V0.A=uu,Z}function $z(){S1=4,p7||(S0&4194048)!==S0&&m8.current!==null||(AJ=!0),(N9&134217727)===0&&(HZ&134217727)===0||z1===null||i7(z1,S0,v8,!1)}function m$(Z,J,Q){var q=c0;c0|=2;var K=BR(),X=_R();if(z1!==Z||S0!==J)Uz=null,zJ(Z,J);J=!1;var z=S1;Z:do try{if(t0!==0&&I0!==null){var Y=I0,O=b8;switch(t0){case 8:b3(),z=6;break Z;case 3:case 2:case 9:case 6:m8.current===null&&(J=!0);var U=t0;if(t0=0,b8=null,p2(Z,Y,O,U),Q&&AJ){z=0;break Z}break;default:U=t0,t0=0,b8=null,p2(Z,Y,O,U)}}iu(),z=S1;break}catch(A){AR(Z,A)}while(1);return J&&Z.shellSuspendCounter++,d4=MZ=null,c0=q,V0.H=K,V0.A=X,I0===null&&(z1=null,S0=0,Ez()),z}function iu(){for(;I0!==null;)MR(I0)}function au(Z,J){var Q=c0;c0|=2;var q=BR(),K=_R();z1!==Z||S0!==J?(Uz=null,Oz=f8()+500,zJ(Z,J)):AJ=lq(Z,J);Z:do try{if(t0!==0&&I0!==null){J=I0;var X=b8;J:switch(t0){case 1:t0=0,b8=null,p2(Z,J,X,1);break;case 2:case 9:if(Vw(X)){t0=0,b8=null,vw(J);break}J=function(){t0!==2&&t0!==9||z1!==Z||(t0=7),q4(Z)},X.then(J,J);break Z;case 3:t0=7;break Z;case 4:t0=5;break Z;case 7:Vw(X)?(t0=0,b8=null,vw(J)):(t0=0,b8=null,p2(Z,J,X,7));break;case 5:var z=null;switch(I0.tag){case 26:z=I0.memoizedState;case 5:case 27:var Y=I0;if(z?xR(z):Y.stateNode.complete){t0=0,b8=null;var O=Y.sibling;if(O!==null)I0=O;else{var U=Y.return;U!==null?(I0=U,yz(U)):I0=null}break J}}t0=0,b8=null,p2(Z,J,X,5);break;case 6:t0=0,b8=null,p2(Z,J,X,6);break;case 8:b3(),S1=6;break Z;default:throw Error(l(462))}}su();break}catch(A){AR(Z,A)}while(1);if(d4=MZ=null,V0.H=q,V0.A=K,c0=Q,I0!==null)return 0;return z1=null,S0=0,Ez(),S1}function su(){for(;I0!==null&&!_c();)MR(I0)}function MR(Z){var J=pL(Z.alternate,Z,n4);Z.memoizedProps=Z.pendingProps,J===null?yz(Z):I0=J}function vw(Z){var J=Z,Q=J.alternate;switch(J.tag){case 15:case 0:J=Ew(Q,J,J.pendingProps,J.type,void 0,S0);break;case 11:J=Ew(Q,J,J.pendingProps,J.type.render,J.ref,S0);break;case 5:B3(J);default:iL(Q,J),J=I0=iC(J,n4),J=pL(Q,J,n4)}Z.memoizedProps=Z.pendingProps,J===null?yz(Z):I0=J}function p2(Z,J,Q,q){d4=MZ=null,B3(J),o2=null,vq=0;var K=J.return;try{if(yu(Z,K,J,Q,S0)){S1=1,Hz(Z,H6(Q,Z.current)),I0=null;return}}catch(X){if(K!==null)throw I0=K,X;S1=1,Hz(Z,H6(Q,Z.current)),I0=null;return}if(J.flags&32768){if(k0||q===1)Z=!0;else if(AJ||(S0&536870912)!==0)Z=!1;else if(p7=Z=!0,q===2||q===9||q===3||q===6)q=m8.current,q!==null&&q.tag===13&&(q.flags|=16384);WR(J,Z)}else yz(J)}function yz(Z){var J=Z;do{if((J.flags&32768)!==0){WR(J,p7);return}Z=J.return;var Q=gu(J.alternate,J,n4);if(Q!==null){I0=Q;return}if(J=J.sibling,J!==null){I0=J;return}I0=J=Z}while(J!==null);S1===0&&(S1=5)}function WR(Z,J){do{var Q=mu(Z.alternate,Z);if(Q!==null){Q.flags&=32767,I0=Q;return}if(Q=Z.return,Q!==null&&(Q.flags|=32768,Q.subtreeFlags=0,Q.deletions=null),!J&&(Z=Z.sibling,Z!==null)){I0=Z;return}I0=Z=Q}while(Z!==null);S1=6,I0=null}function fw(Z,J,Q,q,K,X,z,Y,O){Z.cancelPendingCommit=null;do hz();while(o1!==0);if((c0&6)!==0)throw Error(l(327));if(J!==null){if(J===Z.current)throw Error(l(177));if(X=J.lanes|J.childLanes,X|=Q3,Ec(Z,Q,X,z,Y,O),Z===z1&&(I0=z1=null,S0=0),NJ=J,e7=Z,l4=Q,IA=X,TA=K,OR=q,(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?(Z.callbackNode=null,Z.callbackPriority=0,ru(tN,function(){return CR(),null})):(Z.callbackNode=null,Z.callbackPriority=0),q=(J.flags&13878)!==0,(J.subtreeFlags&13878)!==0||q){q=V0.T,V0.T=null,K=u0.p,u0.p=2,z=c0,c0|=4;try{du(Z,J,Q)}finally{c0=z,u0.p=K,V0.T=q}}o1=1,GR(),FR(),jR()}}function GR(){if(o1===1){o1=0;var Z=e7,J=NJ,Q=(J.flags&13878)!==0;if((J.subtreeFlags&13878)!==0||Q){Q=V0.T,V0.T=null;var q=u0.p;u0.p=2;var K=c0;c0|=4;try{qR(J,Z);var X=yA,z=xC(Z.containerInfo),Y=X.focusedElem,O=X.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&hC(Y.ownerDocument.documentElement,Y)){if(O!==null&&J3(Y)){var{start:U,end:A}=O;if(A===void 0&&(A=U),"selectionStart"in Y)Y.selectionStart=U,Y.selectionEnd=Math.min(A,Y.value.length);else{var D=Y.ownerDocument||document,_=D&&D.defaultView||window;if(_.getSelection){var W=_.getSelection(),j=Y.textContent.length,C=Math.min(O.start,j),R=O.end===void 0?C:Math.min(O.end,j);!W.extend&&C>R&&(z=R,R=C,C=z);var G=qw(Y,C),w=qw(Y,R);if(G&&w&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==w.node||W.focusOffset!==w.offset)){var L=D.createRange();L.setStart(G.node,G.offset),W.removeAllRanges(),C>R?(W.addRange(L),W.extend(w.node,w.offset)):(L.setEnd(w.node,w.offset),W.addRange(L))}}}}D=[];for(W=Y;W=W.parentNode;)W.nodeType===1&&D.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof Y.focus==="function"&&Y.focus();for(Y=0;Y<D.length;Y++){var I=D[Y];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Fz=!!fA,yA=fA=null}finally{c0=K,u0.p=q,V0.T=Q}}Z.current=J,o1=2}}function FR(){if(o1===2){o1=0;var Z=e7,J=NJ,Q=(J.flags&8772)!==0;if((J.subtreeFlags&8772)!==0||Q){Q=V0.T,V0.T=null;var q=u0.p;u0.p=2;var K=c0;c0|=4;try{rL(Z,J.alternate,J)}finally{c0=K,u0.p=q,V0.T=Q}}o1=3}}function jR(){if(o1===4||o1===3){o1=0,Mc();var Z=e7,J=NJ,Q=l4,q=OR;(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?o1=5:(o1=0,NJ=e7=null,wR(Z,Z.pendingLanes));var K=Z.pendingLanes;if(K===0&&(r7=null),sA(Q),J=J.stateNode,y8&&typeof y8.onCommitFiberRoot==="function")try{y8.onCommitFiberRoot(uq,J,void 0,(J.current.flags&128)===128)}catch(O){}if(q!==null){J=V0.T,K=u0.p,u0.p=2,V0.T=null;try{for(var X=Z.onRecoverableError,z=0;z<q.length;z++){var Y=q[z];X(Y.value,{componentStack:Y.stack})}}finally{V0.T=J,u0.p=K}}(l4&3)!==0&&hz(),q4(Z),K=Z.pendingLanes,(Q&261930)!==0&&(K&42)!==0?Z===SA?Rq++:(Rq=0,SA=Z):Rq=0,tq(0,!1)}}function wR(Z,J){(Z.pooledCacheLanes&=J)===0&&(J=Z.pooledCache,J!=null&&(Z.pooledCache=null,sq(J)))}function hz(){return GR(),FR(),jR(),CR()}function CR(){if(o1!==5)return!1;var Z=e7,J=IA;IA=0;var Q=sA(l4),q=V0.T,K=u0.p;try{u0.p=32>Q?32:Q,V0.T=null,Q=TA,TA=null;var X=e7,z=l4;if(o1=0,NJ=e7=null,l4=0,(c0&6)!==0)throw Error(l(331));var Y=c0;if(c0|=4,HR(X.current),XR(X,X.current,z,Q),c0=Y,tq(0,!1),y8&&typeof y8.onPostCommitFiberRoot==="function")try{y8.onPostCommitFiberRoot(uq,X)}catch(O){}return!0}finally{u0.p=K,V0.T=q,wR(Z,J)}}function yw(Z,J,Q){J=H6(Q,J),J=wA(Z.stateNode,J,2),Z=t7(Z,J,2),Z!==null&&(pq(Z,2),q4(Z))}function r0(Z,J,Q){if(Z.tag===3)yw(Z,Z,Q);else for(;J!==null;){if(J.tag===3){yw(J,Z,Q);break}else if(J.tag===1){var q=J.stateNode;if(typeof J.type.getDerivedStateFromError==="function"||typeof q.componentDidCatch==="function"&&(r7===null||!r7.has(q))){Z=H6(Q,Z),Q=gL(2),q=t7(J,Q,2),q!==null&&(mL(Q,q,J,Z),pq(q,2),q4(q));break}}J=J.return}}function d$(Z,J,Q){var q=Z.pingCache;if(q===null){q=Z.pingCache=new lu;var K=new Set;q.set(J,K)}else K=q.get(J),K===void 0&&(K=new Set,q.set(J,K));K.has(Q)||(T3=!0,K.add(Q),Z=nu.bind(null,Z,J,Q),J.then(Z,Z))}function nu(Z,J,Q){var q=Z.pingCache;q!==null&&q.delete(J),Z.pingedLanes|=Z.suspendedLanes&Q,Z.warmLanes&=~Q,z1===Z&&(S0&Q)===Q&&(S1===4||S1===3&&(S0&62914560)===S0&&300>f8()-vz?(c0&2)===0&&zJ(Z,0):S3|=Q,XJ===S0&&(XJ=0)),q4(Z)}function LR(Z,J){J===0&&(J=BC()),Z=_Z(Z,J),Z!==null&&(pq(Z,J),q4(Z))}function ou(Z){var J=Z.memoizedState,Q=0;J!==null&&(Q=J.retryLane),LR(Z,Q)}function tu(Z,J){var Q=0;switch(Z.tag){case 31:case 13:var{stateNode:q,memoizedState:K}=Z;K!==null&&(Q=K.retryLane);break;case 19:q=Z.stateNode;break;case 22:q=Z.stateNode._retryCache;break;default:throw Error(l(314))}q!==null&&q.delete(J),LR(Z,Q)}function ru(Z,J){return iA(Z,J)}function q4(Z){Z!==k2&&Z.next===null&&(k2===null?Az=k2=Z:k2=k2.next=Z),Dz=!0,bA||(bA=!0,Zl())}function tq(Z,J){if(!c$&&Dz){c$=!0;do{var Q=!1;for(var q=Az;q!==null;){if(!J)if(Z!==0){var K=q.pendingLanes;if(K===0)var X=0;else{var{suspendedLanes:z,pingedLanes:Y}=q;X=(1<<31-h8(42|Z)+1)-1,X&=K&~(z&~Y),X=X&201326741?X&201326741|1:X?X|2:0}X!==0&&(Q=!0,hw(q,X))}else X=S0,X=wz(q,q===z1?X:0,q.cancelPendingCommit!==null||q.timeoutHandle!==-1),(X&3)===0||lq(q,X)||(Q=!0,hw(q,X));q=q.next}}while(Q);c$=!1}}function eu(){RR()}function RR(){Dz=bA=!1;var Z=0;a7!==0&&Hl()&&(Z=a7);for(var J=f8(),Q=null,q=Az;q!==null;){var K=q.next,X=ER(q,J);if(X===0)q.next=null,Q===null?Az=K:Q.next=K,K===null&&(k2=Q);else if(Q=q,Z!==0||(X&3)!==0)Dz=!0;q=K}o1!==0&&o1!==5||tq(Z,!1),a7!==0&&(a7=0)}function ER(Z,J){for(var{suspendedLanes:Q,pingedLanes:q,expirationTimes:K}=Z,X=Z.pendingLanes&-62914561;0<X;){var z=31-h8(X),Y=1<<z,O=K[z];if(O===-1){if((Y&Q)===0||(Y&q)!==0)K[z]=Rc(Y,J)}else O<=J&&(Z.expiredLanes|=Y);X&=~Y}if(J=z1,Q=S0,Q=wz(Z,Z===J?Q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q=Z.callbackNode,Q===0||Z===J&&(t0===2||t0===9)||Z.cancelPendingCommit!==null)return q!==null&&q!==null&&M$(q),Z.callbackNode=null,Z.callbackPriority=0;if((Q&3)===0||lq(Z,Q)){if(J=Q&-Q,J===Z.callbackPriority)return J;switch(q!==null&&M$(q),sA(Q)){case 2:case 8:Q=AC;break;case 32:Q=tN;break;case 268435456:Q=DC;break;default:Q=tN}return q=IR.bind(null,Z),Q=iA(Q,q),Z.callbackPriority=J,Z.callbackNode=Q,J}return q!==null&&q!==null&&M$(q),Z.callbackPriority=2,Z.callbackNode=null,2}function IR(Z,J){if(o1!==0&&o1!==5)return Z.callbackNode=null,Z.callbackPriority=0,null;var Q=Z.callbackNode;if(hz()&&Z.callbackNode!==Q)return null;var q=S0;if(q=wz(Z,Z===z1?q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q===0)return null;return $R(Z,q,J),ER(Z,f8()),Z.callbackNode!=null&&Z.callbackNode===Q?IR.bind(null,Z):null}function hw(Z,J){if(hz())return null;$R(Z,J,!0)}function Zl(){Vl(function(){(c0&6)!==0?iA($C,eu):RR()})}function k3(){if(a7===0){var Z=QJ;Z===0&&(Z=WN,WN<<=1,(WN&261888)===0&&(WN=256)),a7=Z}return a7}function xw(Z){return Z==null||typeof Z==="symbol"||typeof Z==="boolean"?null:typeof Z==="function"?Z:PN(""+Z)}function gw(Z,J){var Q=J.ownerDocument.createElement("input");return Q.name=J.name,Q.value=J.value,Z.id&&Q.setAttribute("form",Z.id),J.parentNode.insertBefore(Q,J),Z=new FormData(Z),Q.parentNode.removeChild(Q),Z}function Jl(Z,J,Q,q,K){if(J==="submit"&&Q&&Q.stateNode===K){var X=xw((K[H8]||null).action),z=q.submitter;z&&(J=(J=z[H8]||null)?xw(J.formAction):z.getAttribute("formAction"),J!==null&&(X=J,z=null));var Y=new Cz("action","action",null,q,K);Z.push({event:Y,listeners:[{instance:null,listener:function(){if(q.defaultPrevented){if(a7!==0){var O=z?gw(K,z):new FormData(K);FA(Q,{pending:!0,data:O,method:K.method,action:X},null,O)}}else typeof X==="function"&&(Y.preventDefault(),O=z?gw(K,z):new FormData(K),FA(Q,{pending:!0,data:O,method:K.method,action:X},X,O))},currentTarget:K}]})}}function TR(Z,J){J=(J&4)!==0;for(var Q=0;Q<Z.length;Q++){var q=Z[Q],K=q.event;q=q.listeners;Z:{var X=void 0;if(J)for(var z=q.length-1;0<=z;z--){var Y=q[z],O=Y.instance,U=Y.currentTarget;if(Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch(A){eN(A)}K.currentTarget=null,X=O}else for(z=0;z<q.length;z++){if(Y=q[z],O=Y.instance,U=Y.currentTarget,Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch(A){eN(A)}K.currentTarget=null,X=O}}}}function E0(Z,J){var Q=J[JA];Q===void 0&&(Q=J[JA]=new Set);var q=Z+"__bubble";Q.has(q)||(SR(J,Z,2,!1),Q.add(q))}function u$(Z,J,Q){var q=0;J&&(q|=4),SR(Q,Z,q,J)}function P3(Z){if(!Z[TN]){Z[TN]=!0,FC.forEach(function(Q){Q!=="selectionchange"&&(Ql.has(Q)||u$(Q,!1,Z),u$(Q,!0,Z))});var J=Z.nodeType===9?Z:Z.ownerDocument;J===null||J[TN]||(J[TN]=!0,u$("selectionchange",!1,J))}}function SR(Z,J,Q,q){switch(uR(J)){case 2:var K=Sl;break;case 8:K=bl;break;default:K=h3}Q=K.bind(null,J,Q,Z),K=void 0,!NA||J!=="touchstart"&&J!=="touchmove"&&J!=="wheel"||(K=!0),q?K!==void 0?Z.addEventListener(J,Q,{capture:!0,passive:K}):Z.addEventListener(J,Q,!0):K!==void 0?Z.addEventListener(J,Q,{passive:K}):Z.addEventListener(J,Q,!1)}function l$(Z,J,Q,q,K){var X=q;if((J&1)===0&&(J&2)===0&&q!==null)Z:for(;;){if(q===null)return;var z=q.tag;if(z===3||z===4){var Y=q.stateNode.containerInfo;if(Y===K)break;if(z===4)for(z=q.return;z!==null;){var O=z.tag;if((O===3||O===4)&&z.stateNode.containerInfo===K)return;z=z.return}for(;Y!==null;){if(z=y2(Y),z===null)return;if(O=z.tag,O===5||O===6||O===26||O===27){q=X=z;continue Z}Y=Y.parentNode}}q=q.return}TC(function(){var U=X,A=tA(Q),D=[];Z:{var _=lC.get(Z);if(_!==void 0){var W=Cz,j=Z;switch(Z){case"keypress":if(fN(Q)===0)break Z;case"keydown":case"keyup":W=tc;break;case"focusin":j="focus",W=w$;break;case"focusout":j="blur",W=w$;break;case"beforeblur":case"afterblur":W=w$;break;case"click":if(Q.button===2)break Z;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Zu;break;case mC:case dC:case cC:W=cc;break;case uC:W=Qu;break;case"scroll":case"scrollend":W=hc;break;case"wheel":W=Ku;break;case"copy":case"cut":case"paste":W=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=oj;break;case"toggle":case"beforetoggle":W=Nu}var C=(J&4)!==0,R=!C&&(Z==="scroll"||Z==="scrollend"),G=C?_!==null?_+"Capture":null:_;C=[];for(var w=U,L;w!==null;){var I=w;if(L=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||L===null||G===null||(I=Tq(w,G),I!=null&&C.push(xq(w,I,L))),R)break;w=w.return}0<C.length&&(_=new W(_,j,null,Q,A),D.push({event:_,listeners:C}))}}if((J&7)===0){Z:{if(_=Z==="mouseover"||Z==="pointerover",W=Z==="mouseout"||Z==="pointerout",_&&Q!==XA&&(j=Q.relatedTarget||Q.fromElement)&&(y2(j)||j[VJ]))break Z;if(W||_){if(_=A.window===A?A:(_=A.ownerDocument)?_.defaultView||_.parentWindow:window,W){if(j=Q.relatedTarget||Q.toElement,W=U,j=j?y2(j):null,j!==null&&(R=cq(j),C=j.tag,j!==R||C!==5&&C!==27&&C!==6))j=null}else W=null,j=U;if(W!==j){if(C=sj,I="onMouseLeave",G="onMouseEnter",w="mouse",Z==="pointerout"||Z==="pointerover")C=oj,I="onPointerLeave",G="onPointerEnter",w="pointer";if(R=W==null?_:Hq(W),L=j==null?_:Hq(j),_=new C(I,w+"leave",W,Q,A),_.target=R,_.relatedTarget=L,I=null,y2(A)===U&&(C=new C(G,w+"enter",j,Q,A),C.target=L,C.relatedTarget=R,I=C),R=I,W&&j)J:{C=ql,G=W,w=j,L=0;for(I=G;I;I=C(I))L++;I=0;for(var h=w;h;h=C(h))I++;for(;0<L-I;)G=C(G),L--;for(;0<I-L;)w=C(w),I--;for(;L--;){if(G===w||w!==null&&G===w.alternate){C=G;break J}G=C(G),w=C(w)}C=null}else C=null;W!==null&&mw(D,_,W,C,!1),j!==null&&R!==null&&mw(D,R,j,C,!0)}}}Z:{if(_=U?Hq(U):window,W=_.nodeName&&_.nodeName.toLowerCase(),W==="select"||W==="input"&&_.type==="file")var v=Zw;else if(ej(_))if(fC)v=Bu;else{v=Au;var b=$u}else W=_.nodeName,!W||W.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?U&&oA(U.elementType)&&(v=Zw):v=Du;if(v&&(v=v(Z,U))){vC(D,v,Q,A);break Z}b&&b(Z,_,U),Z==="focusout"&&U&&_.type==="number"&&U.memoizedProps.value!=null&&KA(_,"number",_.value)}switch(b=U?Hq(U):window,Z){case"focusin":if(ej(b)||b.contentEditable==="true")g2=b,zA=U,_q=null;break;case"focusout":_q=zA=g2=null;break;case"mousedown":HA=!0;break;case"contextmenu":case"mouseup":case"dragend":HA=!1,Kw(D,Q,A);break;case"selectionchange":if(Mu)break;case"keydown":case"keyup":Kw(D,Q,A)}var m;if(Z3)Z:{switch(Z){case"compositionstart":var c="onCompositionStart";break Z;case"compositionend":c="onCompositionEnd";break Z;case"compositionupdate":c="onCompositionUpdate";break Z}c=void 0}else x2?kC(Z,Q)&&(c="onCompositionEnd"):Z==="keydown"&&Q.keyCode===229&&(c="onCompositionStart");if(c&&(bC&&Q.locale!=="ko"&&(x2||c!=="onCompositionStart"?c==="onCompositionEnd"&&x2&&(m=SC()):(l7=A,rA=("value"in l7)?l7.value:l7.textContent,x2=!0)),b=Bz(U,c),0<b.length&&(c=new nj(c,Z,null,Q,A),D.push({event:c,listeners:b}),m?c.data=m:(m=PC(Q),m!==null&&(c.data=m)))),m=Hu?Yu(Z,Q):Vu(Z,Q))c=Bz(U,"onBeforeInput"),0<c.length&&(b=new nj("onBeforeInput","beforeinput",null,Q,A),D.push({event:b,listeners:c}),b.data=m);Jl(D,Z,U,Q,A)}TR(D,J)})}function xq(Z,J,Q){return{instance:Z,listener:J,currentTarget:Q}}function Bz(Z,J){for(var Q=J+"Capture",q=[];Z!==null;){var K=Z,X=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||X===null||(K=Tq(Z,Q),K!=null&&q.unshift(xq(Z,K,X)),K=Tq(Z,J),K!=null&&q.push(xq(Z,K,X))),Z.tag===3)return q;Z=Z.return}return[]}function ql(Z){if(Z===null)return null;do Z=Z.return;while(Z&&Z.tag!==5&&Z.tag!==27);return Z?Z:null}function mw(Z,J,Q,q,K){for(var X=J._reactName,z=[];Q!==null&&Q!==q;){var Y=Q,O=Y.alternate,U=Y.stateNode;if(Y=Y.tag,O!==null&&O===q)break;Y!==5&&Y!==26&&Y!==27||U===null||(O=U,K?(U=Tq(Q,X),U!=null&&z.unshift(xq(Q,U,O))):K||(U=Tq(Q,X),U!=null&&z.push(xq(Q,U,O)))),Q=Q.return}z.length!==0&&Z.push({event:J,listeners:z})}function dw(Z){return(typeof Z==="string"?Z:""+Z).replace(Kl,`
`).replace(Xl,"")}function bR(Z,J){return J=dw(J),dw(Z)===J?!0:!1}function X1(Z,J,Q,q,K,X){switch(Q){case"children":typeof q==="string"?J==="body"||J==="textarea"&&q===""||JJ(Z,q):(typeof q==="number"||typeof q==="bigint")&&J!=="body"&&JJ(Z,""+q);break;case"className":jN(Z,"class",q);break;case"tabIndex":jN(Z,"tabindex",q);break;case"dir":case"role":case"viewBox":case"width":case"height":jN(Z,Q,q);break;case"style":IC(Z,q,X);break;case"data":if(J!=="object"){jN(Z,"data",q);break}case"src":case"href":if(q===""&&(J!=="a"||Q!=="href")){Z.removeAttribute(Q);break}if(q==null||typeof q==="function"||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=PN(""+q),Z.setAttribute(Q,q);break;case"action":case"formAction":if(typeof q==="function"){Z.setAttribute(Q,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X==="function"&&(Q==="formAction"?(J!=="input"&&X1(Z,J,"name",K.name,K,null),X1(Z,J,"formEncType",K.formEncType,K,null),X1(Z,J,"formMethod",K.formMethod,K,null),X1(Z,J,"formTarget",K.formTarget,K,null)):(X1(Z,J,"encType",K.encType,K,null),X1(Z,J,"method",K.method,K,null),X1(Z,J,"target",K.target,K,null)));if(q==null||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=PN(""+q),Z.setAttribute(Q,q);break;case"onClick":q!=null&&(Z.onclick=m4);break;case"onScroll":q!=null&&E0("scroll",Z);break;case"onScrollEnd":q!=null&&E0("scrollend",Z);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(l(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(l(60));Z.innerHTML=Q}}break;case"multiple":Z.multiple=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"muted":Z.muted=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(q==null||typeof q==="function"||typeof q==="boolean"||typeof q==="symbol"){Z.removeAttribute("xlink:href");break}Q=PN(""+q),Z.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Q);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""+q):Z.removeAttribute(Q);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":q&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""):Z.removeAttribute(Q);break;case"capture":case"download":q===!0?Z.setAttribute(Q,""):q!==!1&&q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"cols":case"rows":case"size":case"span":q!=null&&typeof q!=="function"&&typeof q!=="symbol"&&!isNaN(q)&&1<=q?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"rowSpan":case"start":q==null||typeof q==="function"||typeof q==="symbol"||isNaN(q)?Z.removeAttribute(Q):Z.setAttribute(Q,q);break;case"popover":E0("beforetoggle",Z),E0("toggle",Z),kN(Z,"popover",q);break;case"xlinkActuate":k4(Z,"http://www.w3.org/1999/xlink","xlink:actuate",q);break;case"xlinkArcrole":k4(Z,"http://www.w3.org/1999/xlink","xlink:arcrole",q);break;case"xlinkRole":k4(Z,"http://www.w3.org/1999/xlink","xlink:role",q);break;case"xlinkShow":k4(Z,"http://www.w3.org/1999/xlink","xlink:show",q);break;case"xlinkTitle":k4(Z,"http://www.w3.org/1999/xlink","xlink:title",q);break;case"xlinkType":k4(Z,"http://www.w3.org/1999/xlink","xlink:type",q);break;case"xmlBase":k4(Z,"http://www.w3.org/XML/1998/namespace","xml:base",q);break;case"xmlLang":k4(Z,"http://www.w3.org/XML/1998/namespace","xml:lang",q);break;case"xmlSpace":k4(Z,"http://www.w3.org/XML/1998/namespace","xml:space",q);break;case"is":kN(Z,"is",q);break;case"innerText":case"textContent":break;default:if(!(2<Q.length)||Q[0]!=="o"&&Q[0]!=="O"||Q[1]!=="n"&&Q[1]!=="N")Q=fc.get(Q)||Q,kN(Z,Q,q)}}function vA(Z,J,Q,q,K,X){switch(Q){case"style":IC(Z,q,X);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(l(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(l(60));Z.innerHTML=Q}}break;case"children":typeof q==="string"?JJ(Z,q):(typeof q==="number"||typeof q==="bigint")&&JJ(Z,""+q);break;case"onScroll":q!=null&&E0("scroll",Z);break;case"onScrollEnd":q!=null&&E0("scrollend",Z);break;case"onClick":q!=null&&(Z.onclick=m4);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jC.hasOwnProperty(Q))Z:{if(Q[0]==="o"&&Q[1]==="n"&&(K=Q.endsWith("Capture"),J=Q.slice(2,K?Q.length-7:void 0),X=Z[H8]||null,X=X!=null?X[Q]:null,typeof X==="function"&&Z.removeEventListener(J,X,K),typeof q==="function")){typeof X!=="function"&&X!==null&&(Q in Z?Z[Q]=null:Z.hasAttribute(Q)&&Z.removeAttribute(Q)),Z.addEventListener(J,q,K);break Z}Q in Z?Z[Q]=q:q===!0?Z.setAttribute(Q,""):kN(Z,Q,q)}}}function G5(Z,J,Q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":E0("error",Z),E0("load",Z);var q=!1,K=!1,X;for(X in Q)if(Q.hasOwnProperty(X)){var z=Q[X];if(z!=null)switch(X){case"src":q=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,J));default:X1(Z,J,X,z,Q,null)}}K&&X1(Z,J,"srcSet",Q.srcSet,Q,null),q&&X1(Z,J,"src",Q.src,Q,null);return;case"input":E0("invalid",Z);var Y=X=z=K=null,O=null,U=null;for(q in Q)if(Q.hasOwnProperty(q)){var A=Q[q];if(A!=null)switch(q){case"name":K=A;break;case"type":z=A;break;case"checked":O=A;break;case"defaultChecked":U=A;break;case"value":X=A;break;case"defaultValue":Y=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,J));break;default:X1(Z,J,q,A,Q,null)}}LC(Z,X,Y,O,U,z,K,!1);return;case"select":E0("invalid",Z),q=z=X=null;for(K in Q)if(Q.hasOwnProperty(K)&&(Y=Q[K],Y!=null))switch(K){case"value":X=Y;break;case"defaultValue":z=Y;break;case"multiple":q=Y;default:X1(Z,J,K,Y,Q,null)}J=X,Q=z,Z.multiple=!!q,J!=null?a2(Z,!!q,J,!1):Q!=null&&a2(Z,!!q,Q,!0);return;case"textarea":E0("invalid",Z),X=K=q=null;for(z in Q)if(Q.hasOwnProperty(z)&&(Y=Q[z],Y!=null))switch(z){case"value":q=Y;break;case"defaultValue":K=Y;break;case"children":X=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(91));break;default:X1(Z,J,z,Y,Q,null)}EC(Z,q,K,X);return;case"option":for(O in Q)if(Q.hasOwnProperty(O)&&(q=Q[O],q!=null))switch(O){case"selected":Z.selected=q&&typeof q!=="function"&&typeof q!=="symbol";break;default:X1(Z,J,O,q,Q,null)}return;case"dialog":E0("beforetoggle",Z),E0("toggle",Z),E0("cancel",Z),E0("close",Z);break;case"iframe":case"object":E0("load",Z);break;case"video":case"audio":for(q=0;q<hq.length;q++)E0(hq[q],Z);break;case"image":E0("error",Z),E0("load",Z);break;case"details":E0("toggle",Z);break;case"embed":case"source":case"link":E0("error",Z),E0("load",Z);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in Q)if(Q.hasOwnProperty(U)&&(q=Q[U],q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,J));default:X1(Z,J,U,q,Q,null)}return;default:if(oA(J)){for(A in Q)Q.hasOwnProperty(A)&&(q=Q[A],q!==void 0&&vA(Z,J,A,q,Q,void 0));return}}for(Y in Q)Q.hasOwnProperty(Y)&&(q=Q[Y],q!=null&&X1(Z,J,Y,q,Q,null))}function Nl(Z,J,Q,q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,X=null,z=null,Y=null,O=null,U=null,A=null;for(W in Q){var D=Q[W];if(Q.hasOwnProperty(W)&&D!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=D;default:q.hasOwnProperty(W)||X1(Z,J,W,null,q,D)}}for(var _ in q){var W=q[_];if(D=Q[_],q.hasOwnProperty(_)&&(W!=null||D!=null))switch(_){case"type":X=W;break;case"name":K=W;break;case"checked":U=W;break;case"defaultChecked":A=W;break;case"value":z=W;break;case"defaultValue":Y=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,J));break;default:W!==D&&X1(Z,J,_,W,q,D)}}qA(Z,z,Y,O,U,A,X,K);return;case"select":W=z=Y=_=null;for(X in Q)if(O=Q[X],Q.hasOwnProperty(X)&&O!=null)switch(X){case"value":break;case"multiple":W=O;default:q.hasOwnProperty(X)||X1(Z,J,X,null,q,O)}for(K in q)if(X=q[K],O=Q[K],q.hasOwnProperty(K)&&(X!=null||O!=null))switch(K){case"value":_=X;break;case"defaultValue":Y=X;break;case"multiple":z=X;default:X!==O&&X1(Z,J,K,X,q,O)}J=Y,Q=z,q=W,_!=null?a2(Z,!!Q,_,!1):!!q!==!!Q&&(J!=null?a2(Z,!!Q,J,!0):a2(Z,!!Q,Q?[]:"",!1));return;case"textarea":W=_=null;for(Y in Q)if(K=Q[Y],Q.hasOwnProperty(Y)&&K!=null&&!q.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:X1(Z,J,Y,null,q,K)}for(z in q)if(K=q[z],X=Q[z],q.hasOwnProperty(z)&&(K!=null||X!=null))switch(z){case"value":_=K;break;case"defaultValue":W=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(91));break;default:K!==X&&X1(Z,J,z,K,q,X)}RC(Z,_,W);return;case"option":for(var j in Q)if(_=Q[j],Q.hasOwnProperty(j)&&_!=null&&!q.hasOwnProperty(j))switch(j){case"selected":Z.selected=!1;break;default:X1(Z,J,j,null,q,_)}for(O in q)if(_=q[O],W=Q[O],q.hasOwnProperty(O)&&_!==W&&(_!=null||W!=null))switch(O){case"selected":Z.selected=_&&typeof _!=="function"&&typeof _!=="symbol";break;default:X1(Z,J,O,_,q,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in Q)_=Q[C],Q.hasOwnProperty(C)&&_!=null&&!q.hasOwnProperty(C)&&X1(Z,J,C,null,q,_);for(U in q)if(_=q[U],W=Q[U],q.hasOwnProperty(U)&&_!==W&&(_!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(137,J));break;default:X1(Z,J,U,_,q,W)}return;default:if(oA(J)){for(var R in Q)_=Q[R],Q.hasOwnProperty(R)&&_!==void 0&&!q.hasOwnProperty(R)&&vA(Z,J,R,void 0,q,_);for(A in q)_=q[A],W=Q[A],!q.hasOwnProperty(A)||_===W||_===void 0&&W===void 0||vA(Z,J,A,_,q,W);return}}for(var G in Q)_=Q[G],Q.hasOwnProperty(G)&&_!=null&&!q.hasOwnProperty(G)&&X1(Z,J,G,null,q,_);for(D in q)_=q[D],W=Q[D],!q.hasOwnProperty(D)||_===W||_==null&&W==null||X1(Z,J,D,_,q,W)}function cw(Z){switch(Z){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zl(){if(typeof performance.getEntriesByType==="function"){for(var Z=0,J=0,Q=performance.getEntriesByType("resource"),q=0;q<Q.length;q++){var K=Q[q],X=K.transferSize,z=K.initiatorType,Y=K.duration;if(X&&Y&&cw(z)){z=0,Y=K.responseEnd;for(q+=1;q<Q.length;q++){var O=Q[q],U=O.startTime;if(U>Y)break;var{transferSize:A,initiatorType:D}=O;A&&cw(D)&&(O=O.responseEnd,z+=A*(O<Y?1:(Y-U)/(O-U)))}if(--q,J+=8*(X+z)/(K.duration/1000),Z++,10<Z)break}}if(0<Z)return J/Z/1e6}return navigator.connection&&(Z=navigator.connection.downlink,typeof Z==="number")?Z:5}function _z(Z){return Z.nodeType===9?Z:Z.ownerDocument}function uw(Z){switch(Z){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kR(Z,J){if(Z===0)switch(J){case"svg":return 1;case"math":return 2;default:return 0}return Z===1&&J==="foreignObject"?0:Z}function hA(Z,J){return Z==="textarea"||Z==="noscript"||typeof J.children==="string"||typeof J.children==="number"||typeof J.children==="bigint"||typeof J.dangerouslySetInnerHTML==="object"&&J.dangerouslySetInnerHTML!==null&&J.dangerouslySetInnerHTML.__html!=null}function Hl(){var Z=window.event;if(Z&&Z.type==="popstate"){if(Z===p$)return!1;return p$=Z,!0}return p$=null,!1}function Ol(Z){setTimeout(function(){throw Z})}function H9(Z){return Z==="head"}function pw(Z,J){var Q=J,q=0;do{var K=Q.nextSibling;if(Z.removeChild(Q),K&&K.nodeType===8)if(Q=K.data,Q==="/$"||Q==="/&"){if(q===0){Z.removeChild(K),YJ(J);return}q--}else if(Q==="$"||Q==="$?"||Q==="$~"||Q==="$!"||Q==="&")q++;else if(Q==="html")Eq(Z.ownerDocument.documentElement);else if(Q==="head"){Q=Z.ownerDocument.head,Eq(Q);for(var X=Q.firstChild;X;){var{nextSibling:z,nodeName:Y}=X;X[iq]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&X.rel.toLowerCase()==="stylesheet"||Q.removeChild(X),X=z}}else Q==="body"&&Eq(Z.ownerDocument.body);Q=K}while(Q);YJ(J)}function iw(Z,J){var Q=Z;Z=0;do{var q=Q.nextSibling;if(Q.nodeType===1?J?(Q._stashedDisplay=Q.style.display,Q.style.display="none"):(Q.style.display=Q._stashedDisplay||"",Q.getAttribute("style")===""&&Q.removeAttribute("style")):Q.nodeType===3&&(J?(Q._stashedText=Q.nodeValue,Q.nodeValue=""):Q.nodeValue=Q._stashedText||""),q&&q.nodeType===8)if(Q=q.data,Q==="/$")if(Z===0)break;else Z--;else Q!=="$"&&Q!=="$?"&&Q!=="$~"&&Q!=="$!"||Z++;Q=q}while(Q)}function xA(Z){var J=Z.firstChild;J&&J.nodeType===10&&(J=J.nextSibling);for(;J;){var Q=J;switch(J=J.nextSibling,Q.nodeName){case"HTML":case"HEAD":case"BODY":xA(Q),nA(Q);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Q.rel.toLowerCase()==="stylesheet")continue}Z.removeChild(Q)}}function Ul(Z,J,Q,q){for(;Z.nodeType===1;){var K=Q;if(Z.nodeName.toLowerCase()!==J.toLowerCase()){if(!q&&(Z.nodeName!=="INPUT"||Z.type!=="hidden"))break}else if(!q)if(J==="input"&&Z.type==="hidden"){var X=K.name==null?null:""+K.name;if(K.type==="hidden"&&Z.getAttribute("name")===X)return Z}else return Z;else if(!Z[iq])switch(J){case"meta":if(!Z.hasAttribute("itemprop"))break;return Z;case"link":if(X=Z.getAttribute("rel"),X==="stylesheet"&&Z.hasAttribute("data-precedence"))break;else if(X!==K.rel||Z.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||Z.getAttribute("title")!==(K.title==null?null:K.title))break;return Z;case"style":if(Z.hasAttribute("data-precedence"))break;return Z;case"script":if(X=Z.getAttribute("src"),(X!==(K.src==null?null:K.src)||Z.getAttribute("type")!==(K.type==null?null:K.type)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&X&&Z.hasAttribute("async")&&!Z.hasAttribute("itemprop"))break;return Z;default:return Z}if(Z=O6(Z.nextSibling),Z===null)break}return null}function $l(Z,J,Q){if(J==="")return null;for(;Z.nodeType!==3;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!Q)return null;if(Z=O6(Z.nextSibling),Z===null)return null}return Z}function vR(Z,J){for(;Z.nodeType!==8;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!J)return null;if(Z=O6(Z.nextSibling),Z===null)return null}return Z}function gA(Z){return Z.data==="$?"||Z.data==="$~"}function mA(Z){return Z.data==="$!"||Z.data==="$?"&&Z.ownerDocument.readyState!=="loading"}function Al(Z,J){var Q=Z.ownerDocument;if(Z.data==="$~")Z._reactRetry=J;else if(Z.data!=="$?"||Q.readyState!=="loading")J();else{var q=function(){J(),Q.removeEventListener("DOMContentLoaded",q)};Q.addEventListener("DOMContentLoaded",q),Z._reactRetry=q}}function O6(Z){for(;Z!=null;Z=Z.nextSibling){var J=Z.nodeType;if(J===1||J===3)break;if(J===8){if(J=Z.data,J==="$"||J==="$!"||J==="$?"||J==="$~"||J==="&"||J==="F!"||J==="F")break;if(J==="/$"||J==="/&")return null}}return Z}function aw(Z){Z=Z.nextSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="/$"||Q==="/&"){if(J===0)return O6(Z.nextSibling);J--}else Q!=="$"&&Q!=="$!"&&Q!=="$?"&&Q!=="$~"&&Q!=="&"||J++}Z=Z.nextSibling}return null}function sw(Z){Z=Z.previousSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="$"||Q==="$!"||Q==="$?"||Q==="$~"||Q==="&"){if(J===0)return Z;J--}else Q!=="/$"&&Q!=="/&"||J++}Z=Z.previousSibling}return null}function fR(Z,J,Q){switch(J=_z(Q),Z){case"html":if(Z=J.documentElement,!Z)throw Error(l(452));return Z;case"head":if(Z=J.head,!Z)throw Error(l(453));return Z;case"body":if(Z=J.body,!Z)throw Error(l(454));return Z;default:throw Error(l(451))}}function Eq(Z){for(var J=Z.attributes;J.length;)Z.removeAttributeNode(J[0]);nA(Z)}function Mz(Z){return typeof Z.getRootNode==="function"?Z.getRootNode():Z.nodeType===9?Z:Z.ownerDocument}function Dl(){var Z=o4.f(),J=fz();return Z||J}function Bl(Z){var J=OJ(Z);J!==null&&J.tag===5&&J.type==="form"?IL(J):o4.r(Z)}function yR(Z,J,Q){var q=DJ;if(q&&typeof J==="string"&&J){var K=z6(J);K='link[rel="'+Z+'"][href="'+K+'"]',typeof Q==="string"&&(K+='[crossorigin="'+Q+'"]'),nw.has(K)||(nw.add(K),Z={rel:Z,crossOrigin:Q,href:J},q.querySelector(K)===null&&(J=q.createElement("link"),G5(J,"link",Z),X5(J),q.head.appendChild(J)))}}function _l(Z){o4.D(Z),yR("dns-prefetch",Z,null)}function Ml(Z,J){o4.C(Z,J),yR("preconnect",Z,J)}function Wl(Z,J,Q){o4.L(Z,J,Q);var q=DJ;if(q&&Z&&J){var K='link[rel="preload"][as="'+z6(J)+'"]';J==="image"?Q&&Q.imageSrcSet?(K+='[imagesrcset="'+z6(Q.imageSrcSet)+'"]',typeof Q.imageSizes==="string"&&(K+='[imagesizes="'+z6(Q.imageSizes)+'"]')):K+='[href="'+z6(Z)+'"]':K+='[href="'+z6(Z)+'"]';var X=K;switch(J){case"style":X=HJ(Z);break;case"script":X=BJ(Z)}U6.has(X)||(Z=_1({rel:"preload",href:J==="image"&&Q&&Q.imageSrcSet?void 0:Z,as:J},Q),U6.set(X,Z),q.querySelector(K)!==null||J==="style"&&q.querySelector(rq(X))||J==="script"&&q.querySelector(eq(X))||(J=q.createElement("link"),G5(J,"link",Z),X5(J),q.head.appendChild(J)))}}function Gl(Z,J){o4.m(Z,J);var Q=DJ;if(Q&&Z){var q=J&&typeof J.as==="string"?J.as:"script",K='link[rel="modulepreload"][as="'+z6(q)+'"][href="'+z6(Z)+'"]',X=K;switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=BJ(Z)}if(!U6.has(X)&&(Z=_1({rel:"modulepreload",href:Z},J),U6.set(X,Z),Q.querySelector(K)===null)){switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Q.querySelector(eq(X)))return}q=Q.createElement("link"),G5(q,"link",Z),X5(q),Q.head.appendChild(q)}}}function Fl(Z,J,Q){o4.S(Z,J,Q);var q=DJ;if(q&&Z){var K=i2(q).hoistableStyles,X=HJ(Z);J=J||"default";var z=K.get(X);if(!z){var Y={loading:0,preload:null};if(z=q.querySelector(rq(X)))Y.loading=5;else{Z=_1({rel:"stylesheet",href:Z,"data-precedence":J},Q),(Q=U6.get(X))&&v3(Z,Q);var O=z=q.createElement("link");X5(O),G5(O,"link",Z),O._p=new Promise(function(U,A){O.onload=U,O.onerror=A}),O.addEventListener("load",function(){Y.loading|=1}),O.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,lN(z,J,q)}z={type:"stylesheet",instance:z,count:1,state:Y},K.set(X,z)}}}function jl(Z,J){o4.X(Z,J);var Q=DJ;if(Q&&Z){var q=i2(Q).hoistableScripts,K=BJ(Z),X=q.get(K);X||(X=Q.querySelector(eq(K)),X||(Z=_1({src:Z,async:!0},J),(J=U6.get(K))&&f3(Z,J),X=Q.createElement("script"),X5(X),G5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function wl(Z,J){o4.M(Z,J);var Q=DJ;if(Q&&Z){var q=i2(Q).hoistableScripts,K=BJ(Z),X=q.get(K);X||(X=Q.querySelector(eq(K)),X||(Z=_1({src:Z,async:!0,type:"module"},J),(J=U6.get(K))&&f3(Z,J),X=Q.createElement("script"),X5(X),G5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function ow(Z,J,Q,q){var K=(K=s7.current)?Mz(K):null;if(!K)throw Error(l(446));switch(Z){case"meta":case"title":return null;case"style":return typeof Q.precedence==="string"&&typeof Q.href==="string"?(J=HJ(Q.href),Q=i2(K).hoistableStyles,q=Q.get(J),q||(q={type:"style",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};case"link":if(Q.rel==="stylesheet"&&typeof Q.href==="string"&&typeof Q.precedence==="string"){Z=HJ(Q.href);var X=i2(K).hoistableStyles,z=X.get(Z);if(z||(K=K.ownerDocument||K,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(Z,z),(X=K.querySelector(rq(Z)))&&!X._p&&(z.instance=X,z.state.loading=5),U6.has(Z)||(Q={rel:"preload",as:"style",href:Q.href,crossOrigin:Q.crossOrigin,integrity:Q.integrity,media:Q.media,hrefLang:Q.hrefLang,referrerPolicy:Q.referrerPolicy},U6.set(Z,Q),X||Cl(K,Z,Q,z.state))),J&&q===null)throw Error(l(528,""));return z}if(J&&q!==null)throw Error(l(529,""));return null;case"script":return J=Q.async,Q=Q.src,typeof Q==="string"&&J&&typeof J!=="function"&&typeof J!=="symbol"?(J=BJ(Q),Q=i2(K).hoistableScripts,q=Q.get(J),q||(q={type:"script",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,Z))}}function HJ(Z){return'href="'+z6(Z)+'"'}function rq(Z){return'link[rel="stylesheet"]['+Z+"]"}function hR(Z){return _1({},Z,{"data-precedence":Z.precedence,precedence:null})}function Cl(Z,J,Q,q){Z.querySelector('link[rel="preload"][as="style"]['+J+"]")?q.loading=1:(J=Z.createElement("link"),q.preload=J,J.addEventListener("load",function(){return q.loading|=1}),J.addEventListener("error",function(){return q.loading|=2}),G5(J,"link",Q),X5(J),Z.head.appendChild(J))}function BJ(Z){return'[src="'+z6(Z)+'"]'}function eq(Z){return"script[async]"+Z}function tw(Z,J,Q){if(J.count++,J.instance===null)switch(J.type){case"style":var q=Z.querySelector('style[data-href~="'+z6(Q.href)+'"]');if(q)return J.instance=q,X5(q),q;var K=_1({},Q,{"data-href":Q.href,"data-precedence":Q.precedence,href:null,precedence:null});return q=(Z.ownerDocument||Z).createElement("style"),X5(q),G5(q,"style",K),lN(q,Q.precedence,Z),J.instance=q;case"stylesheet":K=HJ(Q.href);var X=Z.querySelector(rq(K));if(X)return J.state.loading|=4,J.instance=X,X5(X),X;q=hR(Q),(K=U6.get(K))&&v3(q,K),X=(Z.ownerDocument||Z).createElement("link"),X5(X);var z=X;return z._p=new Promise(function(Y,O){z.onload=Y,z.onerror=O}),G5(X,"link",q),J.state.loading|=4,lN(X,Q.precedence,Z),J.instance=X;case"script":if(X=BJ(Q.src),K=Z.querySelector(eq(X)))return J.instance=K,X5(K),K;if(q=Q,K=U6.get(X))q=_1({},Q),f3(q,K);return Z=Z.ownerDocument||Z,K=Z.createElement("script"),X5(K),G5(K,"link",q),Z.head.appendChild(K),J.instance=K;case"void":return null;default:throw Error(l(443,J.type))}else J.type==="stylesheet"&&(J.state.loading&4)===0&&(q=J.instance,J.state.loading|=4,lN(q,Q.precedence,Z));return J.instance}function lN(Z,J,Q){for(var q=Q.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=q.length?q[q.length-1]:null,X=K,z=0;z<q.length;z++){var Y=q[z];if(Y.dataset.precedence===J)X=Y;else if(X!==K)break}X?X.parentNode.insertBefore(Z,X.nextSibling):(J=Q.nodeType===9?Q.head:Q,J.insertBefore(Z,J.firstChild))}function v3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.title==null&&(Z.title=J.title)}function f3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.integrity==null&&(Z.integrity=J.integrity)}function rw(Z,J,Q){if(pN===null){var q=new Map,K=pN=new Map;K.set(Q,q)}else K=pN,q=K.get(Q),q||(q=new Map,K.set(Q,q));if(q.has(Z))return q;q.set(Z,null),Q=Q.getElementsByTagName(Z);for(K=0;K<Q.length;K++){var X=Q[K];if(!(X[iq]||X[_5]||Z==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var z=X.getAttribute(J)||"";z=Z+z;var Y=q.get(z);Y?Y.push(X):q.set(z,[X])}}return q}function ew(Z,J,Q){Z=Z.ownerDocument||Z,Z.head.insertBefore(Q,J==="title"?Z.querySelector("head > title"):null)}function Ll(Z,J,Q){if(Q===1||J.itemProp!=null)return!1;switch(Z){case"meta":case"title":return!0;case"style":if(typeof J.precedence!=="string"||typeof J.href!=="string"||J.href==="")break;return!0;case"link":if(typeof J.rel!=="string"||typeof J.href!=="string"||J.href===""||J.onLoad||J.onError)break;switch(J.rel){case"stylesheet":return Z=J.disabled,typeof J.precedence==="string"&&Z==null;default:return!0}case"script":if(J.async&&typeof J.async!=="function"&&typeof J.async!=="symbol"&&!J.onLoad&&!J.onError&&J.src&&typeof J.src==="string")return!0}return!1}function xR(Z){return Z.type==="stylesheet"&&(Z.state.loading&3)===0?!1:!0}function Rl(Z,J,Q,q){if(Q.type==="stylesheet"&&(typeof q.media!=="string"||matchMedia(q.media).matches!==!1)&&(Q.state.loading&4)===0){if(Q.instance===null){var K=HJ(q.href),X=J.querySelector(rq(K));if(X){J=X._p,J!==null&&typeof J==="object"&&typeof J.then==="function"&&(Z.count++,Z=Wz.bind(Z),J.then(Z,Z)),Q.state.loading|=4,Q.instance=X,X5(X);return}X=J.ownerDocument||J,q=hR(q),(K=U6.get(K))&&v3(q,K),X=X.createElement("link"),X5(X);var z=X;z._p=new Promise(function(Y,O){z.onload=Y,z.onerror=O}),G5(X,"link",q),Q.instance=X}Z.stylesheets===null&&(Z.stylesheets=new Map),Z.stylesheets.set(Q,J),(J=Q.state.preload)&&(Q.state.loading&3)===0&&(Z.count++,Q=Wz.bind(Z),J.addEventListener("load",Q),J.addEventListener("error",Q))}}function El(Z,J){return Z.stylesheets&&Z.count===0&&iN(Z,Z.stylesheets),0<Z.count||0<Z.imgCount?function(Q){var q=setTimeout(function(){if(Z.stylesheets&&iN(Z,Z.stylesheets),Z.unsuspend){var X=Z.unsuspend;Z.unsuspend=null,X()}},60000+J);0<Z.imgBytes&&i$===0&&(i$=62500*zl());var K=setTimeout(function(){if(Z.waitingForImages=!1,Z.count===0&&(Z.stylesheets&&iN(Z,Z.stylesheets),Z.unsuspend)){var X=Z.unsuspend;Z.unsuspend=null,X()}},(Z.imgBytes>i$?50:800)+J);return Z.unsuspend=Q,function(){Z.unsuspend=null,clearTimeout(q),clearTimeout(K)}}:null}function Wz(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)iN(this,this.stylesheets);else if(this.unsuspend){var Z=this.unsuspend;this.unsuspend=null,Z()}}}function iN(Z,J){Z.stylesheets=null,Z.unsuspend!==null&&(Z.count++,Gz=new Map,J.forEach(Il,Z),Gz=null,Wz.call(Z))}function Il(Z,J){if(!(J.state.loading&4)){var Q=Gz.get(Z);if(Q)var q=Q.get(null);else{Q=new Map,Gz.set(Z,Q);for(var K=Z.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<K.length;X++){var z=K[X];if(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")Q.set(z.dataset.precedence,z),q=z}q&&Q.set(null,q)}K=J.instance,z=K.getAttribute("data-precedence"),X=Q.get(z)||q,X===q&&Q.set(null,K),Q.set(z,K),this.count++,q=Wz.bind(this),K.addEventListener("load",q),K.addEventListener("error",q),X?X.parentNode.insertBefore(K,X.nextSibling):(Z=Z.nodeType===9?Z.head:Z,Z.insertBefore(K,Z.firstChild)),J.state.loading|=4}}function Tl(Z,J,Q,q,K,X,z,Y,O){this.tag=1,this.containerInfo=Z,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=W$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W$(0),this.hiddenUpdates=W$(null),this.identifierPrefix=q,this.onUncaughtError=K,this.onCaughtError=X,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function gR(Z,J,Q,q,K,X,z,Y,O,U,A,D){return Z=new Tl(Z,J,Q,z,O,U,A,D,Y),J=1,X===!0&&(J|=24),X=P8(3,null,null,J),Z.current=X,X.stateNode=Z,J=z3(),J.refCount++,Z.pooledCache=J,J.refCount++,X.memoizedState={element:q,isDehydrated:Q,cache:J},V3(X),Z}function mR(Z){if(!Z)return c2;return Z=c2,Z}function dR(Z,J,Q,q,K,X){K=mR(K),q.context===null?q.context=K:q.pendingContext=K,q=o7(J),q.payload={element:Q},X=X===void 0?null:X,X!==null&&(q.callback=X),Q=t7(Z,q,J),Q!==null&&(z8(Q,Z,J),Wq(Q,Z,J))}function ZC(Z,J){if(Z=Z.memoizedState,Z!==null&&Z.dehydrated!==null){var Q=Z.retryLane;Z.retryLane=Q!==0&&Q<J?Q:J}}function y3(Z,J){ZC(Z,J),(Z=Z.alternate)&&ZC(Z,J)}function cR(Z){if(Z.tag===13||Z.tag===31){var J=_Z(Z,67108864);J!==null&&z8(J,Z,67108864),y3(Z,67108864)}}function JC(Z){if(Z.tag===13||Z.tag===31){var J=x8();J=aA(J);var Q=_Z(Z,J);Q!==null&&z8(Q,Z,J),y3(Z,J)}}function Sl(Z,J,Q,q){var K=V0.T;V0.T=null;var X=u0.p;try{u0.p=2,h3(Z,J,Q,q)}finally{u0.p=X,V0.T=K}}function bl(Z,J,Q,q){var K=V0.T;V0.T=null;var X=u0.p;try{u0.p=8,h3(Z,J,Q,q)}finally{u0.p=X,V0.T=K}}function h3(Z,J,Q,q){if(Fz){var K=cA(q);if(K===null)l$(Z,J,q,jz,Q),QC(Z,q);else if(Pl(K,Z,J,Q,q))q.stopPropagation();else if(QC(Z,q),J&4&&-1<kl.indexOf(Z)){for(;K!==null;){var X=OJ(K);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var z=ZZ(X.pendingLanes);if(z!==0){var Y=X;Y.pendingLanes|=2;for(Y.entangledLanes|=2;z;){var O=1<<31-h8(z);Y.entanglements[1]|=O,z&=~O}q4(X),(c0&6)===0&&(Oz=f8()+500,tq(0,!1))}}break;case 31:case 13:Y=_Z(X,2),Y!==null&&z8(Y,X,2),fz(),y3(X,2)}if(X=cA(q),X===null&&l$(Z,J,q,jz,Q),X===K)break;K=X}K!==null&&q.stopPropagation()}else l$(Z,J,q,null,Q)}}function cA(Z){return Z=tA(Z),x3(Z)}function x3(Z){if(jz=null,Z=y2(Z),Z!==null){var J=cq(Z);if(J===null)Z=null;else{var Q=J.tag;if(Q===13){if(Z=HC(J),Z!==null)return Z;Z=null}else if(Q===31){if(Z=YC(J),Z!==null)return Z;Z=null}else if(Q===3){if(J.stateNode.current.memoizedState.isDehydrated)return J.tag===3?J.stateNode.containerInfo:null;Z=null}else J!==Z&&(Z=null)}}return jz=Z,null}function uR(Z){switch(Z){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wc()){case $C:return 2;case AC:return 8;case tN:case Gc:return 32;case DC:return 268435456;default:return 32}default:return 32}}function QC(Z,J){switch(Z){case"focusin":case"focusout":Z9=null;break;case"dragenter":case"dragleave":J9=null;break;case"mouseover":case"mouseout":Q9=null;break;case"pointerover":case"pointerout":mq.delete(J.pointerId);break;case"gotpointercapture":case"lostpointercapture":dq.delete(J.pointerId)}}function Xq(Z,J,Q,q,K,X){if(Z===null||Z.nativeEvent!==X)return Z={blockedOn:J,domEventName:Q,eventSystemFlags:q,nativeEvent:X,targetContainers:[K]},J!==null&&(J=OJ(J),J!==null&&cR(J)),Z;return Z.eventSystemFlags|=q,J=Z.targetContainers,K!==null&&J.indexOf(K)===-1&&J.push(K),Z}function Pl(Z,J,Q,q,K){switch(J){case"focusin":return Z9=Xq(Z9,Z,J,Q,q,K),!0;case"dragenter":return J9=Xq(J9,Z,J,Q,q,K),!0;case"mouseover":return Q9=Xq(Q9,Z,J,Q,q,K),!0;case"pointerover":var X=K.pointerId;return mq.set(X,Xq(mq.get(X)||null,Z,J,Q,q,K)),!0;case"gotpointercapture":return X=K.pointerId,dq.set(X,Xq(dq.get(X)||null,Z,J,Q,q,K)),!0}return!1}function lR(Z){var J=y2(Z.target);if(J!==null){var Q=cq(J);if(Q!==null){if(J=Q.tag,J===13){if(J=HC(Q),J!==null){Z.blockedOn=J,dj(Z.priority,function(){JC(Q)});return}}else if(J===31){if(J=YC(Q),J!==null){Z.blockedOn=J,dj(Z.priority,function(){JC(Q)});return}}else if(J===3&&Q.stateNode.current.memoizedState.isDehydrated){Z.blockedOn=Q.tag===3?Q.stateNode.containerInfo:null;return}}}Z.blockedOn=null}function aN(Z){if(Z.blockedOn!==null)return!1;for(var J=Z.targetContainers;0<J.length;){var Q=cA(Z.nativeEvent);if(Q===null){Q=Z.nativeEvent;var q=new Q.constructor(Q.type,Q);XA=q,Q.target.dispatchEvent(q),XA=null}else return J=OJ(Q),J!==null&&cR(J),Z.blockedOn=Q,!1;J.shift()}return!0}function qC(Z,J,Q){aN(Z)&&Q.delete(J)}function vl(){uA=!1,Z9!==null&&aN(Z9)&&(Z9=null),J9!==null&&aN(J9)&&(J9=null),Q9!==null&&aN(Q9)&&(Q9=null),mq.forEach(qC),dq.forEach(qC)}function SN(Z,J){Z.blockedOn===J&&(Z.blockedOn=null,uA||(uA=!0,R2(L2,vl)))}function KC(Z){bN!==Z&&(bN=Z,R2(L2,function(){bN===Z&&(bN=null);for(var J=0;J<Z.length;J+=3){var Q=Z[J],q=Z[J+1],K=Z[J+2];if(typeof q!=="function")if(x3(q||Q)===null)continue;else break;var X=OJ(Q);X!==null&&(Z.splice(J,3),J-=3,FA(X,{pending:!0,data:K,method:Q.method,action:q},q,K))}}))}function YJ(Z){function J(O){return SN(O,Z)}Z9!==null&&SN(Z9,Z),J9!==null&&SN(J9,Z),Q9!==null&&SN(Q9,Z),mq.forEach(J),dq.forEach(J);for(var Q=0;Q<c7.length;Q++){var q=c7[Q];q.blockedOn===Z&&(q.blockedOn=null)}for(;0<c7.length&&(Q=c7[0],Q.blockedOn===null);)lR(Q),Q.blockedOn===null&&c7.shift();if(Q=(Z.ownerDocument||Z).$$reactFormReplay,Q!=null)for(q=0;q<Q.length;q+=3){var K=Q[q],X=Q[q+1],z=K[H8]||null;if(typeof X==="function")z||KC(Q);else if(z){var Y=null;if(X&&X.hasAttribute("formAction")){if(K=X,z=X[H8]||null)Y=z.formAction;else if(x3(K)!==null)continue}else Y=z.action;typeof Y==="function"?Q[q+1]=Y:(Q.splice(q,3),q-=3),KC(Q)}}}function pR(){function Z(X){X.canIntercept&&X.info==="react-transition"&&X.intercept({handler:function(){return new Promise(function(z){return K=z})},focusReset:"manual",scroll:"manual"})}function J(){K!==null&&(K(),K=null),q||setTimeout(Q,20)}function Q(){if(!q&&!navigation.transition){var X=navigation.currentEntry;X&&X.url!=null&&navigation.navigate(X.url,{state:X.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation==="object"){var q=!1,K=null;return navigation.addEventListener("navigate",Z),navigation.addEventListener("navigatesuccess",J),navigation.addEventListener("navigateerror",J),setTimeout(Q,100),function(){q=!0,navigation.removeEventListener("navigate",Z),navigation.removeEventListener("navigatesuccess",J),navigation.removeEventListener("navigateerror",J),K!==null&&(K(),K=null)}}}function g3(Z){this._internalRoot=Z}function xz(Z){this._internalRoot=Z}var NC,_1,$c,MN,Nq,v2,OC,a$,UC,g4,lA,s$,n$,pA,h7,o$,Ac,xj,Dc,zq,V0,u0,KZ,r$,f2=-1,J4,Iq,s7,sN,D$,gj,B$=!1,ZA,iA,M$,_c,Mc,f8,Wc,$C,AC,tN,Gc,DC,Fc,jc,uq=null,y8=null,h8,wc,Cc,WN=256,GN=262144,FN=4194304,z9,_5,H8,VJ,JA,Ic,Tc,cj,iq,FC,jC,Sc,uj,lj,Pc,vc,fc,yc,XA=null,h2=null,s2=null,G$=!1,p4,NA=!1,JZ,l7=null,rA=null,vN=null,DZ,Cz,aq,hc,F$,j$,Jq,Lz,sj,xc,gc,mc,w$,dc,cc,uc,lc,pc,nj,ic,ac,sc,oc,tc,rc,oj,ec,Zu,Ju,Qu,qu,Ku,Xu,Nu,zu,Z3,Dq=null,Hu,bC,tj,rj=!1,x2=!1,Ou,Bq=null,Sq=null,fC=!1,Yq,Vq,yN,g8,Mu,g2=null,zA=null,_q=null,HA=!1,m2,C$,gC,mC,dC,cC,Wu,Gu,Fu,uC,lC,YA,eN,q6,d2=0,Q3=0,c2,Xw,u2,l2=0,Jz=null,kq=0,X6,N6=0,q9=null,r6=1,e6="",M5=null,B1=null,k0=!1,n7=null,Y6=!1,VA,OA,MZ=null,d4=null,wu,Cu,Lu,l1,Mq=null,AA=0,QJ=0,n2=null,Yw,NZ,$J,Y3,Tz,qz,zZ=null,o2=null,vq=0,OZ,ZL,x7=!1,BA=!1,qJ,Kz,m8,V6=null,v1,i4=0,F0=null,N1=null,c1=null,Nz=!1,t2=!1,UZ=!1,zz=0,fq=0,r2=null,Iu=0,yq,vL,C3,fL,jA,L3,p1=!1,b$,x4=!1,u1=!1,g$=!1,kw,K5=null,F1=null,X8=!1,T6=null,Uq=8192,uu,lu,c0=0,z1=null,I0=null,S0=0,t0=0,b8=null,p7=!1,AJ=!1,T3=!1,n4=0,S1=0,N9=0,HZ=0,S3=0,v8=0,XJ=0,Lq=null,N8=null,EA=!1,vz=0,VR=0,Oz=1/0,Uz=null,r7=null,o1=0,e7=null,NJ=null,l4=0,IA=0,TA=null,OR=null,Rq=0,SA=null,Az=null,k2=null,bA=!1,Dz=!1,c$=!1,a7=0,Aq,kA,PA,$q,hq,Ql,TN,Kl,Xl,fA=null,yA=null,p$=null,PR,Yl,lw,Vl,dA=null,U6,nw,o4,DJ,pN=null,i$=0,Gz=null,gq,Fz=!0,jz=null,uA=!1,Z9=null,J9=null,Q9=null,mq,dq,c7,kl,bN=null,XC,fl,P2,iR=function(Z,J){if(!zC(Z))throw Error(l(299));var Q=!1,q="",K=yL,X=hL,z=xL;return J!==null&&J!==void 0&&(J.unstable_strictMode===!0&&(Q=!0),J.identifierPrefix!==void 0&&(q=J.identifierPrefix),J.onUncaughtError!==void 0&&(K=J.onUncaughtError),J.onCaughtError!==void 0&&(X=J.onCaughtError),J.onRecoverableError!==void 0&&(z=J.onRecoverableError)),J=gR(Z,1,!1,null,null,Q,q,null,K,X,z,pR),Z[VJ]=J.current,P3(Z),new g3(J)},aR=function(Z,J,Q){if(!zC(Z))throw Error(l(299));var q=!1,K="",X=yL,z=hL,Y=xL,O=null;return Q!==null&&Q!==void 0&&(Q.unstable_strictMode===!0&&(q=!0),Q.identifierPrefix!==void 0&&(K=Q.identifierPrefix),Q.onUncaughtError!==void 0&&(X=Q.onUncaughtError),Q.onCaughtError!==void 0&&(z=Q.onCaughtError),Q.onRecoverableError!==void 0&&(Y=Q.onRecoverableError),Q.formState!==void 0&&(O=Q.formState)),J=gR(Z,1,!0,J,Q!=null?Q:null,q,K,O,X,z,Y,pR),J.context=mR(null),Q=J.current,q=x8(),q=aA(q),K=o7(q),K.callback=null,t7(Q,K,q),Q=q,J.current.lanes=Q,pq(J,Q),q4(J),Z[VJ]=J.current,P3(Z),new xz(J)},sR="19.2.0";var nR=F(()=>{$j();x5();NC=iQ(yj(),1);_1=Object.assign,$c=Symbol.for("react.element"),MN=Symbol.for("react.transitional.element"),Nq=Symbol.for("react.portal"),v2=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),a$=Symbol.for("react.profiler"),UC=Symbol.for("react.consumer"),g4=Symbol.for("react.context"),lA=Symbol.for("react.forward_ref"),s$=Symbol.for("react.suspense"),n$=Symbol.for("react.suspense_list"),pA=Symbol.for("react.memo"),h7=Symbol.for("react.lazy"),o$=Symbol.for("react.activity"),Ac=Symbol.for("react.memo_cache_sentinel"),xj=Symbol.iterator;Dc=Symbol.for("react.client.reference");zq=Array.isArray,V0=t9,u0=NC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,KZ={pending:!1,data:null,method:null,action:null},r$=[];J4=Q4(null),Iq=Q4(null),s7=Q4(null),sN=Q4(null);ZA=Object.prototype.hasOwnProperty,iA=R2,M$=K$,_c=z$,Mc=N$,f8=o6,Wc=X$,$C=J$,AC=q$,tN=L2,Gc=Q$,DC=Z$,Fc=void 0,jc=void 0;h8=Math.clz32?Math.clz32:Lc,wc=Math.log,Cc=Math.LN2;z9=Math.random().toString(36).slice(2),_5="__reactFiber$"+z9,H8="__reactProps$"+z9,VJ="__reactContainer$"+z9,JA="__reactEvents$"+z9,Ic="__reactListeners$"+z9,Tc="__reactHandles$"+z9,cj="__reactResources$"+z9,iq="__reactMarker$"+z9;FC=new Set,jC={};Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uj={},lj={};Pc=/[\n"\\]/g;vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;p4=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u");if(p4)try{JZ={},Object.defineProperty(JZ,"passive",{get:function(){NA=!0}}),window.addEventListener("test",JZ,JZ),window.removeEventListener("test",JZ,JZ)}catch(Z){NA=!1}DZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Z){return Z.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cz=Y8(DZ),aq=_1({},DZ,{view:0,detail:0}),hc=Y8(aq),Lz=_1({},aq,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eA,button:0,buttons:0,relatedTarget:function(Z){return Z.relatedTarget===void 0?Z.fromElement===Z.srcElement?Z.toElement:Z.fromElement:Z.relatedTarget},movementX:function(Z){if("movementX"in Z)return Z.movementX;return Z!==Jq&&(Jq&&Z.type==="mousemove"?(F$=Z.screenX-Jq.screenX,j$=Z.screenY-Jq.screenY):j$=F$=0,Jq=Z),F$},movementY:function(Z){return"movementY"in Z?Z.movementY:j$}}),sj=Y8(Lz),xc=_1({},Lz,{dataTransfer:0}),gc=Y8(xc),mc=_1({},aq,{relatedTarget:0}),w$=Y8(mc),dc=_1({},DZ,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=Y8(dc),uc=_1({},DZ,{clipboardData:function(Z){return"clipboardData"in Z?Z.clipboardData:window.clipboardData}}),lc=Y8(uc),pc=_1({},DZ,{data:0}),nj=Y8(pc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};oc=_1({},aq,{key:function(Z){if(Z.key){var J=ic[Z.key]||Z.key;if(J!=="Unidentified")return J}return Z.type==="keypress"?(Z=fN(Z),Z===13?"Enter":String.fromCharCode(Z)):Z.type==="keydown"||Z.type==="keyup"?ac[Z.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eA,charCode:function(Z){return Z.type==="keypress"?fN(Z):0},keyCode:function(Z){return Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0},which:function(Z){return Z.type==="keypress"?fN(Z):Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0}}),tc=Y8(oc),rc=_1({},Lz,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oj=Y8(rc),ec=_1({},aq,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eA}),Zu=Y8(ec),Ju=_1({},DZ,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Y8(Ju),qu=_1({},Lz,{deltaX:function(Z){return"deltaX"in Z?Z.deltaX:("wheelDeltaX"in Z)?-Z.wheelDeltaX:0},deltaY:function(Z){return"deltaY"in Z?Z.deltaY:("wheelDeltaY"in Z)?-Z.wheelDeltaY:("wheelDelta"in Z)?-Z.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=Y8(qu),Xu=_1({},DZ,{newState:0,oldState:0}),Nu=Y8(Xu),zu=[9,13,27,32],Z3=p4&&"CompositionEvent"in window;p4&&"documentMode"in document&&(Dq=document.documentMode);Hu=p4&&"TextEvent"in window&&!Dq,bC=p4&&(!Z3||Dq&&8<Dq&&11>=Dq),tj=String.fromCharCode(32);Ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if(p4){if(p4){if(Vq="oninput"in document,!Vq)yN=document.createElement("div"),yN.setAttribute("oninput","return;"),Vq=typeof yN.oninput==="function";Yq=Vq}else Yq=!1;fC=Yq&&(!document.documentMode||9<document.documentMode)}g8=typeof Object.is==="function"?Object.is:_u;Mu=p4&&"documentMode"in document&&11>=document.documentMode;m2={animationend:r9("Animation","AnimationEnd"),animationiteration:r9("Animation","AnimationIteration"),animationstart:r9("Animation","AnimationStart"),transitionrun:r9("Transition","TransitionRun"),transitionstart:r9("Transition","TransitionStart"),transitioncancel:r9("Transition","TransitionCancel"),transitionend:r9("Transition","TransitionEnd")},C$={},gC={};p4&&(gC=document.createElement("div").style,("AnimationEvent"in window)||(delete m2.animationend.animation,delete m2.animationiteration.animation,delete m2.animationstart.animation),("TransitionEvent"in window)||delete m2.transitionend.transition);mC=BZ("animationend"),dC=BZ("animationiteration"),cC=BZ("animationstart"),Wu=BZ("transitionrun"),Gu=BZ("transitionstart"),Fu=BZ("transitioncancel"),uC=BZ("transitionend"),lC=new Map,YA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");YA.push("scrollEnd");eN=typeof reportError==="function"?reportError:function(Z){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z==="object"&&Z!==null&&typeof Z.message==="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(J))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Z);return}console.error(Z)},q6=[];c2={};Xw=new WeakMap;u2=[],X6=[];VA=Error(l(519));OA=Q4(null);wu=typeof AbortController<"u"?AbortController:function(){var Z=[],J=this.signal={aborted:!1,addEventListener:function(Q,q){Z.push(q)}};this.abort=function(){J.aborted=!0,Z.forEach(function(Q){return Q()})}},Cu=R2,Lu=L2,l1={$$typeof:g4,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};Yw=V0.S;V0.S=function(Z,J){VR=f8(),typeof J==="object"&&J!==null&&typeof J.then==="function"&&Ru(Z,J),Yw!==null&&Yw(Z,J)};NZ=Q4(null);$J=Error(l(460)),Y3=Error(l(474)),Tz=Error(l(542)),qz={then:function(){}};OZ=eC(!0),ZL=eC(!1);qJ=Q4(null),Kz=Q4(0);m8=Q4(null);v1=Q4(0);yq={readContext:W5,use:bz,useCallback:T1,useContext:T1,useEffect:T1,useImperativeHandle:T1,useLayoutEffect:T1,useInsertionEffect:T1,useMemo:T1,useReducer:T1,useRef:T1,useState:T1,useDebugValue:T1,useDeferredValue:T1,useTransition:T1,useSyncExternalStore:T1,useId:T1,useHostTransitionStatus:T1,useFormState:T1,useActionState:T1,useOptimistic:T1,useMemoCache:T1,useCacheRefresh:T1};yq.useEffectEvent=T1;vL={readContext:W5,use:bz,useCallback:function(Z,J){return m5().memoizedState=[Z,J===void 0?null:J],Z},useContext:W5,useEffect:Ww,useImperativeHandle:function(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,mN(4194308,4,FL.bind(null,J,Z),Q)},useLayoutEffect:function(Z,J){return mN(4194308,4,Z,J)},useInsertionEffect:function(Z,J){mN(4,2,Z,J)},useMemo:function(Z,J){var Q=m5();J=J===void 0?null:J;var q=Z();if(UZ){u7(!0);try{Z()}finally{u7(!1)}}return Q.memoizedState=[q,J],q},useReducer:function(Z,J,Q){var q=m5();if(Q!==void 0){var K=Q(J);if(UZ){u7(!0);try{Q(J)}finally{u7(!1)}}}else K=J;return q.memoizedState=q.baseState=K,Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z,lastRenderedState:K},q.queue=Z,Z=Z.dispatch=fu.bind(null,F0,Z),[q.memoizedState,Z]},useRef:function(Z){var J=m5();return Z={current:Z},J.memoizedState=Z},useState:function(Z){Z=WA(Z);var J=Z.queue,Q=bL.bind(null,F0,J);return J.dispatch=Q,[Z.memoizedState,Q]},useDebugValue:G3,useDeferredValue:function(Z,J){var Q=m5();return F3(Q,Z,J)},useTransition:function(){var Z=WA(!1);return Z=RL.bind(null,F0,Z.queue,!0,!1),m5().memoizedState=Z,[!1,Z]},useSyncExternalStore:function(Z,J,Q){var q=F0,K=m5();if(k0){if(Q===void 0)throw Error(l(407));Q=Q()}else{if(Q=J(),z1===null)throw Error(l(349));(S0&127)!==0||zL(q,J,Q)}K.memoizedState=Q;var X={value:Q,getSnapshot:J};return K.queue=X,Ww(YL.bind(null,q,X,Z),[Z]),q.flags|=2048,KJ(9,{destroy:void 0},HL.bind(null,q,X,Q,J),null),Q},useId:function(){var Z=m5(),J=z1.identifierPrefix;if(k0){var Q=e6,q=r6;Q=(q&~(1<<32-h8(q)-1)).toString(32)+Q,J="_"+J+"R_"+Q,Q=zz++,0<Q&&(J+="H"+Q.toString(32)),J+="_"}else Q=Iu++,J="_"+J+"r_"+Q.toString(32)+"_";return Z.memoizedState=J},useHostTransitionStatus:j3,useFormState:Bw,useActionState:Bw,useOptimistic:function(Z){var J=m5();J.memoizedState=J.baseState=Z;var Q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return J.queue=Q,J=w3.bind(null,F0,!0,Q),Q.dispatch=J,[Z,J]},useMemoCache:_3,useCacheRefresh:function(){return m5().memoizedState=vu.bind(null,F0)},useEffectEvent:function(Z){var J=m5(),Q={impl:Z};return J.memoizedState=Q,function(){if((c0&2)!==0)throw Error(l(440));return Q.impl.apply(void 0,arguments)}}},C3={readContext:W5,use:bz,useCallback:wL,useContext:W5,useEffect:W3,useImperativeHandle:jL,useInsertionEffect:WL,useLayoutEffect:GL,useMemo:CL,useReducer:gN,useRef:_L,useState:function(){return gN(a4)},useDebugValue:G3,useDeferredValue:function(Z,J){var Q=f1();return LL(Q,N1.memoizedState,Z,J)},useTransition:function(){var Z=gN(a4)[0],J=f1().memoizedState;return[typeof Z==="boolean"?Z:nq(Z),J]},useSyncExternalStore:NL,useId:TL,useHostTransitionStatus:j3,useFormState:_w,useActionState:_w,useOptimistic:function(Z,J){var Q=f1();return UL(Q,N1,Z,J)},useMemoCache:_3,useCacheRefresh:SL};C3.useEffectEvent=ML;fL={readContext:W5,use:bz,useCallback:wL,useContext:W5,useEffect:W3,useImperativeHandle:jL,useInsertionEffect:WL,useLayoutEffect:GL,useMemo:CL,useReducer:T$,useRef:_L,useState:function(){return T$(a4)},useDebugValue:G3,useDeferredValue:function(Z,J){var Q=f1();return N1===null?F3(Q,Z,J):LL(Q,N1.memoizedState,Z,J)},useTransition:function(){var Z=T$(a4)[0],J=f1().memoizedState;return[typeof Z==="boolean"?Z:nq(Z),J]},useSyncExternalStore:NL,useId:TL,useHostTransitionStatus:j3,useFormState:Mw,useActionState:Mw,useOptimistic:function(Z,J){var Q=f1();if(N1!==null)return UL(Q,N1,Z,J);return Q.baseState=Z,[Z,Q.queue.dispatch]},useMemoCache:_3,useCacheRefresh:SL};fL.useEffectEvent=ML;jA={enqueueSetState:function(Z,J,Q){Z=Z._reactInternals;var q=x8(),K=o7(q);K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=t7(Z,K,q),J!==null&&(z8(J,Z,q),Wq(J,Z,q))},enqueueReplaceState:function(Z,J,Q){Z=Z._reactInternals;var q=x8(),K=o7(q);K.tag=1,K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=t7(Z,K,q),J!==null&&(z8(J,Z,q),Wq(J,Z,q))},enqueueForceUpdate:function(Z,J){Z=Z._reactInternals;var Q=x8(),q=o7(Q);q.tag=2,J!==void 0&&J!==null&&(q.callback=J),J=t7(Z,q,Q),J!==null&&(z8(J,Z,Q),Wq(J,Z,Q))}};L3=Error(l(461));b$={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};kw=typeof WeakSet==="function"?WeakSet:Set;uu={getCacheForType:function(Z){var J=W5(l1),Q=J.data.get(Z);return Q===void 0&&(Q=Z(),J.data.set(Z,Q)),Q},cacheSignal:function(){return W5(l1).controller.signal}},lu=typeof WeakMap==="function"?WeakMap:Map;for($q=0;$q<YA.length;$q++)Aq=YA[$q],kA=Aq.toLowerCase(),PA=Aq[0].toUpperCase()+Aq.slice(1),S6(kA,"on"+PA);S6(mC,"onAnimationEnd");S6(dC,"onAnimationIteration");S6(cC,"onAnimationStart");S6("dblclick","onDoubleClick");S6("focusin","onFocus");S6("focusout","onBlur");S6(Wu,"onTransitionRun");S6(Gu,"onTransitionStart");S6(Fu,"onTransitionCancel");S6(uC,"onTransitionEnd");ZJ("onMouseEnter",["mouseout","mouseover"]);ZJ("onMouseLeave",["mouseout","mouseover"]);ZJ("onPointerEnter",["pointerout","pointerover"]);ZJ("onPointerLeave",["pointerout","pointerover"]);AZ("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));AZ("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));AZ("onBeforeInput",["compositionend","keypress","textInput","paste"]);AZ("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));AZ("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));AZ("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));hq="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ql=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hq));TN="_reactListening"+Math.random().toString(36).slice(2);Kl=/\r\n?/g,Xl=/\u0000|\uFFFD/g;PR=typeof setTimeout==="function"?setTimeout:void 0,Yl=typeof clearTimeout==="function"?clearTimeout:void 0,lw=typeof Promise==="function"?Promise:void 0,Vl=typeof queueMicrotask==="function"?queueMicrotask:typeof lw<"u"?function(Z){return lw.resolve(null).then(Z).catch(Ol)}:PR;U6=new Map,nw=new Set;o4=u0.d;u0.d={f:Dl,r:Bl,D:_l,C:Ml,L:Wl,m:Gl,X:jl,S:Fl,M:wl};DJ=typeof document>"u"?null:document;gq={$$typeof:g4,Provider:null,Consumer:null,_currentValue:KZ,_currentValue2:KZ,_threadCount:0};mq=new Map,dq=new Map,c7=[],kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");xz.prototype.render=g3.prototype.render=function(Z){var J=this._internalRoot;if(J===null)throw Error(l(409));var Q=J.current,q=x8();dR(Q,q,Z,J,null,null)};xz.prototype.unmount=g3.prototype.unmount=function(){var Z=this._internalRoot;if(Z!==null){this._internalRoot=null;var J=Z.containerInfo;dR(Z.current,2,null,Z,null,null),fz(),J[VJ]=null}};xz.prototype.unstable_scheduleHydration=function(Z){if(Z){var J=GC();Z={blockedOn:null,target:Z,priority:J};for(var Q=0;Q<c7.length&&J!==0&&J<c7[Q].priority;Q++);c7.splice(Q,0,Z),Q===0&&lR(Z)}};XC=$$;if(XC!=="19.2.0")throw Error(l(527,XC,"19.2.0"));u0.findDOMNode=function(Z){var J=Z._reactInternals;if(J===void 0){if(typeof Z.render==="function")throw Error(l(188));throw Z=Object.keys(Z).join(","),Error(l(268,Z))}return Z=Uc(J),Z=Z!==null?VC(Z):null,Z=Z===null?null:Z.stateNode,Z};fl={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V0,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){if(P2=__REACT_DEVTOOLS_GLOBAL_HOOK__,!P2.isDisabled&&P2.supportsFiber)try{uq=P2.inject(fl),y8=P2}catch(Z){}}});var rR=aQ((Yn,tR)=>{nR();function oR(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oR)}catch(Z){console.error(Z)}}oR(),tR.exports=m3});var T,OD=(Z)=>{if(typeof Z==="function"||typeof Z==="object"&&Z.extension){if(!Z.extension)throw Error("Extension class must have an extension object");Z={...typeof Z.extension!=="object"?{type:Z.extension}:Z.extension,ref:Z}}if(typeof Z==="object")Z={...Z};else throw Error("Invalid extension type");if(typeof Z.type==="string")Z.type=[Z.type];return Z},JH=(Z,J)=>OD(Z).priority??J,Z0;var g=F(()=>{T=((Z)=>{return Z.Application="application",Z.WebGLPipes="webgl-pipes",Z.WebGLPipesAdaptor="webgl-pipes-adaptor",Z.WebGLSystem="webgl-system",Z.WebGPUPipes="webgpu-pipes",Z.WebGPUPipesAdaptor="webgpu-pipes-adaptor",Z.WebGPUSystem="webgpu-system",Z.CanvasSystem="canvas-system",Z.CanvasPipesAdaptor="canvas-pipes-adaptor",Z.CanvasPipes="canvas-pipes",Z.Asset="asset",Z.LoadParser="load-parser",Z.ResolveParser="resolve-parser",Z.CacheParser="cache-parser",Z.DetectionParser="detection-parser",Z.MaskEffect="mask-effect",Z.BlendMode="blend-mode",Z.TextureSource="texture-source",Z.Environment="environment",Z.ShapeBuilder="shape-builder",Z.Batcher="batcher",Z})(T||{}),Z0={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...Z){return Z.map(OD).forEach((J)=>{J.type.forEach((Q)=>this._removeHandlers[Q]?.(J))}),this},add(...Z){return Z.map(OD).forEach((J)=>{J.type.forEach((Q)=>{let q=this._addHandlers,K=this._queue;if(!q[Q])K[Q]=K[Q]||[],K[Q]?.push(J);else q[Q]?.(J)})}),this},handle(Z,J,Q){let q=this._addHandlers,K=this._removeHandlers;if(q[Z]||K[Z])throw Error(`Extension type ${Z} already has a handler`);q[Z]=J,K[Z]=Q;let X=this._queue;if(X[Z])X[Z]?.forEach((z)=>J(z)),delete X[Z];return this},handleByMap(Z,J){return this.handle(Z,(Q)=>{if(Q.name)J[Q.name]=Q.ref},(Q)=>{if(Q.name)delete J[Q.name]})},handleByNamedList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.findIndex((X)=>X.name===q.name)>=0)return;J.push({name:q.name,value:q.ref}),J.sort((X,z)=>JH(z.value,Q)-JH(X.value,Q))},(q)=>{let K=J.findIndex((X)=>X.name===q.name);if(K!==-1)J.splice(K,1)})},handleByList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.includes(q.ref))return;J.push(q.ref),J.sort((K,X)=>JH(X,Q)-JH(K,Q))},(q)=>{let K=J.indexOf(q.ref);if(K!==-1)J.splice(K,1)})},mixin(Z,...J){for(let Q of J)Object.defineProperties(Z.prototype,Object.getOwnPropertyDescriptors(Q))}}});var aE=aQ((Jo,UD)=>{var Ap=Object.prototype.hasOwnProperty,u5="~";function HK(){}if(Object.create){if(HK.prototype=Object.create(null),!new HK().__proto__)u5=!1}function Dp(Z,J,Q){this.fn=Z,this.context=J,this.once=Q||!1}function iE(Z,J,Q,q,K){if(typeof Q!=="function")throw TypeError("The listener must be a function");var X=new Dp(Q,q||Z,K),z=u5?u5+J:J;if(!Z._events[z])Z._events[z]=X,Z._eventsCount++;else if(!Z._events[z].fn)Z._events[z].push(X);else Z._events[z]=[Z._events[z],X];return Z}function QH(Z,J){if(--Z._eventsCount===0)Z._events=new HK;else delete Z._events[J]}function S5(){this._events=new HK,this._eventsCount=0}S5.prototype.eventNames=function(){var J=[],Q,q;if(this._eventsCount===0)return J;for(q in Q=this._events)if(Ap.call(Q,q))J.push(u5?q.slice(1):q);if(Object.getOwnPropertySymbols)return J.concat(Object.getOwnPropertySymbols(Q));return J};S5.prototype.listeners=function(J){var Q=u5?u5+J:J,q=this._events[Q];if(!q)return[];if(q.fn)return[q.fn];for(var K=0,X=q.length,z=Array(X);K<X;K++)z[K]=q[K].fn;return z};S5.prototype.listenerCount=function(J){var Q=u5?u5+J:J,q=this._events[Q];if(!q)return 0;if(q.fn)return 1;return q.length};S5.prototype.emit=function(J,Q,q,K,X,z){var Y=u5?u5+J:J;if(!this._events[Y])return!1;var O=this._events[Y],U=arguments.length,A,D;if(O.fn){if(O.once)this.removeListener(J,O.fn,void 0,!0);switch(U){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,Q),!0;case 3:return O.fn.call(O.context,Q,q),!0;case 4:return O.fn.call(O.context,Q,q,K),!0;case 5:return O.fn.call(O.context,Q,q,K,X),!0;case 6:return O.fn.call(O.context,Q,q,K,X,z),!0}for(D=1,A=Array(U-1);D<U;D++)A[D-1]=arguments[D];O.fn.apply(O.context,A)}else{var _=O.length,W;for(D=0;D<_;D++){if(O[D].once)this.removeListener(J,O[D].fn,void 0,!0);switch(U){case 1:O[D].fn.call(O[D].context);break;case 2:O[D].fn.call(O[D].context,Q);break;case 3:O[D].fn.call(O[D].context,Q,q);break;case 4:O[D].fn.call(O[D].context,Q,q,K);break;default:if(!A)for(W=1,A=Array(U-1);W<U;W++)A[W-1]=arguments[W];O[D].fn.apply(O[D].context,A)}}}return!0};S5.prototype.on=function(J,Q,q){return iE(this,J,Q,q,!1)};S5.prototype.once=function(J,Q,q){return iE(this,J,Q,q,!0)};S5.prototype.removeListener=function(J,Q,q,K){var X=u5?u5+J:J;if(!this._events[X])return this;if(!Q)return QH(this,X),this;var z=this._events[X];if(z.fn){if(z.fn===Q&&(!K||z.once)&&(!q||z.context===q))QH(this,X)}else{for(var Y=0,O=[],U=z.length;Y<U;Y++)if(z[Y].fn!==Q||K&&!z[Y].once||q&&z[Y].context!==q)O.push(z[Y]);if(O.length)this._events[X]=O.length===1?O[0]:O;else QH(this,X)}return this};S5.prototype.removeAllListeners=function(J){var Q;if(J){if(Q=u5?u5+J:J,this._events[Q])QH(this,Q)}else this._events=new HK,this._eventsCount=0;return this};S5.prototype.off=S5.prototype.removeListener;S5.prototype.addListener=S5.prototype.on;S5.prefixed=u5;S5.EventEmitter=S5;if(typeof UD<"u")UD.exports=S5});var sE,e0;var F5=F(()=>{sE=iQ(aE(),1),e0=sE.default});var Bp,e4=function(Z){return typeof Z=="string"?Z.length>0:typeof Z=="number"},H5=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=Math.pow(10,J)),Math.round(Q*Z)/Q+0},A6=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=1),Z>Q?Q:Z>J?Z:J},QI=function(Z){return(Z=isFinite(Z)?Z%360:0)>0?Z:Z+360},nE=function(Z){return{r:A6(Z.r,0,255),g:A6(Z.g,0,255),b:A6(Z.b,0,255),a:A6(Z.a)}},$D=function(Z){return{r:H5(Z.r),g:H5(Z.g),b:H5(Z.b),a:H5(Z.a,3)}},_p,qH=function(Z){var J=Z.toString(16);return J.length<2?"0"+J:J},qI=function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=Math.max(J,Q,q),z=X-Math.min(J,Q,q),Y=z?X===J?(Q-q)/z:X===Q?2+(q-J)/z:4+(J-Q)/z:0;return{h:60*(Y<0?Y+6:Y),s:X?z/X*100:0,v:X/255*100,a:K}},KI=function(Z){var{h:J,s:Q,v:q,a:K}=Z;J=J/360*6,Q/=100,q/=100;var X=Math.floor(J),z=q*(1-Q),Y=q*(1-(J-X)*Q),O=q*(1-(1-J+X)*Q),U=X%6;return{r:255*[q,Y,z,z,O,q][U],g:255*[O,q,q,Y,z,z][U],b:255*[z,z,O,q,q,Y][U],a:K}},oE=function(Z){return{h:QI(Z.h),s:A6(Z.s,0,100),l:A6(Z.l,0,100),a:A6(Z.a)}},tE=function(Z){return{h:H5(Z.h),s:H5(Z.s),l:H5(Z.l),a:H5(Z.a,3)}},rE=function(Z){return KI((Q=(J=Z).s,{h:J.h,s:(Q*=((q=J.l)<50?q:100-q)/100)>0?2*Q/(q+Q)*100:0,v:q+Q,a:J.a}));var J,Q,q},YK=function(Z){return{h:(J=qI(Z)).h,s:(K=(200-(Q=J.s))*(q=J.v)/100)>0&&K<200?Q*q/100/(K<=100?K:200-K)*100:0,l:K/2,a:J.a};var J,Q,q,K},Mp,Wp,Gp,Fp,BD,eE=function(Z,J){for(var Q=0;Q<J.length;Q++){var q=J[Q][0](Z);if(q)return[q,J[Q][1]]}return[null,void 0]},jp=function(Z){return typeof Z=="string"?eE(Z.trim(),BD.string):typeof Z=="object"&&Z!==null?eE(Z,BD.object):[null,void 0]},AD=function(Z,J){var Q=YK(Z);return{h:Q.h,s:A6(Q.s+100*J,0,100),l:Q.l,a:Q.a}},DD=function(Z){return(299*Z.r+587*Z.g+114*Z.b)/1000/255},ZI=function(Z,J){var Q=YK(Z);return{h:Q.h,s:Q.s,l:A6(Q.l+100*J,0,100),a:Q.a}},_D,k6=function(Z){return Z instanceof _D?Z:new _D(Z)},JI,XI=function(Z){Z.forEach(function(J){JI.indexOf(J)<0&&(J(_D,BD),JI.push(J))})};var NI=F(()=>{Bp={grad:0.9,turn:360,rad:360/(2*Math.PI)},_p=/^#([0-9a-f]{3,8})$/i,Mp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BD={string:[[function(Z){var J=_p.exec(Z);return J?(Z=J[1]).length<=4?{r:parseInt(Z[0]+Z[0],16),g:parseInt(Z[1]+Z[1],16),b:parseInt(Z[2]+Z[2],16),a:Z.length===4?H5(parseInt(Z[3]+Z[3],16)/255,2):1}:Z.length===6||Z.length===8?{r:parseInt(Z.substr(0,2),16),g:parseInt(Z.substr(2,2),16),b:parseInt(Z.substr(4,2),16),a:Z.length===8?H5(parseInt(Z.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Z){var J=Gp.exec(Z)||Fp.exec(Z);return J?J[2]!==J[4]||J[4]!==J[6]?null:nE({r:Number(J[1])/(J[2]?0.39215686274509803:1),g:Number(J[3])/(J[4]?0.39215686274509803:1),b:Number(J[5])/(J[6]?0.39215686274509803:1),a:J[7]===void 0?1:Number(J[7])/(J[8]?100:1)}):null},"rgb"],[function(Z){var J=Mp.exec(Z)||Wp.exec(Z);if(!J)return null;var Q,q,K=oE({h:(Q=J[1],q=J[2],q===void 0&&(q="deg"),Number(Q)*(Bp[q]||1)),s:Number(J[3]),l:Number(J[4]),a:J[5]===void 0?1:Number(J[5])/(J[6]?100:1)});return rE(K)},"hsl"]],object:[[function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=K===void 0?1:K;return e4(J)&&e4(Q)&&e4(q)?nE({r:Number(J),g:Number(Q),b:Number(q),a:Number(X)}):null},"rgb"],[function(Z){var{h:J,s:Q,l:q,a:K}=Z,X=K===void 0?1:K;if(!e4(J)||!e4(Q)||!e4(q))return null;var z=oE({h:Number(J),s:Number(Q),l:Number(q),a:Number(X)});return rE(z)},"hsl"],[function(Z){var{h:J,s:Q,v:q,a:K}=Z,X=K===void 0?1:K;if(!e4(J)||!e4(Q)||!e4(q))return null;var z=function(Y){return{h:QI(Y.h),s:A6(Y.s,0,100),v:A6(Y.v,0,100),a:A6(Y.a)}}({h:Number(J),s:Number(Q),v:Number(q),a:Number(X)});return KI(z)},"hsv"]]},_D=function(){function Z(J){this.parsed=jp(J)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Z.prototype.isValid=function(){return this.parsed!==null},Z.prototype.brightness=function(){return H5(DD(this.rgba),2)},Z.prototype.isDark=function(){return DD(this.rgba)<0.5},Z.prototype.isLight=function(){return DD(this.rgba)>=0.5},Z.prototype.toHex=function(){return J=$D(this.rgba),Q=J.r,q=J.g,K=J.b,z=(X=J.a)<1?qH(H5(255*X)):"","#"+qH(Q)+qH(q)+qH(K)+z;var J,Q,q,K,X,z},Z.prototype.toRgb=function(){return $D(this.rgba)},Z.prototype.toRgbString=function(){return J=$D(this.rgba),Q=J.r,q=J.g,K=J.b,(X=J.a)<1?"rgba("+Q+", "+q+", "+K+", "+X+")":"rgb("+Q+", "+q+", "+K+")";var J,Q,q,K,X},Z.prototype.toHsl=function(){return tE(YK(this.rgba))},Z.prototype.toHslString=function(){return J=tE(YK(this.rgba)),Q=J.h,q=J.s,K=J.l,(X=J.a)<1?"hsla("+Q+", "+q+"%, "+K+"%, "+X+")":"hsl("+Q+", "+q+"%, "+K+"%)";var J,Q,q,K,X},Z.prototype.toHsv=function(){return J=qI(this.rgba),{h:H5(J.h),s:H5(J.s),v:H5(J.v),a:H5(J.a,3)};var J},Z.prototype.invert=function(){return k6({r:255-(J=this.rgba).r,g:255-J.g,b:255-J.b,a:J.a});var J},Z.prototype.saturate=function(J){return J===void 0&&(J=0.1),k6(AD(this.rgba,J))},Z.prototype.desaturate=function(J){return J===void 0&&(J=0.1),k6(AD(this.rgba,-J))},Z.prototype.grayscale=function(){return k6(AD(this.rgba,-1))},Z.prototype.lighten=function(J){return J===void 0&&(J=0.1),k6(ZI(this.rgba,J))},Z.prototype.darken=function(J){return J===void 0&&(J=0.1),k6(ZI(this.rgba,-J))},Z.prototype.rotate=function(J){return J===void 0&&(J=15),this.hue(this.hue()+J)},Z.prototype.alpha=function(J){return typeof J=="number"?k6({r:(Q=this.rgba).r,g:Q.g,b:Q.b,a:J}):H5(this.rgba.a,3);var Q},Z.prototype.hue=function(J){var Q=YK(this.rgba);return typeof J=="number"?k6({h:J,s:Q.s,l:Q.l,a:Q.a}):H5(Q.h)},Z.prototype.isEqual=function(J){return this.toHex()===k6(J).toHex()},Z}(),JI=[]});function WD(Z,J){var Q={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},q={};for(var K in Q)q[Q[K]]=K;var X={};Z.prototype.toName=function(z){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,O,U=q[this.toHex()];if(U)return U;if(z==null?void 0:z.closest){var A=this.toRgb(),D=1/0,_="black";if(!X.length)for(var W in Q)X[W]=new Z(Q[W]).toRgb();for(var j in Q){var C=(Y=A,O=X[j],Math.pow(Y.r-O.r,2)+Math.pow(Y.g-O.g,2)+Math.pow(Y.b-O.b,2));C<D&&(D=C,_=j)}return _}},J.string.push([function(z){var Y=z.toLowerCase(),O=Y==="transparent"?"#0000":Q[Y];return O?new Z(O).toRgb():null},"name"])}var wJ=class Z{constructor(J=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=J}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(J){return this.value=J,this}set value(J){if(J instanceof Z)this._value=this._cloneSource(J._value),this._int=J._int,this._components.set(J._components);else if(J===null)throw Error("Cannot set Color#value to null");else if(this._value===null||!this._isSourceEqual(this._value,J))this._value=this._cloneSource(J),this._normalize(this._value)}get value(){return this._value}_cloneSource(J){if(typeof J==="string"||typeof J==="number"||J instanceof Number||J===null)return J;else if(Array.isArray(J)||ArrayBuffer.isView(J))return J.slice(0);else if(typeof J==="object"&&J!==null)return{...J};return J}_isSourceEqual(J,Q){let q=typeof J;if(q!==typeof Q)return!1;else if(q==="number"||q==="string"||J instanceof Number)return J===Q;else if(Array.isArray(J)&&Array.isArray(Q)||ArrayBuffer.isView(J)&&ArrayBuffer.isView(Q)){if(J.length!==Q.length)return!1;return J.every((X,z)=>X===Q[z])}else if(J!==null&&Q!==null){let X=Object.keys(J),z=Object.keys(Q);if(X.length!==z.length)return!1;return X.every((Y)=>J[Y]===Q[Y])}return J===Q}toRgba(){let[J,Q,q,K]=this._components;return{r:J,g:Q,b:q,a:K}}toRgb(){let[J,Q,q]=this._components;return{r:J,g:Q,b:q}}toRgbaString(){let[J,Q,q]=this.toUint8RgbArray();return`rgba(${J},${Q},${q},${this.alpha})`}toUint8RgbArray(J){let[Q,q,K]=this._components;if(!this._arrayRgb)this._arrayRgb=[];return J||(J=this._arrayRgb),J[0]=Math.round(Q*255),J[1]=Math.round(q*255),J[2]=Math.round(K*255),J}toArray(J){if(!this._arrayRgba)this._arrayRgba=[];J||(J=this._arrayRgba);let[Q,q,K,X]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J[3]=X,J}toRgbArray(J){if(!this._arrayRgb)this._arrayRgb=[];J||(J=this._arrayRgb);let[Q,q,K]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J}toNumber(){return this._int}toBgrNumber(){let[J,Q,q]=this.toUint8RgbArray();return(q<<16)+(Q<<8)+J}toLittleEndianNumber(){let J=this._int;return(J>>16)+(J&65280)+((J&255)<<16)}multiply(J){let[Q,q,K,X]=Z._temp.setValue(J)._components;return this._components[0]*=Q,this._components[1]*=q,this._components[2]*=K,this._components[3]*=X,this._refreshInt(),this._value=null,this}premultiply(J,Q=!0){if(Q)this._components[0]*=J,this._components[1]*=J,this._components[2]*=J;return this._components[3]=J,this._refreshInt(),this._value=null,this}toPremultiplied(J,Q=!0){if(J===1)return-16777216+this._int;if(J===0)return Q?0:this._int;let q=this._int>>16&255,K=this._int>>8&255,X=this._int&255;if(Q)q=q*J+0.5|0,K=K*J+0.5|0,X=X*J+0.5|0;return(J*255<<24)+(q<<16)+(K<<8)+X}toHex(){let J=this._int.toString(16);return`#${"000000".substring(0,6-J.length)+J}`}toHexa(){let Q=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-Q.length)+Q}setAlpha(J){return this._components[3]=this._clamp(J),this}_normalize(J){let Q,q,K,X;if((typeof J==="number"||J instanceof Number)&&J>=0&&J<=16777215){let z=J;Q=(z>>16&255)/255,q=(z>>8&255)/255,K=(z&255)/255,X=1}else if((Array.isArray(J)||J instanceof Float32Array)&&J.length>=3&&J.length<=4)J=this._clamp(J),[Q,q,K,X=1]=J;else if((J instanceof Uint8Array||J instanceof Uint8ClampedArray)&&J.length>=3&&J.length<=4)J=this._clamp(J,0,255),[Q,q,K,X=255]=J,Q/=255,q/=255,K/=255,X/=255;else if(typeof J==="string"||typeof J==="object"){if(typeof J==="string"){let Y=Z.HEX_PATTERN.exec(J);if(Y)J=`#${Y[2]}`}let z=k6(J);if(z.isValid())({r:Q,g:q,b:K,a:X}=z.rgba),Q/=255,q/=255,K/=255}if(Q!==void 0)this._components[0]=Q,this._components[1]=q,this._components[2]=K,this._components[3]=X,this._refreshInt();else throw Error(`Unable to convert color ${J}`)}_refreshInt(){this._clamp(this._components);let[J,Q,q]=this._components;this._int=(J*255<<16)+(Q*255<<8)+(q*255|0)}_clamp(J,Q=0,q=1){if(typeof J==="number")return Math.min(Math.max(J,Q),q);return J.forEach((K,X)=>{J[X]=Math.min(Math.max(K,Q),q)}),J}static isColorLike(J){return typeof J==="number"||typeof J==="string"||J instanceof Number||J instanceof Z||Array.isArray(J)||J instanceof Uint8Array||J instanceof Uint8ClampedArray||J instanceof Float32Array||J.r!==void 0&&J.g!==void 0&&J.b!==void 0||J.r!==void 0&&J.g!==void 0&&J.b!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0&&J.a!==void 0}},j0;var b5=F(()=>{NI();XI([WD]);wJ.shared=new wJ;wJ._temp=new wJ;wJ.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;j0=wJ});var zI;var HI=F(()=>{zI={cullArea:null,cullable:!1,cullableChildren:!0}});var YI,VI,OI;var GD=F(()=>{YI=Math.PI*2,VI=180/Math.PI,OI=Math.PI/180});class b0{constructor(Z=0,J=0){this.x=0,this.y=0,this.x=Z,this.y=J}clone(){return new b0(this.x,this.y)}copyFrom(Z){return this.set(Z.x,Z.y),this}copyTo(Z){return Z.set(this.x,this.y),Z}equals(Z){return Z.x===this.x&&Z.y===this.y}set(Z=0,J=Z){return this.x=Z,this.y=J,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return FD.x=0,FD.y=0,FD}}var FD;var P6=F(()=>{FD=new b0});class a{constructor(Z=1,J=0,Q=0,q=1,K=0,X=0){this.array=null,this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X}fromArray(Z){this.a=Z[0],this.b=Z[1],this.c=Z[3],this.d=Z[4],this.tx=Z[2],this.ty=Z[5]}set(Z,J,Q,q,K,X){return this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X,this}toArray(Z,J){if(!this.array)this.array=new Float32Array(9);let Q=J||this.array;if(Z)Q[0]=this.a,Q[1]=this.b,Q[2]=0,Q[3]=this.c,Q[4]=this.d,Q[5]=0,Q[6]=this.tx,Q[7]=this.ty,Q[8]=1;else Q[0]=this.a,Q[1]=this.c,Q[2]=this.tx,Q[3]=this.b,Q[4]=this.d,Q[5]=this.ty,Q[6]=0,Q[7]=0,Q[8]=1;return Q}apply(Z,J){J=J||new b0;let{x:Q,y:q}=Z;return J.x=this.a*Q+this.c*q+this.tx,J.y=this.b*Q+this.d*q+this.ty,J}applyInverse(Z,J){J=J||new b0;let Q=this.a,q=this.b,K=this.c,X=this.d,z=this.tx,Y=this.ty,O=1/(Q*X+K*-q),U=Z.x,A=Z.y;return J.x=X*O*U+-K*O*A+(Y*K-z*X)*O,J.y=Q*O*A+-q*O*U+(-Y*Q+z*q)*O,J}translate(Z,J){return this.tx+=Z,this.ty+=J,this}scale(Z,J){return this.a*=Z,this.d*=J,this.c*=Z,this.b*=J,this.tx*=Z,this.ty*=J,this}rotate(Z){let J=Math.cos(Z),Q=Math.sin(Z),q=this.a,K=this.c,X=this.tx;return this.a=q*J-this.b*Q,this.b=q*Q+this.b*J,this.c=K*J-this.d*Q,this.d=K*Q+this.d*J,this.tx=X*J-this.ty*Q,this.ty=X*Q+this.ty*J,this}append(Z){let J=this.a,Q=this.b,q=this.c,K=this.d;return this.a=Z.a*J+Z.b*q,this.b=Z.a*Q+Z.b*K,this.c=Z.c*J+Z.d*q,this.d=Z.c*Q+Z.d*K,this.tx=Z.tx*J+Z.ty*q+this.tx,this.ty=Z.tx*Q+Z.ty*K+this.ty,this}appendFrom(Z,J){let{a:Q,b:q,c:K,d:X,tx:z,ty:Y}=Z,O=J.a,U=J.b,A=J.c,D=J.d;return this.a=Q*O+q*A,this.b=Q*U+q*D,this.c=K*O+X*A,this.d=K*U+X*D,this.tx=z*O+Y*A+J.tx,this.ty=z*U+Y*D+J.ty,this}setTransform(Z,J,Q,q,K,X,z,Y,O){return this.a=Math.cos(z+O)*K,this.b=Math.sin(z+O)*K,this.c=-Math.sin(z-Y)*X,this.d=Math.cos(z-Y)*X,this.tx=Z-(Q*this.a+q*this.c),this.ty=J-(Q*this.b+q*this.d),this}prepend(Z){let J=this.tx;if(Z.a!==1||Z.b!==0||Z.c!==0||Z.d!==1){let Q=this.a,q=this.c;this.a=Q*Z.a+this.b*Z.c,this.b=Q*Z.b+this.b*Z.d,this.c=q*Z.a+this.d*Z.c,this.d=q*Z.b+this.d*Z.d}return this.tx=J*Z.a+this.ty*Z.c+Z.tx,this.ty=J*Z.b+this.ty*Z.d+Z.ty,this}decompose(Z){let J=this.a,Q=this.b,q=this.c,K=this.d,X=Z.pivot,z=-Math.atan2(-q,K),Y=Math.atan2(Q,J),O=Math.abs(z+Y);if(O<0.00001||Math.abs(YI-O)<0.00001)Z.rotation=Y,Z.skew.x=Z.skew.y=0;else Z.rotation=0,Z.skew.x=z,Z.skew.y=Y;return Z.scale.x=Math.sqrt(J*J+Q*Q),Z.scale.y=Math.sqrt(q*q+K*K),Z.position.x=this.tx+(X.x*J+X.y*q),Z.position.y=this.ty+(X.x*Q+X.y*K),Z}invert(){let Z=this.a,J=this.b,Q=this.c,q=this.d,K=this.tx,X=Z*q-J*Q;return this.a=q/X,this.b=-J/X,this.c=-Q/X,this.d=Z/X,this.tx=(Q*this.ty-q*K)/X,this.ty=-(Z*this.ty-J*K)/X,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let Z=new a;return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyTo(Z){return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyFrom(Z){return this.a=Z.a,this.b=Z.b,this.c=Z.c,this.d=Z.d,this.tx=Z.tx,this.ty=Z.ty,this}equals(Z){return Z.a===this.a&&Z.b===this.b&&Z.c===this.c&&Z.d===this.d&&Z.tx===this.tx&&Z.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Cp.identity()}static get shared(){return wp.identity()}}var wp,Cp;var T0=F(()=>{GD();P6();wp=new a,Cp=new a});class Y5{constructor(Z,J,Q){this._x=J||0,this._y=Q||0,this._observer=Z}clone(Z){return new Y5(Z??this._observer,this._x,this._y)}set(Z=0,J=Z){if(this._x!==Z||this._y!==J)this._x=Z,this._y=J,this._observer._onUpdate(this);return this}copyFrom(Z){if(this._x!==Z.x||this._y!==Z.y)this._x=Z.x,this._y=Z.y,this._observer._onUpdate(this);return this}copyTo(Z){return Z.set(this._x,this._y),Z}equals(Z){return Z.x===this._x&&Z.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(Z){if(this._x!==Z)this._x=Z,this._observer._onUpdate(this)}get y(){return this._y}set y(Z){if(this._y!==Z)this._y=Z,this._observer._onUpdate(this)}}var jD=()=>{};function M0(Z="default"){if(wD[Z]===void 0)wD[Z]=-1;return++wD[Z]}var wD;var t1=F(()=>{wD={default:-1}});var UI,Y0="8.0.0",$I="8.3.4",CJ,q0=(Z,J,Q=3)=>{if(CJ.quiet||UI.has(J))return;let q=Error().stack,K=`${J}
Deprecated since v${Z}`,X=typeof console.groupCollapsed==="function"&&!CJ.noColor;if(typeof q>"u")console.warn("PixiJS Deprecation Warning: ",K);else if(q=q.split(`
`).splice(Q).join(`
`),X)console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",K),console.warn(q),console.groupEnd();else console.warn("PixiJS Deprecation Warning: ",K),console.warn(q);UI.add(J)};var M1=F(()=>{UI=new Set,CJ={quiet:!1,noColor:!1};Object.defineProperties(q0,{quiet:{get:()=>CJ.quiet,set:(Z)=>{CJ.quiet=Z},enumerable:!0,configurable:!1},noColor:{get:()=>CJ.noColor,set:(Z)=>{CJ.noColor=Z},enumerable:!0,configurable:!1}})});function e(...Z){if(CD===AI)return;if(CD++,CD===AI)console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.");else console.warn("PixiJS Warning: ",...Z)}var CD=0,AI=500;var l0=()=>{};var D6;var EZ=F(()=>{D6={_registeredResources:new Set,register(Z){this._registeredResources.add(Z)},unregister(Z){this._registeredResources.delete(Z)},release(){this._registeredResources.forEach((Z)=>Z.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(Z){return this._registeredResources.has(Z)},reset(){this._registeredResources.clear()}}});class LD{constructor(Z,J){if(this._pool=[],this._count=0,this._index=0,this._classType=Z,J)this.prepopulate(J)}prepopulate(Z){for(let J=0;J<Z;J++)this._pool[this._index++]=new this._classType;this._count+=Z}get(Z){let J;if(this._index>0)J=this._pool[--this._index];else J=new this._classType;return J.init?.(Z),J}return(Z){Z.reset?.(),this._pool[this._index++]=Z}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let Z=0;Z<this._index;Z++)this._pool[Z].destroy();this._pool.length=0,this._count=0,this._index=0}}var DI=()=>{};class BI{constructor(){this._poolsByClass=new Map}prepopulate(Z,J){this.getPool(Z).prepopulate(J)}get(Z,J){return this.getPool(Z).get(J)}return(Z){this.getPool(Z.constructor).return(Z)}getPool(Z){if(!this._poolsByClass.has(Z))this._poolsByClass.set(Z,new LD(Z));return this._poolsByClass.get(Z)}stats(){let Z={};return this._poolsByClass.forEach((J)=>{let Q=Z[J._classType.name]?J._classType.name+J._classType.ID:J._classType.name;Z[Q]={free:J.totalFree,used:J.totalUsed,size:J.totalSize}}),Z}clear(){this._poolsByClass.forEach((Z)=>Z.clear()),this._poolsByClass.clear()}}var Z1;var N4=F(()=>{EZ();DI();Z1=new BI;D6.register(Z1)});var _I;var MI=F(()=>{M1();_I={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(Z){if(typeof Z==="boolean"&&Z===!1)this.disableRenderGroup();else this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(Z===!0?{}:Z)},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(Z){q0("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(Z)}}});function KH(Z,J,Q){let q=Z.length,K;if(J>=q||Q===0)return;Q=J+Q>q?q-J:Q;let X=q-Q;for(K=J;K<X;++K)Z[K]=Z[K+Q];Z.length=X}var RD=()=>{};var WI;var GI=F(()=>{RD();M1();WI={allowChildren:!0,removeChildren(Z=0,J){let Q=J??this.children.length,q=Q-Z,K=[];if(q>0&&q<=Q){for(let z=Q-1;z>=Z;z--){let Y=this.children[z];if(!Y)continue;K.push(Y),Y.parent=null}KH(this.children,Z,Q);let X=this.renderGroup||this.parentRenderGroup;if(X)X.removeChildren(K);for(let z=0;z<K.length;++z){let Y=K[z];Y.parentRenderLayer?.detach(Y),this.emit("childRemoved",Y,this,z),K[z].emit("removed",this)}if(K.length>0)this._didViewChangeTick++;return K}else if(q===0&&this.children.length===0)return K;throw RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(Z){let J=this.getChildAt(Z);return this.removeChild(J)},getChildAt(Z){if(Z<0||Z>=this.children.length)throw Error(`getChildAt: Index (${Z}) does not exist.`);return this.children[Z]},setChildIndex(Z,J){if(J<0||J>=this.children.length)throw Error(`The index ${J} supplied is out of bounds ${this.children.length}`);this.getChildIndex(Z),this.addChildAt(Z,J)},getChildIndex(Z){let J=this.children.indexOf(Z);if(J===-1)throw Error("The supplied Container must be a child of the caller");return J},addChildAt(Z,J){if(!this.allowChildren)q0(Y0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");let{children:Q}=this;if(J<0||J>Q.length)throw Error(`${Z}addChildAt: The index ${J} supplied is out of bounds ${Q.length}`);if(Z.parent){let K=Z.parent.children.indexOf(Z);if(Z.parent===this&&K===J)return Z;if(K!==-1)Z.parent.children.splice(K,1)}if(J===Q.length)Q.push(Z);else Q.splice(J,0,Z);Z.parent=this,Z.didChange=!0,Z._updateFlags=15;let q=this.renderGroup||this.parentRenderGroup;if(q)q.addChild(Z);if(this.sortableChildren)this.sortDirty=!0;return this.emit("childAdded",Z,this,J),Z.emit("added",this),Z},swapChildren(Z,J){if(Z===J)return;let Q=this.getChildIndex(Z),q=this.getChildIndex(J);this.children[Q]=J,this.children[q]=Z;let K=this.renderGroup||this.parentRenderGroup;if(K)K.structureDidChange=!0;this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...Z){if(Z.length===1)return this.reparentChildAt(Z[0],this.children.length);return Z.forEach((J)=>this.reparentChildAt(J,this.children.length)),Z[0]},reparentChildAt(Z,J){if(Z.parent===this)return this.setChildIndex(Z,J),Z;let Q=Z.worldTransform.clone();Z.removeFromParent(),this.addChildAt(Z,J);let q=this.worldTransform.clone();return q.invert(),Q.prepend(q),Z.setFromMatrix(Q),Z},replaceChild(Z,J){Z.updateLocalTransform(),this.addChildAt(J,this.getChildIndex(Z)),J.setFromMatrix(Z.localTransform),J.updateLocalTransform(),this.removeChild(Z)}}});var FI;var jI=F(()=>{FI={collectRenderables(Z,J,Q){if(this.parentRenderLayer&&this.parentRenderLayer!==Q||this.globalDisplayStatus<7||!this.includeInBuild)return;if(this.sortableChildren)this.sortChildren();if(this.isSimple)this.collectRenderablesSimple(Z,J,Q);else if(this.renderGroup)J.renderPipes.renderGroup.addRenderGroup(this.renderGroup,Z);else this.collectRenderablesWithEffects(Z,J,Q)},collectRenderablesSimple(Z,J,Q){let q=this.children,K=q.length;for(let X=0;X<K;X++)q[X].collectRenderables(Z,J,Q)},collectRenderablesWithEffects(Z,J,Q){let{renderPipes:q}=J;for(let K=0;K<this.effects.length;K++){let X=this.effects[K];q[X.pipe].push(X,this,Z)}this.collectRenderablesSimple(Z,J,Q);for(let K=this.effects.length-1;K>=0;K--){let X=this.effects[K];q[X.pipe].pop(X,this,Z)}}}});class D9{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let Z=0;Z<this.filters.length;Z++)this.filters[Z].destroy();this.filters=null,this.filterArea=null}}var XH=()=>{};class wI{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){if(this._initialized)return;this._initialized=!0,this._effectClasses.forEach((Z)=>{this.add({test:Z.test,maskClass:Z})})}add(Z){this._tests.push(Z)}getMaskEffect(Z){if(!this._initialized)this.init();for(let J=0;J<this._tests.length;J++){let Q=this._tests[J];if(Q.test(Z))return Z1.get(Q.maskClass,Z)}return Z}returnMaskEffect(Z){Z1.return(Z)}}var NH;var CI=F(()=>{g();N4();NH=new wI;Z0.handleByList(T.MaskEffect,NH._effectClasses)});var LI;var RI=F(()=>{XH();CI();LI={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.structureDidChange=!0},addEffect(Z){if(this.effects.indexOf(Z)!==-1)return;this.effects.push(Z),this.effects.sort((Q,q)=>Q.priority-q.priority),this._markStructureAsChanged(),this._updateIsSimple()},removeEffect(Z){let J=this.effects.indexOf(Z);if(J===-1)return;this.effects.splice(J,1),this._markStructureAsChanged(),this._updateIsSimple()},set mask(Z){let J=this._maskEffect;if(J?.mask===Z)return;if(J)this.removeEffect(J),NH.returnMaskEffect(J),this._maskEffect=null;if(Z===null||Z===void 0)return;this._maskEffect=NH.getMaskEffect(Z),this.addEffect(this._maskEffect)},get mask(){return this._maskEffect?.mask},setMask(Z){if(this._maskOptions={...this._maskOptions,...Z},Z.mask)this.mask=Z.mask;this._markStructureAsChanged()},set filters(Z){if(!Array.isArray(Z)&&Z)Z=[Z];let J=this._filterEffect||(this._filterEffect=new D9);Z=Z;let Q=Z?.length>0,q=J.filters?.length>0,K=Q!==q;if(Z=Array.isArray(Z)?Z.slice(0):Z,J.filters=Object.freeze(Z),K)if(Q)this.addEffect(J);else this.removeEffect(J),J.filters=Z??null},get filters(){return this._filterEffect?.filters},set filterArea(Z){this._filterEffect||(this._filterEffect=new D9),this._filterEffect.filterArea=Z},get filterArea(){return this._filterEffect?.filterArea}}});var EI;var II=F(()=>{M1();EI={label:null,get name(){return q0(Y0,"Container.name property has been removed, use Container.label instead"),this.label},set name(Z){q0(Y0,"Container.name property has been removed, use Container.label instead"),this.label=Z},getChildByName(Z,J=!1){return this.getChildByLabel(Z,J)},getChildByLabel(Z,J=!1){let Q=this.children;for(let q=0;q<Q.length;q++){let K=Q[q];if(K.label===Z||Z instanceof RegExp&&Z.test(K.label))return K}if(J)for(let q=0;q<Q.length;q++){let X=Q[q].getChildByLabel(Z,!0);if(X)return X}return null},getChildrenByLabel(Z,J=!1,Q=[]){let q=this.children;for(let K=0;K<q.length;K++){let X=q[K];if(X.label===Z||Z instanceof RegExp&&Z.test(X.label))Q.push(X)}if(J)for(let K=0;K<q.length;K++)q[K].getChildrenByLabel(Z,!0,Q);return Q}}});class U0{constructor(Z=0,J=0,Q=0,q=0){this.type="rectangle",this.x=Number(Z),this.y=Number(J),this.width=Number(Q),this.height=Number(q)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new U0(0,0,0,0)}clone(){return new U0(this.x,this.y,this.width,this.height)}copyFromBounds(Z){return this.x=Z.minX,this.y=Z.minY,this.width=Z.maxX-Z.minX,this.height=Z.maxY-Z.minY,this}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<this.x+this.width){if(J>=this.y&&J<this.y+this.height)return!0}return!1}strokeContains(Z,J,Q,q=0.5){let{width:K,height:X}=this;if(K<=0||X<=0)return!1;let z=this.x,Y=this.y,O=Q*(1-q),U=Q-O,A=z-O,D=z+K+O,_=Y-O,W=Y+X+O,j=z+U,C=z+K-U,R=Y+U,G=Y+X-U;return Z>=A&&Z<=D&&J>=_&&J<=W&&!(Z>j&&Z<C&&J>R&&J<G)}intersects(Z,J){if(!J){let b=this.x<Z.x?Z.x:this.x;if((this.right>Z.right?Z.right:this.right)<=b)return!1;let c=this.y<Z.y?Z.y:this.y;return(this.bottom>Z.bottom?Z.bottom:this.bottom)>c}let Q=this.left,q=this.right,K=this.top,X=this.bottom;if(q<=Q||X<=K)return!1;let z=zH[0].set(Z.left,Z.top),Y=zH[1].set(Z.left,Z.bottom),O=zH[2].set(Z.right,Z.top),U=zH[3].set(Z.right,Z.bottom);if(O.x<=z.x||Y.y<=z.y)return!1;let A=Math.sign(J.a*J.d-J.b*J.c);if(A===0)return!1;if(J.apply(z,z),J.apply(Y,Y),J.apply(O,O),J.apply(U,U),Math.max(z.x,Y.x,O.x,U.x)<=Q||Math.min(z.x,Y.x,O.x,U.x)>=q||Math.max(z.y,Y.y,O.y,U.y)<=K||Math.min(z.y,Y.y,O.y,U.y)>=X)return!1;let D=A*(Y.y-z.y),_=A*(z.x-Y.x),W=D*Q+_*K,j=D*q+_*K,C=D*Q+_*X,R=D*q+_*X;if(Math.max(W,j,C,R)<=D*z.x+_*z.y||Math.min(W,j,C,R)>=D*U.x+_*U.y)return!1;let G=A*(z.y-O.y),w=A*(O.x-z.x),L=G*Q+w*K,I=G*q+w*K,h=G*Q+w*X,v=G*q+w*X;if(Math.max(L,I,h,v)<=G*z.x+w*z.y||Math.min(L,I,h,v)>=G*U.x+w*U.y)return!1;return!0}pad(Z=0,J=Z){return this.x-=Z,this.y-=J,this.width+=Z*2,this.height+=J*2,this}fit(Z){let J=Math.max(this.x,Z.x),Q=Math.min(this.x+this.width,Z.x+Z.width),q=Math.max(this.y,Z.y),K=Math.min(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Math.max(Q-J,0),this.y=q,this.height=Math.max(K-q,0),this}ceil(Z=1,J=0.001){let Q=Math.ceil((this.x+this.width-J)*Z)/Z,q=Math.ceil((this.y+this.height-J)*Z)/Z;return this.x=Math.floor((this.x+J)*Z)/Z,this.y=Math.floor((this.y+J)*Z)/Z,this.width=Q-this.x,this.height=q-this.y,this}scale(Z,J=Z){return this.x*=Z,this.y*=J,this.width*=Z,this.height*=J,this}enlarge(Z){let J=Math.min(this.x,Z.x),Q=Math.max(this.x+this.width,Z.x+Z.width),q=Math.min(this.y,Z.y),K=Math.max(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Q-J,this.y=q,this.height=K-q,this}getBounds(Z){return Z||(Z=new U0),Z.copyFrom(this),Z}containsRect(Z){if(this.width<=0||this.height<=0)return!1;let{x:J,y:Q}=Z,q=Z.x+Z.width,K=Z.y+Z.height;return J>=this.x&&J<this.x+this.width&&Q>=this.y&&Q<this.y+this.height&&q>=this.x&&q<this.x+this.width&&K>=this.y&&K<this.y+this.height}set(Z,J,Q,q){return this.x=Z,this.y=J,this.width=Q,this.height=q,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}var zH;var r1=F(()=>{P6();zH=[new b0,new b0,new b0,new b0]});class J1{constructor(Z=1/0,J=1/0,Q=-1/0,q=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=TI,this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){if(!this._rectangle)this._rectangle=new U0;let Z=this._rectangle;if(this.minX>this.maxX||this.minY>this.maxY)Z.x=0,Z.y=0,Z.width=0,Z.height=0;else Z.copyFromBounds(this);return Z}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=TI,this}set(Z,J,Q,q){this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}addFrame(Z,J,Q,q,K){K||(K=this.matrix);let{a:X,b:z,c:Y,d:O,tx:U,ty:A}=K,D=this.minX,_=this.minY,W=this.maxX,j=this.maxY,C=X*Z+Y*J+U,R=z*Z+O*J+A;if(C<D)D=C;if(R<_)_=R;if(C>W)W=C;if(R>j)j=R;if(C=X*Q+Y*J+U,R=z*Q+O*J+A,C<D)D=C;if(R<_)_=R;if(C>W)W=C;if(R>j)j=R;if(C=X*Z+Y*q+U,R=z*Z+O*q+A,C<D)D=C;if(R<_)_=R;if(C>W)W=C;if(R>j)j=R;if(C=X*Q+Y*q+U,R=z*Q+O*q+A,C<D)D=C;if(R<_)_=R;if(C>W)W=C;if(R>j)j=R;this.minX=D,this.minY=_,this.maxX=W,this.maxY=j}addRect(Z,J){this.addFrame(Z.x,Z.y,Z.x+Z.width,Z.y+Z.height,J)}addBounds(Z,J){this.addFrame(Z.minX,Z.minY,Z.maxX,Z.maxY,J)}addBoundsMask(Z){this.minX=this.minX>Z.minX?this.minX:Z.minX,this.minY=this.minY>Z.minY?this.minY:Z.minY,this.maxX=this.maxX<Z.maxX?this.maxX:Z.maxX,this.maxY=this.maxY<Z.maxY?this.maxY:Z.maxY}applyMatrix(Z){let J=this.minX,Q=this.minY,q=this.maxX,K=this.maxY,{a:X,b:z,c:Y,d:O,tx:U,ty:A}=Z,D=X*J+Y*Q+U,_=z*J+O*Q+A;this.minX=D,this.minY=_,this.maxX=D,this.maxY=_,D=X*q+Y*Q+U,_=z*q+O*Q+A,this.minX=D<this.minX?D:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=D>this.maxX?D:this.maxX,this.maxY=_>this.maxY?_:this.maxY,D=X*J+Y*K+U,_=z*J+O*K+A,this.minX=D<this.minX?D:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=D>this.maxX?D:this.maxX,this.maxY=_>this.maxY?_:this.maxY,D=X*q+Y*K+U,_=z*q+O*K+A,this.minX=D<this.minX?D:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=D>this.maxX?D:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(Z){if(this.minX<Z.left)this.minX=Z.left;if(this.maxX>Z.right)this.maxX=Z.right;if(this.minY<Z.top)this.minY=Z.top;if(this.maxY>Z.bottom)this.maxY=Z.bottom;return this}fitBounds(Z,J,Q,q){if(this.minX<Z)this.minX=Z;if(this.maxX>J)this.maxX=J;if(this.minY<Q)this.minY=Q;if(this.maxY>q)this.maxY=q;return this}pad(Z,J=Z){return this.minX-=Z,this.maxX+=Z,this.minY-=J,this.maxY+=J,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new J1(this.minX,this.minY,this.maxX,this.maxY)}scale(Z,J=Z){return this.minX*=Z,this.minY*=J,this.maxX*=Z,this.maxY*=J,this}get x(){return this.minX}set x(Z){let J=this.maxX-this.minX;this.minX=Z,this.maxX=Z+J}get y(){return this.minY}set y(Z){let J=this.maxY-this.minY;this.minY=Z,this.maxY=Z+J}get width(){return this.maxX-this.minX}set width(Z){this.maxX=this.minX+Z}get height(){return this.maxY-this.minY}set height(Z){this.maxY=this.minY+Z}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(Z,J,Q,q){let K=this.minX,X=this.minY,z=this.maxX,Y=this.maxY;q||(q=this.matrix);let{a:O,b:U,c:A,d:D,tx:_,ty:W}=q;for(let j=J;j<Q;j+=2){let C=Z[j],R=Z[j+1],G=O*C+A*R+_,w=U*C+D*R+W;K=G<K?G:K,X=w<X?w:X,z=G>z?G:z,Y=w>Y?w:Y}this.minX=K,this.minY=X,this.maxX=z,this.maxY=Y}containsPoint(Z,J){if(this.minX<=Z&&this.minY<=J&&this.maxX>=Z&&this.maxY>=J)return!0;return!1}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(Z){return this.minX=Z.minX,this.minY=Z.minY,this.maxX=Z.maxX,this.maxY=Z.maxY,this}}var TI;var O8=F(()=>{T0();r1();TI=new a});var s1,d8;var IZ=F(()=>{T0();N4();O8();s1=Z1.getPool(a),d8=Z1.getPool(J1)});var Lp,SI;var bI=F(()=>{T0();O8();IZ();Lp=new a,SI={getFastGlobalBounds(Z,J){if(J||(J=new J1),J.clear(),this._getGlobalBoundsRecursive(!!Z,J,this.parentRenderLayer),!J.isValid)J.set(0,0,0,0);let Q=this.renderGroup||this.parentRenderGroup;return J.applyMatrix(Q.worldTransform),J},_getGlobalBoundsRecursive(Z,J,Q){let q=J;if(Z&&this.parentRenderLayer&&this.parentRenderLayer!==Q)return;if(this.localDisplayStatus!==7||!this.measurable)return;let K=!!this.effects.length;if(this.renderGroup||K)q=d8.get().clear();if(this.boundsArea)J.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){let z=this.bounds;q.addFrame(z.minX,z.minY,z.maxX,z.maxY,this.groupTransform)}let X=this.children;for(let z=0;z<X.length;z++)X[z]._getGlobalBoundsRecursive(Z,q,Q)}if(K){let X=!1,z=this.renderGroup||this.parentRenderGroup;for(let Y=0;Y<this.effects.length;Y++)if(this.effects[Y].addBounds){if(!X)X=!0,q.applyMatrix(z.worldTransform);this.effects[Y].addBounds(q,!0)}if(X)q.applyMatrix(z.worldTransform.copyTo(Lp).invert());J.addBounds(q),d8.return(q)}else if(this.renderGroup)J.addBounds(q,this.relativeGroupTransform),d8.return(q)}}});function LJ(Z,J,Q){Q.clear();let q,K;if(Z.parent)if(!J)K=s1.get().identity(),q=HH(Z,K);else q=Z.parent.worldTransform;else q=a.IDENTITY;if(kI(Z,Q,q,J),K)s1.return(K);if(!Q.isValid)Q.set(0,0,0,0);return Q}function kI(Z,J,Q,q){if(!Z.visible||!Z.measurable)return;let K;if(!q)Z.updateLocalTransform(),K=s1.get(),K.appendFrom(Z.localTransform,Q);else K=Z.worldTransform;let X=J,z=!!Z.effects.length;if(z)J=d8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,K);else{let Y=Z.bounds;if(Y&&!Y.isEmpty())J.matrix=K,J.addBounds(Y);for(let O=0;O<Z.children.length;O++)kI(Z.children[O],J,K,q)}if(z){for(let Y=0;Y<Z.effects.length;Y++)Z.effects[Y].addBounds?.(J);X.addBounds(J,a.IDENTITY),d8.return(J)}if(!q)s1.return(K)}function HH(Z,J){let Q=Z.parent;if(Q)HH(Q,J),Q.updateLocalTransform(),J.append(Q.localTransform);return J}var VK=F(()=>{T0();IZ()});function YH(Z,J){if(Z===16777215||!J)return J;if(J===16777215||!Z)return Z;let Q=Z>>16&255,q=Z>>8&255,K=Z&255,X=J>>16&255,z=J>>8&255,Y=J&255,O=Q*X/255|0,U=q*z/255|0,A=K*Y/255|0;return(O<<16)+(U<<8)+A}var ED=()=>{};function RJ(Z,J){if(Z===PI)return J;if(J===PI)return Z;return YH(Z,J)}var PI=16777215;var ID=F(()=>{ED()});function OK(Z){return((Z&255)<<16)+(Z&65280)+(Z>>16&255)}var vI;var fI=F(()=>{T0();VK();IZ();ID();vI={getGlobalAlpha(Z){if(Z){if(this.renderGroup)return this.renderGroup.worldAlpha;if(this.parentRenderGroup)return this.parentRenderGroup.worldAlpha*this.alpha;return this.alpha}let J=this.alpha,Q=this.parent;while(Q)J*=Q.alpha,Q=Q.parent;return J},getGlobalTransform(Z=new a,J){if(J)return Z.copyFrom(this.worldTransform);this.updateLocalTransform();let Q=HH(this,s1.get().identity());return Z.appendFrom(this.localTransform,Q),s1.return(Q),Z},getGlobalTint(Z){if(Z){if(this.renderGroup)return OK(this.renderGroup.worldColor);if(this.parentRenderGroup)return OK(RJ(this.localColor,this.parentRenderGroup.worldColor));return this.tint}let J=this.localColor,Q=this.parent;while(Q)J=RJ(J,Q.localColor),Q=Q.parent;return OK(J)}}});function EJ(Z,J,Q){if(J.clear(),Q||(Q=a.IDENTITY),yI(Z,J,Q,Z,!0),!J.isValid)J.set(0,0,0,0);return J}function yI(Z,J,Q,q,K){let X;if(!K){if(!Z.visible||!Z.measurable)return;Z.updateLocalTransform();let O=Z.localTransform;X=s1.get(),X.appendFrom(O,Q)}else X=s1.get(),X=Q.copyTo(X);let z=J,Y=!!Z.effects.length;if(Y)J=d8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,X);else{if(Z.renderPipeId)J.matrix=X,J.addBounds(Z.bounds);let O=Z.children;for(let U=0;U<O.length;U++)yI(O[U],J,X,q,!1)}if(Y){for(let O=0;O<Z.effects.length;O++)Z.effects[O].addLocalBounds?.(J,q);z.addBounds(J,a.IDENTITY),d8.return(J)}s1.return(X)}var VH=F(()=>{T0();IZ()});function TD(Z,J){let Q=Z.children;for(let q=0;q<Q.length;q++){let K=Q[q],X=K.uid,z=(K._didViewChangeTick&65535)<<16|K._didContainerChangeTick&65535,Y=J.index;if(J.data[Y]!==X||J.data[Y+1]!==z)J.data[J.index]=X,J.data[J.index+1]=z,J.didChange=!0;if(J.index=Y+2,K.children.length)TD(K,J)}return J.didChange}var hI=()=>{};var Rp,xI;var gI=F(()=>{T0();O8();VK();VH();hI();Rp=new a,xI={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(Z,J){let Q=Math.sign(this.scale.x)||1;if(J!==0)this.scale.x=Z/J*Q;else this.scale.x=Q},_setHeight(Z,J){let Q=Math.sign(this.scale.y)||1;if(J!==0)this.scale.y=Z/J*Q;else this.scale.y=Q},getLocalBounds(){if(!this._localBoundsCacheData)this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new J1};let Z=this._localBoundsCacheData;if(Z.index=1,Z.didChange=!1,Z.data[0]!==this._didViewChangeTick)Z.didChange=!0,Z.data[0]=this._didViewChangeTick;if(TD(this,Z),Z.didChange)EJ(this,Z.localBounds,Rp);return Z.localBounds},getBounds(Z,J){return LJ(this,Z,J||new J1)}}});var mI;var dI=F(()=>{mI={_onRender:null,set onRender(Z){let J=this.renderGroup||this.parentRenderGroup;if(!Z){if(this._onRender)J?.removeOnRender(this);this._onRender=null;return}if(!this._onRender)J?.addOnRender(this);this._onRender=Z},get onRender(){return this._onRender}}});function Ep(Z,J){return Z._zIndex-J._zIndex}var cI;var uI=F(()=>{cI={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(Z){if(this._zIndex===Z)return;this._zIndex=Z,this.depthOfChildModified()},depthOfChildModified(){if(this.parent)this.parent.sortableChildren=!0,this.parent.sortDirty=!0;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0},sortChildren(){if(!this.sortDirty)return;this.sortDirty=!1,this.children.sort(Ep)}}});var lI;var pI=F(()=>{P6();IZ();lI={getGlobalPosition(Z=new b0,J=!1){if(this.parent)this.parent.toGlobal(this._position,Z,J);else Z.x=this._position.x,Z.y=this._position.y;return Z},toGlobal(Z,J,Q=!1){let q=this.getGlobalTransform(s1.get(),Q);return J=q.apply(Z,J),s1.return(q),J},toLocal(Z,J,Q,q){if(J)Z=J.toGlobal(Z,Q,q);let K=this.getGlobalTransform(s1.get(),q);return Q=K.applyInverse(Z,Q),s1.return(K),Q}}});class UK{constructor(){this.uid=M0("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(Z){this.instructions[this.instructionSize++]=Z}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}var SD=F(()=>{t1()});function Z7(Z){return Z+=Z===0?1:0,--Z,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z+1}function bD(Z){return!(Z&Z-1)&&!!Z}var $K=()=>{};function OH(Z){let J={};for(let Q in Z)if(Z[Q]!==void 0)J[Q]=Z[Q];return J}var kD=()=>{};function Ip(Z){let J=iI[Z];if(J===void 0)iI[Z]=M0("resource");return J}var iI,aI,U8;var TZ=F(()=>{F5();t1();M1();iI=Object.create(null);aI=class Z extends e0{constructor(J={}){super();this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,J={...Z.defaultOptions,...J},this.addressMode=J.addressMode,this.addressModeU=J.addressModeU??this.addressModeU,this.addressModeV=J.addressModeV??this.addressModeV,this.addressModeW=J.addressModeW??this.addressModeW,this.scaleMode=J.scaleMode,this.magFilter=J.magFilter??this.magFilter,this.minFilter=J.minFilter??this.minFilter,this.mipmapFilter=J.mipmapFilter??this.mipmapFilter,this.lodMinClamp=J.lodMinClamp,this.lodMaxClamp=J.lodMaxClamp,this.compare=J.compare,this.maxAnisotropy=J.maxAnisotropy??1}set addressMode(J){this.addressModeU=J,this.addressModeV=J,this.addressModeW=J}get addressMode(){return this.addressModeU}set wrapMode(J){q0(Y0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=J}get wrapMode(){return this.addressMode}set scaleMode(J){this.magFilter=J,this.minFilter=J,this.mipmapFilter=J}get scaleMode(){return this.magFilter}set maxAnisotropy(J){if(this._maxAnisotropy=Math.min(J,16),this._maxAnisotropy>1)this.scaleMode="linear"}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){let J=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Ip(J),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};aI.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};U8=aI});var sI,x0;var l5=F(()=>{F5();$K();kD();t1();TZ();sI=class Z extends e0{constructor(J={}){super();if(this.options=J,this.uid=M0("textureSource"),this._resourceType="textureSource",this._resourceId=M0("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,J={...Z.defaultOptions,...J},this.label=J.label??"",this.resource=J.resource,this.autoGarbageCollect=J.autoGarbageCollect,this._resolution=J.resolution,J.width)this.pixelWidth=J.width*this._resolution;else this.pixelWidth=this.resource?this.resourceWidth??1:1;if(J.height)this.pixelHeight=J.height*this._resolution;else this.pixelHeight=this.resource?this.resourceHeight??1:1;this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=J.format,this.dimension=J.dimensions,this.mipLevelCount=J.mipLevelCount,this.autoGenerateMipmaps=J.autoGenerateMipmaps,this.sampleCount=J.sampleCount,this.antialias=J.antialias,this.alphaMode=J.alphaMode,this.style=new U8(OH(J)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(J){if(this.style===J)return;this._style?.off("change",this._onStyleChange,this),this._style=J,this._style?.on("change",this._onStyleChange,this),this._onStyleChange()}set maxAnisotropy(J){this._style.maxAnisotropy=J}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(J){this._style.addressMode=J}get repeatMode(){return this._style.addressMode}set repeatMode(J){this._style.addressMode=J}get magFilter(){return this._style.magFilter}set magFilter(J){this._style.magFilter=J}get minFilter(){return this._style.minFilter}set minFilter(J){this._style.minFilter=J}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(J){this._style.mipmapFilter=J}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(J){this._style.lodMinClamp=J}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(J){this._style.lodMaxClamp=J}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){let J=this._resolution;if(this.resize(this.resourceWidth/J,this.resourceHeight/J))return}this.emit("update",this)}destroy(){if(this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style)this._style.destroy(),this._style=null;this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=M0("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){let{resource:J}=this;return J.naturalWidth||J.videoWidth||J.displayWidth||J.width}get resourceHeight(){let{resource:J}=this;return J.naturalHeight||J.videoHeight||J.displayHeight||J.height}get resolution(){return this._resolution}set resolution(J){if(this._resolution===J)return;this._resolution=J,this.width=this.pixelWidth/J,this.height=this.pixelHeight/J}resize(J,Q,q){q||(q=this._resolution),J||(J=this.width),Q||(Q=this.height);let K=Math.round(J*q),X=Math.round(Q*q);if(this.width=K/q,this.height=X/q,this._resolution=q,this.pixelWidth===K&&this.pixelHeight===X)return!1;return this._refreshPOT(),this.pixelWidth=K,this.pixelHeight=X,this.emit("resize",this),this._resourceId=M0("resource"),this.emit("change",this),!0}updateMipmaps(){if(this.autoGenerateMipmaps&&this.mipLevelCount>1)this.emit("updateMipmaps",this)}set wrapMode(J){this._style.wrapMode=J}get wrapMode(){return this._style.wrapMode}set scaleMode(J){this._style.scaleMode=J}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=bD(this.pixelWidth)&&bD(this.pixelHeight)}static test(J){throw Error("Unimplemented")}};sI.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};x0=sI});function Tp(){for(let Z=0;Z<16;Z++){let J=[];PD.push(J);for(let Q=0;Q<16;Q++){let q=UH(SZ[Z]*SZ[Q]+kZ[Z]*bZ[Q]),K=UH(bZ[Z]*SZ[Q]+PZ[Z]*bZ[Q]),X=UH(SZ[Z]*kZ[Q]+kZ[Z]*PZ[Q]),z=UH(bZ[Z]*kZ[Q]+PZ[Z]*PZ[Q]);for(let Y=0;Y<16;Y++)if(SZ[Y]===q&&bZ[Y]===K&&kZ[Y]===X&&PZ[Y]===z){J.push(Y);break}}}for(let Z=0;Z<16;Z++){let J=new a;J.set(SZ[Z],bZ[Z],kZ[Z],PZ[Z],0,0),nI.push(J)}}var SZ,bZ,kZ,PZ,PD,nI,UH,s0;var vD=F(()=>{T0();SZ=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bZ=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kZ=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],PZ=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],PD=[],nI=[],UH=Math.sign;Tp();s0={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:(Z)=>SZ[Z],uY:(Z)=>bZ[Z],vX:(Z)=>kZ[Z],vY:(Z)=>PZ[Z],inv:(Z)=>{if(Z&8)return Z&15;return-Z&7},add:(Z,J)=>PD[Z][J],sub:(Z,J)=>PD[Z][s0.inv(J)],rotate180:(Z)=>Z^4,isVertical:(Z)=>(Z&3)===2,byDirection:(Z,J)=>{if(Math.abs(Z)*2<=Math.abs(J)){if(J>=0)return s0.S;return s0.N}else if(Math.abs(J)*2<=Math.abs(Z)){if(Z>0)return s0.E;return s0.W}else if(J>0){if(Z>0)return s0.SE;return s0.SW}else if(Z>0)return s0.NE;return s0.NW},matrixAppendRotationInv:(Z,J,Q=0,q=0)=>{let K=nI[s0.inv(J)];K.tx=Q,K.ty=q,Z.append(K)},transformRectCoords:(Z,J,Q,q)=>{let{x:K,y:X,width:z,height:Y}=Z,{x:O,y:U,width:A,height:D}=J;if(Q===s0.E)return q.set(K+O,X+U,z,Y),q;else if(Q===s0.S)return q.set(A-X-Y+O,K+U,Y,z);else if(Q===s0.W)return q.set(A-K-z+O,D-X-Y+U,z,Y);else if(Q===s0.N)return q.set(X+O,D-K-z+U,Y,z);return q.set(K+O,X+U,z,Y)}}});var fD=()=>{};var oI=()=>{};var IJ;var yD=F(()=>{g();l5();IJ=class IJ extends x0{constructor(Z){let J=Z.resource||new Float32Array(Z.width*Z.height*4),Q=Z.format;if(!Q)if(J instanceof Float32Array)Q="rgba32float";else if(J instanceof Int32Array)Q="rgba32uint";else if(J instanceof Uint32Array)Q="rgba32uint";else if(J instanceof Int16Array)Q="rgba16uint";else if(J instanceof Uint16Array)Q="rgba16uint";else if(J instanceof Int8Array)Q="bgra8unorm";else Q="bgra8unorm";super({...Z,resource:J,format:Q});this.uploadMethodId="buffer"}static test(Z){return Z instanceof Int8Array||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array}};IJ.extension=T.TextureSource});class AK{constructor(Z,J){if(this.mapCoord=new a,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof J>"u")this.clampMargin=Z.width<10?0:0.5;else this.clampMargin=J;this.isSimple=!1,this.texture=Z}get texture(){return this._texture}set texture(Z){if(this.texture===Z)return;this._texture?.removeListener("update",this.update,this),this._texture=Z,this._texture.addListener("update",this.update,this),this.update()}multiplyUvs(Z,J){if(J===void 0)J=Z;let Q=this.mapCoord;for(let q=0;q<Z.length;q+=2){let K=Z[q],X=Z[q+1];J[q]=K*Q.a+X*Q.c+Q.tx,J[q+1]=K*Q.b+X*Q.d+Q.ty}return J}update(){let Z=this._texture;this._updateID++;let J=Z.uvs;this.mapCoord.set(J.x1-J.x0,J.y1-J.y0,J.x3-J.x0,J.y3-J.y0,J.x0,J.y0);let{orig:Q,trim:q}=Z;if(q)tI.set(Q.width/q.width,0,0,Q.height/q.height,-q.x/q.width,-q.y/q.height),this.mapCoord.append(tI);let K=Z.source,X=this.uClampFrame,z=this.clampMargin/K._resolution,Y=this.clampOffset/K._resolution;return X[0]=(Z.frame.x+z+Y)/K.width,X[1]=(Z.frame.y+z+Y)/K.height,X[2]=(Z.frame.x+Z.frame.width-z+Y)/K.width,X[3]=(Z.frame.y+Z.frame.height-z+Y)/K.height,this.uClampOffset[0]=this.clampOffset/K.pixelWidth,this.uClampOffset[1]=this.clampOffset/K.pixelHeight,this.isSimple=Z.frame.width===K.width&&Z.frame.height===K.height&&Z.rotate===0,!0}}var tI;var hD=F(()=>{T0();tI=new a});var p;var p0=F(()=>{F5();vD();r1();t1();M1();oI();yD();l5();hD();p=class p extends e0{constructor({source:Z,label:J,frame:Q,orig:q,trim:K,defaultAnchor:X,defaultBorders:z,rotate:Y,dynamic:O}={}){super();if(this.uid=M0("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new U0,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=J,this.source=Z?.source??new x0,this.noFrame=!Q,Q)this.frame.copyFrom(Q);else{let{width:U,height:A}=this._source;this.frame.width=U,this.frame.height=A}this.orig=q||this.frame,this.trim=K,this.rotate=Y??0,this.defaultAnchor=X,this.defaultBorders=z,this.destroyed=!1,this.dynamic=O||!1,this.updateUvs()}set source(Z){if(this._source)this._source.off("resize",this.update,this);this._source=Z,Z.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){if(!this._textureMatrix)this._textureMatrix=new AK(this);return this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){let{uvs:Z,frame:J}=this,{width:Q,height:q}=this._source,K=J.x/Q,X=J.y/q,z=J.width/Q,Y=J.height/q,O=this.rotate;if(O){let U=z/2,A=Y/2,D=K+U,_=X+A;O=s0.add(O,s0.NW),Z.x0=D+U*s0.uX(O),Z.y0=_+A*s0.uY(O),O=s0.add(O,2),Z.x1=D+U*s0.uX(O),Z.y1=_+A*s0.uY(O),O=s0.add(O,2),Z.x2=D+U*s0.uX(O),Z.y2=_+A*s0.uY(O),O=s0.add(O,2),Z.x3=D+U*s0.uX(O),Z.y3=_+A*s0.uY(O)}else Z.x0=K,Z.y0=X,Z.x1=K+z,Z.y1=X,Z.x2=K+z,Z.y2=X+Y,Z.x3=K,Z.y3=X+Y}destroy(Z=!1){if(this._source){if(Z)this._source.destroy(),this._source=null}this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){if(this.noFrame)this.frame.width=this._source.width,this.frame.height=this._source.height;this.updateUvs(),this.emit("update",this)}get baseTexture(){return q0(Y0,"Texture.baseTexture is now Texture.source"),this._source}};p.EMPTY=new p({label:"EMPTY",source:new x0({label:"EMPTY"})});p.EMPTY.destroy=fD;p.WHITE=new p({source:new IJ({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});p.WHITE.destroy=fD});class rI{constructor(Z){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=Z||{},this.enableFullScreen=!1,this.textureStyle=new U8(this.textureOptions)}createTexture(Z,J,Q){let q=new x0({...this.textureOptions,width:Z,height:J,resolution:1,antialias:Q,autoGarbageCollect:!1});return new p({source:q,label:`texturePool_${Sp++}`})}getOptimalTexture(Z,J,Q=1,q){let K=Math.ceil(Z*Q-0.000001),X=Math.ceil(J*Q-0.000001);K=Z7(K),X=Z7(X);let z=(K<<17)+(X<<1)+(q?1:0);if(!this._texturePool[z])this._texturePool[z]=[];let Y=this._texturePool[z].pop();if(!Y)Y=this.createTexture(K,X,q);return Y.source._resolution=Q,Y.source.width=K/Q,Y.source.height=X/Q,Y.source.pixelWidth=K,Y.source.pixelHeight=X,Y.frame.x=0,Y.frame.y=0,Y.frame.width=Z,Y.frame.height=J,Y.updateUvs(),this._poolKeyHash[Y.uid]=z,Y}getSameSizeTexture(Z,J=!1){let Q=Z.source;return this.getOptimalTexture(Z.width,Z.height,Q._resolution,J)}returnTexture(Z,J=!1){let Q=this._poolKeyHash[Z.uid];if(J)Z.source.style=this.textureStyle;this._texturePool[Q].push(Z)}clear(Z){if(Z=Z!==!1,Z)for(let J in this._texturePool){let Q=this._texturePool[J];if(Q)for(let q=0;q<Q.length;q++)Q[q].destroy(!0)}this._texturePool={}}}var Sp=0,n0;var z4=F(()=>{$K();EZ();l5();p0();TZ();n0=new rI;D6.register(n0)});class TJ{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new a,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new UK,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(Z){if(this.root=Z,Z._onRender)this.addOnRender(Z);Z.didChange=!0;let J=Z.children;for(let Q=0;Q<J.length;Q++){let q=J[Q];q._updateFlags=15,this.addChild(q)}}enableCacheAsTexture(Z={}){this.textureOptions=Z,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){if(this.isCachedAsTexture=!1,this.texture)n0.returnTexture(this.texture,!0),this.texture=null}updateCacheTexture(){this.textureNeedsUpdate=!0;let Z=this._parentCacheAsTextureRenderGroup;if(Z&&!Z.textureNeedsUpdate)Z.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(let Z in this.childrenToUpdate){let J=this.childrenToUpdate[Z];J.list.fill(null),J.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(Z){if(Z.renderGroupParent)Z.renderGroupParent._removeRenderGroupChild(Z);Z.renderGroupParent=this,this.renderGroupChildren.push(Z)}_removeRenderGroupChild(Z){let J=this.renderGroupChildren.indexOf(Z);if(J>-1)this.renderGroupChildren.splice(J,1);Z.renderGroupParent=null}addChild(Z){if(this.structureDidChange=!0,Z.parentRenderGroup=this,Z.updateTick=-1,Z.parent===this.root)Z.relativeRenderGroupDepth=1;else Z.relativeRenderGroupDepth=Z.parent.relativeRenderGroupDepth+1;if(Z.didChange=!0,this.onChildUpdate(Z),Z.renderGroup){this.addRenderGroupChild(Z.renderGroup);return}if(Z._onRender)this.addOnRender(Z);let J=Z.children;for(let Q=0;Q<J.length;Q++)this.addChild(J[Q])}removeChild(Z){if(this.structureDidChange=!0,Z._onRender){if(!Z.renderGroup)this.removeOnRender(Z)}if(Z.parentRenderGroup=null,Z.renderGroup){this._removeRenderGroupChild(Z.renderGroup);return}let J=Z.children;for(let Q=0;Q<J.length;Q++)this.removeChild(J[Q])}removeChildren(Z){for(let J=0;J<Z.length;J++)this.removeChild(Z[J])}onChildUpdate(Z){let J=this.childrenToUpdate[Z.relativeRenderGroupDepth];if(!J)J=this.childrenToUpdate[Z.relativeRenderGroupDepth]={index:0,list:[]};J.list[J.index++]=Z}updateRenderable(Z){if(Z.globalDisplayStatus<7)return;this.instructionSet.renderPipes[Z.renderPipeId].updateRenderable(Z),Z.didViewUpdate=!1}onChildViewUpdate(Z){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=Z}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(Z){this._onRenderContainers.push(Z)}removeOnRender(Z){this._onRenderContainers.splice(this._onRenderContainers.indexOf(Z),1)}runOnRender(Z){for(let J=0;J<this._onRenderContainers.length;J++)this._onRenderContainers[J]._onRender(Z)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(Z=[]){let J=this.root.children;for(let Q=0;Q<J.length;Q++)this._getChildren(J[Q],Z);return Z}_getChildren(Z,J=[]){if(J.push(Z),Z.renderGroup)return J;let Q=Z.children;for(let q=0;q<Q.length;q++)this._getChildren(Q[q],J);return J}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){if((this._matrixDirty&1)===0)return this._inverseWorldTransform;return this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new a),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()}get textureOffsetInverseTransform(){if((this._matrixDirty&2)===0)return this._textureOffsetInverseTransform;return this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new a),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;let Z=this._parentCacheAsTextureRenderGroup;if(Z)return this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new a),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(Z.inverseWorldTransform).translate(-Z._textureBounds.x,-Z._textureBounds.y);return this.worldTransform}get cacheToLocalTransform(){if(this.isCachedAsTexture)return this.textureOffsetInverseTransform;if(!this._parentCacheAsTextureRenderGroup)return null;return this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform}}var xD=F(()=>{T0();SD();z4()});function eI(Z,J,Q={}){for(let q in J)if(!Q[q]&&J[q]!==void 0)Z[q]=J[q]}var ZT=()=>{};var gD,$H,mD,AH,SJ=1,DK=2,vZ=4,P0;var v6=F(()=>{F5();b5();HI();g();T0();GD();jD();t1();M1();l0();N4();MI();GI();jI();RI();II();bI();fI();gI();dI();uI();pI();xD();ZT();gD=new Y5(null),$H=new Y5(null),mD=new Y5(null,1,1),AH=new Y5(null);P0=class P0 extends e0{constructor(Z={}){super();this.uid=M0("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new a,this.relativeGroupTransform=new a,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Y5(this,0,0),this._scale=mD,this._pivot=$H,this._origin=AH,this._skew=gD,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],eI(this,Z,{children:!0,parent:!0,effects:!0}),Z.children?.forEach((J)=>this.addChild(J)),Z.parent?.addChild(this)}static mixin(Z){q0("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Z0.mixin(P0,Z)}set _didChangeId(Z){this._didViewChangeTick=Z>>12&4095,this._didContainerChangeTick=Z&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...Z){if(!this.allowChildren)q0(Y0,"addChild: Only Containers will be allowed to add children in v8.0.0");if(Z.length>1){for(let q=0;q<Z.length;q++)this.addChild(Z[q]);return Z[0]}let J=Z[0],Q=this.renderGroup||this.parentRenderGroup;if(J.parent===this){if(this.children.splice(this.children.indexOf(J),1),this.children.push(J),Q)Q.structureDidChange=!0;return J}if(J.parent)J.parent.removeChild(J);if(this.children.push(J),this.sortableChildren)this.sortDirty=!0;if(J.parent=this,J.didChange=!0,J._updateFlags=15,Q)Q.addChild(J);if(this.emit("childAdded",J,this,this.children.length-1),J.emit("added",this),this._didViewChangeTick++,J._zIndex!==0)J.depthOfChildModified();return J}removeChild(...Z){if(Z.length>1){for(let q=0;q<Z.length;q++)this.removeChild(Z[q]);return Z[0]}let J=Z[0],Q=this.children.indexOf(J);if(Q>-1){if(this._didViewChangeTick++,this.children.splice(Q,1),this.renderGroup)this.renderGroup.removeChild(J);else if(this.parentRenderGroup)this.parentRenderGroup.removeChild(J);if(J.parentRenderLayer)J.parentRenderLayer.detach(J);J.parent=null,this.emit("childRemoved",J,this,Q),J.emit("removed",this)}return J}_onUpdate(Z){if(Z){if(Z===this._skew)this._updateSkew()}if(this._didContainerChangeTick++,this.didChange)return;if(this.didChange=!0,this.parentRenderGroup)this.parentRenderGroup.onChildUpdate(this)}set isRenderGroup(Z){if(!!this.renderGroup===Z)return;if(Z)this.enableRenderGroup();else this.disableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),this.renderGroup=Z1.get(TJ,this),this.groupTransform=a.IDENTITY,Z?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),Z1.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,Z?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){if(this._worldTransform||(this._worldTransform=new a),this.renderGroup)this._worldTransform.copyFrom(this.renderGroup.worldTransform);else if(this.parentRenderGroup)this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform);return this._worldTransform}get x(){return this._position.x}set x(Z){this._position.x=Z}get y(){return this._position.y}set y(Z){this._position.y=Z}get position(){return this._position}set position(Z){this._position.copyFrom(Z)}get rotation(){return this._rotation}set rotation(Z){if(this._rotation!==Z)this._rotation=Z,this._onUpdate(this._skew)}get angle(){return this.rotation*VI}set angle(Z){this.rotation=Z*OI}get pivot(){if(this._pivot===$H)this._pivot=new Y5(this,0,0);return this._pivot}set pivot(Z){if(this._pivot===$H){if(this._pivot=new Y5(this,0,0),this._origin!==AH)e("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._pivot.set(Z):this._pivot.copyFrom(Z)}get skew(){if(this._skew===gD)this._skew=new Y5(this,0,0);return this._skew}set skew(Z){if(this._skew===gD)this._skew=new Y5(this,0,0);this._skew.copyFrom(Z)}get scale(){if(this._scale===mD)this._scale=new Y5(this,1,1);return this._scale}set scale(Z){if(this._scale===mD)this._scale=new Y5(this,0,0);if(typeof Z==="string")Z=parseFloat(Z);typeof Z==="number"?this._scale.set(Z):this._scale.copyFrom(Z)}get origin(){if(this._origin===AH)this._origin=new Y5(this,0,0);return this._origin}set origin(Z){if(this._origin===AH){if(this._origin=new Y5(this,0,0),this._pivot!==$H)e("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._origin.set(Z):this._origin.copyFrom(Z)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(Z){let J=this.getLocalBounds().width;this._setWidth(Z,J)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(Z){let J=this.getLocalBounds().height;this._setHeight(Z,J)}getSize(Z){if(!Z)Z={};let J=this.getLocalBounds();return Z.width=Math.abs(this.scale.x*J.width),Z.height=Math.abs(this.scale.y*J.height),Z}setSize(Z,J){let Q=this.getLocalBounds();if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,Q.width),J!==void 0&&this._setHeight(J,Q.height)}_updateSkew(){let Z=this._rotation,J=this._skew;this._cx=Math.cos(Z+J._y),this._sx=Math.sin(Z+J._y),this._cy=-Math.sin(Z-J._x),this._sy=Math.cos(Z-J._x)}updateTransform(Z){return this.position.set(typeof Z.x==="number"?Z.x:this.position.x,typeof Z.y==="number"?Z.y:this.position.y),this.scale.set(typeof Z.scaleX==="number"?Z.scaleX||1:this.scale.x,typeof Z.scaleY==="number"?Z.scaleY||1:this.scale.y),this.rotation=typeof Z.rotation==="number"?Z.rotation:this.rotation,this.skew.set(typeof Z.skewX==="number"?Z.skewX:this.skew.x,typeof Z.skewY==="number"?Z.skewY:this.skew.y),this.pivot.set(typeof Z.pivotX==="number"?Z.pivotX:this.pivot.x,typeof Z.pivotY==="number"?Z.pivotY:this.pivot.y),this.origin.set(typeof Z.originX==="number"?Z.originX:this.origin.x,typeof Z.originY==="number"?Z.originY:this.origin.y),this}setFromMatrix(Z){Z.decompose(this)}updateLocalTransform(){let Z=this._didContainerChangeTick;if(this._didLocalTransformChangeId===Z)return;this._didLocalTransformChangeId=Z;let J=this.localTransform,Q=this._scale,q=this._pivot,K=this._origin,X=this._position,z=Q._x,Y=Q._y,O=q._x,U=q._y,A=-K._x,D=-K._y;J.a=this._cx*z,J.b=this._sx*z,J.c=this._cy*Y,J.d=this._sy*Y,J.tx=X._x-(O*J.a+U*J.c)+(A*J.a+D*J.c)-A,J.ty=X._y-(O*J.b+U*J.d)+(A*J.b+D*J.d)-D}set alpha(Z){if(Z===this.localAlpha)return;this.localAlpha=Z,this._updateFlags|=SJ,this._onUpdate()}get alpha(){return this.localAlpha}set tint(Z){let Q=j0.shared.setValue(Z??16777215).toBgrNumber();if(Q===this.localColor)return;this.localColor=Q,this._updateFlags|=SJ,this._onUpdate()}get tint(){return OK(this.localColor)}set blendMode(Z){if(this.localBlendMode===Z)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=DK,this.localBlendMode=Z,this._onUpdate()}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(Z){let J=Z?2:0;if((this.localDisplayStatus&2)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=vZ,this.localDisplayStatus^=2,this._onUpdate()}get culled(){return!(this.localDisplayStatus&4)}set culled(Z){let J=Z?0:4;if((this.localDisplayStatus&4)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=vZ,this.localDisplayStatus^=4,this._onUpdate()}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(Z){let J=Z?1:0;if((this.localDisplayStatus&1)===J)return;if(this._updateFlags|=vZ,this.localDisplayStatus^=1,this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._onUpdate()}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(Z=!1){if(this.destroyed)return;this.destroyed=!0;let J;if(this.children.length)J=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof Z==="boolean"?Z:Z?.children)&&J)for(let q=0;q<J.length;++q)J[q].destroy(Z);this.renderGroup?.destroy(),this.renderGroup=null}};Z0.mixin(P0,WI,SI,lI,mI,xI,LI,EI,cI,zI,_I,vI,FI)});var H4;var BK=F(()=>{H4=((Z)=>{return Z[Z.INTERACTION=50]="INTERACTION",Z[Z.HIGH=25]="HIGH",Z[Z.NORMAL=0]="NORMAL",Z[Z.LOW=-25]="LOW",Z[Z.UTILITY=-50]="UTILITY",Z})(H4||{})});class _K{constructor(Z,J=null,Q=0,q=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=Z,this._context=J,this.priority=Q,this._once=q}match(Z,J=null){return this._fn===Z&&this._context===J}emit(Z){if(this._fn)if(this._context)this._fn.call(this._context,Z);else this._fn(Z);let J=this.next;if(this._once)this.destroy(!0);if(this._destroyed)this.next=null;return J}connect(Z){if(this.previous=Z,Z.next)Z.next.previous=this;this.next=Z.next,Z.next=this}destroy(Z=!1){if(this._destroyed=!0,this._fn=null,this._context=null,this.previous)this.previous.next=this.next;if(this.next)this.next.previous=this.previous;let J=this.next;return this.next=Z?null:J,this.previous=null,J}}var JT=()=>{};var QT=class Z{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _K(null,null,1/0),this.deltaMS=1/Z.targetFPMS,this.elapsedMS=1/Z.targetFPMS,this._tick=(J)=>{if(this._requestId=null,this.started){if(this.update(J),this.started&&this._requestId===null&&this._head.next)this._requestId=requestAnimationFrame(this._tick)}}}_requestIfNeeded(){if(this._requestId===null&&this._head.next)this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick)}_cancelIfNeeded(){if(this._requestId!==null)cancelAnimationFrame(this._requestId),this._requestId=null}_startIfPossible(){if(this.started)this._requestIfNeeded();else if(this.autoStart)this.start()}add(J,Q,q=H4.NORMAL){return this._addListener(new _K(J,Q,q))}addOnce(J,Q,q=H4.NORMAL){return this._addListener(new _K(J,Q,q,!0))}_addListener(J){let Q=this._head.next,q=this._head;if(!Q)J.connect(q);else{while(Q){if(J.priority>Q.priority){J.connect(q);break}q=Q,Q=Q.next}if(!J.previous)J.connect(q)}return this._startIfPossible(),this}remove(J,Q){let q=this._head.next;while(q)if(q.match(J,Q))q=q.destroy();else q=q.next;if(!this._head.next)this._cancelIfNeeded();return this}get count(){if(!this._head)return 0;let J=0,Q=this._head;while(Q=Q.next)J++;return J}start(){if(!this.started)this.started=!0,this._requestIfNeeded()}stop(){if(this.started)this.started=!1,this._cancelIfNeeded()}destroy(){if(!this._protected){this.stop();let J=this._head.next;while(J)J=J.destroy(!0);this._head.destroy(),this._head=null}}update(J=performance.now()){let Q;if(J>this.lastTime){if(Q=this.elapsedMS=J-this.lastTime,Q>this._maxElapsedMS)Q=this._maxElapsedMS;if(Q*=this.speed,this._minElapsedMS){let X=J-this._lastFrame|0;if(X<this._minElapsedMS)return;this._lastFrame=J-X%this._minElapsedMS}this.deltaMS=Q,this.deltaTime=this.deltaMS*Z.targetFPMS;let q=this._head,K=q.next;while(K)K=K.emit(this);if(!q.next)this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=J}get FPS(){return 1000/this.elapsedMS}get minFPS(){return 1000/this._maxElapsedMS}set minFPS(J){let Q=Math.min(this.maxFPS,J),q=Math.min(Math.max(0,Q)/1000,Z.targetFPMS);this._maxElapsedMS=1/q}get maxFPS(){if(this._minElapsedMS)return Math.round(1000/this._minElapsedMS);return 0}set maxFPS(J){if(J===0)this._minElapsedMS=0;else{let Q=Math.max(this.minFPS,J);this._minElapsedMS=1/(Q/1000)}}static get shared(){if(!Z._shared){let J=Z._shared=new Z;J.autoStart=!0,J._protected=!0}return Z._shared}static get system(){if(!Z._system){let J=Z._system=new Z;J.autoStart=!0,J._protected=!0}return Z._system}},j5;var bJ=F(()=>{BK();JT();QT.targetFPMS=0.06;j5=QT});class MK{constructor(Z){if(this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;let J=this._canvas.getBoundingClientRect(),Q=this._canvas.width,q=this._canvas.height,K=J.width/Q*this._renderer.resolution,X=J.height/q*this._renderer.resolution,z=J.left,Y=J.top,O=`translate(${z}px, ${Y}px) scale(${K}, ${X})`;if(O!==this._lastTransform)this._domElement.style.transform=O,this._lastTransform=O},this._domElement=Z.domElement,this._renderer=Z.renderer,globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas)return;this._canvas=this._renderer.canvas,this._attachObserver()}get canvas(){return this._canvas}ensureAttached(){if(!this._domElement.parentNode&&this._canvas.parentNode)this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation()}_attachObserver(){if("ResizeObserver"in globalThis){if(this._observer)this._observer.disconnect(),this._observer=null;this._observer=new ResizeObserver((Z)=>{for(let J of Z){if(J.target!==this._canvas)continue;let Q=this.canvas.width,q=this.canvas.height,K=J.contentRect.width/Q*this._renderer.resolution,X=J.contentRect.height/q*this._renderer.resolution;if(this._lastScaleX!==K||this._lastScaleY!==X)this.updateTranslation(),this._lastScaleX=K,this._lastScaleY=X}}),this._observer.observe(this._canvas)}else if(!this._tickerAttached)j5.shared.add(this.updateTranslation,this,H4.HIGH)}destroy(){if(this._observer)this._observer.disconnect(),this._observer=null;else if(this._tickerAttached)j5.shared.remove(this.updateTranslation);this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}var dD=F(()=>{BK();bJ()});class B9{constructor(Z){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=B9.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new b0,this.page=new b0,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=Z}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){if(this.manager&&(!this.path||this.path[this.path.length-1]!==this.target))this.path=this.target?this.manager.propagationPath(this.target):[];return this.path}initEvent(Z,J,Q){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(Z,J,Q,q,K){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){if(this.nativeEvent instanceof Event&&this.nativeEvent.cancelable)this.nativeEvent.preventDefault();this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var DH=F(()=>{P6()});function bp(Z){return function(J){return J.test(Z)}}function WK(Z){var J={userAgent:"",platform:"",maxTouchPoints:0};if(!Z&&typeof navigator<"u")J={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};else if(typeof Z==="string")J.userAgent=Z;else if(Z&&Z.userAgent)J={userAgent:Z.userAgent,platform:Z.platform,maxTouchPoints:Z.maxTouchPoints||0};var Q=J.userAgent,q=Q.split("[FBAN");if(typeof q[1]<"u")Q=q[0];if(q=Q.split("Twitter"),typeof q[1]<"u")Q=q[0];var K=bp(Q),X={apple:{phone:K(cD)&&!K(J7),ipod:K(qT),tablet:!K(cD)&&(K(KT)||$T(J))&&!K(J7),universal:K(XT),device:(K(cD)||K(qT)||K(KT)||K(XT)||$T(J))&&!K(J7)},amazon:{phone:K(kJ),tablet:!K(kJ)&&K(BH),device:K(kJ)||K(BH)},android:{phone:!K(J7)&&K(kJ)||!K(J7)&&K(uD),tablet:!K(J7)&&!K(kJ)&&!K(uD)&&(K(BH)||K(NT)),device:!K(J7)&&(K(kJ)||K(BH)||K(uD)||K(NT))||K(/\bokhttp\b/i)},windows:{phone:K(J7),tablet:K(zT),device:K(J7)||K(zT)},other:{blackberry:K(HT),blackberry10:K(YT),opera:K(VT),firefox:K(UT),chrome:K(OT),device:K(HT)||K(YT)||K(VT)||K(UT)||K(OT)},any:!1,phone:!1,tablet:!1};return X.any=X.apple.device||X.android.device||X.windows.device||X.other.device,X.phone=X.apple.phone||X.android.phone||X.windows.phone,X.tablet=X.apple.tablet||X.android.tablet||X.windows.tablet,X}var cD,qT,KT,XT,uD,NT,kJ,BH,J7,zT,HT,YT,VT,OT,UT,$T=function(Z){return typeof Z<"u"&&Z.platform==="MacIntel"&&typeof Z.maxTouchPoints==="number"&&Z.maxTouchPoints>1&&typeof MSStream>"u"};var lD=F(()=>{cD=/iPhone/i,qT=/iPod/i,KT=/iPad/i,XT=/\biOS-universal(?:.+)Mac\b/i,uD=/\bAndroid(?:.+)Mobile\b/i,NT=/Android/i,kJ=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,BH=/Silk/i,J7=/Windows Phone/i,zT=/\bWindows(?:.+)ARM\b/i,HT=/BlackBerry/i,YT=/BB10/i,VT=/Opera Mini/i,OT=/\b(CriOS|Chrome)(?:.+)Mobile/i,UT=/Mobile(?:.+)Firefox\b/i});var AT=F(()=>{lD();lD()});var kp,DT;var BT=F(()=>{AT();kp=WK.default??WK,DT=kp(globalThis.navigator)});var Pp=9,_T=100,vp=0,fp=0,MT=2,WT=1,yp=-1000,hp=-1000,xp=2,pD=class Z{constructor(J,Q=DT){if(this._mobileInfo=Q,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pools={},this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._isRunningTests=!1,this._boundOnKeyDown=this._onKeyDown.bind(this),this._boundOnMouseMove=this._onMouseMove.bind(this),this._hookDiv=null,Q.tablet||Q.phone)this._createTouchHook();this._renderer=J}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}get div(){return this._div}_createTouchHook(){let J=document.createElement("button");J.style.width=`${WT}px`,J.style.height=`${WT}px`,J.style.position="absolute",J.style.top=`${yp}px`,J.style.left=`${hp}px`,J.style.zIndex=xp.toString(),J.style.backgroundColor="#FF0000",J.title="select to enable accessibility for this content",J.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(J),this._hookDiv=J}_destroyTouchHook(){if(!this._hookDiv)return;document.body.removeChild(this._hookDiv),this._hookDiv=null}_activate(){if(this._isActive)return;if(this._isActive=!0,!this._div)this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top=`${vp}px`,this._div.style.left=`${fp}px`,this._div.style.pointerEvents="none",this._div.style.zIndex=MT.toString(),this._canvasObserver=new MK({domElement:this._div,renderer:this._renderer});if(this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);if(this._deactivateOnMouseMove)globalThis.document.addEventListener("mousemove",this._boundOnMouseMove,!0);let J=this._renderer.view.canvas;if(!J.parentNode){let Q=new MutationObserver(()=>{if(J.parentNode)Q.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()});Q.observe(document.body,{childList:!0,subtree:!0})}else this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()}_initAccessibilitySetup(){if(this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered)this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!this._isActive||this._isMobileAccessibility)return;if(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);this._renderer.runners.postrender.remove(this);for(let J of this._children){if(J._accessibleDiv&&J._accessibleDiv.parentNode)J._accessibleDiv.parentNode.removeChild(J._accessibleDiv),J._accessibleDiv=null;J._accessibleActive=!1}for(let J in this._pools)this._pools[J].forEach((q)=>{if(q.parentNode)q.parentNode.removeChild(q)}),delete this._pools[J];if(this._div&&this._div.parentNode)this._div.parentNode.removeChild(this._div);this._pools={},this._children=[]}_updateAccessibleObjects(J){if(!J.visible||!J.accessibleChildren)return;if(J.accessible){if(!J._accessibleActive)this._addChild(J);J._renderId=this._renderId}let Q=J.children;if(Q)for(let q=0;q<Q.length;q++)this._updateAccessibleObjects(Q[q])}init(J){let q={accessibilityOptions:{...Z.defaultOptions,...J?.accessibilityOptions||{}}};if(this.debug=q.accessibilityOptions.debug,this._activateOnTab=q.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=q.accessibilityOptions.deactivateOnMouseMove,q.accessibilityOptions.enabledByDefault)this._activate();this._renderer.runners.postrender.remove(this)}postrender(){let J=performance.now();if(this._mobileInfo.android.device&&J<this._androidUpdateCount)return;if(this._androidUpdateCount=J+this._androidUpdateFrequency,(!this._renderer.renderingToScreen||!this._renderer.view.canvas)&&!this._isRunningTests)return;let Q=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(let q of this._children)if(q._renderId===this._renderId)Q.add(this._children.indexOf(q))}for(let q=this._children.length-1;q>=0;q--){let K=this._children[q];if(!Q.has(q)){if(K._accessibleDiv&&K._accessibleDiv.parentNode)K._accessibleDiv.parentNode.removeChild(K._accessibleDiv),this._getPool(K.accessibleType).push(K._accessibleDiv),K._accessibleDiv=null;K._accessibleActive=!1,KH(this._children,q,1)}}if(this._renderer.renderingToScreen)this._canvasObserver.ensureAttached();for(let q=0;q<this._children.length;q++){let K=this._children[q];if(!K._accessibleActive||!K._accessibleDiv)continue;let X=K._accessibleDiv,z=K.hitArea||K.getBounds().rectangle;if(K.hitArea){let Y=K.worldTransform;X.style.left=`${Y.tx+z.x*Y.a}px`,X.style.top=`${Y.ty+z.y*Y.d}px`,X.style.width=`${z.width*Y.a}px`,X.style.height=`${z.height*Y.d}px`}else this._capHitArea(z),X.style.left=`${z.x}px`,X.style.top=`${z.y}px`,X.style.width=`${z.width}px`,X.style.height=`${z.height}px`}this._renderId++}_updateDebugHTML(J){J.innerHTML=`type: ${J.type}</br> title : ${J.title}</br> tabIndex: ${J.tabIndex}`}_capHitArea(J){if(J.x<0)J.width+=J.x,J.x=0;if(J.y<0)J.height+=J.y,J.y=0;let{width:Q,height:q}=this._renderer;if(J.x+J.width>Q)J.width=Q-J.x;if(J.y+J.height>q)J.height=q-J.y}_addChild(J){let q=this._getPool(J.accessibleType).pop();if(q)q.innerHTML="",q.removeAttribute("title"),q.removeAttribute("aria-label"),q.tabIndex=0;else{if(J.accessibleType==="button")q=document.createElement("button");else if(q=document.createElement(J.accessibleType),q.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,J.accessibleText)q.innerText=J.accessibleText;if(q.style.width=`${_T}px`,q.style.height=`${_T}px`,q.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",q.style.position="absolute",q.style.zIndex=MT.toString(),q.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome"))q.setAttribute("aria-live","off");else q.setAttribute("aria-live","polite");if(navigator.userAgent.match(/rv:.*Gecko\//))q.setAttribute("aria-relevant","additions");else q.setAttribute("aria-relevant","text");q.addEventListener("click",this._onClick.bind(this)),q.addEventListener("focus",this._onFocus.bind(this)),q.addEventListener("focusout",this._onFocusOut.bind(this))}if(q.style.pointerEvents=J.accessiblePointerEvents,q.type=J.accessibleType,J.accessibleTitle&&J.accessibleTitle!==null)q.title=J.accessibleTitle;else if(!J.accessibleHint||J.accessibleHint===null)q.title=`container ${J.tabIndex}`;if(J.accessibleHint&&J.accessibleHint!==null)q.setAttribute("aria-label",J.accessibleHint);if(J.interactive)q.tabIndex=J.tabIndex;else q.tabIndex=0;if(this.debug)this._updateDebugHTML(q);J._accessibleActive=!0,J._accessibleDiv=q,q.container=J,this._children.push(J),this._div.appendChild(J._accessibleDiv)}_dispatchEvent(J,Q){let{container:q}=J.target,K=this._renderer.events.rootBoundary,X=Object.assign(new B9(K),{target:q});K.rootTarget=this._renderer.lastObjectRendered,Q.forEach((z)=>K.dispatchEvent(X,z))}_onClick(J){this._dispatchEvent(J,["click","pointertap","tap"])}_onFocus(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","assertive");this._dispatchEvent(J,["mouseover"])}_onFocusOut(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","polite");this._dispatchEvent(J,["mouseout"])}_onKeyDown(J){if(J.keyCode!==Pp||!this._activateOnTab)return;this._activate()}_onMouseMove(J){if(J.movementX===0&&J.movementY===0)return;this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._canvasObserver?.destroy(),this._canvasObserver=null,this._div=null,this._pools=null,this._children=null,this._renderer=null,this._hookDiv=null,globalThis.removeEventListener("keydown",this._boundOnKeyDown),this._boundOnKeyDown=null,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._boundOnMouseMove=null}setAccessibilityEnabled(J){if(J)this._activate();else this._deactivate()}_getPool(J){if(!this._pools[J])this._pools[J]=[];return this._pools[J]}},GT;var FT=F(()=>{dD();DH();g();BT();RD();pD.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"accessibility"};pD.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};GT=pD});var jT;var wT=F(()=>{jT={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1}});var CT=F(()=>{g();v6();FT();wT();Z0.add(GT);Z0.mixin(P0,jT)});class _H{static init(Z){Object.defineProperty(this,"resizeTo",{set(J){if(globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=J,J)globalThis.addEventListener("resize",this.queueResize),this.resize()},get(){return this._resizeTo}}),this.queueResize=()=>{if(!this._resizeTo)return;this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize())},this._cancelResize=()=>{if(this._resizeId)cancelAnimationFrame(this._resizeId),this._resizeId=null},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let J,Q;if(this._resizeTo===globalThis.window)J=globalThis.innerWidth,Q=globalThis.innerHeight;else{let{clientWidth:q,clientHeight:K}=this._resizeTo;J=q,Q=K}this.renderer.resize(J,Q),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=Z.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}var LT=F(()=>{g();_H.extension=T.Application});class MH{static init(Z){if(Z=Object.assign({autoStart:!0,sharedTicker:!1},Z),Object.defineProperty(this,"ticker",{set(J){if(this._ticker)this._ticker.remove(this.render,this);if(this._ticker=J,J)J.add(this.render,this,H4.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=Z.sharedTicker?j5.shared:new j5,Z.autoStart)this.start()}static destroy(){if(this._ticker){let Z=this._ticker;this.ticker=null,Z.destroy()}}}var RT=F(()=>{g();BK();bJ();MH.extension=T.Application});var iD=F(()=>{g();LT();RT();Z0.add(_H);Z0.add(MH)});class ET{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(Z){this.removeTickerListener(),this.events=Z,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(Z){this._pauseUpdate=Z}addTickerListener(){if(this._tickerAdded||!this.domElement)return;j5.system.add(this._tickerUpdate,this,H4.INTERACTION),this._tickerAdded=!0}removeTickerListener(){if(!this._tickerAdded)return;j5.system.remove(this._tickerUpdate,this),this._tickerAdded=!1}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let Z=this.events._rootPointerEvent;if(this.events.supportsTouchEvents&&Z.pointerType==="touch")return;globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:Z.clientX,clientY:Z.clientY,pointerType:Z.pointerType,pointerId:Z.pointerId}):new MouseEvent("mousemove",{clientX:Z.clientX,clientY:Z.clientY}))}_tickerUpdate(Z){if(this._deltaTime+=Z.deltaTime,this._deltaTime<this.interactionFrequency)return;this._deltaTime=0,this._update()}destroy(){this.removeTickerListener(),this.events=null,this.domElement=null,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}}var f6;var aD=F(()=>{BK();bJ();f6=new ET});var _9;var WH=F(()=>{P6();DH();_9=class _9 extends B9{constructor(){super(...arguments);this.client=new b0,this.movement=new b0,this.offset=new b0,this.global=new b0,this.screen=new b0}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(Z,J,Q){return Z.worldTransform.applyInverse(Q||this.global,J)}getModifierState(Z){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(Z)}initMouseEvent(Z,J,Q,q,K,X,z,Y,O,U,A,D,_,W,j){throw Error("Method not implemented.")}}});var $8;var sD=F(()=>{WH();$8=class $8 extends _9{constructor(){super(...arguments);this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){if(this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove")return[this];return[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}}});var Q7;var nD=F(()=>{WH();Q7=class Q7 extends _9{constructor(){super(...arguments);this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}};Q7.DOM_DELTA_PIXEL=0;Q7.DOM_DELTA_LINE=1;Q7.DOM_DELTA_PAGE=2});class oD{constructor(Z){this.dispatch=new e0,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=Z,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(Z,J){if(!this.mappingTable[Z])this.mappingTable[Z]=[];this.mappingTable[Z].push({fn:J,priority:0}),this.mappingTable[Z].sort((Q,q)=>Q.priority-q.priority)}dispatchEvent(Z,J){Z.propagationStopped=!1,Z.propagationImmediatelyStopped=!1,this.propagate(Z,J),this.dispatch.emit(J||Z.type,Z)}mapEvent(Z){if(!this.rootTarget)return;let J=this.mappingTable[Z.type];if(J)for(let Q=0,q=J.length;Q<q;Q++)J[Q].fn(Z);else e(`[EventBoundary]: Event mapping not defined for ${Z.type}`)}hitTest(Z,J){f6.pauseUpdate=!0;let q=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",K=this[q](this.rootTarget,this.rootTarget.eventMode,mp.set(Z,J),this.hitTestFn,this.hitPruneFn);return K&&K[0]}propagate(Z,J){if(!Z.target)return;let Q=Z.composedPath();Z.eventPhase=Z.CAPTURING_PHASE;for(let q=0,K=Q.length-1;q<K;q++)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;if(Z.eventPhase=Z.AT_TARGET,Z.currentTarget=Z.target,this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;Z.eventPhase=Z.BUBBLING_PHASE;for(let q=Q.length-2;q>=0;q--)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return}all(Z,J,Q=this._allInteractiveElements){if(Q.length===0)return;Z.eventPhase=Z.BUBBLING_PHASE;let q=Array.isArray(J)?J:[J];for(let K=Q.length-1;K>=0;K--)q.forEach((X)=>{Z.currentTarget=Q[K],this.notifyTarget(Z,X)})}propagationPath(Z){let J=[Z];for(let Q=0;Q<gp&&(Z!==this.rootTarget&&Z.parent);Q++){if(!Z.parent)throw Error("Cannot find propagation path to disconnected target");J.push(Z.parent),Z=Z.parent}return J.reverse(),J}hitTestMoveRecursive(Z,J,Q,q,K,X=!1){let z=!1;if(this._interactivePrune(Z))return null;if(Z.eventMode==="dynamic"||J==="dynamic")f6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let U=Z.children;for(let A=U.length-1;A>=0;A--){let D=U[A],_=this.hitTestMoveRecursive(D,this._isInteractive(J)?J:D.eventMode,Q,q,K,X||K(Z,Q));if(_){if(_.length>0&&!_[_.length-1].parent)continue;let W=Z.isInteractive();if(_.length>0||W){if(W)this._allInteractiveElements.push(Z);_.push(Z)}if(this._hitElements.length===0)this._hitElements=_;z=!0}}}let Y=this._isInteractive(J),O=Z.isInteractive();if(O&&O)this._allInteractiveElements.push(Z);if(X||this._hitElements.length>0)return null;if(z)return this._hitElements;if(Y&&(!K(Z,Q)&&q(Z,Q)))return O?[Z]:[];return null}hitTestRecursive(Z,J,Q,q,K){if(this._interactivePrune(Z)||K(Z,Q))return null;if(Z.eventMode==="dynamic"||J==="dynamic")f6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let Y=Z.children,O=Q;for(let U=Y.length-1;U>=0;U--){let A=Y[U],D=this.hitTestRecursive(A,this._isInteractive(J)?J:A.eventMode,O,q,K);if(D){if(D.length>0&&!D[D.length-1].parent)continue;let _=Z.isInteractive();if(D.length>0||_)D.push(Z);return D}}}let X=this._isInteractive(J),z=Z.isInteractive();if(X&&q(Z,Q))return z?[Z]:[];return null}_isInteractive(Z){return Z==="static"||Z==="dynamic"}_interactivePrune(Z){if(!Z||!Z.visible||!Z.renderable||!Z.measurable)return!0;if(Z.eventMode==="none")return!0;if(Z.eventMode==="passive"&&!Z.interactiveChildren)return!0;return!1}hitPruneFn(Z,J){if(Z.hitArea){if(Z.worldTransform.applyInverse(J,GK),!Z.hitArea.contains(GK.x,GK.y))return!0}if(Z.effects&&Z.effects.length)for(let Q=0;Q<Z.effects.length;Q++){let q=Z.effects[Q];if(q.containsPoint){if(!q.containsPoint(J,this.hitTestFn))return!0}}return!1}hitTestFn(Z,J){if(Z.hitArea)return!0;if(Z?.containsPoint)return Z.worldTransform.applyInverse(J,GK),Z.containsPoint(GK);return!1}notifyTarget(Z,J){if(!Z.currentTarget.isInteractive())return;J??(J=Z.type);let Q=`on${J}`;Z.currentTarget[Q]?.(Z);let q=Z.eventPhase===Z.CAPTURING_PHASE||Z.eventPhase===Z.AT_TARGET?`${J}capture`:J;if(this._notifyListeners(Z,q),Z.eventPhase===Z.AT_TARGET)this._notifyListeners(Z,J)}mapPointerDown(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.createPointerEvent(Z);if(this.dispatchEvent(J,"pointerdown"),J.pointerType==="touch")this.dispatchEvent(J,"touchstart");else if(J.pointerType==="mouse"||J.pointerType==="pen"){let q=J.button===2;this.dispatchEvent(J,q?"rightdown":"mousedown")}let Q=this.trackingData(Z.pointerId);Q.pressTargetsByButton[Z.button]=J.composedPath(),this.freeEvent(J)}mapPointerMove(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let J=this.createPointerEvent(Z);this._isPointerMoveEvent=!1;let Q=J.pointerType==="mouse"||J.pointerType==="pen",q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.overTargets);if(q.overTargets?.length>0&&K!==J.target){let Y=Z.type==="mousemove"?"mouseout":"pointerout",O=this.createPointerEvent(Z,Y,K);if(this.dispatchEvent(O,"pointerout"),Q)this.dispatchEvent(O,"mouseout");if(!J.composedPath().includes(K)){let U=this.createPointerEvent(Z,"pointerleave",K);U.eventPhase=U.AT_TARGET;while(U.target&&!J.composedPath().includes(U.target)){if(U.currentTarget=U.target,this.notifyTarget(U),Q)this.notifyTarget(U,"mouseleave");U.target=U.target.parent}this.freeEvent(U)}this.freeEvent(O)}if(K!==J.target){let Y=Z.type==="mousemove"?"mouseover":"pointerover",O=this.clonePointerEvent(J,Y);if(this.dispatchEvent(O,"pointerover"),Q)this.dispatchEvent(O,"mouseover");let U=K?.parent;while(U&&U!==this.rootTarget.parent){if(U===J.target)break;U=U.parent}if(!U||U===this.rootTarget.parent){let D=this.clonePointerEvent(J,"pointerenter");D.eventPhase=D.AT_TARGET;while(D.target&&D.target!==K&&D.target!==this.rootTarget.parent){if(D.currentTarget=D.target,this.notifyTarget(D),Q)this.notifyTarget(D,"mouseenter");D.target=D.target.parent}this.freeEvent(D)}this.freeEvent(O)}let X=[],z=this.enableGlobalMoveEvents??!0;if(this.moveOnAll?X.push("pointermove"):this.dispatchEvent(J,"pointermove"),z&&X.push("globalpointermove"),J.pointerType==="touch")this.moveOnAll?X.splice(1,0,"touchmove"):this.dispatchEvent(J,"touchmove"),z&&X.push("globaltouchmove");if(Q)this.moveOnAll?X.splice(1,0,"mousemove"):this.dispatchEvent(J,"mousemove"),z&&X.push("globalmousemove"),this.cursor=J.target?.cursor;if(X.length>0)this.all(J,X);this._allInteractiveElements.length=0,this._hitElements.length=0,q.overTargets=J.composedPath(),this.freeEvent(J)}mapPointerOver(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.createPointerEvent(Z),q=Q.pointerType==="mouse"||Q.pointerType==="pen";if(this.dispatchEvent(Q,"pointerover"),q)this.dispatchEvent(Q,"mouseover");if(Q.pointerType==="mouse")this.cursor=Q.target?.cursor;let K=this.clonePointerEvent(Q,"pointerenter");K.eventPhase=K.AT_TARGET;while(K.target&&K.target!==this.rootTarget.parent){if(K.currentTarget=K.target,this.notifyTarget(K),q)this.notifyTarget(K,"mouseenter");K.target=K.target.parent}J.overTargets=Q.composedPath(),this.freeEvent(Q),this.freeEvent(K)}mapPointerOut(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId);if(J.overTargets){let Q=Z.pointerType==="mouse"||Z.pointerType==="pen",q=this.findMountedTarget(J.overTargets),K=this.createPointerEvent(Z,"pointerout",q);if(this.dispatchEvent(K),Q)this.dispatchEvent(K,"mouseout");let X=this.createPointerEvent(Z,"pointerleave",q);X.eventPhase=X.AT_TARGET;while(X.target&&X.target!==this.rootTarget.parent){if(X.currentTarget=X.target,this.notifyTarget(X),Q)this.notifyTarget(X,"mouseleave");X.target=X.target.parent}J.overTargets=null,this.freeEvent(K),this.freeEvent(X)}this.cursor=null}mapPointerUp(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=performance.now(),Q=this.createPointerEvent(Z);if(this.dispatchEvent(Q,"pointerup"),Q.pointerType==="touch")this.dispatchEvent(Q,"touchend");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let z=Q.button===2;this.dispatchEvent(Q,z?"rightup":"mouseup")}let q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.pressTargetsByButton[Z.button]),X=K;if(K&&!Q.composedPath().includes(K)){let z=K;while(z&&!Q.composedPath().includes(z)){if(Q.currentTarget=z,this.notifyTarget(Q,"pointerupoutside"),Q.pointerType==="touch")this.notifyTarget(Q,"touchendoutside");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let Y=Q.button===2;this.notifyTarget(Q,Y?"rightupoutside":"mouseupoutside")}z=z.parent}delete q.pressTargetsByButton[Z.button],X=z}if(X){let z=this.clonePointerEvent(Q,"click");if(z.target=X,z.path=null,!q.clicksByButton[Z.button])q.clicksByButton[Z.button]={clickCount:0,target:z.target,timeStamp:J};let Y=q.clicksByButton[Z.button];if(Y.target===z.target&&J-Y.timeStamp<200)++Y.clickCount;else Y.clickCount=1;if(Y.target=z.target,Y.timeStamp=J,z.detail=Y.clickCount,z.pointerType==="mouse"){let O=z.button===2;this.dispatchEvent(z,O?"rightclick":"click")}else if(z.pointerType==="touch")this.dispatchEvent(z,"tap");this.dispatchEvent(z,"pointertap"),this.freeEvent(z)}this.freeEvent(Q)}mapPointerUpOutside(Z){if(!(Z instanceof $8)){e("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.findMountedTarget(J.pressTargetsByButton[Z.button]),q=this.createPointerEvent(Z);if(Q){let K=Q;while(K){if(q.currentTarget=K,this.notifyTarget(q,"pointerupoutside"),q.pointerType==="touch")this.notifyTarget(q,"touchendoutside");else if(q.pointerType==="mouse"||q.pointerType==="pen")this.notifyTarget(q,q.button===2?"rightupoutside":"mouseupoutside");K=K.parent}delete J.pressTargetsByButton[Z.button]}this.freeEvent(q)}mapWheel(Z){if(!(Z instanceof Q7)){e("EventBoundary cannot map a non-wheel event as a wheel event");return}let J=this.createWheelEvent(Z);this.dispatchEvent(J),this.freeEvent(J)}findMountedTarget(Z){if(!Z)return null;let J=Z[0];for(let Q=1;Q<Z.length;Q++)if(Z[Q].parent===J)J=Z[Q];else break;return J}createPointerEvent(Z,J,Q){let q=this.allocateEvent($8);if(this.copyPointerData(Z,q),this.copyMouseData(Z,q),this.copyData(Z,q),q.nativeEvent=Z.nativeEvent,q.originalEvent=Z,q.target=Q??this.hitTest(q.global.x,q.global.y)??this._hitElements[0],typeof J==="string")q.type=J;return q}createWheelEvent(Z){let J=this.allocateEvent(Q7);return this.copyWheelData(Z,J),this.copyMouseData(Z,J),this.copyData(Z,J),J.nativeEvent=Z.nativeEvent,J.originalEvent=Z,J.target=this.hitTest(J.global.x,J.global.y),J}clonePointerEvent(Z,J){let Q=this.allocateEvent($8);return Q.nativeEvent=Z.nativeEvent,Q.originalEvent=Z.originalEvent,this.copyPointerData(Z,Q),this.copyMouseData(Z,Q),this.copyData(Z,Q),Q.target=Z.target,Q.path=Z.composedPath().slice(),Q.type=J??Q.type,Q}copyWheelData(Z,J){J.deltaMode=Z.deltaMode,J.deltaX=Z.deltaX,J.deltaY=Z.deltaY,J.deltaZ=Z.deltaZ}copyPointerData(Z,J){if(!(Z instanceof $8&&J instanceof $8))return;J.pointerId=Z.pointerId,J.width=Z.width,J.height=Z.height,J.isPrimary=Z.isPrimary,J.pointerType=Z.pointerType,J.pressure=Z.pressure,J.tangentialPressure=Z.tangentialPressure,J.tiltX=Z.tiltX,J.tiltY=Z.tiltY,J.twist=Z.twist}copyMouseData(Z,J){if(!(Z instanceof _9&&J instanceof _9))return;J.altKey=Z.altKey,J.button=Z.button,J.buttons=Z.buttons,J.client.copyFrom(Z.client),J.ctrlKey=Z.ctrlKey,J.metaKey=Z.metaKey,J.movement.copyFrom(Z.movement),J.screen.copyFrom(Z.screen),J.shiftKey=Z.shiftKey,J.global.copyFrom(Z.global)}copyData(Z,J){J.isTrusted=Z.isTrusted,J.srcElement=Z.srcElement,J.timeStamp=performance.now(),J.type=Z.type,J.detail=Z.detail,J.view=Z.view,J.which=Z.which,J.layer.copyFrom(Z.layer),J.page.copyFrom(Z.page)}trackingData(Z){if(!this.mappingState.trackingData[Z])this.mappingState.trackingData[Z]={pressTargetsByButton:{},clicksByButton:{},overTarget:null};return this.mappingState.trackingData[Z]}allocateEvent(Z){if(!this.eventPool.has(Z))this.eventPool.set(Z,[]);let J=this.eventPool.get(Z).pop()||new Z(this);return J.eventPhase=J.NONE,J.currentTarget=null,J.defaultPrevented=!1,J.path=null,J.target=null,J}freeEvent(Z){if(Z.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let J=Z.constructor;if(!this.eventPool.has(J))this.eventPool.set(J,[]);this.eventPool.get(J).push(Z)}_notifyListeners(Z,J){let Q=Z.currentTarget._events[J];if(!Q)return;if("fn"in Q){if(Q.once)Z.currentTarget.removeListener(J,Q.fn,void 0,!0);Q.fn.call(Q.context,Z)}else for(let q=0,K=Q.length;q<K&&!Z.propagationImmediatelyStopped;q++){if(Q[q].once)Z.currentTarget.removeListener(J,Q[q].fn,void 0,!0);Q[q].fn.call(Q[q].context,Z)}}}var gp=2048,mp,GK;var IT=F(()=>{F5();P6();l0();aD();WH();sD();nD();mp=new b0,GK=new b0});var dp=1,cp,tD=class Z{constructor(J){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=J,this.rootBoundary=new oD(null),f6.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new $8(null),this._rootWheelEvent=new Q7(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Z.defaultEventFeatures},{set:(Q,q,K)=>{if(q==="globalMove")this.rootBoundary.enableGlobalMoveEvents=K;return Q[q]=K,!0}}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(J){let{canvas:Q,resolution:q}=this.renderer;this.setTargetElement(Q),this.resolution=q,Z._defaultEventMode=J.eventMode??"passive",Object.assign(this.features,J.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(J){this.resolution=J}destroy(){f6.destroy(),this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(J){J||(J="default");let Q=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas)Q=!1;if(this._currentCursor===J)return;this._currentCursor=J;let q=this.cursorStyles[J];if(q)switch(typeof q){case"string":if(Q)this.domElement.style.cursor=q;break;case"function":q(J);break;case"object":if(Q)Object.assign(this.domElement.style,q);break}else if(Q&&typeof J==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,J))this.domElement.style.cursor=J}get pointer(){return this._rootPointerEvent}_onPointerDown(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);if(this.autoPreventDefault&&Q[0].isNormalized){if(J.cancelable||!("cancelable"in J))J.preventDefault()}for(let q=0,K=Q.length;q<K;q++){let X=Q[q],z=this._bootstrapEvent(this._rootPointerEvent,X);this.rootBoundary.mapEvent(z)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(J){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,f6.pointerMoved();let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=J.target;if(J.composedPath&&J.composedPath().length>0)Q=J.composedPath()[0];let q=Q!==this.domElement?"outside":"",K=this._normalizeToPointerData(J);for(let X=0,z=K.length;X<z;X++){let Y=this._bootstrapEvent(this._rootPointerEvent,K[X]);Y.type+=q,this.rootBoundary.mapEvent(Y)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}onWheel(J){if(!this.features.wheel)return;let Q=this.normalizeWheelEvent(J);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(Q)}setTargetElement(J){this._removeEvents(),this.domElement=J,f6.domElement=J,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;f6.addTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="none",J.msTouchAction="none";else if(this.supportsPointerEvents)J.touchAction="none"}if(this.supportsPointerEvents)globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0);this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;f6.removeTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="",J.msTouchAction="";else if(this.supportsPointerEvents)J.touchAction=""}if(this.supportsPointerEvents)globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0);this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(J,Q,q){let K=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},X=1/this.resolution;J.x=(Q-K.left)*(this.domElement.width/K.width)*X,J.y=(q-K.top)*(this.domElement.height/K.height)*X}_normalizeToPointerData(J){let Q=[];if(this.supportsTouchEvents&&J instanceof TouchEvent)for(let q=0,K=J.changedTouches.length;q<K;q++){let X=J.changedTouches[q];if(typeof X.button>"u")X.button=0;if(typeof X.buttons>"u")X.buttons=1;if(typeof X.isPrimary>"u")X.isPrimary=J.touches.length===1&&J.type==="touchstart";if(typeof X.width>"u")X.width=X.radiusX||1;if(typeof X.height>"u")X.height=X.radiusY||1;if(typeof X.tiltX>"u")X.tiltX=0;if(typeof X.tiltY>"u")X.tiltY=0;if(typeof X.pointerType>"u")X.pointerType="touch";if(typeof X.pointerId>"u")X.pointerId=X.identifier||0;if(typeof X.pressure>"u")X.pressure=X.force||0.5;if(typeof X.twist>"u")X.twist=0;if(typeof X.tangentialPressure>"u")X.tangentialPressure=0;if(typeof X.layerX>"u")X.layerX=X.offsetX=X.clientX;if(typeof X.layerY>"u")X.layerY=X.offsetY=X.clientY;X.isNormalized=!0,X.type=J.type,Q.push(X)}else if(!globalThis.MouseEvent||J instanceof MouseEvent&&(!this.supportsPointerEvents||!(J instanceof globalThis.PointerEvent))){let q=J;if(typeof q.isPrimary>"u")q.isPrimary=!0;if(typeof q.width>"u")q.width=1;if(typeof q.height>"u")q.height=1;if(typeof q.tiltX>"u")q.tiltX=0;if(typeof q.tiltY>"u")q.tiltY=0;if(typeof q.pointerType>"u")q.pointerType="mouse";if(typeof q.pointerId>"u")q.pointerId=dp;if(typeof q.pressure>"u")q.pressure=0.5;if(typeof q.twist>"u")q.twist=0;if(typeof q.tangentialPressure>"u")q.tangentialPressure=0;q.isNormalized=!0,Q.push(q)}else Q.push(J);return Q}normalizeWheelEvent(J){let Q=this._rootWheelEvent;return this._transferMouseData(Q,J),Q.deltaX=J.deltaX,Q.deltaY=J.deltaY,Q.deltaZ=J.deltaZ,Q.deltaMode=J.deltaMode,this.mapPositionToPoint(Q.screen,J.clientX,J.clientY),Q.global.copyFrom(Q.screen),Q.offset.copyFrom(Q.screen),Q.nativeEvent=J,Q.type=J.type,Q}_bootstrapEvent(J,Q){if(J.originalEvent=null,J.nativeEvent=Q,J.pointerId=Q.pointerId,J.width=Q.width,J.height=Q.height,J.isPrimary=Q.isPrimary,J.pointerType=Q.pointerType,J.pressure=Q.pressure,J.tangentialPressure=Q.tangentialPressure,J.tiltX=Q.tiltX,J.tiltY=Q.tiltY,J.twist=Q.twist,this._transferMouseData(J,Q),this.mapPositionToPoint(J.screen,Q.clientX,Q.clientY),J.global.copyFrom(J.screen),J.offset.copyFrom(J.screen),J.isTrusted=Q.isTrusted,J.type==="pointerleave")J.type="pointerout";if(J.type.startsWith("mouse"))J.type=J.type.replace("mouse","pointer");if(J.type.startsWith("touch"))J.type=cp[J.type]||J.type;return J}_transferMouseData(J,Q){J.isTrusted=Q.isTrusted,J.srcElement=Q.srcElement,J.timeStamp=performance.now(),J.type=Q.type,J.altKey=Q.altKey,J.button=Q.button,J.buttons=Q.buttons,J.client.x=Q.clientX,J.client.y=Q.clientY,J.ctrlKey=Q.ctrlKey,J.metaKey=Q.metaKey,J.movement.x=Q.movementX,J.movement.y=Q.movementY,J.page.x=Q.pageX,J.page.y=Q.pageY,J.relatedTarget=null,J.shiftKey=Q.shiftKey}},GH;var rD=F(()=>{g();IT();aD();sD();nD();cp={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};tD.extension={name:"events",type:[T.WebGLSystem,T.CanvasSystem,T.WebGPUSystem],priority:-1};tD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};GH=tD});var TT;var ST=F(()=>{rD();DH();TT={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(Z){this.eventMode=Z?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??GH.defaultEventMode},set eventMode(Z){this._internalEventMode=Z},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof Q==="object"?Q.signal:void 0,X=typeof Q==="object"?Q.once===!0:!1,z=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z;let Y=typeof J==="function"?J:J.handleEvent,O=this;if(K)K.addEventListener("abort",()=>{O.off(Z,Y,z)});if(X)O.once(Z,Y,z);else O.on(Z,Y,z)},removeEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z,J=typeof J==="function"?J:J.handleEvent,this.off(Z,J,K)},dispatchEvent(Z){if(!(Z instanceof B9))throw Error("Container cannot propagate events outside of the Federated Events API");return Z.defaultPrevented=!1,Z.path=null,Z.target=this,Z.manager.dispatchEvent(Z),!Z.defaultPrevented}}});var bT=F(()=>{g();v6();rD();ST();Z0.add(GH);Z0.mixin(P0,TT)});class FH{constructor(Z){this._attachedDomElements=[],this._renderer=Z,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new MK({domElement:this._domElement,renderer:this._renderer})}addRenderable(Z,J){if(!this._attachedDomElements.includes(Z))this._attachedDomElements.push(Z)}updateRenderable(Z){}validateRenderable(Z){return!0}postrender(){let Z=this._attachedDomElements;if(Z.length===0){this._domElement.remove();return}this._canvasObserver.ensureAttached();for(let J=0;J<Z.length;J++){let Q=Z[J],q=Q.element;if(!Q.parent||Q.globalDisplayStatus<7)q?.remove(),Z.splice(J,1),J--;else{if(!this._domElement.contains(q))q.style.position="absolute",q.style.pointerEvents="auto",this._domElement.appendChild(q);let{worldTransform:K,_anchor:X}=Q,z=Q.width*X.x,Y=Q.height*X.y;q.style.transformOrigin=`${z}px ${Y}px`,q.style.transform=`matrix(${K.a}, ${K.b}, ${K.c}, ${K.d}, ${K.tx-z}, ${K.ty-Y})`,q.style.opacity=Q.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let Z=0;Z<this._attachedDomElements.length;Z++)this._attachedDomElements[Z].element?.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}var kT=F(()=>{g();dD();FH.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"dom"}});var FK;var eD=F(()=>{O8();v6();FK=class FK extends P0{constructor(Z){super(Z);this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new J1(0,1,0,0),this._boundsDirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;return this.updateBounds(),this._boundsDirty=!1,this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(Z){this._roundPixels=Z?1:0}containsPoint(Z){let J=this.bounds,{x:Q,y:q}=Z;return Q>=J.minX&&Q<=J.maxX&&q>=J.minY&&q<=J.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.onChildViewUpdate(this)}destroy(Z){super.destroy(Z),this._bounds=null;for(let J in this._gpuData)this._gpuData[J].destroy?.();this._gpuData=null}collectRenderablesSimple(Z,J,Q){let{renderPipes:q}=J;q.blendMode.pushBlendMode(this,this.groupBlendMode,Z),q[this.renderPipeId].addRenderable(this,Z),this.didViewUpdate=!1;let X=this.children,z=X.length;for(let Y=0;Y<z;Y++)X[Y].collectRenderables(Z,J,Q);q.blendMode.popBlendMode(Z)}}});var PT=F(()=>{g();kT();Z0.add(FH)});var p5;var M9=F(()=>{p5=((Z)=>{return Z[Z.Low=0]="Low",Z[Z.Normal=1]="Normal",Z[Z.High=2]="High",Z})(p5||{})});var vT;var fT=F(()=>{vT={createCanvas:(Z,J)=>{let Q=document.createElement("canvas");return Q.width=Z,Q.height=J,Q},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(Z,J)=>fetch(Z,J),parseXML:(Z)=>{return new DOMParser().parseFromString(Z,"text/xml")}}});var yT,K0;var i0=F(()=>{fT();yT=vT,K0={get(){return yT},set(Z){yT=Z}}});function y6(Z){if(typeof Z!=="string")throw TypeError(`Path must be a string. Received ${JSON.stringify(Z)}`)}function jK(Z){return Z.split("?")[0].split("#")[0]}function up(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function lp(Z,J,Q){return Z.replace(new RegExp(up(J),"g"),Q)}function pp(Z,J){let Q="",q=0,K=-1,X=0,z=-1;for(let Y=0;Y<=Z.length;++Y){if(Y<Z.length)z=Z.charCodeAt(Y);else if(z===47)break;else z=47;if(z===47){if(K===Y-1||X===1);else if(K!==Y-1&&X===2){if(Q.length<2||q!==2||Q.charCodeAt(Q.length-1)!==46||Q.charCodeAt(Q.length-2)!==46){if(Q.length>2){let O=Q.lastIndexOf("/");if(O!==Q.length-1){if(O===-1)Q="",q=0;else Q=Q.slice(0,O),q=Q.length-1-Q.lastIndexOf("/");K=Y,X=0;continue}}else if(Q.length===2||Q.length===1){Q="",q=0,K=Y,X=0;continue}}if(J){if(Q.length>0)Q+="/..";else Q="..";q=2}}else{if(Q.length>0)Q+=`/${Z.slice(K+1,Y)}`;else Q=Z.slice(K+1,Y);q=Y-K-1}K=Y,X=0}else if(z===46&&X!==-1)++X;else X=-1}return Q}var e1;var fZ=F(()=>{i0();e1={toPosix(Z){return lp(Z,"\\","/")},isUrl(Z){return/^https?:/.test(this.toPosix(Z))},isDataUrl(Z){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(Z)},isBlobUrl(Z){return Z.startsWith("blob:")},hasProtocol(Z){return/^[^/:]+:/.test(this.toPosix(Z))},getProtocol(Z){y6(Z),Z=this.toPosix(Z);let J=/^file:\/\/\//.exec(Z);if(J)return J[0];let Q=/^[^/:]+:\/{0,2}/.exec(Z);if(Q)return Q[0];return""},toAbsolute(Z,J,Q){if(y6(Z),this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;let q=jK(this.toPosix(J??K0.get().getBaseUrl())),K=jK(this.toPosix(Q??this.rootname(q)));if(Z=this.toPosix(Z),Z.startsWith("/"))return e1.join(K,Z.slice(1));return this.isAbsolute(Z)?Z:this.join(q,Z)},normalize(Z){if(y6(Z),Z.length===0)return".";if(this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;Z=this.toPosix(Z);let J="",Q=Z.startsWith("/");if(this.hasProtocol(Z))J=this.rootname(Z),Z=Z.slice(J.length);let q=Z.endsWith("/");if(Z=pp(Z,!1),Z.length>0&&q)Z+="/";if(Q)return`/${Z}`;return J+Z},isAbsolute(Z){if(y6(Z),Z=this.toPosix(Z),this.hasProtocol(Z))return!0;return Z.startsWith("/")},join(...Z){if(Z.length===0)return".";let J;for(let Q=0;Q<Z.length;++Q){let q=Z[Q];if(y6(q),q.length>0)if(J===void 0)J=q;else{let K=Z[Q-1]??"";if(this.joinExtensions.includes(this.extname(K).toLowerCase()))J+=`/../${q}`;else J+=`/${q}`}}if(J===void 0)return".";return this.normalize(J)},dirname(Z){if(y6(Z),Z.length===0)return".";Z=this.toPosix(Z);let J=Z.charCodeAt(0),Q=J===47,q=-1,K=!0,X=this.getProtocol(Z),z=Z;Z=Z.slice(X.length);for(let Y=Z.length-1;Y>=1;--Y)if(J=Z.charCodeAt(Y),J===47){if(!K){q=Y;break}}else K=!1;if(q===-1)return Q?"/":this.isUrl(z)?X+Z:X;if(Q&&q===1)return"//";return X+Z.slice(0,q)},rootname(Z){y6(Z),Z=this.toPosix(Z);let J="";if(Z.startsWith("/"))J="/";else J=this.getProtocol(Z);if(this.isUrl(Z)){let Q=Z.indexOf("/",J.length);if(Q!==-1)J=Z.slice(0,Q);else J=Z;if(!J.endsWith("/"))J+="/"}return J},basename(Z,J){if(y6(Z),J)y6(J);Z=jK(this.toPosix(Z));let Q=0,q=-1,K=!0,X;if(J!==void 0&&J.length>0&&J.length<=Z.length){if(J.length===Z.length&&J===Z)return"";let z=J.length-1,Y=-1;for(X=Z.length-1;X>=0;--X){let O=Z.charCodeAt(X);if(O===47){if(!K){Q=X+1;break}}else{if(Y===-1)K=!1,Y=X+1;if(z>=0)if(O===J.charCodeAt(z)){if(--z===-1)q=X}else z=-1,q=Y}}if(Q===q)q=Y;else if(q===-1)q=Z.length;return Z.slice(Q,q)}for(X=Z.length-1;X>=0;--X)if(Z.charCodeAt(X)===47){if(!K){Q=X+1;break}}else if(q===-1)K=!1,q=X+1;if(q===-1)return"";return Z.slice(Q,q)},extname(Z){y6(Z),Z=jK(this.toPosix(Z));let J=-1,Q=0,q=-1,K=!0,X=0;for(let z=Z.length-1;z>=0;--z){let Y=Z.charCodeAt(z);if(Y===47){if(!K){Q=z+1;break}continue}if(q===-1)K=!1,q=z+1;if(Y===46){if(J===-1)J=z;else if(X!==1)X=1}else if(J!==-1)X=-1}if(J===-1||q===-1||X===0||X===1&&J===q-1&&J===Q+1)return"";return Z.slice(J,q)},parse(Z){y6(Z);let J={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return J;Z=jK(this.toPosix(Z));let Q=Z.charCodeAt(0),q=this.isAbsolute(Z),K,X="";if(J.root=this.rootname(Z),q||this.hasProtocol(Z))K=1;else K=0;let z=-1,Y=0,O=-1,U=!0,A=Z.length-1,D=0;for(;A>=K;--A){if(Q=Z.charCodeAt(A),Q===47){if(!U){Y=A+1;break}continue}if(O===-1)U=!1,O=A+1;if(Q===46){if(z===-1)z=A;else if(D!==1)D=1}else if(z!==-1)D=-1}if(z===-1||O===-1||D===0||D===1&&z===O-1&&z===Y+1){if(O!==-1)if(Y===0&&q)J.base=J.name=Z.slice(1,O);else J.base=J.name=Z.slice(Y,O)}else{if(Y===0&&q)J.name=Z.slice(1,z),J.base=Z.slice(1,O);else J.name=Z.slice(Y,z),J.base=Z.slice(Y,O);J.ext=Z.slice(z,O)}if(J.dir=this.dirname(Z),X)J.dir=X+J.dir;return J},sep:"/",delimiter:":",joinExtensions:[".html"]}});var i5=(Z,J,Q=!1)=>{if(!Array.isArray(Z))Z=[Z];if(!J)return Z;return Z.map((q)=>{if(typeof q==="string"||Q)return J(q);return q})};var wK=()=>{};function hT(Z,J,Q,q,K){let X=J[Q];for(let z=0;z<X.length;z++){let Y=X[z];if(Q<J.length-1)hT(Z.replace(q[Q],Y),J,Q+1,q,K);else K.push(Z.replace(q[Q],Y))}}function xT(Z){let J=/\{(.*?)\}/g,Q=Z.match(J),q=[];if(Q){let K=[];Q.forEach((X)=>{let z=X.substring(1,X.length-1).split(",");K.push(z)}),hT(Z,K,0,Q,q)}else q.push(Z);return q}var gT=()=>{};var yZ=(Z)=>!Array.isArray(Z);var jH=()=>{};class B6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(Z,J)=>`${Z}${this._bundleIdConnector}${J}`,extractAssetIdFromBundle:(Z,J)=>J.replace(`${Z}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(Z){if(this._bundleIdConnector=Z.connector??this._bundleIdConnector,this._createBundleAssetId=Z.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=Z.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...Z){Z.forEach((J)=>{if(this._preferredOrder.push(J),!J.priority)J.priority=Object.keys(J.params)}),this._resolverHash={}}set basePath(Z){this._basePath=Z}get basePath(){return this._basePath}set rootPath(Z){this._rootPath=Z}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(Z){if(typeof Z==="string")this._defaultSearchParams=Z;else{let J=Z;this._defaultSearchParams=Object.keys(J).map((Q)=>`${encodeURIComponent(Q)}=${encodeURIComponent(J[Q])}`).join("&")}}getAlias(Z){let{alias:J,src:Q}=Z;return i5(J||Q,(K)=>{if(typeof K==="string")return K;if(Array.isArray(K))return K.map((X)=>X?.src??X);if(K?.src)return K.src;return K},!0)}addManifest(Z){if(this._manifest)e("[Resolver] Manifest already exists, this will be overwritten");this._manifest=Z,Z.bundles.forEach((J)=>{this.addBundle(J.name,J.assets)})}addBundle(Z,J){let Q=[],q=J;if(!Array.isArray(J))q=Object.entries(J).map(([K,X])=>{if(typeof X==="string"||Array.isArray(X))return{alias:K,src:X};return{alias:K,...X}});q.forEach((K)=>{let{src:X,alias:z}=K,Y;if(typeof z==="string"){let O=this._createBundleAssetId(Z,z);Q.push(O),Y=[z,O]}else{let O=z.map((U)=>this._createBundleAssetId(Z,U));Q.push(...O),Y=[...z,...O]}this.add({...K,...{alias:Y,src:X}})}),this._bundles[Z]=Q}add(Z){let J=[];if(Array.isArray(Z))J.push(...Z);else J.push(Z);let Q;Q=(K)=>{if(this.hasKey(K))e(`[Resolver] already has key: ${K} overwriting`)},i5(J).forEach((K)=>{let{src:X}=K,{data:z,format:Y,loadParser:O,parser:U}=K,A=i5(X).map((W)=>{if(typeof W==="string")return xT(W);return Array.isArray(W)?W:[W]}),D=this.getAlias(K);Array.isArray(D)?D.forEach(Q):Q(D);let _=[];A.forEach((W)=>{W.forEach((j)=>{let C={};if(typeof j!=="object"){C.src=j;for(let R=0;R<this._parsers.length;R++){let G=this._parsers[R];if(G.test(j)){C=G.parse(j);break}}}else{if(z=j.data??z,Y=j.format??Y,j.loadParser||j.parser)O=j.loadParser??O,U=j.parser??U;C={...C,...j}}if(!D)throw Error(`[Resolver] alias is undefined for this asset: ${C.src}`);C=this._buildResolvedAsset(C,{aliases:D,data:z,format:Y,loadParser:O,parser:U,progressSize:K.progressSize}),_.push(C)})}),D.forEach((W)=>{this._assetMap[W]=_})})}resolveBundle(Z){let J=yZ(Z);Z=i5(Z);let Q={};return Z.forEach((q)=>{let K=this._bundles[q];if(K){let X=this.resolve(K),z={};for(let Y in X){let O=X[Y];z[this._extractAssetIdFromBundle(q,Y)]=O}Q[q]=z}}),J?Q[Z[0]]:Q}resolveUrl(Z){let J=this.resolve(Z);if(typeof Z!=="string"){let Q={};for(let q in J)Q[q]=J[q].src;return Q}return J.src}resolve(Z){let J=yZ(Z);Z=i5(Z);let Q={};return Z.forEach((q)=>{if(!this._resolverHash[q])if(this._assetMap[q]){let K=this._assetMap[q],X=this._getPreferredOrder(K);X?.priority.forEach((z)=>{X.params[z].forEach((Y)=>{let O=K.filter((U)=>{if(U[z])return U[z]===Y;return!1});if(O.length)K=O})}),this._resolverHash[q]=K[0]}else this._resolverHash[q]=this._buildResolvedAsset({alias:[q],src:q},{});Q[q]=this._resolverHash[q]}),J?Q[Z[0]]:Q}hasKey(Z){return!!this._assetMap[Z]}hasBundle(Z){return!!this._bundles[Z]}_getPreferredOrder(Z){for(let J=0;J<Z.length;J++){let Q=Z[J],q=this._preferredOrder.find((K)=>K.params.format.includes(Q.format));if(q)return q}return this._preferredOrder[0]}_appendDefaultSearchParams(Z){if(!this._defaultSearchParams)return Z;let J=/\?/.test(Z)?"&":"?";return`${Z}${J}${this._defaultSearchParams}`}_buildResolvedAsset(Z,J){let{aliases:Q,data:q,loadParser:K,parser:X,format:z,progressSize:Y}=J;if(this._basePath||this._rootPath)Z.src=e1.toAbsolute(Z.src,this._basePath,this._rootPath);if(Z.alias=Q??Z.alias??[Z.src],Z.src=this._appendDefaultSearchParams(Z.src),Z.data={...q||{},...Z.data},Z.loadParser=K??Z.loadParser,Z.parser=X??Z.parser,Z.format=z??Z.format??ip(Z.src),Y!==void 0)Z.progressSize=Y;return Z}}function ip(Z){return Z.split(".").pop().split("?").shift().split("#").shift()}var PJ=F(()=>{l0();fZ();wK();gT();jH();B6.RETINA_PREFIX=/@([0-9\.]+)x/});var CK=(Z,J)=>{let Q=J.split("?")[1];if(Q)Z+=`?${Q}`;return Z};var ZB=()=>{};var mT=class Z{constructor(J,Q){this.linkedSheets=[];let q=J;if(J?.source instanceof x0)q={texture:J,data:Q};let{texture:K,data:X,cachePrefix:z=""}=q;this.cachePrefix=z,this._texture=K instanceof p?K:null,this.textureSource=K.source,this.textures={},this.animations={},this.data=X;let Y=parseFloat(X.meta.scale);if(Y)this.resolution=Y,K.source.resolution=this.resolution;else this.resolution=K.source._resolution;this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise((J)=>{if(this._callback=J,this._batchIndex=0,this._frameKeys.length<=Z.BATCH_SIZE)this._processFrames(0),this._processAnimations(),this._parseComplete();else this._nextBatch()})}_processFrames(J){let Q=J,q=Z.BATCH_SIZE;while(Q-J<q&&Q<this._frameKeys.length){let K=this._frameKeys[Q],X=this._frames[K],z=X.frame;if(z){let Y=null,O=null,U=X.trimmed!==!1&&X.sourceSize?X.sourceSize:X.frame,A=new U0(0,0,Math.floor(U.w)/this.resolution,Math.floor(U.h)/this.resolution);if(X.rotated)Y=new U0(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.h)/this.resolution,Math.floor(z.w)/this.resolution);else Y=new U0(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution);if(X.trimmed!==!1&&X.spriteSourceSize)O=new U0(Math.floor(X.spriteSourceSize.x)/this.resolution,Math.floor(X.spriteSourceSize.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution);this.textures[K]=new p({source:this.textureSource,frame:Y,orig:A,trim:O,rotate:X.rotated?2:0,defaultAnchor:X.anchor,defaultBorders:X.borders,label:K.toString()})}Q++}}_processAnimations(){let J=this.data.animations||{};for(let Q in J){this.animations[Q]=[];for(let q=0;q<J[Q].length;q++){let K=J[Q][q];this.animations[Q].push(this.textures[K])}}}_parseComplete(){let J=this._callback;this._callback=null,this._batchIndex=0,J.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Z.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{if(this._batchIndex*Z.BATCH_SIZE<this._frameKeys.length)this._nextBatch();else this._processAnimations(),this._parseComplete()},0)}destroy(J=!1){for(let Q in this.textures)this.textures[Q].destroy();if(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,J)this._texture?.destroy(),this.textureSource.destroy();this._texture=null,this.textureSource=null,this.linkedSheets=[]}},JB;var dT=F(()=>{r1();l5();p0();mT.BATCH_SIZE=1000;JB=mT});function cT(Z,J,Q){let q={};if(Z.forEach((K)=>{q[K]=J}),Object.keys(J.textures).forEach((K)=>{q[`${J.cachePrefix}${K}`]=J.textures[K]}),!Q){let K=e1.dirname(Z[0]);J.linkedSheets.forEach((X,z)=>{let Y=cT([`${K}/${J.data.meta.related_multi_packs[z]}`],X,!0);Object.assign(q,Y)})}return q}var ap,uT;var lT=F(()=>{M9();PJ();ZB();g();p0();fZ();dT();ap=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];uT={extension:T.Asset,cache:{test:(Z)=>Z instanceof JB,getCacheableAssets:(Z,J)=>cT(Z,J,!1)},resolver:{extension:{type:T.ResolveParser,name:"resolveSpritesheet"},test:(Z)=>{let Q=Z.split("?")[0].split("."),q=Q.pop(),K=Q.pop();return q==="json"&&ap.includes(K)},parse:(Z)=>{let J=Z.split(".");return{resolution:parseFloat(B6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:J[J.length-2],src:Z}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:T.LoadParser,priority:p5.Normal,name:"spritesheetLoader"},async testParse(Z,J){return e1.extname(J.src).toLowerCase()===".json"&&!!Z.frames},async parse(Z,J,Q){let{texture:q,imageFilename:K,textureOptions:X,cachePrefix:z}=J?.data??{},Y=e1.dirname(J.src);if(Y&&Y.lastIndexOf("/")!==Y.length-1)Y+="/";let O;if(q instanceof p)O=q;else{let D=CK(Y+(K??Z.meta.image),J.src);O=(await Q.load([{src:D,data:X}]))[D]}let U=new JB({texture:O.source,data:Z,cachePrefix:z});await U.parse();let A=Z?.meta?.related_multi_packs;if(Array.isArray(A)){let D=[];for(let W of A){if(typeof W!=="string")continue;let j=Y+W;if(J.data?.ignoreMultiPack)continue;j=CK(j,J.src),D.push(Q.load({src:j,data:{textureOptions:X,ignoreMultiPack:!0}}))}let _=await Promise.all(D);U.linkedSheets=_,_.forEach((W)=>{W.linkedSheets=[U].concat(U.linkedSheets.filter((j)=>j!==W))})}return U},async unload(Z,J,Q){await Q.unload(Z.textureSource._sourceOrigin),Z.destroy(!1)}}}});var wH=F(()=>{g();lT();Z0.add(uT)});function CH(Z,J,Q){let{width:q,height:K}=Q.orig,X=Q.trim;if(X){let{width:z,height:Y}=X;Z.minX=X.x-J._x*q,Z.maxX=Z.minX+z,Z.minY=X.y-J._y*K,Z.maxY=Z.minY+Y}else Z.minX=-J._x*q,Z.maxX=Z.minX+q,Z.minY=-J._y*K,Z.maxY=Z.minY+K}var QB=()=>{};var h6;var LH=F(()=>{jD();p0();QB();M1();eD();h6=class h6 extends FK{constructor(Z=p.EMPTY){if(Z instanceof p)Z={texture:Z};let{texture:J=p.EMPTY,anchor:Q,roundPixels:q,width:K,height:X,...z}=Z;super({label:"Sprite",...z});if(this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Y5({_onUpdate:()=>{this.onViewUpdate()}}),Q)this.anchor=Q;else if(J.defaultAnchor)this.anchor=J.defaultAnchor;if(this.texture=J,this.allowChildren=!1,this.roundPixels=q??!1,K!==void 0)this.width=K;if(X!==void 0)this.height=X}static from(Z,J=!1){if(Z instanceof p)return new h6(Z);return new h6(p.from(Z,J))}set texture(Z){Z||(Z=p.EMPTY);let J=this._texture;if(J===Z)return;if(J&&J.dynamic)J.off("update",this.onViewUpdate,this);if(Z.dynamic)Z.on("update",this.onViewUpdate,this);if(this._texture=Z,this._width)this._setWidth(this._width,this._texture.orig.width);if(this._height)this._setHeight(this._height,this._texture.orig.height);this.onViewUpdate()}get texture(){return this._texture}get visualBounds(){return CH(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return q0("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){let Z=this._anchor,J=this._texture,Q=this._bounds,{width:q,height:K}=J.orig;Q.minX=-Z._x*q,Q.maxX=Q.minX+q,Q.minY=-Z._y*K,Q.maxY=Q.minY+K}destroy(Z=!1){if(super.destroy(Z),typeof Z==="boolean"?Z:Z?.texture){let Q=typeof Z==="boolean"?Z:Z?.textureSource;this._texture.destroy(Q)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(Z){typeof Z==="number"?this._anchor.set(Z):this._anchor.copyFrom(Z)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(Z){this._setWidth(Z,this._texture.orig.width),this._width=Z}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(Z){this._setHeight(Z,this._texture.orig.height),this._height=Z}getSize(Z){return Z||(Z={}),Z.width=Math.abs(this.scale.x)*this._texture.orig.width,Z.height=Math.abs(this.scale.y)*this._texture.orig.height,Z}setSize(Z,J){if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,this._texture.orig.width),J!==void 0&&this._setHeight(J,this._texture.orig.height)}}});function RH(Z,J,Q){let q=sp;Z.measurable=!0,LJ(Z,Q,q),J.addBoundsMask(q),Z.measurable=!1}var sp;var qB=F(()=>{O8();VK();sp=new J1});function EH(Z,J,Q){let q=d8.get();Z.measurable=!0;let K=s1.get().identity(),X=pT(Z,Q,K);EJ(Z,q,X),Z.measurable=!1,J.addBoundsMask(q),s1.return(K),d8.return(q)}function pT(Z,J,Q){if(!Z)return e("Mask bounds, renderable is not inside the root container"),Q;if(Z!==J)pT(Z.parent,J,Q),Z.updateLocalTransform(),Q.append(Z.localTransform);return Q}var KB=F(()=>{VH();IZ();l0()});class IH{constructor(Z){if(this.priority=0,this.inverse=!1,this.pipe="alphaMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.renderMaskToTexture=!(Z instanceof h6),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(Z,J){if(!this.inverse)RH(this.mask,Z,J)}addLocalBounds(Z,J){EH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof h6}}var iT=F(()=>{g();LH();qB();KB();IH.extension=T.MaskEffect});class TH{constructor(Z){if(this.priority=0,this.pipe="colorMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z}destroy(){}static test(Z){return typeof Z==="number"}}var aT=F(()=>{g();TH.extension=T.MaskEffect});class SH{constructor(Z){if(this.priority=0,this.pipe="stencilMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(Z,J){RH(this.mask,Z,J)}addLocalBounds(Z,J){EH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof P0}}var sT=F(()=>{g();v6();qB();KB();SH.extension=T.MaskEffect});var a5;var vJ=F(()=>{i0();g();l5();a5=class a5 extends x0{constructor(Z){if(!Z.resource)Z.resource=K0.get().createCanvas();if(!Z.width){if(Z.width=Z.resource.width,!Z.autoDensity)Z.width/=Z.resolution}if(!Z.height){if(Z.height=Z.resource.height,!Z.autoDensity)Z.height/=Z.resolution}super(Z);this.uploadMethodId="image",this.autoDensity=Z.autoDensity,this.resizeCanvas(),this.transparent=!!Z.transparent}resizeCanvas(){if(this.autoDensity&&"style"in this.resource)this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`;if(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight}resize(Z=this.width,J=this.height,Q=this._resolution){let q=super.resize(Z,J,Q);if(q)this.resizeCanvas();return q}static test(Z){return globalThis.HTMLCanvasElement&&Z instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&Z instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}};a5.extension=T.TextureSource});var c8;var fJ=F(()=>{g();l5();c8=class c8 extends x0{constructor(Z){super(Z);this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(Z){return globalThis.HTMLImageElement&&Z instanceof HTMLImageElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||globalThis.VideoFrame&&Z instanceof VideoFrame}};c8.extension=T.TextureSource});async function bH(){return XB??(XB=(async()=>{let J=K0.get().createCanvas(1,1).getContext("webgl");if(!J)return"premultiply-alpha-on-upload";let Q=await new Promise((z)=>{let Y=document.createElement("video");Y.onloadeddata=()=>z(Y),Y.onerror=()=>z(null),Y.autoplay=!1,Y.crossOrigin="anonymous",Y.preload="auto",Y.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",Y.load()});if(!Q)return"premultiply-alpha-on-upload";let q=J.createTexture();J.bindTexture(J.TEXTURE_2D,q);let K=J.createFramebuffer();J.bindFramebuffer(J.FRAMEBUFFER,K),J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,q,0),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),J.pixelStorei(J.UNPACK_COLORSPACE_CONVERSION_WEBGL,J.NONE),J.texImage2D(J.TEXTURE_2D,0,J.RGBA,J.RGBA,J.UNSIGNED_BYTE,Q);let X=new Uint8Array(4);return J.readPixels(0,0,1,1,J.RGBA,J.UNSIGNED_BYTE,X),J.deleteFramebuffer(K),J.deleteTexture(q),J.getExtension("WEBGL_lose_context")?.loseContext(),X[0]<=X[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),XB}var XB;var NB=F(()=>{i0()});var kH,hZ;var zB=F(()=>{g();bJ();NB();l5();kH=class Z extends x0{constructor(J){super(J);if(this.isReady=!1,this.uploadMethodId="video",J={...Z.defaultOptions,...J},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=J.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=J.autoPlay!==!1,this.alphaMode=J.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),J.autoLoad!==!1)this.load()}updateFrame(){if(this.destroyed)return;if(this._updateFPS){let J=j5.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-J)}if(!this._updateFPS||this._msToNextUpdate<=0)this._msToNextUpdate=this._updateFPS?Math.floor(1000/this._updateFPS):0;if(this.isValid)this.update()}_videoFrameRequestCallback(){if(this.updateFrame(),this.destroyed)this._videoFrameRequestCallbackHandle=null;else this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;let J=this.resource,Q=this.options;if((J.readyState===J.HAVE_ENOUGH_DATA||J.readyState===J.HAVE_FUTURE_DATA)&&J.width&&J.height)J.complete=!0;if(J.addEventListener("play",this._onPlayStart),J.addEventListener("pause",this._onPlayStop),J.addEventListener("seeked",this._onSeeked),!this._isSourceReady()){if(!Q.preload)J.addEventListener("canplay",this._onCanPlay);J.addEventListener("canplaythrough",this._onCanPlayThrough),J.addEventListener("error",this._onError,!0)}else this._mediaReady();return this.alphaMode=await bH(),this._load=new Promise((q,K)=>{if(this.isValid)q(this);else{if(this._resolve=q,this._reject=K,Q.preloadTimeoutMs!==void 0)this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${Q.preloadTimeoutMs}ms`))});J.load()}}),this._load}_onError(J){if(this.resource.removeEventListener("error",this._onError,!0),this.emit("error",J),this._reject)this._reject(J),this._reject=null,this._resolve=null}_isSourcePlaying(){let J=this.resource;return!J.paused&&!J.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){if(!this.isValid)this._mediaReady();this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){if(this._autoUpdate&&!this._isSourcePlaying())this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){if(this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout)clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0;this._mediaReady()}_mediaReady(){let J=this.resource;if(this.isValid)this.isReady=!0,this.resize(J.videoWidth,J.videoHeight);if(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve)this._resolve(this),this._resolve=null,this._reject=null;if(this._isSourcePlaying())this._onPlayStart();else if(this.autoPlay)this.resource.play()}destroy(){this._configureAutoUpdate();let J=this.resource;if(J)J.removeEventListener("play",this._onPlayStart),J.removeEventListener("pause",this._onPlayStop),J.removeEventListener("seeked",this._onSeeked),J.removeEventListener("canplay",this._onCanPlay),J.removeEventListener("canplaythrough",this._onCanPlayThrough),J.removeEventListener("error",this._onError,!0),J.pause(),J.src="",J.load();super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(J){if(J!==this._autoUpdate)this._autoUpdate=J,this._configureAutoUpdate()}get updateFPS(){return this._updateFPS}set updateFPS(J){if(J!==this._updateFPS)this._updateFPS=J,this._configureAutoUpdate()}_configureAutoUpdate(){if(this._autoUpdate&&this._isSourcePlaying())if(!this._updateFPS&&this.resource.requestVideoFrameCallback){if(this._isConnectedToTicker)j5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0;if(this._videoFrameRequestCallbackHandle===null)this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(!this._isConnectedToTicker)j5.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(this._isConnectedToTicker)j5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0}}static test(J){return globalThis.HTMLVideoElement&&J instanceof HTMLVideoElement}};kH.extension=T.TextureSource;kH.defaultOptions={...x0.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};kH.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};hZ=kH});class nT{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(Z){return this._cache.has(Z)}get(Z){let J=this._cache.get(Z);if(!J)e(`[Assets] Asset id ${Z} was not found in the Cache`);return J}set(Z,J){let Q=i5(Z),q;for(let Y=0;Y<this.parsers.length;Y++){let O=this.parsers[Y];if(O.test(J)){q=O.getCacheableAssets(Q,J);break}}let K=new Map(Object.entries(q||{}));if(!q)Q.forEach((Y)=>{K.set(Y,J)});let X=[...K.keys()],z={cacheKeys:X,keys:Q};Q.forEach((Y)=>{this._cacheMap.set(Y,z)}),X.forEach((Y)=>{let O=q?q[Y]:J;if(this._cache.has(Y)&&this._cache.get(Y)!==O)e("[Cache] already has key:",Y);this._cache.set(Y,K.get(Y))})}remove(Z){if(!this._cacheMap.has(Z)){e(`[Assets] Asset id ${Z} was not found in the Cache`);return}let J=this._cacheMap.get(Z);J.cacheKeys.forEach((q)=>{this._cache.delete(q)}),J.keys.forEach((q)=>{this._cacheMap.delete(q)})}get parsers(){return this._parsers}}var v0;var W9=F(()=>{l0();wK();v0=new nT});function oT(Z={}){let J=Z&&Z.resource,Q=J?Z.resource:Z,q=J?Z:{resource:Z};for(let K=0;K<HB.length;K++){let X=HB[K];if(X.test(Q))return new X(q)}throw Error(`Could not find a source type for resource: ${q.resource}`)}function tT(Z={},J=!1){let Q=Z&&Z.resource,q=Q?Z.resource:Z,K=Q?Z:{resource:Z};if(!J&&v0.has(q))return v0.get(q);let X=new p({source:oT(K)});if(X.on("destroy",()=>{if(v0.has(q))v0.remove(q)}),!J)v0.set(q,X);return X}function rT(Z,J=!1){if(typeof Z==="string")return v0.get(Z);else if(Z instanceof x0)return new p({source:Z});return tT(Z,J)}var HB;var YB=F(()=>{W9();g();l5();p0();HB=[];Z0.handleByList(T.TextureSource,HB);p.from=rT;x0.from=oT});var PH=F(()=>{g();iT();aT();sT();yD();vJ();fJ();zB();YB();Z0.add(IH,TH,SH,hZ,c8,a5,IJ)});class w5{constructor(Z){this.resources=Object.create(null),this._dirty=!0;let J=0;for(let Q in Z){let q=Z[Q];this.setResource(q,J++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;let Z=[],J=0;for(let Q in this.resources)Z[J++]=this.resources[Q]._resourceId;this._key=Z.join("|")}setResource(Z,J){let Q=this.resources[J];if(Z===Q)return;if(Q)Z.off?.("change",this.onResourceChange,this);Z.on?.("change",this.onResourceChange,this),this.resources[J]=Z,this._dirty=!0}getResource(Z){return this.resources[Z]}_touch(Z){let J=this.resources;for(let Q in J)J[Q]._touched=Z}destroy(){let Z=this.resources;for(let J in Z)Z[J]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(Z){if(this._dirty=!0,Z.destroyed){let J=this.resources;for(let Q in J)if(J[Q]===Z)J[Q]=null}else this._updateKey()}}var G9=()=>{};function yJ(Z,J,Q){let q=2166136261;for(let K=0;K<J;K++)q^=Z[K].uid,q=Math.imul(q,16777619),q>>>=0;return eT[q]||np(Z,J,q,Q)}function np(Z,J,Q,q){let K={},X=0;for(let Y=0;Y<q;Y++){let O=Y<J?Z[Y]:p.EMPTY.source;K[X++]=O.source,K[X++]=O.style}let z=new w5(K);return eT[Q]=z,z}var eT;var vH=F(()=>{G9();p0();eT={}});class q7{constructor(Z){if(typeof Z==="number")this.rawBinaryData=new ArrayBuffer(Z);else if(Z instanceof Uint8Array)this.rawBinaryData=Z.buffer;else this.rawBinaryData=Z;this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){if(!this._int8View)this._int8View=new Int8Array(this.rawBinaryData);return this._int8View}get uint8View(){if(!this._uint8View)this._uint8View=new Uint8Array(this.rawBinaryData);return this._uint8View}get int16View(){if(!this._int16View)this._int16View=new Int16Array(this.rawBinaryData);return this._int16View}get int32View(){if(!this._int32View)this._int32View=new Int32Array(this.rawBinaryData);return this._int32View}get float64View(){if(!this._float64Array)this._float64Array=new Float64Array(this.rawBinaryData);return this._float64Array}get bigUint64View(){if(!this._bigUint64Array)this._bigUint64Array=new BigUint64Array(this.rawBinaryData);return this._bigUint64Array}view(Z){return this[`${Z}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(Z){switch(Z){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error(`${Z} isn't a valid view type`)}}}var VB=()=>{};function LK(Z,J){let Q=Z.byteLength/8|0,q=new Float64Array(Z,0,Q);new Float64Array(J,0,Q).set(q);let X=Z.byteLength-Q*8;if(X>0){let z=new Uint8Array(Z,Q*8,X);new Uint8Array(J,Q*8,X).set(z)}}var OB=()=>{};var ZS,U1;var xZ=F(()=>{ZS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"},U1=((Z)=>{return Z[Z.DISABLED=0]="DISABLED",Z[Z.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",Z[Z.MASK_ACTIVE=2]="MASK_ACTIVE",Z[Z.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",Z[Z.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",Z[Z.NONE=5]="NONE",Z})(U1||{})});function K7(Z,J){if(J.alphaMode==="no-premultiply-alpha")return ZS[Z]||Z;return Z}var RK=F(()=>{xZ()});function yH(){if(!fH||fH?.isContextLost())fH=K0.get().createCanvas().getContext("webgl",{});return fH}var fH;var UB=F(()=>{i0()});function tp(Z){let J="";for(let Q=0;Q<Z;++Q){if(Q>0)J+=`
else `;if(Q<Z-1)J+=`if(test == ${Q}.0){}`}return J}function hH(Z,J){if(Z===0)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let Q=J.createShader(J.FRAGMENT_SHADER);try{while(!0){let q=op.replace(/%forloop%/gi,tp(Z));if(J.shaderSource(Q,q),J.compileShader(Q),!J.getShaderParameter(Q,J.COMPILE_STATUS))Z=Z/2|0;else break}}finally{J.deleteShader(Q)}return Z}var op;var $B=F(()=>{op=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`)});function JS(){if(hJ)return hJ;let Z=yH();return hJ=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),hJ=hH(hJ,Z),Z.getExtension("WEBGL_lose_context")?.loseContext(),hJ}var hJ=null;var QS=F(()=>{UB();$B()});class AB{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let Z=0;Z<this.count;Z++){let J=this.textures[Z];this.textures[Z]=null,this.ids[J.uid]=null}this.count=0}}var qS=()=>{};class NS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new AB,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}function KS(){return xH>0?IK[--xH]:new NS}function XS(Z){IK[xH++]=Z}var IK,xH=0,EK=0,zS=class Z{constructor(J){if(this.uid=M0("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],J={...Z.defaultOptions,...J},!J.maxTextures)q0("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),J.maxTextures=JS();let{maxTextures:Q,attributesInitialSize:q,indicesInitialSize:K}=J;this.attributeBuffer=new q7(q*4),this.indexBuffer=new Uint16Array(K),this.maxTextures=Q}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let J=0;J<this.batchIndex;J++)XS(this.batches[J]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(J){this._elements[this.elementSize++]=J,J._indexStart=this.indexSize,J._attributeStart=this.attributeSize,J._batcher=this,this.indexSize+=J.indexSize,this.attributeSize+=J.attributeSize*this.vertexSize}checkAndUpdateTexture(J,Q){let q=J._batch.textures.ids[Q._source.uid];if(!q&&q!==0)return!1;return J._textureId=q,J.texture=Q,!0}updateElement(J){this.dirty=!0;let Q=this.attributeBuffer;if(J.packAsQuad)this.packQuadAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId);else this.packAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId)}break(J){let Q=this._elements;if(!Q[this.elementStart])return;let q=KS(),K=q.textures;K.clear();let X=Q[this.elementStart],z=K7(X.blendMode,X.texture._source),Y=X.topology;if(this.attributeSize*4>this.attributeBuffer.size)this._resizeAttributeBuffer(this.attributeSize*4);if(this.indexSize>this.indexBuffer.length)this._resizeIndexBuffer(this.indexSize);let O=this.attributeBuffer.float32View,U=this.attributeBuffer.uint32View,A=this.indexBuffer,D=this._batchIndexSize,_=this._batchIndexStart,W="startBatch",j=this.maxTextures;for(let C=this.elementStart;C<this.elementSize;++C){let R=Q[C];Q[C]=null;let w=R.texture._source,L=K7(R.blendMode,w),I=z!==L||Y!==R.topology;if(w._batchTick===EK&&!I){if(R._textureId=w._textureBindLocation,D+=R.indexSize,R.packAsQuad)this.packQuadAttributes(R,O,U,R._attributeStart,R._textureId),this.packQuadIndex(A,R._indexStart,R._attributeStart/this.vertexSize);else this.packAttributes(R,O,U,R._attributeStart,R._textureId),this.packIndex(R,A,R._indexStart,R._attributeStart/this.vertexSize);R._batch=q;continue}if(w._batchTick=EK,K.count>=j||I)this._finishBatch(q,_,D-_,K,z,Y,J,W),W="renderBatch",_=D,z=L,Y=R.topology,q=KS(),K=q.textures,K.clear(),++EK;if(R._textureId=w._textureBindLocation=K.count,K.ids[w.uid]=K.count,K.textures[K.count++]=w,R._batch=q,D+=R.indexSize,R.packAsQuad)this.packQuadAttributes(R,O,U,R._attributeStart,R._textureId),this.packQuadIndex(A,R._indexStart,R._attributeStart/this.vertexSize);else this.packAttributes(R,O,U,R._attributeStart,R._textureId),this.packIndex(R,A,R._indexStart,R._attributeStart/this.vertexSize)}if(K.count>0)this._finishBatch(q,_,D-_,K,z,Y,J,W),_=D,++EK;this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=D}_finishBatch(J,Q,q,K,X,z,Y,O){J.gpuBindGroup=null,J.bindGroup=null,J.action=O,J.batcher=this,J.textures=K,J.blendMode=X,J.topology=z,J.start=Q,J.size=q,++EK,this.batches[this.batchIndex++]=J,Y.add(J)}finish(J){this.break(J)}ensureAttributeBuffer(J){if(J*4<=this.attributeBuffer.size)return;this._resizeAttributeBuffer(J*4)}ensureIndexBuffer(J){if(J<=this.indexBuffer.length)return;this._resizeIndexBuffer(J)}_resizeAttributeBuffer(J){let Q=Math.max(J,this.attributeBuffer.size*2),q=new q7(Q);LK(this.attributeBuffer.rawBinaryData,q.rawBinaryData),this.attributeBuffer=q}_resizeIndexBuffer(J){let Q=this.indexBuffer,q=Math.max(J,Q.length*1.5);q+=q%2;let K=q>65535?new Uint32Array(q):new Uint16Array(q);if(K.BYTES_PER_ELEMENT!==Q.BYTES_PER_ELEMENT)for(let X=0;X<Q.length;X++)K[X]=Q[X];else LK(Q.buffer,K.buffer);this.indexBuffer=K}packQuadIndex(J,Q,q){J[Q]=q+0,J[Q+1]=q+1,J[Q+2]=q+2,J[Q+3]=q+0,J[Q+4]=q+2,J[Q+5]=q+3}packIndex(J,Q,q,K){let{indices:X,indexSize:z,indexOffset:Y,attributeOffset:O}=J;for(let U=0;U<z;U++)Q[q++]=K+X[U+Y]-O}destroy(){if(this.batches===null)return;for(let J=0;J<this.batches.length;J++)XS(this.batches[J]);this.batches=null;for(let J=0;J<this._elements.length;J++)if(this._elements[J])this._elements[J]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}},HS;var YS=F(()=>{t1();VB();M1();EZ();OB();RK();QS();qS();IK=[];D6.register({clear:()=>{if(IK.length>0){for(let Z of IK)if(Z)Z.destroy()}IK.length=0,xH=0}});zS.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};HS=zS});var w0;var X7=F(()=>{w0=((Z)=>{return Z[Z.MAP_READ=1]="MAP_READ",Z[Z.MAP_WRITE=2]="MAP_WRITE",Z[Z.COPY_SRC=4]="COPY_SRC",Z[Z.COPY_DST=8]="COPY_DST",Z[Z.INDEX=16]="INDEX",Z[Z.VERTEX=32]="VERTEX",Z[Z.UNIFORM=64]="UNIFORM",Z[Z.STORAGE=128]="STORAGE",Z[Z.INDIRECT=256]="INDIRECT",Z[Z.QUERY_RESOLVE=512]="QUERY_RESOLVE",Z[Z.STATIC=1024]="STATIC",Z})(w0||{})});var h1;var F9=F(()=>{F5();t1();X7();h1=class h1 extends e0{constructor(Z){let{data:J,size:Q}=Z,{usage:q,label:K,shrinkToFit:X}=Z;super();if(this.uid=M0("buffer"),this._resourceType="buffer",this._resourceId=M0("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,J instanceof Array)J=new Float32Array(J);this._data=J,Q??(Q=J?.byteLength);let z=!!J;this.descriptor={size:Q,usage:q,mappedAtCreation:z,label:K},this.shrinkToFit=X??!0}get data(){return this._data}set data(Z){this.setDataWithSize(Z,Z.length,!0)}get dataInt32(){if(!this._dataInt32)this._dataInt32=new Int32Array(this.data.buffer);return this._dataInt32}get static(){return!!(this.descriptor.usage&w0.STATIC)}set static(Z){if(Z)this.descriptor.usage|=w0.STATIC;else this.descriptor.usage&=~w0.STATIC}setDataWithSize(Z,J,Q){if(this._updateID++,this._updateSize=J*Z.BYTES_PER_ELEMENT,this._data===Z){if(Q)this.emit("update",this);return}let q=this._data;if(this._data=Z,this._dataInt32=null,!q||q.length!==Z.length){if(!this.shrinkToFit&&q&&Z.byteLength<q.byteLength){if(Q)this.emit("update",this)}else this.descriptor.size=Z.byteLength,this._resourceId=M0("resource"),this.emit("change",this);return}if(Q)this.emit("update",this)}update(Z){this._updateSize=Z??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}});function DB(Z,J){if(!(Z instanceof h1)){let Q=J?w0.INDEX:w0.VERTEX;if(Z instanceof Array)if(J)Z=new Uint32Array(Z),Q=w0.INDEX|w0.COPY_DST;else Z=new Float32Array(Z),Q=w0.VERTEX|w0.COPY_DST;Z=new h1({data:Z,label:J?"index-mesh-buffer":"vertex-mesh-buffer",usage:Q})}return Z}var VS=F(()=>{F9();X7()});function OS(Z,J,Q){let q=Z.getAttribute(J);if(!q)return Q.minX=0,Q.minY=0,Q.maxX=0,Q.maxY=0,Q;let K=q.buffer.data,X=1/0,z=1/0,Y=-1/0,O=-1/0,U=K.BYTES_PER_ELEMENT,A=(q.offset||0)/U,D=(q.stride||8)/U;for(let _=A;_<K.length;_+=D){let W=K[_],j=K[_+1];if(W>Y)Y=W;if(j>O)O=j;if(W<X)X=W;if(j<z)z=j}return Q.minX=X,Q.minY=z,Q.maxX=Y,Q.maxY=O,Q}var US=()=>{};function rp(Z){if(Z instanceof h1||Array.isArray(Z)||Z.BYTES_PER_ELEMENT)Z={buffer:Z};return Z.buffer=DB(Z.buffer,!1),Z}var x6;var xJ=F(()=>{F5();O8();t1();F9();VS();US();x6=class x6 extends e0{constructor(Z={}){super();this.uid=M0("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new J1,this._boundsDirty=!0;let{attributes:J,indexBuffer:Q,topology:q}=Z;if(this.buffers=[],this.attributes={},J)for(let K in J)this.addAttribute(K,J[K]);if(this.instanceCount=Z.instanceCount??1,Q)this.addIndex(Q);this.topology=q||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(Z){return this.attributes[Z]}getIndex(){return this.indexBuffer}getBuffer(Z){return this.getAttribute(Z).buffer}getSize(){for(let Z in this.attributes){let J=this.attributes[Z];return J.buffer.data.length/(J.stride/4||J.size)}return 0}addAttribute(Z,J){let Q=rp(J);if(this.buffers.indexOf(Q.buffer)===-1)this.buffers.push(Q.buffer),Q.buffer.on("update",this.onBufferUpdate,this),Q.buffer.on("change",this.onBufferUpdate,this);this.attributes[Z]=Q}addIndex(Z){this.indexBuffer=DB(Z,!0),this.buffers.push(this.indexBuffer)}get bounds(){if(!this._boundsDirty)return this._bounds;return this._boundsDirty=!1,OS(this,"aPosition",this._bounds)}destroy(Z=!1){if(this.emit("destroy",this),this.removeAllListeners(),Z)this.buffers.forEach((J)=>J.destroy());this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}});var ep,Zi,BB;var $S=F(()=>{F9();X7();xJ();ep=new Float32Array(1),Zi=new Uint32Array(1);BB=class BB extends x6{constructor(){let J=new h1({data:ep,label:"attribute-batch-buffer",usage:w0.VERTEX|w0.COPY_DST,shrinkToFit:!1}),Q=new h1({data:Zi,label:"index-batch-buffer",usage:w0.INDEX|w0.COPY_DST,shrinkToFit:!1}),q=24;super({attributes:{aPosition:{buffer:J,format:"float32x2",stride:24,offset:0},aUV:{buffer:J,format:"float32x2",stride:24,offset:8},aColor:{buffer:J,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:J,format:"uint16x2",stride:24,offset:20}},indexBuffer:Q})}}});function N7(Z,J){let Q=AS[Z];if(Q===void 0){if(_B[J]===void 0)_B[J]=1;AS[Z]=Q=_B[J]++}return Q}var _B,AS;var TK=F(()=>{_B=Object.create(null),AS=Object.create(null)});function DS(){if(!gH){gH="mediump";let Z=yH();if(Z){if(Z.getShaderPrecisionFormat)gH=Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.HIGH_FLOAT).precision?"highp":"mediump"}}return gH}var gH;var BS=F(()=>{UB()});function _S(Z,J,Q){if(J)return Z;if(Q)return Z=Z.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${Z}
        `;return`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${Z}
        `}var MS=()=>{};function WS(Z,J,Q){let q=Q?J.maxSupportedFragmentPrecision:J.maxSupportedVertexPrecision;if(Z.substring(0,9)!=="precision"){let K=Q?J.requestedFragmentPrecision:J.requestedVertexPrecision;if(K==="highp"&&q!=="highp")K="mediump";return`precision ${K} float;
${Z}`}else if(q!=="highp"&&Z.substring(0,15)==="precision highp")return Z.replace("precision highp","precision mediump");return Z}var GS=()=>{};function FS(Z,J){if(!J)return Z;return`#version 300 es
${Z}`}var jS=()=>{};function wS(Z,{name:J="pixi-program"},Q=!0){J=J.replace(/\s+/g,"-"),J+=Q?"-fragment":"-vertex";let q=Q?Ji:Qi;if(q[J])q[J]++,J+=`-${q[J]}`;else q[J]=1;if(Z.indexOf("#define SHADER_NAME")!==-1)return Z;return`${`#define SHADER_NAME ${J}`}
${Z}`}var Ji,Qi;var CS=F(()=>{Ji={},Qi={}});function LS(Z,J){if(!J)return Z;return Z.replace("#version 300 es","")}var RS=()=>{};var MB,SK,ES=class Z{constructor(J){J={...Z.defaultOptions,...J};let Q=J.fragment.indexOf("#version 300 es")!==-1,q={stripVersion:Q,ensurePrecision:{requestedFragmentPrecision:J.preferredFragmentPrecision,requestedVertexPrecision:J.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:DS()},setProgramName:{name:J.name},addProgramDefines:Q,insertVersion:Q},K=J.fragment,X=J.vertex;Object.keys(MB).forEach((z)=>{let Y=q[z];K=MB[z](K,Y,!0),X=MB[z](X,Y,!1)}),this.fragment=K,this.vertex=X,this.transformFeedbackVaryings=J.transformFeedbackVaryings,this._key=N7(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,SK[this._cacheKey]=null}static from(J){let Q=`${J.vertex}:${J.fragment}`;if(!SK[Q])SK[Q]=new Z(J),SK[Q]._cacheKey=Q;return SK[Q]}},V5;var Y4=F(()=>{TK();BS();MS();GS();jS();CS();RS();MB={stripVersion:LS,ensurePrecision:WS,addProgramDefines:_S,setProgramName:wS,insertVersion:FS},SK=Object.create(null);ES.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};V5=ES});function A8(Z){return IS[Z]??IS.float32}var IS;var gZ=F(()=>{IS={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}}});function TS({source:Z,entryPoint:J}){let Q={},q=Z.indexOf(`fn ${J}`);if(q!==-1){let K=Z.indexOf("->",q);if(K!==-1){let X=Z.substring(q,K),z=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g,Y;while((Y=z.exec(X))!==null){let O=qi[Y[3]]??"float32";Q[Y[2]]={location:parseInt(Y[1],10),format:O,stride:A8(O).stride,offset:0,instance:!1,start:0}}}}return Q}var qi;var SS=F(()=>{gZ();qi={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"}});function mH(Z){let J=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,Q=/@group\((\d+)\)/,q=/@binding\((\d+)\)/,K=/var(<[^>]+>)? (\w+)/,X=/:\s*(\w+)/,z=/struct\s+(\w+)\s*{([^}]+)}/g,Y=/(\w+)\s*:\s*([\w\<\>]+)/g,O=/struct\s+(\w+)/,U=Z.match(J)?.map((D)=>({group:parseInt(D.match(Q)[1],10),binding:parseInt(D.match(q)[1],10),name:D.match(K)[2],isUniform:D.match(K)[1]==="<uniform>",type:D.match(X)[1]}));if(!U)return{groups:[],structs:[]};let A=Z.match(z)?.map((D)=>{let _=D.match(O)[1],W=D.match(Y).reduce((j,C)=>{let[R,G]=C.split(":");return j[R.trim()]=G.trim(),j},{});if(!W)return null;return{name:_,members:W}}).filter(({name:D})=>U.some((_)=>_.type===D))??[];return{groups:U,structs:A}}var bS=()=>{};var gJ;var kS=F(()=>{gJ=((Z)=>{return Z[Z.VERTEX=1]="VERTEX",Z[Z.FRAGMENT=2]="FRAGMENT",Z[Z.COMPUTE=4]="COMPUTE",Z})(gJ||{})});function PS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]=[];if(q.isUniform)J[q.group].push({binding:q.binding,visibility:gJ.VERTEX|gJ.FRAGMENT,buffer:{type:"uniform"}});else if(q.type==="sampler")J[q.group].push({binding:q.binding,visibility:gJ.FRAGMENT,sampler:{type:"filtering"}});else if(q.type==="texture_2d")J[q.group].push({binding:q.binding,visibility:gJ.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return J}var vS=F(()=>{kS()});function fS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]={};J[q.group][q.name]=q.binding}return J}var yS=()=>{};function hS(Z,J){let Q=new Set,q=new Set,K=[...Z.structs,...J.structs].filter((z)=>{if(Q.has(z.name))return!1;return Q.add(z.name),!0}),X=[...Z.groups,...J.groups].filter((z)=>{let Y=`${z.name}-${z.binding}`;if(q.has(Y))return!1;return q.add(Y),!0});return{structs:K,groups:X}}var xS=()=>{};class O5{constructor(Z){this._layoutKey=0,this._attributeLocationsKey=0;let{fragment:J,vertex:Q,layout:q,gpuLayout:K,name:X}=Z;if(this.name=X,this.fragment=J,this.vertex=Q,J.source===Q.source){let z=mH(J.source);this.structsAndGroups=z}else{let z=mH(Q.source),Y=mH(J.source);this.structsAndGroups=hS(z,Y)}this.layout=q??fS(this.structsAndGroups),this.gpuLayout=K??PS(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){let{vertex:Z,fragment:J}=this,Q=Z.source+J.source+Z.entryPoint+J.entryPoint;this._layoutKey=N7(Q,"program")}get attributeData(){return this._attributeData??(this._attributeData=TS(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,bK[this._cacheKey]=null}static from(Z){let J=`${Z.vertex.source}:${Z.fragment.source}:${Z.fragment.entryPoint}:${Z.vertex.entryPoint}`;if(!bK[J])bK[J]=new O5(Z),bK[J]._cacheKey=J;return bK[J]}}var bK;var z7=F(()=>{TK();SS();bS();vS();yS();xS();bK=Object.create(null)});function WB(Z,J,Q){if(Z)for(let q in Z){let K=q.toLocaleLowerCase(),X=J[K];if(X){let z=Z[q];if(q==="header")z=z.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"");if(Q)X.push(`//----${Q}----//`);X.push(z)}else e(`${q} placement hook does not exist in shader`)}}var gS=F(()=>{l0()});function GB(Z){let J={};return(Z.match(Ki)?.map((q)=>q.replace(/[{()}]/g,""))??[]).forEach((q)=>{J[q]=[]}),J}var Ki;var mS=F(()=>{Ki=/\{\{(.*?)\}\}/g});function dS(Z,J){let Q,q=/@in\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function FB(Z,J,Q=!1){let q=[];dS(J,q),Z.forEach((Y)=>{if(Y.header)dS(Y.header,q)});let K=q;if(Q)K.sort();let X=K.map((Y,O)=>`       @location(${O}) ${Y},`).join(`
`),z=J.replace(/@in\s+[^;]+;\s*/g,"");return z=z.replace("{{in}}",`
${X}
`),z}var cS=()=>{};function uS(Z,J){let Q,q=/@out\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function Xi(Z){let Q=/\b(\w+)\s*:/g.exec(Z);return Q?Q[1]:""}function Ni(Z){let J=/@.*?\s+/g;return Z.replace(J,"")}function lS(Z,J){let Q=[];uS(J,Q),Z.forEach((O)=>{if(O.header)uS(O.header,Q)});let q=0,K=Q.sort().map((O)=>{if(O.indexOf("builtin")>-1)return O;return`@location(${q++}) ${O}`}).join(`,
`),X=Q.sort().map((O)=>`       var ${Ni(O)};`).join(`
`),z=`return VSOutput(
            ${Q.sort().map((O)=>` ${Xi(O)}`).join(`,
`)});`,Y=J.replace(/@out\s+[^;]+;\s*/g,"");return Y=Y.replace("{{struct}}",`
${K}
`),Y=Y.replace("{{start}}",`
${X}
`),Y=Y.replace("{{return}}",`
${z}
`),Y}var pS=()=>{};function jB(Z,J){let Q=Z;for(let q in J){let K=J[q];if(K.join(`
`).length)Q=Q.replace(`{{${q}}}`,`//-----${q} START-----//
${K.join(`
`)}
//----${q} FINISH----//`);else Q=Q.replace(`{{${q}}}`,"")}return Q}var iS=()=>{};function aS({template:Z,bits:J}){let Q=nS(Z,J);if(j9[Q])return j9[Q];let{vertex:q,fragment:K}=Hi(Z,J);return j9[Q]=oS(q,K,J),j9[Q]}function sS({template:Z,bits:J}){let Q=nS(Z,J);if(j9[Q])return j9[Q];return j9[Q]=oS(Z.vertex,Z.fragment,J),j9[Q]}function Hi(Z,J){let Q=J.map((z)=>z.vertex).filter((z)=>!!z),q=J.map((z)=>z.fragment).filter((z)=>!!z),K=FB(Q,Z.vertex,!0);K=lS(Q,K);let X=FB(q,Z.fragment,!0);return{vertex:K,fragment:X}}function nS(Z,J){return J.map((Q)=>{if(!wB.has(Q))wB.set(Q,zi++);return wB.get(Q)}).sort((Q,q)=>Q-q).join("-")+Z.vertex+Z.fragment}function oS(Z,J,Q){let q=GB(Z),K=GB(J);return Q.forEach((X)=>{WB(X.vertex,q,X.name),WB(X.fragment,K,X.name)}),{vertex:jB(Z,q),fragment:jB(J,K)}}var j9,wB,zi=0;var tS=F(()=>{gS();mS();cS();pS();iS();j9=Object.create(null),wB=new Map});var rS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,eS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Zb=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Jb=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`;var Qb=()=>{};var qb,Kb;var Xb=F(()=>{qb={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Kb={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}}});function V4({bits:Z,name:J}){let Q=aS({template:{fragment:eS,vertex:rS},bits:[qb,...Z]});return O5.from({name:J,vertex:{source:Q.vertex,entryPoint:"main"},fragment:{source:Q.fragment,entryPoint:"main"}})}function O4({bits:Z,name:J}){return new V5({name:J,...sS({template:{vertex:Zb,fragment:Jb},bits:[Kb,...Z]})})}var w9=F(()=>{Y4();z7();tS();Qb();Xb()});var mJ,dJ;var kK=F(()=>{mJ={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},dJ={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}}});function Yi(Z){let J=[];if(Z===1)J.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),J.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let Q=0;for(let q=0;q<Z;q++)J.push(`@group(1) @binding(${Q++}) var textureSource${q+1}: texture_2d<f32>;`),J.push(`@group(1) @binding(${Q++}) var textureSampler${q+1}: sampler;`)}return J.join(`
`)}function Vi(Z){let J=[];if(Z===1)J.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{J.push("switch vTextureId {");for(let Q=0;Q<Z;Q++){if(Q===Z-1)J.push("  default:{");else J.push(`  case ${Q}:{`);J.push(`      outColor = textureSampleGrad(textureSource${Q+1}, textureSampler${Q+1}, vUV, uvDx, uvDy);`),J.push("      break;}")}J.push("}")}return J.join(`
`)}function cJ(Z){if(!CB[Z])CB[Z]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Yi(Z)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Vi(Z)}
            `}};return CB[Z]}function Oi(Z){let J=[];for(let Q=0;Q<Z;Q++){if(Q>0)J.push("else");if(Q<Z-1)J.push(`if(vTextureId < ${Q}.5)`);J.push("{"),J.push(`	outColor = texture(uTextures[${Q}], vUV);`),J.push("}")}return J.join(`
`)}function uJ(Z){if(!LB[Z])LB[Z]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${Z}];

            `,main:`

                ${Oi(Z)}
            `}};return LB[Z]}var CB,LB;var PK=F(()=>{CB={};LB={}});var U4,$4;var C9=F(()=>{U4={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},$4={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}}});var RB,Nb;var zb=F(()=>{RB=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Nb=RB.reduce((Z,J)=>{return Z[J]=!0,Z},{})});function Hb(Z,J){switch(Z){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*J);case"vec3<f32>":return new Float32Array(3*J);case"vec4<f32>":return new Float32Array(4*J);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Yb=()=>{};var Vb=class Z{constructor(J,Q){this._touched=0,this.uid=M0("uniform"),this._resourceType="uniformGroup",this._resourceId=M0("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,Q={...Z.defaultOptions,...Q},this.uniformStructures=J;let q={};for(let K in J){let X=J[K];if(X.name=K,X.size=X.size??1,!Nb[X.type]){let z=X.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(z){let[,Y,O]=z;throw Error(`Uniform type ${X.type} is not supported. Use type: '${Y}', size: ${O} instead.`)}throw Error(`Uniform type ${X.type} is not supported. Supported uniform types are: ${RB.join(", ")}`)}X.value??(X.value=Hb(X.type,X.size)),q[K]=X.value}this.uniforms=q,this._dirtyId=1,this.ubo=Q.ubo,this.isStatic=Q.isStatic,this._signature=N7(Object.keys(q).map((K)=>`${K}-${J[K].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}},a0;var k5=F(()=>{t1();TK();zb();Yb();Vb.defaultOptions={ubo:!1,isStatic:!1};a0=Vb});function lJ(Z){let J=Ob[Z];if(J)return J;let Q=new Int32Array(Z);for(let q=0;q<Z;q++)Q[q]=q;return J=Ob[Z]=new a0({uTextures:{value:Q,type:"i32",size:Z}},{isStatic:!0}),J}var Ob;var dH=F(()=>{k5();Ob={}});var j1;var _6=F(()=>{j1=((Z)=>{return Z[Z.WEBGL=1]="WEBGL",Z[Z.WEBGPU=2]="WEBGPU",Z[Z.BOTH=3]="BOTH",Z})(j1||{})});var k1;var g6=F(()=>{F5();t1();Y4();G9();z7();_6();k5();k1=class k1 extends e0{constructor(Z){super();this.uid=M0("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:J,glProgram:Q,groups:q,resources:K,compatibleRenderers:X,groupMap:z}=Z;if(this.gpuProgram=J,this.glProgram=Q,X===void 0){if(X=0,J)X|=j1.WEBGPU;if(Q)X|=j1.WEBGL}this.compatibleRenderers=X;let Y={};if(!K&&!q)K={};if(K&&q)throw Error("[Shader] Cannot have both resources and groups");else if(!J&&q&&!z)throw Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");else if(!J&&q&&z)for(let O in z)for(let U in z[O]){let A=z[O][U];Y[A]={group:O,binding:U,name:A}}else if(J&&q&&!z){let O=J.structsAndGroups.groups;z={},O.forEach((U)=>{z[U.group]=z[U.group]||{},z[U.group][U.binding]=U.name,Y[U.name]=U})}else if(K){if(q={},z={},J)J.structsAndGroups.groups.forEach((A)=>{z[A.group]=z[A.group]||{},z[A.group][A.binding]=A.name,Y[A.name]=A});let O=0;for(let U in K){if(Y[U])continue;if(!q[99])q[99]=new w5,this._ownedBindGroups.push(q[99]);Y[U]={group:99,binding:O,name:U},z[99]=z[99]||{},z[99][O]=U,O++}for(let U in K){let A=U,D=K[U];if(!D.source&&!D._resourceType)D=new a0(D);let _=Y[A];if(_){if(!q[_.group])q[_.group]=new w5,this._ownedBindGroups.push(q[_.group]);q[_.group].setResource(D,_.binding)}}}this.groups=q,this._uniformBindMap=z,this.resources=this._buildResourceAccessor(q,Y)}addResource(Z,J,Q){var q,K;if((q=this._uniformBindMap)[J]||(q[J]={}),(K=this._uniformBindMap[J])[Q]||(K[Q]=Z),!this.groups[J])this.groups[J]=new w5,this._ownedBindGroups.push(this.groups[J])}_buildResourceAccessor(Z,J){let Q={};for(let q in J){let K=J[q];Object.defineProperty(Q,K.name,{get(){return Z[K.group].getResource(K.binding)},set(X){Z[K.group].setResource(X,K.binding)}})}return Q}destroy(Z=!1){if(this.emit("destroy",this),Z)this.gpuProgram?.destroy(),this.glProgram?.destroy();this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach((J)=>{J.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(Z){let{gpu:J,gl:Q,...q}=Z,K,X;if(J)K=O5.from(J);if(Q)X=V5.from(Q);return new k1({gpuProgram:K,glProgram:X,...q})}}});var EB;var Ub=F(()=>{w9();kK();PK();C9();dH();g6();EB=class EB extends k1{constructor(Z){let J=O4({name:"batch",bits:[dJ,uJ(Z),$4]}),Q=V4({name:"batch",bits:[mJ,cJ(Z),U4]});super({glProgram:J,gpuProgram:Q,resources:{batchSamplers:lJ(Z)}})}}});var IB=null,$b,vK;var TB=F(()=>{g();YS();$S();Ub();$b=class Z extends HS{constructor(J){super(J);this.geometry=new BB,this.name=Z.extension.name,this.vertexSize=6,IB??(IB=new EB(J.maxTextures)),this.shader=IB}packAttributes(J,Q,q,K,X){let z=X<<16|J.roundPixels&65535,Y=J.transform,O=Y.a,U=Y.b,A=Y.c,D=Y.d,_=Y.tx,W=Y.ty,{positions:j,uvs:C}=J,R=J.color,G=J.attributeOffset,w=G+J.attributeSize;for(let L=G;L<w;L++){let I=L*2,h=j[I],v=j[I+1];Q[K++]=O*h+A*v+_,Q[K++]=D*v+U*h+W,Q[K++]=C[I],Q[K++]=C[I+1],q[K++]=R,q[K++]=z}}packQuadAttributes(J,Q,q,K,X){let{texture:z,transform:Y}=J,O=Y.a,U=Y.b,A=Y.c,D=Y.d,_=Y.tx,W=Y.ty,j=J.bounds,C=j.maxX,R=j.minX,G=j.maxY,w=j.minY,L=z.uvs,I=J.color,h=X<<16|J.roundPixels&65535;Q[K+0]=O*R+A*w+_,Q[K+1]=D*w+U*R+W,Q[K+2]=L.x0,Q[K+3]=L.y0,q[K+4]=I,q[K+5]=h,Q[K+6]=O*C+A*w+_,Q[K+7]=D*w+U*C+W,Q[K+8]=L.x1,Q[K+9]=L.y1,q[K+10]=I,q[K+11]=h,Q[K+12]=O*C+A*G+_,Q[K+13]=D*G+U*C+W,Q[K+14]=L.x2,Q[K+15]=L.y2,q[K+16]=I,q[K+17]=h,Q[K+18]=O*R+A*G+_,Q[K+19]=D*G+U*R+W,Q[K+20]=L.x3,Q[K+21]=L.y3,q[K+22]=I,q[K+23]=h}};$b.extension={type:[T.Batcher],name:"default"};vK=$b});function Ab(Z,J,Q,q,K,X,z,Y=null){let O=0;Q*=J,K*=X;let{a:U,b:A,c:D,d:_,tx:W,ty:j}=Y;while(O<z){let C=Z[Q],R=Z[Q+1];q[K]=U*C+D*R+W,q[K+1]=A*C+_*R+j,K+=X,Q+=J,O++}}function Db(Z,J,Q,q){let K=0;J*=Q;while(K<q)Z[J]=0,Z[J+1]=0,J+=Q,K++}var Bb=()=>{};function SB(Z,J,Q,q,K){let{a:X,b:z,c:Y,d:O,tx:U,ty:A}=J;Q||(Q=0),q||(q=2),K||(K=Z.length/q-Q);let D=Q*q;for(let _=0;_<K;_++){let W=Z[D],j=Z[D+1];Z[D]=X*W+Y*j+U,Z[D+1]=z*W+O*j+A,D+=q}}var _b=()=>{};class pJ{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){if(this.renderable&&this.applyTransform)return this.renderable.groupBlendMode;return"normal"}get color(){let Z=this.baseColor,J=Z>>16|Z&65280|(Z&255)<<16,Q=this.renderable;if(Q)return YH(J,Q.groupColor)+(this.alpha*Q.groupAlpha*255<<24);return J+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||Ui}copyTo(Z){Z.indexOffset=this.indexOffset,Z.indexSize=this.indexSize,Z.attributeOffset=this.attributeOffset,Z.attributeSize=this.attributeSize,Z.baseColor=this.baseColor,Z.alpha=this.alpha,Z.texture=this.texture,Z.geometryData=this.geometryData,Z.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}var Ui;var bB=F(()=>{T0();ED();Ui=new a});var iJ,Mb,Wb;var Gb=F(()=>{g();iJ={extension:{type:T.ShapeBuilder,name:"circle"},build(Z,J){let Q,q,K,X,z,Y;if(Z.type==="circle"){let I=Z;if(z=Y=I.radius,z<=0)return!1;Q=I.x,q=I.y,K=X=0}else if(Z.type==="ellipse"){let I=Z;if(z=I.halfWidth,Y=I.halfHeight,z<=0||Y<=0)return!1;Q=I.x,q=I.y,K=X=0}else{let I=Z,h=I.width/2,v=I.height/2;Q=I.x+h,q=I.y+v,z=Y=Math.max(0,Math.min(I.radius,Math.min(h,v))),K=h-z,X=v-Y}if(K<0||X<0)return!1;let O=Math.ceil(2.3*Math.sqrt(z+Y)),U=O*8+(K?4:0)+(X?4:0);if(U===0)return!1;if(O===0)return J[0]=J[6]=Q+K,J[1]=J[3]=q+X,J[2]=J[4]=Q-K,J[5]=J[7]=q-X,!0;let A=0,D=O*4+(K?2:0)+2,_=D,W=U,j=K+z,C=X,R=Q+j,G=Q-j,w=q+C;if(J[A++]=R,J[A++]=w,J[--D]=w,J[--D]=G,X){let I=q-C;J[_++]=G,J[_++]=I,J[--W]=I,J[--W]=R}for(let I=1;I<O;I++){let h=Math.PI/2*(I/O),v=K+Math.cos(h)*z,b=X+Math.sin(h)*Y,m=Q+v,c=Q-v,u=q+b,n=q-b;J[A++]=m,J[A++]=u,J[--D]=u,J[--D]=c,J[_++]=c,J[_++]=n,J[--W]=n,J[--W]=m}j=K,C=X+Y,R=Q+j,G=Q-j,w=q+C;let L=q-C;if(J[A++]=R,J[A++]=w,J[--W]=L,J[--W]=R,K)J[A++]=G,J[A++]=w,J[--W]=L,J[--W]=G;return!0},triangulate(Z,J,Q,q,K,X){if(Z.length===0)return;let z=0,Y=0;for(let A=0;A<Z.length;A+=2)z+=Z[A],Y+=Z[A+1];z/=Z.length/2,Y/=Z.length/2;let O=q;J[O*Q]=z,J[O*Q+1]=Y;let U=O++;for(let A=0;A<Z.length;A+=2){if(J[O*Q]=Z[A],J[O*Q+1]=Z[A+1],A>0)K[X++]=O,K[X++]=U,K[X++]=O-1;O++}K[X++]=U+1,K[X++]=U,K[X++]=O-1}},Mb={...iJ,extension:{...iJ.extension,name:"ellipse"}},Wb={...iJ,extension:{...iJ.extension,name:"roundedRectangle"}}});var cH=0.0001,kB=0.0001;var PB=()=>{};function Fb(Z){let J=Z.length;if(J<6)return 1;let Q=0;for(let q=0,K=Z[J-2],X=Z[J-1];q<J;q+=2){let z=Z[q],Y=Z[q+1];Q+=(z-K)*(Y+X),K=z,X=Y}if(Q<0)return-1;return 1}var jb=()=>{};function wb(Z,J,Q,q,K,X,z,Y){let O=Z-Q*K,U=J-q*K,A=Z+Q*X,D=J+q*X,_,W;if(z)_=q,W=-Q;else _=-q,W=Q;let j=O+_,C=U+W,R=A+_,G=D+W;return Y.push(j,C),Y.push(R,G),2}function mZ(Z,J,Q,q,K,X,z,Y){let O=Q-Z,U=q-J,A=Math.atan2(O,U),D=Math.atan2(K-Z,X-J);if(Y&&A<D)A+=Math.PI*2;else if(!Y&&A>D)D+=Math.PI*2;let _=A,W=D-A,j=Math.abs(W),C=Math.sqrt(O*O+U*U),R=(15*j*Math.sqrt(C)/Math.PI>>0)+1,G=W/R;if(_+=G,Y){z.push(Z,J),z.push(Q,q);for(let w=1,L=_;w<R;w++,L+=G)z.push(Z,J),z.push(Z+Math.sin(L)*C,J+Math.cos(L)*C);z.push(Z,J),z.push(K,X)}else{z.push(Q,q),z.push(Z,J);for(let w=1,L=_;w<R;w++,L+=G)z.push(Z+Math.sin(L)*C,J+Math.cos(L)*C),z.push(Z,J);z.push(K,X),z.push(Z,J)}return R*2}function Cb(Z,J,Q,q,K,X){let z=cH;if(Z.length===0)return;let Y=J,O=Y.alignment;if(J.alignment!==0.5){let A0=Fb(Z);if(Q)A0*=-1;O=(O-0.5)*A0+0.5}let U=new b0(Z[0],Z[1]),A=new b0(Z[Z.length-2],Z[Z.length-1]),D=q,_=Math.abs(U.x-A.x)<z&&Math.abs(U.y-A.y)<z;if(D){if(Z=Z.slice(),_)Z.pop(),Z.pop(),A.set(Z[Z.length-2],Z[Z.length-1]);let A0=(U.x+A.x)*0.5,D0=(A.y+U.y)*0.5;Z.unshift(A0,D0),Z.push(A0,D0)}let W=K,j=Z.length/2,C=Z.length,R=W.length/2,G=Y.width/2,w=G*G,L=Y.miterLimit*Y.miterLimit,I=Z[0],h=Z[1],v=Z[2],b=Z[3],m=0,c=0,u=-(h-b),n=I-v,N0=0,W0=0,f0=Math.sqrt(u*u+n*n);u/=f0,n/=f0,u*=G,n*=G;let L5=O,J0=(1-L5)*2,H0=L5*2;if(!D){if(Y.cap==="round")C+=mZ(I-u*(J0-H0)*0.5,h-n*(J0-H0)*0.5,I-u*J0,h-n*J0,I+u*H0,h+n*H0,W,!0)+2;else if(Y.cap==="square")C+=wb(I,h,u,n,J0,H0,!0,W)}W.push(I-u*J0,h-n*J0),W.push(I+u*H0,h+n*H0);for(let A0=1;A0<j-1;++A0){I=Z[(A0-1)*2],h=Z[(A0-1)*2+1],v=Z[A0*2],b=Z[A0*2+1],m=Z[(A0+1)*2],c=Z[(A0+1)*2+1],u=-(h-b),n=I-v,f0=Math.sqrt(u*u+n*n),u/=f0,n/=f0,u*=G,n*=G,N0=-(b-c),W0=v-m,f0=Math.sqrt(N0*N0+W0*W0),N0/=f0,W0/=f0,N0*=G,W0*=G;let D0=v-I,G1=h-b,Z5=v-m,o5=c-b,t5=D0*Z5+G1*o5,r5=G1*Z5-o5*D0,W8=r5<0;if(Math.abs(r5)<0.001*Math.abs(t5)){if(W.push(v-u*J0,b-n*J0),W.push(v+u*H0,b+n*H0),t5>=0){if(Y.join==="round")C+=mZ(v,b,v-u*J0,b-n*J0,v-N0*J0,b-W0*J0,W,!1)+4;else C+=2;W.push(v-N0*H0,b-W0*H0),W.push(v+N0*J0,b+W0*J0)}continue}let P5=(-u+I)*(-n+b)-(-u+v)*(-n+h),$7=(-N0+m)*(-W0+b)-(-N0+v)*(-W0+c),u8=(D0*$7-Z5*P5)/r5,l8=(o5*P5-G1*$7)/r5,G8=(u8-v)*(u8-v)+(l8-b)*(l8-b),v5=v+(u8-v)*J0,f5=b+(l8-b)*J0,e5=v-(u8-v)*H0,F8=b-(l8-b)*H0,p8=Math.min(D0*D0+G1*G1,Z5*Z5+o5*o5),S9=W8?J0:H0,b9=p8+S9*S9*w;if(G8<=b9)if(Y.join==="bevel"||G8/w>L){if(W8)W.push(v5,f5),W.push(v+u*H0,b+n*H0),W.push(v5,f5),W.push(v+N0*H0,b+W0*H0);else W.push(v-u*J0,b-n*J0),W.push(e5,F8),W.push(v-N0*J0,b-W0*J0),W.push(e5,F8);C+=2}else if(Y.join==="round")if(W8)W.push(v5,f5),W.push(v+u*H0,b+n*H0),C+=mZ(v,b,v+u*H0,b+n*H0,v+N0*H0,b+W0*H0,W,!0)+4,W.push(v5,f5),W.push(v+N0*H0,b+W0*H0);else W.push(v-u*J0,b-n*J0),W.push(e5,F8),C+=mZ(v,b,v-u*J0,b-n*J0,v-N0*J0,b-W0*J0,W,!1)+4,W.push(v-N0*J0,b-W0*J0),W.push(e5,F8);else W.push(v5,f5),W.push(e5,F8);else{if(W.push(v-u*J0,b-n*J0),W.push(v+u*H0,b+n*H0),Y.join==="round")if(W8)C+=mZ(v,b,v+u*H0,b+n*H0,v+N0*H0,b+W0*H0,W,!0)+2;else C+=mZ(v,b,v-u*J0,b-n*J0,v-N0*J0,b-W0*J0,W,!1)+2;else if(Y.join==="miter"&&G8/w<=L){if(W8)W.push(e5,F8),W.push(e5,F8);else W.push(v5,f5),W.push(v5,f5);C+=2}W.push(v-N0*J0,b-W0*J0),W.push(v+N0*H0,b+W0*H0),C+=2}}if(I=Z[(j-2)*2],h=Z[(j-2)*2+1],v=Z[(j-1)*2],b=Z[(j-1)*2+1],u=-(h-b),n=I-v,f0=Math.sqrt(u*u+n*n),u/=f0,n/=f0,u*=G,n*=G,W.push(v-u*J0,b-n*J0),W.push(v+u*H0,b+n*H0),!D){if(Y.cap==="round")C+=mZ(v-u*(J0-H0)*0.5,b-n*(J0-H0)*0.5,v-u*J0,b-n*J0,v+u*H0,b+n*H0,W,!1)+2;else if(Y.cap==="square")C+=wb(v,b,u,n,J0,H0,!1,W)}let $1=kB*kB;for(let A0=R;A0<C+R-2;++A0){if(I=W[A0*2],h=W[A0*2+1],v=W[(A0+1)*2],b=W[(A0+1)*2+1],m=W[(A0+2)*2],c=W[(A0+2)*2+1],Math.abs(I*(b-c)+v*(c-h)+m*(h-b))<$1)continue;X.push(A0,A0+1,A0+2)}}var Lb=F(()=>{P6();PB();jb()});function Rb(Z,J,Q,q){let K=cH;if(Z.length===0)return;let X=Z[0],z=Z[1],Y=Z[Z.length-2],O=Z[Z.length-1],U=J||Math.abs(X-Y)<K&&Math.abs(z-O)<K,A=Q,D=Z.length/2,_=A.length/2;for(let W=0;W<D;W++)A.push(Z[W*2]),A.push(Z[W*2+1]);for(let W=0;W<D-1;W++)q.push(_+W,_+W+1);if(U)q.push(_+D-1,_)}var Eb=F(()=>{PB()});function pH(Z,J,Q=2){let q=J&&J.length,K=q?J[0]*Q:Z.length,X=Tb(Z,0,K,Q,!0),z=[];if(!X||X.next===X.prev)return z;let Y,O,U;if(q)X=_i(Z,J,X,Q);if(Z.length>80*Q){Y=Z[0],O=Z[1];let A=Y,D=O;for(let _=Q;_<K;_+=Q){let W=Z[_],j=Z[_+1];if(W<Y)Y=W;if(j<O)O=j;if(W>A)A=W;if(j>D)D=j}U=Math.max(A-Y,D-O),U=U!==0?32767/U:0}return yK(X,z,Q,Y,O,U,0),z}function Tb(Z,J,Q,q,K){let X;if(K===Ii(Z,J,Q,q)>0)for(let z=J;z<Q;z+=q)X=Ib(z/q|0,Z[z],Z[z+1],X);else for(let z=Q-q;z>=J;z-=q)X=Ib(z/q|0,Z[z],Z[z+1],X);if(X&&aJ(X,X.next))xK(X),X=X.next;return X}function dZ(Z,J){if(!Z)return Z;if(!J)J=Z;let Q=Z,q;do if(q=!1,!Q.steiner&&(aJ(Q,Q.next)||L1(Q.prev,Q,Q.next)===0)){if(xK(Q),Q=J=Q.prev,Q===Q.next)break;q=!0}else Q=Q.next;while(q||Q!==J);return J}function yK(Z,J,Q,q,K,X,z){if(!Z)return;if(!z&&X)ji(Z,q,K,X);let Y=Z;while(Z.prev!==Z.next){let{prev:O,next:U}=Z;if(X?Ai(Z,q,K,X):$i(Z)){J.push(O.i,Z.i,U.i),xK(Z),Z=U.next,Y=U.next;continue}if(Z=U,Z===Y){if(!z)yK(dZ(Z),J,Q,q,K,X,1);else if(z===1)Z=Di(dZ(Z),J),yK(Z,J,Q,q,K,X,2);else if(z===2)Bi(Z,J,Q,q,K,X);break}}}function $i(Z){let J=Z.prev,Q=Z,q=Z.next;if(L1(J,Q,q)>=0)return!1;let K=J.x,X=Q.x,z=q.x,Y=J.y,O=Q.y,U=q.y,A=Math.min(K,X,z),D=Math.min(Y,O,U),_=Math.max(K,X,z),W=Math.max(Y,O,U),j=q.next;while(j!==J){if(j.x>=A&&j.x<=_&&j.y>=D&&j.y<=W&&fK(K,Y,X,O,z,U,j.x,j.y)&&L1(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function Ai(Z,J,Q,q){let K=Z.prev,X=Z,z=Z.next;if(L1(K,X,z)>=0)return!1;let Y=K.x,O=X.x,U=z.x,A=K.y,D=X.y,_=z.y,W=Math.min(Y,O,U),j=Math.min(A,D,_),C=Math.max(Y,O,U),R=Math.max(A,D,_),G=vB(W,j,J,Q,q),w=vB(C,R,J,Q,q),L=Z.prevZ,I=Z.nextZ;while(L&&L.z>=G&&I&&I.z<=w){if(L.x>=W&&L.x<=C&&L.y>=j&&L.y<=R&&L!==K&&L!==z&&fK(Y,A,O,D,U,_,L.x,L.y)&&L1(L.prev,L,L.next)>=0)return!1;if(L=L.prevZ,I.x>=W&&I.x<=C&&I.y>=j&&I.y<=R&&I!==K&&I!==z&&fK(Y,A,O,D,U,_,I.x,I.y)&&L1(I.prev,I,I.next)>=0)return!1;I=I.nextZ}while(L&&L.z>=G){if(L.x>=W&&L.x<=C&&L.y>=j&&L.y<=R&&L!==K&&L!==z&&fK(Y,A,O,D,U,_,L.x,L.y)&&L1(L.prev,L,L.next)>=0)return!1;L=L.prevZ}while(I&&I.z<=w){if(I.x>=W&&I.x<=C&&I.y>=j&&I.y<=R&&I!==K&&I!==z&&fK(Y,A,O,D,U,_,I.x,I.y)&&L1(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function Di(Z,J){let Q=Z;do{let q=Q.prev,K=Q.next.next;if(!aJ(q,K)&&bb(q,Q,Q.next,K)&&hK(q,K)&&hK(K,q))J.push(q.i,Q.i,K.i),xK(Q),xK(Q.next),Q=Z=K;Q=Q.next}while(Q!==Z);return dZ(Q)}function Bi(Z,J,Q,q,K,X){let z=Z;do{let Y=z.next.next;while(Y!==z.prev){if(z.i!==Y.i&&Li(z,Y)){let O=kb(z,Y);z=dZ(z,z.next),O=dZ(O,O.next),yK(z,J,Q,q,K,X,0),yK(O,J,Q,q,K,X,0);return}Y=Y.next}z=z.next}while(z!==Z)}function _i(Z,J,Q,q){let K=[];for(let X=0,z=J.length;X<z;X++){let Y=J[X]*q,O=X<z-1?J[X+1]*q:Z.length,U=Tb(Z,Y,O,q,!1);if(U===U.next)U.steiner=!0;K.push(Ci(U))}K.sort(Mi);for(let X=0;X<K.length;X++)Q=Wi(K[X],Q);return Q}function Mi(Z,J){let Q=Z.x-J.x;if(Q===0){if(Q=Z.y-J.y,Q===0){let q=(Z.next.y-Z.y)/(Z.next.x-Z.x),K=(J.next.y-J.y)/(J.next.x-J.x);Q=q-K}}return Q}function Wi(Z,J){let Q=Gi(Z,J);if(!Q)return J;let q=kb(Q,Z);return dZ(q,q.next),dZ(Q,Q.next)}function Gi(Z,J){let Q=J,q=Z.x,K=Z.y,X=-1/0,z;if(aJ(Z,Q))return Q;do{if(aJ(Z,Q.next))return Q.next;else if(K<=Q.y&&K>=Q.next.y&&Q.next.y!==Q.y){let D=Q.x+(K-Q.y)*(Q.next.x-Q.x)/(Q.next.y-Q.y);if(D<=q&&D>X){if(X=D,z=Q.x<Q.next.x?Q:Q.next,D===q)return z}}Q=Q.next}while(Q!==J);if(!z)return null;let Y=z,O=z.x,U=z.y,A=1/0;Q=z;do{if(q>=Q.x&&Q.x>=O&&q!==Q.x&&Sb(K<U?q:X,K,O,U,K<U?X:q,K,Q.x,Q.y)){let D=Math.abs(K-Q.y)/(q-Q.x);if(hK(Q,Z)&&(D<A||D===A&&(Q.x>z.x||Q.x===z.x&&Fi(z,Q))))z=Q,A=D}Q=Q.next}while(Q!==Y);return z}function Fi(Z,J){return L1(Z.prev,Z,J.prev)<0&&L1(J.next,Z,Z.next)<0}function ji(Z,J,Q,q){let K=Z;do{if(K.z===0)K.z=vB(K.x,K.y,J,Q,q);K.prevZ=K.prev,K.nextZ=K.next,K=K.next}while(K!==Z);K.prevZ.nextZ=null,K.prevZ=null,wi(K)}function wi(Z){let J,Q=1;do{let q=Z,K;Z=null;let X=null;J=0;while(q){J++;let z=q,Y=0;for(let U=0;U<Q;U++)if(Y++,z=z.nextZ,!z)break;let O=Q;while(Y>0||O>0&&z){if(Y!==0&&(O===0||!z||q.z<=z.z))K=q,q=q.nextZ,Y--;else K=z,z=z.nextZ,O--;if(X)X.nextZ=K;else Z=K;K.prevZ=X,X=K}q=z}X.nextZ=null,Q*=2}while(J>1);return Z}function vB(Z,J,Q,q,K){return Z=(Z-Q)*K|0,J=(J-q)*K|0,Z=(Z|Z<<8)&16711935,Z=(Z|Z<<4)&252645135,Z=(Z|Z<<2)&858993459,Z=(Z|Z<<1)&1431655765,J=(J|J<<8)&16711935,J=(J|J<<4)&252645135,J=(J|J<<2)&858993459,J=(J|J<<1)&1431655765,Z|J<<1}function Ci(Z){let J=Z,Q=Z;do{if(J.x<Q.x||J.x===Q.x&&J.y<Q.y)Q=J;J=J.next}while(J!==Z);return Q}function Sb(Z,J,Q,q,K,X,z,Y){return(K-z)*(J-Y)>=(Z-z)*(X-Y)&&(Z-z)*(q-Y)>=(Q-z)*(J-Y)&&(Q-z)*(X-Y)>=(K-z)*(q-Y)}function fK(Z,J,Q,q,K,X,z,Y){return!(Z===z&&J===Y)&&Sb(Z,J,Q,q,K,X,z,Y)}function Li(Z,J){return Z.next.i!==J.i&&Z.prev.i!==J.i&&!Ri(Z,J)&&(hK(Z,J)&&hK(J,Z)&&Ei(Z,J)&&(L1(Z.prev,Z,J.prev)||L1(Z,J.prev,J))||aJ(Z,J)&&L1(Z.prev,Z,Z.next)>0&&L1(J.prev,J,J.next)>0)}function L1(Z,J,Q){return(J.y-Z.y)*(Q.x-J.x)-(J.x-Z.x)*(Q.y-J.y)}function aJ(Z,J){return Z.x===J.x&&Z.y===J.y}function bb(Z,J,Q,q){let K=lH(L1(Z,J,Q)),X=lH(L1(Z,J,q)),z=lH(L1(Q,q,Z)),Y=lH(L1(Q,q,J));if(K!==X&&z!==Y)return!0;if(K===0&&uH(Z,Q,J))return!0;if(X===0&&uH(Z,q,J))return!0;if(z===0&&uH(Q,Z,q))return!0;if(Y===0&&uH(Q,J,q))return!0;return!1}function uH(Z,J,Q){return J.x<=Math.max(Z.x,Q.x)&&J.x>=Math.min(Z.x,Q.x)&&J.y<=Math.max(Z.y,Q.y)&&J.y>=Math.min(Z.y,Q.y)}function lH(Z){return Z>0?1:Z<0?-1:0}function Ri(Z,J){let Q=Z;do{if(Q.i!==Z.i&&Q.next.i!==Z.i&&Q.i!==J.i&&Q.next.i!==J.i&&bb(Q,Q.next,Z,J))return!0;Q=Q.next}while(Q!==Z);return!1}function hK(Z,J){return L1(Z.prev,Z,Z.next)<0?L1(Z,J,Z.next)>=0&&L1(Z,Z.prev,J)>=0:L1(Z,J,Z.prev)<0||L1(Z,Z.next,J)<0}function Ei(Z,J){let Q=Z,q=!1,K=(Z.x+J.x)/2,X=(Z.y+J.y)/2;do{if(Q.y>X!==Q.next.y>X&&Q.next.y!==Q.y&&K<(Q.next.x-Q.x)*(X-Q.y)/(Q.next.y-Q.y)+Q.x)q=!q;Q=Q.next}while(Q!==Z);return q}function kb(Z,J){let Q=fB(Z.i,Z.x,Z.y),q=fB(J.i,J.x,J.y),K=Z.next,X=J.prev;return Z.next=J,J.prev=Z,Q.next=K,K.prev=Q,q.next=Q,Q.prev=q,X.next=q,q.prev=X,q}function Ib(Z,J,Q,q){let K=fB(Z,J,Q);if(!q)K.prev=K,K.next=K;else K.next=q.next,K.prev=q,q.next.prev=K,q.next=K;return K}function xK(Z){if(Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ)Z.prevZ.nextZ=Z.nextZ;if(Z.nextZ)Z.nextZ.prevZ=Z.prevZ}function fB(Z,J,Q){return{i:Z,x:J,y:Q,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Ii(Z,J,Q,q){let K=0;for(let X=J,z=Q-q;X<Q;X+=q)K+=(Z[z]-Z[X])*(Z[X+1]+Z[z+1]),z=X;return K}var Pb;var vb=F(()=>{F5();Pb=pH.default||pH});function iH(Z,J,Q,q,K,X,z){let Y=Pb(Z,J,2);if(!Y)return;for(let U=0;U<Y.length;U+=3)X[z++]=Y[U]+K,X[z++]=Y[U+1]+K,X[z++]=Y[U+2]+K;let O=K*q;for(let U=0;U<Z.length;U+=2)Q[O]=Z[U],Q[O+1]=Z[U+1],O+=q}var yB=F(()=>{vb()});var Ti,fb;var yb=F(()=>{g();yB();Ti=[],fb={extension:{type:T.ShapeBuilder,name:"polygon"},build(Z,J){for(let Q=0;Q<Z.points.length;Q++)J[Q]=Z.points[Q];return!0},triangulate(Z,J,Q,q,K,X){iH(Z,Ti,J,Q,q,K,X)}}});var hb;var xb=F(()=>{g();hb={extension:{type:T.ShapeBuilder,name:"rectangle"},build(Z,J){let Q=Z,q=Q.x,K=Q.y,X=Q.width,z=Q.height;if(!(X>0&&z>0))return!1;return J[0]=q,J[1]=K,J[2]=q+X,J[3]=K,J[4]=q+X,J[5]=K+z,J[6]=q,J[7]=K+z,!0},triangulate(Z,J,Q,q,K,X){let z=0;q*=Q,J[q+z]=Z[0],J[q+z+1]=Z[1],z+=Q,J[q+z]=Z[2],J[q+z+1]=Z[3],z+=Q,J[q+z]=Z[6],J[q+z+1]=Z[7],z+=Q,J[q+z]=Z[4],J[q+z+1]=Z[5],z+=Q;let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2,K[X++]=Y+1,K[X++]=Y+3,K[X++]=Y+2}}});var gb;var mb=F(()=>{g();gb={extension:{type:T.ShapeBuilder,name:"triangle"},build(Z,J){return J[0]=Z.x,J[1]=Z.y,J[2]=Z.x2,J[3]=Z.y2,J[4]=Z.x3,J[5]=Z.y3,!0},triangulate(Z,J,Q,q,K,X){let z=0;q*=Q,J[q+z]=Z[0],J[q+z+1]=Z[1],z+=Q,J[q+z]=Z[2],J[q+z+1]=Z[3],z+=Q,J[q+z]=Z[4],J[q+z+1]=Z[5];let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2}}});function cb(Z,J){for(let Q=0;Q<J.length;Q++){let q=J[Q];Z.addColorStop(q.offset,q.color)}}function ub(Z,J){let Q=K0.get().createCanvas(Z,J),q=Q.getContext("2d");return{canvas:Q,context:q}}function Si(Z){let J=Z[0]??{};if(typeof J==="number"||Z[1])q0("8.5.2","use options object instead"),J={type:"linear",start:{x:Z[0],y:Z[1]},end:{x:Z[2],y:Z[3]},textureSpace:Z[4],textureSize:Z[5]??D8.defaultLinearOptions.textureSize};return J}var db,hB=class Z{constructor(...J){this.uid=M0("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let Q=Si(J);if(Q={...Q.type==="radial"?Z.defaultRadialOptions:Z.defaultLinearOptions,...OH(Q)},this._textureSize=Q.textureSize,this._wrapMode=Q.wrapMode,Q.type==="radial")this.center=Q.center,this.outerCenter=Q.outerCenter??this.center,this.innerRadius=Q.innerRadius,this.outerRadius=Q.outerRadius,this.scale=Q.scale,this.rotation=Q.rotation;else this.start=Q.start,this.end=Q.end;this.textureSpace=Q.textureSpace,this.type=Q.type,Q.colorStops.forEach((K)=>{this.addColorStop(K.offset,K.color)})}addColorStop(J,Q){return this.colorStops.push({offset:J,color:j0.shared.setValue(Q).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:J,y:Q}=this.start,{x:q,y:K}=this.end,X=q-J,z=K-Q,Y=X<0||z<0;if(this._wrapMode==="clamp-to-edge"){if(X<0){let R=J;J=q,q=R,X*=-1}if(z<0){let R=Q;Q=K,K=R,z*=-1}}let O=this.colorStops.length?this.colorStops:db,U=this._textureSize,{canvas:A,context:D}=ub(U,1),_=!Y?D.createLinearGradient(0,0,this._textureSize,0):D.createLinearGradient(this._textureSize,0,0,0);cb(_,O),D.fillStyle=_,D.fillRect(0,0,U,1),this.texture=new p({source:new c8({resource:A,addressMode:this._wrapMode})});let W=Math.sqrt(X*X+z*z),j=Math.atan2(z,X),C=new a;if(C.scale(W/U,1),C.rotate(j),C.translate(J,Q),this.textureSpace==="local")C.scale(U,U);this.transform=C}buildGradient(){if(!this.texture)this._tick++;if(this.type==="linear")this.buildLinearGradient();else this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;let J=this.colorStops.length?this.colorStops:db,Q=this._textureSize,{canvas:q,context:K}=ub(Q,Q),{x:X,y:z}=this.center,{x:Y,y:O}=this.outerCenter,U=this.innerRadius,A=this.outerRadius,D=Y-A,_=O-A,W=Q/(A*2),j=(X-D)*W,C=(z-_)*W,R=K.createRadialGradient(j,C,U*W,(Y-D)*W,(O-_)*W,A*W);cb(R,J),K.fillStyle=J[J.length-1].color,K.fillRect(0,0,Q,Q),K.fillStyle=R,K.translate(j,C),K.rotate(this.rotation),K.scale(1,this.scale),K.translate(-j,-C),K.fillRect(0,0,Q,Q),this.texture=new p({source:new c8({resource:q,addressMode:this._wrapMode})});let G=new a;if(G.scale(1/W,1/W),G.translate(D,_),this.textureSpace==="local")G.scale(Q,Q);this.transform=G}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}},D8;var sJ=F(()=>{b5();i0();T0();fJ();p0();t1();M1();kD();db=[{offset:0,color:"white"},{offset:1,color:"black"}];hB.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};hB.defaultRadialOptions={center:{x:0.5,y:0.5},innerRadius:0,outerRadius:0.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};D8=hB});function lb(Z,J,Q,q){let K=J.matrix?Z.copyFrom(J.matrix).invert():Z.identity();if(J.textureSpace==="local"){let z=Q.getBounds(ki);if(J.width)z.pad(J.width);let{x:Y,y:O}=z,U=1/z.width,A=1/z.height,D=-Y*U,_=-O*A,W=K.a,j=K.b,C=K.c,R=K.d;K.a*=U,K.b*=U,K.c*=A,K.d*=A,K.tx=D*W+_*C+K.tx,K.ty=D*j+_*R+K.ty}else K.translate(J.texture.frame.x,J.texture.frame.y),K.scale(1/J.texture.source.width,1/J.texture.source.height);let X=J.texture.source.style;if(!(J.fill instanceof D8)&&X.addressMode==="clamp-to-edge")X.addressMode="repeat",X.update();if(q)K.append(bi.copyFrom(q).invert());return K}var bi,ki;var pb=F(()=>{T0();r1();sJ();bi=new a,ki=new U0});function ab(Z,J){let{geometryData:Q,batches:q}=J;q.length=0,Q.indices.length=0,Q.vertices.length=0,Q.uvs.length=0;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];if(X.action==="texture")fi(X.data,q,Q);else if(X.action==="fill"||X.action==="stroke"){let z=X.action==="stroke",Y=X.data.path.shapePath,O=X.data.style,U=X.data.hole;if(z&&U)ib(U.shapePath,O,!0,q,Q);if(U)Y.shapePrimitives[Y.shapePrimitives.length-1].holes=U.shapePath.shapePrimitives;ib(Y,O,z,q,Q)}}}function fi(Z,J,Q){let q=[],K=aH.rectangle,X=Pi;X.x=Z.dx,X.y=Z.dy,X.width=Z.dw,X.height=Z.dh;let z=Z.transform;if(!K.build(X,q))return;let{vertices:Y,uvs:O,indices:U}=Q,A=U.length,D=Y.length/2;if(z)SB(q,z);K.triangulate(q,Y,2,D,U,A);let _=Z.image,W=_.uvs;O.push(W.x0,W.y0,W.x1,W.y1,W.x3,W.y3,W.x2,W.y2);let j=Z1.get(pJ);j.indexOffset=A,j.indexSize=U.length-A,j.attributeOffset=D,j.attributeSize=Y.length/2-D,j.baseColor=Z.style,j.alpha=Z.alpha,j.texture=_,j.geometryData=Q,J.push(j)}function ib(Z,J,Q,q,K){let{vertices:X,uvs:z,indices:Y}=K;Z.shapePrimitives.forEach(({shape:O,transform:U,holes:A})=>{let D=[],_=aH[O.type];if(!_.build(O,D))return;let W=Y.length,j=X.length/2,C="triangle-list";if(U)SB(D,U);if(!Q)if(A){let L=[],I=D.slice();yi(A).forEach((v)=>{L.push(I.length/2),I.push(...v)}),iH(I,L,X,2,j,Y,W)}else _.triangulate(D,X,2,j,Y,W);else{let L=O.closePath??!0,I=J;if(!I.pixelLine)Cb(D,I,!1,L,X,Y);else Rb(D,L,X,Y),C="line-list"}let R=z.length/2,G=J.texture;if(G!==p.WHITE){let L=lb(vi,J,O,U);Ab(X,2,j,z,R,2,X.length/2-j,L)}else Db(z,R,2,X.length/2-j);let w=Z1.get(pJ);w.indexOffset=W,w.indexSize=Y.length-W,w.attributeOffset=j,w.attributeSize=X.length/2-j,w.baseColor=J.color,w.alpha=J.alpha,w.texture=G,w.geometryData=K,w.topology=C,q.push(w)})}function yi(Z){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q].shape,K=[];if(aH[q.type].build(q,K))J.push(K)}return J}var aH,Pi,vi;var sb=F(()=>{g();T0();r1();Bb();_b();p0();N4();bB();Gb();Lb();Eb();yb();xb();mb();pb();yB();aH={};Z0.handleByMap(T.ShapeBuilder,aH);Z0.add(hb,fb,gb,iJ,Mb,Wb);Pi=new U0,vi=new a});class nb{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class ob{constructor(){this.instructions=new UK}init(Z){this.batcher=new vK({maxTextures:Z}),this.instructions.reset()}get geometry(){return q0($I,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}var xB=class Z{constructor(J){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=J,J.renderableGC.addManagedHash(this,"_gpuContextHash"),J.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(J){Z.defaultOptions.bezierSmoothness=J?.bezierSmoothness??Z.defaultOptions.bezierSmoothness}getContextRenderData(J){return this._graphicsDataContextHash[J.uid]||this._initContextRenderData(J)}updateGpuContext(J){let Q=this._gpuContextHash[J.uid]||this._initContext(J);if(J.dirty){if(Q)this._cleanGraphicsContextData(J);else Q=this._initContext(J);ab(J,Q);let q=J.batchMode;if(J.customShader||q==="no-batch")Q.isBatchable=!1;else if(q==="auto")Q.isBatchable=Q.geometryData.vertices.length<400;else Q.isBatchable=!0;J.dirty=!1}return Q}getGpuContext(J){return this._gpuContextHash[J.uid]||this._initContext(J)}_initContextRenderData(J){let Q=Z1.get(ob,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:q,geometryData:K}=this._gpuContextHash[J.uid],X=K.vertices.length,z=K.indices.length;for(let A=0;A<q.length;A++)q[A].applyTransform=!1;let Y=Q.batcher;Y.ensureAttributeBuffer(X),Y.ensureIndexBuffer(z),Y.begin();for(let A=0;A<q.length;A++){let D=q[A];Y.add(D)}Y.finish(Q.instructions);let O=Y.geometry;O.indexBuffer.setDataWithSize(Y.indexBuffer,Y.indexSize,!0),O.buffers[0].setDataWithSize(Y.attributeBuffer.float32View,Y.attributeSize,!0);let U=Y.batches;for(let A=0;A<U.length;A++){let D=U[A];D.bindGroup=yJ(D.textures.textures,D.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[J.uid]=Q,Q}_initContext(J){let Q=new nb;return Q.context=J,this._gpuContextHash[J.uid]=Q,J.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]}onGraphicsContextDestroy(J){this._cleanGraphicsContextData(J),J.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]=null}_cleanGraphicsContextData(J){let Q=this._gpuContextHash[J.uid];if(!Q.isBatchable){if(this._graphicsDataContextHash[J.uid])Z1.return(this.getContextRenderData(J)),this._graphicsDataContextHash[J.uid]=null}if(Q.batches)Q.batches.forEach((q)=>{Z1.return(q)})}destroy(){for(let J in this._gpuContextHash)if(this._gpuContextHash[J])this.onGraphicsContextDestroy(this._gpuContextHash[J].context)}},nJ;var sH=F(()=>{g();vH();TB();SD();M1();N4();sb();xB.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"graphicsContext"};xB.defaultOptions={bezierSmoothness:0.5};nJ=xB});var hi,gB=class Z{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1)}set blend(J){if(!!(this.data&1)!==J)this.data^=1}get offsets(){return!!(this.data&2)}set offsets(J){if(!!(this.data&2)!==J)this.data^=2}set cullMode(J){if(J==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=J==="front"}get cullMode(){if(!this.culling)return"none";return this.clockwiseFrontFace?"front":"back"}get culling(){return!!(this.data&4)}set culling(J){if(!!(this.data&4)!==J)this.data^=4}get depthTest(){return!!(this.data&8)}set depthTest(J){if(!!(this.data&8)!==J)this.data^=8}get depthMask(){return!!(this.data&32)}set depthMask(J){if(!!(this.data&32)!==J)this.data^=32}get clockwiseFrontFace(){return!!(this.data&16)}set clockwiseFrontFace(J){if(!!(this.data&16)!==J)this.data^=16}get blendMode(){return this._blendMode}set blendMode(J){this.blend=J!=="none",this._blendMode=J,this._blendModeId=hi[J]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(J){this.offsets=!!J,this._polygonOffset=J}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){let J=new Z;return J.depthTest=!1,J.blend=!0,J}},x1;var m6=F(()=>{hi={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10};gB.default2d=gB.for2d();x1=gB});function A4(Z,J,Q){let q=(Z>>24&255)/255;J[Q++]=(Z&255)/255*q,J[Q++]=(Z>>8&255)/255*q,J[Q++]=(Z>>16&255)/255*q,J[Q++]=q}var oJ=()=>{};class tb{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach((Z)=>{Z1.return(Z)}),this.batches.length=0}}class nH{constructor(Z,J){this.state=x1.for2d(),this.renderer=Z,this._adaptor=J,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(Z){let J=Z.context,Q=!!Z._gpuData,q=this.renderer.graphicsContext.updateGpuContext(J);if(q.isBatchable||Q!==q.isBatchable)return!0;return!1}addRenderable(Z,J){let Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(Z.didViewUpdate)this._rebuild(Z);if(Q.isBatchable)this._addToBatcher(Z,J);else this.renderer.renderPipes.batch.break(J),J.add(Z)}updateRenderable(Z){let Q=this._getGpuDataForRenderable(Z).batches;for(let q=0;q<Q.length;q++){let K=Q[q];K._batcher.updateElement(K)}}execute(Z){if(!Z.isRenderable)return;let J=this.renderer,Q=Z.context;if(!J.graphicsContext.getGpuContext(Q).batches.length)return;let K=Q.customShader||this._adaptor.shader;this.state.blendMode=Z.groupBlendMode;let X=K.resources.localUniforms.uniforms;X.uTransformMatrix=Z.groupTransform,X.uRound=J._roundPixels|Z._roundPixels,A4(Z.groupColorAlpha,X.uColor,0),this._adaptor.execute(this,Z)}_rebuild(Z){let J=this._getGpuDataForRenderable(Z),Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(J.destroy(),Q.isBatchable)this._updateBatchesForRenderable(Z,J)}_addToBatcher(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getGpuDataForRenderable(Z).batches;for(let K=0;K<q.length;K++){let X=q[K];Q.addToBatch(X,J)}}_getGpuDataForRenderable(Z){return Z._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(Z)}_initGpuDataForRenderable(Z){let J=new tb;return Z._gpuData[this.renderer.uid]=J,J}_updateBatchesForRenderable(Z,J){let Q=Z.context,q=this.renderer.graphicsContext.getGpuContext(Q),K=this.renderer._roundPixels|Z._roundPixels;J.batches=q.batches.map((X)=>{let z=Z1.get(pJ);return X.copyTo(z),z.renderable=Z,z.roundPixels=K,z})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}var rb=F(()=>{g();m6();N4();oJ();bB();nH.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"graphics"}});var mB=F(()=>{g();sH();rb();Z0.add(nH);Z0.add(nJ)});class cZ{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(Z){this._topology=Z}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(Z){if(this.texture===Z)return;this.texture=Z,this._textureMatrixUpdateId=-1}get uvs(){let J=this.geometry.getBuffer("aUV"),Q=J.data,q=Q,K=this.texture.textureMatrix;if(!K.isSimple){if(q=this._transformedUvs,this._textureMatrixUpdateId!==K._updateID||this._uvUpdateId!==J._updateID){if(!q||q.length<Q.length)q=this._transformedUvs=new Float32Array(Q.length);this._textureMatrixUpdateId=K._updateID,this._uvUpdateId=J._updateID,K.multiplyUvs(Q,q)}}return q}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}var oH=()=>{};class dB{destroy(){}}class tH{constructor(Z,J){this.localUniforms=new a0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new w5({0:this.localUniforms}),this.renderer=Z,this._adaptor=J,this._adaptor.init()}validateRenderable(Z){let J=this._getMeshData(Z),Q=J.batched,q=Z.batched;if(J.batched=q,Q!==q)return!0;else if(q){let K=Z._geometry;if(K.indices.length!==J.indexSize||K.positions.length!==J.vertexSize)return J.indexSize=K.indices.length,J.vertexSize=K.positions.length,!0;let X=this._getBatchableMesh(Z);if(X.texture.uid!==Z._texture.uid)X._textureMatrixUpdateId=-1;return!X._batcher.checkAndUpdateTexture(X,Z._texture)}return!1}addRenderable(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getMeshData(Z);if(Z.didViewUpdate)q.indexSize=Z._geometry.indices?.length,q.vertexSize=Z._geometry.positions?.length;if(q.batched){let K=this._getBatchableMesh(Z);K.setTexture(Z._texture),K.geometry=Z._geometry,Q.addToBatch(K,J)}else Q.break(J),J.add(Z)}updateRenderable(Z){if(Z.batched){let J=this._getBatchableMesh(Z);J.setTexture(Z._texture),J.geometry=Z._geometry,J._batcher.updateElement(J)}}execute(Z){if(!Z.isRenderable)return;Z.state.blendMode=K7(Z.groupBlendMode,Z.texture._source);let J=this.localUniforms;J.uniforms.uTransformMatrix=Z.groupTransform,J.uniforms.uRound=this.renderer._roundPixels|Z._roundPixels,J.update(),A4(Z.groupColorAlpha,J.uniforms.uColor,0),this._adaptor.execute(this,Z)}_getMeshData(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new dB),Z._gpuData[this.renderer.uid].meshData||this._initMeshData(Z)}_initMeshData(Z){return Z._gpuData[this.renderer.uid].meshData={batched:Z.batched,indexSize:0,vertexSize:0},Z._gpuData[this.renderer.uid].meshData}_getBatchableMesh(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new dB),Z._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(Z)}_initBatchableMesh(Z){let J=new cZ;return J.renderable=Z,J.setTexture(Z._texture),J.transform=Z.groupTransform,J.roundPixels=this.renderer._roundPixels|Z._roundPixels,Z._gpuData[this.renderer.uid].batchableMesh=J,J}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}var eb=F(()=>{g();T0();G9();k5();RK();oJ();oH();tH.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"mesh"}});var cB=F(()=>{g();eb();Z0.add(tH)});class uB{execute(Z,J){let{state:Q,renderer:q}=Z,K=J.shader||Z.defaultShader;K.resources.uTexture=J.texture._source,K.resources.uniforms=Z.localUniforms;let X=q.gl,z=Z.getBuffers(J);q.shader.bind(K),q.state.set(Q),q.geometry.bind(z.geometry,K.glProgram);let O=z.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?X.UNSIGNED_SHORT:X.UNSIGNED_INT;X.drawElements(X.TRIANGLES,J.particleChildren.length*6,O,0)}}var Zk=()=>{};function lB(Z,J=null){let Q=Z*6;if(Q>65535)J||(J=new Uint32Array(Q));else J||(J=new Uint16Array(Q));if(J.length!==Q)throw Error(`Out buffer length is incorrect, got ${J.length} and expected ${Q}`);for(let q=0,K=0;q<Q;q+=6,K+=4)J[q+0]=K+0,J[q+1]=K+1,J[q+2]=K+2,J[q+3]=K+0,J[q+4]=K+2,J[q+5]=K+3;return J}var Jk=()=>{};function qk(Z){return{dynamicUpdate:Qk(Z,!0),staticUpdate:Qk(Z,!1)}}function Qk(Z,J){let Q=[];Q.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let q=0;for(let X in Z){let z=Z[X];if(J!==z.dynamic)continue;Q.push(`offset = index + ${q}`),Q.push(z.code);let Y=A8(z.format);q+=Y.stride/4}Q.push(`
            index += stride * 4;
        }
    `),Q.unshift(`
        var stride = ${q};
    `);let K=Q.join(`
`);return Function("ps","f32v","u32v",K)}var Kk=F(()=>{gZ()});class pB{constructor(Z){this._size=0,this._generateParticleUpdateCache={};let J=this._size=Z.size??1000,Q=Z.properties,q=0,K=0;for(let U in Q){let A=Q[U],D=A8(A.format);if(A.dynamic)K+=D.stride;else q+=D.stride}this._dynamicStride=K/4,this._staticStride=q/4,this.staticAttributeBuffer=new q7(J*4*q),this.dynamicAttributeBuffer=new q7(J*4*K),this.indexBuffer=lB(J);let X=new x6,z=0,Y=0;this._staticBuffer=new h1({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:w0.VERTEX|w0.COPY_DST}),this._dynamicBuffer=new h1({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:w0.VERTEX|w0.COPY_DST});for(let U in Q){let A=Q[U],D=A8(A.format);if(A.dynamic)X.addAttribute(A.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:z*4,format:A.format}),z+=D.size;else X.addAttribute(A.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:Y*4,format:A.format}),Y+=D.size}X.addIndex(this.indexBuffer);let O=this.getParticleUpdate(Q);this._dynamicUpload=O.dynamicUpdate,this._staticUpload=O.staticUpdate,this.geometry=X}getParticleUpdate(Z){let J=xi(Z);if(this._generateParticleUpdateCache[J])return this._generateParticleUpdateCache[J];return this._generateParticleUpdateCache[J]=this.generateParticleUpdate(Z),this._generateParticleUpdateCache[J]}generateParticleUpdate(Z){return qk(Z)}update(Z,J){if(Z.length>this._size)J=!0,this._size=Math.max(Z.length,this._size*1.5|0),this.staticAttributeBuffer=new q7(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new q7(this._size*this._dynamicStride*4*4),this.indexBuffer=lB(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0);let Q=this.dynamicAttributeBuffer;if(this._dynamicUpload(Z,Q.float32View,Q.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,Z.length*this._dynamicStride*4,!0),J){let q=this.staticAttributeBuffer;this._staticUpload(Z,q.float32View,q.uint32View),this._staticBuffer.setDataWithSize(q.float32View,Z.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function xi(Z){let J=[];for(let Q in Z){let q=Z[Q];J.push(Q,q.code,q.dynamic?"d":"s")}return J.join("_")}var Xk=F(()=>{F9();X7();xJ();gZ();VB();Jk();Kk()});var Nk=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`;var zk=()=>{};var Hk=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`;var Yk=()=>{};var iB=`
struct ParticleUniforms {
  uTranslationMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uRound:f32,
  uResolution:vec2<f32>,
};

fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
{
  return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   var position = vec4((uniforms.uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

   if(uniforms.uRound == 1.0) {
       position = vec4(roundPixels(position.xy, uniforms.uResolution), position.zw);
   }

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;var Vk=()=>{};var aB;var Ok=F(()=>{b5();T0();Y4();z7();g6();p0();TZ();zk();Yk();Vk();aB=class aB extends k1{constructor(){let Z=V5.from({vertex:Hk,fragment:Nk}),J=O5.from({fragment:{source:iB,entryPoint:"mainFragment"},vertex:{source:iB,entryPoint:"mainVertex"}});super({glProgram:Z,gpuProgram:J,resources:{uTexture:p.WHITE.source,uSampler:new U8({}),uniforms:{uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new j0(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}});class gK{constructor(Z,J){this.state=x1.for2d(),this.localUniforms=new a0({uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=Z,this.adaptor=J,this.defaultShader=new aB,this.state=x1.for2d()}validateRenderable(Z){return!1}addRenderable(Z,J){this.renderer.renderPipes.batch.break(J),J.add(Z)}getBuffers(Z){return Z._gpuData[this.renderer.uid]||this._initBuffer(Z)}_initBuffer(Z){return Z._gpuData[this.renderer.uid]=new pB({size:Z.particleChildren.length,properties:Z._properties}),Z._gpuData[this.renderer.uid]}updateRenderable(Z){}execute(Z){let J=Z.particleChildren;if(J.length===0)return;let Q=this.renderer,q=this.getBuffers(Z);Z.texture||(Z.texture=J[0].texture);let K=this.state;q.update(J,Z._childrenDirty),Z._childrenDirty=!1,K.blendMode=K7(Z.blendMode,Z.texture._source);let X=this.localUniforms.uniforms,z=X.uTranslationMatrix;Z.worldTransform.copyTo(z),z.prepend(Q.globalUniforms.globalUniformData.projectionMatrix),X.uResolution=Q.globalUniforms.globalUniformData.resolution,X.uRound=Q._roundPixels|Z._roundPixels,A4(Z.groupColorAlpha,X.uColor,0),this.adaptor.execute(this,Z)}destroy(){if(this.renderer=null,this.defaultShader)this.defaultShader.destroy(),this.defaultShader=null}}var sB=F(()=>{T0();k5();RK();m6();oJ();Xk();Ok()});var rH;var Uk=F(()=>{g();Zk();sB();rH=class rH extends gK{constructor(Z){super(Z,new uB)}};rH.extension={type:[T.WebGLPipes],name:"particle"}});class nB{execute(Z,J){let Q=Z.renderer,q=J.shader||Z.defaultShader;q.groups[0]=Q.renderPipes.uniformBatch.getUniformBindGroup(Z.localUniforms,!0),q.groups[1]=Q.texture.getTextureBindGroup(J.texture);let K=Z.state,X=Z.getBuffers(J);Q.encoder.draw({geometry:X.geometry,shader:J.shader||Z.defaultShader,state:K,size:J.particleChildren.length*6})}}var $k=()=>{};var eH;var Ak=F(()=>{g();$k();sB();eH=class eH extends gK{constructor(Z){super(Z,new nB)}};eH.extension={type:[T.WebGPUPipes],name:"particle"}});var oB=F(()=>{g();Uk();Ak();Z0.add(rH);Z0.add(eH)});function mK(Z,J){let{texture:Q,bounds:q}=Z,K=J._style._getFinalPadding();CH(q,J._anchor,Q);let X=J._anchor._x*K*2,z=J._anchor._y*K*2;q.minX-=K-X,q.minY-=K-z,q.maxX-=K-X,q.maxY-=K-z}var tB=F(()=>{QB()});class H7{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}var dK=()=>{};var rB;var Dk=F(()=>{dK();rB=class rB extends H7{constructor(Z){super();this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{canvasText:Z}=this._renderer;if(Z.getReferenceCount(this.currentKey)>0)Z.decreaseReferenceCount(this.currentKey);else if(this.texture)Z.returnTexture(this.texture);this._renderer.runners.resolutionChange.remove(this),this._renderer=null}}});class ZY{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return Z._didTextUpdate}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z);Z._didTextUpdate=!1,mK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}_updateGpuText(Z){let J=this._getGpuText(Z);if(J.texture)this._renderer.canvasText.decreaseReferenceCount(J.currentKey);Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,J.texture=this._renderer.canvasText.getManagedTexture(Z),J.currentKey=Z.styleKey}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new rB(this._renderer);return J.currentKey="--",J.renderable=Z,J.transform=Z.groupTransform,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var Bk=F(()=>{g();tB();Dk();ZY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"text"}});class L9{constructor(Z,J){if(this.uid=M0("fillPattern"),this._tick=0,this.transform=new a,this.texture=Z,this.transform.scale(1/Z.frame.width,1/Z.frame.height),J)Z.source.style.addressModeU=_k[J].addressModeU,Z.source.style.addressModeV=_k[J].addressModeV}setTransform(Z){let J=this.texture;this.transform.copyFrom(Z),this.transform.invert(),this.transform.scale(1/J.frame.width,1/J.frame.height),this._tick++}get texture(){return this._texture}set texture(Z){if(this._texture===Z)return;this._texture=Z,this._tick++}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var _k;var JY=F(()=>{T0();t1();_k={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}});var Wk=aQ((i70,Mk)=>{Mk.exports=mi;var eB={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},gi=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function mi(Z){var J=[];return Z.replace(gi,function(Q,q,K){var X=q.toLowerCase();if(K=ci(K),X=="m"&&K.length>2)J.push([q].concat(K.splice(0,2))),X="l",q=q=="m"?"l":"L";while(!0){if(K.length==eB[X])return K.unshift(q),J.push(K);if(K.length<eB[X])throw Error("malformed path data");J.push([q].concat(K.splice(0,eB[X])))}}),J}var di=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function ci(Z){var J=Z.match(di);return J?J.map(Number):[]}});function Fk(Z,J){let Q=Gk.default(Z),q=[],K=null,X=0,z=0;for(let Y=0;Y<Q.length;Y++){let O=Q[Y],U=O[0],A=O;switch(U){case"M":X=A[1],z=A[2],J.moveTo(X,z);break;case"m":X+=A[1],z+=A[2],J.moveTo(X,z);break;case"H":X=A[1],J.lineTo(X,z);break;case"h":X+=A[1],J.lineTo(X,z);break;case"V":z=A[1],J.lineTo(X,z);break;case"v":z+=A[1],J.lineTo(X,z);break;case"L":X=A[1],z=A[2],J.lineTo(X,z);break;case"l":X+=A[1],z+=A[2],J.lineTo(X,z);break;case"C":X=A[5],z=A[6],J.bezierCurveTo(A[1],A[2],A[3],A[4],X,z);break;case"c":J.bezierCurveTo(X+A[1],z+A[2],X+A[3],z+A[4],X+A[5],z+A[6]),X+=A[5],z+=A[6];break;case"S":X=A[3],z=A[4],J.bezierCurveToShort(A[1],A[2],X,z);break;case"s":J.bezierCurveToShort(X+A[1],z+A[2],X+A[3],z+A[4]),X+=A[3],z+=A[4];break;case"Q":X=A[3],z=A[4],J.quadraticCurveTo(A[1],A[2],X,z);break;case"q":J.quadraticCurveTo(X+A[1],z+A[2],X+A[3],z+A[4]),X+=A[3],z+=A[4];break;case"T":X=A[1],z=A[2],J.quadraticCurveToShort(X,z);break;case"t":X+=A[1],z+=A[2],J.quadraticCurveToShort(X,z);break;case"A":X=A[6],z=A[7],J.arcToSvg(A[1],A[2],A[3],A[4],A[5],X,z);break;case"a":X+=A[6],z+=A[7],J.arcToSvg(A[1],A[2],A[3],A[4],A[5],X,z);break;case"Z":case"z":if(J.closePath(),q.length>0)if(K=q.pop(),K)X=K.startX,z=K.startY;else X=0,z=0;K=null;break;default:e(`Unknown SVG path command: ${U}`)}if(U!=="Z"&&U!=="z"){if(K===null)K={startX:X,startY:z},q.push(K)}}return J}var Gk;var jk=F(()=>{l0();Gk=iQ(Wk(),1)});class QY{constructor(Z=0,J=0,Q=0){this.type="circle",this.x=Z,this.y=J,this.radius=Q}clone(){return new QY(this.x,this.y,this.radius)}contains(Z,J){if(this.radius<=0)return!1;let Q=this.radius*this.radius,q=this.x-Z,K=this.y-J;return q*=q,K*=K,q+K<=Q}strokeContains(Z,J,Q,q=0.5){if(this.radius===0)return!1;let K=this.x-Z,X=this.y-J,z=this.radius,Y=(1-q)*Q,O=Math.sqrt(K*K+X*X);return O<=z+Y&&O>z-(Q-Y)}getBounds(Z){return Z||(Z=new U0),Z.x=this.x-this.radius,Z.y=this.y-this.radius,Z.width=this.radius*2,Z.height=this.radius*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.radius=Z.radius,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}var wk=F(()=>{r1()});class qY{constructor(Z=0,J=0,Q=0,q=0){this.type="ellipse",this.x=Z,this.y=J,this.halfWidth=Q,this.halfHeight=q}clone(){return new qY(this.x,this.y,this.halfWidth,this.halfHeight)}contains(Z,J){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let Q=(Z-this.x)/this.halfWidth,q=(J-this.y)/this.halfHeight;return Q*=Q,q*=q,Q+q<=1}strokeContains(Z,J,Q,q=0.5){let{halfWidth:K,halfHeight:X}=this;if(K<=0||X<=0)return!1;let z=Q*(1-q),Y=Q-z,O=K-Y,U=X-Y,A=K+z,D=X+z,_=Z-this.x,W=J-this.y,j=_*_/(O*O)+W*W/(U*U),C=_*_/(A*A)+W*W/(D*D);return j>1&&C<=1}getBounds(Z){return Z||(Z=new U0),Z.x=this.x-this.halfWidth,Z.y=this.y-this.halfHeight,Z.width=this.halfWidth*2,Z.height=this.halfHeight*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.halfWidth=Z.halfWidth,this.halfHeight=Z.halfHeight,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}var Ck=F(()=>{r1()});function Lk(Z,J,Q,q,K,X){let z=Z-Q,Y=J-q,O=K-Q,U=X-q,A=z*O+Y*U,D=O*O+U*U,_=-1;if(D!==0)_=A/D;let W,j;if(_<0)W=Q,j=q;else if(_>1)W=K,j=X;else W=Q+_*O,j=q+_*U;let C=Z-W,R=J-j;return C*C+R*R}var Rk=()=>{};class tJ{constructor(...Z){this.type="polygon";let J=Array.isArray(Z[0])?Z[0]:Z;if(typeof J[0]!=="number"){let Q=[];for(let q=0,K=J.length;q<K;q++)Q.push(J[q].x,J[q].y);J=Q}this.points=J,this.closePath=!0}isClockwise(){let Z=0,J=this.points,Q=J.length;for(let q=0;q<Q;q+=2){let K=J[q],X=J[q+1],z=J[(q+2)%Q],Y=J[(q+3)%Q];Z+=(z-K)*(Y+X)}return Z<0}containsPolygon(Z){let J=this.getBounds(ui),Q=Z.getBounds(li);if(!J.containsRect(Q))return!1;let q=Z.points;for(let K=0;K<q.length;K+=2){let X=q[K],z=q[K+1];if(!this.contains(X,z))return!1}return!0}clone(){let Z=this.points.slice(),J=new tJ(Z);return J.closePath=this.closePath,J}contains(Z,J){let Q=!1,q=this.points.length/2;for(let K=0,X=q-1;K<q;X=K++){let z=this.points[K*2],Y=this.points[K*2+1],O=this.points[X*2],U=this.points[X*2+1];if(Y>J!==U>J&&Z<(O-z)*((J-Y)/(U-Y))+z)Q=!Q}return Q}strokeContains(Z,J,Q,q=0.5){let K=Q*Q,X=K*(1-q),z=K-X,{points:Y}=this,O=Y.length-(this.closePath?0:2);for(let U=0;U<O;U+=2){let A=Y[U],D=Y[U+1],_=Y[(U+2)%Y.length],W=Y[(U+3)%Y.length],j=Lk(Z,J,A,D,_,W),C=Math.sign((_-A)*(J-D)-(W-D)*(Z-A));if(j<=(C<0?z:X))return!0}return!1}getBounds(Z){Z||(Z=new U0);let J=this.points,Q=1/0,q=-1/0,K=1/0,X=-1/0;for(let z=0,Y=J.length;z<Y;z+=2){let O=J[z],U=J[z+1];Q=O<Q?O:Q,q=O>q?O:q,K=U<K?U:K,X=U>X?U:X}return Z.x=Q,Z.width=q-Q,Z.y=K,Z.height=X-K,Z}copyFrom(Z){return this.points=Z.points.slice(),this.closePath=Z.closePath,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((Z,J)=>`${Z}, ${J}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return q0("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return q0("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}var ui,li;var Ek=F(()=>{M1();Rk();r1()});class XY{constructor(Z=0,J=0,Q=0,q=0,K=20){this.type="roundedRectangle",this.x=Z,this.y=J,this.width=Q,this.height=q,this.radius=K}getBounds(Z){return Z||(Z=new U0),Z.x=this.x,Z.y=this.y,Z.width=this.width,Z.height=this.height,Z}clone(){return new XY(this.x,this.y,this.width,this.height,this.radius)}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<=this.x+this.width){if(J>=this.y&&J<=this.y+this.height){let Q=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(J>=this.y+Q&&J<=this.y+this.height-Q||Z>=this.x+Q&&Z<=this.x+this.width-Q)return!0;let q=Z-(this.x+Q),K=J-(this.y+Q),X=Q*Q;if(q*q+K*K<=X)return!0;if(q=Z-(this.x+this.width-Q),q*q+K*K<=X)return!0;if(K=J-(this.y+this.height-Q),q*q+K*K<=X)return!0;if(q=Z-(this.x+Q),q*q+K*K<=X)return!0}}return!1}strokeContains(Z,J,Q,q=0.5){let{x:K,y:X,width:z,height:Y,radius:O}=this,U=Q*(1-q),A=Q-U,D=K+O,_=X+O,W=z-O*2,j=Y-O*2,C=K+z,R=X+Y;if((Z>=K-U&&Z<=K+A||Z>=C-A&&Z<=C+U)&&J>=_&&J<=_+j)return!0;if((J>=X-U&&J<=X+A||J>=R-A&&J<=R+U)&&Z>=D&&Z<=D+W)return!0;return Z<D&&J<_&&KY(Z,J,D,_,O,A,U)||Z>C-O&&J<_&&KY(Z,J,C-O,_,O,A,U)||Z>C-O&&J>R-O&&KY(Z,J,C-O,R-O,O,A,U)||Z<D&&J>R-O&&KY(Z,J,D,R-O,O,A,U)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var KY=(Z,J,Q,q,K,X,z)=>{let Y=Z-Q,O=J-q,U=Math.sqrt(Y*Y+O*O);return U>=K-X&&U<=K+z};var Ik=F(()=>{r1()});function zY(Z,J,Q,q,K,X,z,Y,O,U){let D=Math.min(0.99,Math.max(0,U??nJ.defaultOptions.bezierSmoothness)),_=(ii-D)/1;return _*=_,ai(J,Q,q,K,X,z,Y,O,Z,_),Z}function ai(Z,J,Q,q,K,X,z,Y,O,U){J_(Z,J,Q,q,K,X,z,Y,O,U,0),O.push(z,Y)}function J_(Z,J,Q,q,K,X,z,Y,O,U,A){if(A>pi)return;let D=Math.PI,_=(Z+Q)/2,W=(J+q)/2,j=(Q+K)/2,C=(q+X)/2,R=(K+z)/2,G=(X+Y)/2,w=(_+j)/2,L=(W+C)/2,I=(j+R)/2,h=(C+G)/2,v=(w+I)/2,b=(L+h)/2;if(A>0){let m=z-Z,c=Y-J,u=Math.abs((Q-z)*c-(q-Y)*m),n=Math.abs((K-z)*c-(X-Y)*m),N0,W0;if(u>NY&&n>NY){if((u+n)*(u+n)<=U*(m*m+c*c)){if(rJ<Z_){O.push(v,b);return}let f0=Math.atan2(X-q,K-Q);if(N0=Math.abs(f0-Math.atan2(q-J,Q-Z)),W0=Math.abs(Math.atan2(Y-X,z-K)-f0),N0>=D)N0=2*D-N0;if(W0>=D)W0=2*D-W0;if(N0+W0<rJ){O.push(v,b);return}if(uZ!==0){if(N0>uZ){O.push(Q,q);return}if(W0>uZ){O.push(K,X);return}}}}else if(u>NY){if(u*u<=U*(m*m+c*c)){if(rJ<Z_){O.push(v,b);return}if(N0=Math.abs(Math.atan2(X-q,K-Q)-Math.atan2(q-J,Q-Z)),N0>=D)N0=2*D-N0;if(N0<rJ){O.push(Q,q),O.push(K,X);return}if(uZ!==0){if(N0>uZ){O.push(Q,q);return}}}}else if(n>NY){if(n*n<=U*(m*m+c*c)){if(rJ<Z_){O.push(v,b);return}if(N0=Math.abs(Math.atan2(Y-X,z-K)-Math.atan2(X-q,K-Q)),N0>=D)N0=2*D-N0;if(N0<rJ){O.push(Q,q),O.push(K,X);return}if(uZ!==0){if(N0>uZ){O.push(K,X);return}}}}else if(m=v-(Z+z)/2,c=b-(J+Y)/2,m*m+c*c<=U){O.push(v,b);return}}J_(Z,J,_,W,w,L,v,b,O,U,A+1),J_(v,b,I,h,R,G,z,Y,O,U,A+1)}var pi=8,NY=0.00000011920929,ii=1,Z_=0.01,rJ=0,uZ=0;var Q_=F(()=>{sH()});function Sk(Z,J,Q,q,K,X,z,Y){let U=Math.min(0.99,Math.max(0,Y??nJ.defaultOptions.bezierSmoothness)),A=(oi-U)/1;return A*=A,ri(J,Q,q,K,X,z,Z,A),Z}function ri(Z,J,Q,q,K,X,z,Y){q_(z,Z,J,Q,q,K,X,Y,0),z.push(K,X)}function q_(Z,J,Q,q,K,X,z,Y,O){if(O>si)return;let U=Math.PI,A=(J+q)/2,D=(Q+K)/2,_=(q+X)/2,W=(K+z)/2,j=(A+_)/2,C=(D+W)/2,R=X-J,G=z-Q,w=Math.abs((q-X)*G-(K-z)*R);if(w>ni){if(w*w<=Y*(R*R+G*G)){if(Tk<ti){Z.push(j,C);return}let L=Math.abs(Math.atan2(z-K,X-q)-Math.atan2(K-Q,q-J));if(L>=U)L=2*U-L;if(L<Tk){Z.push(j,C);return}}}else if(R=j-(J+X)/2,G=C-(Q+z)/2,R*R+G*G<=Y){Z.push(j,C);return}q_(Z,J,Q,A,D,j,C,Y,O+1),q_(Z,j,C,_,W,X,z,Y,O+1)}var si=8,ni=0.00000011920929,oi=1,ti=0.01,Tk=0;var bk=F(()=>{sH()});function HY(Z,J,Q,q,K,X,z,Y){let O=Math.abs(K-X);if(!z&&K>X)O=2*Math.PI-O;else if(z&&X>K)O=2*Math.PI-O;Y||(Y=Math.max(6,Math.floor(6*Math.pow(q,0.3333333333333333)*(O/Math.PI)))),Y=Math.max(Y,3);let U=O/Y,A=K;U*=z?-1:1;for(let D=0;D<Y+1;D++){let _=Math.cos(A),W=Math.sin(A),j=J+_*q,C=Q+W*q;Z.push(j,C),A+=U}}var K_=()=>{};function kk(Z,J,Q,q,K,X){let z=Z[Z.length-2],O=Z[Z.length-1]-Q,U=z-J,A=K-Q,D=q-J,_=Math.abs(O*D-U*A);if(_<0.00000001||X===0){if(Z[Z.length-2]!==J||Z[Z.length-1]!==Q)Z.push(J,Q);return}let W=O*O+U*U,j=A*A+D*D,C=O*A+U*D,R=X*Math.sqrt(W)/_,G=X*Math.sqrt(j)/_,w=R*C/W,L=G*C/j,I=R*D+G*U,h=R*A+G*O,v=U*(G+w),b=O*(G+w),m=D*(R+L),c=A*(R+L),u=Math.atan2(b-h,v-I),n=Math.atan2(c-h,m-I);HY(Z,I+J,h+Q,X,u,n,U*A>D*O)}var Pk=F(()=>{K_()});function ei(Z,J){let Q=J===-1.5707963267948966?-0.551915024494:1.3333333333333333*Math.tan(J/4),q=J===1.5707963267948966?0.551915024494:Q,K=Math.cos(Z),X=Math.sin(Z),z=Math.cos(Z+J),Y=Math.sin(Z+J);return[{x:K-X*q,y:X+K*q},{x:z+Y*q,y:Y-z*q},{x:z,y:Y}]}function fk(Z,J,Q,q,K,X,z,Y=0,O=0,U=0){if(X===0||z===0)return;let A=Math.sin(Y*cK/360),D=Math.cos(Y*cK/360),_=D*(J-q)/2+A*(Q-K)/2,W=-A*(J-q)/2+D*(Q-K)/2;if(_===0&&W===0)return;X=Math.abs(X),z=Math.abs(z);let j=Math.pow(_,2)/Math.pow(X,2)+Math.pow(W,2)/Math.pow(z,2);if(j>1)X*=Math.sqrt(j),z*=Math.sqrt(j);Za(J,Q,q,K,X,z,O,U,A,D,_,W,X_);let{ang1:C,ang2:R}=X_,{centerX:G,centerY:w}=X_,L=Math.abs(R)/(cK/4);if(Math.abs(1-L)<0.0000001)L=1;let I=Math.max(Math.ceil(L),1);R/=I;let h=Z[Z.length-2],v=Z[Z.length-1],b={x:0,y:0};for(let m=0;m<I;m++){let c=ei(C,R),{x:u,y:n}=N_(c[0],X,z,D,A,G,w,b),{x:N0,y:W0}=N_(c[1],X,z,D,A,G,w,b),{x:f0,y:L5}=N_(c[2],X,z,D,A,G,w,b);zY(Z,h,v,u,n,N0,W0,f0,L5),h=f0,v=L5,C+=R}}var cK,X_,N_=({x:Z,y:J},Q,q,K,X,z,Y,O)=>{Z*=Q,J*=q;let U=K*Z-X*J,A=X*Z+K*J;return O.x=U+z,O.y=A+Y,O},vk=(Z,J,Q,q)=>{let K=Z*q-J*Q<0?-1:1,X=Z*Q+J*q;if(X>1)X=1;if(X<-1)X=-1;return K*Math.acos(X)},Za=(Z,J,Q,q,K,X,z,Y,O,U,A,D,_)=>{let W=Math.pow(K,2),j=Math.pow(X,2),C=Math.pow(A,2),R=Math.pow(D,2),G=W*j-W*R-j*C;if(G<0)G=0;G/=W*R+j*C,G=Math.sqrt(G)*(z===Y?-1:1);let w=G*K/X*D,L=G*-X/K*A,I=U*w-O*L+(Z+Q)/2,h=O*w+U*L+(J+q)/2,v=(A-w)/K,b=(D-L)/X,m=(-A-w)/K,c=(-D-L)/X,u=vk(1,0,v,b),n=vk(v,b,m,c);if(Y===0&&n>0)n-=cK;if(Y===1&&n<0)n+=cK;_.centerX=I,_.centerY=h,_.ang1=u,_.ang2=n};var yk=F(()=>{Q_();cK=Math.PI*2,X_={centerX:0,centerY:0,ang1:0,ang2:0}});function hk(Z,J,Q){let q=(z,Y)=>{let O=Y.x-z.x,U=Y.y-z.y,A=Math.sqrt(O*O+U*U),D=O/A,_=U/A;return{len:A,nx:D,ny:_}},K=(z,Y)=>{if(z===0)Z.moveTo(Y.x,Y.y);else Z.lineTo(Y.x,Y.y)},X=J[J.length-1];for(let z=0;z<J.length;z++){let Y=J[z%J.length],O=Y.radius??Q;if(O<=0){K(z,Y),X=Y;continue}let U=J[(z+1)%J.length],A=q(Y,X),D=q(Y,U);if(A.len<0.0001||D.len<0.0001){K(z,Y),X=Y;continue}let _=Math.asin(A.nx*D.ny-A.ny*D.nx),W=1,j=!1;if(A.nx*D.nx-A.ny*-D.ny<0)if(_<0)_=Math.PI+_;else _=Math.PI-_,W=-1,j=!0;else if(_>0)W=-1,j=!0;let C=_/2,R,G=Math.abs(Math.cos(C)*O/Math.sin(C));if(G>Math.min(A.len/2,D.len/2))G=Math.min(A.len/2,D.len/2),R=Math.abs(G*Math.sin(C)/Math.cos(C));else R=O;let w=Y.x+D.nx*G+-D.ny*R*W,L=Y.y+D.ny*G+D.nx*R*W,I=Math.atan2(A.ny,A.nx)+Math.PI/2*W,h=Math.atan2(D.ny,D.nx)-Math.PI/2*W;if(z===0)Z.moveTo(w+Math.cos(I)*R,L+Math.sin(I)*R);Z.arc(w,L,R,I,h,j),X=Y}}function xk(Z,J,Q,q){let K=(Y,O)=>Math.sqrt((Y.x-O.x)**2+(Y.y-O.y)**2),X=(Y,O,U)=>({x:Y.x+(O.x-Y.x)*U,y:Y.y+(O.y-Y.y)*U}),z=J.length;for(let Y=0;Y<z;Y++){let O=J[(Y+1)%z],U=O.radius??Q;if(U<=0){if(Y===0)Z.moveTo(O.x,O.y);else Z.lineTo(O.x,O.y);continue}let A=J[Y],D=J[(Y+2)%z],_=K(A,O),W;if(_<0.0001)W=O;else{let R=Math.min(_/2,U);W=X(O,A,R/_)}let j=K(D,O),C;if(j<0.0001)C=O;else{let R=Math.min(j/2,U);C=X(O,D,R/j)}if(Y===0)Z.moveTo(W.x,W.y);else Z.lineTo(W.x,W.y);Z.quadraticCurveTo(O.x,O.y,C.x,C.y,q)}}var gk=()=>{};class z_{constructor(Z){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new J1,this._graphicsPath2D=Z,this.signed=Z.checkForHoles}moveTo(Z,J){return this.startPoly(Z,J),this}lineTo(Z,J){this._ensurePoly();let Q=this._currentPoly.points,q=Q[Q.length-2],K=Q[Q.length-1];if(q!==Z||K!==J)Q.push(Z,J);return this}arc(Z,J,Q,q,K,X){this._ensurePoly(!1);let z=this._currentPoly.points;return HY(z,Z,J,Q,q,K,X),this}arcTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly.points;return kk(X,Z,J,Q,q,K),this}arcToSvg(Z,J,Q,q,K,X,z){let Y=this._currentPoly.points;return fk(Y,this._currentPoly.lastX,this._currentPoly.lastY,X,z,Z,J,Q,q,K),this}bezierCurveTo(Z,J,Q,q,K,X,z){this._ensurePoly();let Y=this._currentPoly;return zY(this._currentPoly.points,Y.lastX,Y.lastY,Z,J,Q,q,K,X,z),this}quadraticCurveTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly;return Sk(this._currentPoly.points,X.lastX,X.lastY,Z,J,Q,q,K),this}closePath(){return this.endPoly(!0),this}addPath(Z,J){if(this.endPoly(),J&&!J.isIdentity())Z=Z.clone(!0),Z.transform(J);let Q=this.shapePrimitives,q=Q.length;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];this[X.action](...X.data)}if(Z.checkForHoles&&Q.length-q>1){let K=null;for(let X=q;X<Q.length;X++){let z=Q[X];if(z.shape.type==="polygon"){let Y=z.shape,O=K?.shape;if(O&&O.containsPolygon(Y))K.holes||(K.holes=[]),K.holes.push(z),Q.copyWithin(X,X+1),Q.length--,X--;else K=z}}}return this}finish(Z=!1){this.endPoly(Z)}rect(Z,J,Q,q,K){return this.drawShape(new U0(Z,J,Q,q),K),this}circle(Z,J,Q,q){return this.drawShape(new QY(Z,J,Q),q),this}poly(Z,J,Q){let q=new tJ(Z);return q.closePath=J,this.drawShape(q,Q),this}regularPoly(Z,J,Q,q,K=0,X){q=Math.max(q|0,3);let z=-1*Math.PI/2+K,Y=Math.PI*2/q,O=[];for(let U=0;U<q;U++){let A=z-U*Y;O.push(Z+Q*Math.cos(A),J+Q*Math.sin(A))}return this.poly(O,!0,X),this}roundPoly(Z,J,Q,q,K,X=0,z){if(q=Math.max(q|0,3),K<=0)return this.regularPoly(Z,J,Q,q,X);let Y=Q*Math.sin(Math.PI/q)-0.001;K=Math.min(K,Y);let O=-1*Math.PI/2+X,U=Math.PI*2/q,A=(q-2)*Math.PI/q/2;for(let D=0;D<q;D++){let _=D*U+O,W=Z+Q*Math.cos(_),j=J+Q*Math.sin(_),C=_+Math.PI+A,R=_-Math.PI-A,G=W+K*Math.cos(C),w=j+K*Math.sin(C),L=W+K*Math.cos(R),I=j+K*Math.sin(R);if(D===0)this.moveTo(G,w);else this.lineTo(G,w);this.quadraticCurveTo(W,j,L,I,z)}return this.closePath()}roundShape(Z,J,Q=!1,q){if(Z.length<3)return this;if(Q)xk(this,Z,J,q);else hk(this,Z,J);return this.closePath()}filletRect(Z,J,Q,q,K){if(K===0)return this.rect(Z,J,Q,q);let X=Math.min(Q,q)/2,z=Math.min(X,Math.max(-X,K)),Y=Z+Q,O=J+q,U=z<0?-z:0,A=Math.abs(z);return this.moveTo(Z,J+A).arcTo(Z+U,J+U,Z+A,J,A).lineTo(Y-A,J).arcTo(Y-U,J+U,Y,J+A,A).lineTo(Y,O-A).arcTo(Y-U,O-U,Z+Q-A,O,A).lineTo(Z+A,O).arcTo(Z+U,O-U,Z,O-A,A).closePath()}chamferRect(Z,J,Q,q,K,X){if(K<=0)return this.rect(Z,J,Q,q);let z=Math.min(K,Math.min(Q,q)/2),Y=Z+Q,O=J+q,U=[Z+z,J,Y-z,J,Y,J+z,Y,O-z,Y-z,O,Z+z,O,Z,O-z,Z,J+z];for(let A=U.length-1;A>=2;A-=2)if(U[A]===U[A-2]&&U[A-1]===U[A-3])U.splice(A-1,2);return this.poly(U,!0,X)}ellipse(Z,J,Q,q,K){return this.drawShape(new qY(Z,J,Q,q),K),this}roundRect(Z,J,Q,q,K,X){return this.drawShape(new XY(Z,J,Q,q,K),X),this}drawShape(Z,J){return this.endPoly(),this.shapePrimitives.push({shape:Z,transform:J}),this}startPoly(Z,J){let Q=this._currentPoly;if(Q)this.endPoly();return Q=new tJ,Q.points.push(Z,J),this._currentPoly=Q,this}endPoly(Z=!1){let J=this._currentPoly;if(J&&J.points.length>2)J.closePath=Z,this.shapePrimitives.push({shape:J});return this._currentPoly=null,this}_ensurePoly(Z=!0){if(this._currentPoly)return;if(this._currentPoly=new tJ,Z){let J=this.shapePrimitives[this.shapePrimitives.length-1];if(J){let Q=J.shape.x,q=J.shape.y;if(J.transform&&!J.transform.isIdentity()){let K=J.transform,X=Q;Q=K.a*Q+K.c*q+K.tx,q=K.b*X+K.d*q+K.ty}this._currentPoly.points.push(Q,q)}else this._currentPoly.points.push(0,0)}}buildPath(){let Z=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let J=0;J<Z.instructions.length;J++){let Q=Z.instructions[J];this[Q.action](...Q.data)}this.finish()}get bounds(){let Z=this._bounds;Z.clear();let J=this.shapePrimitives;for(let Q=0;Q<J.length;Q++){let q=J[Q],K=q.shape.getBounds(Ja);if(q.transform)Z.addRect(K,q.transform);else Z.addRect(K)}return Z}}var Ja;var mk=F(()=>{wk();Ck();Ek();r1();Ik();O8();Q_();bk();K_();Pk();yk();gk();Ja=new U0});class M6{constructor(Z,J=!1){if(this.instructions=[],this.uid=M0("graphicsPath"),this._dirty=!0,this.checkForHoles=J,typeof Z==="string")Fk(Z,this);else this.instructions=Z?.slice()??[]}get shapePath(){if(!this._shapePath)this._shapePath=new z_(this);if(this._dirty)this._dirty=!1,this._shapePath.buildPath();return this._shapePath}addPath(Z,J){return Z=Z.clone(),this.instructions.push({action:"addPath",data:[Z,J]}),this._dirty=!0,this}arc(...Z){return this.instructions.push({action:"arc",data:Z}),this._dirty=!0,this}arcTo(...Z){return this.instructions.push({action:"arcTo",data:Z}),this._dirty=!0,this}arcToSvg(...Z){return this.instructions.push({action:"arcToSvg",data:Z}),this._dirty=!0,this}bezierCurveTo(...Z){return this.instructions.push({action:"bezierCurveTo",data:Z}),this._dirty=!0,this}bezierCurveToShort(Z,J,Q,q,K){let X=this.instructions[this.instructions.length-1],z=this.getLastPoint(b0.shared),Y=0,O=0;if(!X||X.action!=="bezierCurveTo")Y=z.x,O=z.y;else{Y=X.data[2],O=X.data[3];let{x:U,y:A}=z;Y=U+(U-Y),O=A+(A-O)}return this.instructions.push({action:"bezierCurveTo",data:[Y,O,Z,J,Q,q,K]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...Z){return this.instructions.push({action:"ellipse",data:Z}),this._dirty=!0,this}lineTo(...Z){return this.instructions.push({action:"lineTo",data:Z}),this._dirty=!0,this}moveTo(...Z){return this.instructions.push({action:"moveTo",data:Z}),this}quadraticCurveTo(...Z){return this.instructions.push({action:"quadraticCurveTo",data:Z}),this._dirty=!0,this}quadraticCurveToShort(Z,J,Q){let q=this.instructions[this.instructions.length-1],K=this.getLastPoint(b0.shared),X=0,z=0;if(!q||q.action!=="quadraticCurveTo")X=K.x,z=K.y;else{X=q.data[0],z=q.data[1];let{x:Y,y:O}=K;X=Y+(Y-X),z=O+(O-z)}return this.instructions.push({action:"quadraticCurveTo",data:[X,z,Z,J,Q]}),this._dirty=!0,this}rect(Z,J,Q,q,K){return this.instructions.push({action:"rect",data:[Z,J,Q,q,K]}),this._dirty=!0,this}circle(Z,J,Q,q){return this.instructions.push({action:"circle",data:[Z,J,Q,q]}),this._dirty=!0,this}roundRect(...Z){return this.instructions.push({action:"roundRect",data:Z}),this._dirty=!0,this}poly(...Z){return this.instructions.push({action:"poly",data:Z}),this._dirty=!0,this}regularPoly(...Z){return this.instructions.push({action:"regularPoly",data:Z}),this._dirty=!0,this}roundPoly(...Z){return this.instructions.push({action:"roundPoly",data:Z}),this._dirty=!0,this}roundShape(...Z){return this.instructions.push({action:"roundShape",data:Z}),this._dirty=!0,this}filletRect(...Z){return this.instructions.push({action:"filletRect",data:Z}),this._dirty=!0,this}chamferRect(...Z){return this.instructions.push({action:"chamferRect",data:Z}),this._dirty=!0,this}star(Z,J,Q,q,K,X,z){K||(K=q/2);let Y=-1*Math.PI/2+X,O=Q*2,U=Math.PI*2/O,A=[];for(let D=0;D<O;D++){let _=D%2?K:q,W=D*U+Y;A.push(Z+_*Math.cos(W),J+_*Math.sin(W))}return this.poly(A,!0,z),this}clone(Z=!1){let J=new M6;if(J.checkForHoles=this.checkForHoles,!Z)J.instructions=this.instructions.slice();else for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q];J.instructions.push({action:q.action,data:q.data.slice()})}return J}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(Z){if(Z.isIdentity())return this;let{a:J,b:Q,c:q,d:K,tx:X,ty:z}=Z,Y=0,O=0,U=0,A=0,D=0,_=0,W=0,j=0;for(let C=0;C<this.instructions.length;C++){let R=this.instructions[C],G=R.data;switch(R.action){case"moveTo":case"lineTo":Y=G[0],O=G[1],G[0]=J*Y+q*O+X,G[1]=Q*Y+K*O+z;break;case"bezierCurveTo":U=G[0],A=G[1],D=G[2],_=G[3],Y=G[4],O=G[5],G[0]=J*U+q*A+X,G[1]=Q*U+K*A+z,G[2]=J*D+q*_+X,G[3]=Q*D+K*_+z,G[4]=J*Y+q*O+X,G[5]=Q*Y+K*O+z;break;case"quadraticCurveTo":U=G[0],A=G[1],Y=G[2],O=G[3],G[0]=J*U+q*A+X,G[1]=Q*U+K*A+z,G[2]=J*Y+q*O+X,G[3]=Q*Y+K*O+z;break;case"arcToSvg":Y=G[5],O=G[6],W=G[0],j=G[1],G[0]=J*W+q*j,G[1]=Q*W+K*j,G[5]=J*Y+q*O+X,G[6]=Q*Y+K*O+z;break;case"circle":G[4]=uK(G[3],Z);break;case"rect":G[4]=uK(G[4],Z);break;case"ellipse":G[8]=uK(G[8],Z);break;case"roundRect":G[5]=uK(G[5],Z);break;case"addPath":G[0].transform(Z);break;case"poly":G[2]=uK(G[2],Z);break;default:e("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(Z){let J=this.instructions.length-1,Q=this.instructions[J];if(!Q)return Z.x=0,Z.y=0,Z;while(Q.action==="closePath"){if(J--,J<0)return Z.x=0,Z.y=0,Z;Q=this.instructions[J]}switch(Q.action){case"moveTo":case"lineTo":Z.x=Q.data[0],Z.y=Q.data[1];break;case"quadraticCurveTo":Z.x=Q.data[2],Z.y=Q.data[3];break;case"bezierCurveTo":Z.x=Q.data[4],Z.y=Q.data[5];break;case"arc":case"arcToSvg":Z.x=Q.data[5],Z.y=Q.data[6];break;case"addPath":Q.data[0].getLastPoint(Z);break}return Z}}function uK(Z,J){if(Z)return Z.prepend(J);return J.clone()}var YY=F(()=>{P6();t1();l0();jk();mk()});function w1(Z,J,Q){let q=Z.getAttribute(J);return q?Number(q):Q}var H_=()=>{};function dk(Z,J){let Q=Z.querySelectorAll("defs");for(let q=0;q<Q.length;q++){let K=Q[q];for(let X=0;X<K.children.length;X++){let z=K.children[X];switch(z.nodeName.toLowerCase()){case"lineargradient":J.defs[z.id]=Qa(z);break;case"radialgradient":J.defs[z.id]=qa(z);break;default:break}}}}function Qa(Z){let J=w1(Z,"x1",0),Q=w1(Z,"y1",0),q=w1(Z,"x2",1),K=w1(Z,"y2",0),X=Z.getAttribute("gradientUnits")||"objectBoundingBox",z=new D8(J,Q,q,K,X==="objectBoundingBox"?"local":"global");for(let Y=0;Y<Z.children.length;Y++){let O=Z.children[Y],U=w1(O,"offset",0),A=j0.shared.setValue(O.getAttribute("stop-color")).toNumber();z.addColorStop(U,A)}return z}function qa(Z){return e("[SVG Parser] Radial gradients are not yet supported"),new D8(0,0,1,0)}var ck=F(()=>{b5();l0();sJ();H_()});function Y_(Z){let J=Z.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return J?J[1]:""}var uk=()=>{};function V_(Z,J){let Q=Z.getAttribute("style"),q={},K={},X={strokeStyle:q,fillStyle:K,useFill:!1,useStroke:!1};for(let z in lk){let Y=Z.getAttribute(z);if(Y)pk(J,X,z,Y.trim())}if(Q){let z=Q.split(";");for(let Y=0;Y<z.length;Y++){let O=z[Y].trim(),[U,A]=O.split(":");if(lk[U])pk(J,X,U,A.trim())}}return{strokeStyle:X.useStroke?q:null,fillStyle:X.useFill?K:null,useFill:X.useFill,useStroke:X.useStroke}}function pk(Z,J,Q,q){switch(Q){case"stroke":if(q!=="none"){if(q.startsWith("url(")){let K=Y_(q);J.strokeStyle.fill=Z.defs[K]}else J.strokeStyle.color=j0.shared.setValue(q).toNumber();J.useStroke=!0}break;case"stroke-width":J.strokeStyle.width=Number(q);break;case"fill":if(q!=="none"){if(q.startsWith("url(")){let K=Y_(q);J.fillStyle.fill=Z.defs[K]}else J.fillStyle.color=j0.shared.setValue(q).toNumber();J.useFill=!0}break;case"fill-opacity":J.fillStyle.alpha=Number(q);break;case"stroke-opacity":J.strokeStyle.alpha=Number(q);break;case"opacity":J.fillStyle.alpha=Number(q),J.strokeStyle.alpha=Number(q);break}}var lk;var ik=F(()=>{b5();uk();lk={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}}});function ak(Z){if(Z.length<=2)return!0;let J=Z.map((Y)=>Y.area).sort((Y,O)=>O-Y),[Q,q]=J,K=J[J.length-1],X=Q/q,z=q/K;if(X>3&&z<2)return!1;return!0}var sk=()=>{};function nk(Z){return Z.split(/(?=[Mm])/).filter((q)=>q.trim().length>0)}function ok(Z){let J=Z.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!J||J.length<4)return 0;let Q=J.map(Number),q=[],K=[];for(let A=0;A<Q.length;A+=2)if(A+1<Q.length)q.push(Q[A]),K.push(Q[A+1]);if(q.length===0||K.length===0)return 0;let X=Math.min(...q),z=Math.max(...q),Y=Math.min(...K),O=Math.max(...K);return(z-X)*(O-Y)}function O_(Z,J){let Q=new M6(Z,!1);for(let q of Q.instructions)J.instructions.push(q)}var tk=F(()=>{YY()});function rk(Z,J){if(typeof Z==="string"){let z=document.createElement("div");z.innerHTML=Z.trim(),Z=z.querySelector("svg")}let Q={context:J,defs:{},path:new M6};dk(Z,Q);let q=Z.children,{fillStyle:K,strokeStyle:X}=V_(Z,Q);for(let z=0;z<q.length;z++){let Y=q[z];if(Y.nodeName.toLowerCase()==="defs")continue;ek(Y,Q,K,X)}return J}function ek(Z,J,Q,q){let K=Z.children,{fillStyle:X,strokeStyle:z}=V_(Z,J);if(X&&Q)Q={...Q,...X};else if(X)Q=X;if(z&&q)q={...q,...z};else if(z)q=z;let Y=!Q&&!q;if(Y)Q={color:0};let O,U,A,D,_,W,j,C,R,G,w,L,I,h,v,b,m;switch(Z.nodeName.toLowerCase()){case"path":{h=Z.getAttribute("d");let c=Z.getAttribute("fill-rule"),u=nk(h),n=c==="evenodd",N0=u.length>1;if(n&&N0){let f0=u.map((J0)=>({path:J0,area:ok(J0)}));if(f0.sort((J0,H0)=>H0.area-J0.area),u.length>3||!ak(f0))for(let J0=0;J0<f0.length;J0++){let H0=f0[J0],$1=J0===0;J.context.beginPath();let A0=new M6(void 0,!0);if(O_(H0.path,A0),J.context.path(A0),$1){if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}else J.context.cut()}else for(let J0=0;J0<f0.length;J0++){let H0=f0[J0],$1=J0%2===1;J.context.beginPath();let A0=new M6(void 0,!0);if(O_(H0.path,A0),J.context.path(A0),$1)J.context.cut();else{if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}}}else{if(v=new M6(h,c?c==="evenodd":!0),J.context.path(v),Q)J.context.fill(Q);if(q)J.context.stroke(q)}break}case"circle":if(j=w1(Z,"cx",0),C=w1(Z,"cy",0),R=w1(Z,"r",0),J.context.ellipse(j,C,R,R),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"rect":if(O=w1(Z,"x",0),U=w1(Z,"y",0),b=w1(Z,"width",0),m=w1(Z,"height",0),G=w1(Z,"rx",0),w=w1(Z,"ry",0),G||w)J.context.roundRect(O,U,b,m,G||w);else J.context.rect(O,U,b,m);if(Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"ellipse":if(j=w1(Z,"cx",0),C=w1(Z,"cy",0),G=w1(Z,"rx",0),w=w1(Z,"ry",0),J.context.beginPath(),J.context.ellipse(j,C,G,w),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"line":if(A=w1(Z,"x1",0),D=w1(Z,"y1",0),_=w1(Z,"x2",0),W=w1(Z,"y2",0),J.context.beginPath(),J.context.moveTo(A,D),J.context.lineTo(_,W),q)J.context.stroke(q);break;case"polygon":if(I=Z.getAttribute("points"),L=I.match(/\d+/g).map((c)=>parseInt(c,10)),J.context.poly(L,!0),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"polyline":if(I=Z.getAttribute("points"),L=I.match(/\d+/g).map((c)=>parseInt(c,10)),J.context.poly(L,!1),q)J.context.stroke(q);break;case"g":case"svg":break;default:{e(`[SVG parser] <${Z.nodeName}> elements unsupported`);break}}if(Y)Q=null;for(let c=0;c<K.length;c++)ek(K[c],J,Q,q)}var ZP=F(()=>{l0();YY();ck();H_();ik();sk();tk()});function Ka(Z){return j0.isColorLike(Z)}function JP(Z){return Z instanceof L9}function QP(Z){return Z instanceof D8}function Xa(Z){return Z instanceof p}function Na(Z,J,Q){let q=j0.shared.setValue(J??0);return Z.color=q.toNumber(),Z.alpha=q.alpha===1?Q.alpha:q.alpha,Z.texture=p.WHITE,{...Q,...Z}}function za(Z,J,Q){return Z.texture=J,{...Q,...Z}}function qP(Z,J,Q){return Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,{...Q,...Z}}function KP(Z,J,Q){return J.buildGradient(),Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,Z.textureSpace=J.textureSpace,{...Q,...Z}}function Ha(Z,J){let Q={...J,...Z},q=j0.shared.setValue(Q.color);return Q.alpha*=q.alpha,Q.color=q.toNumber(),Q}function Y7(Z,J){if(Z===void 0||Z===null)return null;let Q={},q=Z;if(Ka(Z))return Na(Q,Z,J);else if(Xa(Z))return za(Q,Z,J);else if(JP(Z))return qP(Q,Z,J);else if(QP(Z))return KP(Q,Z,J);else if(q.fill&&JP(q.fill))return qP(q,q.fill,J);else if(q.fill&&QP(q.fill))return KP(q,q.fill,J);return Ha(q,J)}function eJ(Z,J){let{width:Q,alignment:q,miterLimit:K,cap:X,join:z,pixelLine:Y,...O}=J,U=Y7(Z,O);if(!U)return null;return{width:Q,alignment:q,miterLimit:K,cap:X,join:z,pixelLine:Y,...U}}var U_=F(()=>{b5();p0();sJ();JY()});var Ya,XP,$_,s5;var VY=F(()=>{F5();b5();T0();P6();p0();t1();M1();O8();YY();ZP();U_();Ya=new b0,XP=new a,$_=class Z extends e0{constructor(){super(...arguments);this.uid=M0("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new M6,this._transform=new a,this._fillStyle={...Z.defaultFillStyle},this._strokeStyle={...Z.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new J1,this._boundsDirty=!0}clone(){let J=new Z;return J.batchMode=this.batchMode,J.instructions=this.instructions.slice(),J._activePath=this._activePath.clone(),J._transform=this._transform.clone(),J._fillStyle={...this._fillStyle},J._strokeStyle={...this._strokeStyle},J._stateStack=this._stateStack.slice(),J._bounds=this._bounds.clone(),J._boundsDirty=!0,J}get fillStyle(){return this._fillStyle}set fillStyle(J){this._fillStyle=Y7(J,Z.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(J){this._strokeStyle=eJ(J,Z.defaultStrokeStyle)}setFillStyle(J){return this._fillStyle=Y7(J,Z.defaultFillStyle),this}setStrokeStyle(J){return this._strokeStyle=Y7(J,Z.defaultStrokeStyle),this}texture(J,Q,q,K,X,z){return this.instructions.push({action:"texture",data:{image:J,dx:q||0,dy:K||0,dw:X||J.frame.width,dh:z||J.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:Q?j0.shared.setValue(Q).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new M6,this}fill(J,Q){let q,K=this.instructions[this.instructions.length-1];if(this._tick===0&&K&&K.action==="stroke")q=K.data.path;else q=this._activePath.clone();if(!q)return this;if(J!=null){if(Q!==void 0&&typeof J==="number")q0(Y0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),J={color:J,alpha:Q};this._fillStyle=Y7(J,Z.defaultFillStyle)}return this.instructions.push({action:"fill",data:{style:this.fillStyle,path:q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}_initNextPathLocation(){let{x:J,y:Q}=this._activePath.getLastPoint(b0.shared);this._activePath.clear(),this._activePath.moveTo(J,Q)}stroke(J){let Q,q=this.instructions[this.instructions.length-1];if(this._tick===0&&q&&q.action==="fill")Q=q.data.path;else Q=this._activePath.clone();if(!Q)return this;if(J!=null)this._strokeStyle=eJ(J,Z.defaultStrokeStyle);return this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:Q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}cut(){for(let J=0;J<2;J++){let Q=this.instructions[this.instructions.length-1-J],q=this._activePath.clone();if(Q){if(Q.action==="stroke"||Q.action==="fill")if(Q.data.hole)Q.data.hole.addPath(q);else{Q.data.hole=q;break}}}return this._initNextPathLocation(),this}arc(J,Q,q,K,X,z){this._tick++;let Y=this._transform;return this._activePath.arc(Y.a*J+Y.c*Q+Y.tx,Y.b*J+Y.d*Q+Y.ty,q,K,X,z),this}arcTo(J,Q,q,K,X){this._tick++;let z=this._transform;return this._activePath.arcTo(z.a*J+z.c*Q+z.tx,z.b*J+z.d*Q+z.ty,z.a*q+z.c*K+z.tx,z.b*q+z.d*K+z.ty,X),this}arcToSvg(J,Q,q,K,X,z,Y){this._tick++;let O=this._transform;return this._activePath.arcToSvg(J,Q,q,K,X,O.a*z+O.c*Y+O.tx,O.b*z+O.d*Y+O.ty),this}bezierCurveTo(J,Q,q,K,X,z,Y){this._tick++;let O=this._transform;return this._activePath.bezierCurveTo(O.a*J+O.c*Q+O.tx,O.b*J+O.d*Q+O.ty,O.a*q+O.c*K+O.tx,O.b*q+O.d*K+O.ty,O.a*X+O.c*z+O.tx,O.b*X+O.d*z+O.ty,Y),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(J,Q,q,K){return this._tick++,this._activePath.ellipse(J,Q,q,K,this._transform.clone()),this}circle(J,Q,q){return this._tick++,this._activePath.circle(J,Q,q,this._transform.clone()),this}path(J){return this._tick++,this._activePath.addPath(J,this._transform.clone()),this}lineTo(J,Q){this._tick++;let q=this._transform;return this._activePath.lineTo(q.a*J+q.c*Q+q.tx,q.b*J+q.d*Q+q.ty),this}moveTo(J,Q){this._tick++;let q=this._transform,K=this._activePath.instructions,X=q.a*J+q.c*Q+q.tx,z=q.b*J+q.d*Q+q.ty;if(K.length===1&&K[0].action==="moveTo")return K[0].data[0]=X,K[0].data[1]=z,this;return this._activePath.moveTo(X,z),this}quadraticCurveTo(J,Q,q,K,X){this._tick++;let z=this._transform;return this._activePath.quadraticCurveTo(z.a*J+z.c*Q+z.tx,z.b*J+z.d*Q+z.ty,z.a*q+z.c*K+z.tx,z.b*q+z.d*K+z.ty,X),this}rect(J,Q,q,K){return this._tick++,this._activePath.rect(J,Q,q,K,this._transform.clone()),this}roundRect(J,Q,q,K,X){return this._tick++,this._activePath.roundRect(J,Q,q,K,X,this._transform.clone()),this}poly(J,Q){return this._tick++,this._activePath.poly(J,Q,this._transform.clone()),this}regularPoly(J,Q,q,K,X=0,z){return this._tick++,this._activePath.regularPoly(J,Q,q,K,X,z),this}roundPoly(J,Q,q,K,X,z){return this._tick++,this._activePath.roundPoly(J,Q,q,K,X,z),this}roundShape(J,Q,q,K){return this._tick++,this._activePath.roundShape(J,Q,q,K),this}filletRect(J,Q,q,K,X){return this._tick++,this._activePath.filletRect(J,Q,q,K,X),this}chamferRect(J,Q,q,K,X,z){return this._tick++,this._activePath.chamferRect(J,Q,q,K,X,z),this}star(J,Q,q,K,X=0,z=0){return this._tick++,this._activePath.star(J,Q,q,K,X,z,this._transform.clone()),this}svg(J){return this._tick++,rk(J,this),this}restore(){let J=this._stateStack.pop();if(J)this._transform=J.transform,this._fillStyle=J.fillStyle,this._strokeStyle=J.strokeStyle;return this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(J){return this._transform.rotate(J),this}scale(J,Q=J){return this._transform.scale(J,Q),this}setTransform(J,Q,q,K,X,z){if(J instanceof a)return this._transform.set(J.a,J.b,J.c,J.d,J.tx,J.ty),this;return this._transform.set(J,Q,q,K,X,z),this}transform(J,Q,q,K,X,z){if(J instanceof a)return this._transform.append(J),this;return XP.set(J,Q,q,K,X,z),this._transform.append(XP),this}translate(J,Q=J){return this._transform.translate(J,Q),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){if(this._boundsDirty=!0,this.dirty)return;this.emit("update",this,16),this.dirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;let J=this._bounds;J.clear();for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q],K=q.action;if(K==="fill"){let X=q.data;J.addBounds(X.path.bounds)}else if(K==="texture"){let X=q.data;J.addFrame(X.dx,X.dy,X.dx+X.dw,X.dy+X.dh,X.transform)}if(K==="stroke"){let X=q.data,z=X.style.alignment,Y=X.style.width*(1-z),O=X.path.bounds;J.addFrame(O.minX-Y,O.minY-Y,O.maxX+Y,O.maxY+Y)}}return J}containsPoint(J){if(!this.bounds.containsPoint(J.x,J.y))return!1;let Q=this.instructions,q=!1;for(let K=0;K<Q.length;K++){let X=Q[K],z=X.data,Y=z.path;if(!X.action||!Y)continue;let O=z.style,U=Y.shapePath.shapePrimitives;for(let A=0;A<U.length;A++){let D=U[A].shape;if(!O||!D)continue;let _=U[A].transform,W=_?_.applyInverse(J,Ya):J;if(X.action==="fill")q=D.contains(W.x,W.y);else{let C=O;q=D.strokeContains(W.x,W.y,C.width,C.alignment)}let j=z.hole;if(j){let C=j.shapePath?.shapePrimitives;if(C){for(let R=0;R<C.length;R++)if(C[R].shape.contains(W.x,W.y))q=!1}}if(q)return!0}}return q}destroy(J=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fillStyle.texture)this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(q);if(this._strokeStyle.texture)this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(q)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};$_.defaultFillStyle={color:16777215,alpha:1,texture:p.WHITE,matrix:null,fill:null,textureSpace:"local"};$_.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:0.5,miterLimit:10,cap:"butt",join:"miter",texture:p.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};s5=$_});function Va(Z){let J=Z;if(typeof J.dropShadow==="boolean"&&J.dropShadow){let Q=B8.defaultDropShadow;Z.dropShadow={alpha:J.dropShadowAlpha??Q.alpha,angle:J.dropShadowAngle??Q.angle,blur:J.dropShadowBlur??Q.blur,color:J.dropShadowColor??Q.color,distance:J.dropShadowDistance??Q.distance}}if(J.strokeThickness!==void 0){q0(Y0,"strokeThickness is now a part of stroke");let Q=J.stroke,q={};if(j0.isColorLike(Q))q.color=Q;else if(Q instanceof D8||Q instanceof L9)q.fill=Q;else if(Object.hasOwnProperty.call(Q,"color")||Object.hasOwnProperty.call(Q,"fill"))q=Q;else throw Error("Invalid stroke value.");Z.stroke={...q,width:J.strokeThickness}}if(Array.isArray(J.fillGradientStops)){if(q0(Y0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(J.fill)||J.fill.length===0)throw Error("Invalid fill value. Expected an array of colors for gradient fill.");if(J.fill.length!==J.fillGradientStops.length)e("The number of fill colors must match the number of fill gradient stops.");let Q=new D8({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),q=J.fillGradientStops.slice(),K=J.fill.map((X)=>j0.shared.setValue(X).toNumber());q.forEach((X,z)=>{Q.addColorStop(X,K[z])}),Z.fill={fill:Q}}}var A_,B8;var lK=F(()=>{F5();b5();t1();M1();l0();sJ();JY();VY();U_();A_=class Z extends e0{constructor(J={}){super();this.uid=M0("textStyle"),this._tick=0,Va(J);let Q={...Z.defaultTextStyle,...J};for(let q in Q){let K=q;this[K]=Q[q]}this.update(),this._tick=0}get align(){return this._align}set align(J){if(this._align===J)return;this._align=J,this.update()}get breakWords(){return this._breakWords}set breakWords(J){if(this._breakWords===J)return;this._breakWords=J,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(J){if(this._dropShadow===J)return;if(J!==null&&typeof J==="object")this._dropShadow=this._createProxy({...Z.defaultDropShadow,...J});else this._dropShadow=J?this._createProxy({...Z.defaultDropShadow}):null;this.update()}get fontFamily(){return this._fontFamily}set fontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.update()}get fontSize(){return this._fontSize}set fontSize(J){if(this._fontSize===J)return;if(typeof J==="string")this._fontSize=parseInt(J,10);else this._fontSize=J;this.update()}get fontStyle(){return this._fontStyle}set fontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(J){if(this._fontVariant===J)return;this._fontVariant=J,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.update()}get leading(){return this._leading}set leading(J){if(this._leading===J)return;this._leading=J,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(J){if(this._letterSpacing===J)return;this._letterSpacing=J,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(J){if(this._lineHeight===J)return;this._lineHeight=J,this.update()}get padding(){return this._padding}set padding(J){if(this._padding===J)return;this._padding=J,this.update()}get filters(){return this._filters}set filters(J){if(this._filters===J)return;this._filters=Object.freeze(J),this.update()}get trim(){return this._trim}set trim(J){if(this._trim===J)return;this._trim=J,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(J){if(this._textBaseline===J)return;this._textBaseline=J,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(J){if(this._whiteSpace===J)return;this._whiteSpace=J,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(J){if(this._wordWrap===J)return;this._wordWrap=J,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(J){if(this._wordWrapWidth===J)return;this._wordWrapWidth=J,this.update()}get fill(){return this._originalFill}set fill(J){if(J===this._originalFill)return;if(this._originalFill=J,this._isFillStyle(J))this._originalFill=this._createProxy({...s5.defaultFillStyle,...J},()=>{this._fill=Y7({...this._originalFill},s5.defaultFillStyle)});this._fill=Y7(J===0?"black":J,s5.defaultFillStyle),this.update()}get stroke(){return this._originalStroke}set stroke(J){if(J===this._originalStroke)return;if(this._originalStroke=J,this._isFillStyle(J))this._originalStroke=this._createProxy({...s5.defaultStrokeStyle,...J},()=>{this._stroke=eJ({...this._originalStroke},s5.defaultStrokeStyle)});this._stroke=eJ(J,s5.defaultStrokeStyle),this.update()}update(){this._tick++,this.emit("update",this)}reset(){let J=Z.defaultTextStyle;for(let Q in J)this[Q]=J[Q]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Z({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let J=0;if(this._filters)for(let Q=0;Q<this._filters.length;Q++)J+=this._filters[Q].padding;return Math.max(this._padding,J)}destroy(J=!1){if(this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fill?.texture)this._fill.texture.destroy(q);if(this._originalFill?.texture)this._originalFill.texture.destroy(q);if(this._stroke?.texture)this._stroke.texture.destroy(q);if(this._originalStroke?.texture)this._originalStroke.texture.destroy(q)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(J,Q){return new Proxy(J,{set:(q,K,X)=>{if(q[K]===X)return!0;return q[K]=X,Q?.(K,X),this.update(),!0}})}_isFillStyle(J){return(J??null)!==null&&!(j0.isColorLike(J)||J instanceof D8||J instanceof L9)}};A_.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};A_.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};B8=A_});function OY(Z,J,Q,q){let K=Oa;K.minX=0,K.minY=0,K.maxX=Z.width/q|0,K.maxY=Z.height/q|0;let X=n0.getOptimalTexture(K.width,K.height,q,!1);return X.source.uploadMethodId="image",X.source.resource=Z,X.source.alphaMode="premultiply-alpha-on-upload",X.frame.width=J/q,X.frame.height=Q/q,X.source.emit("update",X.source),X.updateUvs(),X}var Oa;var D_=F(()=>{z4();O8();Oa=new J1});class NP{constructor(Z){this._canvasPool=Object.create(null),this.canvasOptions=Z||{},this.enableFullScreen=!1}_createCanvasAndContext(Z,J){let Q=K0.get().createCanvas();Q.width=Z,Q.height=J;let q=Q.getContext("2d");return{canvas:Q,context:q}}getOptimalCanvasAndContext(Z,J,Q=1){Z=Math.ceil(Z*Q-0.000001),J=Math.ceil(J*Q-0.000001),Z=Z7(Z),J=Z7(J);let q=(Z<<17)+(J<<1);if(!this._canvasPool[q])this._canvasPool[q]=[];let K=this._canvasPool[q].pop();if(!K)K=this._createCanvasAndContext(Z,J);return K}returnCanvasAndContext(Z){let J=Z.canvas,{width:Q,height:q}=J,K=(Q<<17)+(q<<1);Z.context.resetTransform(),Z.context.clearRect(0,0,Q,q),this._canvasPool[K].push(Z)}clear(){this._canvasPool={}}}var _8;var ZQ=F(()=>{i0();$K();EZ();_8=new NP;D6.register(_8)});function Ua(Z,J){if(!lZ)lZ=K0.get().createCanvas(256,128),V7=lZ.getContext("2d",{willReadFrequently:!0}),V7.globalCompositeOperation="copy",V7.globalAlpha=1;if(lZ.width<Z||lZ.height<J)lZ.width=Z7(Z),lZ.height=Z7(J)}function zP(Z,J,Q){for(let q=0,K=4*Q*J;q<J;++q,K+=4)if(Z[K+3]!==0)return!1;return!0}function HP(Z,J,Q,q,K){let X=4*J;for(let z=q,Y=q*X+4*Q;z<=K;++z,Y+=X)if(Z[Y+3]!==0)return!1;return!0}function YP(...Z){let J=Z[0];if(!J.canvas)J={canvas:Z[0],resolution:Z[1]};let{canvas:Q}=J,q=Math.min(J.resolution??1,1),K=J.width??Q.width,X=J.height??Q.height,z=J.output;if(Ua(K,X),!V7)throw TypeError("Failed to get canvas 2D context");V7.drawImage(Q,0,0,K,X,0,0,K*q,X*q);let O=V7.getImageData(0,0,K,X).data,U=0,A=0,D=K-1,_=X-1;while(A<X&&zP(O,K,A))++A;if(A===X)return U0.EMPTY;while(zP(O,K,_))--_;while(HP(O,K,U,A,_))++U;while(HP(O,K,D,A,_))--D;return++D,++_,V7.globalCompositeOperation="source-over",V7.strokeRect(U,A,D-U,_-A),V7.globalCompositeOperation="copy",z??(z=new U0),z.set(U/q,A/q,(D-U)/q,(_-A)/q),z}var lZ=null,V7=null;var VP=F(()=>{i0();$K();r1()});class OP{constructor(Z=0,J=0,Q=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=Z,this.resetTtl=Q,this.size=0,this.ttl=J}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(Z){if(this.has(Z)){let J=this.items[Z];if(delete this.items[Z],this.size--,J.prev!==null)J.prev.next=J.next;if(J.next!==null)J.next.prev=J.prev;if(this.first===J)this.first=J.next;if(this.last===J)this.last=J.prev}return this}entries(Z=this.keys()){return Z.map((J)=>[J,this.get(J)])}evict(Z=!1){if(Z||this.size>0){let J=this.first;if(delete this.items[J.key],--this.size===0)this.first=null,this.last=null;else this.first=J.next,this.first.prev=null}return this}expiresAt(Z){let J;if(this.has(Z))J=this.items[Z].expiry;return J}get(Z){let J=this.items[Z];if(J!==void 0){if(this.ttl>0){if(J.expiry<=Date.now()){this.delete(Z);return}}return this.moveToEnd(J),J.value}return}has(Z){return Z in this.items}moveToEnd(Z){if(this.last===Z)return;if(Z.prev!==null)Z.prev.next=Z.next;if(Z.next!==null)Z.next.prev=Z.prev;if(this.first===Z)this.first=Z.next;if(Z.prev=this.last,Z.next=null,this.last!==null)this.last.next=Z;if(this.last=Z,this.first===null)this.first=Z}keys(){let Z=[],J=this.first;while(J!==null)Z.push(J.key),J=J.next;return Z}setWithEvicted(Z,J,Q=this.resetTtl){let q=null;if(this.has(Z))this.set(Z,J,!0,Q);else{if(this.max>0&&this.size===this.max)q={...this.first},this.evict(!0);let K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J};if(++this.size===1)this.first=K;else this.last.next=K;this.last=K}return q}set(Z,J,Q=!1,q=this.resetTtl){let K=this.items[Z];if(Q||K!==void 0){if(K.value=J,Q===!1&&q)K.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;this.moveToEnd(K)}else{if(this.max>0&&this.size===this.max)this.evict(!0);if(K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J},++this.size===1)this.first=K;else this.last.next=K;this.last=K}return this}values(Z=this.keys()){return Z.map((J)=>this.get(J))}}function UY(Z=1000,J=0,Q=!1){if(isNaN(Z)||Z<0)throw TypeError("Invalid max value");if(isNaN(J)||J<0)throw TypeError("Invalid ttl value");if(typeof Q!=="boolean")throw TypeError("Invalid resetTtl value");return new OP(Z,J,Q)}var B_=()=>{};function pZ(Z){let J=typeof Z.fontSize==="number"?`${Z.fontSize}px`:Z.fontSize,Q=Z.fontFamily;if(!Array.isArray(Z.fontFamily))Q=Z.fontFamily.split(",");for(let q=Q.length-1;q>=0;q--){let K=Q[q].trim();if(!/([\"\'])[^\'\"]+\1/.test(K)&&!$a.includes(K))K=`"${K}"`;Q[q]=K}return`${Z.fontStyle} ${Z.fontVariant} ${Z.fontWeight} ${J} ${Q.join(",")}`}var $a;var $Y=F(()=>{$a=["serif","sans-serif","monospace","cursive","fantasy","system-ui"]});var __,d6=class Z{static get experimentalLetterSpacingSupported(){let J=Z._experimentalLetterSpacingSupported;if(J===void 0){let Q=K0.get().getCanvasRenderingContext2D().prototype;J=Z._experimentalLetterSpacingSupported="letterSpacing"in Q||"textLetterSpacing"in Q}return J}constructor(J,Q,q,K,X,z,Y,O,U){this.text=J,this.style=Q,this.width=q,this.height=K,this.lines=X,this.lineWidths=z,this.lineHeight=Y,this.maxLineWidth=O,this.fontProperties=U}static measureText(J=" ",Q,q=Z._canvas,K=Q.wordWrap){let X=`${J}-${Q.styleKey}-wordWrap-${K}`;if(Z._measurementCache.has(X))return Z._measurementCache.get(X);let z=pZ(Q),Y=Z.measureFont(z);if(Y.fontSize===0)Y.fontSize=Q.fontSize,Y.ascent=Q.fontSize;let O=Z.__context;O.font=z;let A=(K?Z._wordWrap(J,Q,q):J).split(/(?:\r\n|\r|\n)/),D=Array(A.length),_=0;for(let w=0;w<A.length;w++){let L=Z._measureText(A[w],Q.letterSpacing,O);D[w]=L,_=Math.max(_,L)}let W=Q._stroke?.width||0,j=_+W;if(Q.dropShadow)j+=Q.dropShadow.distance;let C=Q.lineHeight||Y.fontSize,R=Math.max(C,Y.fontSize+W)+(A.length-1)*(C+Q.leading);if(Q.dropShadow)R+=Q.dropShadow.distance;let G=new Z(J,Q,j,R,A,D,C+Q.leading,_,Y);return Z._measurementCache.set(X,G),G}static _measureText(J,Q,q){let K=!1;if(Z.experimentalLetterSpacingSupported)if(Z.experimentalLetterSpacing)q.letterSpacing=`${Q}px`,q.textLetterSpacing=`${Q}px`,K=!0;else q.letterSpacing="0px",q.textLetterSpacing="0px";let X=q.measureText(J),z=X.width,Y=-X.actualBoundingBoxLeft,U=X.actualBoundingBoxRight-Y;if(z>0)if(K)z-=Q,U-=Q;else{let A=(Z.graphemeSegmenter(J).length-1)*Q;z+=A,U+=A}return Math.max(z,U)}static _wordWrap(J,Q,q=Z._canvas){let K=q.getContext("2d",__),X=0,z="",Y="",O=Object.create(null),{letterSpacing:U,whiteSpace:A}=Q,D=Z._collapseSpaces(A),_=Z._collapseNewlines(A),W=!D,j=Q.wordWrapWidth+U,C=Z._tokenize(J);for(let R=0;R<C.length;R++){let G=C[R];if(Z._isNewline(G)){if(!_){Y+=Z._addLine(z),W=!D,z="",X=0;continue}G=" "}if(D){let L=Z.isBreakingSpace(G),I=Z.isBreakingSpace(z[z.length-1]);if(L&&I)continue}let w=Z._getFromCache(G,U,O,K);if(w>j){if(z!=="")Y+=Z._addLine(z),z="",X=0;if(Z.canBreakWords(G,Q.breakWords)){let L=Z.wordWrapSplit(G);for(let I=0;I<L.length;I++){let h=L[I],v=h,b=1;while(L[I+b]){let c=L[I+b];if(!Z.canBreakChars(v,c,G,I,Q.breakWords))h+=c;else break;v=c,b++}I+=b-1;let m=Z._getFromCache(h,U,O,K);if(m+X>j)Y+=Z._addLine(z),W=!1,z="",X=0;z+=h,X+=m}}else{if(z.length>0)Y+=Z._addLine(z),z="",X=0;let L=R===C.length-1;Y+=Z._addLine(G,!L),W=!1,z="",X=0}}else{if(w+X>j)W=!1,Y+=Z._addLine(z),z="",X=0;if(z.length>0||!Z.isBreakingSpace(G)||W)z+=G,X+=w}}return Y+=Z._addLine(z,!1),Y}static _addLine(J,Q=!0){return J=Z._trimRight(J),J=Q?`${J}
`:J,J}static _getFromCache(J,Q,q,K){let X=q[J];if(typeof X!=="number")X=Z._measureText(J,Q,K)+Q,q[J]=X;return X}static _collapseSpaces(J){return J==="normal"||J==="pre-line"}static _collapseNewlines(J){return J==="normal"}static _trimRight(J){if(typeof J!=="string")return"";for(let Q=J.length-1;Q>=0;Q--){let q=J[Q];if(!Z.isBreakingSpace(q))break;J=J.slice(0,-1)}return J}static _isNewline(J){if(typeof J!=="string")return!1;return Z._newlines.includes(J.charCodeAt(0))}static isBreakingSpace(J,Q){if(typeof J!=="string")return!1;return Z._breakingSpaces.includes(J.charCodeAt(0))}static _tokenize(J){let Q=[],q="";if(typeof J!=="string")return Q;for(let K=0;K<J.length;K++){let X=J[K],z=J[K+1];if(Z.isBreakingSpace(X,z)||Z._isNewline(X)){if(q!=="")Q.push(q),q="";if(X==="\r"&&z===`
`)Q.push(`\r
`),K++;else Q.push(X);continue}q+=X}if(q!=="")Q.push(q);return Q}static canBreakWords(J,Q){return Q}static canBreakChars(J,Q,q,K,X){return!0}static wordWrapSplit(J){return Z.graphemeSegmenter(J)}static measureFont(J){if(Z._fonts[J])return Z._fonts[J];let Q=Z._context;Q.font=J;let q=Q.measureText(Z.METRICS_STRING+Z.BASELINE_SYMBOL),K={ascent:q.actualBoundingBoxAscent,descent:q.actualBoundingBoxDescent,fontSize:q.actualBoundingBoxAscent+q.actualBoundingBoxDescent};return Z._fonts[J]=K,K}static clearMetrics(J=""){if(J)delete Z._fonts[J];else Z._fonts={}}static get _canvas(){if(!Z.__canvas){let J;try{let Q=new OffscreenCanvas(0,0);if(Q.getContext("2d",__)?.measureText)return Z.__canvas=Q,Q;J=K0.get().createCanvas()}catch(Q){J=K0.get().createCanvas()}J.width=J.height=10,Z.__canvas=J}return Z.__canvas}static get _context(){if(!Z.__context)Z.__context=Z._canvas.getContext("2d",__);return Z.__context}},M8;var pK=F(()=>{B_();i0();$Y();__={willReadFrequently:!0};d6.METRICS_STRING="|q";d6.BASELINE_SYMBOL="M";d6.BASELINE_MULTIPLIER=1.4;d6.HEIGHT_MULTIPLIER=2;d6.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter==="function"){let Z=new Intl.Segmenter;return(J)=>{let Q=Z.segment(J),q=[],K=0;for(let X of Q)q[K++]=X.segment;return q}}return(Z)=>[...Z]})();d6.experimentalLetterSpacing=!1;d6._fonts={};d6._newlines=[10,13];d6._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];d6._measurementCache=UY(1000);M8=d6});function JQ(Z,J,Q,q=0){if(Z.texture===p.WHITE&&!Z.fill)return j0.shared.setValue(Z.color).setAlpha(Z.alpha??1).toHexa();else if(!Z.fill){let K=J.createPattern(Z.texture.source.resource,"repeat"),X=Z.matrix.copyTo(a.shared);return X.scale(Z.texture.frame.width,Z.texture.frame.height),K.setTransform(X),K}else if(Z.fill instanceof L9){let K=Z.fill,X=J.createPattern(K.texture.source.resource,"repeat"),z=K.transform.copyTo(a.shared);return z.scale(K.texture.frame.width,K.texture.frame.height),X.setTransform(z),X}else if(Z.fill instanceof D8){let K=Z.fill,X=K.type==="linear",z=K.textureSpace==="local",Y=1,O=1;if(z&&Q)Y=Q.width+q,O=Q.height+q;let U,A=!1;if(X){let{start:D,end:_}=K;U=J.createLinearGradient(D.x*Y,D.y*O,_.x*Y,_.y*O),A=Math.abs(_.x-D.x)<Math.abs((_.y-D.y)*0.1)}else{let{center:D,innerRadius:_,outerCenter:W,outerRadius:j}=K;U=J.createRadialGradient(D.x*Y,D.y*O,_*Y,W.x*Y,W.y*O,j*Y)}if(A&&z&&Q){let D=Q.lineHeight/O;for(let _=0;_<Q.lines.length;_++){let W=(_*Q.lineHeight+q/2)/O;K.colorStops.forEach((j)=>{let C=W+j.offset*D;U.addColorStop(Math.floor(C*UP)/UP,j0.shared.setValue(j.color).toHex())})}}else K.colorStops.forEach((D)=>{U.addColorStop(D.offset,j0.shared.setValue(D.color).toHex())});return U}return e("FillStyle not recognised",Z),"red"}var UP=1e5;var M_=F(()=>{b5();T0();p0();l0();sJ();JY()});class AP{getCanvasAndContext(Z){let{text:J,style:Q,resolution:q=1}=Z,K=Q._getFinalPadding(),X=M8.measureText(J||" ",Q),z=Math.ceil(Math.ceil(Math.max(1,X.width)+K*2)*q),Y=Math.ceil(Math.ceil(Math.max(1,X.height)+K*2)*q),O=_8.getOptimalCanvasAndContext(z,Y);this._renderTextToCanvas(J,Q,K,q,O);let U=Q.trim?YP({canvas:O.canvas,width:z,height:Y,resolution:1,output:$P}):$P.set(0,0,z,Y);return{canvasAndContext:O,frame:U}}returnCanvasAndContext(Z){_8.returnCanvasAndContext(Z)}_renderTextToCanvas(Z,J,Q,q,K){let{canvas:X,context:z}=K,Y=pZ(J),O=M8.measureText(Z||" ",J),U=O.lines,A=O.lineHeight,D=O.lineWidths,_=O.maxLineWidth,W=O.fontProperties,j=X.height;if(z.resetTransform(),z.scale(q,q),z.textBaseline=J.textBaseline,J._stroke?.width){let w=J._stroke;z.lineWidth=w.width,z.miterLimit=w.miterLimit,z.lineJoin=w.join,z.lineCap=w.cap}z.font=Y;let C,R,G=J.dropShadow?2:1;for(let w=0;w<G;++w){let L=J.dropShadow&&w===0,I=L?Math.ceil(Math.max(1,j)+Q*2):0,h=I*q;if(L){z.fillStyle="black",z.strokeStyle="black";let m=J.dropShadow,c=m.color,u=m.alpha;z.shadowColor=j0.shared.setValue(c).setAlpha(u).toRgbaString();let n=m.blur*q,N0=m.distance*q;z.shadowBlur=n,z.shadowOffsetX=Math.cos(m.angle)*N0,z.shadowOffsetY=Math.sin(m.angle)*N0+h}else{if(z.fillStyle=J._fill?JQ(J._fill,z,O,Q*2):null,J._stroke?.width){let m=J._stroke.width*0.5+Q*2;z.strokeStyle=JQ(J._stroke,z,O,m)}z.shadowColor="black"}let v=(A-W.fontSize)/2;if(A-W.fontSize<0)v=0;let b=J._stroke?.width??0;for(let m=0;m<U.length;m++){if(C=b/2,R=b/2+m*A+W.ascent+v,J.align==="right")C+=_-D[m];else if(J.align==="center")C+=(_-D[m])/2;if(J._stroke?.width)this._drawLetterSpacing(U[m],J,K,C+Q,R+Q-I,!0);if(J._fill!==void 0)this._drawLetterSpacing(U[m],J,K,C+Q,R+Q-I)}}}_drawLetterSpacing(Z,J,Q,q,K,X=!1){let{context:z}=Q,Y=J.letterSpacing,O=!1;if(M8.experimentalLetterSpacingSupported)if(M8.experimentalLetterSpacing)z.letterSpacing=`${Y}px`,z.textLetterSpacing=`${Y}px`,O=!0;else z.letterSpacing="0px",z.textLetterSpacing="0px";if(Y===0||O){if(X)z.strokeText(Z,q,K);else z.fillText(Z,q,K);return}let U=q,A=M8.graphemeSegmenter(Z),D=z.measureText(Z).width,_=0;for(let W=0;W<A.length;++W){let j=A[W];if(X)z.strokeText(j,U,K);else z.fillText(j,U,K);let C="";for(let R=W+1;R<A.length;++R)C+=A[R];_=z.measureText(C).width,U+=D-_+Y,D=_}}}var $P,AY;var DP=F(()=>{b5();r1();ZQ();VP();pK();$Y();M_();$P=new U0;AY=new AP});class DY{constructor(Z){this._activeTextures={},this._renderer=Z}getTexture(Z,J,Q,q){if(typeof Z==="string")q0("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),Z={text:Z,style:Q,resolution:J};if(!(Z.style instanceof B8))Z.style=new B8(Z.style);if(!(Z.textureStyle instanceof U8))Z.textureStyle=new U8(Z.textureStyle);if(typeof Z.text!=="string")Z.text=Z.text.toString();let{text:K,style:X,textureStyle:z}=Z,Y=Z.resolution??this._renderer.resolution,{frame:O,canvasAndContext:U}=AY.getCanvasAndContext({text:K,style:X,resolution:Y}),A=OY(U.canvas,O.width,O.height,Y);if(z)A.source.style=z;if(X.trim)O.pad(X.padding),A.frame.copyFrom(O),A.frame.scale(1/Y),A.updateUvs();if(X.filters){let D=this._applyFilters(A,X.filters);return this.returnTexture(A),AY.returnCanvasAndContext(U),D}return this._renderer.texture.initSource(A._source),AY.returnCanvasAndContext(U),A}returnTexture(Z){let J=Z.source;J.resource=null,J.uploadMethodId="unknown",J.alphaMode="no-premultiply-alpha",n0.returnTexture(Z,!0)}renderTextToCanvas(){q0("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}getManagedTexture(Z){Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].texture;let Q=this.getTexture({text:Z.text,style:Z.style,resolution:Z._resolution,textureStyle:Z.textureStyle});return this._activeTextures[J]={texture:Q,usageCount:1},Q}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(J.usageCount--,J.usageCount===0)this.returnTexture(J.texture),this._activeTextures[Z]=null}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??0}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}_applyFilters(Z,J){let Q=this._renderer.renderTarget.renderTarget,q=this._renderer.filter.generateFilteredTexture({texture:Z,filters:J});return this._renderer.renderTarget.bind(Q,!1),q}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexture(this._activeTextures[Z].texture);this._activeTextures=null}}var BP=F(()=>{g();z4();TZ();M1();lK();D_();DP();DY.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"canvasText"}});var W_=F(()=>{g();Bk();BP();Z0.add(DY);Z0.add(ZY)});var c6;var G_=F(()=>{M1();eD();VY();c6=class c6 extends FK{constructor(Z){if(Z instanceof s5)Z={context:Z};let{context:J,roundPixels:Q,...q}=Z||{};super({label:"Graphics",...q});if(this.renderPipeId="graphics",!J)this._context=this._ownedContext=new s5;else this._context=J;this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=Q??!1}set context(Z){if(Z===this._context)return;this._context.off("update",this.onViewUpdate,this),this._context=Z,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate()}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(Z){return this._context.containsPoint(Z)}destroy(Z){if(this._ownedContext&&!Z)this._ownedContext.destroy(Z);else if(Z===!0||Z?.context===!0)this._context.destroy(Z);this._ownedContext=null,this._context=null,super.destroy(Z)}_callContextMethod(Z,J){return this.context[Z](...J),this}setFillStyle(...Z){return this._callContextMethod("setFillStyle",Z)}setStrokeStyle(...Z){return this._callContextMethod("setStrokeStyle",Z)}fill(...Z){return this._callContextMethod("fill",Z)}stroke(...Z){return this._callContextMethod("stroke",Z)}texture(...Z){return this._callContextMethod("texture",Z)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...Z){return this._callContextMethod("arc",Z)}arcTo(...Z){return this._callContextMethod("arcTo",Z)}arcToSvg(...Z){return this._callContextMethod("arcToSvg",Z)}bezierCurveTo(...Z){return this._callContextMethod("bezierCurveTo",Z)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...Z){return this._callContextMethod("ellipse",Z)}circle(...Z){return this._callContextMethod("circle",Z)}path(...Z){return this._callContextMethod("path",Z)}lineTo(...Z){return this._callContextMethod("lineTo",Z)}moveTo(...Z){return this._callContextMethod("moveTo",Z)}quadraticCurveTo(...Z){return this._callContextMethod("quadraticCurveTo",Z)}rect(...Z){return this._callContextMethod("rect",Z)}roundRect(...Z){return this._callContextMethod("roundRect",Z)}poly(...Z){return this._callContextMethod("poly",Z)}regularPoly(...Z){return this._callContextMethod("regularPoly",Z)}roundPoly(...Z){return this._callContextMethod("roundPoly",Z)}roundShape(...Z){return this._callContextMethod("roundShape",Z)}filletRect(...Z){return this._callContextMethod("filletRect",Z)}chamferRect(...Z){return this._callContextMethod("chamferRect",Z)}star(...Z){return this._callContextMethod("star",Z)}svg(...Z){return this._callContextMethod("svg",Z)}restore(...Z){return this._callContextMethod("restore",Z)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...Z){return this._callContextMethod("rotate",Z)}scaleTransform(...Z){return this._callContextMethod("scale",Z)}setTransform(...Z){return this._callContextMethod("setTransform",Z)}transform(...Z){return this._callContextMethod("transform",Z)}translateTransform(...Z){return this._callContextMethod("translate",Z)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(Z){this._context.fillStyle=Z}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(Z){this._context.strokeStyle=Z}clone(Z=!1){if(Z)return new c6(this._context.clone());return this._ownedContext=null,new c6(this._context)}lineStyle(Z,J,Q){q0(Y0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");let q={};return Z&&(q.width=Z),J&&(q.color=J),Q&&(q.alpha=Q),this.context.strokeStyle=q,this}beginFill(Z,J){q0(Y0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");let Q={};if(Z!==void 0)Q.color=Z;if(J!==void 0)Q.alpha=J;return this.context.fillStyle=Q,this}endFill(){q0(Y0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();let Z=this.context.strokeStyle;if(Z.width!==s5.defaultStrokeStyle.width||Z.color!==s5.defaultStrokeStyle.color||Z.alpha!==s5.defaultStrokeStyle.alpha)this.context.stroke();return this}drawCircle(...Z){return q0(Y0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",Z)}drawEllipse(...Z){return q0(Y0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",Z)}drawPolygon(...Z){return q0(Y0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",Z)}drawRect(...Z){return q0(Y0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",Z)}drawRoundedRect(...Z){return q0(Y0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",Z)}drawStar(...Z){return q0(Y0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",Z)}}});var _P,MP;var WP=F(()=>{_P={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},MP={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}}});var GP,FP;var jP=F(()=>{GP={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},FP={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}}});var F_,j_,w_;var wP=F(()=>{T0();w9();kK();PK();C9();dH();g6();k5();WP();jP();w_=class w_ extends k1{constructor(Z){let J=new a0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});F_??(F_=V4({name:"sdf-shader",bits:[mJ,cJ(Z),_P,GP,U4]})),j_??(j_=O4({name:"sdf-shader",bits:[dJ,uJ(Z),MP,FP,$4]}));super({glProgram:j_,gpuProgram:F_,resources:{localUniforms:J,batchSamplers:lJ(Z)}})}}});var iK;var C_=F(()=>{F5();M1();iK=class iK extends e0{constructor(){super(...arguments);this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return q0(Y0,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return q0(Y0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return q0(Y0,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return q0(Y0,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return q0(Y0,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(Z=!1){this.emit("destroy",this),this.removeAllListeners();for(let J in this.chars)this.chars[J].texture?.destroy();if(this.chars=null,Z)this.pages.forEach((J)=>J.texture.destroy(!0)),this.pages=null}}});var CP,L_;var LP=F(()=>{b5();r1();ZQ();fJ();p0();TZ();M1();pK();$Y();M_();lK();C_();CP=class Z extends iK{constructor(J){super();this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;let Q={...Z.defaultOptions,...J};this._textureSize=Q.textureSize,this._mipmap=Q.mipmap;let q=Q.style.clone();if(Q.overrideFill)q._fill.color=16777215,q._fill.alpha=1,q._fill.texture=p.WHITE,q._fill.fill=null;this.applyFillAsTint=Q.overrideFill;let K=q.fontSize;q.fontSize=this.baseMeasurementFontSize;let X=pZ(q);if(Q.overrideSize){if(q._stroke)q._stroke.width*=this.baseRenderedFontSize/K}else q.fontSize=this.baseRenderedFontSize=K;if(this._style=q,this._skipKerning=Q.skipKerning??!1,this.resolution=Q.resolution??1,this._padding=Q.padding??4,Q.textureStyle)this._textureStyle=Q.textureStyle instanceof U8?Q.textureStyle:new U8(Q.textureStyle);this.fontMetrics=M8.measureFont(X),this.lineHeight=q.lineHeight||this.fontMetrics.fontSize||q.fontSize}ensureCharacters(J){let Q=M8.graphemeSegmenter(J).filter((R)=>!this._currentChars.includes(R)).filter((R,G,w)=>w.indexOf(R)===G);if(!Q.length)return;this._currentChars=[...this._currentChars,...Q];let q;if(this._currentPageIndex===-1)q=this._nextPage();else q=this.pages[this._currentPageIndex];let{canvas:K,context:X}=q.canvasAndContext,z=q.texture.source,Y=this._style,O=this._currentX,U=this._currentY,A=this._currentMaxCharHeight,D=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*D,W=!1,j=K.width/this.resolution,C=K.height/this.resolution;for(let R=0;R<Q.length;R++){let G=Q[R],w=M8.measureText(G,Y,K,!1);w.lineHeight=w.height;let L=w.width*D,I=Math.ceil((Y.fontStyle==="italic"?2:1)*L),h=w.height*D,v=I+_*2,b=h+_*2;if(W=!1,G!==`
`&&G!=="\r"&&G!=="\t"&&G!==" ")W=!0,A=Math.ceil(Math.max(b,A));if(O+v>j){if(U+=A,A=b,O=0,U+A>C){z.update();let c=this._nextPage();K=c.canvasAndContext.canvas,X=c.canvasAndContext.context,z=c.texture.source,O=0,U=0,A=0}}let m=L/D-(Y.dropShadow?.distance??0)-(Y._stroke?.width??0);if(this.chars[G]={id:G.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:m,kerning:{}},W){this._drawGlyph(X,w,O+_,U+_,D,Y);let c=z.width*D,u=z.height*D,n=new U0(O/c*z.width,U/u*z.height,v/c*z.width,b/u*z.height);this.chars[G].texture=new p({source:z,frame:n}),O+=Math.ceil(v)}}z.update(),this._currentX=O,this._currentY=U,this._currentMaxCharHeight=A,this._skipKerning&&this._applyKerning(Q,X)}get pageTextures(){return q0(Y0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(J,Q){let q=this._measureCache;for(let K=0;K<J.length;K++){let X=J[K];for(let z=0;z<this._currentChars.length;z++){let Y=this._currentChars[z],O=q[X];if(!O)O=q[X]=Q.measureText(X).width;let U=q[Y];if(!U)U=q[Y]=Q.measureText(Y).width;let A=Q.measureText(X+Y).width,D=A-(O+U);if(D)this.chars[X].kerning[Y]=D;if(A=Q.measureText(X+Y).width,D=A-(O+U),D)this.chars[Y].kerning[X]=D}}}_nextPage(){this._currentPageIndex++;let J=this.resolution,Q=_8.getOptimalCanvasAndContext(this._textureSize,this._textureSize,J);this._setupContext(Q.context,this._style,J);let q=J*(this.baseRenderedFontSize/this.baseMeasurementFontSize),K=new p({source:new c8({resource:Q.canvas,resolution:q,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});if(this._textureStyle)K.source.style=this._textureStyle;let X={canvasAndContext:Q,texture:K};return this.pages[this._currentPageIndex]=X,X}_setupContext(J,Q,q){Q.fontSize=this.baseRenderedFontSize,J.scale(q,q),J.font=pZ(Q),Q.fontSize=this.baseMeasurementFontSize,J.textBaseline=Q.textBaseline;let K=Q._stroke,X=K?.width??0;if(K)J.lineWidth=X,J.lineJoin=K.join,J.miterLimit=K.miterLimit,J.strokeStyle=JQ(K,J);if(Q._fill)J.fillStyle=JQ(Q._fill,J);if(Q.dropShadow){let z=Q.dropShadow,Y=j0.shared.setValue(z.color).toArray(),O=z.blur*q,U=z.distance*q;J.shadowColor=`rgba(${Y[0]*255},${Y[1]*255},${Y[2]*255},${z.alpha})`,J.shadowBlur=O,J.shadowOffsetX=Math.cos(z.angle)*U,J.shadowOffsetY=Math.sin(z.angle)*U}else J.shadowColor="black",J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0}_drawGlyph(J,Q,q,K,X,z){let{text:Y,fontProperties:O}=Q,A=(z._stroke?.width??0)*X,D=q+A/2,_=K-A/2,W=O.descent*X,j=Q.lineHeight*X,C=!1;if(z.stroke&&A)C=!0,J.strokeText(Y,D,_+j-W);let{shadowBlur:R,shadowOffsetX:G,shadowOffsetY:w}=J;if(z._fill){if(C)J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0;J.fillText(Y,D,_+j-W)}if(C)J.shadowBlur=R,J.shadowOffsetX=G,J.shadowOffsetY=w}destroy(){super.destroy();for(let J=0;J<this.pages.length;J++){let{canvasAndContext:Q,texture:q}=this.pages[J];_8.returnCanvasAndContext(Q),q.destroy(!0)}this.pages=null}};CP.defaultOptions={textureSize:512,style:new B8,mipmap:!0};L_=CP});function BY(Z,J,Q,q){let K={width:0,height:0,offsetY:0,scale:J.fontSize/Q.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};K.offsetY=Q.baseLineOffset;let X=K.lines[0],z=null,Y=!0,O={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},U=Q.baseMeasurementFontSize/J.fontSize,A=J.letterSpacing*U,D=J.wordWrapWidth*U,_=J.lineHeight?J.lineHeight*U:Q.lineHeight,W=J.wordWrap&&J.breakWords,j=(G)=>{let w=X.width;for(let L=0;L<O.index;L++){let I=G.positions[L];X.chars.push(G.chars[L]),X.charPositions.push(I+w)}X.width+=G.width,Y=!1,O.width=0,O.index=0,O.chars.length=0},C=()=>{let G=X.chars.length-1;if(q){let w=X.chars[G];while(w===" ")X.width-=Q.chars[w].xAdvance,w=X.chars[--G]}K.width=Math.max(K.width,X.width),X={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},Y=!0,K.lines.push(X),K.height+=_},R=(G)=>G-A>D;for(let G=0;G<Z.length+1;G++){let w,L=G===Z.length;if(!L)w=Z[G];let I=Q.chars[w]||Q.chars[" "];if(/(?:\s)/.test(w)||w==="\r"||w===`
`||L){if(!Y&&J.wordWrap&&R(X.width+O.width)){if(C(),j(O),!L)X.charPositions.push(0)}else if(O.start=X.width,j(O),!L)X.charPositions.push(0);if(w==="\r"||w===`
`)C();else if(!L){let m=I.xAdvance+(I.kerning[z]||0)+A;X.width+=m,X.spaceWidth=m,X.spacesIndex.push(X.charPositions.length),X.chars.push(w)}}else{let b=I.kerning[z]||0,m=I.xAdvance+b+A;if(W&&R(X.width+O.width+m))j(O),C();O.positions[O.index++]=O.width+b,O.chars.push(w),O.width+=m}z=w}if(C(),J.align==="center")Aa(K);else if(J.align==="right")Da(K);else if(J.align==="justify")Ba(K);return K}function Aa(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width/2-Q.width/2;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function Da(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width-Q.width;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function Ba(Z){let J=Z.width;for(let Q=0;Q<Z.lines.length;Q++){let q=Z.lines[Q],K=0,X=q.spacesIndex[K++],z=0,Y=q.spacesIndex.length,U=(J-q.width)/Y;for(let A=0;A<q.charPositions.length;A++){if(A===X)X=q.spacesIndex[K++],z+=U;q.charPositions[A]+=z}}}var R_=()=>{};function RP(Z){if(Z==="")return[];if(typeof Z==="string")Z=[Z];let J=[];for(let Q=0,q=Z.length;Q<q;Q++){let K=Z[Q];if(Array.isArray(K)){if(K.length!==2)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${K.length}.`);if(K[0].length===0||K[1].length===0)throw Error("[BitmapFont]: Invalid character delimiter.");let X=K[0].charCodeAt(0),z=K[1].charCodeAt(0);if(z<X)throw Error("[BitmapFont]: Invalid character range.");for(let Y=X,O=z;Y<=O;Y++)J.push(String.fromCharCode(Y))}else J.push(...Array.from(K))}if(J.length===0)throw Error("[BitmapFont]: Empty set when resolving characters.");return J}var EP=()=>{};class IP{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=UY(1000)}getFont(Z,J){let Q=`${J.fontFamily}-bitmap`,q=!0;if(J._fill.fill&&!J._stroke)Q+=J._fill.fill.styleKey,q=!1;else if(J._stroke||J.dropShadow)Q=`${J.styleKey}-bitmap`,q=!1;if(!v0.has(Q)){let X=Object.create(J);X.lineHeight=0;let z=new L_({style:X,overrideFill:q,overrideSize:!0,...this.defaultOptions});if(_Y++,_Y>50)e("BitmapText",`You have dynamically created ${_Y} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``);z.once("destroy",()=>{_Y--,v0.remove(Q)}),v0.set(Q,z)}let K=v0.get(Q);return K.ensureCharacters?.(Z),K}getLayout(Z,J,Q=!0){let q=this.getFont(Z,J),K=`${Z}-${J.styleKey}-${Q}`;if(this.measureCache.has(K))return this.measureCache.get(K);let X=M8.graphemeSegmenter(Z),z=BY(X,J,q,Q);return this.measureCache.set(K,z),z}measureText(Z,J,Q=!0){return this.getLayout(Z,J,Q)}install(...Z){let J=Z[0];if(typeof J==="string")J={name:J,style:Z[1],chars:Z[2]?.chars,resolution:Z[2]?.resolution,padding:Z[2]?.padding,skipKerning:Z[2]?.skipKerning},q0(Y0,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})");let Q=J?.name;if(!Q)throw Error("[BitmapFontManager] Property `name` is required.");J={...this.defaultOptions,...J};let q=J.style,K=q instanceof B8?q:new B8(q),X=J.dynamicFill??this._canUseTintForStyle(K),z=new L_({style:K,overrideFill:X,skipKerning:J.skipKerning,padding:J.padding,resolution:J.resolution,overrideSize:!1,textureStyle:J.textureStyle}),Y=RP(J.chars);return z.ensureCharacters(Y.join("")),v0.set(`${Q}-bitmap`,z),z.once("destroy",()=>v0.remove(`${Q}-bitmap`)),z}uninstall(Z){let J=`${Z}-bitmap`,Q=v0.get(J);if(Q)Q.destroy()}_canUseTintForStyle(Z){return!Z._stroke&&(!Z.dropShadow||Z.dropShadow.color===0)&&!Z._fill.fill&&Z._fill.color===16777215}}var _Y=0,aK;var E_=F(()=>{B_();W9();M1();l0();pK();lK();LP();R_();EP();aK=new IP});class MY{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuBitmapText(Z);return this._renderer.renderPipes.graphics.validateRenderable(J)}addRenderable(Z,J){let Q=this._getGpuBitmapText(Z);if(TP(Z,Q),Z._didTextUpdate)Z._didTextUpdate=!1,this._updateContext(Z,Q);if(this._renderer.renderPipes.graphics.addRenderable(Q,J),Q.context.customShader)this._updateDistanceField(Z)}updateRenderable(Z){let J=this._getGpuBitmapText(Z);if(TP(Z,J),this._renderer.renderPipes.graphics.updateRenderable(J),J.context.customShader)this._updateDistanceField(Z)}_updateContext(Z,J){let{context:Q}=J,q=aK.getFont(Z.text,Z._style);if(Q.clear(),q.distanceField.type!=="none"){if(!Q.customShader)Q.customShader=new w_(this._renderer.limits.maxBatchableTextures)}let K=M8.graphemeSegmenter(Z.text),X=Z._style,z=q.baseLineOffset,Y=BY(K,X,q,!0),O=X.padding,U=Y.scale,A=Y.width,D=Y.height+Y.offsetY;if(X._stroke)A+=X._stroke.width/U,D+=X._stroke.width/U;Q.translate(-Z._anchor._x*A-O,-Z._anchor._y*D-O).scale(U,U);let _=q.applyFillAsTint?X._fill.color:16777215,W=q.fontMetrics.fontSize,j=q.lineHeight;if(X.lineHeight)W=X.fontSize/U,j=X.lineHeight/U;let C=(j-W)/2;if(C-q.baseLineOffset<0)C=0;for(let R=0;R<Y.lines.length;R++){let G=Y.lines[R];for(let w=0;w<G.charPositions.length;w++){let L=G.chars[w],I=q.chars[L];if(I?.texture){let h=I.texture;Q.texture(h,_?_:"black",Math.round(G.charPositions[w]+I.xOffset),Math.round(z+I.yOffset+C),h.orig.width,h.orig.height)}}z+=j}}_getGpuBitmapText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new SP;return Z._gpuData[this._renderer.uid]=J,this._updateContext(Z,J),J}_updateDistanceField(Z){let J=this._getGpuBitmapText(Z).context,Q=Z._style.fontFamily,q=v0.get(`${Q}-bitmap`),{a:K,b:X,c:z,d:Y}=Z.groupTransform,O=Math.sqrt(K*K+X*X),U=Math.sqrt(z*z+Y*Y),A=(Math.abs(O)+Math.abs(U))/2,D=q.baseRenderedFontSize/Z._style.fontSize,_=A*q.distanceField.range*(1/D);J.customShader.resources.localUniforms.uniforms.uDistance=_}destroy(){this._renderer=null}}function TP(Z,J){J.groupTransform=Z.groupTransform,J.groupColorAlpha=Z.groupColorAlpha,J.groupColor=Z.groupColor,J.groupBlendMode=Z.groupBlendMode,J.globalDisplayStatus=Z.globalDisplayStatus,J.groupTransform=Z.groupTransform,J.localDisplayStatus=Z.localDisplayStatus,J.groupAlpha=Z.groupAlpha,J._roundPixels=Z._roundPixels}var SP;var bP=F(()=>{W9();g();G_();pK();wP();E_();R_();SP=class SP extends c6{destroy(){if(this.context.customShader)this.context.customShader.destroy();super.destroy()}};MY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"bitmapText"}});var I_=F(()=>{g();bP();Z0.add(MY)});var T_;var kP=F(()=>{dK();T_=class T_ extends H7{constructor(Z){super();this.generatingTexture=!1,this.currentKey="--",this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{htmlText:Z}=this._renderer;Z.getReferenceCount(this.currentKey)===null?Z.returnTexturePromise(this.texturePromise):Z.decreaseReferenceCount(this.currentKey),this._renderer.runners.resolutionChange.remove(this),this.texturePromise=null,this._renderer=null}}});class WY{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return!1}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z).catch((K)=>{console.error(K)});Z._didTextUpdate=!1,mK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}async _updateGpuText(Z){Z._didTextUpdate=!1;let J=this._getGpuText(Z);if(J.generatingTexture)return;let Q=J.texturePromise;J.texturePromise=null,J.generatingTexture=!0,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let q=this._renderer.htmlText.getTexturePromise(Z);if(Q)q=q.finally(()=>{this._renderer.htmlText.decreaseReferenceCount(J.currentKey),this._renderer.htmlText.returnTexturePromise(Q)});J.texturePromise=q,J.currentKey=Z.styleKey,J.texture=await q;let K=Z.renderGroup||Z.parentRenderGroup;if(K)K.structureDidChange=!0;J.generatingTexture=!1,mK(J,Z)}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new T_(this._renderer);return J.renderable=Z,J.transform=Z.groupTransform,J.texture=p.EMPTY,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var PP=F(()=>{g();p0();tB();kP();WY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"htmlText"}});function vP(){let{userAgent:Z}=K0.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(Z)}var fP=F(()=>{i0()});class sK{constructor(){this.svgRoot=document.createElementNS(yP,"svg"),this.foreignObject=document.createElementNS(yP,"foreignObject"),this.domElement=document.createElementNS(hP,"div"),this.styleElement=document.createElementNS(hP,"style");let{foreignObject:Z,svgRoot:J,styleElement:Q,domElement:q}=this;Z.setAttribute("width","10000"),Z.setAttribute("height","10000"),Z.style.overflow="hidden",J.appendChild(Z),Z.appendChild(Q),Z.appendChild(q),this.image=K0.get().createImage()}destroy(){this.svgRoot.remove(),this.foreignObject.remove(),this.styleElement.remove(),this.domElement.remove(),this.image.src="",this.image.remove(),this.svgRoot=null,this.foreignObject=null,this.styleElement=null,this.domElement=null,this.image=null,this.canvasAndContext=null}}var yP="http://www.w3.org/2000/svg",hP="http://www.w3.org/1999/xhtml";var S_=F(()=>{i0()});function xP(Z,J){let Q=J.fontFamily,q=[],K={},X=/font-family:([^;"\s]+)/g,z=Z.match(X);function Y(O){if(!K[O])q.push(O),K[O]=!0}if(Array.isArray(Q))for(let O=0;O<Q.length;O++)Y(Q[O]);else Y(Q);if(z)z.forEach((O)=>{let U=O.split(":")[1].trim();Y(U)});for(let O in J.tagStyles){let U=J.tagStyles[O].fontFamily;Y(U)}return q}var gP=()=>{};async function mP(Z){let Q=await(await K0.get().fetch(Z)).blob(),q=new FileReader;return await new Promise((X,z)=>{q.onloadend=()=>X(q.result),q.onerror=z,q.readAsDataURL(Q)})}var dP=F(()=>{i0()});async function cP(Z,J){let Q=await mP(J);return`@font-face {
        font-family: "${Z.fontFamily}";
        font-weight: ${Z.fontWeight};
        font-style: ${Z.fontStyle};
        src: url('${Q}');
    }`}var uP=F(()=>{dP()});async function lP(Z){let J=Z.filter((Q)=>v0.has(`${Q}-and-url`)).map((Q)=>{if(!b_.has(Q)){let{entries:q}=v0.get(`${Q}-and-url`),K=[];q.forEach((X)=>{let z=X.url,O=X.faces.map((U)=>({weight:U.weight,style:U.style}));K.push(...O.map((U)=>cP({fontWeight:U.weight,fontStyle:U.style,fontFamily:Q},z)))}),b_.set(Q,Promise.all(K).then((X)=>X.join(`
`)))}return b_.get(Q)});return(await Promise.all(J)).join(`
`)}var b_;var pP=F(()=>{W9();uP();b_=new Map});function iP(Z,J,Q,q,K){let{domElement:X,styleElement:z,svgRoot:Y}=K;X.innerHTML=`<style>${J.cssStyle}</style><div style='padding:0;'>${Z}</div>`,X.setAttribute("style",`transform: scale(${Q});transform-origin: top left; display: inline-block`),z.textContent=q;let{width:O,height:U}=K.image;return Y.setAttribute("width",O.toString()),Y.setAttribute("height",U.toString()),new XMLSerializer().serializeToString(Y)}var aP=()=>{};function sP(Z,J){let Q=_8.getOptimalCanvasAndContext(Z.width,Z.height,J),{context:q}=Q;return q.clearRect(0,0,Z.width,Z.height),q.drawImage(Z,0,0),Q}var nP=F(()=>{ZQ()});function oP(Z,J,Q){return new Promise(async(q)=>{if(Q)await new Promise((K)=>setTimeout(K,100));Z.onload=()=>{q()},Z.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(J)}`,Z.crossOrigin="anonymous"})}var tP=()=>{};function eP(Z,J,Q,q){q||(q=rP||(rP=new sK));let{domElement:K,styleElement:X,svgRoot:z}=q;if(K.innerHTML=`<style>${J.cssStyle};</style><div style='padding:0'>${Z}</div>`,K.setAttribute("style","transform-origin: top left; display: inline-block"),Q)X.textContent=Q;document.body.appendChild(z);let Y=K.getBoundingClientRect();z.remove();let O=J.padding*2;return{width:Y.width-O,height:Y.height-O}}var rP;var Zv=F(()=>{S_()});class GY{constructor(Z){this._activeTextures={},this._renderer=Z,this._createCanvas=Z.type===j1.WEBGPU}getTexture(Z){return this.getTexturePromise(Z)}getManagedTexture(Z){let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].promise;let Q=this._buildTexturePromise(Z).then((q)=>{return this._activeTextures[J].texture=q,q});return this._activeTextures[J]={texture:null,promise:Q,usageCount:1},Q}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??null}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(!J)return;if(J.usageCount--,J.usageCount===0){if(J.texture)this._cleanUp(J.texture);else J.promise.then((Q)=>{J.texture=Q,this._cleanUp(J.texture)}).catch(()=>{e("HTMLTextSystem: Failed to clean texture")});this._activeTextures[Z]=null}}getTexturePromise(Z){return this._buildTexturePromise(Z)}async _buildTexturePromise(Z){let{text:J,style:Q,resolution:q,textureStyle:K}=Z,X=Z1.get(sK),z=xP(J,Q),Y=await lP(z),O=eP(J,Q,Y,X),U=Math.ceil(Math.ceil(Math.max(1,O.width)+Q.padding*2)*q),A=Math.ceil(Math.ceil(Math.max(1,O.height)+Q.padding*2)*q),D=X.image,_=2;D.width=(U|0)+2,D.height=(A|0)+2;let W=iP(J,Q,q,Y,X);await oP(D,W,vP()&&z.length>0);let j=D,C;if(this._createCanvas)C=sP(D,q);let R=OY(C?C.canvas:j,D.width-2,D.height-2,q);if(K)R.source.style=K;if(this._createCanvas)this._renderer.texture.initSource(R.source),_8.returnCanvasAndContext(C);return Z1.return(X),R}returnTexturePromise(Z){Z.then((J)=>{this._cleanUp(J)}).catch(()=>{e("HTMLTextSystem: Failed to clean texture")})}_cleanUp(Z){n0.returnTexture(Z,!0),Z.source.resource=null,Z.source.uploadMethodId="unknown"}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexturePromise(this._activeTextures[Z].promise);this._activeTextures=null}}var Jv=F(()=>{g();ZQ();z4();_6();fP();l0();N4();D_();S_();gP();pP();aP();nP();tP();Zv();GY.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"htmlText"}});var k_=F(()=>{g();PP();Jv();Z0.add(GY);Z0.add(WY)});var Qv,QQ;var FY=F(()=>{F9();X7();xJ();M1();Qv=class Z extends x6{constructor(...J){let Q=J[0]??{};if(Q instanceof Float32Array)q0(Y0,"use new MeshGeometry({ positions, uvs, indices }) instead"),Q={positions:Q,uvs:J[1],indices:J[2]};Q={...Z.defaultOptions,...Q};let q=Q.positions||new Float32Array([0,0,1,0,1,1,0,1]),K=Q.uvs;if(!K)if(Q.positions)K=new Float32Array(q.length);else K=new Float32Array([0,0,1,0,1,1,0,1]);let X=Q.indices||new Uint32Array([0,1,2,0,2,3]),z=Q.shrinkBuffersToFit,Y=new h1({data:q,label:"attribute-mesh-positions",shrinkToFit:z,usage:w0.VERTEX|w0.COPY_DST}),O=new h1({data:K,label:"attribute-mesh-uvs",shrinkToFit:z,usage:w0.VERTEX|w0.COPY_DST}),U=new h1({data:X,label:"index-mesh-buffer",shrinkToFit:z,usage:w0.INDEX|w0.COPY_DST});super({attributes:{aPosition:{buffer:Y,format:"float32x2",stride:8,offset:0},aUV:{buffer:O,format:"float32x2",stride:8,offset:0}},indexBuffer:U,topology:Q.topology});this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(J){this.attributes.aPosition.buffer.data=J}get uvs(){return this.attributes.aUV.buffer.data}set uvs(J){this.attributes.aUV.buffer.data=J}get indices(){return this.indexBuffer.data}set indices(J){this.indexBuffer.data=J}};Qv.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};QQ=Qv});var iZ,qv,qQ;var KQ=F(()=>{iZ={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},qv={...iZ,vertex:{...iZ.vertex,header:iZ.vertex.header.replace("group(1)","group(2)")}},qQ={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}}});var Kv,Xv;var Nv=F(()=>{Kv={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},Xv={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}}});var P_,v_,f_;var zv=F(()=>{T0();w9();KQ();C9();g6();k5();p0();Nv();f_=class f_ extends k1{constructor(){P_??(P_=V4({name:"tiling-sprite-shader",bits:[iZ,Kv,U4]})),v_??(v_=O4({name:"tiling-sprite-shader",bits:[qQ,Xv,$4]}));let Z=new a0({uMapCoord:{value:new a,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new a,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,0.5,0.5]),type:"vec4<f32>"}});super({glProgram:v_,gpuProgram:P_,resources:{localUniforms:new a0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:Z,uTexture:p.EMPTY.source,uSampler:p.EMPTY.source.style}})}updateUniforms(Z,J,Q,q,K,X){let z=this.resources.tilingUniforms,Y=X.width,O=X.height,U=X.textureMatrix,A=z.uniforms.uTextureTransform;if(A.set(Q.a*Y/Z,Q.b*Y/J,Q.c*O/Z,Q.d*O/J,Q.tx/Z,Q.ty/J),A.invert(),z.uniforms.uMapCoord=U.mapCoord,z.uniforms.uClampFrame=U.uClampFrame,z.uniforms.uClampOffset=U.uClampOffset,z.uniforms.uTextureTransform=A,z.uniforms.uSizeAnchor[0]=Z,z.uniforms.uSizeAnchor[1]=J,z.uniforms.uSizeAnchor[2]=q,z.uniforms.uSizeAnchor[3]=K,X)this.resources.uTexture=X.source,this.resources.uSampler=X.source.style}}});var y_;var Hv=F(()=>{FY();y_=class y_ extends QQ{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}});function Yv(Z,J){let Q=Z.anchor.x,q=Z.anchor.y;J[0]=-Q*Z.width,J[1]=-q*Z.height,J[2]=(1-Q)*Z.width,J[3]=-q*Z.height,J[4]=(1-Q)*Z.width,J[5]=(1-q)*Z.height,J[6]=-Q*Z.width,J[7]=(1-q)*Z.height}var Vv=()=>{};function Ov(Z,J,Q,q){let K=0,X=Z.length/(J||2),z=q.a,Y=q.b,O=q.c,U=q.d,A=q.tx,D=q.ty;Q*=J;while(K<X){let _=Z[Q],W=Z[Q+1];Z[Q]=z*_+O*W+A,Z[Q+1]=Y*_+U*W+D,Q+=J,K++}}var Uv=()=>{};function $v(Z,J){let Q=Z.texture,q=Q.frame.width,K=Q.frame.height,X=0,z=0;if(Z.applyAnchorToTexture)X=Z.anchor.x,z=Z.anchor.y;J[0]=J[6]=-X,J[2]=J[4]=1-X,J[1]=J[3]=-z,J[5]=J[7]=1-z;let Y=a.shared;Y.copyFrom(Z._tileTransform.matrix),Y.tx/=Z.width,Y.ty/=Z.height,Y.invert(),Y.scale(Z.width/q,Z.height/K),Ov(J,2,0,Y)}var Av=F(()=>{T0();Uv()});class Dv{constructor(){this.canBatch=!0,this.geometry=new QQ({indices:jY.indices.slice(),positions:jY.positions.slice(),uvs:jY.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class wY{constructor(Z){this._state=x1.default2d,this._renderer=Z}validateRenderable(Z){let J=this._getTilingSpriteData(Z),Q=J.canBatch;this._updateCanBatch(Z);let q=J.canBatch;if(q&&q===Q){let{batchableMesh:K}=J;return!K._batcher.checkAndUpdateTexture(K,Z.texture)}return Q!==q}addRenderable(Z,J){let Q=this._renderer.renderPipes.batch;this._updateCanBatch(Z);let q=this._getTilingSpriteData(Z),{geometry:K,canBatch:X}=q;if(X){q.batchableMesh||(q.batchableMesh=new cZ);let z=q.batchableMesh;if(Z.didViewUpdate)this._updateBatchableMesh(Z),z.geometry=K,z.renderable=Z,z.transform=Z.groupTransform,z.setTexture(Z._texture);z.roundPixels=this._renderer._roundPixels|Z._roundPixels,Q.addToBatch(z,J)}else Q.break(J),q.shader||(q.shader=new f_),this.updateRenderable(Z),J.add(Z)}execute(Z){let{shader:J}=this._getTilingSpriteData(Z);J.groups[0]=this._renderer.globalUniforms.bindGroup;let Q=J.resources.localUniforms.uniforms;Q.uTransformMatrix=Z.groupTransform,Q.uRound=this._renderer._roundPixels|Z._roundPixels,A4(Z.groupColorAlpha,Q.uColor,0),this._state.blendMode=K7(Z.groupBlendMode,Z.texture._source),this._renderer.encoder.draw({geometry:jY,shader:J,state:this._state})}updateRenderable(Z){let J=this._getTilingSpriteData(Z),{canBatch:Q}=J;if(Q){let{batchableMesh:q}=J;if(Z.didViewUpdate)this._updateBatchableMesh(Z);q._batcher.updateElement(q)}else if(Z.didViewUpdate){let{shader:q}=J;q.updateUniforms(Z.width,Z.height,Z._tileTransform.matrix,Z.anchor.x,Z.anchor.y,Z.texture)}}_getTilingSpriteData(Z){return Z._gpuData[this._renderer.uid]||this._initTilingSpriteData(Z)}_initTilingSpriteData(Z){let J=new Dv;return J.renderable=Z,Z._gpuData[this._renderer.uid]=J,J}_updateBatchableMesh(Z){let J=this._getTilingSpriteData(Z),{geometry:Q}=J,q=Z.texture.source.style;if(q.addressMode!=="repeat")q.addressMode="repeat",q.update();$v(Z,Q.uvs),Yv(Z,Q.positions)}destroy(){this._renderer=null}_updateCanBatch(Z){let J=this._getTilingSpriteData(Z),Q=Z.texture,q=!0;if(this._renderer.type===j1.WEBGL)q=this._renderer.context.supports.nonPowOf2wrapping;return J.canBatch=Q.textureMatrix.isSimple&&(q||Q.source.isPowerOfTwo),J.canBatch}}var jY;var Bv=F(()=>{g();RK();m6();_6();oJ();oH();FY();zv();Hv();Vv();Av();jY=new y_;wY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"tilingSprite"}});var h_=F(()=>{g();Bv();Z0.add(wY)});var _v,Mv;var Wv=F(()=>{M1();FY();_v=class Z extends QQ{constructor(...J){super({});let Q=J[0]??{};if(typeof Q==="number")q0(Y0,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),Q={width:Q,height:J[1],verticesX:J[2],verticesY:J[3]};this.build(Q)}build(J){J={...Z.defaultOptions,...J},this.verticesX=this.verticesX??J.verticesX,this.verticesY=this.verticesY??J.verticesY,this.width=this.width??J.width,this.height=this.height??J.height;let Q=this.verticesX*this.verticesY,q=[],K=[],X=[],z=this.verticesX-1,Y=this.verticesY-1,O=this.width/z,U=this.height/Y;for(let D=0;D<Q;D++){let _=D%this.verticesX,W=D/this.verticesX|0;q.push(_*O,W*U),K.push(_/z,W/Y)}let A=z*Y;for(let D=0;D<A;D++){let _=D%z,W=D/z|0,j=W*this.verticesX+_,C=W*this.verticesX+_+1,R=(W+1)*this.verticesX+_,G=(W+1)*this.verticesX+_+1;X.push(j,C,R,C,G,R)}this.buffers[0].data=new Float32Array(q),this.buffers[1].data=new Float32Array(K),this.indexBuffer.data=new Uint32Array(X),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};_v.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};Mv=_v});var Gv,Fv;var jv=F(()=>{Wv();Gv=class Z extends Mv{constructor(J={}){J={...Z.defaultOptions,...J};super({width:J.width,height:J.height,verticesX:4,verticesY:4});this.update(J)}update(J){this.width=J.width??this.width,this.height=J.height??this.height,this._originalWidth=J.originalWidth??this._originalWidth,this._originalHeight=J.originalHeight??this._originalHeight,this._leftWidth=J.leftWidth??this._leftWidth,this._rightWidth=J.rightWidth??this._rightWidth,this._topHeight=J.topHeight??this._topHeight,this._bottomHeight=J.bottomHeight??this._bottomHeight,this._anchorX=J.anchor?.x,this._anchorY=J.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){let J=this.positions,{width:Q,height:q,_leftWidth:K,_rightWidth:X,_topHeight:z,_bottomHeight:Y,_anchorX:O,_anchorY:U}=this,A=K+X,D=Q>A?1:Q/A,_=z+Y,W=q>_?1:q/_,j=Math.min(D,W),C=O*Q,R=U*q;J[0]=J[8]=J[16]=J[24]=-C,J[2]=J[10]=J[18]=J[26]=K*j-C,J[4]=J[12]=J[20]=J[28]=Q-X*j-C,J[6]=J[14]=J[22]=J[30]=Q-C,J[1]=J[3]=J[5]=J[7]=-R,J[9]=J[11]=J[13]=J[15]=z*j-R,J[17]=J[19]=J[21]=J[23]=q-Y*j-R,J[25]=J[27]=J[29]=J[31]=q-R,this.getBuffer("aPosition").update()}updateUvs(){let J=this.uvs;J[0]=J[8]=J[16]=J[24]=0,J[1]=J[3]=J[5]=J[7]=0,J[6]=J[14]=J[22]=J[30]=1,J[25]=J[27]=J[29]=J[31]=1;let Q=1/this._originalWidth,q=1/this._originalHeight;J[2]=J[10]=J[18]=J[26]=Q*this._leftWidth,J[9]=J[11]=J[13]=J[15]=q*this._topHeight,J[4]=J[12]=J[20]=J[28]=1-Q*this._rightWidth,J[17]=J[19]=J[21]=J[23]=1-q*this._bottomHeight,this.getBuffer("aUV").update()}};Gv.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};Fv=Gv});class CY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.geometry.update(Z),J.setTexture(Z._texture)}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=Z._gpuData[this._renderer.uid]=new wv,Q=J;if(Q.renderable=Z,Q.transform=Z.groupTransform,Q.texture=Z._texture,Q.roundPixels=this._renderer._roundPixels|Z._roundPixels,!Z.didViewUpdate)this._updateBatchableSprite(Z,Q);return J}destroy(){this._renderer=null}}var wv;var Cv=F(()=>{g();oH();jv();wv=class wv extends cZ{constructor(){super();this.geometry=new Fv}destroy(){this.geometry.destroy()}};CY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"nineSliceSprite"}});var x_=F(()=>{g();Cv();Z0.add(CY)});class LY{constructor(Z){this._renderer=Z}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:J,filterEffect:Z})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(Z){if(Z.action==="pushFilter")this._renderer.filter.push(Z);else if(Z.action==="popFilter")this._renderer.filter.pop()}destroy(){this._renderer=null}}var Lv=F(()=>{g();LY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"filter"}});var Rv,W1;var aZ=F(()=>{Y4();z7();g6();m6();Rv=class Z extends k1{constructor(J){J={...Z.defaultOptions,...J};super(J);if(this.enabled=!0,this._state=x1.for2d(),this.blendMode=J.blendMode,this.padding=J.padding,typeof J.antialias==="boolean")this.antialias=J.antialias?"on":"off";else this.antialias=J.antialias;this.resolution=J.resolution,this.blendRequired=J.blendRequired,this.clipToViewport=J.clipToViewport,this.addResource("uTexture",0,1)}apply(J,Q,q,K){J.applyFilter(this,Q,q,K)}get blendMode(){return this._state.blendMode}set blendMode(J){this._state.blendMode=J}static from(J){let{gpu:Q,gl:q,...K}=J,X,z;if(Q)X=O5.from(Q);if(q)z=V5.from(q);return new Z({gpuProgram:X,glProgram:z,...K})}};Rv.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};W1=Rv});var RY=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;var g_=()=>{};var Ev=`in vec2 vTextureCoord;
out vec4 finalColor;
uniform sampler2D uTexture;
void main() {
    finalColor = texture(uTexture, vTextureCoord);
}
`;var Iv=()=>{};var m_=`struct GlobalFilterUniforms {
  uInputSize: vec4<f32>,
  uInputPixel: vec4<f32>,
  uInputClamp: vec4<f32>,
  uOutputFrame: vec4<f32>,
  uGlobalFrame: vec4<f32>,
  uOutputTexture: vec4<f32>,
};

@group(0) @binding(0) var <uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler: sampler;

struct VSOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) uv: vec2<f32>
};

fn filterVertexPosition(aPosition: vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0 * gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord(aPosition: vec2<f32>) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition: vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {
    return textureSample(uTexture, uSampler, uv);
}
`;var Tv=()=>{};var d_;var Sv=F(()=>{Y4();z7();aZ();g_();Iv();Tv();d_=class d_ extends W1{constructor(){let Z=O5.from({vertex:{source:m_,entryPoint:"mainVertex"},fragment:{source:m_,entryPoint:"mainFragment"},name:"passthrough-filter"}),J=V5.from({vertex:RY,fragment:Ev,name:"passthrough-filter"});super({gpuProgram:Z,glProgram:J})}}});function kv(Z,J){J.clear();let Q=J.matrix;for(let q=0;q<Z.length;q++){let K=Z[q];if(K.globalDisplayStatus<7)continue;let X=K.renderGroup??K.parentRenderGroup;if(X?.isCachedAsTexture)J.matrix=bv.copyFrom(X.textureOffsetInverseTransform).append(K.worldTransform);else if(X?._parentCacheAsTextureRenderGroup)J.matrix=bv.copyFrom(X._parentCacheAsTextureRenderGroup.inverseWorldTransform).append(K.groupTransform);else J.matrix=K.worldTransform;J.addBounds(K.bounds)}return J.matrix=Q,J}var bv;var Pv=F(()=>{T0();bv=new a});class vv{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new J1,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0},this.firstEnabledIndex=-1,this.lastEnabledIndex=-1}}class EY{constructor(Z){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new a0({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new w5({}),this.renderer=Z}get activeBackTexture(){return this._activeFilterData?.backTexture}push(Z){let J=this.renderer,Q=Z.filterEffect.filters,q=this._pushFilterData();q.skip=!1,q.filters=Q,q.container=Z.container,q.outputRenderSurface=J.renderTarget.renderSurface;let K=J.renderTarget.renderTarget.colorTexture.source,X=K.resolution,z=K.antialias;if(Q.every((_)=>!_.enabled)){q.skip=!0;return}let Y=q.bounds;if(this._calculateFilterArea(Z,Y),this._calculateFilterBounds(q,J.renderTarget.rootViewPort,z,X,1),q.skip)return;let O=this._getPreviousFilterData(),U=this._findFilterResolution(X),A=0,D=0;if(O)A=O.bounds.minX,D=O.bounds.minY;this._calculateGlobalFrame(q,A,D,U,K.width,K.height),this._setupFilterTextures(q,Y,J,O)}generateFilteredTexture({texture:Z,filters:J}){let Q=this._pushFilterData();this._activeFilterData=Q,Q.skip=!1,Q.filters=J;let q=Z.source,K=q.resolution,X=q.antialias;if(J.every((_)=>!_.enabled))return Q.skip=!0,Z;let z=Q.bounds;if(z.addRect(Z.frame),this._calculateFilterBounds(Q,z.rectangle,X,K,0),Q.skip)return Z;let Y=K,O=0,U=0;this._calculateGlobalFrame(Q,O,U,Y,q.width,q.height),Q.outputRenderSurface=n0.getOptimalTexture(z.width,z.height,Q.resolution,Q.antialias),Q.backTexture=p.EMPTY,Q.inputTexture=Z,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(Q,!0);let D=Q.outputRenderSurface;return D.source.alphaMode="premultiplied-alpha",D}pop(){let Z=this.renderer,J=this._popFilterData();if(J.skip)return;if(Z.globalUniforms.pop(),Z.renderTarget.finishRenderPass(),this._activeFilterData=J,this._applyFiltersToTexture(J,!1),J.blendRequired)n0.returnTexture(J.backTexture);n0.returnTexture(J.inputTexture)}getBackTexture(Z,J,Q){let q=Z.colorTexture.source._resolution,K=n0.getOptimalTexture(J.width,J.height,q,!1),X=J.minX,z=J.minY;if(Q)X-=Q.minX,z-=Q.minY;X=Math.floor(X*q),z=Math.floor(z*q);let Y=Math.ceil(J.width*q),O=Math.ceil(J.height*q);return this.renderer.renderTarget.copyToTexture(Z,K,{x:X,y:z},{width:Y,height:O},{x:0,y:0}),K}applyFilter(Z,J,Q,q){let K=this.renderer,X=this._activeFilterData,Y=X.outputRenderSurface===Q,O=K.renderTarget.rootRenderTarget.colorTexture.source._resolution,U=this._findFilterResolution(O),A=0,D=0;if(Y){let W=this._findPreviousFilterOffset();A=W.x,D=W.y}this._updateFilterUniforms(J,Q,X,A,D,U,Y,q);let _=Z.enabled?Z:this._getPassthroughFilter();this._setupBindGroupsAndRender(_,J,K)}calculateSpriteMatrix(Z,J){let Q=this._activeFilterData,q=Z.set(Q.inputTexture._source.width,0,0,Q.inputTexture._source.height,Q.bounds.minX,Q.bounds.minY),K=J.worldTransform.copyTo(a.shared),X=J.renderGroup||J.parentRenderGroup;if(X&&X.cacheToLocalTransform)K.prepend(X.cacheToLocalTransform);return K.invert(),q.prepend(K),q.scale(1/J.texture.orig.width,1/J.texture.orig.height),q.translate(J.anchor.x,J.anchor.y),q}destroy(){this._passthroughFilter?.destroy(!0),this._passthroughFilter=null}_getPassthroughFilter(){return this._passthroughFilter??(this._passthroughFilter=new d_),this._passthroughFilter}_setupBindGroupsAndRender(Z,J,Q){if(Q.renderPipes.uniformBatch){let q=Q.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(q,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);if(this._globalFilterBindGroup.setResource(J.source,1),this._globalFilterBindGroup.setResource(J.source.style,2),Z.groups[0]=this._globalFilterBindGroup,Q.encoder.draw({geometry:_a,shader:Z,state:Z._state,topology:"triangle-list"}),Q.type===j1.WEBGL)Q.renderTarget.finishRenderPass()}_setupFilterTextures(Z,J,Q,q){if(Z.backTexture=p.EMPTY,Z.inputTexture=n0.getOptimalTexture(J.width,J.height,Z.resolution,Z.antialias),Z.blendRequired){Q.renderTarget.finishRenderPass();let K=Q.renderTarget.getRenderTarget(Z.outputRenderSurface);Z.backTexture=this.getBackTexture(K,J,q?.bounds)}Q.renderTarget.bind(Z.inputTexture,!0),Q.globalUniforms.push({offset:J})}_calculateGlobalFrame(Z,J,Q,q,K,X){let z=Z.globalFrame;z.x=J*q,z.y=Q*q,z.width=K*q,z.height=X*q}_updateFilterUniforms(Z,J,Q,q,K,X,z,Y){let O=this._filterGlobalUniforms.uniforms,U=O.uOutputFrame,A=O.uInputSize,D=O.uInputPixel,_=O.uInputClamp,W=O.uGlobalFrame,j=O.uOutputTexture;if(z)U[0]=Q.bounds.minX-q,U[1]=Q.bounds.minY-K;else U[0]=0,U[1]=0;U[2]=Z.frame.width,U[3]=Z.frame.height,A[0]=Z.source.width,A[1]=Z.source.height,A[2]=1/A[0],A[3]=1/A[1],D[0]=Z.source.pixelWidth,D[1]=Z.source.pixelHeight,D[2]=1/D[0],D[3]=1/D[1],_[0]=0.5*D[2],_[1]=0.5*D[3],_[2]=Z.frame.width*A[2]-0.5*D[2],_[3]=Z.frame.height*A[3]-0.5*D[3];let C=this.renderer.renderTarget.rootRenderTarget.colorTexture;if(W[0]=q*X,W[1]=K*X,W[2]=C.source.width*X,W[3]=C.source.height*X,J instanceof p)J.source.resource=null;let R=this.renderer.renderTarget.getRenderTarget(J);if(this.renderer.renderTarget.bind(J,!!Y),J instanceof p)j[0]=J.frame.width,j[1]=J.frame.height;else j[0]=R.width,j[1]=R.height;j[2]=R.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(Z){let J=this._filterStackIndex-1;while(J>0&&this._filterStack[J].skip)--J;return J>0&&this._filterStack[J].inputTexture?this._filterStack[J].inputTexture.source._resolution:Z}_findPreviousFilterOffset(){let Z=0,J=0,Q=this._filterStackIndex;while(Q>0){Q--;let q=this._filterStack[Q];if(!q.skip){Z=q.bounds.minX,J=q.bounds.minY;break}}return{x:Z,y:J}}_calculateFilterArea(Z,J){if(Z.renderables)kv(Z.renderables,J);else if(Z.filterEffect.filterArea)J.clear(),J.addRect(Z.filterEffect.filterArea),J.applyMatrix(Z.container.worldTransform);else Z.container.getFastGlobalBounds(!0,J);if(Z.container){let q=(Z.container.renderGroup||Z.container.parentRenderGroup).cacheToLocalTransform;if(q)J.applyMatrix(q)}}_applyFiltersToTexture(Z,J){let{inputTexture:Q,bounds:q,filters:K,firstEnabledIndex:X,lastEnabledIndex:z}=Z;if(this._globalFilterBindGroup.setResource(Q.source.style,2),this._globalFilterBindGroup.setResource(Z.backTexture.source,3),X===z)K[X].apply(this,Q,Z.outputRenderSurface,J);else{let Y=Z.inputTexture,O=n0.getOptimalTexture(q.width,q.height,Y.source._resolution,!1),U=O;for(let A=X;A<z;A++){let D=K[A];if(!D.enabled)continue;D.apply(this,Y,U,!0);let _=Y;Y=U,U=_}K[z].apply(this,Y,Z.outputRenderSurface,J),n0.returnTexture(O)}}_calculateFilterBounds(Z,J,Q,q,K){let X=this.renderer,z=Z.bounds,Y=Z.filters,O=1/0,U=0,A=!0,D=!1,_=!1,W=!0,j=-1,C=-1;for(let R=0;R<Y.length;R++){let G=Y[R];if(!G.enabled)continue;if(j===-1)j=R;if(C=R,O=Math.min(O,G.resolution==="inherit"?q:G.resolution),U+=G.padding,G.antialias==="off")A=!1;else if(G.antialias==="inherit")A&&(A=Q);if(!G.clipToViewport)W=!1;if(!(G.compatibleRenderers&X.type)){_=!1;break}if(G.blendRequired&&!(X.backBuffer?.useBackBuffer??!0)){e("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),_=!1;break}_=!0,D||(D=G.blendRequired)}if(!_){Z.skip=!0;return}if(W)z.fitBounds(0,J.width/q,0,J.height/q);if(z.scale(O).ceil().scale(1/O).pad((U|0)*K),!z.isPositive){Z.skip=!0;return}Z.antialias=A,Z.resolution=O,Z.blendRequired=D,Z.firstEnabledIndex=j,Z.lastEnabledIndex=C}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let Z,J=this._filterStackIndex-1;while(J>0)if(J--,Z=this._filterStack[J],!Z.skip)break;return Z}_pushFilterData(){let Z=this._filterStack[this._filterStackIndex];if(!Z)Z=this._filterStack[this._filterStackIndex]=new vv;return this._filterStackIndex++,Z}}var _a;var fv=F(()=>{g();Sv();T0();G9();xJ();k5();p0();z4();_6();O8();Pv();l0();_a=new x6({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});EY.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"filter"}});var c_=F(()=>{g();Lv();fv();Z0.add(EY);Z0.add(LY)});var Ma={};var yv=F(()=>{CT();iD();bT();PT();wH();PH();mB();cB();oB();W_();I_();k_();h_();x_();c_()});var Wa={};var xv=F(()=>{iD();wH();PH();mB();cB();oB();W_();I_();k_();h_();x_();c_()});async function mv(Z){if(Z)return;for(let J=0;J<u_.length;J++){let Q=u_[J];if(Q.value.test()){await Q.value.load();return}}}var u_;var dv=F(()=>{g();u_=[];Z0.handleByNamedList(T.Environment,u_)});function IY(){if(typeof nK==="boolean")return nK;try{nK=Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(Z){nK=!1}return nK}var nK;var l_=()=>{};var U5;var XQ=F(()=>{U5=((Z)=>{return Z[Z.NONE=0]="NONE",Z[Z.COLOR=16384]="COLOR",Z[Z.STENCIL=1024]="STENCIL",Z[Z.DEPTH=256]="DEPTH",Z[Z.COLOR_DEPTH=16640]="COLOR_DEPTH",Z[Z.COLOR_STENCIL=17408]="COLOR_STENCIL",Z[Z.DEPTH_STENCIL=1280]="DEPTH_STENCIL",Z[Z.ALL=17664]="ALL",Z})(U5||{})});class oK{constructor(Z){this.items=[],this._name=Z}emit(Z,J,Q,q,K,X,z,Y){let{name:O,items:U}=this;for(let A=0,D=U.length;A<D;A++)U[A][O](Z,J,Q,q,K,X,z,Y);return this}add(Z){if(Z[this._name])this.remove(Z),this.items.push(Z);return this}remove(Z){let J=this.items.indexOf(Z);if(J!==-1)this.items.splice(J,1);return this}contains(Z){return this.items.indexOf(Z)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}var p_=()=>{};var Ga,cv,R9;var tK=F(()=>{b5();dv();v6();l_();t1();M1();EZ();XQ();p_();F5();Ga=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],cv=class Z extends e0{constructor(J){super();this.uid=M0("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=J.type,this.name=J.name,this.config=J;let Q=[...Ga,...this.config.runners??[]];this._addRunners(...Q),this._unsafeEvalCheck()}async init(J={}){let Q=J.skipExtensionImports===!0?!0:J.manageImports===!1;await mv(Q),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(let q in this._systemsHash)J={...this._systemsHash[q].constructor.defaultOptions,...J};J={...Z.defaultOptions,...J},this._roundPixels=J.roundPixels?1:0;for(let q=0;q<this.runners.init.items.length;q++)await this.runners.init.items[q].init(J);this._initOptions=J}render(J,Q){let q=J;if(q instanceof P0){if(q={container:q},Q)q0(Y0,"passing a second argument is deprecated, please use render options instead"),q.target=Q.renderTexture}if(q.target||(q.target=this.view.renderTarget),q.target===this.view.renderTarget)this._lastObjectRendered=q.container,q.clearColor??(q.clearColor=this.background.colorRgba),q.clear??(q.clear=this.background.clearBeforeRender);if(q.clearColor){let K=Array.isArray(q.clearColor)&&q.clearColor.length===4;q.clearColor=K?q.clearColor:j0.shared.setValue(q.clearColor).toArray()}if(!q.transform)q.container.updateLocalTransform(),q.transform=q.container.localTransform;if(!q.container.visible)return;q.container.enableRenderGroup(),this.runners.prerender.emit(q),this.runners.renderStart.emit(q),this.runners.render.emit(q),this.runners.renderEnd.emit(q),this.runners.postrender.emit(q)}resize(J,Q,q){let K=this.view.resolution;if(this.view.resize(J,Q,q),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),q!==void 0&&q!==K)this.runners.resolutionChange.emit(q)}clear(J={}){let Q=this;J.target||(J.target=Q.renderTarget.renderTarget),J.clearColor||(J.clearColor=this.background.colorRgba),J.clear??(J.clear=U5.ALL);let{clear:q,clearColor:K,target:X}=J;j0.shared.setValue(K??this.background.colorRgba),Q.renderTarget.clear(X,q,j0.shared.toArray())}get resolution(){return this.view.resolution}set resolution(J){this.view.resolution=J,this.runners.resolutionChange.emit(J)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...J){J.forEach((Q)=>{this.runners[Q]=new oK(Q)})}_addSystems(J){let Q;for(Q in J){let q=J[Q];this._addSystem(q.value,q.name)}}_addSystem(J,Q){let q=new J(this);if(this[Q])throw Error(`Whoops! The name "${Q}" is already in use`);this[Q]=q,this._systemsHash[Q]=q;for(let K in this.runners)this.runners[K].add(q);return this}_addPipes(J,Q){let q=Q.reduce((K,X)=>{return K[X.name]=X.value,K},{});J.forEach((K)=>{let{value:X,name:z}=K,Y=q[z];this.renderPipes[z]=new X(this,Y?new Y:null),this.runners.destroy.add(this.renderPipes[z])})}destroy(J=!1){if(this.runners.destroy.items.reverse(),this.runners.destroy.emit(J),Object.values(this.runners).forEach((Q)=>{Q.destroy()}),J===!0||typeof J==="object"&&J.releaseGlobalResources)D6.release();this._systemsHash=null,this.renderPipes=null}generateTexture(J){return this.textureGenerator.generateTexture(J)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!IY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};cv.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};R9=cv});class bY{constructor(){this._maxTextures=0}contextChange(Z){let J=new a0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=Z.limits.maxBatchableTextures;let Q=V4({name:"graphics",bits:[mJ,cJ(this._maxTextures),qv,U4]});this.shader=new k1({gpuProgram:Q,resources:{localUniforms:J}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:z,instructions:Y}=X.getContextRenderData(Q),O=K.encoder;O.setGeometry(z.geometry,q.gpuProgram);let U=K.globalUniforms.bindGroup;O.setBindGroup(0,U,q.gpuProgram);let A=K.renderPipes.uniformBatch.getUniformBindGroup(q.resources.localUniforms,!0);O.setBindGroup(2,A,q.gpuProgram);let D=Y.instructions,_=null;for(let W=0;W<Y.instructionSize;W++){let j=D[W];if(j.topology!==_)_=j.topology,O.setPipelineFromGeometryProgramAndState(z.geometry,q.gpuProgram,Z.state,j.topology);if(q.groups[1]=j.bindGroup,!j.gpuBindGroup){let C=j.textures;j.bindGroup=yJ(C.textures,C.count,this._maxTextures),j.gpuBindGroup=K.bindGroup.getBindGroup(j.bindGroup,q.gpuProgram,1)}O.setBindGroup(1,j.bindGroup,q.gpuProgram),O.renderPassEncoder.drawIndexed(j.size,1,j.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}var pv=F(()=>{g();T0();vH();w9();kK();PK();KQ();C9();g6();k5();bY.extension={type:[T.WebGPUPipesAdaptor],name:"graphics"}});var iv,av;var i_=F(()=>{iv={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},av={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}}});class kY{init(){let Z=V4({name:"mesh",bits:[iZ,iv,U4]});this._shader=new k1({gpuProgram:Z,resources:{uTexture:p.EMPTY._source,uSampler:p.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q)q=this._shader,q.groups[2]=Q.texture.getTextureBindGroup(J.texture);else if(!q.gpuProgram){e("Mesh shader has no gpuProgram",J.shader);return}let K=q.gpuProgram;if(K.autoAssignGlobalUniforms)q.groups[0]=Q.globalUniforms.bindGroup;if(K.autoAssignLocalUniforms){let X=Z.localUniforms;q.groups[1]=Q.renderPipes.uniformBatch.getUniformBindGroup(X,!0)}Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var sv=F(()=>{g();T0();w9();KQ();C9();i_();g6();p0();l0();kY.extension={type:[T.WebGPUPipesAdaptor],name:"mesh"}});class vY{start(Z,J,Q){let q=Z.renderer,K=q.encoder,X=Q.gpuProgram;this._shader=Q,this._geometry=J,K.setGeometry(J,X),PY.blendMode="normal",q.pipeline.getPipeline(J,X,PY);let z=q.globalUniforms.bindGroup;K.resetBindGroup(1),K.setBindGroup(0,z,X)}execute(Z,J){let Q=this._shader.gpuProgram,q=Z.renderer,K=q.encoder;if(!J.bindGroup){let Y=J.textures;J.bindGroup=yJ(Y.textures,Y.count,q.limits.maxBatchableTextures)}PY.blendMode=J.blendMode;let X=q.bindGroup.getBindGroup(J.bindGroup,Q,1),z=q.pipeline.getPipeline(this._geometry,Q,PY,J.topology);J.bindGroup._touch(q.textureGC.count),K.setPipeline(z),K.renderPassEncoder.setBindGroup(1,X),K.renderPassEncoder.drawIndexed(J.size,1,J.start)}}var PY;var nv=F(()=>{g();m6();vH();PY=x1.for2d();vY.extension={type:[T.WebGPUPipesAdaptor],name:"batch"}});class fY{constructor(Z){this._renderer=Z}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(Z,J){this._renderer.renderPipes.batch.break(J),J.add(Z)}execute(Z){if(!Z.isRenderable)return;Z.render(this._renderer)}destroy(){this._renderer=null}}var ov=F(()=>{g();fY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"customRender"}});function rK(Z,J){let Q=Z.instructionSet,q=Q.instructions;for(let K=0;K<Q.instructionSize;K++){let X=q[K];J[X.renderPipeId].execute(X)}}var a_=()=>{};class yY{constructor(Z){this._renderer=Z}addRenderGroup(Z,J){if(Z.isCachedAsTexture)this._addRenderableCacheAsTexture(Z,J);else this._addRenderableDirect(Z,J)}execute(Z){if(!Z.isRenderable)return;if(Z.isCachedAsTexture)this._executeCacheAsTexture(Z);else this._executeDirect(Z)}destroy(){this._renderer=null}_addRenderableDirect(Z,J){if(this._renderer.renderPipes.batch.break(J),Z._batchableRenderGroup)Z1.return(Z._batchableRenderGroup),Z._batchableRenderGroup=null;J.add(Z)}_addRenderableCacheAsTexture(Z,J){let Q=Z._batchableRenderGroup??(Z._batchableRenderGroup=Z1.get(H7));Q.renderable=Z.root,Q.transform=Z.root.relativeGroupTransform,Q.texture=Z.texture,Q.bounds=Z._textureBounds,J.add(Z),this._renderer.renderPipes.blendMode.pushBlendMode(Z,Z.root.groupBlendMode,J),this._renderer.renderPipes.batch.addToBatch(Q,J),this._renderer.renderPipes.blendMode.popBlendMode(J)}_executeCacheAsTexture(Z){if(Z.textureNeedsUpdate){Z.textureNeedsUpdate=!1;let J=Fa.identity().translate(-Z._textureBounds.x,-Z._textureBounds.y);this._renderer.renderTarget.push(Z.texture,!0,null,Z.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:J,worldColor:4294967295,offset:{x:0,y:0}}),rK(Z,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}Z._batchableRenderGroup._batcher.updateElement(Z._batchableRenderGroup),Z._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(Z){this._renderer.globalUniforms.push({worldTransformMatrix:Z.inverseParentTextureTransform,worldColor:Z.worldColorAlpha}),rK(Z,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}var Fa;var tv=F(()=>{g();T0();N4();dK();a_();Fa=new a;yY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"renderGroup"}});function eK(Z,J){J||(J=0);for(let Q=J;Q<Z.length;Q++)if(Z[Q])Z[Q]=null;else break}var s_=()=>{};function n_(Z,J=!1){wa(Z);let Q=Z.childrenToUpdate,q=Z.updateTick++;for(let K in Q){let X=Number(K),z=Q[K],Y=z.list,O=z.index;for(let U=0;U<O;U++){let A=Y[U];if(A.parentRenderGroup===Z&&A.relativeRenderGroupDepth===X)Zf(A,q,0)}eK(Y,O),z.index=0}if(J)for(let K=0;K<Z.renderGroupChildren.length;K++)n_(Z.renderGroupChildren[K],J)}function wa(Z){let J=Z.root,Q;if(Z.renderGroupParent){let q=Z.renderGroupParent;Z.worldTransform.appendFrom(J.relativeGroupTransform,q.worldTransform),Z.worldColor=RJ(J.groupColor,q.worldColor),Q=J.groupAlpha*q.worldAlpha}else Z.worldTransform.copyFrom(J.localTransform),Z.worldColor=J.localColor,Q=J.localAlpha;Q=Q<0?0:Q>1?1:Q,Z.worldAlpha=Q,Z.worldColorAlpha=Z.worldColor+((Q*255|0)<<24)}function Zf(Z,J,Q){if(J===Z.updateTick)return;Z.updateTick=J,Z.didChange=!1;let q=Z.localTransform;Z.updateLocalTransform();let K=Z.parent;if(K&&!K.renderGroup){if(Q|=Z._updateFlags,Z.relativeGroupTransform.appendFrom(q,K.relativeGroupTransform),Q&rv)ev(Z,K,Q)}else if(Q=Z._updateFlags,Z.relativeGroupTransform.copyFrom(q),Q&rv)ev(Z,ja,Q);if(!Z.renderGroup){let X=Z.children,z=X.length;for(let U=0;U<z;U++)Zf(X[U],J,Q);let Y=Z.parentRenderGroup,O=Z;if(O.renderPipeId&&!Y.structureDidChange)Y.updateRenderable(O)}}function ev(Z,J,Q){if(Q&SJ){Z.groupColor=RJ(Z.localColor,J.groupColor);let q=Z.localAlpha*J.groupAlpha;q=q<0?0:q>1?1:q,Z.groupAlpha=q,Z.groupColorAlpha=Z.groupColor+((q*255|0)<<24)}if(Q&DK)Z.groupBlendMode=Z.localBlendMode==="inherit"?J.groupBlendMode:Z.localBlendMode;if(Q&vZ)Z.globalDisplayStatus=Z.localDisplayStatus&J.globalDisplayStatus;Z._updateFlags=0}var ja,rv;var Jf=F(()=>{v6();s_();ID();ja=new P0,rv=vZ|SJ|DK});function Qf(Z,J){let{list:Q}=Z.childrenRenderablesToUpdate,q=!1;for(let K=0;K<Z.childrenRenderablesToUpdate.index;K++){let X=Q[K];if(q=J[X.renderPipeId].validateRenderable(X),q)break}return Z.structureDidChange=q,q}var qf=()=>{};class hY{constructor(Z){this._renderer=Z}render({container:Z,transform:J}){let Q=Z.parent,q=Z.renderGroup.renderGroupParent;Z.parent=null,Z.renderGroup.renderGroupParent=null;let K=this._renderer,X=Ca;if(J)X.copyFrom(Z.renderGroup.localTransform),Z.renderGroup.localTransform.copyFrom(J);let z=K.renderPipes;if(this._updateCachedRenderGroups(Z.renderGroup,null),this._updateRenderGroups(Z.renderGroup),K.globalUniforms.start({worldTransformMatrix:J?Z.renderGroup.localTransform:Z.renderGroup.worldTransform,worldColor:Z.renderGroup.worldColorAlpha}),rK(Z.renderGroup,z),z.uniformBatch)z.uniformBatch.renderEnd();if(J)Z.renderGroup.localTransform.copyFrom(X);Z.parent=Q,Z.renderGroup.renderGroupParent=q}destroy(){this._renderer=null}_updateCachedRenderGroups(Z,J){if(Z._parentCacheAsTextureRenderGroup=J,Z.isCachedAsTexture){if(!Z.textureNeedsUpdate)return;J=Z}for(let Q=Z.renderGroupChildren.length-1;Q>=0;Q--)this._updateCachedRenderGroups(Z.renderGroupChildren[Q],J);if(Z.invalidateMatrices(),Z.isCachedAsTexture){if(Z.textureNeedsUpdate){let Q=Z.root.getLocalBounds();Q.ceil();let q=Z.texture;if(Z.texture)n0.returnTexture(Z.texture,!0);let K=this._renderer,X=Z.textureOptions.resolution||K.view.resolution,z=Z.textureOptions.antialias??K.view.antialias,Y=Z.textureOptions.scaleMode??"linear",O=n0.getOptimalTexture(Q.width,Q.height,X,z);if(O._source.style=new U8({scaleMode:Y}),Z.texture=O,Z._textureBounds||(Z._textureBounds=new J1),Z._textureBounds.copyFrom(Q),q!==Z.texture){if(Z.renderGroupParent)Z.renderGroupParent.structureDidChange=!0}}}else if(Z.texture)n0.returnTexture(Z.texture,!0),Z.texture=null}_updateRenderGroups(Z){let J=this._renderer,Q=J.renderPipes;if(Z.runOnRender(J),Z.instructionSet.renderPipes=Q,!Z.structureDidChange)Qf(Z,Q);else eK(Z.childrenRenderablesToUpdate.list,0);if(n_(Z),Z.structureDidChange)Z.structureDidChange=!1,this._buildInstructions(Z,J);else this._updateRenderables(Z);if(Z.childrenRenderablesToUpdate.index=0,J.renderPipes.batch.upload(Z.instructionSet),Z.isCachedAsTexture&&!Z.textureNeedsUpdate)return;for(let q=0;q<Z.renderGroupChildren.length;q++)this._updateRenderGroups(Z.renderGroupChildren[q])}_updateRenderables(Z){let{list:J,index:Q}=Z.childrenRenderablesToUpdate;for(let q=0;q<Q;q++){let K=J[q];if(K.didViewUpdate)Z.updateRenderable(K)}eK(J,Q)}_buildInstructions(Z,J){let{root:Q,instructionSet:q}=Z;q.reset();let K=J.renderPipes?J:J.batch.renderer,X=K.renderPipes;if(X.batch.buildStart(q),X.blendMode.buildStart(),X.colorMask.buildStart(),Q.sortableChildren)Q.sortChildren();Q.collectRenderablesWithEffects(q,K,null),X.batch.buildEnd(q),X.blendMode.buildEnd(q)}}var Ca;var Kf=F(()=>{g();T0();z4();TZ();O8();s_();a_();Jf();qf();Ca=new a;hY.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"renderGroup"}});class xY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.bounds=Z.visualBounds,J.texture=Z._texture}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=new H7;return J.renderable=Z,J.transform=Z.groupTransform,J.texture=Z._texture,J.bounds=Z.visualBounds,J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var Xf=F(()=>{g();dK();xY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"sprite"}});var NQ="8.14.0";var o_=F(()=>{F5()});class gY{static init(){globalThis.__PIXI_APP_INIT__?.(this,NQ)}static destroy(){}}class mY{constructor(Z){this._renderer=Z}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,NQ)}destroy(){this._renderer=null}}var t_=F(()=>{g();o_();gY.extension=T.Application;mY.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"initHook",priority:-10}});var r_=class Z{constructor(J,Q){this.state=x1.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=J,this._adaptor=Q,this._adaptor.init?.(this)}static getBatcher(J){return new this._availableBatchers[J]}buildStart(J){let Q=this._batchersByInstructionSet[J.uid];if(!Q)Q=this._batchersByInstructionSet[J.uid]=Object.create(null),Q.default||(Q.default=new vK({maxTextures:this.renderer.limits.maxBatchableTextures}));this._activeBatches=Q,this._activeBatch=this._activeBatches.default;for(let q in this._activeBatches)this._activeBatches[q].begin()}addToBatch(J,Q){if(this._activeBatch.name!==J.batcherName){this._activeBatch.break(Q);let q=this._activeBatches[J.batcherName];if(!q)q=this._activeBatches[J.batcherName]=Z.getBatcher(J.batcherName),q.begin();this._activeBatch=q}this._activeBatch.add(J)}break(J){this._activeBatch.break(J)}buildEnd(J){this._activeBatch.break(J);let Q=this._activeBatches;for(let q in Q){let K=Q[q],X=K.geometry;X.indexBuffer.setDataWithSize(K.indexBuffer,K.indexSize,!0),X.buffers[0].setDataWithSize(K.attributeBuffer.float32View,K.attributeSize,!1)}}upload(J){let Q=this._batchersByInstructionSet[J.uid];for(let q in Q){let K=Q[q],X=K.geometry;if(K.dirty)K.dirty=!1,X.buffers[0].update(K.attributeSize*4)}}execute(J){if(J.action==="startBatch"){let Q=J.batcher,q=Q.geometry,K=Q.shader;this._adaptor.start(this,q,K)}this._adaptor.execute(this,J)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(let J in this._activeBatches)this._activeBatches[J].destroy();this._activeBatches=null}},e_;var Nf=F(()=>{g();m6();TB();r_.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"batch"};r_._availableBatchers=Object.create(null);e_=r_;Z0.handleByMap(T.Batcher,e_._availableBatchers);Z0.add(vK)});var zf=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`;var Hf=()=>{};var Yf=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`;var Vf=()=>{};var ZM=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;var Of=()=>{};var JM;var Uf=F(()=>{T0();Y4();z7();k5();hD();aZ();Hf();Vf();Of();JM=class JM extends W1{constructor(Z){let{sprite:J,...Q}=Z,q=new AK(J.texture),K=new a0({uFilterMatrix:{value:new a,type:"mat3x3<f32>"},uMaskClamp:{value:q.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:Z.inverse?1:0,type:"f32"}}),X=O5.from({vertex:{source:ZM,entryPoint:"mainVertex"},fragment:{source:ZM,entryPoint:"mainFragment"}}),z=V5.from({vertex:Yf,fragment:zf,name:"mask-filter"});super({...Q,gpuProgram:X,glProgram:z,clipToViewport:!1,resources:{filterUniforms:K,uMaskTexture:J.texture.source}});this.sprite=J,this._textureMatrix=q}set inverse(Z){this.resources.filterUniforms.uniforms.uInverse=Z?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(Z,J,Q,q){this._textureMatrix.texture=this.sprite.texture,Z.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,Z.applyFilter(this,J,Q,q)}}});class dY{constructor(Z){this._activeMaskStage=[],this._renderer=Z}push(Z,J,Q){let q=this._renderer;if(q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1,maskedContainer:J}),Z.inverse=J._maskOptions.inverse,Z.renderMaskToTexture){let K=Z.mask;K.includeInBuild=!0,K.collectRenderables(Q,q,null),K.includeInBuild=!1}q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:Z,maskedContainer:J,inverse:J._maskOptions.inverse,canBundle:!1})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1})}execute(Z){let J=this._renderer,Q=Z.mask.renderMaskToTexture;if(Z.action==="pushMaskBegin"){let q=Z1.get($f);if(q.inverse=Z.inverse,Q){Z.mask.mask.measurable=!0;let K=LJ(Z.mask.mask,!0,La);Z.mask.mask.measurable=!1,K.ceil();let X=J.renderTarget.renderTarget.colorTexture.source,z=n0.getOptimalTexture(K.width,K.height,X._resolution,X.antialias);J.renderTarget.push(z,!0),J.globalUniforms.push({offset:K,worldColor:4294967295});let Y=q.sprite;Y.texture=z,Y.worldTransform.tx=K.minX,Y.worldTransform.ty=K.minY,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer,filterTexture:z})}else q.sprite=Z.mask.mask,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer})}else if(Z.action==="pushMaskEnd"){let q=this._activeMaskStage[this._activeMaskStage.length-1];if(Q){if(J.type===j1.WEBGL)J.renderTarget.finishRenderPass();J.renderTarget.pop(),J.globalUniforms.pop()}J.filter.push({renderPipeId:"filter",action:"pushFilter",container:q.maskedContainer,filterEffect:q.filterEffect,canBundle:!1})}else if(Z.action==="popMaskEnd"){J.filter.pop();let q=this._activeMaskStage.pop();if(Q)n0.returnTexture(q.filterTexture);Z1.return(q.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}var La,$f;var Af=F(()=>{g();XH();Uf();O8();VK();LH();N4();p0();z4();_6();La=new J1;$f=class $f extends D9{constructor(){super();this.filters=[new JM({sprite:new h6(p.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(Z){this.filters[0].sprite=Z}get inverse(){return this.filters[0].inverse}set inverse(Z){this.filters[0].inverse=Z}};dY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"alphaMask"}});class cY{constructor(Z){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=Z}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;K[this._colorStackIndex]=K[this._colorStackIndex-1]&Z.mask;let X=this._colorStack[this._colorStackIndex];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1});this._colorStackIndex++}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;this._colorStackIndex--;let X=K[this._colorStackIndex-1];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1})}execute(Z){this._renderer.colorMask.setMask(Z.colorMask)}destroy(){this._renderer=null,this._colorStack=null}}var Df=F(()=>{g();cY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"colorMask"}});class uY{constructor(Z){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=Z}push(Z,J,Q){var q;let K=Z,X=this._renderer;X.renderPipes.batch.break(Q),X.renderPipes.blendMode.setBlendMode(K.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let z=K.mask;if(z.includeInBuild=!0,!this._maskHash.has(K))this._maskHash.set(K,{instructionsStart:0,instructionsLength:0});let Y=this._maskHash.get(K);Y.instructionsStart=Q.instructionSize,z.collectRenderables(Q,X,null),z.includeInBuild=!1,X.renderPipes.batch.break(Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let O=Q.instructionSize-Y.instructionsStart-1;Y.instructionsLength=O;let U=X.renderTarget.renderTarget.uid;(q=this._maskStackHash)[U]??(q[U]=0)}pop(Z,J,Q){let q=Z,K=this._renderer;K.renderPipes.batch.break(Q),K.renderPipes.blendMode.setBlendMode(q.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:J._maskOptions.inverse,canBundle:!1});let X=this._maskHash.get(Z);for(let z=0;z<X.instructionsLength;z++)Q.instructions[Q.instructionSize++]=Q.instructions[X.instructionsStart++];Q.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(Z){var J;let Q=this._renderer,q=Q.renderTarget.renderTarget.uid,K=(J=this._maskStackHash)[q]??(J[q]=0);if(Z.action==="pushMaskBegin")Q.renderTarget.ensureDepthStencil(),Q.stencil.setStencilMode(U1.RENDERING_MASK_ADD,K),K++,Q.colorMask.setMask(0);else if(Z.action==="pushMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode(U1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode(U1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}else if(Z.action==="popMaskBegin"){if(Q.colorMask.setMask(0),K!==0)Q.stencil.setStencilMode(U1.RENDERING_MASK_REMOVE,K);else Q.renderTarget.clear(null,U5.STENCIL),Q.stencil.setStencilMode(U1.DISABLED,K);K--}else if(Z.action==="popMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode(U1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode(U1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}this._maskStackHash[q]=K}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}var Bf=F(()=>{g();XQ();xZ();uY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"stencilMask"}});var QM=class Z{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new j0(0),this.color=this._backgroundColor,this.alpha=1}init(J){J={...Z.defaultOptions,...J},this.clearBeforeRender=J.clearBeforeRender,this.color=J.background||J.backgroundColor||this._backgroundColor,this.alpha=J.backgroundAlpha,this._backgroundColor.setAlpha(J.backgroundAlpha)}get color(){return this._backgroundColor}set color(J){if(j0.shared.setValue(J).alpha<1&&this._backgroundColor.alpha===1)e("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application.");this._backgroundColor.setValue(J)}get alpha(){return this._backgroundColor.alpha}set alpha(J){this._backgroundColor.setAlpha(J)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}},_f;var Mf=F(()=>{b5();g();l0();QM.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"background",priority:0};QM.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};_f=QM});class lY{constructor(Z){this._blendModeStack=[],this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=Z,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}pushBlendMode(Z,J,Q){this._blendModeStack.push(J),this.setBlendMode(Z,J,Q)}popBlendMode(Z){this._blendModeStack.pop();let J=this._blendModeStack[this._activeBlendMode.length-1]??"normal";this.setBlendMode(null,J,Z)}setBlendMode(Z,J,Q){let q=Z instanceof TJ;if(this._activeBlendMode===J){if(this._isAdvanced&&Z&&!q)this._renderableList?.push(Z);return}if(this._isAdvanced)this._endAdvancedBlendMode(Q);if(this._activeBlendMode=J,!Z)return;if(this._isAdvanced=!!ZX[J],this._isAdvanced)this._beginAdvancedBlendMode(Z,Q)}_beginAdvancedBlendMode(Z,J){this._renderer.renderPipes.batch.break(J);let Q=this._activeBlendMode;if(!ZX[Q]){e(`Unable to assign BlendMode: '${Q}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let q=this._ensureFilterEffect(Q),K=Z instanceof TJ,X={renderPipeId:"filter",action:"pushFilter",filterEffect:q,renderables:K?null:[Z],container:K?Z.root:null,canBundle:!1};this._renderableList=X.renderables,J.add(X)}_ensureFilterEffect(Z){let J=this._filterHash[Z];if(!J)J=this._filterHash[Z]=new D9,J.filters=[new ZX[Z]];return J}_endAdvancedBlendMode(Z){this._isAdvanced=!1,this._renderableList=null,this._renderer.renderPipes.batch.break(Z),Z.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(Z){if(!this._isAdvanced)return;this._endAdvancedBlendMode(Z)}destroy(){this._renderer=null,this._renderableList=null;for(let Z in this._filterHash)this._filterHash[Z].destroy();this._filterHash=null}}var ZX;var Wf=F(()=>{g();XH();xD();l0();ZX={};Z0.handle(T.BlendMode,(Z)=>{if(!Z.name)throw Error("BlendMode extension must have a name property");ZX[Z.name]=Z.ref},(Z)=>{delete ZX[Z.name]});lY.extension={type:[T.WebGLPipes,T.WebGPUPipes,T.CanvasPipes],name:"blendMode"}});var qM,KM=class Z{constructor(J){this._renderer=J}_normalizeOptions(J,Q={}){if(J instanceof P0||J instanceof p)return{target:J,...Q};return{...Q,...J}}async image(J){let Q=K0.get().createImage();return Q.src=await this.base64(J),Q}async base64(J){J=this._normalizeOptions(J,Z.defaultImageOptions);let{format:Q,quality:q}=J,K=this.canvas(J);if(K.toBlob!==void 0)return new Promise((X,z)=>{K.toBlob((Y)=>{if(!Y){z(Error("ICanvas.toBlob failed!"));return}let O=new FileReader;O.onload=()=>X(O.result),O.onerror=z,O.readAsDataURL(Y)},qM[Q],q)});if(K.toDataURL!==void 0)return K.toDataURL(qM[Q],q);if(K.convertToBlob!==void 0){let X=await K.convertToBlob({type:qM[Q],quality:q});return new Promise((z,Y)=>{let O=new FileReader;O.onload=()=>z(O.result),O.onerror=Y,O.readAsDataURL(X)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer;if(Q instanceof p)return q.texture.generateCanvas(Q);let K=q.textureGenerator.generateTexture(J),X=q.texture.generateCanvas(K);return K.destroy(!0),X}pixels(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer,K=Q instanceof p?Q:q.textureGenerator.generateTexture(J),X=q.texture.getPixels(K);if(Q instanceof P0)K.destroy(!0);return X}texture(J){if(J=this._normalizeOptions(J),J.target instanceof p)return J.target;return this._renderer.textureGenerator.generateTexture(J)}download(J){J=this._normalizeOptions(J);let Q=this.canvas(J),q=document.createElement("a");q.download=J.filename??"image.png",q.href=Q.toDataURL("image/png"),document.body.appendChild(q),q.click(),document.body.removeChild(q)}log(J){let Q=J.width??200;J=this._normalizeOptions(J);let q=this.canvas(J),K=q.toDataURL();console.log(`[Pixi Texture] ${q.width}px ${q.height}px`);let X=["font-size: 1px;",`padding: ${Q}px 300px;`,`background: url(${K}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",X)}destroy(){this._renderer=null}},Gf;var Ff=F(()=>{i0();g();v6();p0();qM={png:"image/png",jpg:"image/jpeg",webp:"image/webp"};KM.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"extract"};KM.defaultImageOptions={format:"png",quality:1};Gf=KM});var pY;var jf=F(()=>{l5();p0();pY=class pY extends p{static create(Z){return new pY({source:new x0(Z)})}resize(Z,J,Q){return this.source.resize(Z,J,Q),this}}});class iY{constructor(Z){this._renderer=Z}generateTexture(Z){if(Z instanceof P0)Z={target:Z,frame:void 0,textureSourceOptions:{},resolution:void 0};let J=Z.resolution||this._renderer.resolution,Q=Z.antialias||this._renderer.view.antialias,q=Z.target,K=Z.clearColor;if(K)K=Array.isArray(K)&&K.length===4?K:j0.shared.setValue(K).toArray();else K=Ia;let X=Z.frame?.copyTo(Ra)||EJ(q,Ea).rectangle;X.width=Math.max(X.width,1/J)|0,X.height=Math.max(X.height,1/J)|0;let z=pY.create({...Z.textureSourceOptions,width:X.width,height:X.height,resolution:J,antialias:Q}),Y=a.shared.translate(-X.x,-X.y);return this._renderer.render({container:q,transform:Y,target:z,clearColor:K}),z.source.updateMipmaps(),z}destroy(){this._renderer=null}}var Ra,Ea,Ia;var wf=F(()=>{b5();g();T0();r1();O8();VH();v6();jf();Ra=new U0,Ea=new J1,Ia=[0,0,0,0];iY.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"textureGenerator"}});class aY{constructor(Z){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=Z}reset(){this._stackIndex=0;for(let Z=0;Z<this._activeUniforms.length;Z++)this._uniformsPool.push(this._activeUniforms[Z]);for(let Z=0;Z<this._activeBindGroups.length;Z++)this._bindGroupPool.push(this._activeBindGroups[Z]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(Z){this.reset(),this.push(Z)}bind({size:Z,projectionMatrix:J,worldTransformMatrix:Q,worldColor:q,offset:K}){let X=this._renderer.renderTarget.renderTarget,z=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:X,worldTransformMatrix:new a,worldColor:4294967295,offset:new b0},Y={projectionMatrix:J||this._renderer.renderTarget.projectionMatrix,resolution:Z||X.size,worldTransformMatrix:Q||z.worldTransformMatrix,worldColor:q||z.worldColor,offset:K||z.offset,bindGroup:null},O=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(O);let U=O.uniforms;U.uProjectionMatrix=Y.projectionMatrix,U.uResolution=Y.resolution,U.uWorldTransformMatrix.copyFrom(Y.worldTransformMatrix),U.uWorldTransformMatrix.tx-=Y.offset.x,U.uWorldTransformMatrix.ty-=Y.offset.y,A4(Y.worldColor,U.uWorldColorAlpha,0),O.update();let A;if(this._renderer.renderPipes.uniformBatch)A=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(O,!1);else A=this._bindGroupPool.pop()||new w5,this._activeBindGroups.push(A),A.setResource(O,0);Y.bindGroup=A,this._currentGlobalUniformData=Y}push(Z){this.bind(Z),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){if(this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===j1.WEBGL)this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new a0({uProjectionMatrix:{value:new a,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null,this._globalUniformDataStack.length=0,this._uniformsPool.length=0,this._activeUniforms.length=0,this._bindGroupPool.length=0,this._activeBindGroups.length=0,this._currentGlobalUniformData=null}}var Cf=F(()=>{g();T0();P6();oJ();G9();_6();k5();aY.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"globalUniforms"}});class sY{constructor(){this._tasks=[],this._offset=0}init(){j5.system.add(this._update,this)}repeat(Z,J,Q=!0){let q=Ta++,K=0;if(Q)this._offset+=1000,K=this._offset;return this._tasks.push({func:Z,duration:J,start:performance.now(),offset:K,last:performance.now(),repeat:!0,id:q}),q}cancel(Z){for(let J=0;J<this._tasks.length;J++)if(this._tasks[J].id===Z){this._tasks.splice(J,1);return}}_update(){let Z=performance.now();for(let J=0;J<this._tasks.length;J++){let Q=this._tasks[J];if(Z-Q.offset-Q.last>=Q.duration){let q=Z-Q.start;Q.func(q),Q.last=Z}}}destroy(){j5.system.remove(this._update,this),this._tasks.length=0}}var Ta=1;var Lf=F(()=>{g();bJ();sY.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"scheduler",priority:0}});function Ef(Z){if(Rf)return;if(K0.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){let J=[`%c  %c  %c  %c  %c PixiJS %c v${NQ} (${Z}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...J)}else if(globalThis.console)globalThis.console.log(`PixiJS ${NQ} - ${Z} - http://www.pixijs.com/`);Rf=!0}var Rf=!1;var If=F(()=>{i0();o_()});class JX{constructor(Z){this._renderer=Z}init(Z){if(Z.hello){let J=this._renderer.name;if(this._renderer.type===j1.WEBGL)J+=` ${this._renderer.context.webGLVersion}`;Ef(J)}}}var Tf=F(()=>{g();If();_6();JX.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"hello",priority:-2};JX.defaultOptions={hello:!1}});function Sf(Z){let J=!1;for(let q in Z)if(Z[q]==null){J=!0;break}if(!J)return Z;let Q=Object.create(null);for(let q in Z){let K=Z[q];if(K)Q[q]=K}return Q}function bf(Z){let J=0;for(let Q=0;Q<Z.length;Q++)if(Z[Q]==null)J++;else Z[Q-J]=Z[Q];return Z.length-=J,Z}var kf=()=>{};var Sa=0,XM=class Z{constructor(J){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=J}init(J){J={...Z.defaultOptions,...J},this.maxUnusedTime=J.renderableGCMaxUnusedTime,this._frequency=J.renderableGCFrequency,this.enabled=J.renderableGCActive}get enabled(){return!!this._handler}set enabled(J){if(this.enabled===J)return;if(J)this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedHashes)Q.context[Q.hash]=Sf(Q.context[Q.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedArrays)bf(Q.context[Q.hash])},this._frequency);else this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)}addManagedHash(J,Q){this._managedHashes.push({context:J,hash:Q})}addManagedArray(J,Q){this._managedArrays.push({context:J,hash:Q})}prerender({container:J}){this._now=performance.now(),J.renderGroup.gcTick=Sa++,this._updateInstructionGCTick(J.renderGroup,J.renderGroup.gcTick)}addRenderable(J){if(!this.enabled)return;if(J._lastUsed===-1)this._managedRenderables.push(J),J.once("destroyed",this._removeRenderable,this);J._lastUsed=this._now}run(){let J=this._now,Q=this._managedRenderables,q=this._renderer.renderPipes,K=0;for(let X=0;X<Q.length;X++){let z=Q[X];if(z===null){K++;continue}let Y=z.renderGroup??z.parentRenderGroup,O=Y?.instructionSet?.gcTick??-1;if((Y?.gcTick??0)===O)z._lastUsed=J;if(J-z._lastUsed>this.maxUnusedTime){if(!z.destroyed){let U=q;if(Y)Y.structureDidChange=!0;U[z.renderPipeId].destroyRenderable(z)}z._lastUsed=-1,K++,z.off("destroyed",this._removeRenderable,this)}else Q[X-K]=z}Q.length-=K}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(J){let Q=this._managedRenderables.indexOf(J);if(Q>=0)J.off("destroyed",this._removeRenderable,this),this._managedRenderables[Q]=null}_updateInstructionGCTick(J,Q){J.instructionSet.gcTick=Q;for(let q of J.renderGroupChildren)this._updateInstructionGCTick(q,Q)}},Pf;var vf=F(()=>{g();kf();XM.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"renderableGC",priority:0};XM.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:60000,renderableGCFrequency:30000};Pf=XM});var NM=class Z{constructor(J){this._renderer=J,this.count=0,this.checkCount=0}init(J){J={...Z.defaultOptions,...J},this.checkCountMax=J.textureGCCheckCountMax,this.maxIdle=J.textureGCAMaxIdle??J.textureGCMaxIdle,this.active=J.textureGCActive}postrender(){if(!this._renderer.renderingToScreen)return;if(this.count++,!this.active)return;if(this.checkCount++,this.checkCount>this.checkCountMax)this.checkCount=0,this.run()}run(){let J=this._renderer.texture.managedTextures;for(let Q=0;Q<J.length;Q++){let q=J[Q];if(q.autoGarbageCollect&&q.resource&&q._touched>-1&&this.count-q._touched>this.maxIdle)q._touched=-1,q.unload()}}destroy(){this._renderer=null}},ff;var yf=F(()=>{g();NM.extension={type:[T.WebGLSystem,T.WebGPUSystem],name:"textureGC"};NM.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};ff=NM});var hf=class Z{constructor(J={}){if(this.uid=M0("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,J={...Z.defaultOptions,...J},this.stencil=J.stencil,this.depth=J.depth,this.isRoot=J.isRoot,typeof J.colorTextures==="number"){this._managedColorTextures=!0;for(let Q=0;Q<J.colorTextures;Q++)this.colorTextures.push(new x0({width:J.width,height:J.height,resolution:J.resolution,antialias:J.antialias}))}else{this.colorTextures=[...J.colorTextures.map((q)=>q.source)];let Q=this.colorTexture.source;this.resize(Q.width,Q.height,Q._resolution)}if(this.colorTexture.source.on("resize",this.onSourceResize,this),J.depthStencilTexture||this.stencil)if(J.depthStencilTexture instanceof p||J.depthStencilTexture instanceof x0)this.depthStencilTexture=J.depthStencilTexture.source;else this.ensureDepthStencilTexture()}get size(){let J=this._size;return J[0]=this.pixelWidth,J[1]=this.pixelHeight,J}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(J){this.resize(J.width,J.height,J._resolution,!0)}ensureDepthStencilTexture(){if(!this.depthStencilTexture)this.depthStencilTexture=new x0({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1})}resize(J,Q,q=this.resolution,K=!1){if(this.dirtyId++,this.colorTextures.forEach((X,z)=>{if(K&&z===0)return;X.source.resize(J,Q,q)}),this.depthStencilTexture)this.depthStencilTexture.source.resize(J,Q,q)}destroy(){if(this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures)this.colorTextures.forEach((J)=>{J.destroy()});if(this.depthStencilTexture)this.depthStencilTexture.destroy(),delete this.depthStencilTexture}},QX;var zM=F(()=>{t1();l5();p0();hf.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};QX=hf});function nY(Z,J){if(!zQ.has(Z)){let Q=new p({source:new a5({resource:Z,...J})}),q=()=>{if(zQ.get(Z)===Q)zQ.delete(Z)};Q.once("destroy",q),Q.source.once("destroy",q),zQ.set(Z,Q)}return zQ.get(Z)}var zQ;var HM=F(()=>{EZ();vJ();p0();zQ=new Map;D6.register(zQ)});var YM=class Z{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(J){this.texture.source.autoDensity=J}get resolution(){return this.texture.source._resolution}set resolution(J){this.texture.source.resize(this.texture.source.width,this.texture.source.height,J)}init(J){if(J={...Z.defaultOptions,...J},J.view)q0(Y0,"ViewSystem.view has been renamed to ViewSystem.canvas"),J.canvas=J.view;this.screen=new U0(0,0,J.width,J.height),this.canvas=J.canvas||K0.get().createCanvas(),this.antialias=!!J.antialias,this.texture=nY(this.canvas,J),this.renderTarget=new QX({colorTextures:[this.texture],depth:!!J.depth,isRoot:!0}),this.texture.source.transparent=J.backgroundAlpha<1,this.resolution=J.resolution}resize(J,Q,q){this.texture.source.resize(J,Q,q),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(J=!1){if((typeof J==="boolean"?J:!!J?.removeView)&&this.canvas.parentNode)this.canvas.parentNode.removeChild(this.canvas);this.texture.destroy()}},xf;var gf=F(()=>{i0();g();r1();M1();zM();HM();YM.extension={type:[T.WebGLSystem,T.WebGPUSystem,T.CanvasSystem],name:"view",priority:0};YM.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};xf=YM});var oY,tY;var VM=F(()=>{ov();tv();Kf();Xf();t_();Nf();Af();Df();Bf();Mf();Wf();Ff();wf();Cf();Lf();Tf();vf();yf();gf();oY=[_f,aY,JX,xf,hY,ff,iY,Gf,mY,Pf,sY],tY=[lY,e_,xY,yY,dY,uY,cY,fY]});class rY{constructor(Z){this._hash=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(Z){this._gpu=Z}getBindGroup(Z,J,Q){return Z._updateKey(),this._hash[Z._key]||this._createBindGroup(Z,J,Q)}_createBindGroup(Z,J,Q){let q=this._gpu.device,K=J.layout[Q],X=[],z=this._renderer;for(let U in K){let A=Z.resources[U]??Z.resources[K[U]],D;if(A._resourceType==="uniformGroup"){let _=A;z.ubo.updateUniformGroup(_);let W=_.buffer;D={buffer:z.buffer.getGPUBuffer(W),offset:0,size:W.descriptor.size}}else if(A._resourceType==="buffer"){let _=A;D={buffer:z.buffer.getGPUBuffer(_),offset:0,size:_.descriptor.size}}else if(A._resourceType==="bufferResource"){let _=A;D={buffer:z.buffer.getGPUBuffer(_.buffer),offset:_.offset,size:_.size}}else if(A._resourceType==="textureSampler"){let _=A;D=z.texture.getGpuSampler(_)}else if(A._resourceType==="textureSource"){let _=A;D=z.texture.getGpuSource(_).createView({})}X.push({binding:K[U],resource:D})}let Y=z.shader.getProgramData(J).bindGroups[Q],O=q.createBindGroup({layout:Y,entries:X});return this._hash[Z._key]=O,O}destroy(){for(let Z of Object.keys(this._hash))this._hash[Z]=null;this._hash=null,this._renderer=null}}var mf=F(()=>{g();rY.extension={type:[T.WebGPUSystem],name:"bindGroup"}});class eY{constructor(Z){this._gpuBuffers=Object.create(null),this._managedBuffers=[],Z.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(Z){this._gpu=Z}getGPUBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z)}updateBuffer(Z){let J=this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z),Q=Z.data;if(Z._updateID&&Q)Z._updateID=0,this._gpu.device.queue.writeBuffer(J,0,Q.buffer,0,(Z._updateSize||Q.byteLength)+3&-4);return J}destroyAll(){for(let Z in this._gpuBuffers)this._gpuBuffers[Z].destroy();this._gpuBuffers={}}createGPUBuffer(Z){if(!this._gpuBuffers[Z.uid])Z.on("update",this.updateBuffer,this),Z.on("change",this.onBufferChange,this),Z.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(Z);let J=this._gpu.device.createBuffer(Z.descriptor);if(Z._updateID=0,Z.data)LK(Z.data.buffer,J.getMappedRange()),J.unmap();return this._gpuBuffers[Z.uid]=J,J}onBufferChange(Z){this._gpuBuffers[Z.uid].destroy(),Z._updateID=0,this._gpuBuffers[Z.uid]=this.createGPUBuffer(Z)}onBufferDestroy(Z){this._managedBuffers.splice(this._managedBuffers.indexOf(Z),1),this._destroyBuffer(Z)}destroy(){this._managedBuffers.forEach((Z)=>this._destroyBuffer(Z)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(Z){this._gpuBuffers[Z.uid].destroy(),Z.off("update",this.updateBuffer,this),Z.off("change",this.onBufferChange,this),Z.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[Z.uid]=null}}var df=F(()=>{g();OB();eY.extension={type:[T.WebGPUSystem],name:"buffer"}});class ZV{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.pipeline.setColorMask(Z)}destroy(){this._renderer=null,this._colorMaskCache=null}}var cf=F(()=>{g();ZV.extension={type:[T.WebGPUSystem],name:"colorMask"}});class qX{constructor(Z){this._renderer=Z}async init(Z){if(this._initPromise)return this._initPromise;return this._initPromise=(Z.gpu?Promise.resolve(Z.gpu):this._createDeviceAndAdaptor(Z)).then((J)=>{this.gpu=J,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise}contextChange(Z){this._renderer.gpu=Z}async _createDeviceAndAdaptor(Z){let J=await K0.get().getNavigator().gpu.requestAdapter({powerPreference:Z.powerPreference,forceFallbackAdapter:Z.forceFallbackAdapter}),Q=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter((K)=>J.features.has(K)),q=await J.requestDevice({requiredFeatures:Q});return{adapter:J,device:q}}destroy(){this.gpu=null,this._renderer=null}}var uf=F(()=>{i0();g();qX.extension={type:[T.WebGPUSystem],name:"device"};qX.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1}});class JV{constructor(Z){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=Z}renderStart(){this.commandFinished=new Promise((Z)=>{this._resolveCommandFinished=Z}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(Z){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z.descriptor)}endRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end();this.renderPassEncoder=null}setViewport(Z){this.renderPassEncoder.setViewport(Z.x,Z.y,Z.width,Z.height,0,1)}setPipelineFromGeometryProgramAndState(Z,J,Q,q){let K=this._renderer.pipeline.getPipeline(Z,J,Q,q);this.setPipeline(K)}setPipeline(Z){if(this._boundPipeline===Z)return;this._boundPipeline=Z,this.renderPassEncoder.setPipeline(Z)}_setVertexBuffer(Z,J){if(this._boundVertexBuffer[Z]===J)return;this._boundVertexBuffer[Z]=J,this.renderPassEncoder.setVertexBuffer(Z,this._renderer.buffer.updateBuffer(J))}_setIndexBuffer(Z){if(this._boundIndexBuffer===Z)return;this._boundIndexBuffer=Z;let J=Z.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(Z),J)}resetBindGroup(Z){this._boundBindGroup[Z]=null}setBindGroup(Z,J,Q){if(this._boundBindGroup[Z]===J)return;this._boundBindGroup[Z]=J,J._touch(this._renderer.textureGC.count);let q=this._renderer.bindGroup.getBindGroup(J,Q,Z);this.renderPassEncoder.setBindGroup(Z,q)}setGeometry(Z,J){let Q=this._renderer.pipeline.getBufferNamesToBind(Z,J);for(let q in Q)this._setVertexBuffer(parseInt(q,10),Z.attributes[Q[q]].buffer);if(Z.indexBuffer)this._setIndexBuffer(Z.indexBuffer)}_setShaderBindGroups(Z,J){for(let Q in Z.groups){let q=Z.groups[Q];if(!J)this._syncBindGroup(q);this.setBindGroup(Q,q,Z.gpuProgram)}}_syncBindGroup(Z){for(let J in Z.resources){let Q=Z.resources[J];if(Q.isUniformGroup)this._renderer.ubo.updateUniformGroup(Q)}}draw(Z){let{geometry:J,shader:Q,state:q,topology:K,size:X,start:z,instanceCount:Y,skipSync:O}=Z;if(this.setPipelineFromGeometryProgramAndState(J,Q.gpuProgram,q,K),this.setGeometry(J,Q.gpuProgram),this._setShaderBindGroups(Q,O),J.indexBuffer)this.renderPassEncoder.drawIndexed(X||J.indexBuffer.data.length,Y??J.instanceCount,z||0);else this.renderPassEncoder.draw(X||J.getSize(),Y??J.instanceCount,z||0)}finishRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end(),this.renderPassEncoder=null}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){let Z=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z);let J=this._boundPipeline,Q={...this._boundVertexBuffer},q=this._boundIndexBuffer,K={...this._boundBindGroup};this._clearCache();let X=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(X.x,X.y,X.width,X.height,0,1),this.setPipeline(J);for(let z in Q)this._setVertexBuffer(z,Q[z]);for(let z in K)this.setBindGroup(z,K[z],null);this._setIndexBuffer(q)}_clearCache(){for(let Z=0;Z<16;Z++)this._boundBindGroup[Z]=null,this._boundVertexBuffer[Z]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(Z){this._gpu=Z}}var lf=F(()=>{g();JV.extension={type:[T.WebGPUSystem],name:"encoder",priority:1}});class QV{constructor(Z){this._renderer=Z}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}var pf=F(()=>{g();QV.extension={type:[T.WebGPUSystem],name:"limits"}});class qV{constructor(Z){this._renderTargetStencilState=Object.create(null),this._renderer=Z,Z.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(Z){let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:U1.DISABLED,stencilReference:0};this._activeRenderTarget=Z,this.setStencilMode(J.stencilMode,J.stencilReference)}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid];Q.stencilMode=Z,Q.stencilReference=J;let q=this._renderer;q.pipeline.setStencilMode(Z),q.encoder.renderPassEncoder.setStencilReference(J)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}var af=F(()=>{g();xZ();qV.extension={type:[T.WebGPUSystem],name:"stencil"}});class KX{constructor(Z){this._syncFunctionHash=Object.create(null),this._adaptor=Z,this._systemCheck()}_systemCheck(){if(!IY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(Z){let J=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new h1({data:new Float32Array(J.layout.size/4),usage:w0.UNIFORM|w0.COPY_DST}))}getUniformGroupData(Z){return this._syncFunctionHash[Z._signature]||this._initUniformGroup(Z)}_initUniformGroup(Z){let J=Z._signature,Q=this._syncFunctionHash[J];if(!Q){let q=Object.keys(Z.uniformStructures).map((z)=>Z.uniformStructures[z]),K=this._adaptor.createUboElements(q),X=this._generateUboSync(K.uboElements);Q=this._syncFunctionHash[J]={layout:K,syncFunction:X}}return this._syncFunctionHash[J]}_generateUboSync(Z){return this._adaptor.generateUboSync(Z)}syncUniformGroup(Z,J,Q){let q=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new h1({data:new Float32Array(q.layout.size/4),usage:w0.UNIFORM|w0.COPY_DST}));let K=null;if(!J)J=Z.buffer.data,K=Z.buffer.dataInt32;return Q||(Q=0),q.syncFunction(Z.uniforms,J,K,Q),!0}updateUniformGroup(Z){if(Z.isStatic&&!Z._dirtyId)return!1;Z._dirtyId=0;let J=this.syncUniformGroup(Z);return Z.buffer.update(),J}destroy(){this._syncFunctionHash=null}}var OM=F(()=>{l_();F9();X7()});function sf(Z){let J=Z.map((q)=>({data:q,offset:0,size:0})),Q=0;for(let q=0;q<J.length;q++){let K=J[q],X=XX[K.data.type].size,z=XX[K.data.type].align;if(!XX[K.data.type])throw Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${K.data.type}`);if(K.data.size>1)X=Math.max(X,z)*K.data.size;Q=Math.ceil(Q/z)*z,K.size=X,K.offset=Q,Q+=X}return Q=Math.ceil(Q/16)*16,{uboElements:J,size:Q}}var XX;var UM=F(()=>{XX={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}}});var O7;var $M=F(()=>{O7=[{type:"mat3x3<f32>",test:(Z)=>{return Z.value.a!==void 0},ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:(Z)=>Z.type==="vec2<f32>"&&Z.size===1&&Z.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:(Z)=>Z.type==="vec3<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}]});function KV(Z,J,Q,q){let K=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `],X=0;for(let Y=0;Y<Z.length;Y++){let O=Z[Y],U=O.data.name,A=!1,D=0;for(let _=0;_<O7.length;_++)if(O7[_].test(O.data)){D=O.offset/4,K.push(`name = "${U}";`,`offset += ${D-X};`,O7[_][J]||O7[_].ubo),A=!0;break}if(!A)if(O.data.size>1)D=O.offset/4,K.push(Q(O,D-X));else{let _=q[O.data.type];D=O.offset/4,K.push(`
                    v = uv.${U};
                    offset += ${D-X};
                    ${_};
                `)}X=D}let z=K.join(`
`);return Function("uv","data","dataInt32","offset",z)}var AM=F(()=>{$M()});function HQ(Z,J){return`
        for (let i = 0; i < ${Z*J}; i++) {
            data[offset + (((i / ${Z})|0) * 4) + (i % ${Z})] = v[i];
        }
    `}var DM,nf;var BM=F(()=>{DM={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":HQ(3,2),"mat4x2<f32>":HQ(4,2),"mat2x3<f32>":HQ(2,3),"mat4x3<f32>":HQ(4,3),"mat2x4<f32>":HQ(2,4),"mat3x4<f32>":HQ(3,4)},nf={...DM,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `}});function of(Z,J){let{size:Q,align:q}=XX[Z.data.type],K=(q-Q)/4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${Z.data.name};
         ${J!==0?`offset += ${J};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${Z.data.size*(Q/4)}; i++)
         {
             for(var j = 0; j < ${Q/4}; j++)
             {
                 ${X}[arrayOffset++] = v[t++];
             }
             ${K!==0?`arrayOffset += ${K};`:""}
         }
     `}var tf=F(()=>{UM()});function rf(Z){return KV(Z,"uboWgsl",of,nf)}var ef=F(()=>{AM();BM();tf()});var XV;var Zy=F(()=>{g();OM();UM();ef();XV=class XV extends KX{constructor(){super({createUboElements:sf,generateUboSync:rf})}};XV.extension={type:[T.WebGPUSystem],name:"ubo"}});var sZ;var NV=F(()=>{F5();t1();sZ=class sZ extends e0{constructor({buffer:Z,offset:J,size:Q}){super();this.uid=M0("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=M0("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=Z,this.offset=J|0,this.size=Q,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=M0("resource"),this.emit("change",this)}destroy(Z=!1){if(this.destroyed=!0,Z)this.buffer.destroy();this.emit("change",this),this.buffer=null}}});class _M{constructor({minUniformOffsetAlignment:Z}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=Z,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(Z){if(Z>this._minUniformOffsetAlignment/4)throw Error(`UniformBufferBatch: array is too large: ${Z*4}`);let J=this.byteIndex,Q=J+Z*4;if(Q=Math.ceil(Q/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,Q>this.data.length*4)throw Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=Q,J}addGroup(Z){let J=this.addEmptyGroup(Z.length);for(let Q=0;Q<Z.length;Q++)this.data[J/4+Q]=Z[Q];return J}destroy(){this.data=null}}var Jy=()=>{};class zV{constructor(Z){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new _M({minUniformOffsetAlignment:E9});let J=256/E9;for(let Q=0;Q<J;Q++){let q=w0.UNIFORM|w0.COPY_DST;if(Q===0)q|=w0.COPY_SRC;this._buffers.push(new h1({data:this._batchBuffer.data,usage:q}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(let Z in this._bindGroupHash)this._bindGroupHash[Z]=null;this._batchBuffer.clear()}getUniformBindGroup(Z,J){if(!J&&this._bindGroupHash[Z.uid])return this._bindGroupHash[Z.uid];this._renderer.ubo.ensureUniformGroup(Z);let Q=Z.buffer.data,q=this._batchBuffer.addEmptyGroup(Q.length);return this._renderer.ubo.syncUniformGroup(Z,this._batchBuffer.data,q/4),this._bindGroupHash[Z.uid]=this._getBindGroup(q/E9),this._bindGroupHash[Z.uid]}getUboResource(Z){this._renderer.ubo.updateUniformGroup(Z);let J=Z.buffer.data,Q=this._batchBuffer.addGroup(J);return this._getBufferResource(Q/E9)}getArrayBindGroup(Z){let J=this._batchBuffer.addGroup(Z);return this._getBindGroup(J/E9)}getArrayBufferResource(Z){let Q=this._batchBuffer.addGroup(Z)/E9;return this._getBufferResource(Q)}_getBufferResource(Z){if(!this._bufferResources[Z]){let J=this._buffers[Z%2];this._bufferResources[Z]=new sZ({buffer:J,offset:(Z/2|0)*256,size:E9})}return this._bufferResources[Z]}_getBindGroup(Z){if(!this._bindGroups[Z]){let J=new w5({0:this._getBufferResource(Z)});this._bindGroups[Z]=J}return this._bindGroups[Z]}_uploadBindGroups(){let Z=this._renderer.buffer,J=this._buffers[0];J.update(this._batchBuffer.byteIndex),Z.updateBuffer(J);let Q=this._renderer.gpu.device.createCommandEncoder();for(let q=1;q<this._buffers.length;q++){let K=this._buffers[q];Q.copyBufferToBuffer(Z.getGPUBuffer(J),E9,Z.getGPUBuffer(K),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([Q.finish()])}destroy(){for(let Z=0;Z<this._bindGroups.length;Z++)this._bindGroups[Z]?.destroy();this._bindGroups=null,this._bindGroupHash=null;for(let Z=0;Z<this._buffers.length;Z++)this._buffers[Z].destroy();this._buffers=null;for(let Z=0;Z<this._bufferResources.length;Z++)this._bufferResources[Z].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}var E9=128;var Qy=F(()=>{g();F9();NV();X7();Jy();G9();zV.extension={type:[T.WebGPUPipes],name:"uniformBatch"}});function HV(Z,J){for(let Q in Z.attributes){let q=Z.attributes[Q],K=J[Q];if(K)q.format??(q.format=K.format),q.offset??(q.offset=K.offset),q.instance??(q.instance=K.instance);else e(`Attribute ${Q} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}ba(Z)}function ba(Z){let{buffers:J,attributes:Q}=Z,q={},K={};for(let X in J){let z=J[X];q[z.uid]=0,K[z.uid]=0}for(let X in Q){let z=Q[X];q[z.buffer.uid]+=A8(z.format).stride}for(let X in Q){let z=Q[X];z.stride??(z.stride=q[z.buffer.uid]),z.start??(z.start=K[z.buffer.uid]),K[z.buffer.uid]+=A8(z.format).stride}}var MM=F(()=>{l0();gZ()});var D4;var WM=F(()=>{xZ();D4=[];D4[U1.NONE]=void 0;D4[U1.DISABLED]={stencilWriteMask:0,stencilReadMask:0};D4[U1.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};D4[U1.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};D4[U1.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};D4[U1.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}});function Pa(Z,J,Q,q,K){return Z<<24|J<<16|Q<<10|q<<5|K}function va(Z,J,Q,q){return Q<<6|Z<<3|q<<1|J}class YV{constructor(Z){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=Z}contextChange(Z){this._gpu=Z,this.setStencilMode(U1.DISABLED),this._updatePipeHash()}setMultisampleCount(Z){if(this._multisampleCount===Z)return;this._multisampleCount=Z,this._updatePipeHash()}setRenderTarget(Z){this._multisampleCount=Z.msaaSamples,this._depthStencilAttachment=Z.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(Z){if(this._colorMask===Z)return;this._colorMask=Z,this._updatePipeHash()}setStencilMode(Z){if(this._stencilMode===Z)return;this._stencilMode=Z,this._stencilState=D4[Z],this._updatePipeHash()}setPipeline(Z,J,Q,q){let K=this.getPipeline(Z,J,Q);q.setPipeline(K)}getPipeline(Z,J,Q,q){if(!Z._layoutKey)HV(Z,J.attributeData),this._generateBufferKey(Z);q||(q=Z.topology);let K=Pa(Z._layoutKey,J._layoutKey,Q.data,Q._blendModeId,ka[q]);if(this._pipeCache[K])return this._pipeCache[K];return this._pipeCache[K]=this._createPipeline(Z,J,Q,q),this._pipeCache[K]}_createPipeline(Z,J,Q,q){let K=this._gpu.device,X=this._createVertexBufferLayouts(Z,J),z=this._renderer.state.getColorTargets(Q);z[0].writeMask=this._stencilMode===U1.RENDERING_MASK_ADD?0:this._colorMask;let Y=this._renderer.shader.getProgramData(J).pipeline,O={vertex:{module:this._getModule(J.vertex.source),entryPoint:J.vertex.entryPoint,buffers:X},fragment:{module:this._getModule(J.fragment.source),entryPoint:J.fragment.entryPoint,targets:z},primitive:{topology:q,cullMode:Q.cullMode},layout:Y,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};if(this._depthStencilAttachment)O.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:Q.depthTest,depthCompare:Q.depthTest?"less":"always"};return K.createRenderPipeline(O)}_getModule(Z){return this._moduleCache[Z]||this._createModule(Z)}_createModule(Z){let J=this._gpu.device;return this._moduleCache[Z]=J.createShaderModule({code:Z}),this._moduleCache[Z]}_generateBufferKey(Z){let J=[],Q=0,q=Object.keys(Z.attributes).sort();for(let X=0;X<q.length;X++){let z=Z.attributes[q[X]];J[Q++]=z.offset,J[Q++]=z.format,J[Q++]=z.stride,J[Q++]=z.instance}let K=J.join("|");return Z._layoutKey=N7(K,"geometry"),Z._layoutKey}_generateAttributeLocationsKey(Z){let J=[],Q=0,q=Object.keys(Z.attributeData).sort();for(let X=0;X<q.length;X++){let z=Z.attributeData[q[X]];J[Q++]=z.location}let K=J.join("|");return Z._attributeLocationsKey=N7(K,"programAttributes"),Z._attributeLocationsKey}getBufferNamesToBind(Z,J){let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bindingNamesCache[Q])return this._bindingNamesCache[Q];let q=this._createVertexBufferLayouts(Z,J),K=Object.create(null),X=J.attributeData;for(let z=0;z<q.length;z++){let O=Object.values(q[z].attributes)[0].shaderLocation;for(let U in X)if(X[U].location===O){K[z]=U;break}}return this._bindingNamesCache[Q]=K,K}_createVertexBufferLayouts(Z,J){if(!J._attributeLocationsKey)this._generateAttributeLocationsKey(J);let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bufferLayoutsCache[Q])return this._bufferLayoutsCache[Q];let q=[];return Z.buffers.forEach((K)=>{let X={arrayStride:0,stepMode:"vertex",attributes:[]},z=X.attributes;for(let Y in J.attributeData){let O=Z.attributes[Y];if((O.divisor??1)!==1)e(`Attribute ${Y} has an invalid divisor value of '${O.divisor}'. WebGPU only supports a divisor value of 1`);if(O.buffer===K)X.arrayStride=O.stride,X.stepMode=O.instance?"instance":"vertex",z.push({shaderLocation:J.attributeData[Y].location,offset:O.offset,format:O.format})}if(z.length)q.push(X)}),this._bufferLayoutsCache[Q]=q,q}_updatePipeHash(){let Z=va(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);if(!this._pipeStateCaches[Z])this._pipeStateCaches[Z]=Object.create(null);this._pipeCache=this._pipeStateCaches[Z]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}var ka;var qy=F(()=>{g();l0();MM();xZ();TK();WM();ka={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};YV.extension={type:[T.WebGPUSystem],name:"pipeline"}});function Ky(Z,J,Q,q,K,X){let z=X?1:-1;return Z.identity(),Z.a=1/q*2,Z.d=z*(1/K*2),Z.tx=-1-J*Z.a,Z.ty=-z-Q*Z.d,Z}var Xy=()=>{};function Ny(Z){let J=Z.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&J instanceof HTMLCanvasElement&&document.body.contains(J)}var zy=()=>{};class NX{constructor(Z){this.rootViewPort=new U0,this.viewport=new U0,this.onRenderTargetChange=new oK("onRenderTargetChange"),this.projectionMatrix=new a,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:Z,clear:J,clearColor:Q,frame:q}){this._renderTargetStack.length=0,this.push(Z,J,Q,q),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=Ny(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(Z,J=!0,Q,q){let K=this.getRenderTarget(Z),X=this.renderTarget!==K;this.renderTarget=K,this.renderSurface=Z;let z=this.getGpuRenderTarget(K);if(K.pixelWidth!==z.width||K.pixelHeight!==z.height)this.adaptor.resizeGpuRenderTarget(K),z.width=K.pixelWidth,z.height=K.pixelHeight;let Y=K.colorTexture,O=this.viewport,U=Y.pixelWidth,A=Y.pixelHeight;if(!q&&Z instanceof p)q=Z.frame;if(q){let D=Y._resolution;O.x=q.x*D+0.5|0,O.y=q.y*D+0.5|0,O.width=q.width*D+0.5|0,O.height=q.height*D+0.5|0}else O.x=0,O.y=0,O.width=U,O.height=A;if(Ky(this.projectionMatrix,0,0,O.width/Y.resolution,O.height/Y.resolution,!K.isRoot),this.adaptor.startRenderPass(K,J,Q,O),X)this.onRenderTargetChange.emit(K);return K}clear(Z,J=U5.ALL,Q){if(!J)return;if(Z)Z=this.getRenderTarget(Z);this.adaptor.clear(Z||this.renderTarget,J,Q,this.viewport)}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(Z,J=U5.ALL,Q,q){let K=this.bind(Z,J,Q,q);return this._renderTargetStack.push({renderTarget:K,frame:q}),K}pop(){this._renderTargetStack.pop();let Z=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(Z.renderTarget,!1,null,Z.frame)}getRenderTarget(Z){if(Z.isTexture)Z=Z.source;return this._renderSurfaceToRenderTargetHash.get(Z)??this._initRenderTarget(Z)}copyToTexture(Z,J,Q,q,K){if(Q.x<0)q.width+=Q.x,K.x-=Q.x,Q.x=0;if(Q.y<0)q.height+=Q.y,K.y-=Q.y,Q.y=0;let{pixelWidth:X,pixelHeight:z}=Z;return q.width=Math.min(q.width,X-Q.x),q.height=Math.min(q.height,z-Q.y),this.adaptor.copyToTexture(Z,J,Q,q,K)}ensureDepthStencil(){if(!this.renderTarget.stencil)this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport)}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((Z,J)=>{if(Z!==J)Z.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(Z){let J=null;if(a5.test(Z))Z=nY(Z).source;if(Z instanceof QX)J=Z;else if(Z instanceof x0){if(J=new QX({colorTextures:[Z]}),Z.source instanceof a5)J.isRoot=!0;Z.once("destroy",()=>{J.destroy(),this._renderSurfaceToRenderTargetHash.delete(Z);let Q=this._gpuRenderTargetHash[J.uid];if(Q)this._gpuRenderTargetHash[J.uid]=null,this.adaptor.destroyGpuRenderTarget(Q)})}return this._renderSurfaceToRenderTargetHash.set(Z,J),J}getGpuRenderTarget(Z){return this._gpuRenderTargetHash[Z.uid]||(this._gpuRenderTargetHash[Z.uid]=this.adaptor.initGpuRenderTarget(Z))}resetState(){this.renderTarget=null,this.renderSurface=null}}var GM=F(()=>{T0();r1();XQ();Xy();p_();vJ();l5();p0();HM();zy();zM()});class FM{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}var Hy=()=>{};class jM{init(Z,J){this._renderer=Z,this._renderTargetSystem=J}copyToTexture(Z,J,Q,q,K){let X=this._renderer,z=this._getGpuColorTexture(Z),Y=X.texture.getGpuSource(J.source);return X.encoder.commandEncoder.copyTextureToTexture({texture:z,origin:Q},{texture:Y,origin:K},q),J}startRenderPass(Z,J=!0,Q,q){let X=this._renderTargetSystem.getGpuRenderTarget(Z),z=this.getDescriptor(Z,J,Q);X.descriptor=z,this._renderer.pipeline.setRenderTarget(X),this._renderer.encoder.beginRenderPass(X),this._renderer.encoder.setViewport(q)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.contexts[0])return J.contexts[0].getCurrentTexture();return this._renderer.texture.getGpuSource(Z.colorTextures[0].source)}getDescriptor(Z,J,Q){if(typeof J==="boolean")J=J?U5.ALL:U5.NONE;let q=this._renderTargetSystem,K=q.getGpuRenderTarget(Z),X=Z.colorTextures.map((O,U)=>{let A=K.contexts[U],D,_;if(A)D=A.getCurrentTexture().createView();else D=this._renderer.texture.getGpuSource(O).createView({mipLevelCount:1});if(K.msaaTextures[U])_=D,D=this._renderer.texture.getTextureView(K.msaaTextures[U]);let W=J&U5.COLOR?"clear":"load";return Q??(Q=q.defaultClearColor),{view:D,resolveTarget:_,clearValue:Q,storeOp:"store",loadOp:W}}),z;if((Z.stencil||Z.depth)&&!Z.depthStencilTexture)Z.ensureDepthStencilTexture(),Z.depthStencilTexture.source.sampleCount=K.msaa?4:1;if(Z.depthStencilTexture){let O=J&U5.STENCIL?"clear":"load",U=J&U5.DEPTH?"clear":"load";z={view:this._renderer.texture.getGpuSource(Z.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:O,depthClearValue:1,depthLoadOp:U,depthStoreOp:"store"}}return{colorAttachments:X,depthStencilAttachment:z}}clear(Z,J=!0,Q,q){if(!J)return;let{gpu:K,encoder:X}=this._renderer,z=K.device;if(X.commandEncoder===null){let O=z.createCommandEncoder(),U=this.getDescriptor(Z,J,Q),A=O.beginRenderPass(U);A.setViewport(q.x,q.y,q.width,q.height,0,1),A.end();let D=O.finish();z.queue.submit([D])}else this.startRenderPass(Z,J,Q,q)}initGpuRenderTarget(Z){Z.isRoot=!0;let J=new FM;if(Z.colorTextures.forEach((Q,q)=>{if(Q instanceof a5){let K=Q.resource.getContext("webgpu"),X=Q.transparent?"premultiplied":"opaque";try{K.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:X})}catch(z){console.error(z)}J.contexts[q]=K}if(J.msaa=Q.source.antialias,Q.source.antialias){let K=new x0({width:0,height:0,sampleCount:4});J.msaaTextures[q]=K}}),J.msaa){if(J.msaaSamples=4,Z.depthStencilTexture)Z.depthStencilTexture.source.sampleCount=4}return J}destroyGpuRenderTarget(Z){Z.contexts.forEach((J)=>{J.unconfigure()}),Z.msaaTextures.forEach((J)=>{J.destroy()}),Z.msaaTextures.length=0,Z.contexts.length=0}ensureDepthStencilTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(Z.depthStencilTexture&&J.msaa)Z.depthStencilTexture.source.sampleCount=4}resizeGpuRenderTarget(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.width=Z.width,J.height=Z.height,J.msaa)Z.colorTextures.forEach((Q,q)=>{J.msaaTextures[q]?.resize(Q.source.width,Q.source.height,Q.source._resolution)})}}var Yy=F(()=>{XQ();vJ();l5();Hy()});var VV;var Vy=F(()=>{g();GM();Yy();VV=class VV extends NX{constructor(Z){super(Z);this.adaptor=new jM,this.adaptor.init(Z,this)}};VV.extension={type:[T.WebGPUSystem],name:"renderTarget"}});class OV{constructor(){this._gpuProgramData=Object.create(null)}contextChange(Z){this._gpu=Z}getProgramData(Z){return this._gpuProgramData[Z._layoutKey]||this._createGPUProgramData(Z)}_createGPUProgramData(Z){let J=this._gpu.device,Q=Z.gpuLayout.map((K)=>J.createBindGroupLayout({entries:K})),q={bindGroupLayouts:Q};return this._gpuProgramData[Z._layoutKey]={bindGroups:Q,pipeline:J.createPipelineLayout(q)},this._gpuProgramData[Z._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}var Oy=F(()=>{g();OV.extension={type:[T.WebGPUSystem],name:"shader"}});var n5;var Uy=F(()=>{n5={};n5.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};n5.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};n5.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};n5.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};n5.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};n5.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};n5["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};n5["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};n5["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};n5.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};n5.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};n5.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}}});class UV{constructor(){this.defaultState=new x1,this.defaultState.blend=!0}contextChange(Z){this.gpu=Z}getColorTargets(Z){return[{format:"bgra8unorm",writeMask:0,blend:n5[Z.blendMode]||n5.normal}]}destroy(){this.gpu=null}}var $y=F(()=>{g();m6();Uy();UV.extension={type:[T.WebGPUSystem],name:"state"}});var Ay;var Dy=F(()=>{Ay={type:"image",upload(Z,J,Q){let q=Z.resource,K=(Z.pixelWidth|0)*(Z.pixelHeight|0),X=q.byteLength/K;Q.device.queue.writeTexture({texture:J},q,{offset:0,rowsPerImage:Z.pixelHeight,bytesPerRow:Z.pixelHeight*X},{width:Z.pixelWidth,height:Z.pixelHeight,depthOrArrayLayers:1})}}});var wM,fa,By;var _y=F(()=>{wM={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},fa={blockBytes:4,blockWidth:1,blockHeight:1},By={type:"compressed",upload(Z,J,Q){let{pixelWidth:q,pixelHeight:K}=Z,X=wM[Z.format]||fa;for(let z=0;z<Z.resource.length;z++){let Y=Z.resource[z],O=Math.ceil(q/X.blockWidth)*X.blockBytes;Q.device.queue.writeTexture({texture:J,mipLevel:z},Y,{offset:0,bytesPerRow:O},{width:Math.ceil(q/X.blockWidth)*X.blockWidth,height:Math.ceil(K/X.blockHeight)*X.blockHeight,depthOrArrayLayers:1}),q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var $V;var CM=F(()=>{i0();l0();$V={type:"image",upload(Z,J,Q){let q=Z.resource;if(!q)return;if(globalThis.HTMLImageElement&&q instanceof HTMLImageElement){let Y=K0.get().createCanvas(q.width,q.height);Y.getContext("2d").drawImage(q,0,0,q.width,q.height),Z.resource=Y,e("ImageSource: Image element passed, converting to canvas and replacing resource.")}let K=Math.min(J.width,Z.resourceWidth||Z.pixelWidth),X=Math.min(J.height,Z.resourceHeight||Z.pixelHeight),z=Z.alphaMode==="premultiply-alpha-on-upload";Q.device.queue.copyExternalImageToTexture({source:q},{texture:J,premultipliedAlpha:z},{width:K,height:X})}}});var My;var Wy=F(()=>{CM();My={type:"video",upload(Z,J,Q){$V.upload(Z,J,Q)}}});class LM{constructor(Z){this.device=Z,this.sampler=Z.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(Z){let J=this.pipelines[Z];if(!J){if(!this.mipmapShaderModule)this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `});J=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:Z}]}}),this.pipelines[Z]=J}return J}generateMipmap(Z){let J=this._getMipmapPipeline(Z.format);if(Z.dimension==="3d"||Z.dimension==="1d")throw Error("Generating mipmaps for non-2d textures is currently unsupported!");let Q=Z,q=Z.depthOrArrayLayers||1,K=Z.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!K){let Y={size:{width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q},format:Z.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:Z.mipLevelCount-1};Q=this.device.createTexture(Y)}let X=this.device.createCommandEncoder({}),z=J.getBindGroupLayout(0);for(let Y=0;Y<q;++Y){let O=Z.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),U=K?1:0;for(let A=1;A<Z.mipLevelCount;++A){let D=Q.createView({baseMipLevel:U++,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),_=X.beginRenderPass({colorAttachments:[{view:D,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),W=this.device.createBindGroup({layout:z,entries:[{binding:0,resource:this.sampler},{binding:1,resource:O}]});_.setPipeline(J),_.setBindGroup(0,W),_.draw(3,1,0,0),_.end(),O=D}}if(!K){let Y={width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q};for(let O=1;O<Z.mipLevelCount;++O)X.copyTextureToTexture({texture:Q,mipLevel:O-1},{texture:Z,mipLevel:O},Y),Y.width=Math.ceil(Y.width/2),Y.height=Math.ceil(Y.height/2)}if(this.device.queue.submit([X.finish()]),!K)Q.destroy();return Z}}var Gy=()=>{};class AV{constructor(Z){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:$V,buffer:Ay,video:My,compressed:By},this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuSources"),Z.renderableGC.addManagedHash(this,"_gpuSamplers"),Z.renderableGC.addManagedHash(this,"_bindGroupHash"),Z.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(Z){this._gpu=Z}initSource(Z){if(this._gpuSources[Z.uid])return this._gpuSources[Z.uid];return this._initSource(Z)}_initSource(Z){if(Z.autoGenerateMipmaps){let Y=Math.max(Z.pixelWidth,Z.pixelHeight);Z.mipLevelCount=Math.floor(Math.log2(Y))+1}let J=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;if(Z.uploadMethodId!=="compressed")J|=GPUTextureUsage.RENDER_ATTACHMENT,J|=GPUTextureUsage.COPY_SRC;let Q=wM[Z.format]||{blockBytes:4,blockWidth:1,blockHeight:1},q=Math.ceil(Z.pixelWidth/Q.blockWidth)*Q.blockWidth,K=Math.ceil(Z.pixelHeight/Q.blockHeight)*Q.blockHeight,X={label:Z.label,size:{width:q,height:K},format:Z.format,sampleCount:Z.sampleCount,mipLevelCount:Z.mipLevelCount,dimension:Z.dimension,usage:J},z=this._gpuSources[Z.uid]=this._gpu.device.createTexture(X);if(!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceResize,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),z}onSourceUpdate(Z){let J=this.getGpuSource(Z);if(!J)return;if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,J,this._gpu);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z)}onSourceUnload(Z){let J=this._gpuSources[Z.uid];if(J)this._gpuSources[Z.uid]=null,J.destroy()}onUpdateMipmaps(Z){if(!this._mipmapGenerator)this._mipmapGenerator=new LM(this._gpu.device);let J=this.getGpuSource(Z);this._mipmapGenerator.generateMipmap(J)}onSourceDestroy(Z){Z.off("update",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("destroy",this.onSourceDestroy,this),Z.off("resize",this.onSourceResize,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}onSourceResize(Z){let J=this._gpuSources[Z.uid];if(!J)this.initSource(Z);else if(J.width!==Z.pixelWidth||J.height!==Z.pixelHeight)this._textureViewHash[Z.uid]=null,this._bindGroupHash[Z.uid]=null,this.onSourceUnload(Z),this.initSource(Z)}_initSampler(Z){return this._gpuSamplers[Z._resourceId]=this._gpu.device.createSampler(Z),this._gpuSamplers[Z._resourceId]}getGpuSampler(Z){return this._gpuSamplers[Z._resourceId]||this._initSampler(Z)}getGpuSource(Z){return this._gpuSources[Z.uid]||this.initSource(Z)}getTextureBindGroup(Z){return this._bindGroupHash[Z.uid]??this._createTextureBindGroup(Z)}_createTextureBindGroup(Z){let J=Z.source;return this._bindGroupHash[Z.uid]=new w5({0:J,1:J.style,2:new a0({uTextureMatrix:{type:"mat3x3<f32>",value:Z.textureMatrix.mapCoord}})}),this._bindGroupHash[Z.uid]}getTextureView(Z){let J=Z.source;return this._textureViewHash[J.uid]??this._createTextureView(J)}_createTextureView(Z){return this._textureViewHash[Z.uid]=this.getGpuSource(Z).createView(),this._textureViewHash[Z.uid]}generateCanvas(Z){let J=this._renderer,Q=J.gpu.device.createCommandEncoder(),q=K0.get().createCanvas();q.width=Z.source.pixelWidth,q.height=Z.source.pixelHeight;let K=q.getContext("webgpu");return K.configure({device:J.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:K0.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),Q.copyTextureToTexture({texture:J.texture.getGpuSource(Z.source),origin:{x:0,y:0}},{texture:K.getCurrentTexture()},{width:q.width,height:q.height}),J.gpu.device.queue.submit([Q.finish()]),q}getPixels(Z){let J=this.generateCanvas(Z),Q=_8.getOptimalCanvasAndContext(J.width,J.height),q=Q.context;q.drawImage(J,0,0);let{width:K,height:X}=J,z=q.getImageData(0,0,K,X),Y=new Uint8ClampedArray(z.data.buffer);return _8.returnCanvasAndContext(Q),{pixels:Y,width:K,height:X}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null;for(let Z of Object.keys(this._bindGroupHash)){let J=Number(Z);this._bindGroupHash[J]?.destroy(),this._bindGroupHash[J]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}var Fy=F(()=>{i0();g();k5();ZQ();G9();Dy();_y();CM();Wy();Gy();AV.extension={type:[T.WebGPUSystem],name:"texture"}});var Ry={};zN(Ry,{WebGPURenderer:()=>Ly});var ya,ha,xa,jy,wy,Cy,Ly;var Ey=F(()=>{g();pv();sv();nv();tK();VM();_6();mf();df();cf();uf();lf();pf();af();Zy();Qy();qy();Vy();Oy();$y();Fy();ya=[...oY,XV,JV,qX,QV,eY,AV,VV,OV,UV,YV,ZV,qV,rY],ha=[...tY,zV],xa=[vY,kY,bY],jy=[],wy=[],Cy=[];Z0.handleByNamedList(T.WebGPUSystem,jy);Z0.handleByNamedList(T.WebGPUPipes,wy);Z0.handleByNamedList(T.WebGPUPipesAdaptor,Cy);Z0.add(...ya,...ha,...xa);Ly=class Ly extends R9{constructor(){let Z={name:"webgpu",type:j1.WEBGPU,systems:jy,renderPipes:wy,renderPipeAdaptors:Cy};super(Z)}}});class DV{contextChange(Z){let J=new a0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),Q=Z.limits.maxBatchableTextures,q=O4({name:"graphics",bits:[dJ,uJ(Q),qQ,$4]});this.shader=new k1({glProgram:q,resources:{localUniforms:J,batchSamplers:lJ(Q)}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:z,instructions:Y}=X.getContextRenderData(Q);q.groups[0]=K.globalUniforms.bindGroup,K.state.set(Z.state),K.shader.bind(q),K.geometry.bind(z.geometry,q.glProgram);let O=Y.instructions;for(let U=0;U<Y.instructionSize;U++){let A=O[U];if(A.size){for(let D=0;D<A.textures.count;D++)K.texture.bind(A.textures.textures[D],D);K.geometry.draw(A.topology,A.size,A.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}var Iy=F(()=>{g();T0();w9();kK();PK();KQ();C9();dH();g6();k5();DV.extension={type:[T.WebGLPipesAdaptor],name:"graphics"}});class BV{init(){let Z=O4({name:"mesh",bits:[qQ,av,$4]});this._shader=new k1({glProgram:Z,resources:{uTexture:p.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q){q=this._shader;let K=J.texture,X=K.source;q.resources.uTexture=X,q.resources.uSampler=X.style,q.resources.textureUniforms.uniforms.uTextureMatrix=K.textureMatrix.mapCoord}else if(!q.glProgram){e("Mesh shader has no glProgram",J.shader);return}q.groups[100]=Q.globalUniforms.bindGroup,q.groups[101]=Z.localUniformsBindGroup,Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var Ty=F(()=>{g();T0();w9();KQ();C9();i_();g6();p0();l0();BV.extension={type:[T.WebGLPipesAdaptor],name:"mesh"}});class _V{constructor(){this._tempState=x1.for2d(),this._didUploadHash={}}init(Z){Z.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(Z,J,Q){let q=Z.renderer,K=this._didUploadHash[Q.uid];if(q.shader.bind(Q,K),!K)this._didUploadHash[Q.uid]=!0;q.shader.updateUniformGroup(q.globalUniforms.uniformGroup),q.geometry.bind(J,Q.glProgram)}execute(Z,J){let Q=Z.renderer;this._tempState.blendMode=J.blendMode,Q.state.set(this._tempState);let q=J.textures.textures;for(let K=0;K<J.textures.count;K++)Q.texture.bind(q[K],K);Q.geometry.draw(J.topology,J.size,J.start)}}var Sy=F(()=>{g();m6();_V.extension={type:[T.WebGLPipesAdaptor],name:"batch"}});var zX;var by=F(()=>{zX=((Z)=>{return Z[Z.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Z[Z.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Z[Z.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Z})(zX||{})});class RM{constructor(Z,J){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=Z||null,this.updateID=-1,this.byteLength=-1,this.type=J}}var ky=()=>{};class MV{constructor(Z){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGLBuffer(Z)}bind(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);J.bindBuffer(Q.type,Q.buffer)}bindBufferBase(Z,J){let{_gl:Q}=this;if(this._boundBufferBases[J]!==Z)this._boundBufferBases[J]=Z,Z._lastBindBaseLocation=J,Q.bindBufferBase(Q.UNIFORM_BUFFER,J,Z.buffer)}nextBindBase(Z){if(this._bindCallId++,this._minBaseLocation=0,Z){if(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1)this._nextBindBaseIndex=1}}freeLocationForBufferBase(Z){let J=this.getLastBindBaseLocation(Z);if(J>=this._minBaseLocation)return Z._lastBindCallId=this._bindCallId,J;let Q=0,q=this._nextBindBaseIndex;while(Q<2){if(q>=this._maxBindings)q=this._minBaseLocation,Q++;let K=this._boundBufferBases[q];if(K&&K._lastBindCallId===this._bindCallId){q++;continue}break}if(J=q,this._nextBindBaseIndex=q+1,Q>=2)return-1;return Z._lastBindCallId=this._bindCallId,this._boundBufferBases[J]=null,J}getLastBindBaseLocation(Z){let J=Z._lastBindBaseLocation;if(this._boundBufferBases[J]===Z)return J;return-1}bindBufferRange(Z,J,Q,q){let{_gl:K}=this;Q||(Q=0),J||(J=0),this._boundBufferBases[J]=null,K.bindBufferRange(K.UNIFORM_BUFFER,J||0,Z.buffer,Q*256,q||256)}updateBuffer(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);if(Z._updateID===Q.updateID)return Q;Q.updateID=Z._updateID,J.bindBuffer(Q.type,Q.buffer);let q=Z.data,K=Z.descriptor.usage&w0.STATIC?J.STATIC_DRAW:J.DYNAMIC_DRAW;if(q)if(Q.byteLength>=q.byteLength)J.bufferSubData(Q.type,0,q,0,Z._updateSize/q.BYTES_PER_ELEMENT);else Q.byteLength=q.byteLength,J.bufferData(Q.type,q,K);else Q.byteLength=Z.descriptor.size,J.bufferData(Q.type,Q.byteLength,K);return Q}destroyAll(){let Z=this._gl;for(let J in this._gpuBuffers)Z.deleteBuffer(this._gpuBuffers[J].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(Z,J){let Q=this._gpuBuffers[Z.uid],q=this._gl;if(!J)q.deleteBuffer(Q.buffer);this._gpuBuffers[Z.uid]=null}createGLBuffer(Z){let{_gl:J}=this,Q=zX.ARRAY_BUFFER;if(Z.descriptor.usage&w0.INDEX)Q=zX.ELEMENT_ARRAY_BUFFER;else if(Z.descriptor.usage&w0.UNIFORM)Q=zX.UNIFORM_BUFFER;let q=new RM(J.createBuffer(),Q);return this._gpuBuffers[Z.uid]=q,Z.on("destroy",this.onBufferDestroy,this),q}resetState(){this._boundBufferBases=Object.create(null)}}var Py=F(()=>{g();X7();by();ky();MV.extension={type:[T.WebGLSystem],name:"buffer"}});var EM=class Z{constructor(J){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=J,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(J){this.gl=J,this._renderer.gl=J}init(J){J={...Z.defaultOptions,...J};let Q=this.multiView=J.multiView;if(J.context&&Q)e("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),Q=!1;if(Q)this.canvas=K0.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height);else this.canvas=this._renderer.view.canvas;if(J.context)this.initFromContext(J.context);else{let q=this._renderer.background.alpha<1,K=J.premultipliedAlpha??!0,X=J.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(J.preferWebGLVersion,{alpha:q,premultipliedAlpha:K,antialias:X,stencil:!0,preserveDrawingBuffer:J.preserveDrawingBuffer,powerPreference:J.powerPreference??"default"})}}ensureCanvasSize(J){if(!this.multiView){if(J!==this.canvas)e("multiView is disabled, but targetCanvas is not the main canvas");return}let{canvas:Q}=this;if(Q.width<J.width||Q.height<J.height)Q.width=Math.max(J.width,J.width),Q.height=Math.max(J.height,J.height)}initFromContext(J){this.gl=J,this.webGLVersion=J instanceof K0.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(J),this._renderer.runners.contextChange.emit(J);let Q=this._renderer.view.canvas;Q.addEventListener("webglcontextlost",this.handleContextLost,!1),Q.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(J,Q){let q,K=this.canvas;if(J===2)q=K.getContext("webgl2",Q);if(!q){if(q=K.getContext("webgl",Q),!q)throw Error("This browser does not support WebGL. Try using the canvas renderer")}this.gl=q,this.initFromContext(this.gl)}getExtensions(){let{gl:J}=this,Q={anisotropicFiltering:J.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),s3tc:J.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:J.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:J.getExtension("WEBGL_compressed_texture_etc"),etc1:J.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:J.getExtension("WEBGL_compressed_texture_pvrtc")||J.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:J.getExtension("WEBGL_compressed_texture_atc"),astc:J.getExtension("WEBGL_compressed_texture_astc"),bptc:J.getExtension("EXT_texture_compression_bptc"),rgtc:J.getExtension("EXT_texture_compression_rgtc"),loseContext:J.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...Q,drawBuffers:J.getExtension("WEBGL_draw_buffers"),depthTexture:J.getExtension("WEBGL_depth_texture"),vertexArrayObject:J.getExtension("OES_vertex_array_object")||J.getExtension("MOZ_OES_vertex_array_object")||J.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:J.getExtension("OES_element_index_uint"),floatTexture:J.getExtension("OES_texture_float"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),textureHalfFloat:J.getExtension("OES_texture_half_float"),textureHalfFloatLinear:J.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:J.getExtension("ANGLE_instanced_arrays"),srgb:J.getExtension("EXT_sRGB")};else{this.extensions={...Q,colorBufferFloat:J.getExtension("EXT_color_buffer_float")};let q=J.getExtension("WEBGL_provoking_vertex");if(q)q.provokingVertexWEBGL(q.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(J){if(J.preventDefault(),this._contextLossForced)this._contextLossForced=!1,setTimeout(()=>{if(this.gl.isContextLost())this.extensions.loseContext?.restoreContext()},0)}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){let J=this._renderer.view.canvas;this._renderer=null,J.removeEventListener("webglcontextlost",this.handleContextLost),J.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext?.loseContext()}forceContextLoss(){this.extensions.loseContext?.loseContext(),this._contextLossForced=!0}validateContext(J){let Q=J.getContextAttributes();if(Q&&!Q.stencil)e("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let q=this.supports,K=this.webGLVersion===2,X=this.extensions;if(q.uint32Indices=K||!!X.uint32ElementIndex,q.uniformBufferObject=K,q.vertexArrayObject=K||!!X.vertexArrayObject,q.srgbTextures=K||!!X.srgb,q.nonPowOf2wrapping=K,q.nonPowOf2mipmaps=K,q.msaa=K,!q.uint32Indices)e("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}},vy;var fy=F(()=>{i0();g();l0();EM.extension={type:[T.WebGLSystem],name:"context"};EM.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};vy=EM});var WV,IM,h0;var TM=F(()=>{WV=((Z)=>{return Z[Z.RGBA=6408]="RGBA",Z[Z.RGB=6407]="RGB",Z[Z.RG=33319]="RG",Z[Z.RED=6403]="RED",Z[Z.RGBA_INTEGER=36249]="RGBA_INTEGER",Z[Z.RGB_INTEGER=36248]="RGB_INTEGER",Z[Z.RG_INTEGER=33320]="RG_INTEGER",Z[Z.RED_INTEGER=36244]="RED_INTEGER",Z[Z.ALPHA=6406]="ALPHA",Z[Z.LUMINANCE=6409]="LUMINANCE",Z[Z.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Z[Z.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Z[Z.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Z})(WV||{}),IM=((Z)=>{return Z[Z.TEXTURE_2D=3553]="TEXTURE_2D",Z[Z.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Z[Z.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Z})(IM||{}),h0=((Z)=>{return Z[Z.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Z[Z.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Z[Z.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Z[Z.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Z[Z.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Z[Z.UNSIGNED_INT=5125]="UNSIGNED_INT",Z[Z.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",Z[Z.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",Z[Z.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",Z[Z.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",Z[Z.BYTE=5120]="BYTE",Z[Z.SHORT=5122]="SHORT",Z[Z.INT=5124]="INT",Z[Z.FLOAT=5126]="FLOAT",Z[Z.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",Z[Z.HALF_FLOAT=36193]="HALF_FLOAT",Z})(h0||{})});function hy(Z){return yy[Z]??yy.float32}var yy;var xy=F(()=>{TM();yy={uint8x2:h0.UNSIGNED_BYTE,uint8x4:h0.UNSIGNED_BYTE,sint8x2:h0.BYTE,sint8x4:h0.BYTE,unorm8x2:h0.UNSIGNED_BYTE,unorm8x4:h0.UNSIGNED_BYTE,snorm8x2:h0.BYTE,snorm8x4:h0.BYTE,uint16x2:h0.UNSIGNED_SHORT,uint16x4:h0.UNSIGNED_SHORT,sint16x2:h0.SHORT,sint16x4:h0.SHORT,unorm16x2:h0.UNSIGNED_SHORT,unorm16x4:h0.UNSIGNED_SHORT,snorm16x2:h0.SHORT,snorm16x4:h0.SHORT,float16x2:h0.HALF_FLOAT,float16x4:h0.HALF_FLOAT,float32:h0.FLOAT,float32x2:h0.FLOAT,float32x3:h0.FLOAT,float32x4:h0.FLOAT,uint32:h0.UNSIGNED_INT,uint32x2:h0.UNSIGNED_INT,uint32x3:h0.UNSIGNED_INT,uint32x4:h0.UNSIGNED_INT,sint32:h0.INT,sint32x2:h0.INT,sint32x3:h0.INT,sint32x4:h0.INT}});class GV{constructor(Z){this._geometryVaoHash=Object.create(null),this._renderer=Z,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){let Z=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw Error("[PixiJS] Vertex Array Objects are not supported on this device");let J=this._renderer.context.extensions.vertexArrayObject;if(J)Z.createVertexArray=()=>J.createVertexArrayOES(),Z.bindVertexArray=(q)=>J.bindVertexArrayOES(q),Z.deleteVertexArray=(q)=>J.deleteVertexArrayOES(q);let Q=this._renderer.context.extensions.vertexAttribDivisorANGLE;if(Q)Z.drawArraysInstanced=(q,K,X,z)=>{Q.drawArraysInstancedANGLE(q,K,X,z)},Z.drawElementsInstanced=(q,K,X,z,Y)=>{Q.drawElementsInstancedANGLE(q,K,X,z,Y)},Z.vertexAttribDivisor=(q,K)=>Q.vertexAttribDivisorANGLE(q,K);this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(Z,J){let Q=this.gl;this._activeGeometry=Z;let q=this.getVao(Z,J);if(this._activeVao!==q)this._activeVao=q,Q.bindVertexArray(q);this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){let Z=this._activeGeometry,J=this._renderer.buffer;for(let Q=0;Q<Z.buffers.length;Q++){let q=Z.buffers[Q];J.updateBuffer(q)}}checkCompatibility(Z,J){let Q=Z.attributes,q=J._attributeData;for(let K in q)if(!Q[K])throw Error(`shader and geometry incompatible, geometry missing the "${K}" attribute`)}getSignature(Z,J){let Q=Z.attributes,q=J._attributeData,K=["g",Z.uid];for(let X in Q)if(q[X])K.push(X,q[X].location);return K.join("-")}getVao(Z,J){return this._geometryVaoHash[Z.uid]?.[J._key]||this.initGeometryVao(Z,J)}initGeometryVao(Z,J,Q=!0){let q=this._renderer.gl,K=this._renderer.buffer;this._renderer.shader._getProgramData(J),this.checkCompatibility(Z,J);let X=this.getSignature(Z,J);if(!this._geometryVaoHash[Z.uid])this._geometryVaoHash[Z.uid]=Object.create(null),Z.on("destroy",this.onGeometryDestroy,this);let z=this._geometryVaoHash[Z.uid],Y=z[X];if(Y)return z[J._key]=Y,Y;HV(Z,J._attributeData);let O=Z.buffers;Y=q.createVertexArray(),q.bindVertexArray(Y);for(let U=0;U<O.length;U++){let A=O[U];K.bind(A)}return this.activateVao(Z,J),z[J._key]=Y,z[X]=Y,q.bindVertexArray(null),Y}onGeometryDestroy(Z,J){let Q=this._geometryVaoHash[Z.uid],q=this.gl;if(Q){if(J)for(let K in Q){if(this._activeVao!==Q[K])this.unbind();q.deleteVertexArray(Q[K])}this._geometryVaoHash[Z.uid]=null}}destroyAll(Z=!1){let J=this.gl;for(let Q in this._geometryVaoHash){if(Z)for(let q in this._geometryVaoHash[Q]){let K=this._geometryVaoHash[Q];if(this._activeVao!==K)this.unbind();J.deleteVertexArray(K[q])}this._geometryVaoHash[Q]=null}}activateVao(Z,J){let Q=this._renderer.gl,q=this._renderer.buffer,K=Z.attributes;if(Z.indexBuffer)q.bind(Z.indexBuffer);let X=null;for(let z in K){let Y=K[z],O=Y.buffer,U=q.getGlBuffer(O),A=J._attributeData[z];if(A){if(X!==U)q.bind(O),X=U;let D=A.location;Q.enableVertexAttribArray(D);let _=A8(Y.format),W=hy(Y.format);if(A.format?.substring(1,4)==="int")Q.vertexAttribIPointer(D,_.size,W,Y.stride,Y.offset);else Q.vertexAttribPointer(D,_.size,W,_.normalised,Y.stride,Y.offset);if(Y.instance)if(this.hasInstance){let j=Y.divisor??1;Q.vertexAttribDivisor(D,j)}else throw Error("geometry error, GPU Instancing is not supported on this device")}}}draw(Z,J,Q,q){let{gl:K}=this._renderer,X=this._activeGeometry,z=ga[Z||X.topology];if(q??(q=X.instanceCount),X.indexBuffer){let Y=X.indexBuffer.data.BYTES_PER_ELEMENT,O=Y===2?K.UNSIGNED_SHORT:K.UNSIGNED_INT;if(q!==1)K.drawElementsInstanced(z,J||X.indexBuffer.data.length,O,(Q||0)*Y,q);else K.drawElements(z,J||X.indexBuffer.data.length,O,(Q||0)*Y)}else if(q!==1)K.drawArraysInstanced(z,Q||0,J||X.getSize(),q);else K.drawArrays(z,Q||0,J||X.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null,this._geometryVaoHash=null}}var ga;var gy=F(()=>{g();gZ();MM();xy();ga={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};GV.extension={type:[T.WebGLSystem],name:"geometry"}});var ma,SM=class Z{constructor(J){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=J}init(J={}){let{useBackBuffer:Q,antialias:q}={...Z.defaultOptions,...J};if(this.useBackBuffer=Q,this._antialias=q,!this._renderer.context.supports.msaa)e("antialiasing, is not supported on when using the back buffer"),this._antialias=!1;this._state=x1.for2d();let K=new V5({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new k1({glProgram:K,resources:{uTexture:p.WHITE.source}})}renderStart(J){let Q=this._renderer.renderTarget.getRenderTarget(J.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!Q.isRoot,this._useBackBufferThisRender){let q=this._renderer.renderTarget.getRenderTarget(J.target);this._targetTexture=q.colorTexture,J.target=this._getBackBufferTexture(q.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){let J=this._renderer;if(J.renderTarget.finishRenderPass(),!this._useBackBufferThisRender)return;J.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,J.encoder.draw({geometry:ma,shader:this._bigTriangleShader,state:this._state})}_getBackBufferTexture(J){return this._backBufferTexture=this._backBufferTexture||new p({source:new x0({width:J.width,height:J.height,resolution:J._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(J.width,J.height,J._resolution),this._backBufferTexture}destroy(){if(this._backBufferTexture)this._backBufferTexture.destroy(),this._backBufferTexture=null}},my;var dy=F(()=>{g();l0();xJ();g6();m6();l5();p0();Y4();ma=new x6({attributes:{aPosition:[-1,-1,3,-1,-1,3]}});SM.extension={type:[T.WebGLSystem],name:"backBuffer",priority:1};SM.defaultOptions={useBackBuffer:!1};my=SM});class FV{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.gl.colorMask(!!(Z&8),!!(Z&4),!!(Z&2),!!(Z&1))}}var cy=F(()=>{g();FV.extension={type:[T.WebGLSystem],name:"colorMask"}});class jV{constructor(Z){this.commandFinished=Promise.resolve(),this._renderer=Z}setGeometry(Z,J){this._renderer.geometry.bind(Z,J.glProgram)}finishRenderPass(){}draw(Z){let J=this._renderer,{geometry:Q,shader:q,state:K,skipSync:X,topology:z,size:Y,start:O,instanceCount:U}=Z;if(J.shader.bind(q,X),J.geometry.bind(Q,J.shader._activeProgram),K)J.state.set(K);J.geometry.draw(z,Y,O,U??Q.instanceCount)}destroy(){this._renderer=null}}var uy=F(()=>{g();jV.extension={type:[T.WebGLSystem],name:"encoder"}});class wV{constructor(Z){this._renderer=Z}contextChange(){let Z=this._renderer.gl;this.maxTextures=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=hH(this.maxTextures,Z);let J=this._renderer.context.webGLVersion===2;this.maxUniformBindings=J?Z.getParameter(Z.MAX_UNIFORM_BUFFER_BINDINGS):0}destroy(){}}var ly=F(()=>{g();$B();wV.extension={type:[T.WebGLSystem],name:"limits"}});class CV{constructor(Z){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:U1.NONE},this._renderTargetStencilState=Object.create(null),Z.renderTarget.onRenderTargetChange.add(this)}contextChange(Z){this._gl=Z,this._comparisonFuncMapping={always:Z.ALWAYS,never:Z.NEVER,equal:Z.EQUAL,"not-equal":Z.NOTEQUAL,less:Z.LESS,"less-equal":Z.LEQUAL,greater:Z.GREATER,"greater-equal":Z.GEQUAL},this._stencilOpsMapping={keep:Z.KEEP,zero:Z.ZERO,replace:Z.REPLACE,invert:Z.INVERT,"increment-clamp":Z.INCR,"decrement-clamp":Z.DECR,"increment-wrap":Z.INCR_WRAP,"decrement-wrap":Z.DECR_WRAP},this.resetState()}onRenderTargetChange(Z){if(this._activeRenderTarget===Z)return;this._activeRenderTarget=Z;let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:U1.DISABLED,stencilReference:0};this.setStencilMode(J.stencilMode,J.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=U1.NONE,this._stencilCache.stencilReference=0}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid],q=this._gl,K=D4[Z],X=this._stencilCache;if(Q.stencilMode=Z,Q.stencilReference=J,Z===U1.DISABLED){if(this._stencilCache.enabled)this._stencilCache.enabled=!1,q.disable(q.STENCIL_TEST);return}if(!this._stencilCache.enabled)this._stencilCache.enabled=!0,q.enable(q.STENCIL_TEST);if(Z!==X.stencilMode||X.stencilReference!==J)X.stencilMode=Z,X.stencilReference=J,q.stencilFunc(this._comparisonFuncMapping[K.stencilBack.compare],J,255),q.stencilOp(q.KEEP,q.KEEP,this._stencilOpsMapping[K.stencilBack.passOp])}}var py=F(()=>{g();WM();xZ();CV.extension={type:[T.WebGLSystem],name:"stencil"}});function iy(Z){let J=Z.map((X)=>({data:X,offset:0,size:0})),Q=16,q=0,K=0;for(let X=0;X<J.length;X++){let z=J[X];if(q=bM[z.data.type],!q)throw Error(`Unknown type ${z.data.type}`);if(z.data.size>1)q=Math.max(q,16)*z.data.size;let Y=q===12?16:q;z.size=q;let O=K%16;if(O>0&&16-O<Y)K+=(16-O)%16;else K+=(q-O%q)%q;z.offset=K,K+=q}return K=Math.ceil(K/16)*16,{uboElements:J,size:K}}var bM;var kM=F(()=>{bM={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":32,"mat3x3<f32>":48,"mat4x4<f32>":64}});function ay(Z,J){let Q=Math.max(bM[Z.data.type]/16,1),q=Z.data.value.length/Z.data.size,K=(4-q%4)%4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${Z.data.name};
        offset += ${J};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${Z.data.size*Q}; i++)
        {
            for(var j = 0; j < ${q}; j++)
            {
                ${X}[arrayOffset++] = v[t++];
            }
            ${K!==0?`arrayOffset += ${K};`:""}
        }
    `}var sy=F(()=>{kM()});function ny(Z){return KV(Z,"uboStd40",ay,DM)}var oy=F(()=>{AM();BM();sy()});var LV;var ty=F(()=>{g();OM();kM();oy();LV=class LV extends KX{constructor(){super({createUboElements:iy,generateUboSync:ny})}};LV.extension={type:[T.WebGLSystem],name:"ubo"}});class PM{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}var ry=()=>{};class vM{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new U0}init(Z,J){this._renderer=Z,this._renderTargetSystem=J,Z.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new U0}copyToTexture(Z,J,Q,q,K){let X=this._renderTargetSystem,z=this._renderer,Y=X.getGpuRenderTarget(Z),O=z.gl;return this.finishRenderPass(Z),O.bindFramebuffer(O.FRAMEBUFFER,Y.resolveTargetFramebuffer),z.texture.bind(J,0),O.copyTexSubImage2D(O.TEXTURE_2D,0,K.x,K.y,Q.x,Q.y,q.width,q.height),J}startRenderPass(Z,J=!0,Q,q){let K=this._renderTargetSystem,X=Z.colorTexture,z=K.getGpuRenderTarget(Z),Y=q.y;if(Z.isRoot)Y=X.pixelHeight-q.height;Z.colorTextures.forEach((A)=>{this._renderer.texture.unbind(A)});let O=this._renderer.gl;O.bindFramebuffer(O.FRAMEBUFFER,z.framebuffer);let U=this._viewPortCache;if(U.x!==q.x||U.y!==Y||U.width!==q.width||U.height!==q.height)U.x=q.x,U.y=Y,U.width=q.width,U.height=q.height,O.viewport(q.x,Y,q.width,q.height);if(!z.depthStencilRenderBuffer&&(Z.stencil||Z.depth))this._initStencil(z);this.clear(Z,J,Q)}finishRenderPass(Z){let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(!Q.msaa)return;let q=this._renderer.gl;q.bindFramebuffer(q.FRAMEBUFFER,Q.resolveTargetFramebuffer),q.bindFramebuffer(q.READ_FRAMEBUFFER,Q.framebuffer),q.blitFramebuffer(0,0,Q.width,Q.height,0,0,Q.width,Q.height,q.COLOR_BUFFER_BIT,q.NEAREST),q.bindFramebuffer(q.FRAMEBUFFER,Q.framebuffer)}initGpuRenderTarget(Z){let Q=this._renderer.gl,q=new PM;if(Z.colorTexture instanceof a5)return this._renderer.context.ensureCanvasSize(Z.colorTexture.resource),q.framebuffer=null,q;return this._initColor(Z,q),Q.bindFramebuffer(Q.FRAMEBUFFER,null),q}destroyGpuRenderTarget(Z){let J=this._renderer.gl;if(Z.framebuffer)J.deleteFramebuffer(Z.framebuffer),Z.framebuffer=null;if(Z.resolveTargetFramebuffer)J.deleteFramebuffer(Z.resolveTargetFramebuffer),Z.resolveTargetFramebuffer=null;if(Z.depthStencilRenderBuffer)J.deleteRenderbuffer(Z.depthStencilRenderBuffer),Z.depthStencilRenderBuffer=null;Z.msaaRenderBuffer.forEach((Q)=>{J.deleteRenderbuffer(Q)}),Z.msaaRenderBuffer=null}clear(Z,J,Q){if(!J)return;let q=this._renderTargetSystem;if(typeof J==="boolean")J=J?U5.ALL:U5.NONE;let K=this._renderer.gl;if(J&U5.COLOR){Q??(Q=q.defaultClearColor);let X=this._clearColorCache,z=Q;if(X[0]!==z[0]||X[1]!==z[1]||X[2]!==z[2]||X[3]!==z[3])X[0]=z[0],X[1]=z[1],X[2]=z[2],X[3]=z[3],K.clearColor(z[0],z[1],z[2],z[3])}K.clear(J)}resizeGpuRenderTarget(Z){if(Z.isRoot)return;let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(this._resizeColor(Z,Q),Z.stencil||Z.depth)this._resizeStencil(Q)}_initColor(Z,J){let Q=this._renderer,q=Q.gl,K=q.createFramebuffer();if(J.resolveTargetFramebuffer=K,q.bindFramebuffer(q.FRAMEBUFFER,K),J.width=Z.colorTexture.source.pixelWidth,J.height=Z.colorTexture.source.pixelHeight,Z.colorTextures.forEach((X,z)=>{let Y=X.source;if(Y.antialias)if(Q.context.supports.msaa)J.msaa=!0;else e("[RenderTexture] Antialiasing on textures is not supported in WebGL1");Q.texture.bindSource(Y,0);let U=Q.texture.getGlSource(Y).texture;q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+z,3553,U,0)}),J.msaa){let X=q.createFramebuffer();J.framebuffer=X,q.bindFramebuffer(q.FRAMEBUFFER,X),Z.colorTextures.forEach((z,Y)=>{let O=q.createRenderbuffer();J.msaaRenderBuffer[Y]=O})}else J.framebuffer=K;this._resizeColor(Z,J)}_resizeColor(Z,J){let Q=Z.colorTexture.source;if(J.width=Q.pixelWidth,J.height=Q.pixelHeight,Z.colorTextures.forEach((q,K)=>{if(K===0)return;q.source.resize(Q.width,Q.height,Q._resolution)}),J.msaa){let q=this._renderer,K=q.gl,X=J.framebuffer;K.bindFramebuffer(K.FRAMEBUFFER,X),Z.colorTextures.forEach((z,Y)=>{let O=z.source;q.texture.bindSource(O,0);let A=q.texture.getGlSource(O).internalFormat,D=J.msaaRenderBuffer[Y];K.bindRenderbuffer(K.RENDERBUFFER,D),K.renderbufferStorageMultisample(K.RENDERBUFFER,4,A,O.pixelWidth,O.pixelHeight),K.framebufferRenderbuffer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+Y,K.RENDERBUFFER,D)})}}_initStencil(Z){if(Z.framebuffer===null)return;let J=this._renderer.gl,Q=J.createRenderbuffer();Z.depthStencilRenderBuffer=Q,J.bindRenderbuffer(J.RENDERBUFFER,Q),J.framebufferRenderbuffer(J.FRAMEBUFFER,J.DEPTH_STENCIL_ATTACHMENT,J.RENDERBUFFER,Q),this._resizeStencil(Z)}_resizeStencil(Z){let J=this._renderer.gl;if(J.bindRenderbuffer(J.RENDERBUFFER,Z.depthStencilRenderBuffer),Z.msaa)J.renderbufferStorageMultisample(J.RENDERBUFFER,4,J.DEPTH24_STENCIL8,Z.width,Z.height);else J.renderbufferStorage(J.RENDERBUFFER,this._renderer.context.webGLVersion===2?J.DEPTH24_STENCIL8:J.DEPTH_STENCIL,Z.width,Z.height)}prerender(Z){let J=Z.colorTexture.resource;if(this._renderer.context.multiView&&a5.test(J))this._renderer.context.ensureCanvasSize(J)}postrender(Z){if(!this._renderer.context.multiView)return;if(a5.test(Z.colorTexture.resource)){let J=this._renderer.context.canvas,Q=Z.colorTexture;Q.context2D.drawImage(J,0,Q.pixelHeight-J.height)}}}var ey=F(()=>{r1();l0();vJ();XQ();ry()});var RV;var Zh=F(()=>{g();GM();ey();RV=class RV extends NX{constructor(Z){super(Z);this.adaptor=new vM,this.adaptor.init(Z,this)}};RV.extension={type:[T.WebGLSystem],name:"renderTarget"}});function Jh(Z,J){let Q=[],q=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `],K=!1,X=0,z=J._getProgramData(Z.glProgram);for(let O in Z.groups){let U=Z.groups[O];Q.push(`
            resources = g[${O}].resources;
        `);for(let A in U.resources){let D=U.resources[A];if(D instanceof a0)if(D.ubo){let _=Z._uniformBindMap[O][Number(A)];Q.push(`
                        sS.bindUniformBlock(
                            resources[${A}],
                            '${_}',
                            ${Z.glProgram._uniformBlockData[_].index}
                        );
                    `)}else Q.push(`
                        ugS.updateUniformGroup(resources[${A}], p, sD);
                    `);else if(D instanceof sZ){let _=Z._uniformBindMap[O][Number(A)];Q.push(`
                    sS.bindUniformBlock(
                        resources[${A}],
                        '${_}',
                        ${Z.glProgram._uniformBlockData[_].index}
                    );
                `)}else if(D instanceof x0){let _=Z._uniformBindMap[O][A],W=z.uniformData[_];if(W){if(!K)K=!0,q.push(`
                        var tS = r.texture;
                        `);J._gl.uniform1i(W.location,X),Q.push(`
                        tS.bind(resources[${A}], ${X});
                    `),X++}}}}let Y=[...q,...Q].join(`
`);return Function("r","s","sD",Y)}var Qh=F(()=>{NV();k5();l5()});class fM{constructor(Z,J){this.program=Z,this.uniformData=J,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}var qh=()=>{};function yM(Z,J,Q){let q=Z.createShader(J);return Z.shaderSource(q,Q),Z.compileShader(q),q}var Kh=()=>{};function hM(Z){let J=Array(Z);for(let Q=0;Q<J.length;Q++)J[Q]=!1;return J}function EV(Z,J){switch(Z){case"float":return 0;case"vec2":return new Float32Array(2*J);case"vec3":return new Float32Array(3*J);case"vec4":return new Float32Array(4*J);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*J);case"ivec3":return new Int32Array(3*J);case"ivec4":return new Int32Array(4*J);case"uvec2":return new Uint32Array(2*J);case"uvec3":return new Uint32Array(3*J);case"uvec4":return new Uint32Array(4*J);case"bool":return!1;case"bvec2":return hM(2*J);case"bvec3":return hM(3*J);case"bvec4":return hM(4*J);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var xM=()=>{};function gM(Z,J){if(!IV){let Q=Object.keys(Xh);IV={};for(let q=0;q<Q.length;++q){let K=Q[q];IV[Z[K]]=Xh[K]}}return IV[J]}function Nh(Z,J){let Q=gM(Z,J);return da[Q]||"float32"}var IV=null,Xh,da;var mM=F(()=>{Xh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},da={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"}});function zh(Z,J,Q=!1){let q={},K=J.getProgramParameter(Z,J.ACTIVE_ATTRIBUTES);for(let z=0;z<K;z++){let Y=J.getActiveAttrib(Z,z);if(Y.name.startsWith("gl_"))continue;let O=Nh(J,Y.type);q[Y.name]={location:0,format:O,stride:A8(O).stride,offset:0,instance:!1,start:0}}let X=Object.keys(q);if(Q){X.sort((z,Y)=>z>Y?1:-1);for(let z=0;z<X.length;z++)q[X[z]].location=z,J.bindAttribLocation(Z,z,X[z]);J.linkProgram(Z)}else for(let z=0;z<X.length;z++)q[X[z]].location=J.getAttribLocation(Z,X[z]);return q}var Hh=F(()=>{gZ();mM()});function Yh(Z,J){if(!J.ACTIVE_UNIFORM_BLOCKS)return{};let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORM_BLOCKS);for(let K=0;K<q;K++){let X=J.getActiveUniformBlockName(Z,K),z=J.getUniformBlockIndex(Z,X),Y=J.getActiveUniformBlockParameter(Z,K,J.UNIFORM_BLOCK_DATA_SIZE);Q[X]={name:X,index:z,size:Y}}return Q}var Vh=()=>{};function Oh(Z,J){let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORMS);for(let K=0;K<q;K++){let X=J.getActiveUniform(Z,K),z=X.name.replace(/\[.*?\]$/,""),Y=!!X.name.match(/\[.*?\]$/),O=gM(J,X.type);Q[z]={name:z,index:K,type:O,size:X.size,isArray:Y,value:EV(O,X.size)}}return Q}var Uh=F(()=>{xM();mM()});function $h(Z,J){let Q=Z.getShaderSource(J).split(`
`).map((U,A)=>`${A}: ${U}`),q=Z.getShaderInfoLog(J),K=q.split(`
`),X={},z=K.map((U)=>parseFloat(U.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter((U)=>{if(U&&!X[U])return X[U]=!0,!0;return!1}),Y=[""];z.forEach((U)=>{Q[U-1]=`%c${Q[U-1]}%c`,Y.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let O=Q.join(`
`);Y[0]=O,console.error(q),console.groupCollapsed("click to view full shader code"),console.warn(...Y),console.groupEnd()}function Ah(Z,J,Q,q){if(!Z.getProgramParameter(J,Z.LINK_STATUS)){if(!Z.getShaderParameter(Q,Z.COMPILE_STATUS))$h(Z,Q);if(!Z.getShaderParameter(q,Z.COMPILE_STATUS))$h(Z,q);if(console.error("PixiJS Error: Could not initialize shader."),Z.getProgramInfoLog(J)!=="")console.warn("PixiJS Warning: gl.getProgramInfoLog()",Z.getProgramInfoLog(J))}}var Dh=()=>{};function Bh(Z,J){let Q=yM(Z,Z.VERTEX_SHADER,J.vertex),q=yM(Z,Z.FRAGMENT_SHADER,J.fragment),K=Z.createProgram();Z.attachShader(K,Q),Z.attachShader(K,q);let X=J.transformFeedbackVaryings;if(X)if(typeof Z.transformFeedbackVaryings!=="function")e("TransformFeedback is not supported but TransformFeedbackVaryings are given.");else Z.transformFeedbackVaryings(K,X.names,X.bufferMode==="separate"?Z.SEPARATE_ATTRIBS:Z.INTERLEAVED_ATTRIBS);if(Z.linkProgram(K),!Z.getProgramParameter(K,Z.LINK_STATUS))Ah(Z,K,Q,q);J._attributeData=zh(K,Z,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(J.vertex)),J._uniformData=Oh(K,Z),J._uniformBlockData=Yh(K,Z),Z.deleteShader(Q),Z.deleteShader(q);let z={};for(let O in J._uniformData){let U=J._uniformData[O];z[O]={location:Z.getUniformLocation(K,O),value:EV(U.type,U.size)}}return new fM(K,z)}var _h=F(()=>{l0();qh();Kh();xM();Hh();Vh();Uh();Dh()});class SV{constructor(Z){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(Z){this._gl=Z,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(Z,J){if(this._setProgram(Z.glProgram),J)return;TV.textureCount=0,TV.blockIndex=0;let Q=this._shaderSyncFunctions[Z.glProgram._key];if(!Q)Q=this._shaderSyncFunctions[Z.glProgram._key]=this._generateShaderSync(Z,this);this._renderer.buffer.nextBindBase(!!Z.glProgram.transformFeedbackVaryings),Q(this._renderer,Z,TV)}updateUniformGroup(Z){this._renderer.uniformGroup.updateUniformGroup(Z,this._activeProgram,TV)}bindUniformBlock(Z,J,Q=0){let q=this._renderer.buffer,K=this._getProgramData(this._activeProgram),X=Z._bufferResource;if(!X)this._renderer.ubo.updateUniformGroup(Z);let z=Z.buffer,Y=q.updateBuffer(z),O=q.freeLocationForBufferBase(Y);if(X){let{offset:A,size:D}=Z;if(A===0&&D===z.data.byteLength)q.bindBufferBase(Y,O);else q.bindBufferRange(Y,O,A)}else if(q.getLastBindBaseLocation(Y)!==O)q.bindBufferBase(Y,O);let U=this._activeProgram._uniformBlockData[J].index;if(K.uniformBlockBindings[Q]===O)return;K.uniformBlockBindings[Q]=O,this._renderer.gl.uniformBlockBinding(K.program,U,O)}_setProgram(Z){if(this._activeProgram===Z)return;this._activeProgram=Z;let J=this._getProgramData(Z);this._gl.useProgram(J.program)}_getProgramData(Z){return this._programDataHash[Z._key]||this._createProgramData(Z)}_createProgramData(Z){let J=Z._key;return this._programDataHash[J]=Bh(this._gl,Z),this._programDataHash[J]}destroy(){for(let Z of Object.keys(this._programDataHash))this._programDataHash[Z].destroy(),this._programDataHash[Z]=null;this._programDataHash=null,this._shaderSyncFunctions=null,this._activeProgram=null,this._renderer=null,this._gl=null}_generateShaderSync(Z,J){return Jh(Z,J)}resetState(){this._activeProgram=null}}var TV;var Mh=F(()=>{g();Qh();_h();TV={textureCount:0,blockIndex:0};SV.extension={type:[T.WebGLSystem],name:"shader"}});var Wh,Gh;var Fh=F(()=>{Wh={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},Gh={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"}});function jh(Z,J){let Q=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(let q in Z.uniforms){if(!J[q]){if(Z.uniforms[q]instanceof a0)if(Z.uniforms[q].ubo)Q.push(`
                        renderer.shader.bindUniformBlock(uv.${q}, "${q}");
                    `);else Q.push(`
                        renderer.shader.updateUniformGroup(uv.${q});
                    `);else if(Z.uniforms[q]instanceof sZ)Q.push(`
                        renderer.shader.bindBufferResource(uv.${q}, "${q}");
                    `);continue}let K=Z.uniformStructures[q],X=!1;for(let z=0;z<O7.length;z++){let Y=O7[z];if(K.type===Y.type&&Y.test(K)){Q.push(`name = "${q}";`,O7[z].uniform),X=!0;break}}if(!X){let Y=(K.size===1?Wh:Gh)[K.type].replace("location",`ud["${q}"].location`);Q.push(`
            cu = ud["${q}"];
            cv = cu.value;
            v = uv["${q}"];
            ${Y};`)}}return Function("ud","uv","renderer","syncData",Q.join(`
`))}var wh=F(()=>{NV();k5();$M();Fh()});class bV{constructor(Z){this._cache={},this._uniformGroupSyncHash={},this._renderer=Z,this.gl=null,this._cache={}}contextChange(Z){this.gl=Z}updateUniformGroup(Z,J,Q){let q=this._renderer.shader._getProgramData(J);if(!Z.isStatic||Z._dirtyId!==q.uniformDirtyGroups[Z.uid])q.uniformDirtyGroups[Z.uid]=Z._dirtyId,this._getUniformSyncFunction(Z,J)(q.uniformData,Z.uniforms,this._renderer,Q)}_getUniformSyncFunction(Z,J){return this._uniformGroupSyncHash[Z._signature]?.[J._key]||this._createUniformSyncFunction(Z,J)}_createUniformSyncFunction(Z,J){let Q=this._uniformGroupSyncHash[Z._signature]||(this._uniformGroupSyncHash[Z._signature]={}),q=this._getSignature(Z,J._uniformData,"u");if(!this._cache[q])this._cache[q]=this._generateUniformsSync(Z,J._uniformData);return Q[J._key]=this._cache[q],Q[J._key]}_generateUniformsSync(Z,J){return jh(Z,J)}_getSignature(Z,J,Q){let q=Z.uniforms,K=[`${Q}-`];for(let X in q)if(K.push(X),J[X])K.push(J[X].type);return K.join("-")}destroy(){this._renderer=null,this._cache=null}}var Ch=F(()=>{g();wh();bV.extension={type:[T.WebGLSystem],name:"uniformGroup"}});function Lh(Z){let J={};if(J.normal=[Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.add=[Z.ONE,Z.ONE],J.multiply=[Z.DST_COLOR,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.screen=[Z.ONE,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.none=[0,0],J["normal-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J["add-npm"]=[Z.SRC_ALPHA,Z.ONE,Z.ONE,Z.ONE],J["screen-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.erase=[Z.ZERO,Z.ONE_MINUS_SRC_ALPHA],!(Z instanceof K0.get().getWebGLRenderingContext()))J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MIN,Z.MIN],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MAX,Z.MAX];else{let q=Z.getExtension("EXT_blend_minmax");if(q)J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MIN_EXT,q.MIN_EXT],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MAX_EXT,q.MAX_EXT]}return J}var Rh=F(()=>{i0()});var ca=0,ua=1,la=2,pa=3,ia=4,aa=5,Eh=class Z{constructor(J){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[ca]=this.setBlend,this.map[ua]=this.setOffset,this.map[la]=this.setCullFace,this.map[pa]=this.setDepthTest,this.map[ia]=this.setFrontFace,this.map[aa]=this.setDepthMask,this.checks=[],this.defaultState=x1.for2d(),J.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(J){if(this._invertFrontFace=!J.isRoot,this._cullFace)this.setFrontFace(this._frontFace);else this._frontFaceDirty=!0}contextChange(J){this.gl=J,this.blendModesMap=Lh(J),this.resetState()}set(J){if(J||(J=this.defaultState),this.stateId!==J.data){let Q=this.stateId^J.data,q=0;while(Q){if(Q&1)this.map[q].call(this,!!(J.data&1<<q));Q>>=1,q++}this.stateId=J.data}for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J)}forceState(J){J||(J=this.defaultState);for(let Q=0;Q<this.map.length;Q++)this.map[Q].call(this,!!(J.data&1<<Q));for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J);this.stateId=J.data}setBlend(J){this._updateCheck(Z._checkBlendMode,J),this.gl[J?"enable":"disable"](this.gl.BLEND)}setOffset(J){this._updateCheck(Z._checkPolygonOffset,J),this.gl[J?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(J){this.gl[J?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(J){this.gl.depthMask(J)}setCullFace(J){if(this._cullFace=J,this.gl[J?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty)this.setFrontFace(this._frontFace)}setFrontFace(J){this._frontFace=J,this._frontFaceDirty=!1;let Q=this._invertFrontFace?!J:J;if(this._glFrontFace!==Q)this._glFrontFace=Q,this.gl.frontFace(this.gl[Q?"CW":"CCW"])}setBlendMode(J){if(!this.blendModesMap[J])J="normal";if(J===this.blendMode)return;this.blendMode=J;let Q=this.blendModesMap[J],q=this.gl;if(Q.length===2)q.blendFunc(Q[0],Q[1]);else q.blendFuncSeparate(Q[0],Q[1],Q[2],Q[3]);if(Q.length===6)this._blendEq=!0,q.blendEquationSeparate(Q[4],Q[5]);else if(this._blendEq)this._blendEq=!1,q.blendEquationSeparate(q.FUNC_ADD,q.FUNC_ADD)}setPolygonOffset(J,Q){this.gl.polygonOffset(J,Q)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(J,Q){let q=this.checks.indexOf(J);if(Q&&q===-1)this.checks.push(J);else if(!Q&&q!==-1)this.checks.splice(q,1)}static _checkBlendMode(J,Q){J.setBlendMode(Q.blendMode)}static _checkPolygonOffset(J,Q){J.setPolygonOffset(1,Q.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}},Ih;var Th=F(()=>{g();m6();Rh();Eh.extension={type:[T.WebGLSystem],name:"state"};Ih=Eh});class dM{constructor(Z){this.target=IM.TEXTURE_2D,this.texture=Z,this.width=-1,this.height=-1,this.type=h0.UNSIGNED_BYTE,this.internalFormat=WV.RGBA,this.format=WV.RGBA,this.samplerType=0}}var Sh=F(()=>{TM()});var bh;var kh=F(()=>{bh={id:"buffer",upload(Z,J,Q){if(J.width===Z.width||J.height===Z.height)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,Z.width,Z.height,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,Z.width,Z.height,0,J.format,J.type,Z.resource);J.width=Z.width,J.height=Z.height}}});var sa,Ph;var vh=F(()=>{sa={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},Ph={id:"compressed",upload(Z,J,Q){Q.pixelStorei(Q.UNPACK_ALIGNMENT,4);let{pixelWidth:q,pixelHeight:K}=Z,X=!!sa[Z.format];for(let z=0;z<Z.resource.length;z++){let Y=Z.resource[z];if(X)Q.compressedTexImage2D(Q.TEXTURE_2D,z,J.internalFormat,q,K,0,Y);else Q.texImage2D(Q.TEXTURE_2D,z,J.internalFormat,q,K,0,J.format,J.type,Y);q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var kV;var cM=F(()=>{kV={id:"image",upload(Z,J,Q,q){let{width:K,height:X}=J,z=Z.pixelWidth,Y=Z.pixelHeight,O=Z.resourceWidth,U=Z.resourceHeight;if(O<z||U<Y){if(K!==z||X!==Y)Q.texImage2D(J.target,0,J.internalFormat,z,Y,0,J.format,J.type,null);if(q===2)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,O,U,J.format,J.type,Z.resource);else Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource)}else if(K===z&&X===Y)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource);else if(q===2)Q.texImage2D(J.target,0,J.internalFormat,z,Y,0,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,J.format,J.type,Z.resource);J.width=z,J.height=Y}}});var fh;var yh=F(()=>{cM();fh={id:"video",upload(Z,J,Q,q){if(!Z.isValid){Q.texImage2D(J.target,0,J.internalFormat,1,1,0,J.format,J.type,null);return}kV.upload(Z,J,Q,q)}}});var uM,hh,PV,xh;var gh=F(()=>{uM={linear:9729,nearest:9728},hh={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},PV={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},xh={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519}});function lM(Z,J,Q,q,K,X,z,Y){let O=X;if(!Y||Z.addressModeU!=="repeat"||Z.addressModeV!=="repeat"||Z.addressModeW!=="repeat"){let U=PV[z?"clamp-to-edge":Z.addressModeU],A=PV[z?"clamp-to-edge":Z.addressModeV],D=PV[z?"clamp-to-edge":Z.addressModeW];if(J[K](O,J.TEXTURE_WRAP_S,U),J[K](O,J.TEXTURE_WRAP_T,A),J.TEXTURE_WRAP_R)J[K](O,J.TEXTURE_WRAP_R,D)}if(!Y||Z.magFilter!=="linear")J[K](O,J.TEXTURE_MAG_FILTER,uM[Z.magFilter]);if(Q){if(!Y||Z.mipmapFilter!=="linear"){let U=hh[Z.minFilter][Z.mipmapFilter];J[K](O,J.TEXTURE_MIN_FILTER,U)}}else J[K](O,J.TEXTURE_MIN_FILTER,uM[Z.minFilter]);if(q&&Z.maxAnisotropy>1){let U=Math.min(Z.maxAnisotropy,J.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT));J[K](O,q.TEXTURE_MAX_ANISOTROPY_EXT,U)}if(Z.compare)J[K](O,J.TEXTURE_COMPARE_FUNC,xh[Z.compare])}var mh=F(()=>{gh()});function dh(Z){return{r8unorm:Z.RED,r8snorm:Z.RED,r8uint:Z.RED,r8sint:Z.RED,r16uint:Z.RED,r16sint:Z.RED,r16float:Z.RED,rg8unorm:Z.RG,rg8snorm:Z.RG,rg8uint:Z.RG,rg8sint:Z.RG,r32uint:Z.RED,r32sint:Z.RED,r32float:Z.RED,rg16uint:Z.RG,rg16sint:Z.RG,rg16float:Z.RG,rgba8unorm:Z.RGBA,"rgba8unorm-srgb":Z.RGBA,rgba8snorm:Z.RGBA,rgba8uint:Z.RGBA,rgba8sint:Z.RGBA,bgra8unorm:Z.RGBA,"bgra8unorm-srgb":Z.RGBA,rgb9e5ufloat:Z.RGB,rgb10a2unorm:Z.RGBA,rg11b10ufloat:Z.RGB,rg32uint:Z.RG,rg32sint:Z.RG,rg32float:Z.RG,rgba16uint:Z.RGBA,rgba16sint:Z.RGBA,rgba16float:Z.RGBA,rgba32uint:Z.RGBA,rgba32sint:Z.RGBA,rgba32float:Z.RGBA,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT,depth24plus:Z.DEPTH_COMPONENT,"depth24plus-stencil8":Z.DEPTH_STENCIL,depth32float:Z.DEPTH_COMPONENT,"depth32float-stencil8":Z.DEPTH_STENCIL}}var ch=()=>{};function uh(Z,J){let Q={},q=Z.RGBA;if(!(Z instanceof K0.get().getWebGLRenderingContext()))Q={"rgba8unorm-srgb":Z.SRGB8_ALPHA8,"bgra8unorm-srgb":Z.SRGB8_ALPHA8},q=Z.RGBA8;else if(J.srgb)Q={"rgba8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT};return{r8unorm:Z.R8,r8snorm:Z.R8_SNORM,r8uint:Z.R8UI,r8sint:Z.R8I,r16uint:Z.R16UI,r16sint:Z.R16I,r16float:Z.R16F,rg8unorm:Z.RG8,rg8snorm:Z.RG8_SNORM,rg8uint:Z.RG8UI,rg8sint:Z.RG8I,r32uint:Z.R32UI,r32sint:Z.R32I,r32float:Z.R32F,rg16uint:Z.RG16UI,rg16sint:Z.RG16I,rg16float:Z.RG16F,rgba8unorm:Z.RGBA,...Q,rgba8snorm:Z.RGBA8_SNORM,rgba8uint:Z.RGBA8UI,rgba8sint:Z.RGBA8I,bgra8unorm:q,rgb9e5ufloat:Z.RGB9_E5,rgb10a2unorm:Z.RGB10_A2,rg11b10ufloat:Z.R11F_G11F_B10F,rg32uint:Z.RG32UI,rg32sint:Z.RG32I,rg32float:Z.RG32F,rgba16uint:Z.RGBA16UI,rgba16sint:Z.RGBA16I,rgba16float:Z.RGBA16F,rgba32uint:Z.RGBA32UI,rgba32sint:Z.RGBA32I,rgba32float:Z.RGBA32F,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT16,depth24plus:Z.DEPTH_COMPONENT24,"depth24plus-stencil8":Z.DEPTH24_STENCIL8,depth32float:Z.DEPTH_COMPONENT32F,"depth32float-stencil8":Z.DEPTH32F_STENCIL8,...J.s3tc?{"bc1-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...J.s3tc_sRGB?{"bc1-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...J.rgtc?{"bc4-r-unorm":J.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":J.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":J.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":J.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...J.bptc?{"bc6h-rgb-float":J.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":J.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":J.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":J.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...J.etc?{"etc2-rgb8unorm":J.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":J.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":J.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":J.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":J.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":J.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":J.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":J.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...J.astc?{"astc-4x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}var lh=F(()=>{i0()});function ph(Z){return{r8unorm:Z.UNSIGNED_BYTE,r8snorm:Z.BYTE,r8uint:Z.UNSIGNED_BYTE,r8sint:Z.BYTE,r16uint:Z.UNSIGNED_SHORT,r16sint:Z.SHORT,r16float:Z.HALF_FLOAT,rg8unorm:Z.UNSIGNED_BYTE,rg8snorm:Z.BYTE,rg8uint:Z.UNSIGNED_BYTE,rg8sint:Z.BYTE,r32uint:Z.UNSIGNED_INT,r32sint:Z.INT,r32float:Z.FLOAT,rg16uint:Z.UNSIGNED_SHORT,rg16sint:Z.SHORT,rg16float:Z.HALF_FLOAT,rgba8unorm:Z.UNSIGNED_BYTE,"rgba8unorm-srgb":Z.UNSIGNED_BYTE,rgba8snorm:Z.BYTE,rgba8uint:Z.UNSIGNED_BYTE,rgba8sint:Z.BYTE,bgra8unorm:Z.UNSIGNED_BYTE,"bgra8unorm-srgb":Z.UNSIGNED_BYTE,rgb9e5ufloat:Z.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:Z.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:Z.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:Z.UNSIGNED_INT,rg32sint:Z.INT,rg32float:Z.FLOAT,rgba16uint:Z.UNSIGNED_SHORT,rgba16sint:Z.SHORT,rgba16float:Z.HALF_FLOAT,rgba32uint:Z.UNSIGNED_INT,rgba32sint:Z.INT,rgba32float:Z.FLOAT,stencil8:Z.UNSIGNED_BYTE,depth16unorm:Z.UNSIGNED_SHORT,depth24plus:Z.UNSIGNED_INT,"depth24plus-stencil8":Z.UNSIGNED_INT_24_8,depth32float:Z.FLOAT,"depth32float-stencil8":Z.FLOAT_32_UNSIGNED_INT_24_8_REV}}var ih=()=>{};class vV{constructor(Z){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:kV,buffer:bh,video:fh,compressed:Ph},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(Z){if(this._gl=Z,!this._mapFormatToInternalFormat)this._mapFormatToInternalFormat=uh(Z,this._renderer.context.extensions),this._mapFormatToType=ph(Z),this._mapFormatToFormat=dh(Z);this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let J=0;J<16;J++)this.bind(p.EMPTY,J)}initSource(Z){this.bind(Z)}bind(Z,J=0){let Q=Z.source;if(Z){if(this.bindSource(Q,J),this._useSeparateSamplers)this._bindSampler(Q.style,J)}else if(this.bindSource(null,J),this._useSeparateSamplers)this._bindSampler(null,J)}bindSource(Z,J=0){let Q=this._gl;if(Z._touched=this._renderer.textureGC.count,this._boundTextures[J]!==Z){this._boundTextures[J]=Z,this._activateLocation(J),Z||(Z=p.EMPTY.source);let q=this.getGlSource(Z);Q.bindTexture(q.target,q.texture)}}_bindSampler(Z,J=0){let Q=this._gl;if(!Z){this._boundSamplers[J]=null,Q.bindSampler(J,null);return}let q=this._getGlSampler(Z);if(this._boundSamplers[J]!==q)this._boundSamplers[J]=q,Q.bindSampler(J,q)}unbind(Z){let J=Z.source,Q=this._boundTextures,q=this._gl;for(let K=0;K<Q.length;K++)if(Q[K]===J){this._activateLocation(K);let X=this.getGlSource(J);q.bindTexture(X.target,null),Q[K]=null}}_activateLocation(Z){if(this._activeTextureLocation!==Z)this._activeTextureLocation=Z,this._gl.activeTexture(this._gl.TEXTURE0+Z)}_initSource(Z){let J=this._gl,Q=new dM(J.createTexture());if(Q.type=this._mapFormatToType[Z.format],Q.internalFormat=this._mapFormatToInternalFormat[Z.format],Q.format=this._mapFormatToFormat[Z.format],Z.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||Z.isPowerOfTwo)){let q=Math.max(Z.width,Z.height);Z.mipLevelCount=Math.floor(Math.log2(q))+1}if(this._glTextures[Z.uid]=Q,!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceUpdate,this),Z.on("styleChange",this.onStyleChange,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),this.updateStyle(Z,!1),Q}onStyleChange(Z){this.updateStyle(Z,!1)}updateStyle(Z,J){let Q=this._gl,q=this.getGlSource(Z);Q.bindTexture(Q.TEXTURE_2D,q.texture),this._boundTextures[this._activeTextureLocation]=Z,lM(Z.style,Q,Z.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",Q.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!Z.isPowerOfTwo,J)}onSourceUnload(Z){let J=this._glTextures[Z.uid];if(!J)return;this.unbind(Z),this._glTextures[Z.uid]=null,this._gl.deleteTexture(J.texture)}onSourceUpdate(Z){let J=this._gl,Q=this.getGlSource(Z);J.bindTexture(J.TEXTURE_2D,Q.texture),this._boundTextures[this._activeTextureLocation]=Z;let q=Z.alphaMode==="premultiply-alpha-on-upload";if(this._premultiplyAlpha!==q)this._premultiplyAlpha=q,J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q);if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,Q,J,this._renderer.context.webGLVersion);else J.texImage2D(J.TEXTURE_2D,0,J.RGBA,Z.pixelWidth,Z.pixelHeight,0,J.RGBA,J.UNSIGNED_BYTE,null);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z,!1)}onUpdateMipmaps(Z,J=!0){if(J)this.bindSource(Z,0);let Q=this.getGlSource(Z);this._gl.generateMipmap(Q.target)}onSourceDestroy(Z){Z.off("destroy",this.onSourceDestroy,this),Z.off("update",this.onSourceUpdate,this),Z.off("resize",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("styleChange",this.onStyleChange,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}_initSampler(Z){let J=this._gl,Q=this._gl.createSampler();return this._glSamplers[Z._resourceId]=Q,lM(Z,J,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",Q,!1,!0),this._glSamplers[Z._resourceId]}_getGlSampler(Z){return this._glSamplers[Z._resourceId]||this._initSampler(Z)}getGlSource(Z){return this._glTextures[Z.uid]||this._initSource(Z)}generateCanvas(Z){let{pixels:J,width:Q,height:q}=this.getPixels(Z),K=K0.get().createCanvas();K.width=Q,K.height=q;let X=K.getContext("2d");if(X){let z=X.createImageData(Q,q);z.data.set(J),X.putImageData(z,0,0)}return K}getPixels(Z){let J=Z.source.resolution,Q=Z.frame,q=Math.max(Math.round(Q.width*J),1),K=Math.max(Math.round(Q.height*J),1),X=new Uint8Array(na*q*K),z=this._renderer,Y=z.renderTarget.getRenderTarget(Z),O=z.renderTarget.getGpuRenderTarget(Y),U=z.gl;return U.bindFramebuffer(U.FRAMEBUFFER,O.resolveTargetFramebuffer),U.readPixels(Math.round(Q.x*J),Math.round(Q.y*J),q,K,U.RGBA,U.UNSIGNED_BYTE,X),{pixels:new Uint8ClampedArray(X.buffer),width:q,height:K}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null,this._glTextures=null,this._glSamplers=null,this._boundTextures=null,this._boundSamplers=null,this._mapFormatToInternalFormat=null,this._mapFormatToType=null,this._mapFormatToFormat=null,this._uploads=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(p.EMPTY.source),this._boundSamplers=Object.create(null);let Z=this._gl;this._premultiplyAlpha=!1,Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}var na=4;var ah=F(()=>{i0();g();p0();Sh();kh();vh();cM();yh();mh();ch();lh();ih();vV.extension={type:[T.WebGLSystem],name:"texture"}});var rh={};zN(rh,{WebGLRenderer:()=>th});var oa,ta,ra,sh,nh,oh,th;var eh=F(()=>{g();Iy();Ty();Sy();tK();VM();_6();Py();fy();gy();dy();cy();uy();ly();py();ty();Zh();Mh();Ch();Th();ah();oa=[...oY,LV,my,vy,wV,MV,vV,RV,GV,bV,SV,jV,Ih,CV,FV],ta=[...tY],ra=[_V,BV,DV],sh=[],nh=[],oh=[];Z0.handleByNamedList(T.WebGLSystem,sh);Z0.handleByNamedList(T.WebGLPipes,nh);Z0.handleByNamedList(T.WebGLPipesAdaptor,oh);Z0.add(...oa,...ta,...ra);th=class th extends R9{constructor(){let Z={name:"webgl",type:j1.WEBGL,systems:sh,renderPipes:nh,renderPipeAdaptors:oh};super(Z)}}});function HW(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<nV(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function B4(Z){return Z.length===0?null:Z[0]}function eV(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var z=2*(q+1)-1,Y=Z[z],O=z+1,U=Z[O];if(0>nV(Y,Q))O<K&&0>nV(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[z]=Q,q=z);else if(O<K&&0>nV(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function nV(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function tV(Z){for(var J=B4(T9);J!==null;){if(J.callback===null)eV(T9);else if(J.startTime<=Z)eV(T9),J.sortIndex=J.expirationTime,HW(U7,J);else break;J=B4(T9)}}function $W(Z){if(BX=!1,tV(Z),!DX)if(B4(U7)!==null)DX=!0,Jg();else{var J=B4(T9);J!==null&&AW($W,J.startTime-Z)}}function Zg(){return _4()-ex<Zn?!1:!0}function zW(){if(ZO){var Z=_4();ex=Z;var J=!0;try{Z:{DX=!1,BX&&(BX=!1,rx(_X),_X=-1),OW=!0;var Q=NW;try{J:{tV(Z);for(F6=B4(U7);F6!==null&&!(F6.expirationTime>Z&&Zg());){var q=F6.callback;if(typeof q==="function"){F6.callback=null,NW=F6.priorityLevel;var K=q(F6.expirationTime<=Z);if(Z=_4(),typeof K==="function"){F6.callback=K,tV(Z),J=!0;break J}F6===B4(U7)&&eV(U7),tV(Z)}else eV(U7);F6=B4(U7)}if(F6!==null)J=!0;else{var X=B4(T9);X!==null&&AW($W,X.startTime-Z),J=!1}}break Z}finally{F6=null,NW=Q,OW=!1}J=void 0}}finally{J?AX():ZO=!1}}}function Jg(){ZO||(ZO=!0,AX())}function AW(Z,J){_X=tx(function(){Z(_4())},J)}var _4=void 0,YW,oV,VW,U7,T9,es=1,F6=null,NW=3,OW=!1,DX=!1,BX=!1,tx,rx,ox,ZO=!1,_X=-1,Zn=5,ex=-1,AX,rV,UW,DW=5,BW=1,JO=3,_W=2,MW=function(Z){Z.callback=null},WW=function(){},QO=function(Z,J,Q){var q=_4();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:es++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,HW(T9,Z),B4(U7)===null&&Z===B4(T9)&&(BX?(rx(_X),_X=-1):BX=!0,AW($W,Q-q))):(Z.sortIndex=K,HW(U7,Z),DX||OW||(DX=!0,Jg())),Z},GW;var qg=F(()=>{if(typeof performance==="object"&&typeof performance.now==="function")YW=performance,_4=function(){return YW.now()};else oV=Date,VW=oV.now(),_4=function(){return oV.now()-VW};U7=[],T9=[],tx=typeof setTimeout==="function"?setTimeout:null,rx=typeof clearTimeout==="function"?clearTimeout:null,ox=typeof setImmediate<"u"?setImmediate:null;if(typeof ox==="function")AX=function(){ox(zW)};else if(typeof MessageChannel<"u")rV=new MessageChannel,UW=rV.port2,rV.port1.onmessage=zW,AX=function(){UW.postMessage(null)};else AX=function(){tx(zW,0)};GW=Zg});var Kg=aQ((u_0,MX)=>{x5();qg();MX.exports=function(Z){function J(N,H,V,$){return new Am(N,H,V,$)}function Q(){}function q(N){var H="https://react.dev/errors/"+N;if(1<arguments.length){H+="?args[]="+encodeURIComponent(arguments[1]);for(var V=2;V<arguments.length;V++)H+="&args[]="+encodeURIComponent(arguments[V])}return"Minified React error #"+N+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K(N){if(N===null||typeof N!=="object")return null;return N=EF&&N[EF]||N["@@iterator"],typeof N==="function"?N:null}function X(N){if(N==null)return null;if(typeof N==="function")return N.$$typeof===Wm?null:N.displayName||N.name||null;if(typeof N==="string")return N;switch(N){case K2:return"Fragment";case q2:return"Portal";case OU:return"Profiler";case CF:return"StrictMode";case $U:return"Suspense";case AU:return"SuspenseList"}if(typeof N==="object")switch(N.$$typeof){case w7:return(N.displayName||"Context")+".Provider";case LF:return(N._context.displayName||"Context")+".Consumer";case UU:var H=N.render;return N=N.displayName,N||(N=H.displayName||H.name||"",N=N!==""?"ForwardRef("+N+")":"ForwardRef"),N;case DU:return H=N.displayName||null,H!==null?H:X(N.type)||"Memo";case C7:H=N._payload,N=N._init;try{return X(N(H))}catch(V){}}return null}function z(N){if(BU===void 0)try{throw Error()}catch(V){var H=V.stack.trim().match(/\n( *(at )?)/);BU=H&&H[1]||"",IF=-1<V.stack.indexOf(`
    at`)?" (<anonymous>)":-1<V.stack.indexOf("@")?"@unknown:0:0":""}return`
`+BU+N+IF}function Y(N,H){if(!N||_U)return"";_U=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var $={DetermineComponentFrameRoot:function(){try{if(H){var Q0=function(){throw Error()};if(Object.defineProperty(Q0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(Q0,[])}catch(G0){var X0=G0}Reflect.construct(N,[],Q0)}else{try{Q0.call()}catch(G0){X0=G0}N.call(Q0.prototype)}}else{try{throw Error()}catch(G0){X0=G0}(Q0=N())&&typeof Q0.catch==="function"&&Q0.catch(function(){})}}catch(G0){if(G0&&X0&&typeof G0.stack==="string")return[G0.stack,X0.stack]}return[null,null]}};$.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor($.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty($.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=$.DetermineComponentFrameRoot(),E=M[0],S=M[1];if(E&&S){var P=E.split(`
`),d=S.split(`
`);for(B=$=0;$<P.length&&!P[$].includes("DetermineComponentFrameRoot");)$++;for(;B<d.length&&!d[B].includes("DetermineComponentFrameRoot");)B++;if($===P.length||B===d.length)for($=P.length-1,B=d.length-1;1<=$&&0<=B&&P[$]!==d[B];)B--;for(;1<=$&&0<=B;$--,B--)if(P[$]!==d[B]){if($!==1||B!==1)do if($--,B--,0>B||P[$]!==d[B]){var o=`
`+P[$].replace(" at new "," at ");return N.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",N.displayName)),o}while(1<=$&&0<=B);break}}}finally{_U=!1,Error.prepareStackTrace=V}return(V=N?N.displayName||N.name:"")?z(V):""}function O(N){switch(N.tag){case 26:case 27:case 5:return z(N.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return N=Y(N.type,!1),N;case 11:return N=Y(N.type.render,!1),N;case 1:return N=Y(N.type,!0),N;default:return""}}function U(N){try{var H="";do H+=O(N),N=N.return;while(N);return H}catch(V){return`
Error generating stack: `+V.message+`
`+V.stack}}function A(N){var H=N,V=N;if(N.alternate)for(;H.return;)H=H.return;else{N=H;do H=N,(H.flags&4098)!==0&&(V=H.return),N=H.return;while(N)}return H.tag===3?V:null}function D(N){if(A(N)!==N)throw Error(q(188))}function _(N){var H=N.alternate;if(!H){if(H=A(N),H===null)throw Error(q(188));return H!==N?null:N}for(var V=N,$=H;;){var B=V.return;if(B===null)break;var M=B.alternate;if(M===null){if($=B.return,$!==null){V=$;continue}break}if(B.child===M.child){for(M=B.child;M;){if(M===V)return D(B),N;if(M===$)return D(B),H;M=M.sibling}throw Error(q(188))}if(V.return!==$.return)V=B,$=M;else{for(var E=!1,S=B.child;S;){if(S===V){E=!0,V=B,$=M;break}if(S===$){E=!0,$=B,V=M;break}S=S.sibling}if(!E){for(S=M.child;S;){if(S===V){E=!0,V=M,$=B;break}if(S===$){E=!0,$=M,V=B;break}S=S.sibling}if(!E)throw Error(q(189))}}if(V.alternate!==$)throw Error(q(190))}if(V.tag!==3)throw Error(q(188));return V.stateNode.current===V?N:H}function W(N){var H=N.tag;if(H===5||H===26||H===27||H===6)return N;for(N=N.child;N!==null;){if(H=W(N),H!==null)return H;N=N.sibling}return null}function j(N){var H=N.tag;if(H===5||H===26||H===27||H===6)return N;for(N=N.child;N!==null;){if(N.tag!==4&&(H=j(N),H!==null))return H;N=N.sibling}return null}function C(N){return{current:N}}function R(N){0>N2||(N.current=wU[N2],wU[N2]=null,N2--)}function G(N,H){N2++,wU[N2]=N.current,N.current=H}function w(N){return N>>>=0,N===0?32:31-(vd(N)/fd|0)|0}function L(N){var H=N&42;if(H!==0)return H;switch(N&-N){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return N&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return N&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return N}}function I(N,H){var V=N.pendingLanes;if(V===0)return 0;var $=0,B=N.suspendedLanes,M=N.pingedLanes,E=N.warmLanes;N=N.finishedLanes!==0;var S=V&134217727;return S!==0?(V=S&~B,V!==0?$=L(V):(M&=S,M!==0?$=L(M):N||(E=S&~E,E!==0&&($=L(E))))):(S=V&~B,S!==0?$=L(S):M!==0?$=L(M):N||(E=V&~E,E!==0&&($=L(E)))),$===0?0:H!==0&&H!==$&&(H&B)===0&&(B=$&-$,E=H&-H,B>=E||B===32&&(E&4194176)!==0)?H:$}function h(N,H){return(N.pendingLanes&~(N.suspendedLanes&~N.pingedLanes)&H)===0}function v(N,H){switch(N){case 1:case 2:case 4:case 8:return H+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b(){var N=dX;return dX<<=1,(dX&4194176)===0&&(dX=128),N}function m(){var N=cX;return cX<<=1,(cX&62914560)===0&&(cX=4194304),N}function c(N){for(var H=[],V=0;31>V;V++)H.push(N);return H}function u(N,H){N.pendingLanes|=H,H!==268435456&&(N.suspendedLanes=0,N.pingedLanes=0,N.warmLanes=0)}function n(N,H,V,$,B,M){var E=N.pendingLanes;N.pendingLanes=V,N.suspendedLanes=0,N.pingedLanes=0,N.warmLanes=0,N.expiredLanes&=V,N.entangledLanes&=V,N.errorRecoveryDisabledLanes&=V,N.shellSuspendCounter=0;var{entanglements:S,expirationTimes:P,hiddenUpdates:d}=N;for(V=E&~V;0<V;){var o=31-R8(V),Q0=1<<o;S[o]=0,P[o]=-1;var X0=d[o];if(X0!==null)for(d[o]=null,o=0;o<X0.length;o++){var G0=X0[o];G0!==null&&(G0.lane&=-536870913)}V&=~Q0}$!==0&&N0(N,$,0),M!==0&&B===0&&N.tag!==0&&(N.suspendedLanes|=M&~(E&~H))}function N0(N,H,V){N.pendingLanes|=H,N.suspendedLanes&=~H;var $=31-R8(H);N.entangledLanes|=H,N.entanglements[$]=N.entanglements[$]|1073741824|V&4194218}function W0(N,H){var V=N.entangledLanes|=H;for(N=N.entanglements;V;){var $=31-R8(V),B=1<<$;B&H|N[$]&H&&(N[$]|=H),V&=~B}}function f0(N){return N&=-N,2<N?8<N?(N&134217727)!==0?32:268435456:8:2}function L5(N){if(E8&&typeof E8.onCommitFiberRoot==="function")try{E8.onCommitFiberRoot(vQ,N,void 0,(N.current.flags&128)===128)}catch(H){}}function J0(N){if(typeof md==="function"&&dd(N),E8&&typeof E8.setStrictMode==="function")try{E8.setStrictMode(vQ,N)}catch(H){}}function H0(N,H){return N===H&&(N!==0||1/N===1/H)||N!==N&&H!==H}function $1(N,H){if(typeof N==="object"&&N!==null){var V=Zj.get(N);if(V!==void 0)return V;return H={value:N,source:H,stack:U(H)},Zj.set(N,H),H}return{value:N,source:H,stack:U(H)}}function A0(N,H){H2[Y2++]=pX,H2[Y2++]=lX,lX=N,pX=H}function D0(N,H,V){n8[o8++]=L4,n8[o8++]=R4,n8[o8++]=d9,d9=N;var $=L4;N=R4;var B=32-R8($)-1;$&=~(1<<B),V+=1;var M=32-R8(H)+B;if(30<M){var E=B-B%5;M=($&(1<<E)-1).toString(32),$>>=E,B-=E,L4=1<<32-R8(H)+B|V<<B|$,R4=M+N}else L4=1<<M|V<<B|$,R4=N}function G1(N){N.return!==null&&(A0(N,1),D0(N,1,0))}function Z5(N){for(;N===lX;)lX=H2[--Y2],H2[Y2]=null,pX=H2[--Y2],H2[Y2]=null;for(;N===d9;)d9=n8[--o8],n8[o8]=null,R4=n8[--o8],n8[o8]=null,L4=n8[--o8],n8[o8]=null}function o5(N,H){G(R7,H),G(fQ,N),G(D5,null),N=jm(H),R(D5),G(D5,N)}function t5(){R(D5),R(fQ),R(R7)}function r5(N){N.memoizedState!==null&&G(iX,N);var H=D5.current,V=wm(H,N.type);H!==V&&(G(fQ,N),G(D5,V))}function W8(N){fQ.current===N&&(R(D5),R(fQ)),iX.current===N&&(R(iX),C4?m9._currentValue=X2:m9._currentValue2=X2)}function P5(N){var H=Error(q(418,""));throw v5($1(H,N)),RU}function $7(N,H){if(!a8)throw Error(q(175));Bd(N.stateNode,N.type,N.memoizedProps,H,N)||P5(N)}function u8(N){for(h5=N.return;h5;)switch(h5.tag){case 3:case 27:p6=!0;return;case 5:case 13:p6=!1;return;default:h5=h5.return}}function l8(N){if(!a8||N!==h5)return!1;if(!g0)return u8(N),g0=!0,!1;var H=!1;if(I5?N.tag!==3&&N.tag!==27&&(N.tag!==5||uF(N.type)&&!mX(N.type,N.memoizedProps))&&(H=!0):N.tag!==3&&(N.tag!==5||uF(N.type)&&!mX(N.type,N.memoizedProps))&&(H=!0),H&&T5&&P5(N),u8(N),N.tag===13){if(!a8)throw Error(q(316));if(N=N.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(q(317));T5=Wd(N)}else T5=h5?dF(N.stateNode):null;return!0}function G8(){a8&&(T5=h5=null,g0=!1)}function v5(N){L6===null?L6=[N]:L6.push(N)}function f5(){for(var N=V2,H=EU=V2=0;H<N;){var V=t8[H];t8[H++]=null;var $=t8[H];t8[H++]=null;var B=t8[H];t8[H++]=null;var M=t8[H];if(t8[H++]=null,$!==null&&B!==null){var E=$.pending;E===null?B.next=B:(B.next=E.next,E.next=B),$.pending=B}M!==0&&S9(V,B,M)}}function e5(N,H,V,$){t8[V2++]=N,t8[V2++]=H,t8[V2++]=V,t8[V2++]=$,EU|=$,N.lanes|=$,N=N.alternate,N!==null&&(N.lanes|=$)}function F8(N,H,V,$){return e5(N,H,V,$),b9(N)}function p8(N,H){return e5(N,null,null,H),b9(N)}function S9(N,H,V){N.lanes|=V;var $=N.alternate;$!==null&&($.lanes|=V);for(var B=!1,M=N.return;M!==null;)M.childLanes|=V,$=M.alternate,$!==null&&($.childLanes|=V),M.tag===22&&(N=M.stateNode,N===null||N._visibility&1||(B=!0)),N=M,M=M.return;B&&H!==null&&N.tag===3&&(M=N.stateNode,B=31-R8(V),M=M.hiddenUpdates,N=M[B],N===null?M[B]=[H]:N.push(H),H.lane=V|536870912)}function b9(N){if(50<lQ)throw lQ=0,uU=null,Error(q(185));for(var H=N.return;H!==null;)N=H,H=N.return;return N.tag===3?N.stateNode:null}function i8(N){N!==O2&&N.next===null&&(O2===null?aX=O2=N:O2=O2.next=N),sX=!0,IU||(IU=!0,l6(Q1))}function k9(N,H){if(!TU&&sX){TU=!0;do{var V=!1;for(var $=aX;$!==null;){if(!H)if(N!==0){var B=$.pendingLanes;if(B===0)var M=0;else{var{suspendedLanes:E,pingedLanes:S}=$;M=(1<<31-R8(42|N)+1)-1,M&=B&~(E&~S),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(V=!0,j6($,M))}else M=y0,M=I($,$===Y1?M:0),(M&3)===0||h($,M)||(V=!0,j6($,M));$=$.next}}while(V);TU=!1}}function Q1(){sX=IU=!1;var N=0;U2!==0&&(bm()&&(N=U2),U2=0);for(var H=C6(),V=null,$=aX;$!==null;){var B=$.next,M=H1($,H);if(M===0)$.next=null,V===null?aX=B:V.next=B,B===null&&(O2=V);else if(V=$,N!==0||(M&3)!==0)sX=!0;$=B}k9(N,!1)}function H1(N,H){for(var{suspendedLanes:V,pingedLanes:$,expirationTimes:B}=N,M=N.pendingLanes&-62914561;0<M;){var E=31-R8(M),S=1<<E,P=B[E];if(P===-1){if((S&V)===0||(S&$)!==0)B[E]=v(S,H)}else P<=H&&(N.expiredLanes|=S);M&=~S}if(H=Y1,V=y0,V=I(N,N===H?V:0),$=N.callbackNode,V===0||N===H&&V1===2||N.cancelPendingCommit!==null)return $!==null&&$!==null&&CU($),N.callbackNode=null,N.callbackPriority=0;if((V&3)===0||h(N,V)){if(H=V&-V,H===N.callbackPriority)return H;switch($!==null&&CU($),f0(V)){case 2:case 8:V=xd;break;case 32:V=LU;break;case 268435456:V=gd;break;default:V=LU}return $=$5.bind(null,N),V=uX(V,$),N.callbackPriority=H,N.callbackNode=V,H}return $!==null&&$!==null&&CU($),N.callbackPriority=2,N.callbackNode=null,2}function $5(N,H){var V=N.callbackNode;if(h9()&&N.callbackNode!==V)return null;var $=y0;if($=I(N,N===Y1?$:0),$===0)return null;return qF(N,$,H),H1(N,C6()),N.callbackNode!=null&&N.callbackNode===V?$5.bind(null,N):null}function j6(N,H){if(h9())return null;qF(N,H,!0)}function l6(N){hm?xm(function(){(K1&6)!==0?uX(eF,N):N()}):uX(eF,N)}function tZ(){return U2===0&&(U2=b()),U2}function _Q(N,H){if(yQ===null){var V=yQ=[];SU=0,$2=tZ(),A2={status:"pending",value:void 0,then:function($){V.push($)}}}return SU++,H.then(LW,LW),H}function LW(){if(--SU===0&&yQ!==null){A2!==null&&(A2.status="fulfilled");var N=yQ;yQ=null,$2=0,A2=null;for(var H=0;H<N.length;H++)(0,N[H])()}}function ag(N,H){var V=[],$={status:"pending",value:null,reason:null,then:function(B){V.push(B)}};return N.then(function(){$.status="fulfilled",$.value=H;for(var B=0;B<V.length;B++)(0,V[B])(H)},function(B){$.status="rejected",$.reason=B;for(B=0;B<V.length;B++)(0,V[B])(void 0)}),$}function HO(N){N.updateQueue={baseState:N.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function YO(N,H){N=N.updateQueue,H.updateQueue===N&&(H.updateQueue={baseState:N.baseState,firstBaseUpdate:N.firstBaseUpdate,lastBaseUpdate:N.lastBaseUpdate,shared:N.shared,callbacks:null})}function A7(N){return{lane:N,tag:0,payload:null,callback:null,next:null}}function D7(N,H,V){var $=N.updateQueue;if($===null)return null;if($=$.shared,(K1&2)!==0){var B=$.pending;return B===null?H.next=H:(H.next=B.next,B.next=H),$.pending=H,H=b9(N),S9(N,null,V),H}return e5(N,$,H,V),b9(N)}function MQ(N,H,V){if(H=H.updateQueue,H!==null&&(H=H.shared,(V&4194176)!==0)){var $=H.lanes;$&=N.pendingLanes,V|=$,H.lanes=V,W0(N,V)}}function VO(N,H){var{updateQueue:V,alternate:$}=N;if($!==null&&($=$.updateQueue,V===$)){var B=null,M=null;if(V=V.firstBaseUpdate,V!==null){do{var E={lane:V.lane,tag:V.tag,payload:V.payload,callback:null,next:null};M===null?B=M=E:M=M.next=E,V=V.next}while(V!==null);M===null?B=M=H:M=M.next=H}else B=M=H;V={baseState:$.baseState,firstBaseUpdate:B,lastBaseUpdate:M,shared:$.shared,callbacks:$.callbacks},N.updateQueue=V;return}N=V.lastBaseUpdate,N===null?V.firstBaseUpdate=H:N.next=H,V.lastBaseUpdate=H}function WQ(){if(bU){var N=A2;if(N!==null)throw N}}function GQ(N,H,V,$){bU=!1;var B=N.updateQueue;E7=!1;var{firstBaseUpdate:M,lastBaseUpdate:E}=B,S=B.shared.pending;if(S!==null){B.shared.pending=null;var P=S,d=P.next;P.next=null,E===null?M=d:E.next=d,E=P;var o=N.alternate;o!==null&&(o=o.updateQueue,S=o.lastBaseUpdate,S!==E&&(S===null?o.firstBaseUpdate=d:S.next=d,o.lastBaseUpdate=P))}if(M!==null){var Q0=B.baseState;E=0,o=d=P=null,S=M;do{var X0=S.lane&-536870913,G0=X0!==S.lane;if(G0?(y0&X0)===X0:($&X0)===X0){X0!==0&&X0===$2&&(bU=!0),o!==null&&(o=o.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});Z:{var Z6=N,pQ=S;X0=H;var o9=V;switch(pQ.tag){case 1:if(Z6=pQ.payload,typeof Z6==="function"){Q0=Z6.call(o9,Q0,X0);break Z}Q0=Z6;break Z;case 3:Z6.flags=Z6.flags&-65537|128;case 0:if(Z6=pQ.payload,X0=typeof Z6==="function"?Z6.call(o9,Q0,X0):Z6,X0===null||X0===void 0)break Z;Q0=VU({},Q0,X0);break Z;case 2:E7=!0}}X0=S.callback,X0!==null&&(N.flags|=64,G0&&(N.flags|=8192),G0=B.callbacks,G0===null?B.callbacks=[X0]:G0.push(X0))}else G0={lane:X0,tag:S.tag,payload:S.payload,callback:S.callback,next:null},o===null?(d=o=G0,P=Q0):o=o.next=G0,E|=X0;if(S=S.next,S===null)if(S=B.shared.pending,S===null)break;else G0=S,S=G0.next,G0.next=null,B.lastBaseUpdate=G0,B.shared.pending=null}while(1);o===null&&(P=Q0),B.baseState=P,B.firstBaseUpdate=d,B.lastBaseUpdate=o,M===null&&(B.shared.lanes=0),S7|=E,N.lanes=E,N.memoizedState=Q0}}function RW(N,H){if(typeof N!=="function")throw Error(q(191,N));N.call(H)}function EW(N,H){var V=N.callbacks;if(V!==null)for(N.callbacks=null,N=0;N<V.length;N++)RW(V[N],H)}function WX(N,H){if(I8(N,H))return!0;if(typeof N!=="object"||N===null||typeof H!=="object"||H===null)return!1;var V=Object.keys(N),$=Object.keys(H);if(V.length!==$.length)return!1;for($=0;$<V.length;$++){var B=V[$];if(!cd.call(H,B)||!I8(N[B],H[B]))return!1}return!0}function IW(N){return N=N.status,N==="fulfilled"||N==="rejected"}function GX(){}function TW(N,H,V){switch(V=N[V],V===void 0?N.push(H):V!==H&&(H.then(GX,GX),H=V),H.status){case"fulfilled":return H.value;case"rejected":if(N=H.reason,N===hQ)throw Error(q(483));throw N;default:if(typeof H.status==="string")H.then(GX,GX);else{if(N=Y1,N!==null&&100<N.shellSuspendCounter)throw Error(q(482));N=H,N.status="pending",N.then(function($){if(H.status==="pending"){var B=H;B.status="fulfilled",B.value=$}},function($){if(H.status==="pending"){var B=H;B.status="rejected",B.reason=$}})}switch(H.status){case"fulfilled":return H.value;case"rejected":if(N=H.reason,N===hQ)throw Error(q(483));throw N}throw D2=H,hQ}}function SW(){if(D2===null)throw Error(q(459));var N=D2;return D2=null,N}function FX(N){var H=xQ;return xQ+=1,B2===null&&(B2=[]),TW(B2,N,H)}function FQ(N,H){H=H.props.ref,N.ref=H!==void 0?H:null}function jX(N,H){if(H.$$typeof===Bm)throw Error(q(525));throw N=Object.prototype.toString.call(H),Error(q(31,N==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":N))}function bW(N){var H=N._init;return H(N._payload)}function kW(N){function H(f,k){if(N){var x=f.deletions;x===null?(f.deletions=[k],f.flags|=16):x.push(k)}}function V(f,k){if(!N)return null;for(;k!==null;)H(f,k),k=k.sibling;return null}function $(f){for(var k=new Map;f!==null;)f.key!==null?k.set(f.key,f):k.set(f.index,f),f=f.sibling;return k}function B(f,k){return f=j7(f,k),f.index=0,f.sibling=null,f}function M(f,k,x){if(f.index=x,!N)return f.flags|=1048576,k;if(x=f.alternate,x!==null)return x=x.index,x<k?(f.flags|=33554434,k):x;return f.flags|=33554434,k}function E(f){return N&&f.alternate===null&&(f.flags|=33554434),f}function S(f,k,x,s){if(k===null||k.tag!==6)return k=zU(x,f.mode,s),k.return=f,k;return k=B(k,x),k.return=f,k}function P(f,k,x,s){var z0=x.type;if(z0===K2)return o(f,k,x.props.children,s,x.key);if(k!==null&&(k.elementType===z0||typeof z0==="object"&&z0!==null&&z0.$$typeof===C7&&bW(z0)===k.type))return k=B(k,x.props),FQ(k,x),k.return=f,k;return k=hX(x.type,x.key,x.props,null,f.mode,s),FQ(k,x),k.return=f,k}function d(f,k,x,s){if(k===null||k.tag!==4||k.stateNode.containerInfo!==x.containerInfo||k.stateNode.implementation!==x.implementation)return k=HU(x,f.mode,s),k.return=f,k;return k=B(k,x.children||[]),k.return=f,k}function o(f,k,x,s,z0){if(k===null||k.tag!==7)return k=x9(x,f.mode,s,z0),k.return=f,k;return k=B(k,x),k.return=f,k}function Q0(f,k,x){if(typeof k==="string"&&k!==""||typeof k==="number"||typeof k==="bigint")return k=zU(""+k,f.mode,x),k.return=f,k;if(typeof k==="object"&&k!==null){switch(k.$$typeof){case xX:return x=hX(k.type,k.key,k.props,null,f.mode,x),FQ(x,k),x.return=f,x;case q2:return k=HU(k,f.mode,x),k.return=f,k;case C7:var s=k._init;return k=s(k._payload),Q0(f,k,x)}if(gX(k)||K(k))return k=x9(k,f.mode,x,null),k.return=f,k;if(typeof k.then==="function")return Q0(f,FX(k),x);if(k.$$typeof===w7)return Q0(f,bX(f,k),x);jX(f,k)}return null}function X0(f,k,x,s){var z0=k!==null?k.key:null;if(typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint")return z0!==null?null:S(f,k,""+x,s);if(typeof x==="object"&&x!==null){switch(x.$$typeof){case xX:return x.key===z0?P(f,k,x,s):null;case q2:return x.key===z0?d(f,k,x,s):null;case C7:return z0=x._init,x=z0(x._payload),X0(f,k,x,s)}if(gX(x)||K(x))return z0!==null?null:o(f,k,x,s,null);if(typeof x.then==="function")return X0(f,k,FX(x),s);if(x.$$typeof===w7)return X0(f,k,bX(f,x),s);jX(f,x)}return null}function G0(f,k,x,s,z0){if(typeof s==="string"&&s!==""||typeof s==="number"||typeof s==="bigint")return f=f.get(x)||null,S(k,f,""+s,z0);if(typeof s==="object"&&s!==null){switch(s.$$typeof){case xX:return f=f.get(s.key===null?x:s.key)||null,P(k,f,s,z0);case q2:return f=f.get(s.key===null?x:s.key)||null,d(k,f,s,z0);case C7:var A1=s._init;return s=A1(s._payload),G0(f,k,x,s,z0)}if(gX(s)||K(s))return f=f.get(x)||null,o(k,f,s,z0,null);if(typeof s.then==="function")return G0(f,k,x,FX(s),z0);if(s.$$typeof===w7)return G0(f,k,x,bX(k,s),z0);jX(k,s)}return null}function Z6(f,k,x,s){for(var z0=null,A1=null,$0=k,m0=k=0,q5=null;$0!==null&&m0<x.length;m0++){$0.index>m0?(q5=$0,$0=null):q5=$0.sibling;var d0=X0(f,$0,x[m0],s);if(d0===null){$0===null&&($0=q5);break}N&&$0&&d0.alternate===null&&H(f,$0),k=M(d0,k,m0),A1===null?z0=d0:A1.sibling=d0,A1=d0,$0=q5}if(m0===x.length)return V(f,$0),g0&&A0(f,m0),z0;if($0===null){for(;m0<x.length;m0++)$0=Q0(f,x[m0],s),$0!==null&&(k=M($0,k,m0),A1===null?z0=$0:A1.sibling=$0,A1=$0);return g0&&A0(f,m0),z0}for($0=$($0);m0<x.length;m0++)q5=G0($0,f,m0,x[m0],s),q5!==null&&(N&&q5.alternate!==null&&$0.delete(q5.key===null?m0:q5.key),k=M(q5,k,m0),A1===null?z0=q5:A1.sibling=q5,A1=q5);return N&&$0.forEach(function(k7){return H(f,k7)}),g0&&A0(f,m0),z0}function pQ(f,k,x,s){if(x==null)throw Error(q(151));for(var z0=null,A1=null,$0=k,m0=k=0,q5=null,d0=x.next();$0!==null&&!d0.done;m0++,d0=x.next()){$0.index>m0?(q5=$0,$0=null):q5=$0.sibling;var k7=X0(f,$0,d0.value,s);if(k7===null){$0===null&&($0=q5);break}N&&$0&&k7.alternate===null&&H(f,$0),k=M(k7,k,m0),A1===null?z0=k7:A1.sibling=k7,A1=k7,$0=q5}if(d0.done)return V(f,$0),g0&&A0(f,m0),z0;if($0===null){for(;!d0.done;m0++,d0=x.next())d0=Q0(f,d0.value,s),d0!==null&&(k=M(d0,k,m0),A1===null?z0=d0:A1.sibling=d0,A1=d0);return g0&&A0(f,m0),z0}for($0=$($0);!d0.done;m0++,d0=x.next())d0=G0($0,f,m0,d0.value,s),d0!==null&&(N&&d0.alternate!==null&&$0.delete(d0.key===null?m0:d0.key),k=M(d0,k,m0),A1===null?z0=d0:A1.sibling=d0,A1=d0);return N&&$0.forEach(function(nd){return H(f,nd)}),g0&&A0(f,m0),z0}function o9(f,k,x,s){if(typeof x==="object"&&x!==null&&x.type===K2&&x.key===null&&(x=x.props.children),typeof x==="object"&&x!==null){switch(x.$$typeof){case xX:Z:{for(var z0=x.key;k!==null;){if(k.key===z0){if(z0=x.type,z0===K2){if(k.tag===7){V(f,k.sibling),s=B(k,x.props.children),s.return=f,f=s;break Z}}else if(k.elementType===z0||typeof z0==="object"&&z0!==null&&z0.$$typeof===C7&&bW(z0)===k.type){V(f,k.sibling),s=B(k,x.props),FQ(s,x),s.return=f,f=s;break Z}V(f,k);break}else H(f,k);k=k.sibling}x.type===K2?(s=x9(x.props.children,f.mode,s,x.key),s.return=f,f=s):(s=hX(x.type,x.key,x.props,null,f.mode,s),FQ(s,x),s.return=f,f=s)}return E(f);case q2:Z:{for(z0=x.key;k!==null;){if(k.key===z0)if(k.tag===4&&k.stateNode.containerInfo===x.containerInfo&&k.stateNode.implementation===x.implementation){V(f,k.sibling),s=B(k,x.children||[]),s.return=f,f=s;break Z}else{V(f,k);break}else H(f,k);k=k.sibling}s=HU(x,f.mode,s),s.return=f,f=s}return E(f);case C7:return z0=x._init,x=z0(x._payload),o9(f,k,x,s)}if(gX(x))return Z6(f,k,x,s);if(K(x)){if(z0=K(x),typeof z0!=="function")throw Error(q(150));return x=z0.call(x),pQ(f,k,x,s)}if(typeof x.then==="function")return o9(f,k,FX(x),s);if(x.$$typeof===w7)return o9(f,k,bX(f,x),s);jX(f,x)}return typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint"?(x=""+x,k!==null&&k.tag===6?(V(f,k.sibling),s=B(k,x),s.return=f,f=s):(V(f,k),s=zU(x,f.mode,s),s.return=f,f=s),E(f)):V(f,k)}return function(f,k,x,s){try{xQ=0;var z0=o9(f,k,x,s);return B2=null,z0}catch($0){if($0===hQ)throw $0;var A1=J(29,$0,null,f.mode);return A1.lanes=s,A1.return=f,A1}finally{}}}function PW(N,H){N=S4,G(oX,N),G(_2,H),S4=N|H.baseLanes}function OO(){G(oX,S4),G(_2,_2.current)}function UO(){S4=oX.current,R(_2),R(oX)}function B7(N){var H=N.alternate;G(n1,n1.current&1),G(r8,N),i6===null&&(H===null||_2.current!==null?i6=N:H.memoizedState!==null&&(i6=N))}function vW(N){if(N.tag===22){if(G(n1,n1.current),G(r8,N),i6===null){var H=N.alternate;H!==null&&H.memoizedState!==null&&(i6=N)}}else _7(N)}function _7(){G(n1,n1.current),G(r8,r8.current)}function M4(N){R(r8),i6===N&&(i6=null),R(n1)}function wX(N){for(var H=N;H!==null;){if(H.tag===13){var V=H.memoizedState;if(V!==null&&(V=V.dehydrated,V===null||GU(V)||FU(V)))return H}else if(H.tag===19&&H.memoizedProps.revealOrder!==void 0){if((H.flags&128)!==0)return H}else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return null;H=H.return}H.sibling.return=H.return,H=H.sibling}return null}function P1(){throw Error(q(321))}function $O(N,H){if(H===null)return!1;for(var V=0;V<H.length&&V<N.length;V++)if(!I8(N[V],H[V]))return!1;return!0}function AO(N,H,V,$,B,M){return I7=M,C0=H,H.memoizedState=null,H.updateQueue=null,H.lanes=0,B0.H=N===null||N.memoizedState===null?l9:T7,u9=!1,M=V($,B),u9=!1,M2&&(M=yW(H,V,$,B)),fW(N),M}function fW(N){B0.H=a6;var H=q1!==null&&q1.next!==null;if(I7=0,m1=q1=C0=null,tX=!1,gQ=0,W2=null,H)throw Error(q(300));N===null||J5||(N=N.dependencies,N!==null&&SX(N)&&(J5=!0))}function yW(N,H,V,$){C0=N;var B=0;do{if(M2&&(W2=null),gQ=0,M2=!1,25<=B)throw Error(q(301));if(B+=1,m1=q1=null,N.updateQueue!=null){var M=N.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}B0.H=p9,M=H(V,$)}while(M2);return M}function sg(){var N=B0.H,H=N.useState()[0];return H=typeof H.then==="function"?jQ(H):H,N=N.useState()[0],(q1!==null?q1.memoizedState:null)!==N&&(C0.flags|=1024),H}function DO(){var N=rX!==0;return rX=0,N}function BO(N,H,V){H.updateQueue=N.updateQueue,H.flags&=-2053,N.lanes&=~V}function _O(N){if(tX){for(N=N.memoizedState;N!==null;){var H=N.queue;H!==null&&(H.pending=null),N=N.next}tX=!1}I7=0,m1=q1=C0=null,M2=!1,gQ=rX=0,W2=null}function Z8(){var N={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return m1===null?C0.memoizedState=m1=N:m1=m1.next=N,m1}function g1(){if(q1===null){var N=C0.alternate;N=N!==null?N.memoizedState:null}else N=q1.next;var H=m1===null?C0.memoizedState:m1.next;if(H!==null)m1=H,q1=N;else{if(N===null){if(C0.alternate===null)throw Error(q(467));throw Error(q(310))}q1=N,N={memoizedState:q1.memoizedState,baseState:q1.baseState,baseQueue:q1.baseQueue,queue:q1.queue,next:null},m1===null?C0.memoizedState=m1=N:m1=m1.next=N}return m1}function jQ(N){var H=gQ;return gQ+=1,W2===null&&(W2=[]),N=TW(W2,N,H),H=C0,(m1===null?H.memoizedState:m1.next)===null&&(H=H.alternate,B0.H=H===null||H.memoizedState===null?l9:T7),N}function CX(N){if(N!==null&&typeof N==="object"){if(typeof N.then==="function")return jQ(N);if(N.$$typeof===w7)return R5(N)}throw Error(q(438,String(N)))}function MO(N){var H=null,V=C0.updateQueue;if(V!==null&&(H=V.memoCache),H==null){var $=C0.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(H={data:$.data.map(function(B){return B.slice()}),index:0})))}if(H==null&&(H={data:[],index:0}),V===null&&(V=PU(),C0.updateQueue=V),V.memoCache=H,V=H.data[H.index],V===void 0)for(V=H.data[H.index]=Array(N),$=0;$<N;$++)V[$]=Mm;return H.index++,V}function W4(N,H){return typeof H==="function"?H(N):H}function LX(N){var H=g1();return WO(H,q1,N)}function WO(N,H,V){var $=N.queue;if($===null)throw Error(q(311));$.lastRenderedReducer=V;var B=N.baseQueue,M=$.pending;if(M!==null){if(B!==null){var E=B.next;B.next=M.next,M.next=E}H.baseQueue=B=M,$.pending=null}if(M=N.baseState,B===null)N.memoizedState=M;else{H=B.next;var S=E=null,P=null,d=H,o=!1;do{var Q0=d.lane&-536870913;if(Q0!==d.lane?(y0&Q0)===Q0:(I7&Q0)===Q0){var X0=d.revertLane;if(X0===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),Q0===$2&&(o=!0);else if((I7&X0)===X0){d=d.next,X0===$2&&(o=!0);continue}else Q0={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=Q0,E=M):P=P.next=Q0,C0.lanes|=X0,S7|=X0;Q0=d.action,u9&&V(M,Q0),M=d.hasEagerState?d.eagerState:V(M,Q0)}else X0={lane:Q0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=X0,E=M):P=P.next=X0,C0.lanes|=Q0,S7|=Q0;d=d.next}while(d!==null&&d!==H);if(P===null?E=M:P.next=S,!I8(M,N.memoizedState)&&(J5=!0,o&&(V=A2,V!==null)))throw V;N.memoizedState=M,N.baseState=E,N.baseQueue=P,$.lastRenderedState=M}return B===null&&($.lanes=0),[N.memoizedState,$.dispatch]}function GO(N){var H=g1(),V=H.queue;if(V===null)throw Error(q(311));V.lastRenderedReducer=N;var{dispatch:$,pending:B}=V,M=H.memoizedState;if(B!==null){V.pending=null;var E=B=B.next;do M=N(M,E.action),E=E.next;while(E!==B);I8(M,H.memoizedState)||(J5=!0),H.memoizedState=M,H.baseQueue===null&&(H.baseState=M),V.lastRenderedState=M}return[M,$]}function hW(N,H,V){var $=C0,B=g1(),M=g0;if(M){if(V===void 0)throw Error(q(407));V=V()}else V=H();var E=!I8((q1||B).memoizedState,V);if(E&&(B.memoizedState=V,J5=!0),B=B.queue,wO(mW.bind(null,$,B,N),[N]),B.getSnapshot!==H||E||m1!==null&&m1.memoizedState.tag&1){if($.flags|=2048,rZ(9,gW.bind(null,$,B,V,H),{destroy:void 0},null),Y1===null)throw Error(q(349));M||(I7&60)!==0||xW($,H,V)}return V}function xW(N,H,V){N.flags|=16384,N={getSnapshot:H,value:V},H=C0.updateQueue,H===null?(H=PU(),C0.updateQueue=H,H.stores=[N]):(V=H.stores,V===null?H.stores=[N]:V.push(N))}function gW(N,H,V,$){H.value=V,H.getSnapshot=$,dW(H)&&cW(N)}function mW(N,H,V){return V(function(){dW(H)&&cW(N)})}function dW(N){var H=N.getSnapshot;N=N.value;try{var V=H();return!I8(N,V)}catch($){return!0}}function cW(N){var H=p8(N,2);H!==null&&y5(H,N,2)}function FO(N){var H=Z8();if(typeof N==="function"){var V=N;if(N=V(),u9){J0(!0);try{V()}finally{J0(!1)}}}return H.memoizedState=H.baseState=N,H.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W4,lastRenderedState:N},H}function uW(N,H,V,$){return N.baseState=V,WO(N,q1,typeof $==="function"?$:W4)}function ng(N,H,V,$,B){if(IX(N))throw Error(q(485));if(N=H.action,N!==null){var M={payload:B,action:N,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){M.listeners.push(E)}};B0.T!==null?V(!0):M.isTransition=!1,$(M),V=H.pending,V===null?(M.next=H.pending=M,lW(H,M)):(M.next=V.next,H.pending=V.next=M)}}function lW(N,H){var{action:V,payload:$}=H,B=N.state;if(H.isTransition){var M=B0.T,E={};B0.T=E;try{var S=V(B,$),P=B0.S;P!==null&&P(E,S),pW(N,H,S)}catch(d){jO(N,H,d)}finally{B0.T=M}}else try{M=V(B,$),pW(N,H,M)}catch(d){jO(N,H,d)}}function pW(N,H,V){V!==null&&typeof V==="object"&&typeof V.then==="function"?V.then(function($){iW(N,H,$)},function($){return jO(N,H,$)}):iW(N,H,V)}function iW(N,H,V){H.status="fulfilled",H.value=V,aW(H),N.state=V,H=N.pending,H!==null&&(V=H.next,V===H?N.pending=null:(V=V.next,H.next=V,lW(N,V)))}function jO(N,H,V){var $=N.pending;if(N.pending=null,$!==null){$=$.next;do H.status="rejected",H.reason=V,aW(H),H=H.next;while(H!==$)}N.action=null}function aW(N){N=N.listeners;for(var H=0;H<N.length;H++)(0,N[H])()}function sW(N,H){return H}function nW(N,H){if(g0){var V=Y1.formState;if(V!==null){Z:{var $=C0;if(g0){if(T5){var B=Yd(T5,p6);if(B){T5=dF(B),$=Vd(B);break Z}}P5($)}$=!1}$&&(H=V[0])}}V=Z8(),V.memoizedState=V.baseState=H,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sW,lastRenderedState:H},V.queue=$,V=UG.bind(null,C0,$),$.dispatch=V,$=FO(!1);var M=EO.bind(null,C0,!1,$.queue);return $=Z8(),B={state:H,dispatch:null,action:N,pending:null},$.queue=B,V=ng.bind(null,C0,B,M,V),B.dispatch=V,$.memoizedState=N,[H,V,!1]}function oW(N){var H=g1();return tW(H,q1,N)}function tW(N,H,V){H=WO(N,H,sW)[0],N=LX(W4)[0],H=typeof H==="object"&&H!==null&&typeof H.then==="function"?jQ(H):H;var $=g1(),B=$.queue,M=B.dispatch;return V!==$.memoizedState&&(C0.flags|=2048,rZ(9,og.bind(null,B,V),{destroy:void 0},null)),[H,M,N]}function og(N,H){N.action=H}function rW(N){var H=g1(),V=q1;if(V!==null)return tW(H,V,N);g1(),H=H.memoizedState,V=g1();var $=V.queue.dispatch;return V.memoizedState=N,[H,$,!1]}function rZ(N,H,V,$){return N={tag:N,create:H,inst:V,deps:$,next:null},H=C0.updateQueue,H===null&&(H=PU(),C0.updateQueue=H),V=H.lastEffect,V===null?H.lastEffect=N.next=N:($=V.next,V.next=N,N.next=$,H.lastEffect=N),N}function eW(){return g1().memoizedState}function RX(N,H,V,$){var B=Z8();C0.flags|=N,B.memoizedState=rZ(1|H,V,{destroy:void 0},$===void 0?null:$)}function EX(N,H,V,$){var B=g1();$=$===void 0?null:$;var M=B.memoizedState.inst;q1!==null&&$!==null&&$O($,q1.memoizedState.deps)?B.memoizedState=rZ(H,V,M,$):(C0.flags|=N,B.memoizedState=rZ(1|H,V,M,$))}function ZG(N,H){RX(8390656,8,N,H)}function wO(N,H){EX(2048,8,N,H)}function JG(N,H){return EX(4,2,N,H)}function QG(N,H){return EX(4,4,N,H)}function qG(N,H){if(typeof H==="function"){N=N();var V=H(N);return function(){typeof V==="function"?V():H(null)}}if(H!==null&&H!==void 0)return N=N(),H.current=N,function(){H.current=null}}function KG(N,H,V){V=V!==null&&V!==void 0?V.concat([N]):null,EX(4,4,qG.bind(null,H,N),V)}function CO(){}function XG(N,H){var V=g1();H=H===void 0?null:H;var $=V.memoizedState;if(H!==null&&$O(H,$[1]))return $[0];return V.memoizedState=[N,H],N}function NG(N,H){var V=g1();H=H===void 0?null:H;var $=V.memoizedState;if(H!==null&&$O(H,$[1]))return $[0];if($=N(),u9){J0(!0);try{N()}finally{J0(!1)}}return V.memoizedState=[$,H],$}function LO(N,H,V){if(V===void 0||(I7&1073741824)!==0)return N.memoizedState=H;return N.memoizedState=V,N=QF(),C0.lanes|=N,S7|=N,V}function zG(N,H,V,$){if(I8(V,H))return V;if(_2.current!==null)return N=LO(N,V,$),I8(N,H)||(J5=!0),N;if((I7&42)===0)return J5=!0,N.memoizedState=V;return N=QF(),C0.lanes|=N,S7|=N,H}function HG(N,H,V,$,B){var M=g9();Q8(M!==0&&8>M?M:8);var E=B0.T,S={};B0.T=S,EO(N,!1,H,V);try{var P=B(),d=B0.S;if(d!==null&&d(S,P),P!==null&&typeof P==="object"&&typeof P.then==="function"){var o=ag(P,$);wQ(N,H,o,L8(N))}else wQ(N,H,$,L8(N))}catch(Q0){wQ(N,H,{then:function(){},status:"rejected",reason:Q0},L8())}finally{Q8(M),B0.T=E}}function YG(N){var H=N.memoizedState;if(H!==null)return H;H={memoizedState:X2,baseState:X2,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:W4,lastRenderedState:X2},next:null};var V={};return H.next={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:W4,lastRenderedState:V},next:null},N.memoizedState=H,N=N.alternate,N!==null&&(N.memoizedState=H),H}function RO(){return R5(m9)}function VG(){return g1().memoizedState}function OG(){return g1().memoizedState}function tg(N){for(var H=N.return;H!==null;){switch(H.tag){case 24:case 3:var V=L8();N=A7(V);var $=D7(H,N,V);$!==null&&(y5($,H,V),MQ($,H,V)),H={cache:mO()},N.payload=H;return}H=H.return}}function rg(N,H,V){var $=L8();V={lane:$,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null},IX(N)?$G(H,V):(V=F8(N,H,V,$),V!==null&&(y5(V,N,$),AG(V,H,$)))}function UG(N,H,V){var $=L8();wQ(N,H,V,$)}function wQ(N,H,V,$){var B={lane:$,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};if(IX(N))$G(H,B);else{var M=N.alternate;if(N.lanes===0&&(M===null||M.lanes===0)&&(M=H.lastRenderedReducer,M!==null))try{var E=H.lastRenderedState,S=M(E,V);if(B.hasEagerState=!0,B.eagerState=S,I8(S,E))return e5(N,H,B,0),Y1===null&&f5(),!1}catch(P){}finally{}if(V=F8(N,H,B,$),V!==null)return y5(V,N,$),AG(V,H,$),!0}return!1}function EO(N,H,V,$){if($={lane:2,revertLane:tZ(),action:$,hasEagerState:!1,eagerState:null,next:null},IX(N)){if(H)throw Error(q(479))}else H=F8(N,V,$,2),H!==null&&y5(H,N,2)}function IX(N){var H=N.alternate;return N===C0||H!==null&&H===C0}function $G(N,H){M2=tX=!0;var V=N.pending;V===null?H.next=H:(H.next=V.next,V.next=H),N.pending=H}function AG(N,H,V){if((V&4194176)!==0){var $=H.lanes;$&=N.pendingLanes,V|=$,H.lanes=V,W0(N,V)}}function IO(N,H,V,$){H=N.memoizedState,V=V($,H),V=V===null||V===void 0?H:VU({},H,V),N.memoizedState=V,N.lanes===0&&(N.updateQueue.baseState=V)}function DG(N,H,V,$,B,M,E){return N=N.stateNode,typeof N.shouldComponentUpdate==="function"?N.shouldComponentUpdate($,M,E):H.prototype&&H.prototype.isPureReactComponent?!WX(V,$)||!WX(B,M):!0}function BG(N,H,V,$){N=H.state,typeof H.componentWillReceiveProps==="function"&&H.componentWillReceiveProps(V,$),typeof H.UNSAFE_componentWillReceiveProps==="function"&&H.UNSAFE_componentWillReceiveProps(V,$),H.state!==N&&vU.enqueueReplaceState(H,H.state,null)}function P9(N,H){var V=H;if("ref"in H){V={};for(var $ in H)$!=="ref"&&(V[$]=H[$])}if(N=N.defaultProps){V===H&&(V=VU({},V));for(var B in N)V[B]===void 0&&(V[B]=N[B])}return V}function TX(N,H){try{var V=N.onUncaughtError;V(H.value,{componentStack:H.stack})}catch($){setTimeout(function(){throw $})}}function _G(N,H,V){try{var $=N.onCaughtError;$(V.value,{componentStack:V.stack,errorBoundary:H.tag===1?H.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function TO(N,H,V){return V=A7(V),V.tag=3,V.payload={element:null},V.callback=function(){TX(N,H)},V}function MG(N){return N=A7(N),N.tag=3,N}function WG(N,H,V,$){var B=V.type.getDerivedStateFromError;if(typeof B==="function"){var M=$.value;N.payload=function(){return B(M)},N.callback=function(){_G(H,V,$)}}var E=V.stateNode;E!==null&&typeof E.componentDidCatch==="function"&&(N.callback=function(){_G(H,V,$),typeof B!=="function"&&(b7===null?b7=new Set([this]):b7.add(this));var S=$.stack;this.componentDidCatch($.value,{componentStack:S!==null?S:""})})}function eg(N,H,V,$,B){if(V.flags|=32768,$!==null&&typeof $==="object"&&typeof $.then==="function"){if(H=V.alternate,H!==null&&LQ(H,V,B,!0),V=r8.current,V!==null){switch(V.tag){case 13:return i6===null?qU():V.alternate===null&&I1===0&&(I1=3),V.flags&=-257,V.flags|=65536,V.lanes=B,$===nX?V.flags|=16384:(H=V.updateQueue,H===null?V.updateQueue=new Set([$]):H.add($),XU(N,$,B)),!1;case 22:return V.flags|=65536,$===nX?V.flags|=16384:(H=V.updateQueue,H===null?(H={transitions:null,markerInstances:null,retryQueue:new Set([$])},V.updateQueue=H):(V=H.retryQueue,V===null?H.retryQueue=new Set([$]):V.add($)),XU(N,$,B)),!1}throw Error(q(435,V.tag))}return XU(N,$,B),qU(),!1}if(g0)return H=r8.current,H!==null?((H.flags&65536)===0&&(H.flags|=256),H.flags|=65536,H.lanes=B,$!==RU&&(N=Error(q(422),{cause:$}),v5($1(N,V)))):($!==RU&&(H=Error(q(423),{cause:$}),v5($1(H,V))),N=N.current.alternate,N.flags|=65536,B&=-B,N.lanes|=B,$=$1($,V),B=TO(N.stateNode,$,B),VO(N,B),I1!==4&&(I1=2)),!1;var M=Error(q(520),{cause:$});if(M=$1(M,V),dQ===null?dQ=[M]:dQ.push(M),I1!==4&&(I1=2),H===null)return!0;$=$1($,V),V=H;do{switch(V.tag){case 3:return V.flags|=65536,N=B&-B,V.lanes|=N,N=TO(V.stateNode,$,N),VO(V,N),!1;case 1:if(H=V.type,M=V.stateNode,(V.flags&128)===0&&(typeof H.getDerivedStateFromError==="function"||M!==null&&typeof M.componentDidCatch==="function"&&(b7===null||!b7.has(M))))return V.flags|=65536,B&=-B,V.lanes|=B,B=MG(B),WG(B,N,V,$),VO(V,B),!1}V=V.return}while(V!==null);return!1}function A5(N,H,V,$){H.child=N===null?Jj(H,null,V,$):c9(H,N.child,V,$)}function GG(N,H,V,$,B){V=V.render;var M=H.ref;if("ref"in $){var E={};for(var S in $)S!=="ref"&&(E[S]=$[S])}else E=$;if(v9(H),$=AO(N,H,V,E,M,B),S=DO(),N!==null&&!J5)return BO(N,H,B),G4(N,H,B);return g0&&S&&G1(H),H.flags|=1,A5(N,H,$,B),H.child}function FG(N,H,V,$,B){if(N===null){var M=V.type;if(typeof M==="function"&&!NU(M)&&M.defaultProps===void 0&&V.compare===null)return H.tag=15,H.type=M,jG(N,H,M,$,B);return N=hX(V.type,null,$,H,H.mode,B),N.ref=H.ref,N.return=H,H.child=N}if(M=N.child,!hO(N,B)){var E=M.memoizedProps;if(V=V.compare,V=V!==null?V:WX,V(E,$)&&N.ref===H.ref)return G4(N,H,B)}return H.flags|=1,N=j7(M,$),N.ref=H.ref,N.return=H,H.child=N}function jG(N,H,V,$,B){if(N!==null){var M=N.memoizedProps;if(WX(M,$)&&N.ref===H.ref)if(J5=!1,H.pendingProps=$=M,hO(N,B))(N.flags&131072)!==0&&(J5=!0);else return H.lanes=N.lanes,G4(N,H,B)}return SO(N,H,V,$,B)}function wG(N,H,V){var $=H.pendingProps,B=$.children,M=(H.stateNode._pendingVisibility&2)!==0,E=N!==null?N.memoizedState:null;if(CQ(N,H),$.mode==="hidden"||M){if((H.flags&128)!==0){if($=E!==null?E.baseLanes|V:V,N!==null){B=H.child=N.child;for(M=0;B!==null;)M=M|B.lanes|B.childLanes,B=B.sibling;H.childLanes=M&~$}else H.childLanes=0,H.child=null;return CG(N,H,$,V)}if((V&536870912)!==0)H.memoizedState={baseLanes:0,cachePool:null},N!==null&&kX(H,E!==null?E.cachePool:null),E!==null?PW(H,E):OO(),vW(H);else return H.lanes=H.childLanes=536870912,CG(N,H,E!==null?E.baseLanes|V:V,V)}else E!==null?(kX(H,E.cachePool),PW(H,E),_7(H),H.memoizedState=null):(N!==null&&kX(H,null),OO(),_7(H));return A5(N,H,B,V),H.child}function CG(N,H,V,$){var B=dO();return B=B===null?null:{parent:C4?R1._currentValue:R1._currentValue2,pool:B},H.memoizedState={baseLanes:V,cachePool:B},N!==null&&kX(H,null),OO(),vW(H),N!==null&&LQ(N,H,$,!0),null}function CQ(N,H){var V=H.ref;if(V===null)N!==null&&N.ref!==null&&(H.flags|=2097664);else{if(typeof V!=="function"&&typeof V!=="object")throw Error(q(284));if(N===null||N.ref!==V)H.flags|=2097664}}function SO(N,H,V,$,B){if(v9(H),V=AO(N,H,V,$,void 0,B),$=DO(),N!==null&&!J5)return BO(N,H,B),G4(N,H,B);return g0&&$&&G1(H),H.flags|=1,A5(N,H,V,B),H.child}function LG(N,H,V,$,B,M){if(v9(H),H.updateQueue=null,V=yW(H,$,V,B),fW(N),$=DO(),N!==null&&!J5)return BO(N,H,M),G4(N,H,M);return g0&&$&&G1(H),H.flags|=1,A5(N,H,V,M),H.child}function RG(N,H,V,$,B){if(v9(H),H.stateNode===null){var M=z2,E=V.contextType;typeof E==="object"&&E!==null&&(M=R5(E)),M=new V($,M),H.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=vU,H.stateNode=M,M._reactInternals=H,M=H.stateNode,M.props=$,M.state=H.memoizedState,M.refs={},HO(H),E=V.contextType,M.context=typeof E==="object"&&E!==null?R5(E):z2,M.state=H.memoizedState,E=V.getDerivedStateFromProps,typeof E==="function"&&(IO(H,V,E,$),M.state=H.memoizedState),typeof V.getDerivedStateFromProps==="function"||typeof M.getSnapshotBeforeUpdate==="function"||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(E=M.state,typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount(),E!==M.state&&vU.enqueueReplaceState(M,M.state,null),GQ(H,$,M,B),WQ(),M.state=H.memoizedState),typeof M.componentDidMount==="function"&&(H.flags|=4194308),$=!0}else if(N===null){M=H.stateNode;var S=H.memoizedProps,P=P9(V,S);M.props=P;var d=M.context,o=V.contextType;E=z2,typeof o==="object"&&o!==null&&(E=R5(o));var Q0=V.getDerivedStateFromProps;o=typeof Q0==="function"||typeof M.getSnapshotBeforeUpdate==="function",S=H.pendingProps!==S,o||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(S||d!==E)&&BG(H,M,$,E),E7=!1;var X0=H.memoizedState;M.state=X0,GQ(H,$,M,B),WQ(),d=H.memoizedState,S||X0!==d||E7?(typeof Q0==="function"&&(IO(H,V,Q0,$),d=H.memoizedState),(P=E7||DG(H,V,P,$,X0,d,E))?(o||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount==="function"&&(H.flags|=4194308)):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),H.memoizedProps=$,H.memoizedState=d),M.props=$,M.state=d,M.context=E,$=P):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),$=!1)}else{M=H.stateNode,YO(N,H),E=H.memoizedProps,o=P9(V,E),M.props=o,Q0=H.pendingProps,X0=M.context,d=V.contextType,P=z2,typeof d==="object"&&d!==null&&(P=R5(d)),S=V.getDerivedStateFromProps,(d=typeof S==="function"||typeof M.getSnapshotBeforeUpdate==="function")||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(E!==Q0||X0!==P)&&BG(H,M,$,P),E7=!1,X0=H.memoizedState,M.state=X0,GQ(H,$,M,B),WQ();var G0=H.memoizedState;E!==Q0||X0!==G0||E7||N!==null&&N.dependencies!==null&&SX(N.dependencies)?(typeof S==="function"&&(IO(H,V,S,$),G0=H.memoizedState),(o=E7||DG(H,V,o,$,X0,G0,P)||N!==null&&N.dependencies!==null&&SX(N.dependencies))?(d||typeof M.UNSAFE_componentWillUpdate!=="function"&&typeof M.componentWillUpdate!=="function"||(typeof M.componentWillUpdate==="function"&&M.componentWillUpdate($,G0,P),typeof M.UNSAFE_componentWillUpdate==="function"&&M.UNSAFE_componentWillUpdate($,G0,P)),typeof M.componentDidUpdate==="function"&&(H.flags|=4),typeof M.getSnapshotBeforeUpdate==="function"&&(H.flags|=1024)):(typeof M.componentDidUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=1024),H.memoizedProps=$,H.memoizedState=G0),M.props=$,M.state=G0,M.context=P,$=o):(typeof M.componentDidUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=1024),$=!1)}return M=$,CQ(N,H),$=(H.flags&128)!==0,M||$?(M=H.stateNode,V=$&&typeof V.getDerivedStateFromError!=="function"?null:M.render(),H.flags|=1,N!==null&&$?(H.child=c9(H,N.child,null,B),H.child=c9(H,null,V,B)):A5(N,H,V,B),H.memoizedState=M.state,N=H.child):N=G4(N,H,B),N}function EG(N,H,V,$){return G8(),H.flags|=256,A5(N,H,V,$),H.child}function bO(N){return{baseLanes:N,cachePool:PG()}}function kO(N,H,V){return N=N!==null?N.childLanes&~V:0,H&&(N|=e8),N}function IG(N,H,V){var $=H.pendingProps,B=!1,M=(H.flags&128)!==0,E;if((E=M)||(E=N!==null&&N.memoizedState===null?!1:(n1.current&2)!==0),E&&(B=!0,H.flags&=-129),E=(H.flags&32)!==0,H.flags&=-33,N===null){if(g0){if(B?B7(H):_7(H),g0){var S=T5,P;if(P=S)S=Dd(S,p6),S!==null?(H.memoizedState={dehydrated:S,treeContext:d9!==null?{id:L4,overflow:R4}:null,retryLane:536870912},P=J(18,null,null,0),P.stateNode=S,P.return=H,H.child=P,h5=H,T5=null,P=!0):P=!1;P||P5(H)}if(S=H.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return FU(S)?H.lanes=16:H.lanes=536870912,null;M4(H)}if(S=$.children,$=$.fallback,B)return _7(H),B=H.mode,S=vO({mode:"hidden",children:S},B),$=x9($,B,V,null),S.return=H,$.return=H,S.sibling=$,H.child=S,B=H.child,B.memoizedState=bO(V),B.childLanes=kO(N,E,V),H.memoizedState=fU,$;return B7(H),PO(H,S)}if(P=N.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(M)H.flags&256?(B7(H),H.flags&=-257,H=fO(N,H,V)):H.memoizedState!==null?(_7(H),H.child=N.child,H.flags|=128,H=null):(_7(H),B=$.fallback,S=H.mode,$=vO({mode:"visible",children:$.children},S),B=x9(B,S,V,null),B.flags|=2,$.return=H,B.return=H,$.sibling=B,H.child=$,c9(H,N.child,null,V),$=H.child,$.memoizedState=bO(V),$.childLanes=kO(N,E,V),H.memoizedState=fU,H=B);else if(B7(H),FU(S))E=zd(S).digest,$=Error(q(419)),$.stack="",$.digest=E,v5({value:$,source:null,stack:null}),H=fO(N,H,V);else if(J5||LQ(N,H,V,!1),E=(V&N.childLanes)!==0,J5||E){if(E=Y1,E!==null){if($=V&-V,($&42)!==0)$=1;else switch($){case 2:$=1;break;case 8:$=4;break;case 32:$=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:$=64;break;case 268435456:$=134217728;break;default:$=0}if($=($&(E.suspendedLanes|V))!==0?0:$,$!==0&&$!==P.retryLane)throw P.retryLane=$,p8(N,$),y5(E,N,$),qj}GU(S)||qU(),H=fO(N,H,V)}else GU(S)?(H.flags|=128,H.child=N.child,H=Om.bind(null,N),Hd(S,H),H=null):(N=P.treeContext,a8&&(T5=Ud(S),h5=H,g0=!0,L6=null,p6=!1,N!==null&&(n8[o8++]=L4,n8[o8++]=R4,n8[o8++]=d9,L4=N.id,R4=N.overflow,d9=H)),H=PO(H,$.children),H.flags|=4096);return H}if(B)return _7(H),B=$.fallback,S=H.mode,P=N.child,M=P.sibling,$=j7(P,{mode:"hidden",children:$.children}),$.subtreeFlags=P.subtreeFlags&31457280,M!==null?B=j7(M,B):(B=x9(B,S,V,null),B.flags|=2),B.return=H,$.return=H,$.sibling=B,H.child=$,$=B,B=H.child,S=N.child.memoizedState,S===null?S=bO(V):(P=S.cachePool,P!==null?(M=C4?R1._currentValue:R1._currentValue2,P=P.parent!==M?{parent:M,pool:M}:P):P=PG(),S={baseLanes:S.baseLanes|V,cachePool:P}),B.memoizedState=S,B.childLanes=kO(N,E,V),H.memoizedState=fU,$;return B7(H),V=N.child,N=V.sibling,V=j7(V,{mode:"visible",children:$.children}),V.return=H,V.sibling=null,N!==null&&(E=H.deletions,E===null?(H.deletions=[N],H.flags|=16):E.push(N)),H.child=V,H.memoizedState=null,V}function PO(N,H){return H=vO({mode:"visible",children:H},N.mode),H.return=N,N.child=H}function vO(N,H){return MF(N,H,0,null)}function fO(N,H,V){return c9(H,N.child,null,V),N=PO(H,H.pendingProps.children),N.flags|=2,H.memoizedState=null,N}function TG(N,H,V){N.lanes|=H;var $=N.alternate;$!==null&&($.lanes|=H),xO(N.return,H,V)}function yO(N,H,V,$,B){var M=N.memoizedState;M===null?N.memoizedState={isBackwards:H,rendering:null,renderingStartTime:0,last:$,tail:V,tailMode:B}:(M.isBackwards=H,M.rendering=null,M.renderingStartTime=0,M.last=$,M.tail=V,M.tailMode=B)}function SG(N,H,V){var $=H.pendingProps,B=$.revealOrder,M=$.tail;if(A5(N,H,$.children,V),$=n1.current,($&2)!==0)$=$&1|2,H.flags|=128;else{if(N!==null&&(N.flags&128)!==0)Z:for(N=H.child;N!==null;){if(N.tag===13)N.memoizedState!==null&&TG(N,V,H);else if(N.tag===19)TG(N,V,H);else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===H)break Z;for(;N.sibling===null;){if(N.return===null||N.return===H)break Z;N=N.return}N.sibling.return=N.return,N=N.sibling}$&=1}switch(G(n1,$),B){case"forwards":V=H.child;for(B=null;V!==null;)N=V.alternate,N!==null&&wX(N)===null&&(B=V),V=V.sibling;V=B,V===null?(B=H.child,H.child=null):(B=V.sibling,V.sibling=null),yO(H,!1,B,V,M);break;case"backwards":V=null,B=H.child;for(H.child=null;B!==null;){if(N=B.alternate,N!==null&&wX(N)===null){H.child=B;break}N=B.sibling,B.sibling=V,V=B,B=N}yO(H,!0,V,null,M);break;case"together":yO(H,!1,null,null,void 0);break;default:H.memoizedState=null}return H.child}function G4(N,H,V){if(N!==null&&(H.dependencies=N.dependencies),S7|=H.lanes,(V&H.childLanes)===0)if(N!==null){if(LQ(N,H,V,!1),(V&H.childLanes)===0)return null}else return null;if(N!==null&&H.child!==N.child)throw Error(q(153));if(H.child!==null){N=H.child,V=j7(N,N.pendingProps),H.child=V;for(V.return=H;N.sibling!==null;)N=N.sibling,V=V.sibling=j7(N,N.pendingProps),V.return=H;V.sibling=null}return H.child}function hO(N,H){if((N.lanes&H)!==0)return!0;return N=N.dependencies,N!==null&&SX(N)?!0:!1}function Zm(N,H,V){switch(H.tag){case 3:o5(H,H.stateNode.containerInfo),M7(H,R1,N.memoizedState.cache),G8();break;case 27:case 5:r5(H);break;case 4:o5(H,H.stateNode.containerInfo);break;case 10:M7(H,H.type,H.memoizedProps.value);break;case 13:var $=H.memoizedState;if($!==null){if($.dehydrated!==null)return B7(H),H.flags|=128,null;if((V&H.child.childLanes)!==0)return IG(N,H,V);return B7(H),N=G4(N,H,V),N!==null?N.sibling:null}B7(H);break;case 19:var B=(N.flags&128)!==0;if($=(V&H.childLanes)!==0,$||(LQ(N,H,V,!1),$=(V&H.childLanes)!==0),B){if($)return SG(N,H,V);H.flags|=128}if(B=H.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),G(n1,n1.current),$)break;else return null;case 22:case 23:return H.lanes=0,wG(N,H,V);case 24:M7(H,R1,N.memoizedState.cache)}return G4(N,H,V)}function bG(N,H,V){if(N!==null)if(N.memoizedProps!==H.pendingProps)J5=!0;else{if(!hO(N,V)&&(H.flags&128)===0)return J5=!1,Zm(N,H,V);J5=(N.flags&131072)!==0?!0:!1}else J5=!1,g0&&(H.flags&1048576)!==0&&D0(H,pX,H.index);switch(H.lanes=0,H.tag){case 16:Z:{N=H.pendingProps;var $=H.elementType,B=$._init;if($=B($._payload),H.type=$,typeof $==="function")NU($)?(N=P9($,N),H.tag=1,H=RG(null,H,$,N,V)):(H.tag=0,H=SO(null,H,$,N,V));else{if($!==void 0&&$!==null){if(B=$.$$typeof,B===UU){H.tag=11,H=GG(null,H,$,N,V);break Z}else if(B===DU){H.tag=14,H=FG(null,H,$,N,V);break Z}}throw H=X($)||$,Error(q(306,H,""))}}return H;case 0:return SO(N,H,H.type,H.pendingProps,V);case 1:return $=H.type,B=P9($,H.pendingProps),RG(N,H,$,B,V);case 3:Z:{if(o5(H,H.stateNode.containerInfo),N===null)throw Error(q(387));var M=H.pendingProps;B=H.memoizedState,$=B.element,YO(N,H),GQ(H,M,null,V);var E=H.memoizedState;if(M=E.cache,M7(H,R1,M),M!==B.cache&&gO(H,[R1],V,!0),WQ(),M=E.element,a8&&B.isDehydrated)if(B={element:M,isDehydrated:!1,cache:E.cache},H.updateQueue.baseState=B,H.memoizedState=B,H.flags&256){H=EG(N,H,M,V);break Z}else if(M!==$){$=$1(Error(q(424)),H),v5($),H=EG(N,H,M,V);break Z}else for(a8&&(T5=Od(H.stateNode.containerInfo),h5=H,g0=!0,L6=null,p6=!0),V=Jj(H,null,M,V),H.child=V;V;)V.flags=V.flags&-3|4096,V=V.sibling;else{if(G8(),M===$){H=G4(N,H,V);break Z}A5(N,H,M,V)}H=H.child}return H;case 26:if(s8)return CQ(N,H),N===null?(V=pF(H.type,null,H.pendingProps,null))?H.memoizedState=V:g0||(H.stateNode=Ed(H.type,H.pendingProps,R7.current,H)):H.memoizedState=pF(H.type,N.memoizedProps,H.pendingProps,N.memoizedState),null;case 27:if(I5)return r5(H),N===null&&I5&&g0&&($=H.stateNode=tF(H.type,H.pendingProps,R7.current,D5.current,!1),h5=H,p6=!0,T5=cF($)),$=H.pendingProps.children,N!==null||g0?A5(N,H,$,V):H.child=c9(H,null,$,V),CQ(N,H),H.child;case 5:if(N===null&&g0){if(Cd(H.type,H.pendingProps,D5.current),B=$=T5)$=$d($,H.type,H.pendingProps,p6),$!==null?(H.stateNode=$,h5=H,T5=cF($),p6=!1,B=!0):B=!1;B||P5(H)}return r5(H),B=H.type,M=H.pendingProps,E=N!==null?N.memoizedProps:null,$=M.children,mX(B,M)?$=null:E!==null&&mX(B,E)&&(H.flags|=32),H.memoizedState!==null&&(B=AO(N,H,sg,null,null,V),C4?m9._currentValue=B:m9._currentValue2=B),CQ(N,H),A5(N,H,$,V),H.child;case 6:if(N===null&&g0){if(Ld(H.pendingProps,D5.current),N=V=T5)V=Ad(V,H.pendingProps,p6),V!==null?(H.stateNode=V,h5=H,T5=null,N=!0):N=!1;N||P5(H)}return null;case 13:return IG(N,H,V);case 4:return o5(H,H.stateNode.containerInfo),$=H.pendingProps,N===null?H.child=c9(H,null,$,V):A5(N,H,$,V),H.child;case 11:return GG(N,H,H.type,H.pendingProps,V);case 7:return A5(N,H,H.pendingProps,V),H.child;case 8:return A5(N,H,H.pendingProps.children,V),H.child;case 12:return A5(N,H,H.pendingProps.children,V),H.child;case 10:return $=H.pendingProps,M7(H,H.type,$.value),A5(N,H,$.children,V),H.child;case 9:return B=H.type._context,$=H.pendingProps.children,v9(H),B=R5(B),$=$(B),H.flags|=1,A5(N,H,$,V),H.child;case 14:return FG(N,H,H.type,H.pendingProps,V);case 15:return jG(N,H,H.type,H.pendingProps,V);case 19:return SG(N,H,V);case 22:return wG(N,H,V);case 24:return v9(H),$=R5(R1),N===null?(B=dO(),B===null&&(B=Y1,M=mO(),B.pooledCache=M,M.refCount++,M!==null&&(B.pooledCacheLanes|=V),B=M),H.memoizedState={parent:$,cache:B},HO(H),M7(H,R1,B)):((N.lanes&V)!==0&&(YO(N,H),GQ(H,null,null,V),WQ()),B=N.memoizedState,M=H.memoizedState,B.parent!==$?(B={parent:$,cache:$},H.memoizedState=B,H.lanes===0&&(H.memoizedState=H.updateQueue.baseState=B),M7(H,R1,$)):($=M.cache,M7(H,R1,$),$!==B.cache&&gO(H,[R1],V,!0))),A5(N,H,H.pendingProps.children,V),H.child;case 29:throw H.pendingProps}throw Error(q(156,H.tag))}function M7(N,H,V){C4?(G(eX,H._currentValue),H._currentValue=V):(G(eX,H._currentValue2),H._currentValue2=V)}function F4(N){var H=eX.current;C4?N._currentValue=H:N._currentValue2=H,R(eX)}function xO(N,H,V){for(;N!==null;){var $=N.alternate;if((N.childLanes&H)!==H?(N.childLanes|=H,$!==null&&($.childLanes|=H)):$!==null&&($.childLanes&H)!==H&&($.childLanes|=H),N===V)break;N=N.return}}function gO(N,H,V,$){var B=N.child;B!==null&&(B.return=N);for(;B!==null;){var M=B.dependencies;if(M!==null){var E=B.child;M=M.firstContext;Z:for(;M!==null;){var S=M;M=B;for(var P=0;P<H.length;P++)if(S.context===H[P]){M.lanes|=V,S=M.alternate,S!==null&&(S.lanes|=V),xO(M.return,V,N),$||(E=null);break Z}M=S.next}}else if(B.tag===18){if(E=B.return,E===null)throw Error(q(341));E.lanes|=V,M=E.alternate,M!==null&&(M.lanes|=V),xO(E,V,N),E=null}else E=B.child;if(E!==null)E.return=B;else for(E=B;E!==null;){if(E===N){E=null;break}if(B=E.sibling,B!==null){B.return=E.return,E=B;break}E=E.return}B=E}}function LQ(N,H,V,$){N=null;for(var B=H,M=!1;B!==null;){if(!M){if((B.flags&524288)!==0)M=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var E=B.alternate;if(E===null)throw Error(q(387));if(E=E.memoizedProps,E!==null){var S=B.type;I8(B.pendingProps.value,E.value)||(N!==null?N.push(S):N=[S])}}else if(B===iX.current){if(E=B.alternate,E===null)throw Error(q(387));E.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(N!==null?N.push(m9):N=[m9])}B=B.return}N!==null&&gO(H,N,V,$),H.flags|=262144}function SX(N){for(N=N.firstContext;N!==null;){var H=N.context;if(!I8(C4?H._currentValue:H._currentValue2,N.memoizedValue))return!0;N=N.next}return!1}function v9(N){i9=N,E4=null,N=N.dependencies,N!==null&&(N.firstContext=null)}function R5(N){return kG(i9,N)}function bX(N,H){return i9===null&&v9(N),kG(N,H)}function kG(N,H){var V=C4?H._currentValue:H._currentValue2;if(H={context:H,memoizedValue:V,next:null},E4===null){if(N===null)throw Error(q(308));E4=H,N.dependencies={lanes:0,firstContext:H},N.flags|=524288}else E4=E4.next=H;return V}function mO(){return{controller:new ld,data:new Map,refCount:0}}function RQ(N){N.refCount--,N.refCount===0&&pd(id,function(){N.controller.abort()})}function dO(){var N=a9.current;return N!==null?N:Y1.pooledCache}function kX(N,H){H===null?G(a9,a9.current):G(a9,H.pool)}function PG(){var N=dO();return N===null?null:{parent:C4?R1._currentValue:R1._currentValue2,pool:N}}function j8(N){N.flags|=4}function vG(N,H){if(N!==null&&N.child===H.child)return!1;if((H.flags&16)!==0)return!0;for(N=H.child;N!==null;){if((N.flags&13878)!==0||(N.subtreeFlags&13878)!==0)return!0;N=N.sibling}return!1}function cO(N,H,V,$){if(E5)for(V=H.child;V!==null;){if(V.tag===5||V.tag===6)MU(N,V.stateNode);else if(!(V.tag===4||I5&&V.tag===27)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===H)break;for(;V.sibling===null;){if(V.return===null||V.return===H)return;V=V.return}V.sibling.return=V.return,V=V.sibling}else if(L7)for(var B=H.child;B!==null;){if(B.tag===5){var M=B.stateNode;V&&$&&(M=gF(M,B.type,B.memoizedProps)),MU(N,M)}else if(B.tag===6)M=B.stateNode,V&&$&&(M=mF(M,B.memoizedProps)),MU(N,M);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)M=B.child,M!==null&&(M.return=B),cO(N,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===H)break;for(;B.sibling===null;){if(B.return===null||B.return===H)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function fG(N,H,V,$){if(L7)for(var B=H.child;B!==null;){if(B.tag===5){var M=B.stateNode;V&&$&&(M=gF(M,B.type,B.memoizedProps)),hF(N,M)}else if(B.tag===6)M=B.stateNode,V&&$&&(M=mF(M,B.memoizedProps)),hF(N,M);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)M=B.child,M!==null&&(M.return=B),fG(N,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===H)break;for(;B.sibling===null;){if(B.return===null||B.return===H)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function yG(N,H){if(L7&&vG(N,H)){N=H.stateNode;var V=N.containerInfo,$=yF();fG($,H,!1,!1),N.pendingChildren=$,j8(H),Nd(V,$)}}function uO(N,H,V,$){if(E5)N.memoizedProps!==$&&j8(H);else if(L7){var{stateNode:B,memoizedProps:M}=N;if((N=vG(N,H))||M!==$){var E=D5.current;M=Xd(B,V,M,$,!N,null),M===B?H.stateNode=B:(SF(M,V,$,E)&&j8(H),H.stateNode=M,N?cO(M,H,!1,!1):j8(H))}else H.stateNode=B}}function lO(N,H,V){if(Pm(H,V)){if(N.flags|=16777216,!PF(H,V))if(zF())N.flags|=8192;else throw D2=nX,kU}else N.flags&=-16777217}function hG(N,H){if(Td(H)){if(N.flags|=16777216,!oF(H))if(zF())N.flags|=8192;else throw D2=nX,kU}else N.flags&=-16777217}function PX(N,H){H!==null&&(N.flags|=4),N.flags&16384&&(H=N.tag!==22?m():536870912,N.lanes|=H,j2|=H)}function EQ(N,H){if(!g0)switch(N.tailMode){case"hidden":H=N.tail;for(var V=null;H!==null;)H.alternate!==null&&(V=H),H=H.sibling;V===null?N.tail=null:V.sibling=null;break;case"collapsed":V=N.tail;for(var $=null;V!==null;)V.alternate!==null&&($=V),V=V.sibling;$===null?H||N.tail===null?N.tail=null:N.tail.sibling=null:$.sibling=null}}function C1(N){var H=N.alternate!==null&&N.alternate.child===N.child,V=0,$=0;if(H)for(var B=N.child;B!==null;)V|=B.lanes|B.childLanes,$|=B.subtreeFlags&31457280,$|=B.flags&31457280,B.return=N,B=B.sibling;else for(B=N.child;B!==null;)V|=B.lanes|B.childLanes,$|=B.subtreeFlags,$|=B.flags,B.return=N,B=B.sibling;return N.subtreeFlags|=$,N.childLanes=V,H}function Jm(N,H,V){var $=H.pendingProps;switch(Z5(H),H.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return C1(H),null;case 1:return C1(H),null;case 3:if(V=H.stateNode,$=null,N!==null&&($=N.memoizedState.cache),H.memoizedState.cache!==$&&(H.flags|=2048),F4(R1),t5(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),N===null||N.child===null)l8(H)?j8(H):N===null||N.memoizedState.isDehydrated&&(H.flags&256)===0||(H.flags|=1024,L6!==null&&(JU(L6),L6=null));return yG(N,H),C1(H),null;case 26:if(s8){V=H.type;var B=H.memoizedState;return N===null?(j8(H),B!==null?(C1(H),hG(H,B)):(C1(H),lO(H,V,$))):B?B!==N.memoizedState?(j8(H),C1(H),hG(H,B)):(C1(H),H.flags&=-16777217):(E5?N.memoizedProps!==$&&j8(H):uO(N,H,V,$),C1(H),lO(H,V,$)),null}case 27:if(I5){if(W8(H),V=R7.current,B=H.type,N!==null&&H.stateNode!=null)E5?N.memoizedProps!==$&&j8(H):uO(N,H,B,$);else{if(!$){if(H.stateNode===null)throw Error(q(166));return C1(H),null}N=D5.current,l8(H)?$7(H,N):(N=tF(B,$,V,N,!0),H.stateNode=N,j8(H))}return C1(H),null}case 5:if(W8(H),V=H.type,N!==null&&H.stateNode!=null)uO(N,H,V,$);else{if(!$){if(H.stateNode===null)throw Error(q(166));return C1(H),null}N=D5.current,l8(H)?$7(H,N):(B=Rm(V,$,R7.current,N,H),cO(B,H,!1,!1),H.stateNode=B,SF(B,V,$,N)&&j8(H))}return C1(H),lO(H,H.type,H.pendingProps),null;case 6:if(N&&H.stateNode!=null)V=N.memoizedProps,E5?V!==$&&j8(H):L7&&(V!==$?(H.stateNode=bF($,R7.current,D5.current,H),j8(H)):H.stateNode=N.stateNode);else{if(typeof $!=="string"&&H.stateNode===null)throw Error(q(166));if(N=R7.current,V=D5.current,l8(H)){if(!a8)throw Error(q(176));if(N=H.stateNode,V=H.memoizedProps,$=null,B=h5,B!==null)switch(B.tag){case 27:case 5:$=B.memoizedProps}_d(N,V,H,$)||P5(H)}else H.stateNode=bF($,N,V,H)}return C1(H),null;case 13:if($=H.memoizedState,N===null||N.memoizedState!==null&&N.memoizedState.dehydrated!==null){if(B=l8(H),$!==null&&$.dehydrated!==null){if(N===null){if(!B)throw Error(q(318));if(!a8)throw Error(q(344));if(B=H.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(q(317));Md(B,H)}else G8(),(H.flags&128)===0&&(H.memoizedState=null),H.flags|=4;C1(H),B=!1}else L6!==null&&(JU(L6),L6=null),B=!0;if(!B){if(H.flags&256)return M4(H),H;return M4(H),null}}if(M4(H),(H.flags&128)!==0)return H.lanes=V,H;if(V=$!==null,N=N!==null&&N.memoizedState!==null,V){$=H.child,B=null,$.alternate!==null&&$.alternate.memoizedState!==null&&$.alternate.memoizedState.cachePool!==null&&(B=$.alternate.memoizedState.cachePool.pool);var M=null;$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(M=$.memoizedState.cachePool.pool),M!==B&&($.flags|=2048)}return V!==N&&V&&(H.child.flags|=8192),PX(H,H.updateQueue),C1(H),null;case 4:return t5(),yG(N,H),N===null&&Tm(H.stateNode.containerInfo),C1(H),null;case 10:return F4(H.type),C1(H),null;case 19:if(R(n1),B=H.memoizedState,B===null)return C1(H),null;if($=(H.flags&128)!==0,M=B.rendering,M===null)if($)EQ(B,!1);else{if(I1!==0||N!==null&&(N.flags&128)!==0)for(N=H.child;N!==null;){if(M=wX(N),M!==null){H.flags|=128,EQ(B,!1),N=M.updateQueue,H.updateQueue=N,PX(H,N),H.subtreeFlags=0,N=V;for(V=H.child;V!==null;)_F(V,N),V=V.sibling;return G(n1,n1.current&1|2),H.child}N=N.sibling}B.tail!==null&&C6()>cQ&&(H.flags|=128,$=!0,EQ(B,!1),H.lanes=4194304)}else{if(!$)if(N=wX(M),N!==null){if(H.flags|=128,$=!0,N=N.updateQueue,H.updateQueue=N,PX(H,N),EQ(B,!0),B.tail===null&&B.tailMode==="hidden"&&!M.alternate&&!g0)return C1(H),null}else 2*C6()-B.renderingStartTime>cQ&&V!==536870912&&(H.flags|=128,$=!0,EQ(B,!1),H.lanes=4194304);B.isBackwards?(M.sibling=H.child,H.child=M):(N=B.last,N!==null?N.sibling=M:H.child=M,B.last=M)}if(B.tail!==null)return H=B.tail,B.rendering=H,B.tail=H.sibling,B.renderingStartTime=C6(),H.sibling=null,N=n1.current,G(n1,$?N&1|2:N&1),H;return C1(H),null;case 22:case 23:return M4(H),UO(),$=H.memoizedState!==null,N!==null?N.memoizedState!==null!==$&&(H.flags|=8192):$&&(H.flags|=8192),$?(V&536870912)!==0&&(H.flags&128)===0&&(C1(H),H.subtreeFlags&6&&(H.flags|=8192)):C1(H),V=H.updateQueue,V!==null&&PX(H,V.retryQueue),V=null,N!==null&&N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(V=N.memoizedState.cachePool.pool),$=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&($=H.memoizedState.cachePool.pool),$!==V&&(H.flags|=2048),N!==null&&R(a9),null;case 24:return V=null,N!==null&&(V=N.memoizedState.cache),H.memoizedState.cache!==V&&(H.flags|=2048),F4(R1),C1(H),null;case 25:return null}throw Error(q(156,H.tag))}function Qm(N,H){switch(Z5(H),H.tag){case 1:return N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 3:return F4(R1),t5(),N=H.flags,(N&65536)!==0&&(N&128)===0?(H.flags=N&-65537|128,H):null;case 26:case 27:case 5:return W8(H),null;case 13:if(M4(H),N=H.memoizedState,N!==null&&N.dehydrated!==null){if(H.alternate===null)throw Error(q(340));G8()}return N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 19:return R(n1),null;case 4:return t5(),null;case 10:return F4(H.type),null;case 22:case 23:return M4(H),UO(),N!==null&&R(a9),N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 24:return F4(R1),null;case 25:return null;default:return null}}function xG(N,H){switch(Z5(H),H.tag){case 3:F4(R1),t5();break;case 26:case 27:case 5:W8(H);break;case 4:t5();break;case 13:M4(H);break;case 19:R(n1);break;case 10:F4(H.type);break;case 22:case 23:M4(H),UO(),N!==null&&R(a9);break;case 24:F4(R1)}}function IQ(N,H){try{var V=H.updateQueue,$=V!==null?V.lastEffect:null;if($!==null){var B=$.next;V=B;do{if((V.tag&N)===N){$=void 0;var{create:M,inst:E}=V;$=M(),E.destroy=$}V=V.next}while(V!==B)}}catch(S){o0(H,H.return,S)}}function W7(N,H,V){try{var $=H.updateQueue,B=$!==null?$.lastEffect:null;if(B!==null){var M=B.next;$=M;do{if(($.tag&N)===N){var E=$.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,B=H;var P=V;try{S()}catch(d){o0(B,P,d)}}}$=$.next}while($!==M)}}catch(d){o0(H,H.return,d)}}function gG(N){var H=N.updateQueue;if(H!==null){var V=N.stateNode;try{EW(H,V)}catch($){o0(N,N.return,$)}}}function mG(N,H,V){V.props=P9(N.type,N.memoizedProps),V.state=N.memoizedState;try{V.componentWillUnmount()}catch($){o0(N,H,$)}}function f9(N,H){try{var V=N.ref;if(V!==null){var $=N.stateNode;switch(N.tag){case 26:case 27:case 5:var B=bQ($);break;default:B=$}typeof V==="function"?N.refCleanup=V(B):V.current=B}}catch(M){o0(N,H,M)}}function w8(N,H){var{ref:V,refCleanup:$}=N;if(V!==null)if(typeof $==="function")try{$()}catch(B){o0(N,H,B)}finally{N.refCleanup=null,N=N.alternate,N!=null&&(N.refCleanup=null)}else if(typeof V==="function")try{V(null)}catch(B){o0(N,H,B)}else V.current=null}function dG(N){var{type:H,memoizedProps:V,stateNode:$}=N;try{sm($,H,V,N)}catch(B){o0(N,N.return,B)}}function cG(N,H,V){try{nm(N.stateNode,N.type,V,H,N)}catch($){o0(N,N.return,$)}}function uG(N){return N.tag===5||N.tag===3||(s8?N.tag===26:!1)||(I5?N.tag===27:!1)||N.tag===4}function pO(N){Z:for(;;){for(;N.sibling===null;){if(N.return===null||uG(N.return))return null;N=N.return}N.sibling.return=N.return;for(N=N.sibling;N.tag!==5&&N.tag!==6&&(I5?N.tag!==27:1)&&N.tag!==18;){if(N.flags&2)continue Z;if(N.child===null||N.tag===4)continue Z;else N.child.return=N,N=N.child}if(!(N.flags&2))return N.stateNode}}function iO(N,H,V){var $=N.tag;if($===5||$===6)N=N.stateNode,H?tm(V,N,H):im(V,N);else if(!($===4||I5&&$===27)&&(N=N.child,N!==null))for(iO(N,H,V),N=N.sibling;N!==null;)iO(N,H,V),N=N.sibling}function vX(N,H,V){var $=N.tag;if($===5||$===6)N=N.stateNode,H?om(V,N,H):pm(V,N);else if(!($===4||I5&&$===27)&&(N=N.child,N!==null))for(vX(N,H,V),N=N.sibling;N!==null;)vX(N,H,V),N=N.sibling}function lG(N,H,V){N=N.containerInfo;try{xF(N,V)}catch($){o0(H,H.return,$)}}function qm(N,H){Cm(N.containerInfo);for(Q5=H;Q5!==null;)if(N=Q5,H=N.child,(N.subtreeFlags&1028)!==0&&H!==null)H.return=N,Q5=H;else for(;Q5!==null;){N=Q5;var V=N.alternate;switch(H=N.flags,N.tag){case 0:break;case 11:case 15:break;case 1:if((H&1024)!==0&&V!==null){H=void 0;var $=N,B=V.memoizedProps;V=V.memoizedState;var M=$.stateNode;try{var E=P9($.type,B,$.elementType===$.type);H=M.getSnapshotBeforeUpdate(E,V),M.__reactInternalSnapshotBeforeUpdate=H}catch(S){o0($,$.return,S)}}break;case 3:(H&1024)!==0&&E5&&Kd(N.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((H&1024)!==0)throw Error(q(163))}if(H=N.sibling,H!==null){H.return=N.return,Q5=H;break}Q5=N.return}return E=Nj,Nj=!1,E}function pG(N,H,V){var $=V.flags;switch(V.tag){case 0:case 11:case 15:j4(N,V),$&4&&IQ(5,V);break;case 1:if(j4(N,V),$&4)if(N=V.stateNode,H===null)try{N.componentDidMount()}catch(S){o0(V,V.return,S)}else{var B=P9(V.type,H.memoizedProps);H=H.memoizedState;try{N.componentDidUpdate(B,H,N.__reactInternalSnapshotBeforeUpdate)}catch(S){o0(V,V.return,S)}}$&64&&gG(V),$&512&&f9(V,V.return);break;case 3:if(j4(N,V),$&64&&($=V.updateQueue,$!==null)){if(N=null,V.child!==null)switch(V.child.tag){case 27:case 5:N=bQ(V.child.stateNode);break;case 1:N=V.child.stateNode}try{EW($,N)}catch(S){o0(V,V.return,S)}}break;case 26:if(s8){j4(N,V),$&512&&f9(V,V.return);break}case 27:case 5:j4(N,V),H===null&&$&4&&dG(V),$&512&&f9(V,V.return);break;case 12:j4(N,V);break;case 13:j4(N,V),$&4&&aG(N,V);break;case 22:if(B=V.memoizedState!==null||I4,!B){H=H!==null&&H.memoizedState!==null||E1;var M=I4,E=E1;I4=B,(E1=H)&&!E?G7(N,V,(V.subtreeFlags&8772)!==0):j4(N,V),I4=M,E1=E}$&512&&(V.memoizedProps.mode==="manual"?f9(V,V.return):w8(V,V.return));break;default:j4(N,V)}}function iG(N){var H=N.alternate;H!==null&&(N.alternate=null,iG(H)),N.child=null,N.deletions=null,N.sibling=null,N.tag===5&&(H=N.stateNode,H!==null&&km(H)),N.stateNode=null,N.return=null,N.dependencies=null,N.memoizedProps=null,N.memoizedState=null,N.pendingProps=null,N.stateNode=null,N.updateQueue=null}function w6(N,H,V){for(V=V.child;V!==null;)aO(N,H,V),V=V.sibling}function aO(N,H,V){if(E8&&typeof E8.onCommitFiberUnmount==="function")try{E8.onCommitFiberUnmount(vQ,V)}catch(M){}switch(V.tag){case 26:if(s8){E1||w8(V,H),w6(N,H,V),V.memoizedState?aF(V.memoizedState):V.stateNode&&nF(V.stateNode);break}case 27:if(I5){E1||w8(V,H);var $=d1,B=T8;d1=V.stateNode,w6(N,H,V),Pd(V.stateNode),d1=$,T8=B;break}case 5:E1||w8(V,H);case 6:if(E5){if($=d1,B=T8,d1=null,w6(N,H,V),d1=$,T8=B,d1!==null)if(T8)try{em(d1,V.stateNode)}catch(M){o0(V,H,M)}else try{rm(d1,V.stateNode)}catch(M){o0(V,H,M)}}else w6(N,H,V);break;case 18:E5&&d1!==null&&(T8?wd(d1,V.stateNode):jd(d1,V.stateNode));break;case 4:E5?($=d1,B=T8,d1=V.stateNode.containerInfo,T8=!0,w6(N,H,V),d1=$,T8=B):(L7&&lG(V.stateNode,V,yF()),w6(N,H,V));break;case 0:case 11:case 14:case 15:E1||W7(2,V,H),E1||W7(4,V,H),w6(N,H,V);break;case 1:E1||(w8(V,H),$=V.stateNode,typeof $.componentWillUnmount==="function"&&mG(V,H,$)),w6(N,H,V);break;case 21:w6(N,H,V);break;case 22:E1||w8(V,H),E1=($=E1)||V.memoizedState!==null,w6(N,H,V),E1=$;break;default:w6(N,H,V)}}function aG(N,H){if(a8&&H.memoizedState===null&&(N=H.alternate,N!==null&&(N=N.memoizedState,N!==null&&(N=N.dehydrated,N!==null))))try{Fd(N)}catch(V){o0(H,H.return,V)}}function Km(N){switch(N.tag){case 13:case 19:var H=N.stateNode;return H===null&&(H=N.stateNode=new Xj),H;case 22:return N=N.stateNode,H=N._retryCache,H===null&&(H=N._retryCache=new Xj),H;default:throw Error(q(435,N.tag))}}function sO(N,H){var V=Km(N);H.forEach(function($){var B=Um.bind(null,N,$);V.has($)||(V.add($),$.then(B,B))})}function J8(N,H){var V=H.deletions;if(V!==null)for(var $=0;$<V.length;$++){var B=V[$],M=N,E=H;if(E5){var S=E;Z:for(;S!==null;){switch(S.tag){case 27:case 5:d1=S.stateNode,T8=!1;break Z;case 3:d1=S.stateNode.containerInfo,T8=!0;break Z;case 4:d1=S.stateNode.containerInfo,T8=!0;break Z}S=S.return}if(d1===null)throw Error(q(160));aO(M,E,B),d1=null,T8=!1}else aO(M,E,B);M=B.alternate,M!==null&&(M.return=null),B.return=null}if(H.subtreeFlags&13878)for(H=H.child;H!==null;)sG(H,N),H=H.sibling}function sG(N,H){var{alternate:V,flags:$}=N;switch(N.tag){case 0:case 11:case 14:case 15:J8(H,N),C8(N),$&4&&(W7(3,N,N.return),IQ(3,N),W7(5,N,N.return));break;case 1:J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),$&64&&I4&&(N=N.updateQueue,N!==null&&($=N.callbacks,$!==null&&(V=N.shared.hiddenCallbacks,N.shared.hiddenCallbacks=V===null?$:V.concat($))));break;case 26:if(s8){var B=R6;J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),$&4&&($=V!==null?V.memoizedState:null,H=N.memoizedState,V===null?H===null?N.stateNode===null?N.stateNode=Rd(B,N.type,N.memoizedProps,N):sF(B,N.type,N.stateNode):N.stateNode=iF(B,H,N.memoizedProps):$!==H?($===null?V.stateNode!==null&&nF(V.stateNode):aF($),H===null?sF(B,N.type,N.stateNode):iF(B,H,N.memoizedProps)):H===null&&N.stateNode!==null&&cG(N,N.memoizedProps,V.memoizedProps));break}case 27:if(I5&&$&4&&N.alternate===null){B=N.stateNode;var M=N.memoizedProps;try{bd(B),kd(N.type,M,B,N)}catch(o){o0(N,N.return,o)}}case 5:if(J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),E5){if(N.flags&32){H=N.stateNode;try{fF(H)}catch(o){o0(N,N.return,o)}}$&4&&N.stateNode!=null&&(H=N.memoizedProps,cG(N,H,V!==null?V.memoizedProps:H)),$&1024&&(yU=!0)}break;case 6:if(J8(H,N),C8(N),$&4&&E5){if(N.stateNode===null)throw Error(q(162));$=N.memoizedProps,V=V!==null?V.memoizedProps:$,H=N.stateNode;try{am(H,V,$)}catch(o){o0(N,N.return,o)}}break;case 3:if(s8?(Id(),B=R6,R6=jU(H.containerInfo),J8(H,N),R6=B):J8(H,N),C8(N),$&4){if(E5&&a8&&V!==null&&V.memoizedState.isDehydrated)try{Gd(H.containerInfo)}catch(o){o0(N,N.return,o)}if(L7){$=H.containerInfo,V=H.pendingChildren;try{xF($,V)}catch(o){o0(N,N.return,o)}}}yU&&(yU=!1,nG(N));break;case 4:s8?(V=R6,R6=jU(N.stateNode.containerInfo),J8(H,N),C8(N),R6=V):(J8(H,N),C8(N)),$&4&&L7&&lG(N.stateNode,N,N.stateNode.pendingChildren);break;case 12:J8(H,N),C8(N);break;case 13:J8(H,N),C8(N),N.child.flags&8192&&N.memoizedState!==null!==(V!==null&&V.memoizedState!==null)&&(mU=C6()),$&4&&($=N.updateQueue,$!==null&&(N.updateQueue=null,sO(N,$)));break;case 22:$&512&&(E1||V===null||w8(V,V.return)),B=N.memoizedState!==null;var E=V!==null&&V.memoizedState!==null,S=I4,P=E1;if(I4=S||B,E1=P||E,J8(H,N),E1=P,I4=S,C8(N),H=N.stateNode,H._current=N,H._visibility&=-3,H._visibility|=H._pendingVisibility&2,$&8192&&(H._visibility=B?H._visibility&-2:H._visibility|1,B&&(H=I4||E1,V===null||E||H||eZ(N)),E5&&(N.memoizedProps===null||N.memoizedProps.mode!=="manual")))Z:if(V=null,E5)for(H=N;;){if(H.tag===5||s8&&H.tag===26||I5&&H.tag===27){if(V===null){E=V=H;try{M=E.stateNode,B?Zd(M):Qd(E.stateNode,E.memoizedProps)}catch(o){o0(E,E.return,o)}}}else if(H.tag===6){if(V===null){E=H;try{var d=E.stateNode;B?Jd(d):qd(d,E.memoizedProps)}catch(o){o0(E,E.return,o)}}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===N)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===N)break Z;for(;H.sibling===null;){if(H.return===null||H.return===N)break Z;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}$&4&&($=N.updateQueue,$!==null&&(V=$.retryQueue,V!==null&&($.retryQueue=null,sO(N,V))));break;case 19:J8(H,N),C8(N),$&4&&($=N.updateQueue,$!==null&&(N.updateQueue=null,sO(N,$)));break;case 21:break;default:J8(H,N),C8(N)}}function C8(N){var H=N.flags;if(H&2){try{if(E5&&(!I5||N.tag!==27)){Z:{for(var V=N.return;V!==null;){if(uG(V)){var $=V;break Z}V=V.return}throw Error(q(160))}switch($.tag){case 27:if(I5){var B=$.stateNode,M=pO(N);vX(N,M,B);break}case 5:var E=$.stateNode;$.flags&32&&(fF(E),$.flags&=-33);var S=pO(N);vX(N,S,E);break;case 3:case 4:var P=$.stateNode.containerInfo,d=pO(N);iO(N,d,P);break;default:throw Error(q(161))}}}catch(o){o0(N,N.return,o)}N.flags&=-3}H&4096&&(N.flags&=-4097)}function nG(N){if(N.subtreeFlags&1024)for(N=N.child;N!==null;){var H=N;nG(H),H.tag===5&&H.flags&1024&&ym(H.stateNode),N=N.sibling}}function j4(N,H){if(H.subtreeFlags&8772)for(H=H.child;H!==null;)pG(N,H.alternate,H),H=H.sibling}function eZ(N){for(N=N.child;N!==null;){var H=N;switch(H.tag){case 0:case 11:case 14:case 15:W7(4,H,H.return),eZ(H);break;case 1:w8(H,H.return);var V=H.stateNode;typeof V.componentWillUnmount==="function"&&mG(H,H.return,V),eZ(H);break;case 26:case 27:case 5:w8(H,H.return),eZ(H);break;case 22:w8(H,H.return),H.memoizedState===null&&eZ(H);break;default:eZ(H)}N=N.sibling}}function G7(N,H,V){V=V&&(H.subtreeFlags&8772)!==0;for(H=H.child;H!==null;){var $=H.alternate,B=N,M=H,E=M.flags;switch(M.tag){case 0:case 11:case 15:G7(B,M,V),IQ(4,M);break;case 1:if(G7(B,M,V),$=M,B=$.stateNode,typeof B.componentDidMount==="function")try{B.componentDidMount()}catch(d){o0($,$.return,d)}if($=M,B=$.updateQueue,B!==null){var S=$.stateNode;try{var P=B.shared.hiddenCallbacks;if(P!==null)for(B.shared.hiddenCallbacks=null,B=0;B<P.length;B++)RW(P[B],S)}catch(d){o0($,$.return,d)}}V&&E&64&&gG(M),f9(M,M.return);break;case 26:case 27:case 5:G7(B,M,V),V&&$===null&&E&4&&dG(M),f9(M,M.return);break;case 12:G7(B,M,V);break;case 13:G7(B,M,V),V&&E&4&&aG(B,M);break;case 22:M.memoizedState===null&&G7(B,M,V),f9(M,M.return);break;default:G7(B,M,V)}H=H.sibling}}function nO(N,H){var V=null;N!==null&&N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(V=N.memoizedState.cachePool.pool),N=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(N=H.memoizedState.cachePool.pool),N!==V&&(N!=null&&N.refCount++,V!=null&&RQ(V))}function oO(N,H){N=null,H.alternate!==null&&(N=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==N&&(H.refCount++,N!=null&&RQ(N))}function F7(N,H,V,$){if(H.subtreeFlags&10256)for(H=H.child;H!==null;)oG(N,H,V,$),H=H.sibling}function oG(N,H,V,$){var B=H.flags;switch(H.tag){case 0:case 11:case 15:F7(N,H,V,$),B&2048&&IQ(9,H);break;case 3:F7(N,H,V,$),B&2048&&(N=null,H.alternate!==null&&(N=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==N&&(H.refCount++,N!=null&&RQ(N)));break;case 12:if(B&2048){F7(N,H,V,$),N=H.stateNode;try{var M=H.memoizedProps,E=M.id,S=M.onPostCommit;typeof S==="function"&&S(E,H.alternate===null?"mount":"update",N.passiveEffectDuration,-0)}catch(P){o0(H,H.return,P)}}else F7(N,H,V,$);break;case 23:break;case 22:M=H.stateNode,H.memoizedState!==null?M._visibility&4?F7(N,H,V,$):TQ(N,H):M._visibility&4?F7(N,H,V,$):(M._visibility|=4,Z2(N,H,V,$,(H.subtreeFlags&10256)!==0)),B&2048&&nO(H.alternate,H);break;case 24:F7(N,H,V,$),B&2048&&oO(H.alternate,H);break;default:F7(N,H,V,$)}}function Z2(N,H,V,$,B){B=B&&(H.subtreeFlags&10256)!==0;for(H=H.child;H!==null;){var M=N,E=H,S=V,P=$,d=E.flags;switch(E.tag){case 0:case 11:case 15:Z2(M,E,S,P,B),IQ(8,E);break;case 23:break;case 22:var o=E.stateNode;E.memoizedState!==null?o._visibility&4?Z2(M,E,S,P,B):TQ(M,E):(o._visibility|=4,Z2(M,E,S,P,B)),B&&d&2048&&nO(E.alternate,E);break;case 24:Z2(M,E,S,P,B),B&&d&2048&&oO(E.alternate,E);break;default:Z2(M,E,S,P,B)}H=H.sibling}}function TQ(N,H){if(H.subtreeFlags&10256)for(H=H.child;H!==null;){var V=N,$=H,B=$.flags;switch($.tag){case 22:TQ(V,$),B&2048&&nO($.alternate,$);break;case 24:TQ(V,$),B&2048&&oO($.alternate,$);break;default:TQ(V,$)}H=H.sibling}}function y9(N){if(N.subtreeFlags&G2)for(N=N.child;N!==null;)tG(N),N=N.sibling}function tG(N){switch(N.tag){case 26:y9(N),N.flags&G2&&(N.memoizedState!==null?Sd(R6,N.memoizedState,N.memoizedProps):vF(N.type,N.memoizedProps));break;case 5:y9(N),N.flags&G2&&vF(N.type,N.memoizedProps);break;case 3:case 4:if(s8){var H=R6;R6=jU(N.stateNode.containerInfo),y9(N),R6=H}else y9(N);break;case 22:N.memoizedState===null&&(H=N.alternate,H!==null&&H.memoizedState!==null?(H=G2,G2=16777216,y9(N),G2=H):y9(N));break;default:y9(N)}}function rG(N){var H=N.alternate;if(H!==null&&(N=H.child,N!==null)){H.child=null;do H=N.sibling,N.sibling=null,N=H;while(N!==null)}}function SQ(N){var H=N.deletions;if((N.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var $=H[V];Q5=$,ZF($,N)}rG(N)}if(N.subtreeFlags&10256)for(N=N.child;N!==null;)eG(N),N=N.sibling}function eG(N){switch(N.tag){case 0:case 11:case 15:SQ(N),N.flags&2048&&W7(9,N,N.return);break;case 3:SQ(N);break;case 12:SQ(N);break;case 22:var H=N.stateNode;N.memoizedState!==null&&H._visibility&4&&(N.return===null||N.return.tag!==13)?(H._visibility&=-5,fX(N)):SQ(N);break;default:SQ(N)}}function fX(N){var H=N.deletions;if((N.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var $=H[V];Q5=$,ZF($,N)}rG(N)}for(N=N.child;N!==null;){switch(H=N,H.tag){case 0:case 11:case 15:W7(8,H,H.return),fX(H);break;case 22:V=H.stateNode,V._visibility&4&&(V._visibility&=-5,fX(H));break;default:fX(H)}N=N.sibling}}function ZF(N,H){for(;Q5!==null;){var V=Q5;switch(V.tag){case 0:case 11:case 15:W7(8,V,H);break;case 23:case 22:if(V.memoizedState!==null&&V.memoizedState.cachePool!==null){var $=V.memoizedState.cachePool.pool;$!=null&&$.refCount++}break;case 24:RQ(V.memoizedState.cache)}if($=V.child,$!==null)$.return=V,Q5=$;else Z:for(V=N;Q5!==null;){$=Q5;var{sibling:B,return:M}=$;if(iG($),$===V){Q5=null;break Z}if(B!==null){B.return=M,Q5=B;break Z}Q5=M}}}function tO(N){var H=kF(N);if(H!=null){if(typeof H.memoizedProps["data-testname"]!=="string")throw Error(q(364));return H}if(N=gm(N),N===null)throw Error(q(362));return N.stateNode.current}function rO(N,H){var V=N.tag;switch(H.$$typeof){case ZN:if(N.type===H.value)return!0;break;case JN:Z:{H=H.value,N=[N,0];for(V=0;V<N.length;){var $=N[V++],B=$.tag,M=N[V++],E=H[M];if(B!==5&&B!==26&&B!==27||!PQ($)){for(;E!=null&&rO($,E);)M++,E=H[M];if(M===H.length){H=!0;break Z}else for($=$.child;$!==null;)N.push($,M),$=$.sibling}}H=!1}return H;case QN:if((V===5||V===26||V===27)&&cm(N.stateNode,H.value))return!0;break;case KN:if(V===5||V===6||V===26||V===27){if(N=dm(N),N!==null&&0<=N.indexOf(H.value))return!0}break;case qN:if(V===5||V===26||V===27){if(N=N.memoizedProps["data-testname"],typeof N==="string"&&N.toLowerCase()===H.value.toLowerCase())return!0}break;default:throw Error(q(365))}return!1}function eO(N){switch(N.$$typeof){case ZN:return"<"+(X(N.value)||"Unknown")+">";case JN:return":has("+(eO(N)||"")+")";case QN:return'[role="'+N.value+'"]';case KN:return'"'+N.value+'"';case qN:return'[data-testname="'+N.value+'"]';default:throw Error(q(365))}}function JF(N,H){var V=[];N=[N,0];for(var $=0;$<N.length;){var B=N[$++],M=B.tag,E=N[$++],S=H[E];if(M!==5&&M!==26&&M!==27||!PQ(B)){for(;S!=null&&rO(B,S);)E++,S=H[E];if(E===H.length)V.push(B);else for(B=B.child;B!==null;)N.push(B,E),B=B.sibling}}return V}function ZU(N,H){if(!kQ)throw Error(q(363));N=tO(N),N=JF(N,H),H=[],N=Array.from(N);for(var V=0;V<N.length;){var $=N[V++],B=$.tag;if(B===5||B===26||B===27)PQ($)||H.push($.stateNode);else for($=$.child;$!==null;)N.push($),$=$.sibling}return H}function L8(){if((K1&2)!==0&&y0!==0)return y0&-y0;if(B0.T!==null){var N=$2;return N!==0?N:tZ()}return Sm()}function QF(){e8===0&&(e8=(y0&536870912)===0||g0?b():536870912);var N=r8.current;return N!==null&&(N.flags|=32),e8}function y5(N,H,V){if(N===Y1&&V1===2||N.cancelPendingCommit!==null)J2(N,0),w4(N,y0,e8,!1);if(u(N,V),(K1&2)===0||N!==Y1)N===Y1&&((K1&2)===0&&(s9|=V),I1===4&&w4(N,y0,e8,!1)),i8(N)}function qF(N,H,V){if((K1&6)!==0)throw Error(q(327));var $=!V&&(H&60)===0&&(H&N.expiredLanes)===0||h(N,H),B=$?zm(N,H):KU(N,H,!0),M=$;do{if(B===0){F2&&!$&&w4(N,H,0,!1);break}else if(B===6)w4(N,H,0,!T4);else{if(V=N.current.alternate,M&&!Xm(V)){B=KU(N,H,!1),M=!1;continue}if(B===2){if(M=H,N.errorRecoveryDisabledLanes&M)var E=0;else E=N.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){H=E;Z:{var S=N;B=dQ;var P=a8&&S.current.memoizedState.isDehydrated;if(P&&(J2(S,E).flags|=256),E=KU(S,E,!1),E!==2){if(hU&&!P){S.errorRecoveryDisabledLanes|=M,s9|=M,B=4;break Z}M=s6,s6=B,M!==null&&JU(M)}B=E}if(M=!1,B!==2)continue}}if(B===1){J2(N,0),w4(N,H,0,!0);break}Z:{switch($=N,B){case 0:case 1:throw Error(q(345));case 4:if((H&4194176)===H){w4($,H,e8,!T4);break Z}break;case 2:s6=null;break;case 3:case 5:break;default:throw Error(q(329))}if($.finishedWork=V,$.finishedLanes=H,(H&62914560)===H&&(M=mU+300-C6(),10<M)){if(w4($,H,e8,!T4),I($,0)!==0)break Z;$.timeoutHandle=Em(KF.bind(null,$,V,s6,XN,gU,H,e8,s9,j2,T4,2,-0,0),M);break Z}KF($,V,s6,XN,gU,H,e8,s9,j2,T4,0,-0,0)}}break}while(1);i8(N)}function JU(N){s6===null?s6=N:s6.push.apply(s6,N)}function KF(N,H,V,$,B,M,E,S,P,d,o,Q0,X0){var G0=H.subtreeFlags;if(G0&8192||(G0&16785408)===16785408){if(vm(),tG(H),H=fm(),H!==null){N.cancelPendingCommit=H($F.bind(null,N,V,$,B,E,S,P,1,Q0,X0)),w4(N,M,E,!d);return}}$F(N,V,$,B,E,S,P,o,Q0,X0)}function Xm(N){for(var H=N;;){var V=H.tag;if((V===0||V===11||V===15)&&H.flags&16384&&(V=H.updateQueue,V!==null&&(V=V.stores,V!==null)))for(var $=0;$<V.length;$++){var B=V[$],M=B.getSnapshot;B=B.value;try{if(!I8(M(),B))return!1}catch(E){return!1}}if(V=H.child,H.subtreeFlags&16384&&V!==null)V.return=H,H=V;else{if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}function w4(N,H,V,$){H&=~xU,H&=~s9,N.suspendedLanes|=H,N.pingedLanes&=~H,$&&(N.warmLanes|=H),$=N.expirationTimes;for(var B=H;0<B;){var M=31-R8(B),E=1<<M;$[M]=-1,B&=~E}V!==0&&N0(N,V,H)}function XF(){return(K1&6)===0?(k9(0,!1),!1):!0}function QU(){if(R0!==null){if(V1===0)var N=R0.return;else N=R0,E4=i9=null,_O(N),B2=null,xQ=0,N=R0;for(;N!==null;)xG(N.alternate,N),N=N.return;R0=null}}function J2(N,H){N.finishedWork=null,N.finishedLanes=0;var V=N.timeoutHandle;V!==WU&&(N.timeoutHandle=WU,Im(V)),V=N.cancelPendingCommit,V!==null&&(N.cancelPendingCommit=null,V()),QU(),Y1=N,R0=V=j7(N.current,null),y0=H,V1=0,S8=null,T4=!1,F2=h(N,H),hU=!1,j2=e8=xU=s9=S7=I1=0,s6=dQ=null,gU=!1,(H&8)!==0&&(H|=H&32);var $=N.entangledLanes;if($!==0)for(N=N.entanglements,$&=H;0<$;){var B=31-R8($),M=1<<B;H|=N[B],$&=~M}return S4=H,f5(),V}function NF(N,H){C0=null,B0.H=a6,H===hQ?(H=SW(),V1=3):H===kU?(H=SW(),V1=4):V1=H===qj?8:H!==null&&typeof H==="object"&&typeof H.then==="function"?6:1,S8=H,R0===null&&(I1=1,TX(N,$1(H,N.current)))}function zF(){var N=r8.current;return N===null?!0:(y0&4194176)===y0?i6===null?!0:!1:(y0&62914560)===y0||(y0&536870912)!==0?N===i6:!1}function HF(){var N=B0.H;return B0.H=a6,N===null?a6:N}function YF(){var N=B0.A;return B0.A=ad,N}function qU(){I1=4,T4||(y0&4194176)!==y0&&r8.current!==null||(F2=!0),(S7&134217727)===0&&(s9&134217727)===0||Y1===null||w4(Y1,y0,e8,!1)}function KU(N,H,V){var $=K1;K1|=2;var B=HF(),M=YF();if(Y1!==N||y0!==H)XN=null,J2(N,H);H=!1;var E=I1;Z:do try{if(V1!==0&&R0!==null){var S=R0,P=S8;switch(V1){case 8:QU(),E=6;break Z;case 3:case 2:case 6:r8.current===null&&(H=!0);var d=V1;if(V1=0,S8=null,Q2(N,S,P,d),V&&F2){E=0;break Z}break;default:d=V1,V1=0,S8=null,Q2(N,S,P,d)}}Nm(),E=I1;break}catch(o){NF(N,o)}while(1);return H&&N.shellSuspendCounter++,E4=i9=null,K1=$,B0.H=B,B0.A=M,R0===null&&(Y1=null,y0=0,f5()),E}function Nm(){for(;R0!==null;)VF(R0)}function zm(N,H){var V=K1;K1|=2;var $=HF(),B=YF();Y1!==N||y0!==H?(XN=null,cQ=C6()+500,J2(N,H)):F2=h(N,H);Z:do try{if(V1!==0&&R0!==null){H=R0;var M=S8;J:switch(V1){case 1:V1=0,S8=null,Q2(N,H,M,1);break;case 2:if(IW(M)){V1=0,S8=null,OF(H);break}H=function(){V1===2&&Y1===N&&(V1=7),i8(N)},M.then(H,H);break Z;case 3:V1=7;break Z;case 4:V1=5;break Z;case 7:IW(M)?(V1=0,S8=null,OF(H)):(V1=0,S8=null,Q2(N,H,M,7));break;case 5:var E=null;switch(R0.tag){case 26:E=R0.memoizedState;case 5:case 27:var S=R0,P=S.type,d=S.pendingProps;if(E?oF(E):PF(P,d)){V1=0,S8=null;var o=S.sibling;if(o!==null)R0=o;else{var Q0=S.return;Q0!==null?(R0=Q0,yX(Q0)):R0=null}break J}}V1=0,S8=null,Q2(N,H,M,5);break;case 6:V1=0,S8=null,Q2(N,H,M,6);break;case 8:QU(),I1=6;break Z;default:throw Error(q(462))}}Hm();break}catch(X0){NF(N,X0)}while(1);if(E4=i9=null,B0.H=$,B0.A=B,K1=V,R0!==null)return 0;return Y1=null,y0=0,f5(),I1}function Hm(){for(;R0!==null&&!yd();)VF(R0)}function VF(N){var H=bG(N.alternate,N,S4);N.memoizedProps=N.pendingProps,H===null?yX(N):R0=H}function OF(N){var H=N,V=H.alternate;switch(H.tag){case 15:case 0:H=LG(V,H,H.pendingProps,H.type,void 0,y0);break;case 11:H=LG(V,H,H.pendingProps,H.type.render,H.ref,y0);break;case 5:_O(H);default:xG(V,H),H=R0=_F(H,S4),H=bG(V,H,S4)}N.memoizedProps=N.pendingProps,H===null?yX(N):R0=H}function Q2(N,H,V,$){E4=i9=null,_O(H),B2=null,xQ=0;var B=H.return;try{if(eg(N,B,H,V,y0)){I1=1,TX(N,$1(V,N.current)),R0=null;return}}catch(M){if(B!==null)throw R0=B,M;I1=1,TX(N,$1(V,N.current)),R0=null;return}if(H.flags&32768){if(g0||$===1)N=!0;else if(F2||(y0&536870912)!==0)N=!1;else if(T4=N=!0,$===2||$===3||$===6)$=r8.current,$!==null&&$.tag===13&&($.flags|=16384);UF(H,N)}else yX(H)}function yX(N){var H=N;do{if((H.flags&32768)!==0){UF(H,T4);return}N=H.return;var V=Jm(H.alternate,H,S4);if(V!==null){R0=V;return}if(H=H.sibling,H!==null){R0=H;return}R0=H=N}while(H!==null);I1===0&&(I1=5)}function UF(N,H){do{var V=Qm(N.alternate,N);if(V!==null){V.flags&=32767,R0=V;return}if(V=N.return,V!==null&&(V.flags|=32768,V.subtreeFlags=0,V.deletions=null),!H&&(N=N.sibling,N!==null)){R0=N;return}R0=N=V}while(N!==null);I1=6,R0=null}function $F(N,H,V,$,B,M,E,S,P,d){var o=B0.T,Q0=g9();try{Q8(2),B0.T=null,Ym(N,H,V,$,Q0,B,M,E,S,P,d)}finally{B0.T=o,Q8(Q0)}}function Ym(N,H,V,$,B,M,E,S){do h9();while(n9!==null);if((K1&6)!==0)throw Error(q(327));var P=N.finishedWork;if($=N.finishedLanes,P===null)return null;if(N.finishedWork=null,N.finishedLanes=0,P===N.current)throw Error(q(177));N.callbackNode=null,N.callbackPriority=0,N.cancelPendingCommit=null;var d=P.lanes|P.childLanes;if(d|=EU,n(N,$,d,M,E,S),N===Y1&&(R0=Y1=null,y0=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||NN||(NN=!0,dU=d,cU=V,$m(LU,function(){return h9(!0),null})),V=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||V?(V=B0.T,B0.T=null,M=g9(),Q8(2),E=K1,K1|=4,qm(N,P),sG(P,N),Lm(N.containerInfo),N.current=P,pG(N,P.alternate,P),hd(),K1=E,Q8(M),B0.T=V):N.current=P,NN?(NN=!1,n9=N,uQ=$):AF(N,d),d=N.pendingLanes,d===0&&(b7=null),L5(P.stateNode,B),i8(N),H!==null)for(B=N.onRecoverableError,P=0;P<H.length;P++)d=H[P],B(d.value,{componentStack:d.stack});return(uQ&3)!==0&&h9(),d=N.pendingLanes,($&4194218)!==0&&(d&42)!==0?N===uU?lQ++:(lQ=0,uU=N):lQ=0,k9(0,!1),null}function AF(N,H){(N.pooledCacheLanes&=H)===0&&(H=N.pooledCache,H!=null&&(N.pooledCache=null,RQ(H)))}function h9(){if(n9!==null){var N=n9,H=dU;dU=0;var V=f0(uQ),$=32>V?32:V;V=B0.T;var B=g9();try{if(Q8($),B0.T=null,n9===null)var M=!1;else{$=cU,cU=null;var E=n9,S=uQ;if(n9=null,uQ=0,(K1&6)!==0)throw Error(q(331));var P=K1;if(K1|=4,eG(E.current),oG(E,E.current,S,$),K1=P,k9(0,!1),E8&&typeof E8.onPostCommitFiberRoot==="function")try{E8.onPostCommitFiberRoot(vQ,E)}catch(d){}M=!0}return M}finally{Q8(B),B0.T=V,AF(N,H)}}return!1}function DF(N,H,V){H=$1(V,H),H=TO(N.stateNode,H,2),N=D7(N,H,2),N!==null&&(u(N,2),i8(N))}function o0(N,H,V){if(N.tag===3)DF(N,N,V);else for(;H!==null;){if(H.tag===3){DF(H,N,V);break}else if(H.tag===1){var $=H.stateNode;if(typeof H.type.getDerivedStateFromError==="function"||typeof $.componentDidCatch==="function"&&(b7===null||!b7.has($))){N=$1(V,N),V=MG(2),$=D7(H,V,2),$!==null&&(WG(V,$,H,N),u($,2),i8($));break}}H=H.return}}function XU(N,H,V){var $=N.pingCache;if($===null){$=N.pingCache=new sd;var B=new Set;$.set(H,B)}else B=$.get(H),B===void 0&&(B=new Set,$.set(H,B));B.has(V)||(hU=!0,B.add(V),N=Vm.bind(null,N,H,V),H.then(N,N))}function Vm(N,H,V){var $=N.pingCache;$!==null&&$.delete(H),N.pingedLanes|=N.suspendedLanes&V,N.warmLanes&=~V,Y1===N&&(y0&V)===V&&(I1===4||I1===3&&(y0&62914560)===y0&&300>C6()-mU?(K1&2)===0&&J2(N,0):xU|=V,j2===y0&&(j2=0)),i8(N)}function BF(N,H){H===0&&(H=m()),N=p8(N,H),N!==null&&(u(N,H),i8(N))}function Om(N){var H=N.memoizedState,V=0;H!==null&&(V=H.retryLane),BF(N,V)}function Um(N,H){var V=0;switch(N.tag){case 13:var{stateNode:$,memoizedState:B}=N;B!==null&&(V=B.retryLane);break;case 19:$=N.stateNode;break;case 22:$=N.stateNode._retryCache;break;default:throw Error(q(314))}$!==null&&$.delete(H),BF(N,V)}function $m(N,H){return uX(N,H)}function Am(N,H,V,$){this.tag=N,this.key=V,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=H,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function NU(N){return N=N.prototype,!(!N||!N.isReactComponent)}function j7(N,H){var V=N.alternate;return V===null?(V=J(N.tag,H,N.key,N.mode),V.elementType=N.elementType,V.type=N.type,V.stateNode=N.stateNode,V.alternate=N,N.alternate=V):(V.pendingProps=H,V.type=N.type,V.flags=0,V.subtreeFlags=0,V.deletions=null),V.flags=N.flags&31457280,V.childLanes=N.childLanes,V.lanes=N.lanes,V.child=N.child,V.memoizedProps=N.memoizedProps,V.memoizedState=N.memoizedState,V.updateQueue=N.updateQueue,H=N.dependencies,V.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext},V.sibling=N.sibling,V.index=N.index,V.ref=N.ref,V.refCleanup=N.refCleanup,V}function _F(N,H){N.flags&=31457282;var V=N.alternate;return V===null?(N.childLanes=0,N.lanes=H,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=V.childLanes,N.lanes=V.lanes,N.child=V.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=V.memoizedProps,N.memoizedState=V.memoizedState,N.updateQueue=V.updateQueue,N.type=V.type,H=V.dependencies,N.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),N}function hX(N,H,V,$,B,M){var E=0;if($=N,typeof N==="function")NU(N)&&(E=1);else if(typeof N==="string")E=s8&&I5?lF(N,V,D5.current)?26:rF(N)?27:5:s8?lF(N,V,D5.current)?26:5:I5?rF(N)?27:5:5;else Z:switch(N){case K2:return x9(V.children,B,M,H);case CF:E=8,B|=24;break;case OU:return N=J(12,V,H,B|2),N.elementType=OU,N.lanes=M,N;case $U:return N=J(13,V,H,B),N.elementType=$U,N.lanes=M,N;case AU:return N=J(19,V,H,B),N.elementType=AU,N.lanes=M,N;case RF:return MF(V,B,M,H);default:if(typeof N==="object"&&N!==null)switch(N.$$typeof){case _m:case w7:E=10;break Z;case LF:E=9;break Z;case UU:E=11;break Z;case DU:E=14;break Z;case C7:E=16,$=null;break Z}E=29,V=Error(q(130,N===null?"null":typeof N,"")),$=null}return H=J(E,V,H,B),H.elementType=N,H.type=$,H.lanes=M,H}function x9(N,H,V,$){return N=J(7,N,$,H),N.lanes=V,N}function MF(N,H,V,$){N=J(22,N,$,H),N.elementType=RF,N.lanes=V;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=B._current;if(M===null)throw Error(q(456));if((B._pendingVisibility&2)===0){var E=p8(M,2);E!==null&&(B._pendingVisibility|=2,y5(E,M,2))}},attach:function(){var M=B._current;if(M===null)throw Error(q(456));if((B._pendingVisibility&2)!==0){var E=p8(M,2);E!==null&&(B._pendingVisibility&=-3,y5(E,M,2))}}};return N.stateNode=B,N}function zU(N,H,V){return N=J(6,N,null,H),N.lanes=V,N}function HU(N,H,V){return H=J(4,N.children!==null?N.children:[],N.key,H),H.lanes=V,H.stateNode={containerInfo:N.containerInfo,pendingChildren:null,implementation:N.implementation},H}function Dm(N,H,V,$,B,M,E,S){this.tag=1,this.containerInfo=N,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=WU,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=c(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c(0),this.hiddenUpdates=c(null),this.identifierPrefix=$,this.onUncaughtError=B,this.onCaughtError=M,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function WF(N,H,V,$,B,M,E,S,P,d,o,Q0){return N=new Dm(N,H,V,E,S,P,d,Q0),H=1,M===!0&&(H|=24),M=J(3,null,null,H),N.current=M,M.stateNode=N,H=mO(),H.refCount++,N.pooledCache=H,H.refCount++,M.memoizedState={element:$,isDehydrated:V,cache:H},HO(M),N}function GF(N){if(!N)return z2;return N=z2,N}function FF(N){var H=N._reactInternals;if(H===void 0){if(typeof N.render==="function")throw Error(q(188));throw N=Object.keys(N).join(","),Error(q(268,N))}return N=_(H),N=N!==null?W(N):null,N===null?null:bQ(N.stateNode)}function jF(N,H,V,$,B,M){B=GF(B),$.context===null?$.context=B:$.pendingContext=B,$=A7(H),$.payload={element:V},M=M===void 0?null:M,M!==null&&($.callback=M),V=D7(N,$,H),V!==null&&(y5(V,N,H),MQ(V,N,H))}function wF(N,H){if(N=N.memoizedState,N!==null&&N.dehydrated!==null){var V=N.retryLane;N.retryLane=V!==0&&V<H?V:H}}function YU(N,H){wF(N,H),(N=N.alternate)&&wF(N,H)}var L0={},VU=Object.assign,Bm=Symbol.for("react.element"),xX=Symbol.for("react.transitional.element"),q2=Symbol.for("react.portal"),K2=Symbol.for("react.fragment"),CF=Symbol.for("react.strict_mode"),OU=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),LF=Symbol.for("react.consumer"),w7=Symbol.for("react.context"),UU=Symbol.for("react.forward_ref"),$U=Symbol.for("react.suspense"),AU=Symbol.for("react.suspense_list"),DU=Symbol.for("react.memo"),C7=Symbol.for("react.lazy"),RF=Symbol.for("react.offscreen"),Mm=Symbol.for("react.memo_cache_sentinel"),EF=Symbol.iterator,Wm=Symbol.for("react.client.reference"),B0=t9,BU,IF,_U=!1,gX=Array.isArray,Gm=Z.rendererVersion,Fm=Z.rendererPackageName,TF=Z.extraDevToolsConfig,bQ=Z.getPublicInstance,jm=Z.getRootHostContext,wm=Z.getChildHostContext,Cm=Z.prepareForCommit,Lm=Z.resetAfterCommit,Rm=Z.createInstance,MU=Z.appendInitialChild,SF=Z.finalizeInitialChildren,mX=Z.shouldSetTextContent,bF=Z.createTextInstance,Em=Z.scheduleTimeout,Im=Z.cancelTimeout,WU=Z.noTimeout,C4=Z.isPrimaryRenderer;Z.warnsIfNotActing;var{supportsMutation:E5,supportsPersistence:L7,supportsHydration:a8,getInstanceFromNode:kF}=Z;Z.beforeActiveInstanceBlur,Z.afterActiveInstanceBlur;var Tm=Z.preparePortalMount;Z.prepareScopeUpdate,Z.getInstanceFromScope;var{setCurrentUpdatePriority:Q8,getCurrentUpdatePriority:g9,resolveUpdatePriority:Sm}=Z;Z.resolveEventType,Z.resolveEventTimeStamp;var{shouldAttemptEagerTransition:bm,detachDeletedInstance:km}=Z;Z.requestPostPaintCallback;var{maySuspendCommit:Pm,preloadInstance:PF,startSuspendingCommit:vm,suspendInstance:vF,waitForCommitToBeReady:fm,NotPendingTransition:X2,HostTransitionContext:m9,resetFormInstance:ym}=Z;Z.bindToConsole;var{supportsMicrotasks:hm,scheduleMicrotask:xm,supportsTestSelectors:kQ,findFiberRoot:gm,getBoundingRect:mm,getTextContent:dm,isHiddenSubtree:PQ,matchAccessibilityRole:cm,setFocusIfFocusable:um,setupIntersectionObserver:lm,appendChild:pm,appendChildToContainer:im,commitTextUpdate:am,commitMount:sm,commitUpdate:nm,insertBefore:om,insertInContainerBefore:tm,removeChild:rm,removeChildFromContainer:em,resetTextContent:fF,hideInstance:Zd,hideTextInstance:Jd,unhideInstance:Qd,unhideTextInstance:qd,clearContainer:Kd,cloneInstance:Xd,createContainerChildSet:yF,appendChildToContainerChildSet:hF,finalizeContainerChildren:Nd,replaceContainerChildren:xF,cloneHiddenInstance:gF,cloneHiddenTextInstance:mF,isSuspenseInstancePending:GU,isSuspenseInstanceFallback:FU,getSuspenseInstanceFallbackErrorDetails:zd,registerSuspenseInstanceRetry:Hd,canHydrateFormStateMarker:Yd,isFormStateMarkerMatching:Vd,getNextHydratableSibling:dF,getFirstHydratableChild:cF,getFirstHydratableChildWithinContainer:Od,getFirstHydratableChildWithinSuspenseInstance:Ud,canHydrateInstance:$d,canHydrateTextInstance:Ad,canHydrateSuspenseInstance:Dd,hydrateInstance:Bd,hydrateTextInstance:_d,hydrateSuspenseInstance:Md,getNextHydratableInstanceAfterSuspenseInstance:Wd,commitHydratedContainer:Gd,commitHydratedSuspenseInstance:Fd,clearSuspenseBoundary:jd,clearSuspenseBoundaryFromContainer:wd,shouldDeleteUnhydratedTailInstances:uF}=Z;Z.diffHydratedPropsForDevWarnings,Z.diffHydratedTextForDevWarnings,Z.describeHydratableInstanceForDevWarnings;var{validateHydratableInstance:Cd,validateHydratableTextInstance:Ld,supportsResources:s8,isHostHoistableType:lF,getHoistableRoot:jU,getResource:pF,acquireResource:iF,releaseResource:aF,hydrateHoistable:Rd,mountHoistable:sF,unmountHoistable:nF,createHoistableInstance:Ed,prepareToCommitHoistables:Id,mayResourceSuspendCommit:Td,preloadResource:oF,suspendResource:Sd,supportsSingletons:I5,resolveSingletonInstance:tF,clearSingleton:bd,acquireSingletonInstance:kd,releaseSingletonInstance:Pd,isHostSingletonType:rF}=Z,wU=[],N2=-1,z2={},R8=Math.clz32?Math.clz32:w,vd=Math.log,fd=Math.LN2,dX=128,cX=4194304,uX=QO,CU=MW,yd=GW,hd=WW,C6=_4,eF=BW,xd=_W,LU=JO,gd=DW,md=void 0,dd=void 0,vQ=null,E8=null,I8=typeof Object.is==="function"?Object.is:H0,Zj=new WeakMap,H2=[],Y2=0,lX=null,pX=0,n8=[],o8=0,d9=null,L4=1,R4="",D5=C(null),fQ=C(null),R7=C(null),iX=C(null),h5=null,T5=null,g0=!1,L6=null,p6=!1,RU=Error(q(519)),t8=[],V2=0,EU=0,aX=null,O2=null,IU=!1,sX=!1,TU=!1,U2=0,yQ=null,SU=0,$2=0,A2=null,E7=!1,bU=!1,cd=Object.prototype.hasOwnProperty,hQ=Error(q(460)),kU=Error(q(474)),nX={then:function(){}},D2=null,B2=null,xQ=0,c9=kW(!0),Jj=kW(!1),_2=C(null),oX=C(0),r8=C(null),i6=null,n1=C(0),I7=0,C0=null,q1=null,m1=null,tX=!1,M2=!1,u9=!1,rX=0,gQ=0,W2=null,ud=0,PU=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},a6={readContext:R5,use:CX,useCallback:P1,useContext:P1,useEffect:P1,useImperativeHandle:P1,useLayoutEffect:P1,useInsertionEffect:P1,useMemo:P1,useReducer:P1,useRef:P1,useState:P1,useDebugValue:P1,useDeferredValue:P1,useTransition:P1,useSyncExternalStore:P1,useId:P1};a6.useCacheRefresh=P1,a6.useMemoCache=P1,a6.useHostTransitionStatus=P1,a6.useFormState=P1,a6.useActionState=P1,a6.useOptimistic=P1;var l9={readContext:R5,use:CX,useCallback:function(N,H){return Z8().memoizedState=[N,H===void 0?null:H],N},useContext:R5,useEffect:ZG,useImperativeHandle:function(N,H,V){V=V!==null&&V!==void 0?V.concat([N]):null,RX(4194308,4,qG.bind(null,H,N),V)},useLayoutEffect:function(N,H){return RX(4194308,4,N,H)},useInsertionEffect:function(N,H){RX(4,2,N,H)},useMemo:function(N,H){var V=Z8();H=H===void 0?null:H;var $=N();if(u9){J0(!0);try{N()}finally{J0(!1)}}return V.memoizedState=[$,H],$},useReducer:function(N,H,V){var $=Z8();if(V!==void 0){var B=V(H);if(u9){J0(!0);try{V(H)}finally{J0(!1)}}}else B=H;return $.memoizedState=$.baseState=B,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N,lastRenderedState:B},$.queue=N,N=N.dispatch=rg.bind(null,C0,N),[$.memoizedState,N]},useRef:function(N){var H=Z8();return N={current:N},H.memoizedState=N},useState:function(N){N=FO(N);var H=N.queue,V=UG.bind(null,C0,H);return H.dispatch=V,[N.memoizedState,V]},useDebugValue:CO,useDeferredValue:function(N,H){var V=Z8();return LO(V,N,H)},useTransition:function(){var N=FO(!1);return N=HG.bind(null,C0,N.queue,!0,!1),Z8().memoizedState=N,[!1,N]},useSyncExternalStore:function(N,H,V){var $=C0,B=Z8();if(g0){if(V===void 0)throw Error(q(407));V=V()}else{if(V=H(),Y1===null)throw Error(q(349));(y0&60)!==0||xW($,H,V)}B.memoizedState=V;var M={value:V,getSnapshot:H};return B.queue=M,ZG(mW.bind(null,$,M,N),[N]),$.flags|=2048,rZ(9,gW.bind(null,$,M,V,H),{destroy:void 0},null),V},useId:function(){var N=Z8(),H=Y1.identifierPrefix;if(g0){var V=R4,$=L4;V=($&~(1<<32-R8($)-1)).toString(32)+V,H=":"+H+"R"+V,V=rX++,0<V&&(H+="H"+V.toString(32)),H+=":"}else V=ud++,H=":"+H+"r"+V.toString(32)+":";return N.memoizedState=H},useCacheRefresh:function(){return Z8().memoizedState=tg.bind(null,C0)}};l9.useMemoCache=MO,l9.useHostTransitionStatus=RO,l9.useFormState=nW,l9.useActionState=nW,l9.useOptimistic=function(N){var H=Z8();H.memoizedState=H.baseState=N;var V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return H.queue=V,H=EO.bind(null,C0,!0,V),V.dispatch=H,[N,H]};var T7={readContext:R5,use:CX,useCallback:XG,useContext:R5,useEffect:wO,useImperativeHandle:KG,useInsertionEffect:JG,useLayoutEffect:QG,useMemo:NG,useReducer:LX,useRef:eW,useState:function(){return LX(W4)},useDebugValue:CO,useDeferredValue:function(N,H){var V=g1();return zG(V,q1.memoizedState,N,H)},useTransition:function(){var N=LX(W4)[0],H=g1().memoizedState;return[typeof N==="boolean"?N:jQ(N),H]},useSyncExternalStore:hW,useId:VG};T7.useCacheRefresh=OG,T7.useMemoCache=MO,T7.useHostTransitionStatus=RO,T7.useFormState=oW,T7.useActionState=oW,T7.useOptimistic=function(N,H){var V=g1();return uW(V,q1,N,H)};var p9={readContext:R5,use:CX,useCallback:XG,useContext:R5,useEffect:wO,useImperativeHandle:KG,useInsertionEffect:JG,useLayoutEffect:QG,useMemo:NG,useReducer:GO,useRef:eW,useState:function(){return GO(W4)},useDebugValue:CO,useDeferredValue:function(N,H){var V=g1();return q1===null?LO(V,N,H):zG(V,q1.memoizedState,N,H)},useTransition:function(){var N=GO(W4)[0],H=g1().memoizedState;return[typeof N==="boolean"?N:jQ(N),H]},useSyncExternalStore:hW,useId:VG};p9.useCacheRefresh=OG,p9.useMemoCache=MO,p9.useHostTransitionStatus=RO,p9.useFormState=rW,p9.useActionState=rW,p9.useOptimistic=function(N,H){var V=g1();if(q1!==null)return uW(V,q1,N,H);return V.baseState=N,[N,V.queue.dispatch]};var vU={isMounted:function(N){return(N=N._reactInternals)?A(N)===N:!1},enqueueSetState:function(N,H,V){N=N._reactInternals;var $=L8(),B=A7($);B.payload=H,V!==void 0&&V!==null&&(B.callback=V),H=D7(N,B,$),H!==null&&(y5(H,N,$),MQ(H,N,$))},enqueueReplaceState:function(N,H,V){N=N._reactInternals;var $=L8(),B=A7($);B.tag=1,B.payload=H,V!==void 0&&V!==null&&(B.callback=V),H=D7(N,B,$),H!==null&&(y5(H,N,$),MQ(H,N,$))},enqueueForceUpdate:function(N,H){N=N._reactInternals;var V=L8(),$=A7(V);$.tag=2,H!==void 0&&H!==null&&($.callback=H),H=D7(N,$,V),H!==null&&(y5(H,N,V),MQ(H,N,V))}},Qj=typeof reportError==="function"?reportError:function(N){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N==="object"&&N!==null&&typeof N.message==="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",N);return}console.error(N)},qj=Error(q(461)),J5=!1,fU={dehydrated:null,treeContext:null,retryLane:0},eX=C(null),i9=null,E4=null,ld=typeof AbortController<"u"?AbortController:function(){var N=[],H=this.signal={aborted:!1,addEventListener:function(V,$){N.push($)}};this.abort=function(){H.aborted=!0,N.forEach(function(V){return V()})}},pd=QO,id=JO,R1={$$typeof:w7,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Kj=B0.S;B0.S=function(N,H){typeof H==="object"&&H!==null&&typeof H.then==="function"&&_Q(N,H),Kj!==null&&Kj(N,H)};var a9=C(null),I4=!1,E1=!1,yU=!1,Xj=typeof WeakSet==="function"?WeakSet:Set,Q5=null,Nj=!1,d1=null,T8=!1,R6=null,G2=8192,ad={getCacheForType:function(N){var H=R5(R1),V=H.data.get(N);return V===void 0&&(V=N(),H.data.set(N,V)),V}},ZN=0,JN=1,QN=2,qN=3,KN=4;if(typeof Symbol==="function"&&Symbol.for){var mQ=Symbol.for;ZN=mQ("selector.component"),JN=mQ("selector.has_pseudo_class"),QN=mQ("selector.role"),qN=mQ("selector.test_id"),KN=mQ("selector.text")}var sd=typeof WeakMap==="function"?WeakMap:Map,K1=0,Y1=null,R0=null,y0=0,V1=0,S8=null,T4=!1,F2=!1,hU=!1,S4=0,I1=0,S7=0,s9=0,xU=0,e8=0,j2=0,dQ=null,s6=null,gU=!1,mU=0,cQ=1/0,XN=null,b7=null,NN=!1,n9=null,uQ=0,dU=0,cU=null,lQ=0,uU=null;return L0.attemptContinuousHydration=function(N){if(N.tag===13){var H=p8(N,67108864);H!==null&&y5(H,N,67108864),YU(N,67108864)}},L0.attemptHydrationAtCurrentPriority=function(N){if(N.tag===13){var H=L8(),V=p8(N,H);V!==null&&y5(V,N,H),YU(N,H)}},L0.attemptSynchronousHydration=function(N){switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var H=L(N.pendingLanes);if(H!==0){N.pendingLanes|=2;for(N.entangledLanes|=2;H;){var V=1<<31-R8(H);N.entanglements[1]|=V,H&=~V}i8(N),(K1&6)===0&&(cQ=C6()+500,k9(0,!1))}}break;case 13:H=p8(N,2),H!==null&&y5(H,N,2),XF(),YU(N,2)}},L0.batchedUpdates=function(N,H){return N(H)},L0.createComponentSelector=function(N){return{$$typeof:ZN,value:N}},L0.createContainer=function(N,H,V,$,B,M,E,S,P,d){return WF(N,H,!1,null,V,$,M,E,S,P,d,null)},L0.createHasPseudoClassSelector=function(N){return{$$typeof:JN,value:N}},L0.createHydrationContainer=function(N,H,V,$,B,M,E,S,P,d,o,Q0,X0){return N=WF(V,$,!0,N,B,M,S,P,d,o,Q0,X0),N.context=GF(null),V=N.current,$=L8(),B=A7($),B.callback=H!==void 0&&H!==null?H:null,D7(V,B,$),N.current.lanes=$,u(N,$),i8(N),N},L0.createPortal=function(N,H,V){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q2,key:$==null?null:""+$,children:N,containerInfo:H,implementation:V}},L0.createRoleSelector=function(N){return{$$typeof:QN,value:N}},L0.createTestNameSelector=function(N){return{$$typeof:qN,value:N}},L0.createTextSelector=function(N){return{$$typeof:KN,value:N}},L0.defaultOnCaughtError=function(N){console.error(N)},L0.defaultOnRecoverableError=function(N){Qj(N)},L0.defaultOnUncaughtError=function(N){Qj(N)},L0.deferredUpdates=function(N){var H=B0.T,V=g9();try{return Q8(32),B0.T=null,N()}finally{Q8(V),B0.T=H}},L0.discreteUpdates=function(N,H,V,$,B){var M=B0.T,E=g9();try{return Q8(2),B0.T=null,N(H,V,$,B)}finally{Q8(E),B0.T=M,K1===0&&(cQ=C6()+500)}},L0.findAllNodes=ZU,L0.findBoundingRects=function(N,H){if(!kQ)throw Error(q(363));H=ZU(N,H),N=[];for(var V=0;V<H.length;V++)N.push(mm(H[V]));for(H=N.length-1;0<H;H--){V=N[H];for(var $=V.x,B=$+V.width,M=V.y,E=M+V.height,S=H-1;0<=S;S--)if(H!==S){var P=N[S],d=P.x,o=d+P.width,Q0=P.y,X0=Q0+P.height;if($>=d&&M>=Q0&&B<=o&&E<=X0){N.splice(H,1);break}else if(!($!==d||V.width!==P.width||X0<M||Q0>E)){Q0>M&&(P.height+=Q0-M,P.y=M),X0<E&&(P.height=E-Q0),N.splice(H,1);break}else if(!(M!==Q0||V.height!==P.height||o<$||d>B)){d>$&&(P.width+=d-$,P.x=$),o<B&&(P.width=B-d),N.splice(H,1);break}}}return N},L0.findHostInstance=FF,L0.findHostInstanceWithNoPortals=function(N){return N=_(N),N=N!==null?j(N):null,N===null?null:bQ(N.stateNode)},L0.findHostInstanceWithWarning=function(N){return FF(N)},L0.flushPassiveEffects=h9,L0.flushSyncFromReconciler=function(N){var H=K1;K1|=1;var V=B0.T,$=g9();try{if(Q8(2),B0.T=null,N)return N()}finally{Q8($),B0.T=V,K1=H,(K1&6)===0&&k9(0,!1)}},L0.flushSyncWork=XF,L0.focusWithin=function(N,H){if(!kQ)throw Error(q(363));N=tO(N),H=JF(N,H),H=Array.from(H);for(N=0;N<H.length;){var V=H[N++],$=V.tag;if(!PQ(V)){if(($===5||$===26||$===27)&&um(V.stateNode))return!0;for(V=V.child;V!==null;)H.push(V),V=V.sibling}}return!1},L0.getFindAllNodesFailureDescription=function(N,H){if(!kQ)throw Error(q(363));var V=0,$=[];N=[tO(N),0];for(var B=0;B<N.length;){var M=N[B++],E=M.tag,S=N[B++],P=H[S];if(E!==5&&E!==26&&E!==27||!PQ(M)){if(rO(M,P)&&($.push(eO(P)),S++,S>V&&(V=S)),S<H.length)for(M=M.child;M!==null;)N.push(M,S),M=M.sibling}}if(V<H.length){for(N=[];V<H.length;V++)N.push(eO(H[V]));return`findAllNodes was able to match part of the selector:
  `+($.join(" > ")+`

No matching component was found for:
  `)+N.join(" > ")}return null},L0.getPublicRootInstance=function(N){if(N=N.current,!N.child)return null;switch(N.child.tag){case 27:case 5:return bQ(N.child.stateNode);default:return N.child.stateNode}},L0.injectIntoDevTools=function(){var N={bundleType:0,version:Gm,rendererPackageName:Fm,currentDispatcherRef:B0,findFiberByHostInstance:kF,reconcilerVersion:"19.0.0"};if(TF!==null&&(N.rendererConfig=TF),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")N=!1;else{var H=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(H.isDisabled||!H.supportsFiber)N=!0;else{try{vQ=H.inject(N),E8=H}catch(V){}N=H.checkDCE?!0:!1}}return N},L0.isAlreadyRendering=function(){return!1},L0.observeVisibleRects=function(N,H,V,$){if(!kQ)throw Error(q(363));N=ZU(N,H);var B=lm(N,V,$).disconnect;return{disconnect:function(){B()}}},L0.shouldError=function(){return null},L0.shouldSuspend=function(){return!1},L0.startHostTransition=function(N,H,V,$){if(N.tag!==5)throw Error(q(476));var B=YG(N).queue;HG(N,B,H,X2,V===null?Q:function(){var M=YG(N).next.queue;return wQ(N,M,{},L8()),V($)})},L0.updateContainer=function(N,H,V,$){var B=H.current,M=L8();return jF(B,M,N,H,V,$),M},L0.updateContainerSync=function(N,H,V,$){return H.tag===0&&h9(),jF(H.current,2,N,H,V,$),2},L0};MX.exports.default=MX.exports;Object.defineProperty(MX.exports,"__esModule",{value:!0})});var ig=iQ(rR(),1);x5();var nz=typeof self<"u"?self:global,KK=typeof navigator<"u",xl=KK&&typeof HTMLImageElement>"u",lz=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),oz=nz.Buffer,gz=nz.BigInt,tz=!!oz,gl=(Z)=>Z;function pz(Z,J=gl){if(lz)try{return Promise.resolve(J(zj(Z)))}catch(Q){console.warn(`Couldn't load ${Z}`)}}var ZD=nz.fetch,ml=(Z)=>ZD=Z;if(!nz.fetch){let Z=pz("http",(q)=>q),J=pz("https",(q)=>q),Q=(q,{headers:K}={})=>new Promise(async(X,z)=>{let{port:Y,hostname:O,pathname:U,protocol:A,search:D}=new URL(q),_={method:"GET",hostname:O,path:encodeURI(U)+D,headers:K};Y!==""&&(_.port=Number(Y));let W=(A==="https:"?await J:await Z).request(_,(j)=>{if(j.statusCode===301||j.statusCode===302){let C=new URL(j.headers.location,q).toString();return Q(C,{headers:K}).then(X).catch(z)}X({status:j.statusCode,arrayBuffer:()=>new Promise((C)=>{let R=[];j.on("data",(G)=>R.push(G)),j.on("end",()=>C(Buffer.concat(R)))})})});W.on("error",z),W.end()});ml(Q)}function O0(Z,J,Q){return J in Z?Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[J]=Q,Z}var iz=(Z)=>UE(Z)?void 0:Z,dl=(Z)=>Z!==void 0;function UE(Z){return Z===void 0||(Z instanceof Map?Z.size===0:Object.values(Z).filter(dl).length===0)}function a1(Z){let J=Error(Z);throw delete J.stack,J}function WZ(Z){return(Z=function(J){for(;J.endsWith("\x00");)J=J.slice(0,-1);return J}(Z).trim())===""?void 0:Z}function l3(Z){let J=function(Q){let q=0;return Q.ifd0.enabled&&(q+=1024),Q.exif.enabled&&(q+=2048),Q.makerNote&&(q+=2048),Q.userComment&&(q+=1024),Q.gps.enabled&&(q+=512),Q.interop.enabled&&(q+=100),Q.ifd1.enabled&&(q+=1024),q+2048}(Z);return Z.jfif.enabled&&(J+=50),Z.xmp.enabled&&(J+=20000),Z.iptc.enabled&&(J+=14000),Z.icc.enabled&&(J+=6000),J}var p3=(Z)=>String.fromCharCode.apply(null,Z),eR=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function $E(Z){return eR?eR.decode(Z):tz?Buffer.from(Z).toString("utf8"):decodeURIComponent(escape(p3(Z)))}class V8{static from(Z,J){return Z instanceof this&&Z.le===J?Z:new V8(Z,void 0,void 0,J)}constructor(Z,J=0,Q,q){if(typeof q=="boolean"&&(this.le=q),Array.isArray(Z)&&(Z=new Uint8Array(Z)),Z===0)this.byteOffset=0,this.byteLength=0;else if(Z instanceof ArrayBuffer){Q===void 0&&(Q=Z.byteLength-J);let K=new DataView(Z,J,Q);this._swapDataView(K)}else if(Z instanceof Uint8Array||Z instanceof DataView||Z instanceof V8){Q===void 0&&(Q=Z.byteLength-J),(J+=Z.byteOffset)+Q>Z.byteOffset+Z.byteLength&&a1("Creating view outside of available memory in ArrayBuffer");let K=new DataView(Z.buffer,J,Q);this._swapDataView(K)}else if(typeof Z=="number"){let K=new DataView(new ArrayBuffer(Z));this._swapDataView(K)}else a1("Invalid input argument for BufferView: "+Z)}_swapArrayBuffer(Z){this._swapDataView(new DataView(Z))}_swapBuffer(Z){this._swapDataView(new DataView(Z.buffer,Z.byteOffset,Z.byteLength))}_swapDataView(Z){this.dataView=Z,this.buffer=Z.buffer,this.byteOffset=Z.byteOffset,this.byteLength=Z.byteLength}_lengthToEnd(Z){return this.byteLength-Z}set(Z,J,Q=V8){return Z instanceof DataView||Z instanceof V8?Z=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength):Z instanceof ArrayBuffer&&(Z=new Uint8Array(Z)),Z instanceof Uint8Array||a1("BufferView.set(): Invalid data argument."),this.toUint8().set(Z,J),new Q(this,J,Z.byteLength)}subarray(Z,J){return J=J||this._lengthToEnd(Z),new V8(this,Z,J)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(Z,J){return new Uint8Array(this.buffer,this.byteOffset+Z,J)}getString(Z=0,J=this.byteLength){return $E(this.getUint8Array(Z,J))}getLatin1String(Z=0,J=this.byteLength){let Q=this.getUint8Array(Z,J);return p3(Q)}getUnicodeString(Z=0,J=this.byteLength){let Q=[];for(let q=0;q<J&&Z+q<this.byteLength;q+=2)Q.push(this.getUint16(Z+q));return p3(Q)}getInt8(Z){return this.dataView.getInt8(Z)}getUint8(Z){return this.dataView.getUint8(Z)}getInt16(Z,J=this.le){return this.dataView.getInt16(Z,J)}getInt32(Z,J=this.le){return this.dataView.getInt32(Z,J)}getUint16(Z,J=this.le){return this.dataView.getUint16(Z,J)}getUint32(Z,J=this.le){return this.dataView.getUint32(Z,J)}getFloat32(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getFloat64(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getFloat(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getDouble(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getUintBytes(Z,J,Q){switch(J){case 1:return this.getUint8(Z,Q);case 2:return this.getUint16(Z,Q);case 4:return this.getUint32(Z,Q);case 8:return this.getUint64&&this.getUint64(Z,Q)}}getUint(Z,J,Q){switch(J){case 8:return this.getUint8(Z,Q);case 16:return this.getUint16(Z,Q);case 32:return this.getUint32(Z,Q);case 64:return this.getUint64&&this.getUint64(Z,Q)}}toString(Z){return this.dataView.toString(Z,this.constructor.name)}ensureChunk(){}}function i3(Z,J){a1(`${Z} '${J}' was not loaded, try using full build of exifr.`)}class rz extends Map{constructor(Z){super(),this.kind=Z}get(Z,J){return this.has(Z)||i3(this.kind,Z),J&&((Z in J)||function(Q,q){a1(`Unknown ${Q} '${q}'.`)}(this.kind,Z),J[Z].enabled||i3(this.kind,Z)),super.get(Z)}keyList(){return Array.from(this.keys())}}var K4=new rz("file parser"),i1=new rz("segment parser"),X4=new rz("file reader");function cl(Z,J){return typeof Z=="string"?ZE(Z,J):KK&&!xl&&Z instanceof HTMLImageElement?ZE(Z.src,J):Z instanceof Uint8Array||Z instanceof ArrayBuffer||Z instanceof DataView?new V8(Z):KK&&Z instanceof Blob?a3(Z,J,"blob",wZ):void a1("Invalid input argument")}function ZE(Z,J){return(Q=Z).startsWith("data:")||Q.length>1e4?s3(Z,J,"base64"):lz&&Z.includes("://")?a3(Z,J,"url",jZ):lz?s3(Z,J,"fs"):KK?a3(Z,J,"url",jZ):void a1("Invalid input argument");var Q}async function a3(Z,J,Q,q){return X4.has(Q)?s3(Z,J,Q):q?async function(K,X){let z=await X(K);return new V8(z)}(Z,q):void a1(`Parser ${Q} is not loaded`)}async function s3(Z,J,Q){let q=new(X4.get(Q))(Z,J);return await q.read(),q}var jZ=(Z)=>ZD(Z).then((J)=>J.arrayBuffer()),wZ=(Z)=>new Promise((J,Q)=>{let q=new FileReader;q.onloadend=()=>J(q.result||new ArrayBuffer),q.onerror=Q,q.readAsArrayBuffer(Z)});class AE extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function y1(Z,J,Q){let q=new AE;for(let[K,X]of Q)q.set(K,X);if(Array.isArray(J))for(let K of J)Z.set(K,q);else Z.set(J,q);return q}function CZ(Z,J,Q){let q,K=Z.get(J);for(q of Q)K.set(q[0],q[1])}var z5=new Map,b6=new Map,$9=new Map,Y9=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],WJ=["jfif","xmp","icc","iptc","ihdr"],LZ=["tiff",...WJ],b1=["ifd0","ifd1","exif","gps","interop"],V9=[...LZ,...b1],O9=["makerNote","userComment"],GJ=["translateKeys","translateValues","reviveValues","multiSegment"],U9=[...GJ,"sanitize","mergeOutput","silentErrors"];class JD{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class _J extends JD{get needed(){return this.enabled||this.deps.size>0}constructor(Z,J,Q,q){if(super(),O0(this,"enabled",!1),O0(this,"skip",new Set),O0(this,"pick",new Set),O0(this,"deps",new Set),O0(this,"translateKeys",!1),O0(this,"translateValues",!1),O0(this,"reviveValues",!1),this.key=Z,this.enabled=J,this.parse=this.enabled,this.applyInheritables(q),this.canBeFiltered=b1.includes(Z),this.canBeFiltered&&(this.dict=z5.get(Z)),Q!==void 0)if(Array.isArray(Q))this.parse=this.enabled=!0,this.canBeFiltered&&Q.length>0&&this.translateTagSet(Q,this.pick);else if(typeof Q=="object"){if(this.enabled=!0,this.parse=Q.parse!==!1,this.canBeFiltered){let{pick:K,skip:X}=Q;K&&K.length>0&&this.translateTagSet(K,this.pick),X&&X.length>0&&this.translateTagSet(X,this.skip)}this.applyInheritables(Q)}else Q===!0||Q===!1?this.parse=this.enabled=Q:a1(`Invalid options argument: ${Q}`)}applyInheritables(Z){let J,Q;for(J of GJ)Q=Z[J],Q!==void 0&&(this[J]=Q)}translateTagSet(Z,J){if(this.dict){let Q,q,{tagKeys:K,tagValues:X}=this.dict;for(Q of Z)typeof Q=="string"?(q=X.indexOf(Q),q===-1&&(q=K.indexOf(Number(Q))),q!==-1&&J.add(Number(K[q]))):J.add(Q)}else for(let Q of Z)J.add(Q)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,az(this.pick,this.deps)):this.enabled&&this.pick.size>0&&az(this.pick,this.deps)}}var d5={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},JE=new Map;class A9 extends JD{static useCached(Z){let J=JE.get(Z);return J!==void 0||(J=new this(Z),JE.set(Z,J)),J}constructor(Z){super(),Z===!0?this.setupFromTrue():Z===void 0?this.setupFromUndefined():Array.isArray(Z)?this.setupFromArray(Z):typeof Z=="object"?this.setupFromObject(Z):a1(`Invalid options argument ${Z}`),this.firstChunkSize===void 0&&(this.firstChunkSize=KK?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let Z;for(Z of Y9)this[Z]=d5[Z];for(Z of U9)this[Z]=d5[Z];for(Z of O9)this[Z]=d5[Z];for(Z of V9)this[Z]=new _J(Z,d5[Z],void 0,this)}setupFromTrue(){let Z;for(Z of Y9)this[Z]=d5[Z];for(Z of U9)this[Z]=d5[Z];for(Z of O9)this[Z]=!0;for(Z of V9)this[Z]=new _J(Z,!0,void 0,this)}setupFromArray(Z){let J;for(J of Y9)this[J]=d5[J];for(J of U9)this[J]=d5[J];for(J of O9)this[J]=d5[J];for(J of V9)this[J]=new _J(J,!1,void 0,this);this.setupGlobalFilters(Z,void 0,b1)}setupFromObject(Z){let J;for(J of(b1.ifd0=b1.ifd0||b1.image,b1.ifd1=b1.ifd1||b1.thumbnail,Object.assign(this,Z),Y9))this[J]=d3(Z[J],d5[J]);for(J of U9)this[J]=d3(Z[J],d5[J]);for(J of O9)this[J]=d3(Z[J],d5[J]);for(J of LZ)this[J]=new _J(J,d5[J],Z[J],this);for(J of b1)this[J]=new _J(J,d5[J],Z[J],this.tiff);this.setupGlobalFilters(Z.pick,Z.skip,b1,V9),Z.tiff===!0?this.batchEnableWithBool(b1,!0):Z.tiff===!1?this.batchEnableWithUserValue(b1,Z):Array.isArray(Z.tiff)?this.setupGlobalFilters(Z.tiff,void 0,b1):typeof Z.tiff=="object"&&this.setupGlobalFilters(Z.tiff.pick,Z.tiff.skip,b1)}batchEnableWithBool(Z,J){for(let Q of Z)this[Q].enabled=J}batchEnableWithUserValue(Z,J){for(let Q of Z){let q=J[Q];this[Q].enabled=q!==!1&&q!==void 0}}setupGlobalFilters(Z,J,Q,q=Q){if(Z&&Z.length){for(let X of q)this[X].enabled=!1;let K=QE(Z,Q);for(let[X,z]of K)az(this[X].pick,z),this[X].enabled=!0}else if(J&&J.length){let K=QE(J,Q);for(let[X,z]of K)az(this[X].skip,z)}}filterNestedSegmentTags(){let{ifd0:Z,exif:J,xmp:Q,iptc:q,icc:K}=this;this.makerNote?J.deps.add(37500):J.skip.add(37500),this.userComment?J.deps.add(37510):J.skip.add(37510),Q.enabled||Z.skip.add(700),q.enabled||Z.skip.add(33723),K.enabled||Z.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:Z,exif:J,gps:Q,interop:q}=this;q.needed&&(J.deps.add(40965),Z.deps.add(40965)),J.needed&&Z.deps.add(34665),Q.needed&&Z.deps.add(34853),this.tiff.enabled=b1.some((K)=>this[K].enabled===!0)||this.makerNote||this.userComment;for(let K of b1)this[K].finalizeFilters()}get onlyTiff(){return!WJ.map((Z)=>this[Z].enabled).some((Z)=>Z===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let Z of LZ)this[Z].enabled&&!i1.has(Z)&&i3("segment parser",Z)}}function QE(Z,J){let Q,q,K,X,z=[];for(K of J){for(X of(Q=z5.get(K),q=[],Q))(Z.includes(X[0])||Z.includes(X[1]))&&q.push(X[0]);q.length&&z.push([K,q])}return z}function d3(Z,J){return Z!==void 0?Z:J!==void 0?J:void 0}function az(Z,J){for(let Q of J)Z.add(Q)}O0(A9,"default",d5);class r4{constructor(Z){O0(this,"parsers",{}),O0(this,"output",{}),O0(this,"errors",[]),O0(this,"pushToErrors",(J)=>this.errors.push(J)),this.options=A9.useCached(Z)}async read(Z){this.file=await cl(Z,this.options)}setup(){if(this.fileParser)return;let{file:Z}=this,J=Z.getUint16(0);for(let[Q,q]of K4)if(q.canHandle(Z,J))return this.fileParser=new q(this.options,this.file,this.parsers),Z[Q]=!0;this.file.close&&this.file.close(),a1("Unknown file format")}async parse(){let{output:Z,errors:J}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),J.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&J.length>0&&(Z.errors=J),iz(Z)}async executeParsers(){let{output:Z}=this;await this.fileParser.parse();let J=Object.values(this.parsers).map(async(Q)=>{let q=await Q.parse();Q.assignToOutput(Z,q)});this.options.silentErrors&&(J=J.map((Q)=>Q.catch(this.pushToErrors))),await Promise.all(J)}async extractThumbnail(){this.setup();let{options:Z,file:J}=this,Q=i1.get("tiff",Z);var q;if(J.tiff?q={start:0,type:"tiff"}:J.jpeg&&(q=await this.fileParser.getOrFindSegment("tiff")),q===void 0)return;let K=await this.fileParser.ensureSegmentChunk(q),X=this.parsers.tiff=new Q(K,Z,J),z=await X.extractThumbnail();return J.close&&J.close(),z}}async function FJ(Z,J){let Q=new r4(J);return await Q.read(Z),Q.parse()}var ul=Object.freeze({__proto__:null,parse:FJ,Exifr:r4,fileParsers:K4,segmentParsers:i1,fileReaders:X4,tagKeys:z5,tagValues:b6,tagRevivers:$9,createDictionary:y1,extendDictionary:CZ,fetchUrlAsArrayBuffer:jZ,readBlobAsArrayBuffer:wZ,chunkedProps:Y9,otherSegments:WJ,segments:LZ,tiffBlocks:b1,segmentsAndBlocks:V9,tiffExtractables:O9,inheritables:GJ,allFormatters:U9,Options:A9});class XK{constructor(Z,J,Q){O0(this,"errors",[]),O0(this,"ensureSegmentChunk",async(q)=>{let K=q.start,X=q.size||65536;if(this.file.chunked)if(this.file.available(K,X))q.chunk=this.file.subarray(K,X);else try{q.chunk=await this.file.readChunk(K,X)}catch(z){a1(`Couldn't read segment: ${JSON.stringify(q)}. ${z.message}`)}else this.file.byteLength>K+X?q.chunk=this.file.subarray(K,X):q.size===void 0?q.chunk=this.file.subarray(K):a1("Segment unreachable: "+JSON.stringify(q));return q.chunk}),this.extendOptions&&this.extendOptions(Z),this.options=Z,this.file=J,this.parsers=Q}injectSegment(Z,J){this.options[Z].enabled&&this.createParser(Z,J)}createParser(Z,J){let Q=new(i1.get(Z))(J,this.options,this.file);return this.parsers[Z]=Q}createParsers(Z){for(let J of Z){let{type:Q,chunk:q}=J,K=this.options[Q];if(K&&K.enabled){let X=this.parsers[Q];X&&X.append||X||this.createParser(Q,q)}}}async readSegments(Z){let J=Z.map(this.ensureSegmentChunk);await Promise.all(J)}}class $6{static findPosition(Z,J){let Q=Z.getUint16(J+2)+2,q=typeof this.headerLength=="function"?this.headerLength(Z,J,Q):this.headerLength,K=J+q,X=Q-q;return{offset:J,length:Q,headerLength:q,start:K,size:X,end:K+X}}static parse(Z,J={}){return new this(Z,new A9({[this.type]:J}),Z).parse()}normalizeInput(Z){return Z instanceof V8?Z:new V8(Z)}constructor(Z,J={},Q){O0(this,"errors",[]),O0(this,"raw",new Map),O0(this,"handleError",(q)=>{if(!this.options.silentErrors)throw q;this.errors.push(q.message)}),this.chunk=this.normalizeInput(Z),this.file=Q,this.type=this.constructor.type,this.globalOptions=this.options=J,this.localOptions=J[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(Z,J){let Q=$9.get(J),q=b6.get(J),K=z5.get(J),X=this.options[J],z=X.reviveValues&&!!Q,Y=X.translateValues&&!!q,O=X.translateKeys&&!!K,U={};for(let[A,D]of Z)z&&Q.has(A)?D=Q.get(A)(D):Y&&q.has(A)&&(D=this.translateValue(D,q.get(A))),O&&K.has(A)&&(A=K.get(A)||A),U[A]=D;return U}translateValue(Z,J){return J[Z]||J.DEFAULT||Z}assignToOutput(Z,J){this.assignObjectToOutput(Z,this.constructor.type,J)}assignObjectToOutput(Z,J,Q){if(this.globalOptions.mergeOutput)return Object.assign(Z,Q);Z[J]?Object.assign(Z[J],Q):Z[J]=Q}}O0($6,"headerLength",4),O0($6,"type",void 0),O0($6,"multiSegment",!1),O0($6,"canHandle",()=>!1);function ll(Z){return Z===192||Z===194||Z===196||Z===219||Z===221||Z===218||Z===254}function pl(Z){return Z>=224&&Z<=239}function il(Z,J,Q){for(let[q,K]of i1)if(K.canHandle(Z,J,Q))return q}class n3 extends XK{constructor(...Z){super(...Z),O0(this,"appSegments",[]),O0(this,"jpegSegments",[]),O0(this,"unknownSegments",[])}static canHandle(Z,J){return J===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(Z){Z===!0?(this.findAll=!0,this.wanted=new Set(i1.keyList())):(Z=Z===void 0?i1.keyList().filter((J)=>this.options[J].enabled):Z.filter((J)=>this.options[J].enabled&&i1.has(J)),this.findAll=!1,this.remaining=new Set(Z),this.wanted=new Set(Z)),this.unfinishedMultiSegment=!1}async findAppSegments(Z=0,J){this.setupSegmentFinderArgs(J);let{file:Q,findAll:q,wanted:K,remaining:X}=this;if(!q&&this.file.chunked&&(q=Array.from(K).some((z)=>{let Y=i1.get(z),O=this.options[z];return Y.multiSegment&&O.multiSegment}),q&&await this.file.readWhole()),Z=this.findAppSegmentsInRange(Z,Q.byteLength),!this.options.onlyTiff&&Q.chunked){let z=!1;for(;X.size>0&&!z&&(Q.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:Y}=Q,O=this.appSegments.some((U)=>!this.file.available(U.offset||U.start,U.length||U.size));if(z=Z>Y&&!O?!await Q.readNextChunk(Z):!await Q.readNextChunk(Y),(Z=this.findAppSegmentsInRange(Z,Q.byteLength))===void 0)return}}}findAppSegmentsInRange(Z,J){J-=2;let Q,q,K,X,z,Y,{file:O,findAll:U,wanted:A,remaining:D,options:_}=this;for(;Z<J;Z++)if(O.getUint8(Z)===255){if(Q=O.getUint8(Z+1),pl(Q)){if(q=O.getUint16(Z+2),K=il(O,Z,q),K&&A.has(K)&&(X=i1.get(K),z=X.findPosition(O,Z),Y=_[K],z.type=K,this.appSegments.push(z),!U&&(X.multiSegment&&Y.multiSegment?(this.unfinishedMultiSegment=z.chunkNumber<z.chunkCount,this.unfinishedMultiSegment||D.delete(K)):D.delete(K),D.size===0)))break;_.recordUnknownSegments&&(z=$6.findPosition(O,Z),z.marker=Q,this.unknownSegments.push(z)),Z+=q+1}else if(ll(Q)){if(q=O.getUint16(Z+2),Q===218&&_.stopAfterSos!==!1)return;_.recordJpegSegments&&this.jpegSegments.push({offset:Z,length:q,marker:Q}),Z+=q+1}}return Z}mergeMultiSegments(){if(!this.appSegments.some((J)=>J.multiSegment))return;let Z=function(J,Q){let q,K,X,z=new Map;for(let Y=0;Y<J.length;Y++)q=J[Y],K=q[Q],z.has(K)?X=z.get(K):z.set(K,X=[]),X.push(q);return Array.from(z)}(this.appSegments,"type");this.mergedAppSegments=Z.map(([J,Q])=>{let q=i1.get(J,this.options);if(q.handleMultiSegments)return{type:J,chunk:q.handleMultiSegments(Q)};return Q[0]})}getSegment(Z){return this.appSegments.find((J)=>J.type===Z)}async getOrFindSegment(Z){let J=this.getSegment(Z);return J===void 0&&(await this.findAppSegments(0,[Z]),J=this.getSegment(Z)),J}}O0(n3,"type","jpeg"),K4.set("jpeg",n3);var al=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class DE extends $6{parseHeader(){var Z=this.chunk.getUint16();Z===18761?this.le=!0:Z===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(Z,J,Q=new Map){let{pick:q,skip:K}=this.options[J];q=new Set(q);let X=q.size>0,z=K.size===0,Y=this.chunk.getUint16(Z);Z+=2;for(let O=0;O<Y;O++){let U=this.chunk.getUint16(Z);if(X){if(q.has(U)&&(Q.set(U,this.parseTag(Z,U,J)),q.delete(U),q.size===0))break}else!z&&K.has(U)||Q.set(U,this.parseTag(Z,U,J));Z+=12}return Q}parseTag(Z,J,Q){let{chunk:q}=this,K=q.getUint16(Z+2),X=q.getUint32(Z+4),z=al[K];if(z*X<=4?Z+=8:Z=q.getUint32(Z+8),(K<1||K>13)&&a1(`Invalid TIFF value type. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z}`),Z>q.byteLength&&a1(`Invalid TIFF value offset. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z} is outside of chunk size ${q.byteLength}`),K===1)return q.getUint8Array(Z,X);if(K===2)return WZ(q.getString(Z,X));if(K===7)return q.getUint8Array(Z,X);if(X===1)return this.parseTagValue(K,Z);{let Y=new(function(U){switch(U){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(K))(X),O=z;for(let U=0;U<X;U++)Y[U]=this.parseTagValue(K,Z),Z+=O;return Y}}parseTagValue(Z,J){let{chunk:Q}=this;switch(Z){case 1:return Q.getUint8(J);case 3:return Q.getUint16(J);case 4:return Q.getUint32(J);case 5:return Q.getUint32(J)/Q.getUint32(J+4);case 6:return Q.getInt8(J);case 8:return Q.getInt16(J);case 9:return Q.getInt32(J);case 10:return Q.getInt32(J)/Q.getInt32(J+4);case 11:return Q.getFloat(J);case 12:return Q.getDouble(J);case 13:return Q.getUint32(J);default:a1(`Invalid tiff type ${Z}`)}}}class dz extends DE{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1165519206&&Z.getUint16(J+8)===0}async parse(){this.parseHeader();let{options:Z}=this;return Z.ifd0.enabled&&await this.parseIfd0Block(),Z.exif.enabled&&await this.safeParse("parseExifBlock"),Z.gps.enabled&&await this.safeParse("parseGpsBlock"),Z.interop.enabled&&await this.safeParse("parseInteropBlock"),Z.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(Z){let J=this[Z]();return J.catch!==void 0&&(J=J.catch(this.handleError)),J}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let Z=this.chunk.getUint16(this.ifd0Offset),J=this.ifd0Offset+2+12*Z;this.ifd1Offset=this.chunk.getUint32(J)}}parseBlock(Z,J){let Q=new Map;return this[J]=Q,this.parseTags(Z,J,Q),Q}async parseIfd0Block(){if(this.ifd0)return;let{file:Z}=this;this.findIfd0Offset(),this.ifd0Offset<8&&a1("Malformed EXIF data"),!Z.chunked&&this.ifd0Offset>Z.byteLength&&a1(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${Z.byteLength}`),Z.tiff&&await Z.ensureChunk(this.ifd0Offset,l3(this.options));let J=this.parseBlock(this.ifd0Offset,"ifd0");return J.size!==0?(this.exifOffset=J.get(34665),this.interopOffset=J.get(40965),this.gpsOffset=J.get(34853),this.xmp=J.get(700),this.iptc=J.get(33723),this.icc=J.get(34675),this.options.sanitize&&(J.delete(34665),J.delete(40965),J.delete(34853),J.delete(700),J.delete(33723),J.delete(34675)),J):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,l3(this.options));let Z=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=Z.get(40965)),this.makerNote=Z.get(37500),this.userComment=Z.get(37510),this.options.sanitize&&(Z.delete(40965),Z.delete(37500),Z.delete(37510)),this.unpack(Z,41728),this.unpack(Z,41729),Z}unpack(Z,J){let Q=Z.get(J);Q&&Q.length===1&&Z.set(J,Q[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0)return;let Z=this.parseBlock(this.gpsOffset,"gps");return Z&&Z.has(2)&&Z.has(4)&&(Z.set("latitude",qE(...Z.get(2),Z.get(1))),Z.set("longitude",qE(...Z.get(4),Z.get(3)))),Z}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(Z=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||Z))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let Z=this.ifd1.get(513),J=this.ifd1.get(514);return this.chunk.getUint8Array(Z,J)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let Z,J,Q,q={};for(J of b1)if(Z=this[J],!UE(Z))if(Q=this.canTranslate?this.translateBlock(Z,J):Object.fromEntries(Z),this.options.mergeOutput){if(J==="ifd1")continue;Object.assign(q,Q)}else q[J]=Q;return this.makerNote&&(q.makerNote=this.makerNote),this.userComment&&(q.userComment=this.userComment),q}assignToOutput(Z,J){if(this.globalOptions.mergeOutput)Object.assign(Z,J);else for(let[Q,q]of Object.entries(J))this.assignObjectToOutput(Z,Q,q)}}function qE(Z,J,Q,q){var K=Z+J/60+Q/3600;return q!=="S"&&q!=="W"||(K*=-1),K}O0(dz,"type","tiff"),O0(dz,"headerLength",10),i1.set("tiff",dz);var sl=Object.freeze({__proto__:null,default:ul,Exifr:r4,fileParsers:K4,segmentParsers:i1,fileReaders:X4,tagKeys:z5,tagValues:b6,tagRevivers:$9,createDictionary:y1,extendDictionary:CZ,fetchUrlAsArrayBuffer:jZ,readBlobAsArrayBuffer:wZ,chunkedProps:Y9,otherSegments:WJ,segments:LZ,tiffBlocks:b1,segmentsAndBlocks:V9,tiffExtractables:O9,inheritables:GJ,allFormatters:U9,Options:A9,parse:FJ}),QD={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},qD=Object.assign({},QD,{firstChunkSize:40000,gps:[1,2,3,4]});async function BE(Z){let J=new r4(qD);await J.read(Z);let Q=await J.parse();if(Q&&Q.gps){let{latitude:q,longitude:K}=Q.gps;return{latitude:q,longitude:K}}}var KD=Object.assign({},QD,{tiff:!1,ifd1:!0,mergeOutput:!1});async function _E(Z){let J=new r4(KD);await J.read(Z);let Q=await J.extractThumbnail();return Q&&tz?oz.from(Q):Q}async function ME(Z){let J=await this.thumbnail(Z);if(J!==void 0){let Q=new Blob([J]);return URL.createObjectURL(Q)}}var XD=Object.assign({},QD,{firstChunkSize:40000,ifd0:[274]});async function ND(Z){let J=new r4(XD);await J.read(Z);let Q=await J.parse();if(Q&&Q.ifd0)return Q.ifd0[274]}var zD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),GZ=!0,FZ=!0;if(typeof navigator=="object"){let Z=navigator.userAgent;if(Z.includes("iPad")||Z.includes("iPhone")){let J=Z.match(/OS (\d+)_(\d+)/);if(J){let[,Q,q]=J;GZ=Number(Q)+0.1*Number(q)<13.4,FZ=!1}}else if(Z.includes("OS X 10")){let[,J]=Z.match(/OS X 10[_.](\d+)/);GZ=FZ=Number(J)<15}if(Z.includes("Chrome/")){let[,J]=Z.match(/Chrome\/(\d+)/);GZ=FZ=Number(J)<81}else if(Z.includes("Firefox/")){let[,J]=Z.match(/Firefox\/(\d+)/);GZ=FZ=Number(J)<77}}async function WE(Z){let J=await ND(Z);return Object.assign({canvas:GZ,css:FZ},zD[J])}class GE extends V8{constructor(...Z){super(...Z),O0(this,"ranges",new FE),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(Z,J,Q){if(Z===0&&this.byteLength===0&&Q){let q=new DataView(Q.buffer||Q,Q.byteOffset,Q.byteLength);this._swapDataView(q)}else{let q=Z+J;if(q>this.byteLength){let{dataView:K}=this._extend(q);this._swapDataView(K)}}}_extend(Z){let J;J=tz?oz.allocUnsafe(Z):new Uint8Array(Z);let Q=new DataView(J.buffer,J.byteOffset,J.byteLength);return J.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:J,dataView:Q}}subarray(Z,J,Q=!1){return J=J||this._lengthToEnd(Z),Q&&this._tryExtend(Z,J),this.ranges.add(Z,J),super.subarray(Z,J)}set(Z,J,Q=!1){Q&&this._tryExtend(J,Z.byteLength,Z);let q=super.set(Z,J);return this.ranges.add(J,q.byteLength),q}async ensureChunk(Z,J){this.chunked&&(this.ranges.available(Z,J)||await this.readChunk(Z,J))}available(Z,J){return this.ranges.available(Z,J)}}class FE{constructor(){O0(this,"list",[])}get length(){return this.list.length}add(Z,J,Q=0){let q=Z+J,K=this.list.filter((X)=>KE(Z,X.offset,q)||KE(Z,X.end,q));if(K.length>0){Z=Math.min(Z,...K.map((z)=>z.offset)),q=Math.max(q,...K.map((z)=>z.end)),J=q-Z;let X=K.shift();X.offset=Z,X.length=J,X.end=q,this.list=this.list.filter((z)=>!K.includes(z))}else this.list.push({offset:Z,length:J,end:q})}available(Z,J){let Q=Z+J;return this.list.some((q)=>q.offset<=Z&&Q<=q.end)}}function KE(Z,J,Q){return Z<=J&&J<=Q}class NK extends GE{constructor(Z,J){super(0),O0(this,"chunksRead",0),this.input=Z,this.options=J}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(Z=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let J=this.options.chunkSize,Q=await this.readChunk(Z,J);return!!Q&&Q.byteLength===J}async readChunk(Z,J){if(this.chunksRead++,(J=this.safeWrapAddress(Z,J))!==0)return this._readChunk(Z,J)}safeWrapAddress(Z,J){return this.size!==void 0&&Z+J>this.size?Math.max(0,this.size-Z):J}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}X4.set("blob",class extends NK{async readWhole(){this.chunked=!1;let Z=await wZ(this.input);this._swapArrayBuffer(Z)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(Z,J){let Q=J?Z+J:void 0,q=this.input.slice(Z,Q),K=await wZ(q);return this.set(K,Z,!0)}});var nl=Object.freeze({__proto__:null,default:sl,Exifr:r4,fileParsers:K4,segmentParsers:i1,fileReaders:X4,tagKeys:z5,tagValues:b6,tagRevivers:$9,createDictionary:y1,extendDictionary:CZ,fetchUrlAsArrayBuffer:jZ,readBlobAsArrayBuffer:wZ,chunkedProps:Y9,otherSegments:WJ,segments:LZ,tiffBlocks:b1,segmentsAndBlocks:V9,tiffExtractables:O9,inheritables:GJ,allFormatters:U9,Options:A9,parse:FJ,gpsOnlyOptions:qD,gps:BE,thumbnailOnlyOptions:KD,thumbnail:_E,thumbnailUrl:ME,orientationOnlyOptions:XD,orientation:ND,rotations:zD,get rotateCanvas(){return GZ},get rotateCss(){return FZ},rotation:WE});X4.set("url",class extends NK{async readWhole(){this.chunked=!1;let Z=await jZ(this.input);Z instanceof ArrayBuffer?this._swapArrayBuffer(Z):Z instanceof Uint8Array&&this._swapBuffer(Z)}async _readChunk(Z,J){let Q=J?Z+J-1:void 0,q=this.options.httpHeaders||{};(Z||Q)&&(q.range=`bytes=${[Z,Q].join("-")}`);let K=await ZD(this.input,{headers:q}),X=await K.arrayBuffer(),z=X.byteLength;if(K.status!==416)return z!==J&&(this.size=Z+z),this.set(X,Z,!0)}});V8.prototype.getUint64=function(Z){let J=this.getUint32(Z),Q=this.getUint32(Z+4);return J<1048575?J<<32|Q:typeof gz!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),gz(J)<<gz(32)|gz(Q)):void a1("Trying to read 64b value but JS can only handle 53b numbers.")};class jE extends XK{parseBoxes(Z=0){let J=[];for(;Z<this.file.byteLength-4;){let Q=this.parseBoxHead(Z);if(J.push(Q),Q.length===0)break;Z+=Q.length}return J}parseSubBoxes(Z){Z.boxes=this.parseBoxes(Z.start)}findBox(Z,J){return Z.boxes===void 0&&this.parseSubBoxes(Z),Z.boxes.find((Q)=>Q.kind===J)}parseBoxHead(Z){let J=this.file.getUint32(Z),Q=this.file.getString(Z+4,4),q=Z+8;return J===1&&(J=this.file.getUint64(Z+8),q+=8),{offset:Z,length:J,kind:Q,start:q}}parseBoxFullHead(Z){if(Z.version!==void 0)return;let J=this.file.getUint32(Z.start);Z.version=J>>24,Z.start+=4}}class HD extends jE{static canHandle(Z,J){if(J!==0)return!1;let Q=Z.getUint16(2);if(Q>50)return!1;let q=16,K=[];for(;q<Q;)K.push(Z.getString(q,4)),q+=4;return K.includes(this.type)}async parse(){let Z=this.file.getUint32(0),J=this.parseBoxHead(Z);for(;J.kind!=="meta";)Z+=J.length,await this.file.ensureChunk(Z,16),J=this.parseBoxHead(Z);await this.file.ensureChunk(J.offset,J.length),this.parseBoxFullHead(J),this.parseSubBoxes(J),this.options.icc.enabled&&await this.findIcc(J),this.options.tiff.enabled&&await this.findExif(J)}async registerSegment(Z,J,Q){await this.file.ensureChunk(J,Q);let q=this.file.subarray(J,Q);this.createParser(Z,q)}async findIcc(Z){let J=this.findBox(Z,"iprp");if(J===void 0)return;let Q=this.findBox(J,"ipco");if(Q===void 0)return;let q=this.findBox(Q,"colr");q!==void 0&&await this.registerSegment("icc",q.offset+12,q.length)}async findExif(Z){let J=this.findBox(Z,"iinf");if(J===void 0)return;let Q=this.findBox(Z,"iloc");if(Q===void 0)return;let q=this.findExifLocIdInIinf(J),K=this.findExtentInIloc(Q,q);if(K===void 0)return;let[X,z]=K;await this.file.ensureChunk(X,z);let Y=4+this.file.getUint32(X);X+=Y,z-=Y,await this.registerSegment("tiff",X,z)}findExifLocIdInIinf(Z){this.parseBoxFullHead(Z);let J,Q,q,K,X=Z.start,z=this.file.getUint16(X);for(X+=2;z--;){if(J=this.parseBoxHead(X),this.parseBoxFullHead(J),Q=J.start,J.version>=2&&(q=J.version===3?4:2,K=this.file.getString(Q+q+2,4),K==="Exif"))return this.file.getUintBytes(Q,q);X+=J.length}}get8bits(Z){let J=this.file.getUint8(Z);return[J>>4,15&J]}findExtentInIloc(Z,J){this.parseBoxFullHead(Z);let Q=Z.start,[q,K]=this.get8bits(Q++),[X,z]=this.get8bits(Q++),Y=Z.version===2?4:2,O=Z.version===1||Z.version===2?2:0,U=z+q+K,A=Z.version===2?4:2,D=this.file.getUintBytes(Q,A);for(Q+=A;D--;){let _=this.file.getUintBytes(Q,Y);Q+=Y+O+2+X;let W=this.file.getUint16(Q);if(Q+=2,_===J)return W>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(Q+z,q),this.file.getUintBytes(Q+z+q,K)];Q+=W*U}}}class YD extends HD{}O0(YD,"type","heic");class o3 extends HD{}O0(o3,"type","avif"),K4.set("heic",YD),K4.set("avif",o3),y1(z5,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),y1(z5,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65000,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),y1(z5,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),y1(b6,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var QK=y1(b6,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),XE={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};QK.set(37392,XE),QK.set(41488,XE);var c3={0:"Normal",1:"Low",2:"High"};function NE(Z){return typeof Z=="object"&&Z.length!==void 0?Z[0]:Z}function zE(Z){let J=Array.from(Z).slice(1);return J[1]>15&&(J=J.map((Q)=>String.fromCharCode(Q))),J[2]!=="0"&&J[2]!==0||J.pop(),J.join(".")}function u3(Z){if(typeof Z=="string"){var[J,Q,q,K,X,z]=Z.trim().split(/[-: ]/g).map(Number),Y=new Date(J,Q-1,q);return Number.isNaN(K)||Number.isNaN(X)||Number.isNaN(z)||(Y.setHours(K),Y.setMinutes(X),Y.setSeconds(z)),Number.isNaN(+Y)?Z:Y}}function ZK(Z){if(typeof Z=="string")return Z;let J=[];if(Z[1]===0&&Z[Z.length-1]===0)for(let Q=0;Q<Z.length;Q+=2)J.push(HE(Z[Q+1],Z[Q]));else for(let Q=0;Q<Z.length;Q+=2)J.push(HE(Z[Q],Z[Q+1]));return WZ(String.fromCodePoint(...J))}function HE(Z,J){return Z<<8|J}QK.set(41992,c3),QK.set(41993,c3),QK.set(41994,c3),y1($9,["ifd0","ifd1"],[[50827,function(Z){return typeof Z!="string"?$E(Z):Z}],[306,u3],[40091,ZK],[40092,ZK],[40093,ZK],[40094,ZK],[40095,ZK]]),y1($9,"exif",[[40960,zE],[36864,zE],[36867,u3],[36868,u3],[40962,NE],[40963,NE]]),y1($9,"gps",[[0,(Z)=>Array.from(Z).join(".")],[7,(Z)=>Array.from(Z).join(":")]]);class cz extends $6{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1752462448&&Z.getString(J+4,20)==="http://ns.adobe.com/"}static headerLength(Z,J){return Z.getString(J+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.multiSegment=Q.extended=Q.headerLength===79,Q.multiSegment?(Q.chunkCount=Z.getUint8(J+72),Q.chunkNumber=Z.getUint8(J+76),Z.getUint8(J+77)!==0&&Q.chunkNumber++):(Q.chunkCount=1/0,Q.chunkNumber=-1),Q}static handleMultiSegments(Z){return Z.map((J)=>J.chunk.getString()).join("")}normalizeInput(Z){return typeof Z=="string"?Z:V8.from(Z).getString()}parse(Z=this.chunk){if(!this.localOptions.parse)return Z;Z=function(K){let X={},z={};for(let Y of RE)X[Y]=[],z[Y]=0;return K.replace(el,(Y,O,U)=>{if(O==="<"){let A=++z[U];return X[U].push(A),`${Y}#${A}`}return`${Y}#${X[U].pop()}`})}(Z);let J=MJ.findAll(Z,"rdf","Description");J.length===0&&J.push(new MJ("rdf","Description",void 0,Z));let Q,q={};for(let K of J)for(let X of K.properties)Q=rl(X.ns,q),wE(X,Q);return function(K){let X;for(let z in K)X=K[z]=iz(K[z]),X===void 0&&delete K[z];return iz(K)}(q)}assignToOutput(Z,J){if(this.localOptions.parse)for(let[Q,q]of Object.entries(J))switch(Q){case"tiff":this.assignObjectToOutput(Z,"ifd0",q);break;case"exif":this.assignObjectToOutput(Z,"exif",q);break;case"xmlns":break;default:this.assignObjectToOutput(Z,Q,q)}else Z.xmp=J}}O0(cz,"type","xmp"),O0(cz,"multiSegment",!0),i1.set("xmp",cz);class sz{static findAll(Z){return CE(Z,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(sz.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[3].slice(1,-1);return q=LE(q),new sz(J,Q,q)}constructor(Z,J,Q){this.ns=Z,this.name=J,this.value=Q}serialize(){return this.value}}class MJ{static findAll(Z,J,Q){if(J!==void 0||Q!==void 0){J=J||"[\\w\\d-]+",Q=Q||"[\\w\\d-]+";var q=new RegExp(`<(${J}):(${Q})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else q=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return CE(Z,q).map(MJ.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[4],K=Z[8];return new MJ(J,Q,q,K)}constructor(Z,J,Q,q){this.ns=Z,this.name=J,this.attrString=Q,this.innerXml=q,this.attrs=sz.findAll(Q),this.children=MJ.findAll(q),this.value=this.children.length===0?LE(q):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:Z,name:J}=this;return Z==="rdf"&&(J==="Seq"||J==="Bag"||J==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return tl(this.children.map(ol));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let Z={};for(let J of this.properties)wE(J,Z);return this.value!==void 0&&(Z.value=this.value),iz(Z)}}function wE(Z,J){let Q=Z.serialize();Q!==void 0&&(J[Z.name]=Q)}var ol=(Z)=>Z.serialize(),tl=(Z)=>Z.length===1?Z[0]:Z,rl=(Z,J)=>J[Z]?J[Z]:J[Z]={};function CE(Z,J){let Q,q=[];if(!Z)return q;for(;(Q=J.exec(Z))!==null;)q.push(Q);return q}function LE(Z){if(function(q){return q==null||q==="null"||q==="undefined"||q===""||q.trim()===""}(Z))return;let J=Number(Z);if(!Number.isNaN(J))return J;let Q=Z.toLowerCase();return Q==="true"||Q!=="false"&&Z.trim()}var RE=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],el=new RegExp(`(<|\\/)(${RE.join("|")})`,"g"),Vn=Object.freeze({__proto__:null,default:nl,Exifr:r4,fileParsers:K4,segmentParsers:i1,fileReaders:X4,tagKeys:z5,tagValues:b6,tagRevivers:$9,createDictionary:y1,extendDictionary:CZ,fetchUrlAsArrayBuffer:jZ,readBlobAsArrayBuffer:wZ,chunkedProps:Y9,otherSegments:WJ,segments:LZ,tiffBlocks:b1,segmentsAndBlocks:V9,tiffExtractables:O9,inheritables:GJ,allFormatters:U9,Options:A9,parse:FJ,gpsOnlyOptions:qD,gps:BE,thumbnailOnlyOptions:KD,thumbnail:_E,thumbnailUrl:ME,orientationOnlyOptions:XD,orientation:ND,rotations:zD,get rotateCanvas(){return GZ},get rotateCss(){return FZ},rotation:WE});var YE=pz("fs",(Z)=>Z.promises);X4.set("fs",class extends NK{async readWhole(){this.chunked=!1,this.fs=await YE;let Z=await this.fs.readFile(this.input);this._swapBuffer(Z)}async readChunked(){this.chunked=!0,this.fs=await YE,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(Z,J){this.fh===void 0&&await this.open(),Z+J>this.size&&(J=this.size-Z);var Q=this.subarray(Z,J,!0);return await this.fh.read(Q.dataView,0,J,Z),Q}async close(){if(this.fh){let Z=this.fh;this.fh=void 0,await Z.close()}}});X4.set("base64",class extends NK{constructor(...Z){super(...Z),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(Z,J){let Q,q,K=this.input;Z===void 0?(Z=0,Q=0,q=0):(Q=4*Math.floor(Z/3),q=Z-Q/4*3),J===void 0&&(J=this.size);let X=Z+J,z=Q+4*Math.ceil(X/3);K=K.slice(Q,z);let Y=Math.min(J,this.size-Z);if(tz){let O=oz.from(K,"base64").slice(q,q+Y);return this.set(O,Z,!0)}{let O=this.subarray(Z,Y,!0),U=atob(K),A=O.toUint8();for(let D=0;D<Y;D++)A[D]=U.charCodeAt(q+D);return O}}});class t3 extends XK{static canHandle(Z,J){return J===18761||J===19789}extendOptions(Z){let{ifd0:J,xmp:Q,iptc:q,icc:K}=Z;Q.enabled&&J.deps.add(700),q.enabled&&J.deps.add(33723),K.enabled&&J.deps.add(34675),J.finalizeFilters()}async parse(){let{tiff:Z,xmp:J,iptc:Q,icc:q}=this.options;if(Z.enabled||J.enabled||Q.enabled||q.enabled){let K=Math.max(l3(this.options),this.options.chunkSize);await this.file.ensureChunk(0,K),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(Z){if(this.parsers.tiff[Z]){let J=this.parsers.tiff[Z];this.injectSegment(Z,J)}}}O0(t3,"type","tiff"),K4.set("tiff",t3);var Zp=pz("zlib"),Jp=["ihdr","iccp","text","itxt","exif"];class r3 extends XK{constructor(...Z){super(...Z),O0(this,"catchError",(J)=>this.errors.push(J)),O0(this,"metaChunks",[]),O0(this,"unknownChunks",[])}static canHandle(Z,J){return J===35152&&Z.getUint32(0)===2303741511&&Z.getUint32(4)===218765834}async parse(){let{file:Z}=this;await this.findPngChunksInRange(8,Z.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(Z,J){let{file:Q}=this;for(;Z<J;){let q=Q.getUint32(Z),K=Q.getUint32(Z+4),X=Q.getString(Z+4,4).toLowerCase(),z=q+4+4+4,Y={type:X,offset:Z,length:z,start:Z+4+4,size:q,marker:K};Jp.includes(X)?this.metaChunks.push(Y):this.unknownChunks.push(Y),Z+=z}}parseTextChunks(){let Z=this.metaChunks.filter((J)=>J.type==="text");for(let J of Z){let[Q,q]=this.file.getString(J.start,J.size).split("\x00");this.injectKeyValToIhdr(Q,q)}}injectKeyValToIhdr(Z,J){let Q=this.parsers.ihdr;Q&&Q.raw.set(Z,J)}findIhdr(){let Z=this.metaChunks.find((J)=>J.type==="ihdr");Z&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",Z.chunk)}async findExif(){let Z=this.metaChunks.find((J)=>J.type==="exif");Z&&this.injectSegment("tiff",Z.chunk)}async findXmp(){let Z=this.metaChunks.filter((J)=>J.type==="itxt");for(let J of Z)J.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",J.chunk)}async findIcc(){let Z=this.metaChunks.find((z)=>z.type==="iccp");if(!Z)return;let{chunk:J}=Z,Q=J.getUint8Array(0,81),q=0;for(;q<80&&Q[q]!==0;)q++;let K=q+2,X=J.getString(0,q);if(this.injectKeyValToIhdr("ProfileName",X),lz){let z=await Zp,Y=J.getUint8Array(K);Y=z.inflateSync(Y),this.injectSegment("icc",Y)}}}O0(r3,"type","png"),K4.set("png",r3),y1(z5,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),CZ(z5,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var VE=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];CZ(z5,"ifd0",VE),CZ(z5,"exif",VE),y1(b6,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class uz extends $6{static canHandle(Z,J){return Z.getUint8(J+1)===224&&Z.getUint32(J+4)===1246120262&&Z.getUint8(J+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}O0(uz,"type","jfif"),O0(uz,"headerLength",9),i1.set("jfif",uz),y1(z5,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class e3 extends $6{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}O0(e3,"type","ihdr"),i1.set("ihdr",e3),y1(z5,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),y1(b6,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class qK extends $6{static canHandle(Z,J){return Z.getUint8(J+1)===226&&Z.getUint32(J+4)===1229144927}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.chunkNumber=Z.getUint8(J+16),Q.chunkCount=Z.getUint8(J+17),Q.multiSegment=Q.chunkCount>1,Q}static handleMultiSegments(Z){return function(J){let Q=function(q){let K=q[0].constructor,X=0;for(let O of q)X+=O.length;let z=new K(X),Y=0;for(let O of q)z.set(O,Y),Y+=O.length;return z}(J.map((q)=>q.chunk.toUint8()));return new V8(Q)}(Z)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:Z}=this;this.chunk.byteLength<84&&a1("ICC header is too short");for(let[J,Q]of Object.entries(Qp)){J=parseInt(J,10);let q=Q(this.chunk,J);q!=="\x00\x00\x00\x00"&&Z.set(J,q)}}parseTags(){let Z,J,Q,q,K,{raw:X}=this,z=this.chunk.getUint32(128),Y=132,O=this.chunk.byteLength;for(;z--;){if(Z=this.chunk.getString(Y,4),J=this.chunk.getUint32(Y+4),Q=this.chunk.getUint32(Y+8),q=this.chunk.getString(J,4),J+Q>O)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");K=this.parseTag(q,J,Q),K!==void 0&&K!=="\x00\x00\x00\x00"&&X.set(Z,K),Y+=12}}parseTag(Z,J,Q){switch(Z){case"desc":return this.parseDesc(J);case"mluc":return this.parseMluc(J);case"text":return this.parseText(J,Q);case"sig ":return this.parseSig(J)}if(!(J+Q>this.chunk.byteLength))return this.chunk.getUint8Array(J,Q)}parseDesc(Z){let J=this.chunk.getUint32(Z+8)-1;return WZ(this.chunk.getString(Z+12,J))}parseText(Z,J){return WZ(this.chunk.getString(Z+8,J-8))}parseSig(Z){return WZ(this.chunk.getString(Z+8,4))}parseMluc(Z){let{chunk:J}=this,Q=J.getUint32(Z+8),q=J.getUint32(Z+12),K=Z+16,X=[];for(let z=0;z<Q;z++){let Y=J.getString(K+0,2),O=J.getString(K+2,2),U=J.getUint32(K+4),A=J.getUint32(K+8)+Z,D=WZ(J.getUnicodeString(A,U));X.push({lang:Y,country:O,text:D}),K+=q}return Q===1?X[0].text:X}translateValue(Z,J){return typeof Z=="string"?J[Z]||J[Z.toLowerCase()]||Z:J[Z]||Z}}O0(qK,"type","icc"),O0(qK,"multiSegment",!0),O0(qK,"headerLength",18);var Qp={4:t4,8:function(Z,J){return[Z.getUint8(J),Z.getUint8(J+1)>>4,Z.getUint8(J+1)%16].map((Q)=>Q.toString(10)).join(".")},12:t4,16:t4,20:t4,24:function(Z,J){let Q=Z.getUint16(J),q=Z.getUint16(J+2)-1,K=Z.getUint16(J+4),X=Z.getUint16(J+6),z=Z.getUint16(J+8),Y=Z.getUint16(J+10);return new Date(Date.UTC(Q,q,K,X,z,Y))},36:t4,40:t4,48:t4,52:t4,64:(Z,J)=>Z.getUint32(J),80:t4};function t4(Z,J){return WZ(Z.getString(J,4))}i1.set("icc",qK),y1(z5,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var mz={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},OE={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};y1(b6,"icc",[[4,mz],[12,OE],[40,Object.assign({},mz,OE)],[48,mz],[80,mz],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class JK extends $6{static canHandle(Z,J,Q){return Z.getUint8(J+1)===237&&Z.getString(J+4,9)==="Photoshop"&&this.containsIptc8bim(Z,J,Q)!==void 0}static headerLength(Z,J,Q){let q,K=this.containsIptc8bim(Z,J,Q);if(K!==void 0)return q=Z.getUint8(J+K+7),q%2!=0&&(q+=1),q===0&&(q=4),K+8+q}static containsIptc8bim(Z,J,Q){for(let q=0;q<Q;q++)if(this.isIptcSegmentHead(Z,J+q))return q}static isIptcSegmentHead(Z,J){return Z.getUint8(J)===56&&Z.getUint32(J)===943868237&&Z.getUint16(J+4)===1028}parse(){let{raw:Z}=this,J=this.chunk.byteLength-1,Q=!1;for(let q=0;q<J;q++)if(this.chunk.getUint8(q)===28&&this.chunk.getUint8(q+1)===2){Q=!0;let K=this.chunk.getUint16(q+3),X=this.chunk.getUint8(q+2),z=this.chunk.getLatin1String(q+5,K);Z.set(X,this.pluralizeValue(Z.get(X),z)),q+=4+K}else if(Q)break;return this.translate(),this.output}pluralizeValue(Z,J){return Z!==void 0?Z instanceof Array?(Z.push(J),Z):[Z,J]:J}}O0(JK,"type","iptc"),O0(JK,"translateValues",!1),O0(JK,"reviveValues",!1),i1.set("iptc",JK),y1(z5,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),y1(b6,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var ez=function(Z,J){return Z<J?-1:Z>J?1:0},EE=function(Z){return Z.reduce(function(J,Q){return J+Q},0)},qp=function(){function Z(Q){this.colors=Q}var J=Z.prototype;return J.palette=function(){return this.colors},J.map=function(Q){return Q},Z}(),Kp=function(){function Z(X,z,Y){return(X<<10)+(z<<5)+Y}function J(X){var z=[],Y=!1;function O(){z.sort(X),Y=!0}return{push:function(U){z.push(U),Y=!1},peek:function(U){return Y||O(),U===void 0&&(U=z.length-1),z[U]},pop:function(){return Y||O(),z.pop()},size:function(){return z.length},map:function(U){return z.map(U)},debug:function(){return Y||O(),z}}}function Q(X,z,Y,O,U,A,D){var _=this;_.r1=X,_.r2=z,_.g1=Y,_.g2=O,_.b1=U,_.b2=A,_.histo=D}function q(){this.vboxes=new J(function(X,z){return ez(X.vbox.count()*X.vbox.volume(),z.vbox.count()*z.vbox.volume())})}function K(X,z){if(z.count()){var Y=z.r2-z.r1+1,O=z.g2-z.g1+1,U=Math.max.apply(null,[Y,O,z.b2-z.b1+1]);if(z.count()==1)return[z.copy()];var A,D,_,W,j=0,C=[],R=[];if(U==Y)for(A=z.r1;A<=z.r2;A++){for(W=0,D=z.g1;D<=z.g2;D++)for(_=z.b1;_<=z.b2;_++)W+=X[Z(A,D,_)]||0;C[A]=j+=W}else if(U==O)for(A=z.g1;A<=z.g2;A++){for(W=0,D=z.r1;D<=z.r2;D++)for(_=z.b1;_<=z.b2;_++)W+=X[Z(D,A,_)]||0;C[A]=j+=W}else for(A=z.b1;A<=z.b2;A++){for(W=0,D=z.r1;D<=z.r2;D++)for(_=z.g1;_<=z.g2;_++)W+=X[Z(D,_,A)]||0;C[A]=j+=W}return C.forEach(function(G,w){R[w]=j-G}),function(G){var w,L,I,h,v,b=G+"1",m=G+"2",c=0;for(A=z[b];A<=z[m];A++)if(C[A]>j/2){for(I=z.copy(),h=z.copy(),v=(w=A-z[b])<=(L=z[m]-A)?Math.min(z[m]-1,~~(A+L/2)):Math.max(z[b],~~(A-1-w/2));!C[v];)v++;for(c=R[v];!c&&C[v-1];)c=R[--v];return I[m]=v,h[b]=I[m]+1,[I,h]}}(U==Y?"r":U==O?"g":"b")}}return Q.prototype={volume:function(X){var z=this;return z._volume&&!X||(z._volume=(z.r2-z.r1+1)*(z.g2-z.g1+1)*(z.b2-z.b1+1)),z._volume},count:function(X){var z=this,Y=z.histo;if(!z._count_set||X){var O,U,A,D=0;for(O=z.r1;O<=z.r2;O++)for(U=z.g1;U<=z.g2;U++)for(A=z.b1;A<=z.b2;A++)D+=Y[Z(O,U,A)]||0;z._count=D,z._count_set=!0}return z._count},copy:function(){var X=this;return new Q(X.r1,X.r2,X.g1,X.g2,X.b1,X.b2,X.histo)},avg:function(X){var z=this,Y=z.histo;if(!z._avg||X){var O,U,A,D,_=0,W=0,j=0,C=0;if(z.r1===z.r2&&z.g1===z.g2&&z.b1===z.b2)z._avg=[z.r1<<3,z.g1<<3,z.b1<<3];else{for(U=z.r1;U<=z.r2;U++)for(A=z.g1;A<=z.g2;A++)for(D=z.b1;D<=z.b2;D++)_+=O=Y[Z(U,A,D)]||0,W+=O*(U+0.5)*8,j+=O*(A+0.5)*8,C+=O*(D+0.5)*8;z._avg=_?[~~(W/_),~~(j/_),~~(C/_)]:[~~(8*(z.r1+z.r2+1)/2),~~(8*(z.g1+z.g2+1)/2),~~(8*(z.b1+z.b2+1)/2)]}}return z._avg},contains:function(X){var z=this,Y=X[0]>>3;return gval=X[1]>>3,bval=X[2]>>3,Y>=z.r1&&Y<=z.r2&&gval>=z.g1&&gval<=z.g2&&bval>=z.b1&&bval<=z.b2}},q.prototype={push:function(X){this.vboxes.push({vbox:X,color:X.avg()})},palette:function(){return this.vboxes.map(function(X){return X.color})},size:function(){return this.vboxes.size()},map:function(X){for(var z=this.vboxes,Y=0;Y<z.size();Y++)if(z.peek(Y).vbox.contains(X))return z.peek(Y).color;return this.nearest(X)},nearest:function(X){for(var z,Y,O,U=this.vboxes,A=0;A<U.size();A++)((Y=Math.sqrt(Math.pow(X[0]-U.peek(A).color[0],2)+Math.pow(X[1]-U.peek(A).color[1],2)+Math.pow(X[2]-U.peek(A).color[2],2)))<z||z===void 0)&&(z=Y,O=U.peek(A).color);return O},forcebw:function(){var X=this.vboxes;X.sort(function(U,A){return ez(EE(U.color),EE(A.color))});var z=X[0].color;z[0]<5&&z[1]<5&&z[2]<5&&(X[0].color=[0,0,0]);var Y=X.length-1,O=X[Y].color;O[0]>251&&O[1]>251&&O[2]>251&&(X[Y].color=[255,255,255])}},{quantize:function(X,z){if(!Number.isInteger(z)||z<1||z>256)throw Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!X.length||z<2||z>256)return!1;if(!X.length||z<2||z>256)return!1;for(var Y=[],O=new Set,U=0;U<X.length;U++){var A=X[U],D=A.join(",");O.has(D)||(O.add(D),Y.push(A))}if(Y.length<=z)return new qp(Y);var _=function(w){var L,I=Array(32768);return w.forEach(function(h){L=Z(h[0]>>3,h[1]>>3,h[2]>>3),I[L]=(I[L]||0)+1}),I}(X);_.forEach(function(){});var W=function(w,L){var I,h,v,b=1e6,m=0,c=1e6,u=0,n=1e6,N0=0;return w.forEach(function(W0){(I=W0[0]>>3)<b?b=I:I>m&&(m=I),(h=W0[1]>>3)<c?c=h:h>u&&(u=h),(v=W0[2]>>3)<n?n=v:v>N0&&(N0=v)}),new Q(b,m,c,u,n,N0,L)}(X,_),j=new J(function(w,L){return ez(w.count(),L.count())});function C(w,L){for(var I,h=w.size(),v=0;v<1000;){if(h>=L)return;if(v++>1000)return;if((I=w.pop()).count()){var b=K(_,I),m=b[0],c=b[1];if(!m)return;w.push(m),c&&(w.push(c),h++)}else w.push(I),v++}}j.push(W),C(j,0.75*z);for(var R=new J(function(w,L){return ez(w.count()*w.volume(),L.count()*L.volume())});j.size();)R.push(j.pop());C(R,z);for(var G=new q;R.size();)G.push(R.pop());return G}}}().quantize,IE=function(Z){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=Z.naturalWidth,this.height=this.canvas.height=Z.naturalHeight,this.context.drawImage(Z,0,0,this.width,this.height)};IE.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var RZ=function(){};RZ.prototype.getColor=function(Z,J){return J===void 0&&(J=10),this.getPalette(Z,5,J)[0]},RZ.prototype.getPalette=function(Z,J,Q){var q=function(Y){var{colorCount:O,quality:U}=Y;if(O!==void 0&&Number.isInteger(O)){if(O===1)throw Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");O=Math.max(O,2),O=Math.min(O,20)}else O=10;return(U===void 0||!Number.isInteger(U)||U<1)&&(U=10),{colorCount:O,quality:U}}({colorCount:J,quality:Q}),K=new IE(Z),X=function(Y,O,U){for(var A,D,_,W,j,C=Y,R=[],G=0;G<O;G+=U)D=C[0+(A=4*G)],_=C[A+1],W=C[A+2],((j=C[A+3])===void 0||j>=125)&&(D>250&&_>250&&W>250||R.push([D,_,W]));return R}(K.getImageData().data,K.width*K.height,q.quality),z=Kp(X,q.colorCount);return z?z.palette():null},RZ.prototype.getColorFromUrl=function(Z,J,Q){var q=this,K=document.createElement("img");K.addEventListener("load",function(){var X=q.getPalette(K,5,Q);J(X[0],Z)}),K.src=Z},RZ.prototype.getImageData=function(Z,J){var Q=new XMLHttpRequest;Q.open("GET",Z,!0),Q.responseType="arraybuffer",Q.onload=function(){if(this.status==200){var q=new Uint8Array(this.response);i=q.length;for(var K=Array(i),X=0;X<q.length;X++)K[X]=String.fromCharCode(q[X]);var z=K.join(""),Y=window.btoa(z);J("data:image/png;base64,"+Y)}},Q.send()},RZ.prototype.getColorAsync=function(Z,J,Q){var q=this;this.getImageData(Z,function(K){var X=document.createElement("img");X.addEventListener("load",function(){var z=q.getPalette(X,5,Q);J(z[0],this)}),X.src=K})};var Xp=Symbol.for("react.transitional.element"),Np=Symbol.for("react.fragment");function TE(Z,J,Q){var q=null;if(Q!==void 0&&(q=""+Q),J.key!==void 0&&(q=""+J.key),"key"in J){Q={};for(var K in J)K!=="key"&&(Q[K]=J[K])}else Q=J;return J=Q.ref,{$$typeof:Xp,type:Z,key:q,ref:J!==void 0?J:null,props:Q}}var c5=Np,y=TE,t=TE;function SE({isOpen:Z,onToggle:J}){return y("button",{onClick:J,className:`fixed top-4 z-60 p-2 rounded-md shadow-md cursor-pointer transition-all duration-300 ${Z?"left-50 shadow-none hover:bg-neutral-500":"left-4 bg-white hover:bg-gray-50"}`,"aria-label":"Toggle menu",children:t("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[y("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white rotate-45 translate-y-0.5":"bg-gray-600 -translate-y-1"}`}),y("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white opacity-0":"bg-gray-600 opacity-100"}`}),y("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white -rotate-45 -translate-y-0.5":"bg-gray-600 translate-y-1"}`})]})})}function bE({isDragOver:Z,onFileChange:J,onDrop:Q,onDragOver:q,onDragLeave:K}){return t("div",{className:"max-w-7xl mx-auto text-center",children:[y("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"Web Image Tools"}),y("p",{className:"mb-8 text-neutral-400",children:"View, analyze, and edit images in your browser. Fully local and private."}),y("p",{className:"mb-8 text-neutral-400",children:" Please note that the app is under development and may not work as expected."}),t("div",{className:`border-2 border-dashed rounded-lg p-8 mb-4 transition-colors size-[50vh] justify-self-center flex justify-center items-center ${Z?"border-sky-500 bg-sky-50":"border-neutral-500"}`,onDrop:Q,onDragOver:q,onDragLeave:K,children:[y("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",id:"file-input"}),y("label",{htmlFor:"file-input",className:"cursor-pointer",children:t("div",{className:"text-neutral-500",children:[y("p",{className:"text-lg font-semibold",children:"Click to select an image"}),y("p",{children:"or drag and drop it here"})]})})]})]})}function jJ({menuName:Z,isActiveSection:J,handleSectionClick:Q}){return y("button",{onClick:Q,className:`w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer ${J?"bg-cyan-600":"hover:bg-neutral-500"}`,children:Z})}function kE({isOpen:Z,activeSection:J,onSectionChange:Q,onClose:q}){let K=(X)=>{Q(X),q()};return t(c5,{children:[Z&&y("div",{className:"fixed inset-0 bg-black/70 z-40",onClick:q}),y("div",{className:`fixed top-0 left-0 h-full w-64 bg-neutral-600 shadow-lg z-50 transform transition-transform duration-300 ${Z?"translate-x-0":"-translate-x-full"}`,children:t("div",{className:"p-6 h-full flex flex-col",children:[y("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Menu"}),y("div",{className:"border-b border-neutral-500 mb-4"}),t("nav",{className:"flex flex-col justify-between flex-grow w-full",children:[t("div",{className:"w-full",children:[y("span",{className:"text-neutral-400",children:"Tools"}),y(jJ,{menuName:"Image Information",isActiveSection:J==="info",handleSectionClick:()=>K("info")}),y(jJ,{menuName:"Color Palette",isActiveSection:J==="palette",handleSectionClick:()=>K("palette")}),y(jJ,{menuName:"Filters & Edit",isActiveSection:J==="filters",handleSectionClick:()=>K("filters")}),y(jJ,{menuName:"Optimization",isActiveSection:J==="optimization",handleSectionClick:()=>K("optimization")}),y(jJ,{menuName:"Transform",isActiveSection:J==="transform",handleSectionClick:()=>K("transform")})]}),t("div",{className:"w-full",children:[y("span",{className:"text-neutral-400",children:"Settings"}),y("div",{className:"w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer hover:bg-neutral-500",children:y("span",{children:"Preferences"})})]})]})]})})]})}var zK=(Z)=>{let J=["B","KB","MB","GB"],Q=Z,q=0;while(Q>=1024&&q<J.length-1)Q/=1024,q++;return`${Q.toFixed(2)} ${J[q]}`};function PE(Z,J){return J===0?Z:PE(J,Z%J)}function zp(Z,J){let Q=PE(Z,J);return`${Z/Q}:${J/Q}`}function Hp(Z){let J=Z.replace(/\.[^/.]+$/,"");if(J.length>20)return J.slice(0,20)+"[...]";return J}function vE({imageInfo:Z}){return t("div",{className:"text-left mx-auto flex gap-8",children:[t("div",{className:"grid grid-cols-[auto_1fr] mb-4 grid-rows-[min-content] self-start col-2-alternating-colors",children:[y("strong",{className:"pr-3 p-1",children:"File Name:"}),y("span",{className:"p-1",title:Z.name,children:Hp(Z.name)}),y("strong",{className:"pr-3 p-1",children:"File Size:"}),y("span",{className:"p-1",children:zK(Z.fileSize)}),Z.format&&t(c5,{children:[y("strong",{className:"pr-3 p-1",children:"Format:"}),t("span",{className:"p-1",children:[".",Z.format.toUpperCase()]})]}),Z.dimensions&&t(c5,{children:[y("strong",{className:"pr-3 p-1",children:"Dimensions:"}),t("span",{className:"p-1",children:[Z.dimensions.width," x ",Z.dimensions.height," ","pixels"]}),y("strong",{className:"pr-3 p-1",children:"Aspect:"}),y("span",{className:"p-1",children:zp(Z.dimensions.width,Z.dimensions.height)})]}),Z.lastModified&&t(c5,{children:[y("strong",{className:"pr-3 p-1",children:"Modified:"}),y("span",{className:"p-1",children:Z.lastModified.toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})]}),Z.exif&&Object.keys(Z.exif).length>0&&t("div",{children:[y("strong",{children:"EXIF Data:"}),y("pre",{className:"text-sm bg-neutral-600 overflow-x-hidden max-h-40",children:JSON.stringify(Z.exif,null,2)})]})]})}x5();function fE({palette:Z}){let[J,Q]=_0(6),[q,K]=_0(null),X=Z.slice(0,J),z=(U,A,D)=>{return"#"+[U,A,D].map((_)=>{let W=_.toString(16);return W.length===1?"0"+W:W}).join("")},Y=async(U,A)=>{try{await navigator.clipboard.writeText(U),K(A),setTimeout(()=>K(null),1500)}catch(D){let _=document.createElement("textarea");_.value=U,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),K(A),setTimeout(()=>K(null),1500)}},O=()=>{let U={};X.forEach((j,C)=>{let R=z(j[0]??0,j[1]??0,j[2]??0),G=`color_${String(C+1).padStart(2,"0")}`;U[G]=R});let A=JSON.stringify(U,null,2),D=new Blob([A],{type:"application/json"}),_=URL.createObjectURL(D),W=document.createElement("a");W.href=_,W.download="color-palette.json",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(_)};return t("div",{className:"text-left max-w-md mx-auto",children:[y("h2",{className:"text-2xl font-semibold mb-4",children:"Color Palette"}),t("div",{className:"mb-4",children:[t("label",{className:"block text-sm font-medium mb-2",children:["Number of Colors: ",J]}),y("input",{type:"range",min:"3",max:"32",value:J,onChange:(U)=>Q(Number(U.target.value)),className:"w-full"})]}),y("div",{className:"grid grid-cols-8 gap-2 max-w-lg",children:X.map((U,A)=>{let D=z(U[0]??0,U[1]??0,U[2]??0),_=q===A;return y("div",{className:`w-10 h-10 rounded border cursor-pointer transition-all duration-200 hover:scale-110 hover:shadow-lg ${_?"ring-2 ring-green-400 ring-offset-2":""}`,style:{backgroundColor:`rgb(${U[0]}, ${U[1]}, ${U[2]})`},title:`RGB(${U[0]??0}, ${U[1]??0}, ${U[2]??0}) | ${D} ${_?"(Copied!)":"(Click to copy)"}`,onClick:()=>Y(D,A),children:_&&y("div",{className:"w-full h-full rounded border flex items-center justify-center bg-black bg-opacity-50 text-white text-xs font-bold",children:""})},A)})}),y("div",{className:"mt-4 flex justify-center",children:y("button",{onClick:O,className:"px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 transition-colors cursor-pointer",children:"Download Palette"})})]})}var Yp=["png","jpeg","webp","avif"];function yE({convertFormat:Z,setConvertFormat:J,compressionValue:Q,setCompressionValue:q,onOptimize:K,onDownload:X,optimizedImage:z,imageInfo:Y,optimizedSize:O}){return y(c5,{children:y("div",{className:"text-left max-w-md mx-auto",children:t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center gap-4",children:[y("label",{htmlFor:"format-select",className:"font-medium",children:"Format:"}),y("select",{id:"format-select",value:Z,onChange:(U)=>J(U.target.value),className:"bg-neutral-500 rounded px-2 py-1 cursor-pointer",children:Yp.map((U)=>y("option",{value:U,children:U.toUpperCase()},U))})]}),t("div",{className:"flex gap-4 items-center",children:[y("label",{className:"font-medium",children:"Quality:"}),y("input",{type:"range",min:0.1,max:1,step:0.1,value:Q,onChange:(U)=>q(parseFloat(U.target.value)),className:`flex-1 ${Z==="png"?"cursor-not-allowed opacity-50":""}`,disabled:Z==="png",title:Z==="png"?"Quality not applicable for PNG format":void 0}),t("span",{className:"w-12 text-center",children:[Math.round(Q*100),"%"]})]}),z&&Y&&O&&t("div",{className:"mt-4 flex items-center justify-between gap-4",children:[y("label",{className:"font-medium",children:"New size:"}),Y.fileSize>O?t(c5,{children:[y("span",{children:zK(O)}),t("span",{className:"text-emerald-500 font-semibold",children:["",Math.abs((1-O/Y.fileSize)*100).toFixed(1),"%"]})]}):t(c5,{children:[y("span",{children:zK(O)}),t("span",{className:"text-rose-500 font-semibold",children:["",Math.abs((O/Y.fileSize-1)*100).toFixed(1),"%"]})]})]}),t("div",{className:"flex gap-4 items-center justify-center",children:[y("button",{onClick:K,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Optimize"}),y("button",{onClick:X,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 cursor-pointer",disabled:!z,children:"Download"})]})]})})})}x5();var hE={none:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0,name:"None"},vintage:{hue:15,saturation:80,brightness:110,contrast:105,grayscale:0,invert:0,blur:0,name:"Vintage"},cool:{hue:200,saturation:90,brightness:105,contrast:115,grayscale:0,invert:0,blur:0,name:"Cool"},warm:{hue:25,saturation:110,brightness:105,contrast:105,grayscale:0,invert:0,blur:0,name:"Warm"},dramatic:{hue:0,saturation:70,brightness:90,contrast:130,grayscale:0,invert:0,blur:0,name:"Dramatic"},soft:{hue:0,saturation:85,brightness:95,contrast:85,grayscale:0,invert:0,blur:0,name:"Soft"},highContrast:{hue:0,saturation:100,brightness:110,contrast:140,grayscale:0,invert:0,blur:0,name:"High Contrast"},sepia:{hue:35,saturation:50,brightness:100,contrast:110,grayscale:0,invert:0,blur:0,name:"Sepia"},blackAndWhite:{hue:0,saturation:0,brightness:100,contrast:120,grayscale:100,invert:0,blur:0,name:"Black & White"},filmNoir:{hue:0,saturation:0,brightness:80,contrast:150,grayscale:100,invert:0,blur:0,name:"Film Noir"},dreamy:{hue:0,saturation:90,brightness:110,contrast:105,grayscale:0,invert:0,blur:3,name:"Dreamy"},negative:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:100,blur:0,name:"Negative"}};function xE({hue:Z,setHue:J,saturation:Q,setSaturation:q,brightness:K,setBrightness:X,contrast:z,setContrast:Y,grayscale:O,setGrayscale:U,invert:A,setInvert:D,blur:_,setBlur:W,onReset:j}){let[C,R]=_0("none"),G=(L)=>{let I=hE[L];J(I.hue),q(I.saturation),X(I.brightness),Y(I.contrast),U(I.grayscale),D(I.invert),W(I.blur),R(L)},w=()=>{j(),R("none")};return t("div",{className:"text-left mx-auto",children:[t("div",{className:"space-y-6",children:[t("div",{children:[y("h3",{className:"text-lg font-medium mb-3",children:"Filter Presets"}),y("div",{className:"space-y-4",children:t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Preset:"}),y("select",{value:C,onChange:(L)=>G(L.target.value),className:"flex-1 bg-neutral-500 text-white rounded px-2 py-1",children:Object.entries(hE).map(([L,I])=>y("option",{value:L,children:I.name},L))})]})})]}),t("div",{className:"flex gap-6",children:[t("div",{children:[y("h3",{className:"text-lg font-medium mb-3",children:"Color Adjustments"}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Hue:"}),y("input",{type:"range",min:"0",max:"360",value:Z,onChange:(L)=>J(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[Z,""]})]}),t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Saturation:"}),y("input",{type:"range",min:"0",max:"200",value:Q,onChange:(L)=>q(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[Q,"%"]})]}),t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Brightness:"}),y("input",{type:"range",min:"0",max:"200",value:K,onChange:(L)=>X(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[K,"%"]})]}),t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Contrast:"}),y("input",{type:"range",min:"0",max:"200",value:z,onChange:(L)=>Y(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[z,"%"]})]})]})]}),t("div",{children:[y("h3",{className:"text-lg font-medium mb-3",children:"Effects"}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Grayscale:"}),y("input",{type:"range",min:"0",max:"100",value:O,onChange:(L)=>U(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[O,"%"]})]}),t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Invert:"}),y("input",{type:"range",min:"0",max:"100",value:A,onChange:(L)=>D(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[A,"%"]})]}),t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Blur:"}),y("input",{type:"range",min:"0",max:"20",value:_,onChange:(L)=>W(Number(L.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[_,"px"]})]})]})]})]})]}),t("div",{className:"flex justify-center gap-4 mt-4",children:[y("button",{onClick:w,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Reset All"}),y("button",{onClick:j,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Apply"})]})]})}function gE({clearImage:Z}){return y("button",{onClick:Z,className:"fixed top-4 left-16 z-50 w-10 h-10 p-2 bg-rose-800 text-white font-bold rounded-md flex items-center justify-center hover:bg-rose-700 transition-colors cursor-pointer",title:"Clear image",children:""})}function mE({children:Z,toolDrawerOpen:J,setToolDrawerOpen:Q,activeSection:q}){return t("div",{className:`fixed bottom-0 left-1/2 -translate-x-1/2 h-max max-h-104 w-max bg-neutral-700 shadow-2xl rounded-t-lg transform transition-transform duration-300 ease-in-out z-40 ${J?"translate-y-0":"translate-y-[calc(100%-3rem)]"}`,children:[t("div",{onClick:()=>Q(!J),className:"px-6 py-3 rounded-t-lg cursor-pointer hover:bg-neutral-600 transition-colors flex items-center justify-center gap-3 shadow-lg",children:[t("span",{className:"font-medium",children:[q==="info"&&"Image Info",q==="palette"&&"Color Palette",q==="optimization"&&"Optimization",q==="filters"&&"Filters & Edit",q==="transform"&&"Transform"]}),y("span",{className:`transform transition-transform duration-200 ${J?"rotate-180":""}`,children:""})]}),y("div",{className:"p-6 h-full overflow-y-auto",children:Z})]})}function dE({scale:Z,setScale:J,width:Q,setWidth:q,height:K,setHeight:X,keepAspectRatio:z,setKeepAspectRatio:Y,originalWidth:O,originalHeight:U,onReset:A}){let D=O/U,_=(j)=>{if(q(j),z)X(Math.round(j/D))},W=(j)=>{if(X(j),z)q(Math.round(j*D))};return t("div",{className:"text-left mx-auto",children:[t("div",{className:"space-y-6",children:[y("div",{children:y("div",{className:"space-y-4",children:t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Scale:"}),y("input",{type:"range",min:"10",max:"200",value:Z,onChange:(j)=>J(Number(j.target.value)),className:"flex-1"}),t("span",{className:"w-12 text-center text-sm",children:[Z,"%"]})]})})}),y("div",{children:t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center gap-4",children:[y("label",{className:"w-20 text-sm font-medium",children:"Dimensions:"}),y("input",{type:"number",value:Q,onChange:(j)=>_(Number(j.target.value)),className:"bg-neutral-500 text-right w-20"}),y("span",{className:"text-sm",children:""}),y("input",{type:"number",value:K,onChange:(j)=>W(Number(j.target.value)),className:"bg-neutral-500 text-right w-20"}),y("span",{className:"text-sm",children:"px"})]}),t("div",{className:"flex items-center gap-2 ml-24",children:[y("input",{type:"checkbox",id:"keep-aspect-ratio",checked:z,onChange:(j)=>Y(j.target.checked)}),y("label",{htmlFor:"keep-aspect-ratio",className:"text-sm",children:"Keep aspect ratio"})]})]})})]}),t("div",{className:"flex justify-center gap-4 mt-4",children:[y("button",{onClick:A,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Reset All"}),y("button",{onClick:A,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Apply"})]})]})}x5();function cE({message:Z="Loading..."}){let[J,Q]=_0(0);return Q6(()=>{let q=setInterval(()=>{Q((K)=>K<90?K+10:K)},200);return()=>clearInterval(q)},[]),y("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:t("div",{className:"text-center",children:[y("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4"}),y("div",{className:"w-64 bg-gray-700 rounded-full h-2 mb-4",children:y("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${J}%`}})}),y("p",{className:"text-white text-lg",children:Z}),y("p",{className:"text-gray-400 text-sm mt-2",children:"This may take a moment on slower connections..."})]})})}x5();function uE(Z,J,Q){if(!Z)return;if(Q(Z)===!0)return Z;let q=J?Z.return:Z.child;for(;q;){let K=uE(q,J,Q);if(K)return K;q=J?null:q.sibling}}function lE(Z){try{return Object.defineProperties(Z,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(J){return Z}}var VD=lE(rQ(null));class ZH extends Y${render(){return I2(VD.Provider,{value:this._reactInternals},this.props.children)}}function Vp(){let Z=DN(VD);if(Z===null)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let J=O$();return v7(()=>{for(let Q of[Z,Z==null?void 0:Z.alternate]){if(!Q)continue;let q=uE(Q,!1,(K)=>{let X=K.memoizedState;for(;X;){if(X.memoizedState===J)return!0;X=X.next}});if(q)return q}},[Z,J])}var Op=Symbol.for("react.context"),Up=(Z)=>Z!==null&&typeof Z=="object"&&("$$typeof"in Z)&&Z.$$typeof===Op;function $p(){let Z=Vp(),[J]=_0(()=>new Map);J.clear();let Q=Z;for(;Q;){let q=Q.type;Up(q)&&q!==VD&&!J.has(q)&&J.set(q,V$(lE(q))),Q=Q.return}return J}function pE(){let Z=$p();return v7(()=>Array.from(Z.keys()).reduce((J,Q)=>(q)=>I2(J,null,I2(Q.Provider,{...q,value:Z.get(Q)})),(J)=>I2(ZH,{...J})),[Z])}g();var hv={extension:{type:T.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.resolve().then(() => (yv(),Ma))}};g();var gv={extension:{type:T.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Promise.resolve().then(() => (xv(),Wa))}};g();PH();wH();g();i0();tK();var TY;function uv(Z){if(TY!==void 0)return TY;return TY=(()=>{let J={stencil:!0,failIfMajorPerformanceCaveat:Z??R9.defaultOptions.failIfMajorPerformanceCaveat};try{if(!K0.get().getWebGLRenderingContext())return!1;let q=K0.get().createCanvas().getContext("webgl",J),K=!!q?.getContextAttributes()?.stencil;if(q){let X=q.getExtension("WEBGL_lose_context");if(X)X.loseContext()}return q=null,K}catch(Q){return!1}})(),TY}i0();var SY;async function lv(Z={}){if(SY!==void 0)return SY;return SY=await(async()=>{let J=K0.get().getNavigator().gpu;if(!J)return!1;try{return await(await J.requestAdapter(Z)).requestDevice(),!0}catch(Q){return!1}})(),SY}tK();var Zx=["webgl","webgpu","canvas"];async function Jx(Z){let J=[];if(Z.preference)J.push(Z.preference),Zx.forEach((X)=>{if(X!==Z.preference)J.push(X)});else J=Zx.slice();let Q,q={};for(let X=0;X<J.length;X++){let z=J[X];if(z==="webgpu"&&await lv()){let{WebGPURenderer:Y}=await Promise.resolve().then(() => (Ey(),Ry));Q=Y,q={...Z,...Z.webgpu};break}else if(z==="webgl"&&uv(Z.failIfMajorPerformanceCaveat??R9.defaultOptions.failIfMajorPerformanceCaveat)){let{WebGLRenderer:Y}=await Promise.resolve().then(() => (eh(),rh));Q=Y,q={...Z,...Z.webgl};break}else if(z==="canvas")throw q={...Z},Error("CanvasRenderer is not yet implemented")}if(delete q.webgpu,delete q.webgl,!Q)throw Error("No available renderer for the current environment");let K=new Q;return await K.init(q),K}v6();t_();M1();var Qx=class Z{constructor(...J){if(this.stage=new P0,J[0]!==void 0)q0(Y0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(J){J={...J},this.renderer=await Jx(J),Z._plugins.forEach((Q)=>{Q.init.call(this,J)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return q0(Y0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(J=!1,Q=!1){let q=Z._plugins.slice(0);q.reverse(),q.forEach((K)=>{K.destroy.call(this)}),this.stage.destroy(Q),this.stage=null,this.renderer.destroy(J),this.renderer=null}};Qx._plugins=[];var HX=Qx;Z0.handleByList(T.Application,HX._plugins);Z0.add(gY);g();M9();ZB();i0();g();fZ();vD();r1();p0();C_();E_();class fV extends iK{constructor(Z,J){super();let{textures:Q,data:q}=Z;Object.keys(q.pages).forEach((K)=>{let X=q.pages[parseInt(K,10)],z=Q[X.id];this.pages.push({texture:z})}),Object.keys(q.chars).forEach((K)=>{let X=q.chars[K],{frame:z,source:Y,rotate:O}=Q[X.page],U=s0.transformRectCoords(X,z,O,new U0),A=new p({frame:U,orig:new U0(0,0,X.width,X.height),source:Y,rotate:O});this.chars[K]={id:K.codePointAt(0),xOffset:X.xOffset,yOffset:X.yOffset,xAdvance:X.xAdvance,kerning:X.kerning??{},texture:A}}),this.baseRenderedFontSize=q.fontSize,this.baseMeasurementFontSize=q.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:q.fontSize},this.baseLineOffset=q.baseLineOffset,this.lineHeight=q.lineHeight,this.fontFamily=q.fontFamily,this.distanceField=q.distanceField??{type:"none",range:0},this.url=J}destroy(){super.destroy();for(let Z=0;Z<this.pages.length;Z++){let{texture:J}=this.pages[Z];J.destroy(!0)}this.pages=null}static install(Z){aK.install(Z)}static uninstall(Z){aK.uninstall(Z)}}var yV={test(Z){return typeof Z==="string"&&Z.startsWith("info face=")},parse(Z){let J=Z.match(/^[a-z]+\s+.+$/gm),Q={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let D in J){let _=J[D].match(/^[a-z]+/gm)[0],W=J[D].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),j={};for(let C in W){let R=W[C].split("="),G=R[0],w=R[1].replace(/"/gm,""),L=parseFloat(w),I=isNaN(L)?w:L;j[G]=I}Q[_].push(j)}let q={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[K]=Q.info,[X]=Q.common,[z]=Q.distanceField??[];if(z)q.distanceField={range:parseInt(z.distanceRange,10),type:z.fieldType};q.fontSize=parseInt(K.size,10),q.fontFamily=K.face,q.lineHeight=parseInt(X.lineHeight,10);let Y=Q.page;for(let D=0;D<Y.length;D++)q.pages.push({id:parseInt(Y[D].id,10)||0,file:Y[D].file});let O={};q.baseLineOffset=q.lineHeight-parseInt(X.base,10);let U=Q.char;for(let D=0;D<U.length;D++){let _=U[D],W=parseInt(_.id,10),j=_.letter??_.char??String.fromCharCode(W);if(j==="space")j=" ";O[W]=j,q.chars[j]={id:W,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}let A=Q.kerning||[];for(let D=0;D<A.length;D++){let _=parseInt(A[D].first,10),W=parseInt(A[D].second,10),j=parseInt(A[D].amount,10);q.chars[O[W]].kerning[O[_]]=j}return q}};i0();var pM={test(Z){let J=Z;return typeof J!=="string"&&"getElementsByTagName"in J&&J.getElementsByTagName("page").length&&J.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(Z){let J={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},Q=Z.getElementsByTagName("info")[0],q=Z.getElementsByTagName("common")[0],K=Z.getElementsByTagName("distanceField")[0];if(K)J.distanceField={type:K.getAttribute("fieldType"),range:parseInt(K.getAttribute("distanceRange"),10)};let X=Z.getElementsByTagName("page"),z=Z.getElementsByTagName("char"),Y=Z.getElementsByTagName("kerning");J.fontSize=parseInt(Q.getAttribute("size"),10),J.fontFamily=Q.getAttribute("face"),J.lineHeight=parseInt(q.getAttribute("lineHeight"),10);for(let U=0;U<X.length;U++)J.pages.push({id:parseInt(X[U].getAttribute("id"),10)||0,file:X[U].getAttribute("file")});let O={};J.baseLineOffset=J.lineHeight-parseInt(q.getAttribute("base"),10);for(let U=0;U<z.length;U++){let A=z[U],D=parseInt(A.getAttribute("id"),10),_=A.getAttribute("letter")??A.getAttribute("char")??String.fromCharCode(D);if(_==="space")_=" ";O[D]=_,J.chars[_]={id:D,page:parseInt(A.getAttribute("page"),10)||0,x:parseInt(A.getAttribute("x"),10),y:parseInt(A.getAttribute("y"),10),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10),xOffset:parseInt(A.getAttribute("xoffset"),10),yOffset:parseInt(A.getAttribute("yoffset"),10),xAdvance:parseInt(A.getAttribute("xadvance"),10),kerning:{}}}for(let U=0;U<Y.length;U++){let A=parseInt(Y[U].getAttribute("first"),10),D=parseInt(Y[U].getAttribute("second"),10),_=parseInt(Y[U].getAttribute("amount"),10);J.chars[O[D]].kerning[O[A]]=_}return J}};var iM={test(Z){if(typeof Z==="string"&&Z.includes("<font>"))return pM.test(K0.get().parseXML(Z));return!1},parse(Z){return pM.parse(K0.get().parseXML(Z))}};var ea=[".xml",".fnt"],qx={extension:{type:T.CacheParser,name:"cacheBitmapFont"},test:(Z)=>Z instanceof fV,getCacheableAssets(Z,J){let Q={};return Z.forEach((q)=>{Q[q]=J,Q[`${q}-bitmap`]=J}),Q[`${J.fontFamily}-bitmap`]=J,Q}},Kx={extension:{type:T.LoadParser,priority:p5.Normal},name:"loadBitmapFont",id:"bitmap-font",test(Z){return ea.includes(e1.extname(Z).toLowerCase())},async testParse(Z){return yV.test(Z)||iM.test(Z)},async parse(Z,J,Q){let q=yV.test(Z)?yV.parse(Z):iM.parse(Z),{src:K}=J,{pages:X}=q,z=[],Y=q.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let D=0;D<X.length;++D){let _=X[D].file,W=e1.join(e1.dirname(K),_);W=CK(W,K),z.push({src:W,data:Y})}let O=await Q.load(z),U=z.map((D)=>O[D.src]);return new fV({data:q,textures:U},K)},async load(Z,J){return await(await K0.get().fetch(Z)).text()},async unload(Z,J,Q){await Promise.all(Z.pages.map((q)=>Q.unload(q.texture.source._sourceOrigin))),Z.destroy()}};l0();class aM{constructor(Z,J=!1){this._loader=Z,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=J}add(Z){if(Z.forEach((J)=>{this._assetList.push(J)}),this.verbose)console.log("[BackgroundLoader] assets: ",this._assetList);if(this._isActive&&!this._isLoading)this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let Z=[],J=Math.min(this._assetList.length,this._maxConcurrent);for(let Q=0;Q<J;Q++)Z.push(this._assetList.pop());await this._loader.load(Z),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(Z){if(this._isActive===Z)return;if(this._isActive=Z,Z&&!this._isLoading)this._next()}}W9();g();p0();var Xx={extension:{type:T.CacheParser,name:"cacheTextureArray"},test:(Z)=>Array.isArray(Z)&&Z.every((J)=>J instanceof p),getCacheableAssets:(Z,J)=>{let Q={};return Z.forEach((q)=>{J.forEach((K,X)=>{Q[q+(X===0?"":X+1)]=K})}),Q}};g();async function hV(Z){if("Image"in globalThis)return new Promise((J)=>{let Q=new Image;Q.onload=()=>{J(!0)},Q.onerror=()=>{J(!1)},Q.src=Z});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let J=await(await fetch(Z)).blob();await createImageBitmap(J)}catch(J){return!1}return!0}return!1}var Nx={extension:{type:T.DetectionParser,priority:1},test:async()=>hV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async(Z)=>[...Z,"avif"],remove:async(Z)=>Z.filter((J)=>J!=="avif")};g();var zx=["png","jpg","jpeg"],Hx={extension:{type:T.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async(Z)=>[...Z,...zx],remove:async(Z)=>Z.filter((J)=>!zx.includes(J))};g();var Zs="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function I9(Z){if(Zs)return!1;return document.createElement("video").canPlayType(Z)!==""}var Yx={extension:{type:T.DetectionParser,priority:0},test:async()=>I9("video/mp4"),add:async(Z)=>[...Z,"mp4","m4v"],remove:async(Z)=>Z.filter((J)=>J!=="mp4"&&J!=="m4v")};g();var Vx={extension:{type:T.DetectionParser,priority:0},test:async()=>I9("video/ogg"),add:async(Z)=>[...Z,"ogv"],remove:async(Z)=>Z.filter((J)=>J!=="ogv")};g();var Ox={extension:{type:T.DetectionParser,priority:0},test:async()=>I9("video/webm"),add:async(Z)=>[...Z,"webm"],remove:async(Z)=>Z.filter((J)=>J!=="webm")};g();var Ux={extension:{type:T.DetectionParser,priority:0},test:async()=>hV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async(Z)=>[...Z,"webp"],remove:async(Z)=>Z.filter((J)=>J!=="webp")};l0();fZ();wK();jH();var $x=class Z{constructor(){this.loadOptions={...Z.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(J,Q,q)=>{return this._parsersValidated=!1,J[Q]=q,!0}}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(J,Q){let q={promise:null,parser:null};return q.promise=(async()=>{let K=null,X=null;if(Q.parser||Q.loadParser){if(X=this._parserHash[Q.parser||Q.loadParser],Q.loadParser)e(`[Assets] "loadParser" is deprecated, use "parser" instead for ${J}`);if(!X)e(`[Assets] specified load parser "${Q.parser||Q.loadParser}" not found while loading ${J}`)}if(!X){for(let z=0;z<this.parsers.length;z++){let Y=this.parsers[z];if(Y.load&&Y.test?.(J,Q,this)){X=Y;break}}if(!X)return e(`[Assets] ${J} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}K=await X.load(J,Q,this),q.parser=X;for(let z=0;z<this.parsers.length;z++){let Y=this.parsers[z];if(Y.parse){if(Y.parse&&await Y.testParse?.(K,Q,this))K=await Y.parse(K,Q,this)||K,q.parser=Y}}return K})(),q}async load(J,Q){if(!this._parsersValidated)this._validateParsers();let q=typeof Q==="function"?{...Z.defaultOptions,...this.loadOptions,onProgress:Q}:{...Z.defaultOptions,...this.loadOptions,...Q||{}},{onProgress:K,onError:X,strategy:z,retryCount:Y,retryDelay:O}=q,U=0,A={},D=yZ(J),_=i5(J,(C)=>({alias:[C],src:C,data:{}})),W=_.reduce((C,R)=>C+(R.progressSize||1),0),j=_.map(async(C)=>{let R=e1.toAbsolute(C.src);if(A[C.src])return;if(await this._loadAssetWithRetry(R,C,{onProgress:K,onError:X,strategy:z,retryCount:Y,retryDelay:O},A),U+=C.progressSize||1,K)K(U/W)});return await Promise.all(j),D?A[_[0].src]:A}async unload(J){let q=i5(J,(K)=>({alias:[K],src:K})).map(async(K)=>{let X=e1.toAbsolute(K.src),z=this.promiseCache[X];if(z){let Y=await z.promise;delete this.promiseCache[X],await z.parser?.unload?.(Y,K,this)}});await Promise.all(q)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((J)=>J.name||J.id).reduce((J,Q)=>{if(!Q.name&&!Q.id)e("[Assets] parser should have an id");else if(J[Q.name]||J[Q.id])e(`[Assets] parser id conflict "${Q.id}"`);if(J[Q.name]=Q,Q.id)J[Q.id]=Q;return J},{})}async _loadAssetWithRetry(J,Q,q,K){let X=0,{onError:z,strategy:Y,retryCount:O,retryDelay:U}=q,A=(D)=>new Promise((_)=>setTimeout(_,D));while(!0)try{if(!this.promiseCache[J])this.promiseCache[J]=this._getLoadPromiseAndParser(J,Q);K[Q.src]=await this.promiseCache[J].promise;return}catch(D){delete this.promiseCache[J],delete K[Q.src],X++;let _=Y!=="retry"||X>O;if(Y==="retry"&&!_){if(z)z(D,Q);await A(U);continue}if(Y==="skip"){if(z)z(D,Q);return}if(z)z(D,Q);throw Error(`[Loader.load] Failed to load ${J}.
${D}`)}}};$x.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};var Ax=$x;i0();g();function W6(Z,J){if(Array.isArray(J)){for(let Q of J)if(Z.startsWith(`data:${Q}`))return!0;return!1}return Z.startsWith(`data:${J}`)}fZ();function G6(Z,J){let Q=Z.split("?")[0],q=e1.extname(Q).toLowerCase();if(Array.isArray(J))return J.includes(q);return q===J}M9();var Js=".json",Qs="application/json",Dx={extension:{type:T.LoadParser,priority:p5.Low},name:"loadJson",id:"json",test(Z){return W6(Z,Qs)||G6(Z,Js)},async load(Z){return await(await K0.get().fetch(Z)).json()}};i0();g();M9();var qs=".txt",Ks="text/plain",Bx={name:"loadTxt",id:"text",extension:{type:T.LoadParser,priority:p5.Low,name:"loadTxt"},test(Z){return W6(Z,Ks)||G6(Z,qs)},async load(Z){return await(await K0.get().fetch(Z)).text()}};i0();g();l0();fZ();W9();M9();var Xs=["normal","bold","100","200","300","400","500","600","700","800","900"],Ns=[".ttf",".otf",".woff",".woff2"],zs=["font/ttf","font/otf","font/woff","font/woff2"],Hs=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ys(Z){let J=e1.extname(Z),K=e1.basename(Z,J).replace(/(-|_)/g," ").toLowerCase().split(" ").map((Y)=>Y.charAt(0).toUpperCase()+Y.slice(1)),X=K.length>0;for(let Y of K)if(!Y.match(Hs)){X=!1;break}let z=K.join(" ");if(!X)z=`"${z.replace(/[\\"]/g,"\\$&")}"`;return z}var Vs=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Os(Z){if(Vs.test(Z))return Z;return encodeURI(Z)}var _x={extension:{type:T.LoadParser,priority:p5.Low},name:"loadWebFont",id:"web-font",test(Z){return W6(Z,zs)||G6(Z,Ns)},async load(Z,J){let Q=K0.get().getFontFaceSet();if(Q){let q=[],K=J.data?.family??Ys(Z),X=J.data?.weights?.filter((Y)=>Xs.includes(Y))??["normal"],z=J.data??{};for(let Y=0;Y<X.length;Y++){let O=X[Y],U=new FontFace(K,`url(${Os(Z)})`,{...z,weight:O});await U.load(),Q.add(U),q.push(U)}if(v0.has(`${K}-and-url`))v0.get(`${K}-and-url`).entries.push({url:Z,faces:q});else v0.set(`${K}-and-url`,{entries:[{url:Z,faces:q}]});return q.length===1?q[0]:q}return e("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(Z){let J=Array.isArray(Z)?Z:[Z],Q=J[0].family,q=v0.get(`${Q}-and-url`),K=q.entries.find((X)=>X.faces.some((z)=>J.indexOf(z)!==-1));if(K.faces=K.faces.filter((X)=>J.indexOf(X)===-1),K.faces.length===0)q.entries=q.entries.filter((X)=>X!==K);if(J.forEach((X)=>{K0.get().getFontFaceSet().delete(X)}),q.entries.length===0)v0.remove(`${Q}-and-url`)}};i0();g();fJ();VY();PJ();function YQ(Z,J=1){let Q=B6.RETINA_PREFIX?.exec(Z);if(Q)return parseFloat(Q[1]);return J}M9();p0();l0();W9();function VQ(Z,J,Q){Z.label=Q,Z._sourceOrigin=Q;let q=new p({source:Z,label:Q}),K=()=>{if(delete J.promiseCache[Q],v0.has(Q))v0.remove(Q)};return q.source.once("destroy",()=>{if(J.promiseCache[Q])e("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),K()}),q.once("destroy",()=>{if(!Z.destroyed)e("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),K()}),q}var Us=".svg",$s="image/svg+xml",Mx={extension:{type:T.LoadParser,priority:p5.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(Z){return W6(Z,$s)||G6(Z,Us)},async load(Z,J,Q){if(J.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext)return Ds(Z);return As(Z,J,Q,this.config.crossOrigin)},unload(Z){Z.destroy(!0)}};async function As(Z,J,Q,q){let K=await K0.get().fetch(Z),X=K0.get().createImage();X.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await K.text())}`,X.crossOrigin=q,await X.decode();let z=J.data?.width??X.width,Y=J.data?.height??X.height,O=J.data?.resolution||YQ(Z),U=Math.ceil(z*O),A=Math.ceil(Y*O),D=K0.get().createCanvas(U,A),_=D.getContext("2d");_.imageSmoothingEnabled=!0,_.imageSmoothingQuality="high",_.drawImage(X,0,0,z*O,Y*O);let{parseAsGraphicsContext:W,...j}=J.data??{},C=new c8({resource:D,alphaMode:"premultiply-alpha-on-upload",resolution:O,...j});return VQ(C,Q,Z)}async function Ds(Z){let Q=await(await K0.get().fetch(Z)).text(),q=new s5;return q.svg(Q),q}i0();g();fJ();var OQ=null;class YX{constructor(){if(!OQ)OQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`],{type:"application/javascript"}));this.worker=new Worker(OQ)}}YX.revokeObjectURL=function(){if(OQ)URL.revokeObjectURL(OQ),OQ=null};var UQ=null;class xV{constructor(){if(!UQ)UQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`],{type:"application/javascript"}));this.worker=new Worker(UQ)}}xV.revokeObjectURL=function(){if(UQ)URL.revokeObjectURL(UQ),UQ=null};var Wx=0,sM;class Gx{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){if(this._isImageBitmapSupported!==void 0)return this._isImageBitmapSupported;return this._isImageBitmapSupported=new Promise((Z)=>{let{worker:J}=new YX;J.addEventListener("message",(Q)=>{J.terminate(),YX.revokeObjectURL(),Z(Q.data)})}),this._isImageBitmapSupported}loadImageBitmap(Z,J){return this._run("loadImageBitmap",[Z,J?.data?.alphaMode])}async _initWorkers(){if(this._initialized)return;this._initialized=!0}_getWorker(){if(sM===void 0)sM=navigator.hardwareConcurrency||4;let Z=this._workerPool.pop();if(!Z&&this._createdWorkers<sM)this._createdWorkers++,Z=new xV().worker,Z.addEventListener("message",(J)=>{this._complete(J.data),this._returnWorker(J.target),this._next()});return Z}_returnWorker(Z){this._workerPool.push(Z)}_complete(Z){if(Z.error!==void 0)this._resolveHash[Z.uuid].reject(Z.error);else this._resolveHash[Z.uuid].resolve(Z.data);this._resolveHash[Z.uuid]=null}async _run(Z,J){await this._initWorkers();let Q=new Promise((q,K)=>{this._queue.push({id:Z,arguments:J,resolve:q,reject:K})});return this._next(),Q}_next(){if(!this._queue.length)return;let Z=this._getWorker();if(!Z)return;let J=this._queue.pop(),Q=J.id;this._resolveHash[Wx]={resolve:J.resolve,reject:J.reject},Z.postMessage({data:J.arguments,uuid:Wx++,id:Q})}reset(){this._workerPool.forEach((Z)=>Z.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:Z})=>{Z?.(Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}var nM=new Gx;M9();var Bs=[".jpeg",".jpg",".png",".webp",".avif"],_s=["image/jpeg","image/png","image/webp","image/avif"];async function Ms(Z,J){let Q=await K0.get().fetch(Z);if(!Q.ok)throw Error(`[loadImageBitmap] Failed to fetch ${Z}: ${Q.status} ${Q.statusText}`);let q=await Q.blob();return J?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(q,{premultiplyAlpha:"none"}):createImageBitmap(q)}var gV={name:"loadTextures",id:"texture",extension:{type:T.LoadParser,priority:p5.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(Z){return W6(Z,_s)||G6(Z,Bs)},async load(Z,J,Q){let q=null;if(globalThis.createImageBitmap&&this.config.preferCreateImageBitmap)if(this.config.preferWorkers&&await nM.isImageBitmapSupported())q=await nM.loadImageBitmap(Z,J);else q=await Ms(Z,J);else q=await new Promise((X,z)=>{if(q=K0.get().createImage(),q.crossOrigin=this.config.crossOrigin,q.src=Z,q.complete)X(q);else q.onload=()=>{X(q)},q.onerror=z});let K=new c8({resource:q,alphaMode:"premultiply-alpha-on-upload",resolution:J.data?.resolution||YQ(Z),...J.data});return VQ(K,Q,Z)},unload(Z){Z.destroy(!0)}};g();zB();NB();var Ws=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],oM,tM;function Gs(Z,J,Q){if(Q===void 0&&!J.startsWith("data:"))Z.crossOrigin=js(J);else if(Q!==!1)Z.crossOrigin=typeof Q==="string"?Q:"anonymous"}function Fs(Z){return new Promise((J,Q)=>{Z.addEventListener("canplaythrough",q),Z.addEventListener("error",K),Z.load();function q(){X(),J()}function K(z){X(),Q(z)}function X(){Z.removeEventListener("canplaythrough",q),Z.removeEventListener("error",K)}})}function js(Z,J=globalThis.location){if(Z.startsWith("data:"))return"";J||(J=globalThis.location);let Q=new URL(Z,document.baseURI);if(Q.hostname!==J.hostname||Q.port!==J.port||Q.protocol!==J.protocol)return"anonymous";return""}function ws(){let Z=[],J=[];for(let Q of Ws){let q=hZ.MIME_TYPES[Q.substring(1)]||`video/${Q.substring(1)}`;if(I9(q)){if(Z.push(Q),!J.includes(q))J.push(q)}}return{validVideoExtensions:Z,validVideoMime:J}}var Fx={name:"loadVideo",id:"video",extension:{type:T.LoadParser,name:"loadVideo"},test(Z){if(!oM||!tM){let{validVideoExtensions:q,validVideoMime:K}=ws();oM=q,tM=K}let J=W6(Z,tM),Q=G6(Z,oM);return J||Q},async load(Z,J,Q){let q={...hZ.defaultOptions,resolution:J.data?.resolution||YQ(Z),alphaMode:J.data?.alphaMode||await bH(),...J.data},K=document.createElement("video"),X={preload:q.autoLoad!==!1?"auto":void 0,"webkit-playsinline":q.playsinline!==!1?"":void 0,playsinline:q.playsinline!==!1?"":void 0,muted:q.muted===!0?"":void 0,loop:q.loop===!0?"":void 0,autoplay:q.autoPlay!==!1?"":void 0};if(Object.keys(X).forEach((O)=>{let U=X[O];if(U!==void 0)K.setAttribute(O,U)}),q.muted===!0)K.muted=!0;Gs(K,Z,q.crossorigin);let z=document.createElement("source"),Y;if(q.mime)Y=q.mime;else if(Z.startsWith("data:"))Y=Z.slice(5,Z.indexOf(";"));else if(!Z.startsWith("blob:")){let O=Z.split("?")[0].slice(Z.lastIndexOf(".")+1).toLowerCase();Y=hZ.MIME_TYPES[O]||`video/${O}`}if(z.src=Z,Y)z.type=Y;return new Promise((O)=>{let U=async()=>{let A=new hZ({...q,resource:K});if(K.removeEventListener("canplay",U),J.data.preload)await Fs(K);O(VQ(A,Q,Z))};if(q.preload&&!q.autoPlay)K.load();K.addEventListener("canplay",U),K.appendChild(z)})},unload(Z){Z.destroy(!0)}};g();PJ();g();PJ();var mV={extension:{type:T.ResolveParser,name:"resolveTexture"},test:gV.test,parse:(Z)=>({resolution:parseFloat(B6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:Z.split(".").pop(),src:Z})};var jx={extension:{type:T.ResolveParser,priority:-2,name:"resolveJson"},test:(Z)=>B6.RETINA_PREFIX.test(Z)&&Z.endsWith(".json"),parse:mV.parse};PJ();wK();jH();class rM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new B6,this.loader=new Ax,this.cache=v0,this._backgroundLoader=new aM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(Z={}){if(this._initialized){e("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,Z.defaultSearchParams)this.resolver.setDefaultSearchParams(Z.defaultSearchParams);if(Z.basePath)this.resolver.basePath=Z.basePath;if(Z.bundleIdentifier)this.resolver.setBundleIdentifier(Z.bundleIdentifier);if(Z.manifest){let K=Z.manifest;if(typeof K==="string")K=await this.load(K);this.resolver.addManifest(K)}let J=Z.texturePreference?.resolution??1,Q=typeof J==="number"?[J]:J,q=await this._detectFormats({preferredFormats:Z.texturePreference?.format,skipDetections:Z.skipDetections,detections:this._detections});if(this.resolver.prefer({params:{format:q,resolution:Q}}),Z.preferences)this.setPreferences(Z.preferences);if(Z.loadOptions)this.loader.loadOptions={...this.loader.loadOptions,...Z.loadOptions}}add(Z){this.resolver.add(Z)}async load(Z,J){if(!this._initialized)await this.init();let Q=yZ(Z),q=i5(Z).map((z)=>{if(typeof z!=="string"){let Y=this.resolver.getAlias(z);if(Y.some((O)=>!this.resolver.hasKey(O)))this.add(z);return Array.isArray(Y)?Y[0]:Y}if(!this.resolver.hasKey(z))this.add({alias:z,src:z});return z}),K=this.resolver.resolve(q),X=await this._mapLoadToResolve(K,J);return Q?X[q[0]]:X}addBundle(Z,J){this.resolver.addBundle(Z,J)}async loadBundle(Z,J){if(!this._initialized)await this.init();let Q=!1;if(typeof Z==="string")Q=!0,Z=[Z];let q=this.resolver.resolveBundle(Z),K={},X=Object.keys(q),z=0,Y=[],O=()=>{J?.(Y.reduce((A,D)=>A+D,0)/z)},U=X.map((A,D)=>{let _=q[A],W=Object.values(_),C=[...new Set(W.flat())].reduce((R,G)=>R+(G.progressSize||1),0);return Y.push(0),z+=C,this._mapLoadToResolve(_,(R)=>{Y[D]=R*C,O()}).then((R)=>{K[A]=R})});return await Promise.all(U),Q?K[Z[0]]:K}async backgroundLoad(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolve(Z);this._backgroundLoader.add(Object.values(J))}async backgroundLoadBundle(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolveBundle(Z);Object.values(J).forEach((Q)=>{this._backgroundLoader.add(Object.values(Q))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(Z){if(typeof Z==="string")return v0.get(Z);let J={};for(let Q=0;Q<Z.length;Q++)J[Q]=v0.get(Z[Q]);return J}async _mapLoadToResolve(Z,J){let Q=[...new Set(Object.values(Z))];this._backgroundLoader.active=!1;let q=await this.loader.load(Q,J);this._backgroundLoader.active=!0;let K={};return Q.forEach((X)=>{let z=q[X.src],Y=[X.src];if(X.alias)Y.push(...X.alias);Y.forEach((O)=>{K[O]=z}),v0.set(Y,z)}),K}async unload(Z){if(!this._initialized)await this.init();let J=i5(Z).map((q)=>typeof q!=="string"?q.src:q),Q=this.resolver.resolve(J);await this._unloadFromResolved(Q)}async unloadBundle(Z){if(!this._initialized)await this.init();Z=i5(Z);let J=this.resolver.resolveBundle(Z),Q=Object.keys(J).map((q)=>this._unloadFromResolved(J[q]));await Promise.all(Q)}async _unloadFromResolved(Z){let J=Object.values(Z);J.forEach((Q)=>{v0.remove(Q.src)}),await this.loader.unload(J)}async _detectFormats(Z){let J=[];if(Z.preferredFormats)J=Array.isArray(Z.preferredFormats)?Z.preferredFormats:[Z.preferredFormats];for(let Q of Z.detections)if(Z.skipDetections||await Q.test())J=await Q.add(J);else if(!Z.skipDetections)J=await Q.remove(J);return J=J.filter((Q,q)=>J.indexOf(Q)===q),J}get detections(){return this._detections}setPreferences(Z){this.loader.parsers.forEach((J)=>{if(!J.config)return;Object.keys(J.config).filter((Q)=>(Q in Z)).forEach((Q)=>{J.config[Q]=Z[Q]})})}}var nZ=new rM;Z0.handleByList(T.LoadParser,nZ.loader.parsers).handleByList(T.ResolveParser,nZ.resolver.parsers).handleByList(T.CacheParser,nZ.cache.parsers).handleByList(T.DetectionParser,nZ.detections);Z0.add(Xx,Hx,Nx,Ux,Yx,Vx,Ox,Dx,Bx,_x,Mx,gV,Fx,Kx,qx,mV,jx);var wx={loader:T.LoadParser,resolver:T.ResolveParser,cache:T.CacheParser,detection:T.DetectionParser};Z0.handle(T.Asset,(Z)=>{let J=Z.ref;Object.entries(wx).filter(([Q])=>!!J[Q]).forEach(([Q,q])=>Z0.add(Object.assign(J[Q],{extension:J[Q].extension??q})))},(Z)=>{let J=Z.ref;Object.keys(wx).filter((Q)=>!!J[Q]).forEach((Q)=>Z0.remove(J[Q]))});z4();_6();M1();aZ();z4();_6();aZ();Y4();var dV={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]};var Cs=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function Cx(Z){let J=dV[Z],Q=J.length,q=Cs,K="",X="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;",z;for(let Y=0;Y<Z;Y++){let O=X.replace("%index%",Y.toString());if(z=Y,Y>=Q)z=Z-Y-1;O=O.replace("%value%",J[z].toString()),K+=O,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q}function Lx(Z,J){let Q=Math.ceil(Z/2),q=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`,K="",X;if(J)X="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);";else X="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let z=0;z<Z;z++){let Y=X.replace("%index%",z.toString());Y=Y.replace("%sampleIndex%",`${z-(Q-1)}.0`),K+=Y,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q=q.replace("%dimension%",J?"z":"w"),q}function Rx(Z,J){let Q=Lx(J,Z),q=Cx(J);return V5.from({vertex:Q,fragment:q,name:`blur-${Z?"horizontal":"vertical"}-pass-filter`})}z7();var Ex=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function Ix(Z,J){let Q=dV[J],q=Q.length,K=[],X=[],z=[];for(let D=0;D<J;D++){if(K[D]=`@location(${D}) offset${D}: vec2<f32>,`,Z)X[D]=`filteredCord + vec2(${D-q+1} * pixelStrength, 0.0),`;else X[D]=`filteredCord + vec2(0.0, ${D-q+1} * pixelStrength),`;let _=D<q?D:J-D-1,W=Q[_].toString();z[D]=`finalColor += textureSample(uTexture, uSampler, offset${D}) * ${W};`}let Y=K.join(`
`),O=X.join(`
`),U=z.join(`
`),A=Ex.replace("%blur-struct%",Y).replace("%blur-vertex-out%",O).replace("%blur-fragment-in%",Y).replace("%blur-sampling%",U).replace("%dimension%",Z?"z":"w");return O5.from({vertex:{source:A,entryPoint:"mainVertex"},fragment:{source:A,entryPoint:"mainFragment"}})}var Tx=class Z extends W1{constructor(J){J={...Z.defaultOptions,...J};let Q=Rx(J.horizontal,J.kernelSize),q=Ix(J.horizontal,J.kernelSize);super({glProgram:Q,gpuProgram:q,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...J});this.horizontal=J.horizontal,this._quality=0,this.quality=J.quality,this.blur=J.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(J,Q,q,K){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)J.applyFilter(this,Q,q,K);else{let X=n0.getSameSizeTexture(Q),z=Q,Y=X;this._state.blend=!1;let O=J.renderer.type===j1.WEBGPU;for(let U=0;U<this.passes-1;U++){J.applyFilter(this,z,Y,U===0?!0:O);let A=Y;Y=z,z=A}this._state.blend=!0,J.applyFilter(this,z,q,K),n0.returnTexture(X)}}get blur(){return this.strength}set blur(J){this.padding=1+Math.abs(J)*2,this.strength=J}get quality(){return this._quality}set quality(J){this._quality=J,this.passes=J}};Tx.defaultOptions={strength:8,quality:4,kernelSize:5};var cV=Tx;class $Q extends W1{constructor(...Z){let J=Z[0]??{};if(typeof J==="number"){if(q0(Y0,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),J={strength:J},Z[1]!==void 0)J.quality=Z[1];if(Z[2]!==void 0)J.resolution=Z[2]||"inherit";if(Z[3]!==void 0)J.kernelSize=Z[3]}J={...cV.defaultOptions,...J};let{strength:Q,strengthX:q,strengthY:K,quality:X,...z}=J;super({...z,compatibleRenderers:j1.BOTH,resources:{}});this._repeatEdgePixels=!1,this.blurXFilter=new cV({horizontal:!0,...J}),this.blurYFilter=new cV({horizontal:!1,...J}),this.quality=X,this.strengthX=q??Q,this.strengthY=K??Q,this.repeatEdgePixels=!1}apply(Z,J,Q,q){let K=Math.abs(this.blurXFilter.strength),X=Math.abs(this.blurYFilter.strength);if(K&&X){let z=n0.getSameSizeTexture(J);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(Z,J,z,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,z,Q,q),n0.returnTexture(z)}else if(X)this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,J,Q,q);else this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(Z,J,Q,q)}updatePadding(){if(this._repeatEdgePixels)this.padding=0;else this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(Z){this.blurXFilter.blur=this.blurYFilter.blur=Z,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(Z){this.blurXFilter.quality=this.blurYFilter.quality=Z}get strengthX(){return this.blurXFilter.blur}set strengthX(Z){this.blurXFilter.blur=Z,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(Z){this.blurYFilter.blur=Z,this.updatePadding()}get blur(){return q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(Z){q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=Z}get blurX(){return q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(Z){q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=Z}get blurY(){return q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(Z){q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=Z}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(Z){this._repeatEdgePixels=Z,this.updatePadding()}}$Q.defaultOptions={strength:8,quality:4,kernelSize:5};b5();Y4();z7();k5();aZ();g_();var Sx=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`;var eM=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class VX extends W1{constructor(Z={}){let J=new a0({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),Q=O5.from({vertex:{source:eM,entryPoint:"mainVertex"},fragment:{source:eM,entryPoint:"mainFragment"}}),q=V5.from({vertex:RY,fragment:Sx,name:"color-matrix-filter"});super({...Z,gpuProgram:Q,glProgram:q,resources:{colorMatrixUniforms:J}});this.alpha=1}_loadMatrix(Z,J=!1){let Q=Z;if(J)this._multiply(Q,this.matrix,Z),Q=this._colorMatrix(Q);this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Q,this.resources.colorMatrixUniforms.update()}_multiply(Z,J,Q){return Z[0]=J[0]*Q[0]+J[1]*Q[5]+J[2]*Q[10]+J[3]*Q[15],Z[1]=J[0]*Q[1]+J[1]*Q[6]+J[2]*Q[11]+J[3]*Q[16],Z[2]=J[0]*Q[2]+J[1]*Q[7]+J[2]*Q[12]+J[3]*Q[17],Z[3]=J[0]*Q[3]+J[1]*Q[8]+J[2]*Q[13]+J[3]*Q[18],Z[4]=J[0]*Q[4]+J[1]*Q[9]+J[2]*Q[14]+J[3]*Q[19]+J[4],Z[5]=J[5]*Q[0]+J[6]*Q[5]+J[7]*Q[10]+J[8]*Q[15],Z[6]=J[5]*Q[1]+J[6]*Q[6]+J[7]*Q[11]+J[8]*Q[16],Z[7]=J[5]*Q[2]+J[6]*Q[7]+J[7]*Q[12]+J[8]*Q[17],Z[8]=J[5]*Q[3]+J[6]*Q[8]+J[7]*Q[13]+J[8]*Q[18],Z[9]=J[5]*Q[4]+J[6]*Q[9]+J[7]*Q[14]+J[8]*Q[19]+J[9],Z[10]=J[10]*Q[0]+J[11]*Q[5]+J[12]*Q[10]+J[13]*Q[15],Z[11]=J[10]*Q[1]+J[11]*Q[6]+J[12]*Q[11]+J[13]*Q[16],Z[12]=J[10]*Q[2]+J[11]*Q[7]+J[12]*Q[12]+J[13]*Q[17],Z[13]=J[10]*Q[3]+J[11]*Q[8]+J[12]*Q[13]+J[13]*Q[18],Z[14]=J[10]*Q[4]+J[11]*Q[9]+J[12]*Q[14]+J[13]*Q[19]+J[14],Z[15]=J[15]*Q[0]+J[16]*Q[5]+J[17]*Q[10]+J[18]*Q[15],Z[16]=J[15]*Q[1]+J[16]*Q[6]+J[17]*Q[11]+J[18]*Q[16],Z[17]=J[15]*Q[2]+J[16]*Q[7]+J[17]*Q[12]+J[18]*Q[17],Z[18]=J[15]*Q[3]+J[16]*Q[8]+J[17]*Q[13]+J[18]*Q[18],Z[19]=J[15]*Q[4]+J[16]*Q[9]+J[17]*Q[14]+J[18]*Q[19]+J[19],Z}_colorMatrix(Z){let J=new Float32Array(Z);return J[4]/=255,J[9]/=255,J[14]/=255,J[19]/=255,J}brightness(Z,J){let Q=[Z,0,0,0,0,0,Z,0,0,0,0,0,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}tint(Z,J){let[Q,q,K]=j0.shared.setValue(Z).toArray(),X=[Q,0,0,0,0,0,q,0,0,0,0,0,K,0,0,0,0,0,1,0];this._loadMatrix(X,J)}greyscale(Z,J){let Q=[Z,Z,Z,0,0,Z,Z,Z,0,0,Z,Z,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}grayscale(Z,J){this.greyscale(Z,J)}blackAndWhite(Z){let J=[0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}hue(Z,J){Z=(Z||0)/180*Math.PI;let Q=Math.cos(Z),q=Math.sin(Z),K=Math.sqrt,X=0.3333333333333333,z=K(X),Y=Q+(1-Q)*X,O=X*(1-Q)-z*q,U=X*(1-Q)+z*q,A=X*(1-Q)+z*q,D=Q+X*(1-Q),_=X*(1-Q)-z*q,W=X*(1-Q)-z*q,j=X*(1-Q)+z*q,C=Q+X*(1-Q),R=[Y,O,U,0,0,A,D,_,0,0,W,j,C,0,0,0,0,0,1,0];this._loadMatrix(R,J)}contrast(Z,J){let Q=(Z||0)+1,q=-0.5*(Q-1),K=[Q,0,0,0,q,0,Q,0,0,q,0,0,Q,0,q,0,0,0,1,0];this._loadMatrix(K,J)}saturate(Z=0,J){let Q=Z*2/3+1,q=(Q-1)*-0.5,K=[Q,q,q,0,0,q,Q,q,0,0,q,q,Q,0,0,0,0,0,1,0];this._loadMatrix(K,J)}desaturate(){this.saturate(-1)}negative(Z){let J=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(J,Z)}sepia(Z){let J=[0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}technicolor(Z){let J=[1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(J,Z)}polaroid(Z){let J=[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}toBGR(Z){let J=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}kodachrome(Z){let J=[1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(J,Z)}browni(Z){let J=[0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(J,Z)}vintage(Z){let J=[0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(J,Z)}colorTone(Z,J,Q,q,K){Z||(Z=0.2),J||(J=0.15),Q||(Q=16770432),q||(q=3375104);let X=j0.shared,[z,Y,O]=X.setValue(Q).toArray(),[U,A,D]=X.setValue(q).toArray(),_=[0.3,0.59,0.11,0,0,z,Y,O,Z,0,U,A,D,J,0,z-U,Y-A,O-D,0,0];this._loadMatrix(_,K)}night(Z,J){Z||(Z=0.1);let Q=[Z*-2,-Z,0,0,0,-Z,0,Z,0,0,0,Z,Z*2,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}predator(Z,J){let Q=[11.224130630493164*Z,-4.794486999511719*Z,-2.8746118545532227*Z,0*Z,0.40342438220977783*Z,-3.6330697536468506*Z,9.193157196044922*Z,-2.951810836791992*Z,0*Z,-1.316135048866272*Z,-3.2184197902679443*Z,-4.2375030517578125*Z,7.476448059082031*Z,0*Z,0.8044459223747253*Z,0,0,0,1,0];this._loadMatrix(Q,J)}lsd(Z){let J=[2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}reset(){let Z=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(Z,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(Z){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Z}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(Z){this.resources.colorMatrixUniforms.uniforms.uAlpha=Z}}aZ();p0();YB();v6();G_();LH();lK();F5();Z0.add(hv,gv);x5();var ZW=1,JW=8,AQ=32,QW=2;x5();var qW=rQ({}),bx=qW.Provider,vB0=qW.Consumer;function uV(Z,J){let Q=Object.getPrototypeOf(Z),q=Object.getOwnPropertyDescriptor(Q,J);return!(typeof q>"u"||q.writable||q.set)}var C5={currentUpdatePriority:AQ,debug:!1,unmountQueue:new Set};function r(Z,...J){if(!C5.debug)return;let Q=console[Z];if(!(Q instanceof Function)){console.warn(`Attempted to create an invalid log type: "${Z}"`);return}Q("@pixi/react",...J)}function lV(Z,J={}){let Q=Z;return Q.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},J),Q}var Ls="@pixi/react",Rs="0.0.0-development",Es="Write PixiJS applications using React declarative style.",Is=["react","pixi"],Ts="https://github.com/pixijs/pixi-react#readme",Ss={url:"https://github.com/pixijs/pixi-react/issues"},bs={type:"git",url:"git+https://github.com/pixijs/pixi-react.git"},ks="MIT",Ps={".":{import:{types:"./types/index.d.ts",default:"./lib/index.mjs"},require:{types:"./types/index.d.ts",default:"./lib/index.js"}}},vs="lib/index.js",fs="lib/index.mjs",ys="types/index.d.ts",hs=["lib","dist","types"],xs=["docs"],gs={build:"rimraf dist lib types && rollup -c && tsc","build:docs":"npm run --workspace docs build",deploy:"npm run deploy --workspace docs","start:docs":"npm run --workspace docs start",clean:"xs clean",docs:"xs docs",lint:"xs lint","lint:fix":"xs lint --fix",prepare:"husky install",prerelease:"npm run test:lint && npm run build",release:"xs bump,publish,git-push",test:"tsc --project tsconfig.test.json && vitest run","test:e2e":"tsc --project tsconfig.test.json && vitest run e2e","test:unit":"tsc --project tsconfig.test.json && vitest run unit","test:lint":"xs lint","test:watch":"vitest","test:types":"tsc --noEmit --emitDeclarationOnly false"},ms={hooks:{"pre-commit":"lint-staged"}},ds={"its-fine":"^2.0.0","react-reconciler":"0.31.0"},cs={"@pixi/extension-scripts":"^4.0.0","@rollup/plugin-commonjs":"^25.0.8","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@testing-library/jest-dom":"^6.4.8","@testing-library/react":"^16.1.0","@testing-library/user-event":"^14.5.2","@types/react":"^19.0.0","@types/react-reconciler":"^0.28.9","@vitejs/plugin-react":"^4.3.1","@vitest/browser":"^2.0.4","eslint-plugin-react-hooks":"^5.2.0",husky:"^8.0.0",jsdom:"^25.0.0","pixi.js":"8.2.6",playwright:"^1.45.3",react:"^19.0.0","react-dom":"^19.0.0",rollup:"^4.18.0","rollup-plugin-esbuild":"^6.1.1","rollup-plugin-inject-process-env":"^1.3.1","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-sourcemaps":"^0.6.3",typescript:"^5.4.5",vitest:"^2.0.0"},us={"pixi.js":"^8.2.6",react:">=19.0.0"},ls={rollup:"^4.18.0"},ps={access:"public"},is={lint:["test","src","docs"],environments:["node"],docsName:"PixiJS React",docsTitle:"PixiJS React API Documentation",docsDescription:"Documentation for PixiJS React library",docsKeyword:"docs, documentation, pixi, pixijs, react, html5, javascript, jsdoc"},kx={name:Ls,version:Rs,description:Es,keywords:Is,homepage:Ts,bugs:Ss,repository:bs,license:ks,exports:Ps,main:vs,module:fs,types:ys,files:hs,workspaces:xs,scripts:gs,husky:ms,"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix --max-warnings 0"]},dependencies:ds,devDependencies:cs,peerDependencies:us,overrides:ls,publishConfig:ps,extensionConfig:is};function Px(){r("info","lifecycle::afterActiveInstanceBlur")}function pV(Z,J,Q){if(J instanceof W1){if(J.__pixireact.parent=Z,typeof Q==="number")Z.__pixireact.filters.splice(Q,0,J);else Z.__pixireact.filters.push(J);Z.filters=Z.__pixireact.filters}}function iV(Z,J){if(r("info","lifecycle::appendChild"),!J)return;if(J instanceof P0)Z.addChild(J);else if(J instanceof W1)pV(Z,J)}function vx(){r("info","lifecycle::beforeActiveInstanceBlur")}function fx(){return r("info","lifecycle::clearContainer"),!1}var OX=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),oZ=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function yx(Z){return Array.isArray(Z)}function KW(Z,J,Q={arrays:"reference",objects:"reference",strict:!0}){let{arrays:q,objects:K,strict:X}=Q;if(typeof Z!==typeof J||!!Z!==!!J)return!1;if(ns(Z)||as(Z))return Z===J;let z=ss(Z);if(z&&K==="reference")return Z===J;let Y=yx(Z);if(Y&&q==="reference")return Z===J;if((Y||z)&&Z===J)return!0;let O;for(O in Z)if(!(O in J))return!1;let U=Z;if(X)U=J;if(z&&q==="shallow"&&K==="shallow"){for(O in U)if(!KW(Z[O],J[O],{strict:X,objects:"reference"}))return!1}else for(O in U)if(Z[O]!==J[O])return!1;if(XW(O)){if(Y&&Z.length===0&&J.length===0)return!0;if(z&&Object.keys(Z).length===0&&Object.keys(J).length===0)return!0;if(Z!==J)return!1}return!0}function hx(Z){return Z===null}function as(Z){return typeof Z==="number"}function ss(Z){if(Z!==Object(Z))return!1;if(yx(Z))return!1;if(typeof Z==="function")return!1;return!0}function ns(Z){return typeof Z==="string"}function XW(Z){return Z===void 0}var xx=Object.freeze(["children","key","ref"]);function gx(Z,J=[]){let Q={};return Object.entries(Z).reduce((q,[K,X])=>{if(!J.includes(K))q[K]=X;return q},Q)}function UX(Z,J=[]){return gx(Z,xx.concat(J))}var os="__default";function aV(Z,J={},Q=!1){let q=UX(Z),K=UX(J),X=Object.entries(q),z=[];if(Q){let Y=Object.keys(K),O=0;while(O<Y.length){let U=Y[O];if(!(U in q))X.unshift([U,`${os}remove`]);O+=1}}return X.forEach(([Y,O])=>{if(KW(O,K[Y]))return;if(Y in oZ){z.push([Y,O,!0,[]]);return}let U=[];if(Y.includes("-"))U=Y.split("-");z.push([Y,O,!1,U]);for(let A in q){let D=q[A];if(A.startsWith(`${Y}-`))z.push([A,D,!1,A.split("-")])}}),{changes:z}}function mx(Z){let J=Z;if(!J)return!1;if(!J.changes)return!1;return!0}var ts="__default",dx=new Map,cx={};function ux(Z,J){if(Z){let Q=Z[J];if(!XW(Q)&&!hx(Q))return Q}return Z}function sV(Z,J){let{__pixireact:Q={},...q}=Z,K;if(mx(J))K=J;else K=aV(J,q);let{changes:X}=K,z=0;while(z<X.length){let Y=X[z],O=!1,U=Y[0],A=Y[1],D=Y[2],_=Y[3],W=Z,j=W[U];if(U==="draw"&&typeof A==="function")if(Z instanceof c6)A(Z);else O=!0,r("warn",`The \`draw\` prop was used on a \`${Q.type}\` component, but it's only valid on \`graphics\` components.`);if(U in OX){let C=U;if(O=!0,!cx[U])cx[U]=!0,r("warn",`Event names must be pascal case; instead of \`${U}\`, you probably want \`${OX[C]}\`.`)}if(!O){if(_.length){if(j=_.reduce(ux,W),!(j&&j.set)){let[C,...R]=_.reverse();W=R.reverse().reduce(ux,W),U=C}}if(A===`${ts}remove`)if(W instanceof P0){let C=dx.get(W.constructor);if(!C)C=W.constructor,C=new C,dx.set(W.constructor,C);A=C[U]}else A=0;if(D&&Q){let R=oZ[U];if(A)W[R]=A;else delete W[R]}else if(!uV(W,U))W[U]=A}z+=1}return Z}function lx(Z,J,Q,q){r("info","lifecycle::prepareUpdate");let{children:K,...X}=q,{children:z,...Y}=Q,O=aV(X,Y,!0);if(O.changes.length)return O;return null}function px(Z,J,Q,q){r("info","lifecycle::commitUpdate");let K=lx(Z,J,Q,q);if(K)sV(Z,K)}var ix=Object.freeze([...Object.keys(OX),"draw"]);var $X={};function ax(Z){let J=Z.charAt(0),Q=Z.substring(1);return`${J.toUpperCase()}${Q}`}function rs(Z,J){return J.toLowerCase()}function sx(Z){let J=Z;if(Z.startsWith("pixi"))J=Z.replace(/^pixi([A-Z])/,rs);return J}function nx(Z,J,Q){r("info","lifecycle::createInstance");let q=sx(Z),K=ax(q);if(!(K in $X))throw Error(`${K} is not part of the PIXI namespace! Did you forget to extend?`);let X=$X[K],z=UX(J,ix);Object.entries(J).forEach(([O,U])=>{if(O in oZ){let A=oZ[O];z[A]=U}});let Y=lV(new X(z),{root:Q,type:q});return sV(Y,J),Y}var Xg=iQ(Kg(),1),Ng=Xg.default;function zg(Z,J,Q,q){throw r("info","lifecycle::createTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function Hg(){r("info","lifecycle::detachDeletedInstance")}function Yg(){return r("info","lifecycle::finalizeInitialChildren"),!1}var qO={};function Vg(Z){return r("info","lifecycle::getChildHostContext"),Z??qO}function Og(){return r("info","lifecycle::getCurrentUpdatePriority"),C5.currentUpdatePriority}function Ug(){return r("info","lifecycle::getInstanceFromNode"),null}function $g(Z){throw r("info","lifecycle:getInstanceFromScope"),Error("Not yet implemented.")}function Ag(Z){return r("info","lifecycle::getPublicInstance"),Z}function Dg(){return r("info","lifecycle::getRootHostContext"),qO}function Bg(Z){if(Z instanceof P0)Z.visible=!1;else if(Z instanceof W1)Z.enabled=!1}function _g(Z){throw r("info","lifecycle::hideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function KO(Z){if(Z instanceof W1){let J=Z.__pixireact.parent;if(J){let Q=J.__pixireact.filters.indexOf(Z);J.__pixireact.filters.splice(Q,1),J.filters=J.__pixireact.filters}Z.__pixireact.parent=null}}function XO(Z,J,...Q){return}function FW(Z,J,Q){if(r("info","lifecycle::insertBefore"),XO(J!==Q,"Cannot insert node before itself"),J instanceof P0){let q=J,K=J,X=Q;if(q.parent===Z)Z.removeChild(K);let z=Z.getChildIndex(X);Z.addChildAt(K,z)}else if(J instanceof W1){let X=J.__pixireact.filters.indexOf(Q);KO(J),pV(Z,J,X)}}function Mg(){return r("info","lifecycle::maySuspendCommit"),!1}function Wg(){return r("info","lifecycle::preloadInstance"),!0}function Gg(){return r("info","lifecycle::prepareForCommit"),null}function Fg(){r("info","lifecycle::preparePortalMount")}function jg(){r("info","lifecycle::prepareScopeUpdate")}function jW(Z,J){if(r("info","lifecycle::removeChild"),J instanceof W1)KO(J);J.destroy()}function wg(Z){r("info","lifecycle::requestPostPaintCallback")}function Cg(){r("info","lifecycle::resetAfterCommit")}function Lg(){r("info","lifecycle::resetFormInstance")}function Rg(){return r("info","lifecycle::resolveEventTimeStamp"),-1.1}function Eg(){return r("info","lifecycle::resolveEventType"),null}function Ig(){if(r("info","lifecycle::resolveUpdatePriority"),C5.currentUpdatePriority)return C5.currentUpdatePriority;let Z=typeof self<"u"&&self||typeof window<"u"&&window;if(!Z)return AQ;switch(Z.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return QW;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return JW;default:return AQ}}function Tg(Z){r("info","lifecycle::setCurrentUpdatePriority"),C5.currentUpdatePriority=Z}function Sg(){return r("info","lifecycle::shouldAttemptEagerTransition"),!1}function bg(){return r("info","lifecycle::shouldSetTextContent"),!1}function kg(){r("info","lifecycle::startSuspendingCommit")}function Pg(){r("info","lifecycle::suspendInstance")}function vg(){r("info","lifecycle::trackSchedulerEvent")}function fg(Z){if(Z instanceof P0)Z.visible=!0;else if(Z instanceof W1)Z.enabled=!0}function yg(Z){throw r("info","lifecycle::unhideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function hg(){return r("info","lifecycle::waitForCommitToBeReady"),null}var qn={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:Px,appendChild:iV,appendChildToContainer:iV,appendInitialChild:iV,beforeActiveInstanceBlur:vx,cancelTimeout:clearTimeout,clearContainer:fx,commitUpdate:px,createInstance:nx,createTextInstance:zg,hideTextInstance:_g,unhideTextInstance:yg,detachDeletedInstance:Hg,finalizeInitialChildren:Yg,getChildHostContext:Vg,getCurrentUpdatePriority:Og,getInstanceFromNode:Ug,getInstanceFromScope:$g,getPublicInstance:Ag,getRootHostContext:Dg,hideInstance:Bg,insertBefore:FW,insertInContainerBefore:FW,maySuspendCommit:Mg,preloadInstance:Wg,prepareForCommit:Gg,preparePortalMount:Fg,prepareScopeUpdate:jg,removeChild:jW,removeChildFromContainer:jW,requestPostPaintCallback:wg,resetAfterCommit:Cg,resetFormInstance:Lg,resolveEventTimeStamp:Rg,resolveEventType:Eg,resolveUpdatePriority:Ig,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:Sg,setCurrentUpdatePriority:Tg,shouldSetTextContent:bg,startSuspendingCommit:kg,suspendInstance:Pg,trackSchedulerEvent:vg,unhideInstance:fg,waitForCommitToBeReady:hg},DQ=Ng(qn);DQ.injectIntoDevTools({bundleType:0,rendererPackageName:"@pixi/react",version:kx.version});var u6=new Map;function wW(Z,J={}){let Q=u6.get(Z),q=Q?.applicationState??{isInitialised:!1,isInitialising:!1},K=Q?.internalState??{};if(Q)r("warn","createRoot should only be called once!");else q.app=new HX,K.rootContainer=lV(q.app.stage);let X=Q?.fiber??DQ.createContainer(K.rootContainer,ZW,null,!1,null,"",console.error,console.error,console.error,null);if(!Q){let z;if(Z instanceof HTMLCanvasElement)z=Z;if(!z)z=document.createElement("canvas"),Z.innerHTML="",Z.appendChild(z);K.canvas=z,Q={applicationState:q,fiber:X,internalState:K,render:async(O,U)=>{if(!q.app.renderer&&!q.isInitialised&&!q.isInitialising)q.isInitialising=!0,await q.app.init({...U,canvas:z}),q.isInitialising=!1,q.isInitialised=!0,q={...q},J.onInit?.(q.app);return Object.entries(U).forEach(([A,D])=>{let _=A;if(uV(U,_))return;q.app[_]=D}),DQ.updateContainer(y(bx,{value:q,children:O}),X,null,()=>{return}),q.app}},u6.set(z,Q)}return Q}function NO(Z){C5.unmountQueue.delete(Z);let J=Z.fiber;if(J)DQ.updateContainer(null,J,null,()=>{if(Z.applicationState.app)Z.applicationState.app.destroy();u6.delete(Z.internalState.canvas)})}function xg(){for(let Z of C5.unmountQueue)NO(Z)}function gg(Z){let J=u6.get(Z);if(J)if(J.applicationState.isInitialised)NO(J);else C5.unmountQueue.add(J)}function mg(Z){let J=u6.get(Z);if(J)C5.unmountQueue.delete(J)}x5();var BQ=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?BN:Q6;var Kn={...B8.defaultTextStyle},Xn=AN(function(J,Q){let{children:q,className:K,defaultTextStyle:X,extensions:z,onInit:Y,resizeTo:O,...U}=J,A=pE(),D=f7(null),_=f7(null),W=f7(new Set);U$(Q,()=>({getApplication(){return D.current},getCanvas(){return _.current}}));let j=t6(()=>{let R=D.current;if(R)if(O)if("current"in O){if(O.current instanceof HTMLElement)R.resizeTo=O.current}else R.resizeTo=O;else R.resizeTo=void 0},[O]),C=t6((R)=>{xg(),D.current=R,j(),Y?.(R)},[Y]);return BQ(()=>{if(z){let R=[...z],G=W.current;for(let w of G.values()){let L=R.indexOf(w);if(L===-1)Z0.remove(w),G.delete(w);R.splice(L,1)}for(let w in R)Z0.add(w),G.add(w)}},[z]),BQ(()=>{let R=_.current;if(R){let G=u6.get(R);if(!G)G=wW(R,{onInit:C});G.render(y(A,{children:q}),U)}},[U,q,C,O]),BQ(()=>{j()},[O]),BQ(()=>{if(X)Object.assign(B8.defaultTextStyle,X);else Object.assign(B8.defaultTextStyle,Kn)},[X]),Q6(()=>{let R=_.current;if(R)return mg(R),()=>{gg(R)}},[]),y("canvas",{ref:_,className:K})}),CW=AN(function(J,Q){return y(ZH,{children:y(Xn,{ref:Q,...J})})});function zO(Z){Object.assign($X,Z)}x5();x5();x5();var dg=({comparisonSplitPosition:Z,setComparisonSplitPosition:J})=>{return t(c5,{children:[y("div",{className:"absolute top-0 bottom-0 w-0.5 bg-black/50 shadow-lg z-10",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%)"}}),y("div",{className:"absolute top-1/2 -translate-y-1/2 w-12 h-12 bg-black/70 shadow-xl rounded-full cursor-ew-resize z-20 flex items-center justify-center ",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%) translateY(-50%)"},onMouseDown:(Q)=>{Q.preventDefault();let q=Q.clientX,K=Z,X=(Y)=>{let O=Y.clientX-q,U=window.innerWidth,A=O/U*100,D=Math.max(0,Math.min(100,K+A));J(D)},z=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",z)},children:y("span",{className:"text-white text-xl font-bold select-none",children:"< >"})})]})};var cg=({zoom:Z,setZoom:J,rotation:Q,setRotation:q})=>{return t("div",{className:"absolute top-4 right-4 flex gap-2 select-none",children:[t("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J(1),title:"Zoom, click to reset",children:[Math.round(Z*100),"%"]}),y("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.min(K+0.1,5)),children:"+"}),y("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.max(K-0.1,0.1)),children:"-"}),y("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:(K)=>{if(K.ctrlKey)q(0);else q((X)=>(X+90)%360)},title:"Rotate 90 clockwise, ctrl+click to reset",children:""})]})};zO({Container:P0,Sprite:h6,Texture:p,Graphics:c6,BlurFilter:$Q,ColorMatrixFilter:VX});var ug=(Z)=>{let{imageSrc:J,width:Q,height:q,saturation:K,brightness:X,contrast:z,hue:Y,grayscale:O,invert:U,blur:A,showComparison:D=!1}=Z,[_,W]=_0(p.EMPTY),[j,C]=_0(p.EMPTY),R=f7(null),[G,w]=_0(1),[L,I]=_0({x:window.innerWidth/2,y:window.innerHeight/2}),[h,v]=_0(!1),[b,m]=_0({x:0,y:0}),[c,u]=_0(0),[n,N0]=_0(50);Q6(()=>{if(_===p.EMPTY)nZ.load({src:J,parser:"loadTextures"}).then((D0)=>{W(D0),C(D0)}).catch((D0)=>{console.error("Error loading image:",D0)})},[J]);let W0=v7(()=>{let D0=[];if(A>0){let Z5=new $Q;Z5.blur=A,D0.push(Z5)}let G1=new VX;if(Y!==0)G1.hue(Y,!1);if(K!==100)G1.saturate(K/100-1,!1);if(X!==100)G1.brightness(X/100,!1);if(z!==100)G1.contrast(z/100,!1);if(O>0)G1.grayscale(O/100,!1);if(U>0)G1.negative(!1);return D0.push(G1),D0},[Y,K,X,z,O,U,A]),f0=v7(()=>{if(!D)return null;let D0=new c6;return D0.rect(0,0,n/100*window.innerWidth,window.innerHeight),D0.fill(16777215),D0},[D,n,Q,q]),L5=t6((D0)=>{D0.preventDefault();let G1=D0.deltaY>0?0.9:1.1,Z5=Math.max(0.1,Math.min(5,G*G1));w(Z5)},[G]),J0=t6((D0)=>{v(!0),m({x:D0.clientX-L.x,y:D0.clientY-L.y})},[L]),H0=t6((D0)=>{if(h)I({x:D0.clientX-b.x,y:D0.clientY-b.y})},[h,b]),$1=t6(()=>{v(!1)},[]);Q6(()=>{let D0=R.current;if(D0)return D0.addEventListener("wheel",L5,{passive:!1}),()=>D0.removeEventListener("wheel",L5)},[L5]);let A0=t6(()=>{let D0=R.current;if(D0){let{clientWidth:G1,clientHeight:Z5}=D0,o5=G1/Q,t5=Z5/q,r5=Math.min(o5,t5,1);w(r5)}},[]);return Q6(()=>{A0()},[J,A0]),t(c5,{children:[y("div",{className:"relative w-full h-full overflow-hidden cursor-move select-none bg-transparency-grid",ref:R,onMouseDown:J0,onMouseMove:H0,onMouseUp:$1,onMouseLeave:$1,children:y(CW,{backgroundAlpha:0,resolution:window.devicePixelRatio||1,resizeTo:window,children:t("pixiContainer",{x:L.x,y:L.y,scale:G,pivot:{x:Q/2,y:q/2},rotation:c*Math.PI/180,children:[D&&y("pixiSprite",{texture:j,width:Q,height:q,filters:W0}),y("pixiSprite",{texture:_,width:Q,height:q,mask:D?f0:void 0})]})})}),y(cg,{zoom:G,setZoom:w,rotation:c,setRotation:u}),D&&y(dg,{comparisonSplitPosition:n,setComparisonSplitPosition:N0})]})};function lg(){let[Z,J]=_0(!1),[Q,q]=_0(null),[K,X]=_0(null),[z,Y]=_0(null),[O,U]=_0("png"),[A,D]=_0(0.8),[_,W]=_0(null),[j,C]=_0(null),[R,G]=_0(!1),[w,L]=_0(!1),[I,h]=_0("info"),[v,b]=_0(!1),[m,c]=_0(0),[u,n]=_0(100),[N0,W0]=_0(100),[f0,L5]=_0(100),[J0,H0]=_0(0),[$1,A0]=_0(0),[D0,G1]=_0(0),[Z5,o5]=_0(0),[t5,r5]=_0(100),[W8,P5]=_0(0),[$7,u8]=_0(0),[l8,G8]=_0(!0),v5=async(Q1)=>{J(!0);let H1={fileSize:Q1.size,dimensions:null,lastModified:new Date(Q1.lastModified),exif:null,format:Q1.type.split("/")[1]||"unknown",name:Q1.name};try{H1.exif=await FJ(Q1)}catch(j6){console.log("No EXIF data or error parsing:",j6)}let $5=new Image;$5.onload=()=>{H1.dimensions={width:$5.naturalWidth,height:$5.naturalHeight},X({...H1}),P5($5.naturalWidth),u8($5.naturalHeight);let j6=new RZ;try{let l6=j6.getPalette($5,32,5);Y(l6)}catch(l6){console.log("Error extracting palette:",l6)}J(!1)},$5.src=URL.createObjectURL(Q1),X(H1)},f5=(Q1)=>{if(Q1&&Q1.type.startsWith("image/")){let H1=URL.createObjectURL(Q1);q(H1),W(null),C(null),v5(Q1)}},e5=(Q1)=>{let H1=Q1.target.files?.[0];if(H1)f5(H1)},F8=(Q1)=>{Q1.preventDefault(),G(!1);let H1=Q1.dataTransfer.files[0];if(H1)f5(H1)},p8=(Q1)=>{Q1.preventDefault(),G(!0)},S9=()=>{G(!1)};return t("div",{className:"h-dvh w-screen relative overflow-x-hidden",children:[y(SE,{isOpen:w,onToggle:()=>L(!w)}),Q&&y(gE,{clearImage:()=>{q(null),X(null),Y(null),W(null),C(null),c(0),n(100),W0(100),L5(100),o5(0),r5(100),P5(0),u8(0),G8(!0)}}),y(kE,{isOpen:w,activeSection:I,onSectionChange:h,onClose:()=>L(!1)}),Q&&t(mE,{toolDrawerOpen:v,setToolDrawerOpen:b,activeSection:I,children:[I==="info"&&K&&y(vE,{imageInfo:K}),I==="palette"&&z&&y(fE,{palette:z}),I==="optimization"&&y(yE,{convertFormat:O,setConvertFormat:U,compressionValue:A,setCompressionValue:D,onOptimize:()=>{if(!Q)return;let Q1=document.createElement("canvas"),H1=new Image;H1.onload=()=>{Q1.width=H1.naturalWidth,Q1.height=H1.naturalHeight,Q1.getContext("2d")?.drawImage(H1,0,0),Q1.toBlob((j6)=>{if(j6){let l6=URL.createObjectURL(j6);W(l6),C(j6.size)}},`image/${O}`,A)},H1.src=Q},onDownload:()=>{let Q1=_||Q;if(!Q1)return;let H1=document.createElement("canvas"),$5=new Image;$5.onload=()=>{H1.width=$5.naturalWidth,H1.height=$5.naturalHeight,H1.getContext("2d")?.drawImage($5,0,0),H1.toBlob((l6)=>{if(l6){let tZ=URL.createObjectURL(l6),_Q=document.createElement("a");_Q.href=tZ,_Q.download=`optimized.${O}`,_Q.click(),URL.revokeObjectURL(tZ)}},`image/${O}`,O==="png"?void 0:A)},$5.src=Q1},optimizedImage:_,imageInfo:K,optimizedSize:j}),I==="filters"&&y(xE,{hue:m,setHue:c,saturation:u,setSaturation:n,brightness:N0,setBrightness:W0,contrast:f0,setContrast:L5,grayscale:J0,setGrayscale:H0,invert:$1,setInvert:A0,blur:D0,setBlur:G1,onReset:()=>{c(0),n(100),W0(100),L5(100),H0(0),A0(0),G1(0)}}),I==="transform"&&y(dE,{scale:t5,setScale:r5,width:W8,setWidth:P5,height:$7,setHeight:u8,keepAspectRatio:l8,setKeepAspectRatio:G8,originalWidth:K?.dimensions?.width||0,originalHeight:K?.dimensions?.height||0,onReset:()=>{r5(100),P5(K?.dimensions?.width||0),u8(K?.dimensions?.height||0),G8(!0)}})]}),!Q&&y(bE,{isDragOver:R,onFileChange:e5,onDrop:F8,onDragOver:p8,onDragLeave:S9}),Q&&Z&&y(cE,{message:"Loading image..."}),Q&&!Z&&y(ug,{imageSrc:Q,showComparison:m!==0||u!==100||N0!==100||f0!==100||J0!==0||$1!==0||D0!==0||Z5!==0||t5!==100,width:W8,height:$7,saturation:u,brightness:N0,contrast:f0,hue:m,grayscale:J0,invert:$1,blur:D0})]})}function pg(){ig.createRoot(document.getElementById("root")).render(y(lg,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",pg);else pg();

//# debugId=2C9FC0575CF698B064756E2164756E21
//# sourceMappingURL=chunk-cd155w8w.js.map
