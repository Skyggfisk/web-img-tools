var od=Object.create;var{getPrototypeOf:td,defineProperty:gU,getOwnPropertyNames:rd}=Object;var ed=Object.prototype.hasOwnProperty;var dQ=(Z,J,Q)=>{Q=Z!=null?od(td(Z)):{};let q=J||!Z||!Z.__esModule?gU(Q,"default",{value:Z,enumerable:!0}):Q;for(let K of rd(Z))if(!ed.call(q,K))gU(q,K,{get:()=>Z[K],enumerable:!0});return q};var cQ=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var JN=(Z,J)=>{for(var Q in J)gU(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(q)=>J[Q]=()=>q})};var j=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var Xj=((Z)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Z,{get:(J,Q)=>(typeof require<"u"?require:J)[Q]}):Z)(function(Z){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+Z+'" is not supported')});function dU(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<QN(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function p6(Z){return Z.length===0?null:Z[0]}function zN(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var z=2*(q+1)-1,Y=Z[z],O=z+1,U=Z[O];if(0>QN(Y,Q))O<K&&0>QN(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[z]=Q,q=z);else if(O<K&&0>QN(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function QN(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function XN(Z){for(var J=p6(S7);J!==null;){if(J.callback===null)zN(S7);else if(J.startTime<=Z)zN(S7),J.sortIndex=J.expirationTime,dU(T4,J);else break;J=p6(S7)}}function aU(Z){if(lQ=!1,XN(Z),!uQ)if(p6(T4)!==null)uQ=!0,W2||(W2=!0,M2());else{var J=p6(S7);J!==null&&sU(aU,J.startTime-Z)}}function Vj(){return iU?!0:i6()-Yj<Jc?!1:!0}function mU(){if(iU=!1,W2){var Z=i6();Yj=Z;var J=!0;try{Z:{uQ=!1,lQ&&(lQ=!1,Hj(pQ),pQ=-1),lU=!0;var Q=KN;try{J:{XN(Z);for(t8=p6(T4);t8!==null&&!(t8.expirationTime>Z&&Vj());){var q=t8.callback;if(typeof q==="function"){t8.callback=null,KN=t8.priorityLevel;var K=q(t8.expirationTime<=Z);if(Z=i6(),typeof K==="function"){t8.callback=K,XN(Z),J=!0;break J}t8===p6(T4)&&zN(T4),XN(Z)}else zN(T4);t8=p6(T4)}if(t8!==null)J=!0;else{var X=p6(S7);X!==null&&sU(aU,X.startTime-Z),J=!1}}break Z}finally{t8=null,KN=Q,lU=!1}J=void 0}}finally{J?M2():W2=!1}}}function sU(Z,J){pQ=zj(function(){Z(i6())},J)}var i6=void 0,cU,qN,uU,T4,S7,Zc=1,t8=null,KN=3,lU=!1,uQ=!1,lQ=!1,iU=!1,zj,Hj,Nj,W2=!1,pQ=-1,Jc=5,Yj=-1,M2,NN,pU,nU=5,oU=1,tU=4,G2=3,rU=2,eU=function(Z){Z.callback=null},Z$=function(){return KN},J$=function(){iU=!0},F2=function(Z,J,Q){var q=i6();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:Zc++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,dU(S7,Z),p6(T4)===null&&Z===p6(S7)&&(lQ?(Hj(pQ),pQ=-1):lQ=!0,sU(aU,Q-q))):(Z.sortIndex=K,dU(T4,Z),uQ||lU||(uQ=!0,W2||(W2=!0,M2()))),Z},Q$;var Oj=j(()=>{if(typeof performance==="object"&&typeof performance.now==="function")cU=performance,i6=function(){return cU.now()};else qN=Date,uU=qN.now(),i6=function(){return qN.now()-uU};T4=[],S7=[],zj=typeof setTimeout==="function"?setTimeout:null,Hj=typeof clearTimeout==="function"?clearTimeout:null,Nj=typeof setImmediate<"u"?setImmediate:null;if(typeof Nj==="function")M2=function(){Nj(mU)};else if(typeof MessageChannel<"u")NN=new MessageChannel,pU=NN.port2,NN.port1.onmessage=mU,M2=function(){pU.postMessage(null)};else M2=function(){zj(mU,0)};Q$=Vj});function j2(Z,J,Q){this.props=Z,this.context=J,this.refs=$j,this.updater=Q||Uj}function Aj(){}function Dj(Z,J,Q){this.props=Z,this.context=J,this.refs=$j,this.updater=Q||Uj}function Yc(Z,J,Q){var q=Q.ref;return{$$typeof:qc,type:Z,key:J,ref:q!==void 0?q:null,props:Q}}var qc,Kc,Xc,Nc,Uj,zc,$j,q$,w6,Hc,K$,i9,aQ=function(Z){return Z={$$typeof:Xc,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:Kc,_context:Z},Z},w2=function(Z,J,Q){var q,K={},X=null;if(J!=null)for(q in J.key!==void 0&&(X=""+J.key),J)Hc.call(J,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(K[q]=J[q]);var z=arguments.length-2;if(z===1)K.children=Q;else if(1<z){for(var Y=Array(z),O=0;O<z;O++)Y[O]=arguments[O+2];K.children=Y}if(Z&&Z.defaultProps)for(q in z=Z.defaultProps,z)K[q]===void 0&&(K[q]=z[q]);return Yc(Z,X,K)},HN=function(Z){return{$$typeof:Nc,render:Z}},X$=function(Z){return w6.H.use(Z)},a6=function(Z,J){return w6.H.useCallback(Z,J)},YN=function(Z){return w6.H.useContext(Z)},r8=function(Z,J){return w6.H.useEffect(Z,J)},N$=function(){return w6.H.useId()},z$=function(Z,J,Q){return w6.H.useImperativeHandle(Z,J,Q)},VN=function(Z,J){return w6.H.useLayoutEffect(Z,J)},b7=function(Z,J){return w6.H.useMemo(Z,J)},k7=function(Z){return w6.H.useRef(Z)},C0=function(Z){return w6.H.useState(Z)},H$="19.2.0";var m5=j(()=>{qc=Symbol.for("react.transitional.element"),Kc=Symbol.for("react.consumer"),Xc=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),Uj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,$j={};j2.prototype.isReactComponent={};j2.prototype.setState=function(Z,J){if(typeof Z!=="object"&&typeof Z!=="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,J,"setState")};j2.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};Aj.prototype=j2.prototype;q$=Dj.prototype=new Aj;q$.constructor=Dj;zc(q$,j2.prototype);q$.isPureReactComponent=!0;w6={H:null,A:null,T:null,S:null},Hc=Object.prototype.hasOwnProperty;K$=j2,i9=w6});var Y$={};JN(Y$,{version:()=>Sj,useFormStatus:()=>Tj,useFormState:()=>Ij,unstable_batchedUpdates:()=>Ej,requestFormReset:()=>Rj,preloadModule:()=>Lj,preload:()=>Cj,preinitModule:()=>wj,preinit:()=>jj,prefetchDNS:()=>Fj,preconnect:()=>Gj,flushSync:()=>Wj,createPortal:()=>Mj,__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE:()=>_j});function Bj(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function P7(){}function Oc(Z,J,Q){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vc,key:q==null?null:""+q,children:Z,containerInfo:J,implementation:Q}}function ON(Z,J){if(Z==="font")return"";if(typeof J==="string")return J==="use-credentials"?J:""}var d5,Vc,sQ,_j,Mj=function(Z,J){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)throw Error(Bj(299));return Oc(Z,J,null,Q)},Wj=function(Z){var J=sQ.T,Q=d5.p;try{if(sQ.T=null,d5.p=2,Z)return Z()}finally{sQ.T=J,d5.p=Q,d5.d.f()}},Gj=function(Z,J){typeof Z==="string"&&(J?(J=J.crossOrigin,J=typeof J==="string"?J==="use-credentials"?J:"":void 0):J=null,d5.d.C(Z,J))},Fj=function(Z){typeof Z==="string"&&d5.d.D(Z)},jj=function(Z,J){if(typeof Z==="string"&&J&&typeof J.as==="string"){var Q=J.as,q=ON(Q,J.crossOrigin),K=typeof J.integrity==="string"?J.integrity:void 0,X=typeof J.fetchPriority==="string"?J.fetchPriority:void 0;Q==="style"?d5.d.S(Z,typeof J.precedence==="string"?J.precedence:void 0,{crossOrigin:q,integrity:K,fetchPriority:X}):Q==="script"&&d5.d.X(Z,{crossOrigin:q,integrity:K,fetchPriority:X,nonce:typeof J.nonce==="string"?J.nonce:void 0})}},wj=function(Z,J){if(typeof Z==="string")if(typeof J==="object"&&J!==null){if(J.as==null||J.as==="script"){var Q=ON(J.as,J.crossOrigin);d5.d.M(Z,{crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0})}}else J==null&&d5.d.M(Z)},Cj=function(Z,J){if(typeof Z==="string"&&typeof J==="object"&&J!==null&&typeof J.as==="string"){var Q=J.as,q=ON(Q,J.crossOrigin);d5.d.L(Z,Q,{crossOrigin:q,integrity:typeof J.integrity==="string"?J.integrity:void 0,nonce:typeof J.nonce==="string"?J.nonce:void 0,type:typeof J.type==="string"?J.type:void 0,fetchPriority:typeof J.fetchPriority==="string"?J.fetchPriority:void 0,referrerPolicy:typeof J.referrerPolicy==="string"?J.referrerPolicy:void 0,imageSrcSet:typeof J.imageSrcSet==="string"?J.imageSrcSet:void 0,imageSizes:typeof J.imageSizes==="string"?J.imageSizes:void 0,media:typeof J.media==="string"?J.media:void 0})}},Lj=function(Z,J){if(typeof Z==="string")if(J){var Q=ON(J.as,J.crossOrigin);d5.d.m(Z,{as:typeof J.as==="string"&&J.as!=="script"?J.as:void 0,crossOrigin:Q,integrity:typeof J.integrity==="string"?J.integrity:void 0})}else d5.d.m(Z)},Rj=function(Z){d5.d.r(Z)},Ej=function(Z,J){return Z(J)},Ij=function(Z,J,Q){return sQ.H.useFormState(Z,J,Q)},Tj=function(){return sQ.H.useHostTransitionStatus()},Sj="19.2.0";var bj=j(()=>{m5();d5={d:{f:P7,r:function(){throw Error(Bj(522))},D:P7,C:P7,L:P7,m:P7,X:P7,S:P7,M:P7},p:0,findDOMNode:null},Vc=Symbol.for("react.portal");sQ=i9;_j=d5});var vj=cQ((Hn,Pj)=>{bj();function kj(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kj)}catch(Z){console.error(Z)}}kj(),Pj.exports=Y$});var f3={};JN(f3,{version:()=>iR,hydrateRoot:()=>pR,createRoot:()=>lR});function l(Z){var J="https://react.dev/errors/"+Z;if(1<arguments.length){J+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)J+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+Z+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function XC(Z){return!(!Z||Z.nodeType!==1&&Z.nodeType!==9&&Z.nodeType!==11)}function hq(Z){var J=Z,Q=Z;if(Z.alternate)for(;J.return;)J=J.return;else{Z=J;do J=Z,(J.flags&4098)!==0&&(Q=J.return),Z=J.return;while(Z)}return J.tag===3?Q:null}function NC(Z){if(Z.tag===13){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function zC(Z){if(Z.tag===31){var J=Z.memoizedState;if(J===null&&(Z=Z.alternate,Z!==null&&(J=Z.memoizedState)),J!==null)return J.dehydrated}return null}function fj(Z){if(hq(Z)!==Z)throw Error(l(188))}function Uc(Z){var J=Z.alternate;if(!J){if(J=hq(Z),J===null)throw Error(l(188));return J!==Z?null:Z}for(var Q=Z,q=J;;){var K=Q.return;if(K===null)break;var X=K.alternate;if(X===null){if(q=K.return,q!==null){Q=q;continue}break}if(K.child===X.child){for(X=K.child;X;){if(X===Q)return fj(K),Z;if(X===q)return fj(K),J;X=X.sibling}throw Error(l(188))}if(Q.return!==q.return)Q=K,q=X;else{for(var z=!1,Y=K.child;Y;){if(Y===Q){z=!0,Q=K,q=X;break}if(Y===q){z=!0,q=K,Q=X;break}Y=Y.sibling}if(!z){for(Y=X.child;Y;){if(Y===Q){z=!0,Q=X,q=K;break}if(Y===q){z=!0,q=X,Q=K;break}Y=Y.sibling}if(!z)throw Error(l(189))}}if(Q.alternate!==q)throw Error(l(190))}if(Q.tag!==3)throw Error(l(188));return Q.stateNode.current===Q?Z:J}function HC(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z;for(Z=Z.child;Z!==null;){if(J=HC(Z),J!==null)return J;Z=Z.sibling}return null}function nQ(Z){if(Z===null||typeof Z!=="object")return null;return Z=yj&&Z[yj]||Z["@@iterator"],typeof Z==="function"?Z:null}function i$(Z){if(Z==null)return null;if(typeof Z==="function")return Z.$$typeof===Dc?null:Z.displayName||Z.name||null;if(typeof Z==="string")return Z;switch(Z){case T2:return"Fragment";case c$:return"Profiler";case YC:return"StrictMode";case u$:return"Suspense";case l$:return"SuspenseList";case p$:return"Activity"}if(typeof Z==="object")switch(Z.$$typeof){case Jq:return"Portal";case h4:return Z.displayName||"Context";case VC:return(Z._context.displayName||"Context")+".Consumer";case gA:var J=Z.render;return Z=Z.displayName,Z||(Z=J.displayName||J.name||"",Z=Z!==""?"ForwardRef("+Z+")":"ForwardRef"),Z;case mA:return J=Z.displayName||null,J!==null?J:i$(Z.type)||"Memo";case v7:J=Z._payload,Z=Z._init;try{return i$(Z(J))}catch(Q){}}return null}function r6(Z){return{current:Z}}function Y5(Z){0>S2||(Z.current=a$[S2],a$[S2]=null,S2--)}function U1(Z,J){S2++,a$[S2]=Z.current,Z.current=J}function uN(Z,J){switch(U1(p7,J),U1(wq,Z),U1(t6,null),J.nodeType){case 9:case 11:Z=(Z=J.documentElement)?(Z=Z.namespaceURI)?dw(Z):0:0;break;default:if(Z=J.tagName,J=J.namespaceURI)J=dw(J),Z=SR(J,Z);else switch(Z){case"svg":Z=1;break;case"math":Z=2;break;default:Z=0}}Y5(t6),U1(t6,Z)}function s2(){Y5(t6),Y5(wq),Y5(p7)}function s$(Z){Z.memoizedState!==null&&U1(cN,Z);var J=t6.current,Q=SR(J,Z.type);J!==Q&&(U1(wq,Z),U1(t6,Q))}function lN(Z){wq.current===Z&&(Y5(t6),Y5(wq)),cN.current===Z&&(Y5(cN),vq._currentValue=e9)}function s9(Z){if(V$===void 0)try{throw Error()}catch(Q){var J=Q.stack.trim().match(/\n( *(at )?)/);V$=J&&J[1]||"",hj=-1<Q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V$+Z+hj}function U$(Z,J){if(!Z||O$)return"";O$=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var q={DetermineComponentFrameRoot:function(){try{if(J){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(W){var _=W}Reflect.construct(Z,[],B)}else{try{B.call()}catch(W){_=W}Z.call(B.prototype)}}else{try{throw Error()}catch(W){_=W}(B=Z())&&typeof B.catch==="function"&&B.catch(function(){})}}catch(W){if(W&&_&&typeof W.stack==="string")return[W.stack,_.stack]}return[null,null]}};q.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(q.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(q.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=q.DetermineComponentFrameRoot(),z=X[0],Y=X[1];if(z&&Y){var O=z.split(`
`),U=Y.split(`
`);for(K=q=0;q<O.length&&!O[q].includes("DetermineComponentFrameRoot");)q++;for(;K<U.length&&!U[K].includes("DetermineComponentFrameRoot");)K++;if(q===O.length||K===U.length)for(q=O.length-1,K=U.length-1;1<=q&&0<=K&&O[q]!==U[K];)K--;for(;1<=q&&0<=K;q--,K--)if(O[q]!==U[K]){if(q!==1||K!==1)do if(q--,K--,0>K||O[q]!==U[K]){var A=`
`+O[q].replace(" at new "," at ");return Z.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",Z.displayName)),A}while(1<=q&&0<=K);break}}}finally{O$=!1,Error.prepareStackTrace=Q}return(Q=Z?Z.displayName||Z.name:"")?s9(Q):""}function Bc(Z,J){switch(Z.tag){case 26:case 27:case 5:return s9(Z.type);case 16:return s9("Lazy");case 13:return Z.child!==J&&J!==null?s9("Suspense Fallback"):s9("Suspense");case 19:return s9("SuspenseList");case 0:case 15:return U$(Z.type,!1);case 11:return U$(Z.type.render,!1);case 1:return U$(Z.type,!0);case 31:return s9("Activity");default:return""}}function xj(Z){try{var J="",Q=null;do J+=Bc(Z,Q),Q=Z,Z=Z.return;while(Z);return J}catch(q){return`
Error generating stack: `+q.message+`
`+q.stack}}function m7(Z){if(typeof Fc==="function"&&jc(Z),y8&&typeof y8.setStrictMode==="function")try{y8.setStrictMode(xq,Z)}catch(J){}}function Lc(Z){return Z>>>=0,Z===0?32:31-(wc(Z)/Cc|0)|0}function n9(Z){var J=Z&42;if(J!==0)return J;switch(Z&-Z){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Z&261888;case 262144:case 524288:case 1048576:case 2097152:return Z&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Z&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Z}}function _z(Z,J,Q){var q=Z.pendingLanes;if(q===0)return 0;var K=0,X=Z.suspendedLanes,z=Z.pingedLanes;Z=Z.warmLanes;var Y=q&134217727;return Y!==0?(q=Y&~X,q!==0?K=n9(q):(z&=Y,z!==0?K=n9(z):Q||(Q=Y&~Z,Q!==0&&(K=n9(Q))))):(Y=q&~X,Y!==0?K=n9(Y):z!==0?K=n9(z):Q||(Q=q&~Z,Q!==0&&(K=n9(Q)))),K===0?0:J!==0&&J!==K&&(J&X)===0&&(X=K&-K,Q=J&-J,X>=Q||X===32&&(Q&4194048)!==0)?J:K}function gq(Z,J){return(Z.pendingLanes&~(Z.suspendedLanes&~Z.pingedLanes)&J)===0}function Rc(Z,J){switch(Z){case 1:case 2:case 4:case 8:case 64:return J+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return J+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AC(){var Z=DN;return DN<<=1,(DN&62914560)===0&&(DN=4194304),Z}function A$(Z){for(var J=[],Q=0;31>Q;Q++)J.push(Z);return J}function mq(Z,J){Z.pendingLanes|=J,J!==268435456&&(Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0)}function Ec(Z,J,Q,q,K,X){var z=Z.pendingLanes;Z.pendingLanes=Q,Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0,Z.expiredLanes&=Q,Z.entangledLanes&=Q,Z.errorRecoveryDisabledLanes&=Q,Z.shellSuspendCounter=0;var{entanglements:Y,expirationTimes:O,hiddenUpdates:U}=Z;for(Q=z&~Q;0<Q;){var A=31-h8(Q),B=1<<A;Y[A]=0,O[A]=-1;var _=U[A];if(_!==null)for(U[A]=null,A=0;A<_.length;A++){var W=_[A];W!==null&&(W.lane&=-536870913)}Q&=~B}q!==0&&DC(Z,q,0),X!==0&&K===0&&Z.tag!==0&&(Z.suspendedLanes|=X&~(z&~J))}function DC(Z,J,Q){Z.pendingLanes|=J,Z.suspendedLanes&=~J;var q=31-h8(J);Z.entangledLanes|=J,Z.entanglements[q]=Z.entanglements[q]|1073741824|Q&261930}function BC(Z,J){var Q=Z.entangledLanes|=J;for(Z=Z.entanglements;Q;){var q=31-h8(Q),K=1<<q;K&J|Z[q]&J&&(Z[q]|=J),Q&=~K}}function _C(Z,J){var Q=J&-J;return Q=(Q&42)!==0?1:cA(Q),(Q&(Z.suspendedLanes|J))!==0?0:Q}function cA(Z){switch(Z){case 2:Z=1;break;case 8:Z=4;break;case 32:Z=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Z=128;break;case 268435456:Z=134217728;break;default:Z=0}return Z}function uA(Z){return Z&=-Z,2<Z?8<Z?(Z&134217727)!==0?32:268435456:8:2}function MC(){var Z=p0.p;if(Z!==0)return Z;return Z=window.event,Z===void 0?32:dR(Z.type)}function gj(Z,J){var Q=p0.p;try{return p0.p=Z,J()}finally{p0.p=Q}}function lA(Z){delete Z[G5],delete Z[H8],delete Z[o$],delete Z[Ic],delete Z[Tc]}function b2(Z){var J=Z[G5];if(J)return J;for(var Q=Z.parentNode;Q;){if(J=Q[XJ]||Q[G5]){if(Q=J.alternate,J.child!==null||Q!==null&&Q.child!==null)for(Z=iw(Z);Z!==null;){if(Q=Z[G5])return Q;Z=iw(Z)}return J}Z=Q,Q=Z.parentNode}return null}function NJ(Z){if(Z=Z[G5]||Z[XJ]){var J=Z.tag;if(J===5||J===6||J===13||J===31||J===26||J===27||J===3)return Z}return null}function qq(Z){var J=Z.tag;if(J===5||J===26||J===27||J===6)return Z.stateNode;throw Error(l(33))}function d2(Z){var J=Z[mj];return J||(J=Z[mj]={hoistableStyles:new Map,hoistableScripts:new Map}),J}function H5(Z){Z[dq]=!0}function YZ(Z,J){n2(Z,J),n2(Z+"Capture",J)}function n2(Z,J){GC[Z]=J;for(Z=0;Z<J.length;Z++)WC.add(J[Z])}function bc(Z){if(n$.call(cj,Z))return!0;if(n$.call(dj,Z))return!1;if(Sc.test(Z))return cj[Z]=!0;return dj[Z]=!0,!1}function RN(Z,J,Q){if(bc(J))if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":Z.removeAttribute(J);return;case"boolean":var q=J.toLowerCase().slice(0,5);if(q!=="data-"&&q!=="aria-"){Z.removeAttribute(J);return}}Z.setAttribute(J,""+Q)}}function BN(Z,J,Q){if(Q===null)Z.removeAttribute(J);else{switch(typeof Q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(J);return}Z.setAttribute(J,""+Q)}}function S4(Z,J,Q,q){if(q===null)Z.removeAttribute(Q);else{switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":Z.removeAttribute(Q);return}Z.setAttributeNS(J,Q,""+q)}}function Z6(Z){switch(typeof Z){case"bigint":case"boolean":case"number":case"string":case"undefined":return Z;case"object":return Z;default:return""}}function FC(Z){var J=Z.type;return(Z=Z.nodeName)&&Z.toLowerCase()==="input"&&(J==="checkbox"||J==="radio")}function kc(Z,J,Q){var q=Object.getOwnPropertyDescriptor(Z.constructor.prototype,J);if(!Z.hasOwnProperty(J)&&typeof q<"u"&&typeof q.get==="function"&&typeof q.set==="function"){var{get:K,set:X}=q;return Object.defineProperty(Z,J,{configurable:!0,get:function(){return K.call(this)},set:function(z){Q=""+z,X.call(this,z)}}),Object.defineProperty(Z,J,{enumerable:q.enumerable}),{getValue:function(){return Q},setValue:function(z){Q=""+z},stopTracking:function(){Z._valueTracker=null,delete Z[J]}}}}function t$(Z){if(!Z._valueTracker){var J=FC(Z)?"checked":"value";Z._valueTracker=kc(Z,J,""+Z[J])}}function jC(Z){if(!Z)return!1;var J=Z._valueTracker;if(!J)return!0;var Q=J.getValue(),q="";return Z&&(q=FC(Z)?Z.checked?"true":"false":Z.value),Z=q,Z!==Q?(J.setValue(Z),!0):!1}function iN(Z){if(Z=Z||(typeof document<"u"?document:void 0),typeof Z>"u")return null;try{return Z.activeElement||Z.body}catch(J){return Z.body}}function q6(Z){return Z.replace(Pc,function(J){return"\\"+J.charCodeAt(0).toString(16)+" "})}function r$(Z,J,Q,q,K,X,z,Y){if(Z.name="",z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"?Z.type=z:Z.removeAttribute("type"),J!=null)if(z==="number"){if(J===0&&Z.value===""||Z.value!=J)Z.value=""+Z6(J)}else Z.value!==""+Z6(J)&&(Z.value=""+Z6(J));else z!=="submit"&&z!=="reset"||Z.removeAttribute("value");J!=null?e$(Z,z,Z6(J)):Q!=null?e$(Z,z,Z6(Q)):q!=null&&Z.removeAttribute("value"),K==null&&X!=null&&(Z.defaultChecked=!!X),K!=null&&(Z.checked=K&&typeof K!=="function"&&typeof K!=="symbol"),Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&typeof Y!=="boolean"?Z.name=""+Z6(Y):Z.removeAttribute("name")}function wC(Z,J,Q,q,K,X,z,Y){if(X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&typeof X!=="boolean"&&(Z.type=X),J!=null||Q!=null){if(!(X!=="submit"&&X!=="reset"||J!==void 0&&J!==null)){t$(Z);return}Q=Q!=null?""+Z6(Q):"",J=J!=null?""+Z6(J):Q,Y||J===Z.value||(Z.value=J),Z.defaultValue=J}q=q!=null?q:K,q=typeof q!=="function"&&typeof q!=="symbol"&&!!q,Z.checked=Y?Z.checked:!!q,Z.defaultChecked=!!q,z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"&&(Z.name=z),t$(Z)}function e$(Z,J,Q){J==="number"&&iN(Z.ownerDocument)===Z||Z.defaultValue===""+Q||(Z.defaultValue=""+Q)}function c2(Z,J,Q,q){if(Z=Z.options,J){J={};for(var K=0;K<Q.length;K++)J["$"+Q[K]]=!0;for(Q=0;Q<Z.length;Q++)K=J.hasOwnProperty("$"+Z[Q].value),Z[Q].selected!==K&&(Z[Q].selected=K),K&&q&&(Z[Q].defaultSelected=!0)}else{Q=""+Z6(Q),J=null;for(K=0;K<Z.length;K++){if(Z[K].value===Q){Z[K].selected=!0,q&&(Z[K].defaultSelected=!0);return}J!==null||Z[K].disabled||(J=Z[K])}J!==null&&(J.selected=!0)}}function CC(Z,J,Q){if(J!=null&&(J=""+Z6(J),J!==Z.value&&(Z.value=J),Q==null)){Z.defaultValue!==J&&(Z.defaultValue=J);return}Z.defaultValue=Q!=null?""+Z6(Q):""}function LC(Z,J,Q,q){if(J==null){if(q!=null){if(Q!=null)throw Error(l(92));if(Qq(q)){if(1<q.length)throw Error(l(93));q=q[0]}Q=q}Q==null&&(Q=""),J=Q}Q=Z6(J),Z.defaultValue=Q,q=Z.textContent,q===Q&&q!==""&&q!==null&&(Z.value=q),t$(Z)}function o2(Z,J){if(J){var Q=Z.firstChild;if(Q&&Q===Z.lastChild&&Q.nodeType===3){Q.nodeValue=J;return}}Z.textContent=J}function uj(Z,J,Q){var q=J.indexOf("--")===0;Q==null||typeof Q==="boolean"||Q===""?q?Z.setProperty(J,""):J==="float"?Z.cssFloat="":Z[J]="":q?Z.setProperty(J,Q):typeof Q!=="number"||Q===0||vc.has(J)?J==="float"?Z.cssFloat=Q:Z[J]=(""+Q).trim():Z[J]=Q+"px"}function RC(Z,J,Q){if(J!=null&&typeof J!=="object")throw Error(l(62));if(Z=Z.style,Q!=null){for(var q in Q)!Q.hasOwnProperty(q)||J!=null&&J.hasOwnProperty(q)||(q.indexOf("--")===0?Z.setProperty(q,""):q==="float"?Z.cssFloat="":Z[q]="");for(var K in J)q=J[K],J.hasOwnProperty(K)&&Q[K]!==q&&uj(Z,K,q)}else for(var X in J)J.hasOwnProperty(X)&&uj(Z,X,J[X])}function pA(Z){if(Z.indexOf("-")===-1)return!1;switch(Z){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function EN(Z){return yc.test(""+Z)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Z}function x4(){}function iA(Z){return Z=Z.target||Z.srcElement||window,Z.correspondingUseElement&&(Z=Z.correspondingUseElement),Z.nodeType===3?Z.parentNode:Z}function lj(Z){var J=NJ(Z);if(J&&(Z=J.stateNode)){var Q=Z[H8]||null;Z:switch(Z=J.stateNode,J.type){case"input":if(r$(Z,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name),J=Q.name,Q.type==="radio"&&J!=null){for(Q=Z;Q.parentNode;)Q=Q.parentNode;Q=Q.querySelectorAll('input[name="'+q6(""+J)+'"][type="radio"]');for(J=0;J<Q.length;J++){var q=Q[J];if(q!==Z&&q.form===Z.form){var K=q[H8]||null;if(!K)throw Error(l(90));r$(q,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(J=0;J<Q.length;J++)q=Q[J],q.form===Z.form&&jC(q)}break Z;case"textarea":CC(Z,Q.value,Q.defaultValue);break Z;case"select":J=Q.value,J!=null&&c2(Z,!!Q.multiple,J,!1)}}}function EC(Z,J,Q){if(D$)return Z(J,Q);D$=!0;try{var q=Z(J);return q}finally{if(D$=!1,k2!==null||u2!==null){if(Tz(),k2&&(J=k2,Z=u2,u2=k2=null,lj(J),Z))for(J=0;J<Z.length;J++)lj(Z[J])}}}function Cq(Z,J){var Q=Z.stateNode;if(Q===null)return null;var q=Q[H8]||null;if(q===null)return null;Q=q[J];Z:switch(J){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(Z=Z.type,q=!(Z==="button"||Z==="input"||Z==="select"||Z==="textarea")),Z=!q;break Z;default:Z=!1}if(Z)return null;if(Q&&typeof Q!=="function")throw Error(l(231,J,typeof Q));return Q}function IC(){if(IN)return IN;var Z,J=aA,Q=J.length,q,K="value"in d7?d7.value:d7.textContent,X=K.length;for(Z=0;Z<Q&&J[Z]===K[Z];Z++);var z=Q-Z;for(q=1;q<=z&&J[Q-q]===K[X-q];q++);return IN=K.slice(Z,1<q?1-q:void 0)}function TN(Z){var J=Z.keyCode;return"charCode"in Z?(Z=Z.charCode,Z===0&&J===13&&(Z=13)):Z=J,Z===10&&(Z=13),32<=Z||Z===13?Z:0}function _N(){return!0}function pj(){return!1}function Y8(Z){function J(Q,q,K,X,z){this._reactName=Q,this._targetInst=K,this.type=q,this.nativeEvent=X,this.target=z,this.currentTarget=null;for(var Y in Z)Z.hasOwnProperty(Y)&&(Q=Z[Y],this[Y]=Q?Q(X):X[Y]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?_N:pj,this.isPropagationStopped=pj,this}return _1(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Q=this.nativeEvent;Q&&(Q.preventDefault?Q.preventDefault():typeof Q.returnValue!=="unknown"&&(Q.returnValue=!1),this.isDefaultPrevented=_N)},stopPropagation:function(){var Q=this.nativeEvent;Q&&(Q.stopPropagation?Q.stopPropagation():typeof Q.cancelBubble!=="unknown"&&(Q.cancelBubble=!0),this.isPropagationStopped=_N)},persist:function(){},isPersistent:_N}),J}function nc(Z){var J=this.nativeEvent;return J.getModifierState?J.getModifierState(Z):(Z=sc[Z])?!!J[Z]:!1}function sA(){return nc}function SC(Z,J){switch(Z){case"keyup":return zu.indexOf(J.keyCode)!==-1;case"keydown":return J.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(Z){return Z=Z.detail,typeof Z==="object"&&"data"in Z?Z.data:null}function Yu(Z,J){switch(Z){case"compositionend":return bC(J);case"keypress":if(J.which!==32)return null;return oj=!0,nj;case"textInput":return Z=J.data,Z===nj&&oj?null:Z;default:return null}}function Vu(Z,J){if(P2)return Z==="compositionend"||!nA&&SC(Z,J)?(Z=IC(),IN=aA=d7=null,P2=!1,Z):null;switch(Z){case"paste":return null;case"keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case"compositionend":return TC&&J.locale!=="ko"?null:J.data;default:return null}}function tj(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J==="input"?!!Ou[Z.type]:J==="textarea"?!0:!1}function kC(Z,J,Q,q){k2?u2?u2.push(q):u2=[q]:k2=q,J=Vz(J,"onChange"),0<J.length&&(Q=new Mz("onChange","change",null,Q,q),Z.push({event:Q,listeners:J}))}function Uu(Z){ER(Z,0)}function Gz(Z){var J=qq(Z);if(jC(J))return Z}function rj(Z,J){if(Z==="change")return J}function ej(){Oq&&(Oq.detachEvent("onpropertychange",vC),Lq=Oq=null)}function vC(Z){if(Z.propertyName==="value"&&Gz(Lq)){var J=[];kC(J,Lq,Z,iA(Z)),EC(Uu,J)}}function $u(Z,J,Q){Z==="focusin"?(ej(),Oq=J,Lq=Q,Oq.attachEvent("onpropertychange",vC)):Z==="focusout"&&ej()}function Au(Z){if(Z==="selectionchange"||Z==="keyup"||Z==="keydown")return Gz(Lq)}function Du(Z,J){if(Z==="click")return Gz(J)}function Bu(Z,J){if(Z==="input"||Z==="change")return Gz(J)}function _u(Z,J){return Z===J&&(Z!==0||1/Z===1/J)||Z!==Z&&J!==J}function Rq(Z,J){if(g8(Z,J))return!0;if(typeof Z!=="object"||Z===null||typeof J!=="object"||J===null)return!1;var Q=Object.keys(Z),q=Object.keys(J);if(Q.length!==q.length)return!1;for(q=0;q<Q.length;q++){var K=Q[q];if(!n$.call(J,K)||!g8(Z[K],J[K]))return!1}return!0}function Zw(Z){for(;Z&&Z.firstChild;)Z=Z.firstChild;return Z}function Jw(Z,J){var Q=Zw(Z);Z=0;for(var q;Q;){if(Q.nodeType===3){if(q=Z+Q.textContent.length,Z<=J&&q>=J)return{node:Q,offset:J-Z};Z=q}Z:{for(;Q;){if(Q.nextSibling){Q=Q.nextSibling;break Z}Q=Q.parentNode}Q=void 0}Q=Zw(Q)}}function fC(Z,J){return Z&&J?Z===J?!0:Z&&Z.nodeType===3?!1:J&&J.nodeType===3?fC(Z,J.parentNode):("contains"in Z)?Z.contains(J):Z.compareDocumentPosition?!!(Z.compareDocumentPosition(J)&16):!1:!1}function yC(Z){Z=Z!=null&&Z.ownerDocument!=null&&Z.ownerDocument.defaultView!=null?Z.ownerDocument.defaultView:window;for(var J=iN(Z.document);J instanceof Z.HTMLIFrameElement;){try{var Q=typeof J.contentWindow.location.href==="string"}catch(q){Q=!1}if(Q)Z=J.contentWindow;else break;J=iN(Z.document)}return J}function oA(Z){var J=Z&&Z.nodeName&&Z.nodeName.toLowerCase();return J&&(J==="input"&&(Z.type==="text"||Z.type==="search"||Z.type==="tel"||Z.type==="url"||Z.type==="password")||J==="textarea"||Z.contentEditable==="true")}function Qw(Z,J,Q){var q=Q.window===Q?Q.document:Q.nodeType===9?Q:Q.ownerDocument;qA||v2==null||v2!==iN(q)||(q=v2,("selectionStart"in q)&&oA(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),Uq&&Rq(Uq,q)||(Uq=q,q=Vz(QA,"onSelect"),0<q.length&&(J=new Mz("onSelect","select",null,J,Q),Z.push({event:J,listeners:q}),J.target=v2)))}function a9(Z,J){var Q={};return Q[Z.toLowerCase()]=J.toLowerCase(),Q["Webkit"+Z]="webkit"+J,Q["Moz"+Z]="moz"+J,Q}function OZ(Z){if(W$[Z])return W$[Z];if(!f2[Z])return Z;var J=f2[Z],Q;for(Q in J)if(J.hasOwnProperty(Q)&&Q in hC)return W$[Z]=J[Q];return Z}function R6(Z,J){cC.set(Z,J),YZ(J,[Z])}function Fz(){for(var Z=y2,J=tA=y2=0;J<Z;){var Q=e8[J];e8[J++]=null;var q=e8[J];e8[J++]=null;var K=e8[J];e8[J++]=null;var X=e8[J];if(e8[J++]=null,q!==null&&K!==null){var z=q.pending;z===null?K.next=K:(K.next=z.next,z.next=K),q.pending=K}X!==0&&uC(Q,K,X)}}function jz(Z,J,Q,q){e8[y2++]=Z,e8[y2++]=J,e8[y2++]=Q,e8[y2++]=q,tA|=q,Z.lanes|=q,Z=Z.alternate,Z!==null&&(Z.lanes|=q)}function rA(Z,J,Q,q){return jz(Z,J,Q,q),sN(Z)}function UZ(Z,J){return jz(Z,null,null,J),sN(Z)}function uC(Z,J,Q){Z.lanes|=Q;var q=Z.alternate;q!==null&&(q.lanes|=Q);for(var K=!1,X=Z.return;X!==null;)X.childLanes|=Q,q=X.alternate,q!==null&&(q.childLanes|=Q),X.tag===22&&(Z=X.stateNode,Z===null||Z._visibility&1||(K=!0)),Z=X,X=X.return;return Z.tag===3?(X=Z.stateNode,K&&J!==null&&(K=31-h8(Q),Z=X.hiddenUpdates,q=Z[K],q===null?Z[K]=[J]:q.push(J),J.lane=Q|536870912),X):null}function sN(Z){if(50<Fq)throw Fq=0,LA=null,Error(l(185));for(var J=Z.return;J!==null;)Z=J,J=Z.return;return Z.tag===3?Z.stateNode:null}function ju(Z,J,Q,q){this.tag=Z,this.key=Q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=J,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function P8(Z,J,Q,q){return new ju(Z,J,Q,q)}function eA(Z){return Z=Z.prototype,!(!Z||!Z.isReactComponent)}function m4(Z,J){var Q=Z.alternate;return Q===null?(Q=P8(Z.tag,J,Z.key,Z.mode),Q.elementType=Z.elementType,Q.type=Z.type,Q.stateNode=Z.stateNode,Q.alternate=Z,Z.alternate=Q):(Q.pendingProps=J,Q.type=Z.type,Q.flags=0,Q.subtreeFlags=0,Q.deletions=null),Q.flags=Z.flags&65011712,Q.childLanes=Z.childLanes,Q.lanes=Z.lanes,Q.child=Z.child,Q.memoizedProps=Z.memoizedProps,Q.memoizedState=Z.memoizedState,Q.updateQueue=Z.updateQueue,J=Z.dependencies,Q.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext},Q.sibling=Z.sibling,Q.index=Z.index,Q.ref=Z.ref,Q.refCleanup=Z.refCleanup,Q}function lC(Z,J){Z.flags&=65011714;var Q=Z.alternate;return Q===null?(Z.childLanes=0,Z.lanes=J,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=Q.childLanes,Z.lanes=Q.lanes,Z.child=Q.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=Q.memoizedProps,Z.memoizedState=Q.memoizedState,Z.updateQueue=Q.updateQueue,Z.type=Q.type,J=Q.dependencies,Z.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext}),Z}function bN(Z,J,Q,q,K,X){var z=0;if(q=Z,typeof Z==="function")eA(Z)&&(z=1);else if(typeof Z==="string")z=Ll(Z,Q,t6.current)?26:Z==="html"||Z==="head"||Z==="body"?27:5;else Z:switch(Z){case p$:return Z=P8(31,Q,J,K),Z.elementType=p$,Z.lanes=X,Z;case T2:return ZZ(Q.children,K,X,J);case YC:z=8,K|=24;break;case c$:return Z=P8(12,Q,J,K|2),Z.elementType=c$,Z.lanes=X,Z;case u$:return Z=P8(13,Q,J,K),Z.elementType=u$,Z.lanes=X,Z;case l$:return Z=P8(19,Q,J,K),Z.elementType=l$,Z.lanes=X,Z;default:if(typeof Z==="object"&&Z!==null)switch(Z.$$typeof){case h4:z=10;break Z;case VC:z=9;break Z;case gA:z=11;break Z;case mA:z=14;break Z;case v7:z=16,q=null;break Z}z=29,Q=Error(l(130,Z===null?"null":typeof Z,"")),q=null}return J=P8(z,Q,J,K),J.elementType=Z,J.type=q,J.lanes=X,J}function ZZ(Z,J,Q,q){return Z=P8(7,Z,q,J),Z.lanes=Q,Z}function G$(Z,J,Q){return Z=P8(6,Z,null,J),Z.lanes=Q,Z}function pC(Z){var J=P8(18,null,null,0);return J.stateNode=Z,J}function F$(Z,J,Q){return J=P8(4,Z.children!==null?Z.children:[],Z.key,J),J.lanes=Q,J.stateNode={containerInfo:Z.containerInfo,pendingChildren:null,implementation:Z.implementation},J}function K6(Z,J){if(typeof Z==="object"&&Z!==null){var Q=qw.get(Z);if(Q!==void 0)return Q;return J={value:Z,source:J,stack:xj(J)},qw.set(Z,J),J}return{value:Z,source:J,stack:xj(J)}}function f4(Z,J){x2[g2++]=Eq,x2[g2++]=nN,nN=Z,Eq=J}function iC(Z,J,Q){J6[Q6++]=s6,J6[Q6++]=n6,J6[Q6++]=Z9,Z9=Z;var q=s6;Z=n6;var K=32-h8(q)-1;q&=~(1<<K),Q+=1;var X=32-h8(J)+K;if(30<X){var z=K-K%5;X=(q&(1<<z)-1).toString(32),q>>=z,K-=z,s6=1<<32-h8(J)+K|Q<<K|q,n6=X+Z}else s6=1<<X|Q<<K|q,n6=Z}function Z3(Z){Z.return!==null&&(f4(Z,1),iC(Z,1,0))}function J3(Z){for(;Z===nN;)nN=x2[--g2],x2[g2]=null,Eq=x2[--g2],x2[g2]=null;for(;Z===Z9;)Z9=J6[--Q6],J6[Q6]=null,n6=J6[--Q6],J6[Q6]=null,s6=J6[--Q6],J6[Q6]=null}function aC(Z,J){J6[Q6++]=s6,J6[Q6++]=n6,J6[Q6++]=Z9,s6=J.id,n6=J.overflow,Z9=Z}function J9(Z){var J=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iq(K6(J,Z)),XA}function Kw(Z){var{stateNode:J,type:Q,memoizedProps:q}=Z;switch(J[G5]=Z,J[H8]=q,Q){case"dialog":I0("cancel",J),I0("close",J);break;case"iframe":case"object":case"embed":I0("load",J);break;case"video":case"audio":for(Q=0;Q<kq.length;Q++)I0(kq[Q],J);break;case"source":I0("error",J);break;case"img":case"image":case"link":I0("error",J),I0("load",J);break;case"details":I0("toggle",J);break;case"input":I0("invalid",J),wC(J,q.value,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name,!0);break;case"select":I0("invalid",J);break;case"textarea":I0("invalid",J),LC(J,q.value,q.defaultValue,q.children)}Q=q.children,typeof Q!=="string"&&typeof Q!=="number"&&typeof Q!=="bigint"||J.textContent===""+Q||q.suppressHydrationWarning===!0||TR(J.textContent,Q)?(q.popover!=null&&(I0("beforetoggle",J),I0("toggle",J)),q.onScroll!=null&&I0("scroll",J),q.onScrollEnd!=null&&I0("scrollend",J),q.onClick!=null&&(J.onclick=x4),J=!0):J=!1,J||J9(Z,!0)}function Xw(Z){for(F5=Z.return;F5;)switch(F5.tag){case 5:case 31:case 13:X6=!1;return;case 27:case 3:X6=!0;return;default:F5=F5.return}}function C2(Z){if(Z!==F5)return!1;if(!v0)return Xw(Z),v0=!0,!1;var J=Z.tag,Q;if(Q=J!==3&&J!==27){if(Q=J===5)Q=Z.type,Q=!(Q!=="form"&&Q!=="button")||kA(Z.type,Z.memoizedProps);Q=!Q}if(Q&&B1&&J9(Z),Xw(Z),J===13){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(317));B1=pw(Z)}else if(J===31){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(317));B1=pw(Z)}else J===27?(J=B1,X9(Z.type)?(Z=yA,yA=null,B1=Z):B1=J):B1=F5?z6(Z.stateNode.nextSibling):null;return!0}function KZ(){B1=F5=null,v0=!1}function j$(){var Z=i7;return Z!==null&&(N8===null?N8=Z:N8.push.apply(N8,Z),i7=null),Z}function Iq(Z){i7===null?i7=[Z]:i7.push(Z)}function y7(Z,J,Q){U1(NA,J._currentValue),J._currentValue=Q}function d4(Z){Z._currentValue=NA.current,Y5(NA)}function zA(Z,J,Q){for(;Z!==null;){var q=Z.alternate;if((Z.childLanes&J)!==J?(Z.childLanes|=J,q!==null&&(q.childLanes|=J)):q!==null&&(q.childLanes&J)!==J&&(q.childLanes|=J),Z===Q)break;Z=Z.return}}function HA(Z,J,Q,q){var K=Z.child;K!==null&&(K.return=Z);for(;K!==null;){var X=K.dependencies;if(X!==null){var z=K.child;X=X.firstContext;Z:for(;X!==null;){var Y=X;X=K;for(var O=0;O<J.length;O++)if(Y.context===J[O]){X.lanes|=Q,Y=X.alternate,Y!==null&&(Y.lanes|=Q),zA(X.return,Q,Z),q||(z=null);break Z}X=Y.next}}else if(K.tag===18){if(z=K.return,z===null)throw Error(l(341));z.lanes|=Q,X=z.alternate,X!==null&&(X.lanes|=Q),zA(z,Q,Z),z=null}else z=K.child;if(z!==null)z.return=K;else for(z=K;z!==null;){if(z===Z){z=null;break}if(K=z.sibling,K!==null){K.return=z.return,z=K;break}z=z.return}K=z}}function zJ(Z,J,Q,q){Z=null;for(var K=J,X=!1;K!==null;){if(!X){if((K.flags&524288)!==0)X=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var z=K.alternate;if(z===null)throw Error(l(387));if(z=z.memoizedProps,z!==null){var Y=K.type;g8(K.pendingProps.value,z.value)||(Z!==null?Z.push(Y):Z=[Y])}}else if(K===cN.current){if(z=K.alternate,z===null)throw Error(l(387));z.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(Z!==null?Z.push(vq):Z=[vq])}K=K.return}Z!==null&&HA(J,Z,Q,q),J.flags|=262144}function oN(Z){for(Z=Z.firstContext;Z!==null;){if(!g8(Z.context._currentValue,Z.memoizedValue))return!0;Z=Z.next}return!1}function XZ(Z){$Z=Z,g4=null,Z=Z.dependencies,Z!==null&&(Z.firstContext=null)}function j5(Z){return sC($Z,Z)}function MN(Z,J){return $Z===null&&XZ(Z),sC(Z,J)}function sC(Z,J){var Q=J._currentValue;if(J={context:J,memoizedValue:Q,next:null},g4===null){if(Z===null)throw Error(l(308));g4=J,Z.dependencies={lanes:0,firstContext:J},Z.flags|=524288}else g4=g4.next=J;return Q}function Q3(){return{controller:new wu,data:new Map,refCount:0}}function uq(Z){Z.refCount--,Z.refCount===0&&Cu(Lu,function(){Z.controller.abort()})}function Ru(Z,J){if($q===null){var Q=$q=[];YA=0,t2=E3(),l2={status:"pending",value:void 0,then:function(q){Q.push(q)}}}return YA++,J.then(Nw,Nw),J}function Nw(){if(--YA===0&&$q!==null){l2!==null&&(l2.status="fulfilled");var Z=$q;$q=null,t2=0,l2=null;for(var J=0;J<Z.length;J++)(0,Z[J])()}}function Eu(Z,J){var Q=[],q={status:"pending",value:null,reason:null,then:function(K){Q.push(K)}};return Z.then(function(){q.status="fulfilled",q.value=J;for(var K=0;K<Q.length;K++)(0,Q[K])(J)},function(K){q.status="rejected",q.reason=K;for(K=0;K<Q.length;K++)(0,Q[K])(void 0)}),q}function q3(){var Z=JZ.current;return Z!==null?Z:Y1.pooledCache}function kN(Z,J){J===null?U1(JZ,JZ.current):U1(JZ,J.pool)}function nC(){var Z=q3();return Z===null?null:{parent:s1._currentValue,pool:Z}}function Hw(Z){return Z=Z.status,Z==="fulfilled"||Z==="rejected"}function oC(Z,J,Q){switch(Q=Z[Q],Q===void 0?Z.push(J):Q!==J&&(J.then(x4,x4),J=Q),J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Vw(Z),Z;default:if(typeof J.status==="string")J.then(x4,x4);else{if(Z=Y1,Z!==null&&100<Z.shellSuspendCounter)throw Error(l(482));Z=J,Z.status="pending",Z.then(function(q){if(J.status==="pending"){var K=J;K.status="fulfilled",K.value=q}},function(q){if(J.status==="pending"){var K=J;K.status="rejected",K.reason=q}})}switch(J.status){case"fulfilled":return J.value;case"rejected":throw Z=J.reason,Vw(Z),Z}throw QZ=J,HJ}}function t9(Z){try{var J=Z._init;return J(Z._payload)}catch(Q){if(Q!==null&&typeof Q==="object"&&typeof Q.then==="function")throw QZ=Q,HJ;throw Q}}function Yw(){if(QZ===null)throw Error(l(459));var Z=QZ;return QZ=null,Z}function Vw(Z){if(Z===HJ||Z===wz)throw Error(l(483))}function WN(Z){var J=Tq;return Tq+=1,p2===null&&(p2=[]),oC(p2,Z,J)}function tQ(Z,J){J=J.props.ref,Z.ref=J!==void 0?J:null}function GN(Z,J){if(J.$$typeof===$c)throw Error(l(525));throw Z=Object.prototype.toString.call(J),Error(l(31,Z==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Z))}function tC(Z){function J(G,w){if(Z){var R=G.deletions;R===null?(G.deletions=[w],G.flags|=16):R.push(w)}}function Q(G,w){if(!Z)return null;for(;w!==null;)J(G,w),w=w.sibling;return null}function q(G){for(var w=new Map;G!==null;)G.key!==null?w.set(G.key,G):w.set(G.index,G),G=G.sibling;return w}function K(G,w){return G=m4(G,w),G.index=0,G.sibling=null,G}function X(G,w,R){if(G.index=R,!Z)return G.flags|=1048576,w;if(R=G.alternate,R!==null)return R=R.index,R<w?(G.flags|=67108866,w):R;return G.flags|=67108866,w}function z(G){return Z&&G.alternate===null&&(G.flags|=67108866),G}function Y(G,w,R,T){if(w===null||w.tag!==6)return w=G$(R,G.mode,T),w.return=G,w;return w=K(w,R),w.return=G,w}function O(G,w,R,T){var h=R.type;if(h===T2)return A(G,w,R.props.children,T,R.key);if(w!==null&&(w.elementType===h||typeof h==="object"&&h!==null&&h.$$typeof===v7&&t9(h)===w.type))return w=K(w,R.props),tQ(w,R),w.return=G,w;return w=bN(R.type,R.key,R.props,null,G.mode,T),tQ(w,R),w.return=G,w}function U(G,w,R,T){if(w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation)return w=F$(R,G.mode,T),w.return=G,w;return w=K(w,R.children||[]),w.return=G,w}function A(G,w,R,T,h){if(w===null||w.tag!==7)return w=ZZ(R,G.mode,T,h),w.return=G,w;return w=K(w,R),w.return=G,w}function B(G,w,R){if(typeof w==="string"&&w!==""||typeof w==="number"||typeof w==="bigint")return w=G$(""+w,G.mode,R),w.return=G,w;if(typeof w==="object"&&w!==null){switch(w.$$typeof){case UN:return R=bN(w.type,w.key,w.props,null,G.mode,R),tQ(R,w),R.return=G,R;case Jq:return w=F$(w,G.mode,R),w.return=G,w;case v7:return w=t9(w),B(G,w,R)}if(Qq(w)||nQ(w))return w=ZZ(w,G.mode,R,null),w.return=G,w;if(typeof w.then==="function")return B(G,WN(w),R);if(w.$$typeof===h4)return B(G,MN(G,w),R);GN(G,w)}return null}function _(G,w,R,T){var h=w!==null?w.key:null;if(typeof R==="string"&&R!==""||typeof R==="number"||typeof R==="bigint")return h!==null?null:Y(G,w,""+R,T);if(typeof R==="object"&&R!==null){switch(R.$$typeof){case UN:return R.key===h?O(G,w,R,T):null;case Jq:return R.key===h?U(G,w,R,T):null;case v7:return R=t9(R),_(G,w,R,T)}if(Qq(R)||nQ(R))return h!==null?null:A(G,w,R,T,null);if(typeof R.then==="function")return _(G,w,WN(R),T);if(R.$$typeof===h4)return _(G,w,MN(G,R),T);GN(G,R)}return null}function W(G,w,R,T,h){if(typeof T==="string"&&T!==""||typeof T==="number"||typeof T==="bigint")return G=G.get(R)||null,Y(w,G,""+T,h);if(typeof T==="object"&&T!==null){switch(T.$$typeof){case UN:return G=G.get(T.key===null?R:T.key)||null,O(w,G,T,h);case Jq:return G=G.get(T.key===null?R:T.key)||null,U(w,G,T,h);case v7:return T=t9(T),W(G,w,R,T,h)}if(Qq(T)||nQ(T))return G=G.get(R)||null,A(w,G,T,h,null);if(typeof T.then==="function")return W(G,w,R,WN(T),h);if(T.$$typeof===h4)return W(G,w,R,MN(w,T),h);GN(w,T)}return null}function F(G,w,R,T){for(var h=null,v=null,b=w,m=w=0,u=null;b!==null&&m<R.length;m++){b.index>m?(u=b,b=null):u=b.sibling;var c=_(G,b,R[m],T);if(c===null){b===null&&(b=u);break}Z&&b&&c.alternate===null&&J(G,b),w=X(c,w,m),v===null?h=c:v.sibling=c,v=c,b=u}if(m===R.length)return Q(G,b),v0&&f4(G,m),h;if(b===null){for(;m<R.length;m++)b=B(G,R[m],T),b!==null&&(w=X(b,w,m),v===null?h=b:v.sibling=b,v=b);return v0&&f4(G,m),h}for(b=q(b);m<R.length;m++)u=W(b,G,m,R[m],T),u!==null&&(Z&&u.alternate!==null&&b.delete(u.key===null?m:u.key),w=X(u,w,m),v===null?h=u:v.sibling=u,v=u);return Z&&b.forEach(function(o){return J(G,o)}),v0&&f4(G,m),h}function C(G,w,R,T){if(R==null)throw Error(l(151));for(var h=null,v=null,b=w,m=w=0,u=null,c=R.next();b!==null&&!c.done;m++,c=R.next()){b.index>m?(u=b,b=null):u=b.sibling;var o=_(G,b,c.value,T);if(o===null){b===null&&(b=u);break}Z&&b&&o.alternate===null&&J(G,b),w=X(o,w,m),v===null?h=o:v.sibling=o,v=o,b=u}if(c.done)return Q(G,b),v0&&f4(G,m),h;if(b===null){for(;!c.done;m++,c=R.next())c=B(G,c.value,T),c!==null&&(w=X(c,w,m),v===null?h=c:v.sibling=c,v=c);return v0&&f4(G,m),h}for(b=q(b);!c.done;m++,c=R.next())c=W(b,G,m,c.value,T),c!==null&&(Z&&c.alternate!==null&&b.delete(c.key===null?m:c.key),w=X(c,w,m),v===null?h=c:v.sibling=c,v=c);return Z&&b.forEach(function(z0){return J(G,z0)}),v0&&f4(G,m),h}function L(G,w,R,T){if(typeof R==="object"&&R!==null&&R.type===T2&&R.key===null&&(R=R.props.children),typeof R==="object"&&R!==null){switch(R.$$typeof){case UN:Z:{for(var h=R.key;w!==null;){if(w.key===h){if(h=R.type,h===T2){if(w.tag===7){Q(G,w.sibling),T=K(w,R.props.children),T.return=G,G=T;break Z}}else if(w.elementType===h||typeof h==="object"&&h!==null&&h.$$typeof===v7&&t9(h)===w.type){Q(G,w.sibling),T=K(w,R.props),tQ(T,R),T.return=G,G=T;break Z}Q(G,w);break}else J(G,w);w=w.sibling}R.type===T2?(T=ZZ(R.props.children,G.mode,T,R.key),T.return=G,G=T):(T=bN(R.type,R.key,R.props,null,G.mode,T),tQ(T,R),T.return=G,G=T)}return z(G);case Jq:Z:{for(h=R.key;w!==null;){if(w.key===h)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){Q(G,w.sibling),T=K(w,R.children||[]),T.return=G,G=T;break Z}else{Q(G,w);break}else J(G,w);w=w.sibling}T=F$(R,G.mode,T),T.return=G,G=T}return z(G);case v7:return R=t9(R),L(G,w,R,T)}if(Qq(R))return F(G,w,R,T);if(nQ(R)){if(h=nQ(R),typeof h!=="function")throw Error(l(150));return R=h.call(R),C(G,w,R,T)}if(typeof R.then==="function")return L(G,w,WN(R),T);if(R.$$typeof===h4)return L(G,w,MN(G,R),T);GN(G,R)}return typeof R==="string"&&R!==""||typeof R==="number"||typeof R==="bigint"?(R=""+R,w!==null&&w.tag===6?(Q(G,w.sibling),T=K(w,R),T.return=G,G=T):(Q(G,w),T=G$(R,G.mode,T),T.return=G,G=T),z(G)):Q(G,w)}return function(G,w,R,T){try{Tq=0;var h=L(G,w,R,T);return p2=null,h}catch(b){if(b===HJ||b===wz)throw b;var v=P8(29,b,null,G.mode);return v.lanes=T,v.return=G,v}finally{}}}function X3(Z){Z.updateQueue={baseState:Z.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function VA(Z,J){Z=Z.updateQueue,J.updateQueue===Z&&(J.updateQueue={baseState:Z.baseState,firstBaseUpdate:Z.firstBaseUpdate,lastBaseUpdate:Z.lastBaseUpdate,shared:Z.shared,callbacks:null})}function a7(Z){return{lane:Z,tag:0,payload:null,callback:null,next:null}}function s7(Z,J,Q){var q=Z.updateQueue;if(q===null)return null;if(q=q.shared,(l0&2)!==0){var K=q.pending;return K===null?J.next=J:(J.next=K.next,K.next=J),q.pending=J,J=sN(Z),uC(Z,null,Q),J}return jz(Z,q,J,Q),sN(Z)}function Aq(Z,J,Q){if(J=J.updateQueue,J!==null&&(J=J.shared,(Q&4194048)!==0)){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,BC(Z,Q)}}function w$(Z,J){var{updateQueue:Q,alternate:q}=Z;if(q!==null&&(q=q.updateQueue,Q===q)){var K=null,X=null;if(Q=Q.firstBaseUpdate,Q!==null){do{var z={lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:null,next:null};X===null?K=X=z:X=X.next=z,Q=Q.next}while(Q!==null);X===null?K=X=J:X=X.next=J}else K=X=J;Q={baseState:q.baseState,firstBaseUpdate:K,lastBaseUpdate:X,shared:q.shared,callbacks:q.callbacks},Z.updateQueue=Q;return}Z=Q.lastBaseUpdate,Z===null?Q.firstBaseUpdate=J:Z.next=J,Q.lastBaseUpdate=J}function Dq(){if(OA){var Z=l2;if(Z!==null)throw Z}}function Bq(Z,J,Q,q){OA=!1;var K=Z.updateQueue;f7=!1;var{firstBaseUpdate:X,lastBaseUpdate:z}=K,Y=K.shared.pending;if(Y!==null){K.shared.pending=null;var O=Y,U=O.next;O.next=null,z===null?X=U:z.next=U,z=O;var A=Z.alternate;A!==null&&(A=A.updateQueue,Y=A.lastBaseUpdate,Y!==z&&(Y===null?A.firstBaseUpdate=U:Y.next=U,A.lastBaseUpdate=O))}if(X!==null){var B=K.baseState;z=0,A=U=O=null,Y=X;do{var _=Y.lane&-536870913,W=_!==Y.lane;if(W?(k0&_)===_:(q&_)===_){_!==0&&_===t2&&(OA=!0),A!==null&&(A=A.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});Z:{var F=Z,C=Y;_=J;var L=Q;switch(C.tag){case 1:if(F=C.payload,typeof F==="function"){B=F.call(L,B,_);break Z}B=F;break Z;case 3:F.flags=F.flags&-65537|128;case 0:if(F=C.payload,_=typeof F==="function"?F.call(L,B,_):F,_===null||_===void 0)break Z;B=_1({},B,_);break Z;case 2:f7=!0}}_=Y.callback,_!==null&&(Z.flags|=64,W&&(Z.flags|=8192),W=K.callbacks,W===null?K.callbacks=[_]:W.push(_))}else W={lane:_,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},A===null?(U=A=W,O=B):A=A.next=W,z|=_;if(Y=Y.next,Y===null)if(Y=K.shared.pending,Y===null)break;else W=Y,Y=W.next,W.next=null,K.lastBaseUpdate=W,K.shared.pending=null}while(1);A===null&&(O=B),K.baseState=O,K.firstBaseUpdate=U,K.lastBaseUpdate=A,X===null&&(K.shared.lanes=0),q9|=z,Z.lanes=z,Z.memoizedState=B}}function eC(Z,J){if(typeof Z!=="function")throw Error(l(191,Z));Z.call(J)}function ZL(Z,J){var Q=Z.callbacks;if(Q!==null)for(Z.callbacks=null,Z=0;Z<Q.length;Z++)eC(Q[Z],J)}function Ow(Z,J){Z=a4,U1(rN,Z),U1(r2,J),a4=Z|J.baseLanes}function UA(){U1(rN,a4),U1(r2,r2.current)}function N3(){a4=rN.current,Y5(r2),Y5(rN)}function h7(Z){var J=Z.alternate;U1(v1,v1.current&1),U1(m8,Z),N6===null&&(J===null||r2.current!==null?N6=Z:J.memoizedState!==null&&(N6=Z))}function $A(Z){U1(v1,v1.current),U1(m8,Z),N6===null&&(N6=Z)}function JL(Z){Z.tag===22?(U1(v1,v1.current),U1(m8,Z),N6===null&&(N6=Z)):x7(Z)}function x7(){U1(v1,v1.current),U1(m8,m8.current)}function k8(Z){Y5(m8),N6===Z&&(N6=null),Y5(v1)}function eN(Z){for(var J=Z;J!==null;){if(J.tag===13){var Q=J.memoizedState;if(Q!==null&&(Q=Q.dehydrated,Q===null||vA(Q)||fA(Q)))return J}else if(J.tag===19&&(J.memoizedProps.revealOrder==="forwards"||J.memoizedProps.revealOrder==="backwards"||J.memoizedProps.revealOrder==="unstable_legacy-backwards"||J.memoizedProps.revealOrder==="together")){if((J.flags&128)!==0)return J}else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return null;J=J.return}J.sibling.return=J.return,J=J.sibling}return null}function T1(){throw Error(l(321))}function z3(Z,J){if(J===null)return!1;for(var Q=0;Q<J.length&&Q<Z.length;Q++)if(!g8(Z[Q],J[Q]))return!1;return!0}function H3(Z,J,Q,q,K,X){return l4=X,G0=J,J.memoizedState=null,J.updateQueue=null,J.lanes=0,O0.H=Z===null||Z.memoizedState===null?kL:W3,zZ=!1,X=Q(q,K),zZ=!1,i2&&(X=qL(J,Q,q,K)),QL(Z),X}function QL(Z){O0.H=bq;var J=H1!==null&&H1.next!==null;if(l4=0,i1=H1=G0=null,Zz=!1,Sq=0,a2=null,J)throw Error(l(300));Z===null||n1||(Z=Z.dependencies,Z!==null&&oN(Z)&&(n1=!0))}function qL(Z,J,Q,q){G0=Z;var K=0;do{if(i2&&(a2=null),Sq=0,i2=!1,25<=K)throw Error(l(301));if(K+=1,i1=H1=null,Z.updateQueue!=null){var X=Z.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}O0.H=PL,X=J(Q,q)}while(i2);return X}function Tu(){var Z=O0.H,J=Z.useState()[0];return J=typeof J.then==="function"?lq(J):J,Z=Z.useState()[0],(H1!==null?H1.memoizedState:null)!==Z&&(G0.flags|=1024),J}function Y3(){var Z=Jz!==0;return Jz=0,Z}function V3(Z,J,Q){J.updateQueue=Z.updateQueue,J.flags&=-2053,Z.lanes&=~Q}function O3(Z){if(Zz){for(Z=Z.memoizedState;Z!==null;){var J=Z.queue;J!==null&&(J.pending=null),Z=Z.next}Zz=!1}l4=0,i1=H1=G0=null,i2=!1,Sq=Jz=0,a2=null}function c5(){var Z={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return i1===null?G0.memoizedState=i1=Z:i1=i1.next=Z,i1}function f1(){if(H1===null){var Z=G0.alternate;Z=Z!==null?Z.memoizedState:null}else Z=H1.next;var J=i1===null?G0.memoizedState:i1.next;if(J!==null)i1=J,H1=Z;else{if(Z===null){if(G0.alternate===null)throw Error(l(467));throw Error(l(310))}H1=Z,Z={memoizedState:H1.memoizedState,baseState:H1.baseState,baseQueue:H1.baseQueue,queue:H1.queue,next:null},i1===null?G0.memoizedState=i1=Z:i1=i1.next=Z}return i1}function Cz(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lq(Z){var J=Sq;return Sq+=1,a2===null&&(a2=[]),Z=oC(a2,Z,J),J=G0,(i1===null?J.memoizedState:i1.next)===null&&(J=J.alternate,O0.H=J===null||J.memoizedState===null?kL:W3),Z}function Lz(Z){if(Z!==null&&typeof Z==="object"){if(typeof Z.then==="function")return lq(Z);if(Z.$$typeof===h4)return j5(Z)}throw Error(l(438,String(Z)))}function U3(Z){var J=null,Q=G0.updateQueue;if(Q!==null&&(J=Q.memoCache),J==null){var q=G0.alternate;q!==null&&(q=q.updateQueue,q!==null&&(q=q.memoCache,q!=null&&(J={data:q.data.map(function(K){return K.slice()}),index:0})))}if(J==null&&(J={data:[],index:0}),Q===null&&(Q=Cz(),G0.updateQueue=Q),Q.memoCache=J,Q=J.data[J.index],Q===void 0)for(Q=J.data[J.index]=Array(Z),q=0;q<Z;q++)Q[q]=Ac;return J.index++,Q}function p4(Z,J){return typeof J==="function"?J(Z):J}function PN(Z){var J=f1();return $3(J,H1,Z)}function $3(Z,J,Q){var q=Z.queue;if(q===null)throw Error(l(311));q.lastRenderedReducer=Q;var K=Z.baseQueue,X=q.pending;if(X!==null){if(K!==null){var z=K.next;K.next=X.next,X.next=z}J.baseQueue=K=X,q.pending=null}if(X=Z.baseState,K===null)Z.memoizedState=X;else{J=K.next;var Y=z=null,O=null,U=J,A=!1;do{var B=U.lane&-536870913;if(B!==U.lane?(k0&B)===B:(l4&B)===B){var _=U.revertLane;if(_===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),B===t2&&(A=!0);else if((l4&_)===_){U=U.next,_===t2&&(A=!0);continue}else B={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=B,z=X):O=O.next=B,G0.lanes|=_,q9|=_;B=U.action,zZ&&Q(X,B),X=U.hasEagerState?U.eagerState:Q(X,B)}else _={lane:B,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(Y=O=_,z=X):O=O.next=_,G0.lanes|=B,q9|=B;U=U.next}while(U!==null&&U!==J);if(O===null?z=X:O.next=Y,!g8(X,Z.memoizedState)&&(n1=!0,A&&(Q=l2,Q!==null)))throw Q;Z.memoizedState=X,Z.baseState=z,Z.baseQueue=O,q.lastRenderedState=X}return K===null&&(q.lanes=0),[Z.memoizedState,q.dispatch]}function C$(Z){var J=f1(),Q=J.queue;if(Q===null)throw Error(l(311));Q.lastRenderedReducer=Z;var{dispatch:q,pending:K}=Q,X=J.memoizedState;if(K!==null){Q.pending=null;var z=K=K.next;do X=Z(X,z.action),z=z.next;while(z!==K);g8(X,J.memoizedState)||(n1=!0),J.memoizedState=X,J.baseQueue===null&&(J.baseState=X),Q.lastRenderedState=X}return[X,q]}function KL(Z,J,Q){var q=G0,K=f1(),X=v0;if(X){if(Q===void 0)throw Error(l(407));Q=Q()}else Q=J();var z=!g8((H1||K).memoizedState,Q);if(z&&(K.memoizedState=Q,n1=!0),K=K.queue,A3(zL.bind(null,q,K,Z),[Z]),K.getSnapshot!==J||z||i1!==null&&i1.memoizedState.tag&1){if(q.flags|=2048,e2(9,{destroy:void 0},NL.bind(null,q,K,Q,J),null),Y1===null)throw Error(l(349));X||(l4&127)!==0||XL(q,J,Q)}return Q}function XL(Z,J,Q){Z.flags|=16384,Z={getSnapshot:J,value:Q},J=G0.updateQueue,J===null?(J=Cz(),G0.updateQueue=J,J.stores=[Z]):(Q=J.stores,Q===null?J.stores=[Z]:Q.push(Z))}function NL(Z,J,Q,q){J.value=Q,J.getSnapshot=q,HL(J)&&YL(Z)}function zL(Z,J,Q){return Q(function(){HL(J)&&YL(Z)})}function HL(Z){var J=Z.getSnapshot;Z=Z.value;try{var Q=J();return!g8(Z,Q)}catch(q){return!0}}function YL(Z){var J=UZ(Z,2);J!==null&&z8(J,Z,2)}function AA(Z){var J=c5();if(typeof Z==="function"){var Q=Z;if(Z=Q(),zZ){m7(!0);try{Q()}finally{m7(!1)}}}return J.memoizedState=J.baseState=Z,J.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p4,lastRenderedState:Z},J}function VL(Z,J,Q,q){return Z.baseState=Q,$3(Z,H1,typeof q==="function"?q:p4)}function Su(Z,J,Q,q,K){if(Ez(Z))throw Error(l(485));if(Z=J.action,Z!==null){var X={payload:K,action:Z,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){X.listeners.push(z)}};O0.T!==null?Q(!0):X.isTransition=!1,q(X),Q=J.pending,Q===null?(X.next=J.pending=X,OL(J,X)):(X.next=Q.next,J.pending=Q.next=X)}}function OL(Z,J){var{action:Q,payload:q}=J,K=Z.state;if(J.isTransition){var X=O0.T,z={};O0.T=z;try{var Y=Q(K,q),O=O0.S;O!==null&&O(z,Y),Uw(Z,J,Y)}catch(U){DA(Z,J,U)}finally{X!==null&&z.types!==null&&(X.types=z.types),O0.T=X}}else try{X=Q(K,q),Uw(Z,J,X)}catch(U){DA(Z,J,U)}}function Uw(Z,J,Q){Q!==null&&typeof Q==="object"&&typeof Q.then==="function"?Q.then(function(q){$w(Z,J,q)},function(q){return DA(Z,J,q)}):$w(Z,J,Q)}function $w(Z,J,Q){J.status="fulfilled",J.value=Q,UL(J),Z.state=Q,J=Z.pending,J!==null&&(Q=J.next,Q===J?Z.pending=null:(Q=Q.next,J.next=Q,OL(Z,Q)))}function DA(Z,J,Q){var q=Z.pending;if(Z.pending=null,q!==null){q=q.next;do J.status="rejected",J.reason=Q,UL(J),J=J.next;while(J!==q)}Z.action=null}function UL(Z){Z=Z.listeners;for(var J=0;J<Z.length;J++)(0,Z[J])()}function $L(Z,J){return J}function Aw(Z,J){if(v0){var Q=Y1.formState;if(Q!==null){Z:{var q=G0;if(v0){if(B1){J:{var K=B1;for(var X=X6;K.nodeType!==8;){if(!X){K=null;break J}if(K=z6(K.nextSibling),K===null){K=null;break J}}X=K.data,K=X==="F!"||X==="F"?K:null}if(K){B1=z6(K.nextSibling),q=K.data==="F!";break Z}}J9(q)}q=!1}q&&(J=Q[0])}}return Q=c5(),Q.memoizedState=Q.baseState=J,q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$L,lastRenderedState:J},Q.queue=q,Q=TL.bind(null,G0,q),q.dispatch=Q,q=AA(!1),X=M3.bind(null,G0,!1,q.queue),q=c5(),K={state:J,dispatch:null,action:Z,pending:null},q.queue=K,Q=Su.bind(null,G0,K,X,Q),K.dispatch=Q,q.memoizedState=Z,[J,Q,!1]}function Dw(Z){var J=f1();return AL(J,H1,Z)}function AL(Z,J,Q){if(J=$3(Z,J,$L)[0],Z=PN(p4)[0],typeof J==="object"&&J!==null&&typeof J.then==="function")try{var q=lq(J)}catch(z){if(z===HJ)throw wz;throw z}else q=J;J=f1();var K=J.queue,X=K.dispatch;return Q!==J.memoizedState&&(G0.flags|=2048,e2(9,{destroy:void 0},bu.bind(null,K,Q),null)),[q,X,Z]}function bu(Z,J){Z.action=J}function Bw(Z){var J=f1(),Q=H1;if(Q!==null)return AL(J,Q,Z);f1(),J=J.memoizedState,Q=f1();var q=Q.queue.dispatch;return Q.memoizedState=Z,[J,q,!1]}function e2(Z,J,Q,q){return Z={tag:Z,create:Q,deps:q,inst:J,next:null},J=G0.updateQueue,J===null&&(J=Cz(),G0.updateQueue=J),Q=J.lastEffect,Q===null?J.lastEffect=Z.next=Z:(q=Q.next,Q.next=Z,Z.next=q,J.lastEffect=Z),Z}function DL(){return f1().memoizedState}function vN(Z,J,Q,q){var K=c5();G0.flags|=Z,K.memoizedState=e2(1|J,{destroy:void 0},Q,q===void 0?null:q)}function Rz(Z,J,Q,q){var K=f1();q=q===void 0?null:q;var X=K.memoizedState.inst;H1!==null&&q!==null&&z3(q,H1.memoizedState.deps)?K.memoizedState=e2(J,X,Q,q):(G0.flags|=Z,K.memoizedState=e2(1|J,X,Q,q))}function _w(Z,J){vN(8390656,8,Z,J)}function A3(Z,J){Rz(2048,8,Z,J)}function ku(Z){G0.flags|=4;var J=G0.updateQueue;if(J===null)J=Cz(),G0.updateQueue=J,J.events=[Z];else{var Q=J.events;Q===null?J.events=[Z]:Q.push(Z)}}function BL(Z){var J=f1().memoizedState;return ku({ref:J,nextImpl:Z}),function(){if((l0&2)!==0)throw Error(l(440));return J.impl.apply(void 0,arguments)}}function _L(Z,J){return Rz(4,2,Z,J)}function ML(Z,J){return Rz(4,4,Z,J)}function WL(Z,J){if(typeof J==="function"){Z=Z();var Q=J(Z);return function(){typeof Q==="function"?Q():J(null)}}if(J!==null&&J!==void 0)return Z=Z(),J.current=Z,function(){J.current=null}}function GL(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,Rz(4,4,WL.bind(null,J,Z),Q)}function D3(){}function FL(Z,J){var Q=f1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&z3(J,q[1]))return q[0];return Q.memoizedState=[Z,J],Z}function jL(Z,J){var Q=f1();J=J===void 0?null:J;var q=Q.memoizedState;if(J!==null&&z3(J,q[1]))return q[0];if(q=Z(),zZ){m7(!0);try{Z()}finally{m7(!1)}}return Q.memoizedState=[q,J],q}function B3(Z,J,Q){if(Q===void 0||(l4&1073741824)!==0&&(k0&261930)===0)return Z.memoizedState=J;return Z.memoizedState=Q,Z=VR(),G0.lanes|=Z,q9|=Z,Q}function wL(Z,J,Q,q){if(g8(Q,J))return Q;if(r2.current!==null)return Z=B3(Z,Q,q),g8(Z,J)||(n1=!0),Z;if((l4&42)===0||(l4&1073741824)!==0&&(k0&261930)===0)return n1=!0,Z.memoizedState=Q;return Z=VR(),G0.lanes|=Z,q9|=Z,J}function CL(Z,J,Q,q,K){var X=p0.p;p0.p=X!==0&&8>X?X:8;var z=O0.T,Y={};O0.T=Y,M3(Z,!1,J,Q);try{var O=K(),U=O0.S;if(U!==null&&U(Y,O),O!==null&&typeof O==="object"&&typeof O.then==="function"){var A=Eu(O,q);_q(Z,J,A,x8(Z))}else _q(Z,J,q,x8(Z))}catch(B){_q(Z,J,{then:function(){},status:"rejected",reason:B},x8())}finally{p0.p=X,z!==null&&Y.types!==null&&(z.types=Y.types),O0.T=z}}function Pu(){}function BA(Z,J,Q,q){if(Z.tag!==5)throw Error(l(476));var K=LL(Z).queue;CL(Z,K,J,e9,Q===null?Pu:function(){return RL(Z),Q(q)})}function LL(Z){var J=Z.memoizedState;if(J!==null)return J;J={memoizedState:e9,baseState:e9,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:p4,lastRenderedState:e9},next:null};var Q={};return J.next={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:p4,lastRenderedState:Q},next:null},Z.memoizedState=J,Z=Z.alternate,Z!==null&&(Z.memoizedState=J),J}function RL(Z){var J=LL(Z);J.next===null&&(J=Z.alternate.memoizedState),_q(Z,J.next.queue,{},x8())}function _3(){return j5(vq)}function EL(){return f1().memoizedState}function IL(){return f1().memoizedState}function vu(Z){for(var J=Z.return;J!==null;){switch(J.tag){case 24:case 3:var Q=x8();Z=a7(Q);var q=s7(J,Z,Q);q!==null&&(z8(q,J,Q),Aq(q,J,Q)),J={cache:Q3()},Z.payload=J;return}J=J.return}}function fu(Z,J,Q){var q=x8();Q={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null},Ez(Z)?SL(J,Q):(Q=rA(Z,J,Q,q),Q!==null&&(z8(Q,Z,q),bL(Q,J,q)))}function TL(Z,J,Q){var q=x8();_q(Z,J,Q,q)}function _q(Z,J,Q,q){var K={lane:q,revertLane:0,gesture:null,action:Q,hasEagerState:!1,eagerState:null,next:null};if(Ez(Z))SL(J,K);else{var X=Z.alternate;if(Z.lanes===0&&(X===null||X.lanes===0)&&(X=J.lastRenderedReducer,X!==null))try{var z=J.lastRenderedState,Y=X(z,Q);if(K.hasEagerState=!0,K.eagerState=Y,g8(Y,z))return jz(Z,J,K,0),Y1===null&&Fz(),!1}catch(O){}finally{}if(Q=rA(Z,J,K,q),Q!==null)return z8(Q,Z,q),bL(Q,J,q),!0}return!1}function M3(Z,J,Q,q){if(q={lane:2,revertLane:E3(),gesture:null,action:q,hasEagerState:!1,eagerState:null,next:null},Ez(Z)){if(J)throw Error(l(479))}else J=rA(Z,Q,q,2),J!==null&&z8(J,Z,2)}function Ez(Z){var J=Z.alternate;return Z===G0||J!==null&&J===G0}function SL(Z,J){i2=Zz=!0;var Q=Z.pending;Q===null?J.next=J:(J.next=Q.next,Q.next=J),Z.pending=J}function bL(Z,J,Q){if((Q&4194048)!==0){var q=J.lanes;q&=Z.pendingLanes,Q|=q,J.lanes=Q,BC(Z,Q)}}function L$(Z,J,Q,q){J=Z.memoizedState,Q=Q(q,J),Q=Q===null||Q===void 0?J:_1({},J,Q),Z.memoizedState=Q,Z.lanes===0&&(Z.updateQueue.baseState=Q)}function Mw(Z,J,Q,q,K,X,z){return Z=Z.stateNode,typeof Z.shouldComponentUpdate==="function"?Z.shouldComponentUpdate(q,X,z):J.prototype&&J.prototype.isPureReactComponent?!Rq(Q,q)||!Rq(K,X):!0}function Ww(Z,J,Q,q){Z=J.state,typeof J.componentWillReceiveProps==="function"&&J.componentWillReceiveProps(Q,q),typeof J.UNSAFE_componentWillReceiveProps==="function"&&J.UNSAFE_componentWillReceiveProps(Q,q),J.state!==Z&&_A.enqueueReplaceState(J,J.state,null)}function HZ(Z,J){var Q=J;if("ref"in J){Q={};for(var q in J)q!=="ref"&&(Q[q]=J[q])}if(Z=Z.defaultProps){Q===J&&(Q=_1({},Q));for(var K in Z)Q[K]===void 0&&(Q[K]=Z[K])}return Q}function vL(Z){aN(Z)}function fL(Z){console.error(Z)}function yL(Z){aN(Z)}function Qz(Z,J){try{var Q=Z.onUncaughtError;Q(J.value,{componentStack:J.stack})}catch(q){setTimeout(function(){throw q})}}function Gw(Z,J,Q){try{var q=Z.onCaughtError;q(Q.value,{componentStack:Q.stack,errorBoundary:J.tag===1?J.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function MA(Z,J,Q){return Q=a7(Q),Q.tag=3,Q.payload={element:null},Q.callback=function(){Qz(Z,J)},Q}function hL(Z){return Z=a7(Z),Z.tag=3,Z}function xL(Z,J,Q,q){var K=Q.type.getDerivedStateFromError;if(typeof K==="function"){var X=q.value;Z.payload=function(){return K(X)},Z.callback=function(){Gw(J,Q,q)}}var z=Q.stateNode;z!==null&&typeof z.componentDidCatch==="function"&&(Z.callback=function(){Gw(J,Q,q),typeof K!=="function"&&(n7===null?n7=new Set([this]):n7.add(this));var Y=q.stack;this.componentDidCatch(q.value,{componentStack:Y!==null?Y:""})})}function yu(Z,J,Q,q,K){if(Q.flags|=32768,q!==null&&typeof q==="object"&&typeof q.then==="function"){if(J=Q.alternate,J!==null&&zJ(J,Q,K,!0),Q=m8.current,Q!==null){switch(Q.tag){case 31:case 13:return N6===null?zz():Q.alternate===null&&S1===0&&(S1=3),Q.flags&=-257,Q.flags|=65536,Q.lanes=K,q===tN?Q.flags|=16384:(J=Q.updateQueue,J===null?Q.updateQueue=new Set([q]):J.add(q),y$(Z,q,K)),!1;case 22:return Q.flags|=65536,q===tN?Q.flags|=16384:(J=Q.updateQueue,J===null?(J={transitions:null,markerInstances:null,retryQueue:new Set([q])},Q.updateQueue=J):(Q=J.retryQueue,Q===null?J.retryQueue=new Set([q]):Q.add(q)),y$(Z,q,K)),!1}throw Error(l(435,Q.tag))}return y$(Z,q,K),zz(),!1}if(v0)return J=m8.current,J!==null?((J.flags&65536)===0&&(J.flags|=256),J.flags|=65536,J.lanes=K,q!==XA&&(Z=Error(l(422),{cause:q}),Iq(K6(Z,Q)))):(q!==XA&&(J=Error(l(423),{cause:q}),Iq(K6(J,Q))),Z=Z.current.alternate,Z.flags|=65536,K&=-K,Z.lanes|=K,q=K6(q,Q),K=MA(Z.stateNode,q,K),w$(Z,K),S1!==4&&(S1=2)),!1;var X=Error(l(520),{cause:q});if(X=K6(X,Q),Gq===null?Gq=[X]:Gq.push(X),S1!==4&&(S1=2),J===null)return!0;q=K6(q,Q),Q=J;do{switch(Q.tag){case 3:return Q.flags|=65536,Z=K&-K,Q.lanes|=Z,Z=MA(Q.stateNode,q,Z),w$(Q,Z),!1;case 1:if(J=Q.type,X=Q.stateNode,(Q.flags&128)===0&&(typeof J.getDerivedStateFromError==="function"||X!==null&&typeof X.componentDidCatch==="function"&&(n7===null||!n7.has(X))))return Q.flags|=65536,K&=-K,Q.lanes|=K,K=hL(K),xL(K,Z,Q,q),w$(Q,K),!1}Q=Q.return}while(Q!==null);return!1}function W5(Z,J,Q,q){J.child=Z===null?rC(J,null,Q,q):NZ(J,Z.child,Q,q)}function Fw(Z,J,Q,q,K){Q=Q.render;var X=J.ref;if("ref"in q){var z={};for(var Y in q)Y!=="ref"&&(z[Y]=q[Y])}else z=q;if(XZ(J),q=H3(Z,J,Q,z,X,K),Y=Y3(),Z!==null&&!n1)return V3(Z,J,K),i4(Z,J,K);return v0&&Y&&Z3(J),J.flags|=1,W5(Z,J,q,K),J.child}function jw(Z,J,Q,q,K){if(Z===null){var X=Q.type;if(typeof X==="function"&&!eA(X)&&X.defaultProps===void 0&&Q.compare===null)return J.tag=15,J.type=X,gL(Z,J,X,q,K);return Z=bN(Q.type,null,q,J,J.mode,K),Z.ref=J.ref,Z.return=J,J.child=Z}if(X=Z.child,!F3(Z,K)){var z=X.memoizedProps;if(Q=Q.compare,Q=Q!==null?Q:Rq,Q(z,q)&&Z.ref===J.ref)return i4(Z,J,K)}return J.flags|=1,Z=m4(X,q),Z.ref=J.ref,Z.return=J,J.child=Z}function gL(Z,J,Q,q,K){if(Z!==null){var X=Z.memoizedProps;if(Rq(X,q)&&Z.ref===J.ref)if(n1=!1,J.pendingProps=q=X,F3(Z,K))(Z.flags&131072)!==0&&(n1=!0);else return J.lanes=Z.lanes,i4(Z,J,K)}return WA(Z,J,Q,q,K)}function mL(Z,J,Q,q){var K=q.children,X=Z!==null?Z.memoizedState:null;if(Z===null&&J.stateNode===null&&(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),q.mode==="hidden"){if((J.flags&128)!==0){if(X=X!==null?X.baseLanes|Q:Q,Z!==null){q=J.child=Z.child;for(K=0;q!==null;)K=K|q.lanes|q.childLanes,q=q.sibling;q=K&~X}else q=0,J.child=null;return ww(Z,J,X,Q,q)}if((Q&536870912)!==0)J.memoizedState={baseLanes:0,cachePool:null},Z!==null&&kN(J,X!==null?X.cachePool:null),X!==null?Ow(J,X):UA(),JL(J);else return q=J.lanes=536870912,ww(Z,J,X!==null?X.baseLanes|Q:Q,Q,q)}else X!==null?(kN(J,X.cachePool),Ow(J,X),x7(J),J.memoizedState=null):(Z!==null&&kN(J,null),UA(),x7(J));return W5(Z,J,K,Q),J.child}function Nq(Z,J){return Z!==null&&Z.tag===22||J.stateNode!==null||(J.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),J.sibling}function ww(Z,J,Q,q,K){var X=q3();return X=X===null?null:{parent:s1._currentValue,pool:X},J.memoizedState={baseLanes:Q,cachePool:X},Z!==null&&kN(J,null),UA(),JL(J),Z!==null&&zJ(Z,J,q,!0),J.childLanes=K,null}function fN(Z,J){return J=qz({mode:J.mode,children:J.children},Z.mode),J.ref=Z.ref,Z.child=J,J.return=Z,J}function Cw(Z,J,Q){return NZ(J,Z.child,null,Q),Z=fN(J,J.pendingProps),Z.flags|=2,k8(J),J.memoizedState=null,Z}function hu(Z,J,Q){var q=J.pendingProps,K=(J.flags&128)!==0;if(J.flags&=-129,Z===null){if(v0){if(q.mode==="hidden")return Z=fN(J,q),J.lanes=536870912,Nq(null,Z);if($A(J),(Z=B1)?(Z=kR(Z,X6),Z=Z!==null&&Z.data==="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:Z9!==null?{id:s6,overflow:n6}:null,retryLane:536870912,hydrationErrors:null},Q=pC(Z),Q.return=J,J.child=Q,F5=J,B1=null)):Z=null,Z===null)throw J9(J);return J.lanes=536870912,null}return fN(J,q)}var X=Z.memoizedState;if(X!==null){var z=X.dehydrated;if($A(J),K)if(J.flags&256)J.flags&=-257,J=Cw(Z,J,Q);else if(J.memoizedState!==null)J.child=Z.child,J.flags|=128,J=null;else throw Error(l(558));else if(n1||zJ(Z,J,Q,!1),K=(Q&Z.childLanes)!==0,n1||K){if(q=Y1,q!==null&&(z=_C(q,Q),z!==0&&z!==X.retryLane))throw X.retryLane=z,UZ(Z,z),z8(q,Z,z),G3;zz(),J=Cw(Z,J,Q)}else Z=X.treeContext,B1=z6(z.nextSibling),F5=J,v0=!0,i7=null,X6=!1,Z!==null&&aC(J,Z),J=fN(J,q),J.flags|=4096;return J}return Z=m4(Z.child,{mode:q.mode,children:q.children}),Z.ref=J.ref,J.child=Z,Z.return=J,Z}function yN(Z,J){var Q=J.ref;if(Q===null)Z!==null&&Z.ref!==null&&(J.flags|=4194816);else{if(typeof Q!=="function"&&typeof Q!=="object")throw Error(l(284));if(Z===null||Z.ref!==Q)J.flags|=4194816}}function WA(Z,J,Q,q,K){if(XZ(J),Q=H3(Z,J,Q,q,void 0,K),q=Y3(),Z!==null&&!n1)return V3(Z,J,K),i4(Z,J,K);return v0&&q&&Z3(J),J.flags|=1,W5(Z,J,Q,K),J.child}function Lw(Z,J,Q,q,K,X){if(XZ(J),J.updateQueue=null,Q=qL(J,q,Q,K),QL(Z),q=Y3(),Z!==null&&!n1)return V3(Z,J,X),i4(Z,J,X);return v0&&q&&Z3(J),J.flags|=1,W5(Z,J,Q,X),J.child}function Rw(Z,J,Q,q,K){if(XZ(J),J.stateNode===null){var X=h2,z=Q.contextType;typeof z==="object"&&z!==null&&(X=j5(z)),X=new Q(q,X),J.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=_A,J.stateNode=X,X._reactInternals=J,X=J.stateNode,X.props=q,X.state=J.memoizedState,X.refs={},X3(J),z=Q.contextType,X.context=typeof z==="object"&&z!==null?j5(z):h2,X.state=J.memoizedState,z=Q.getDerivedStateFromProps,typeof z==="function"&&(L$(J,Q,z,q),X.state=J.memoizedState),typeof Q.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(z=X.state,typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount(),z!==X.state&&_A.enqueueReplaceState(X,X.state,null),Bq(J,q,X,K),Dq(),X.state=J.memoizedState),typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!0}else if(Z===null){X=J.stateNode;var Y=J.memoizedProps,O=HZ(Q,Y);X.props=O;var U=X.context,A=Q.contextType;z=h2,typeof A==="object"&&A!==null&&(z=j5(A));var B=Q.getDerivedStateFromProps;A=typeof B==="function"||typeof X.getSnapshotBeforeUpdate==="function",Y=J.pendingProps!==Y,A||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(Y||U!==z)&&Ww(J,X,q,z),f7=!1;var _=J.memoizedState;X.state=_,Bq(J,q,X,K),Dq(),U=J.memoizedState,Y||_!==U||f7?(typeof B==="function"&&(L$(J,Q,B,q),U=J.memoizedState),(O=f7||Mw(J,Q,O,q,_,U,z))?(A||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount==="function"&&(J.flags|=4194308)):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),J.memoizedProps=q,J.memoizedState=U),X.props=q,X.state=U,X.context=z,q=O):(typeof X.componentDidMount==="function"&&(J.flags|=4194308),q=!1)}else{X=J.stateNode,VA(Z,J),z=J.memoizedProps,A=HZ(Q,z),X.props=A,B=J.pendingProps,_=X.context,U=Q.contextType,O=h2,typeof U==="object"&&U!==null&&(O=j5(U)),Y=Q.getDerivedStateFromProps,(U=typeof Y==="function"||typeof X.getSnapshotBeforeUpdate==="function")||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(z!==B||_!==O)&&Ww(J,X,q,O),f7=!1,_=J.memoizedState,X.state=_,Bq(J,q,X,K),Dq();var W=J.memoizedState;z!==B||_!==W||f7||Z!==null&&Z.dependencies!==null&&oN(Z.dependencies)?(typeof Y==="function"&&(L$(J,Q,Y,q),W=J.memoizedState),(A=f7||Mw(J,Q,A,q,_,W,O)||Z!==null&&Z.dependencies!==null&&oN(Z.dependencies))?(U||typeof X.UNSAFE_componentWillUpdate!=="function"&&typeof X.componentWillUpdate!=="function"||(typeof X.componentWillUpdate==="function"&&X.componentWillUpdate(q,W,O),typeof X.UNSAFE_componentWillUpdate==="function"&&X.UNSAFE_componentWillUpdate(q,W,O)),typeof X.componentDidUpdate==="function"&&(J.flags|=4),typeof X.getSnapshotBeforeUpdate==="function"&&(J.flags|=1024)):(typeof X.componentDidUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),J.memoizedProps=q,J.memoizedState=W),X.props=q,X.state=W,X.context=O,q=A):(typeof X.componentDidUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||z===Z.memoizedProps&&_===Z.memoizedState||(J.flags|=1024),q=!1)}return X=q,yN(Z,J),q=(J.flags&128)!==0,X||q?(X=J.stateNode,Q=q&&typeof Q.getDerivedStateFromError!=="function"?null:X.render(),J.flags|=1,Z!==null&&q?(J.child=NZ(J,Z.child,null,K),J.child=NZ(J,null,Q,K)):W5(Z,J,Q,K),J.memoizedState=X.state,Z=J.child):Z=i4(Z,J,K),Z}function Ew(Z,J,Q,q){return KZ(),J.flags|=256,W5(Z,J,Q,q),J.child}function E$(Z){return{baseLanes:Z,cachePool:nC()}}function I$(Z,J,Q){return Z=Z!==null?Z.childLanes&~Q:0,J&&(Z|=v8),Z}function dL(Z,J,Q){var q=J.pendingProps,K=!1,X=(J.flags&128)!==0,z;if((z=X)||(z=Z!==null&&Z.memoizedState===null?!1:(v1.current&2)!==0),z&&(K=!0,J.flags&=-129),z=(J.flags&32)!==0,J.flags&=-33,Z===null){if(v0){if(K?h7(J):x7(J),(Z=B1)?(Z=kR(Z,X6),Z=Z!==null&&Z.data!=="&"?Z:null,Z!==null&&(J.memoizedState={dehydrated:Z,treeContext:Z9!==null?{id:s6,overflow:n6}:null,retryLane:536870912,hydrationErrors:null},Q=pC(Z),Q.return=J,J.child=Q,F5=J,B1=null)):Z=null,Z===null)throw J9(J);return fA(Z)?J.lanes=32:J.lanes=536870912,null}var Y=q.children;if(q=q.fallback,K)return x7(J),K=J.mode,Y=qz({mode:"hidden",children:Y},K),q=ZZ(q,K,Q,null),Y.return=J,q.return=J,Y.sibling=q,J.child=Y,q=J.child,q.memoizedState=E$(Q),q.childLanes=I$(Z,z,Q),J.memoizedState=R$,Nq(null,q);return h7(J),GA(J,Y)}var O=Z.memoizedState;if(O!==null&&(Y=O.dehydrated,Y!==null)){if(X)J.flags&256?(h7(J),J.flags&=-257,J=T$(Z,J,Q)):J.memoizedState!==null?(x7(J),J.child=Z.child,J.flags|=128,J=null):(x7(J),Y=q.fallback,K=J.mode,q=qz({mode:"visible",children:q.children},K),Y=ZZ(Y,K,Q,null),Y.flags|=2,q.return=J,Y.return=J,q.sibling=Y,J.child=q,NZ(J,Z.child,null,Q),q=J.child,q.memoizedState=E$(Q),q.childLanes=I$(Z,z,Q),J.memoizedState=R$,J=Nq(null,q));else if(h7(J),fA(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var U=z.dgst;z=U,q=Error(l(419)),q.stack="",q.digest=z,Iq({value:q,source:null,stack:null}),J=T$(Z,J,Q)}else if(n1||zJ(Z,J,Q,!1),z=(Q&Z.childLanes)!==0,n1||z){if(z=Y1,z!==null&&(q=_C(z,Q),q!==0&&q!==O.retryLane))throw O.retryLane=q,UZ(Z,q),z8(z,Z,q),G3;vA(Y)||zz(),J=T$(Z,J,Q)}else vA(Y)?(J.flags|=192,J.child=Z.child,J=null):(Z=O.treeContext,B1=z6(Y.nextSibling),F5=J,v0=!0,i7=null,X6=!1,Z!==null&&aC(J,Z),J=GA(J,q.children),J.flags|=4096);return J}if(K)return x7(J),Y=q.fallback,K=J.mode,O=Z.child,U=O.sibling,q=m4(O,{mode:"hidden",children:q.children}),q.subtreeFlags=O.subtreeFlags&65011712,U!==null?Y=m4(U,Y):(Y=ZZ(Y,K,Q,null),Y.flags|=2),Y.return=J,q.return=J,q.sibling=Y,J.child=q,Nq(null,q),q=J.child,Y=Z.child.memoizedState,Y===null?Y=E$(Q):(K=Y.cachePool,K!==null?(O=s1._currentValue,K=K.parent!==O?{parent:O,pool:O}:K):K=nC(),Y={baseLanes:Y.baseLanes|Q,cachePool:K}),q.memoizedState=Y,q.childLanes=I$(Z,z,Q),J.memoizedState=R$,Nq(Z.child,q);return h7(J),Q=Z.child,Z=Q.sibling,Q=m4(Q,{mode:"visible",children:q.children}),Q.return=J,Q.sibling=null,Z!==null&&(z=J.deletions,z===null?(J.deletions=[Z],J.flags|=16):z.push(Z)),J.child=Q,J.memoizedState=null,Q}function GA(Z,J){return J=qz({mode:"visible",children:J},Z.mode),J.return=Z,Z.child=J}function qz(Z,J){return Z=P8(22,Z,null,J),Z.lanes=0,Z}function T$(Z,J,Q){return NZ(J,Z.child,null,Q),Z=GA(J,J.pendingProps.children),Z.flags|=2,J.memoizedState=null,Z}function Iw(Z,J,Q){Z.lanes|=J;var q=Z.alternate;q!==null&&(q.lanes|=J),zA(Z.return,J,Q)}function S$(Z,J,Q,q,K,X){var z=Z.memoizedState;z===null?Z.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:q,tail:Q,tailMode:K,treeForkCount:X}:(z.isBackwards=J,z.rendering=null,z.renderingStartTime=0,z.last=q,z.tail=Q,z.tailMode=K,z.treeForkCount=X)}function cL(Z,J,Q){var q=J.pendingProps,K=q.revealOrder,X=q.tail;q=q.children;var z=v1.current,Y=(z&2)!==0;if(Y?(z=z&1|2,J.flags|=128):z&=1,U1(v1,z),W5(Z,J,q,Q),q=v0?Eq:0,!Y&&Z!==null&&(Z.flags&128)!==0)Z:for(Z=J.child;Z!==null;){if(Z.tag===13)Z.memoizedState!==null&&Iw(Z,Q,J);else if(Z.tag===19)Iw(Z,Q,J);else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===J)break Z;for(;Z.sibling===null;){if(Z.return===null||Z.return===J)break Z;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}switch(K){case"forwards":Q=J.child;for(K=null;Q!==null;)Z=Q.alternate,Z!==null&&eN(Z)===null&&(K=Q),Q=Q.sibling;Q=K,Q===null?(K=J.child,J.child=null):(K=Q.sibling,Q.sibling=null),S$(J,!1,K,Q,X,q);break;case"backwards":case"unstable_legacy-backwards":Q=null,K=J.child;for(J.child=null;K!==null;){if(Z=K.alternate,Z!==null&&eN(Z)===null){J.child=K;break}Z=K.sibling,K.sibling=Q,Q=K,K=Z}S$(J,!0,Q,null,X,q);break;case"together":S$(J,!1,null,null,void 0,q);break;default:J.memoizedState=null}return J.child}function i4(Z,J,Q){if(Z!==null&&(J.dependencies=Z.dependencies),q9|=J.lanes,(Q&J.childLanes)===0)if(Z!==null){if(zJ(Z,J,Q,!1),(Q&J.childLanes)===0)return null}else return null;if(Z!==null&&J.child!==Z.child)throw Error(l(153));if(J.child!==null){Z=J.child,Q=m4(Z,Z.pendingProps),J.child=Q;for(Q.return=J;Z.sibling!==null;)Z=Z.sibling,Q=Q.sibling=m4(Z,Z.pendingProps),Q.return=J;Q.sibling=null}return J.child}function F3(Z,J){if((Z.lanes&J)!==0)return!0;return Z=Z.dependencies,Z!==null&&oN(Z)?!0:!1}function xu(Z,J,Q){switch(J.tag){case 3:uN(J,J.stateNode.containerInfo),y7(J,s1,Z.memoizedState.cache),KZ();break;case 27:case 5:s$(J);break;case 4:uN(J,J.stateNode.containerInfo);break;case 10:y7(J,J.type,J.memoizedProps.value);break;case 31:if(J.memoizedState!==null)return J.flags|=128,$A(J),null;break;case 13:var q=J.memoizedState;if(q!==null){if(q.dehydrated!==null)return h7(J),J.flags|=128,null;if((Q&J.child.childLanes)!==0)return dL(Z,J,Q);return h7(J),Z=i4(Z,J,Q),Z!==null?Z.sibling:null}h7(J);break;case 19:var K=(Z.flags&128)!==0;if(q=(Q&J.childLanes)!==0,q||(zJ(Z,J,Q,!1),q=(Q&J.childLanes)!==0),K){if(q)return cL(Z,J,Q);J.flags|=128}if(K=J.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),U1(v1,v1.current),q)break;else return null;case 22:return J.lanes=0,mL(Z,J,Q,J.pendingProps);case 24:y7(J,s1,Z.memoizedState.cache)}return i4(Z,J,Q)}function uL(Z,J,Q){if(Z!==null)if(Z.memoizedProps!==J.pendingProps)n1=!0;else{if(!F3(Z,Q)&&(J.flags&128)===0)return n1=!1,xu(Z,J,Q);n1=(Z.flags&131072)!==0?!0:!1}else n1=!1,v0&&(J.flags&1048576)!==0&&iC(J,Eq,J.index);switch(J.lanes=0,J.tag){case 16:Z:{var q=J.pendingProps;if(Z=t9(J.elementType),J.type=Z,typeof Z==="function")eA(Z)?(q=HZ(Z,q),J.tag=1,J=Rw(null,J,Z,q,Q)):(J.tag=0,J=WA(null,J,Z,q,Q));else{if(Z!==void 0&&Z!==null){var K=Z.$$typeof;if(K===gA){J.tag=11,J=Fw(null,J,Z,q,Q);break Z}else if(K===mA){J.tag=14,J=jw(null,J,Z,q,Q);break Z}}throw J=i$(Z)||Z,Error(l(306,J,""))}}return J;case 0:return WA(Z,J,J.type,J.pendingProps,Q);case 1:return q=J.type,K=HZ(q,J.pendingProps),Rw(Z,J,q,K,Q);case 3:Z:{if(uN(J,J.stateNode.containerInfo),Z===null)throw Error(l(387));q=J.pendingProps;var X=J.memoizedState;K=X.element,VA(Z,J),Bq(J,q,null,Q);var z=J.memoizedState;if(q=z.cache,y7(J,s1,q),q!==X.cache&&HA(J,[s1],Q,!0),Dq(),q=z.element,X.isDehydrated)if(X={element:q,isDehydrated:!1,cache:z.cache},J.updateQueue.baseState=X,J.memoizedState=X,J.flags&256){J=Ew(Z,J,q,Q);break Z}else if(q!==K){K=K6(Error(l(424)),J),Iq(K),J=Ew(Z,J,q,Q);break Z}else{switch(Z=J.stateNode.containerInfo,Z.nodeType){case 9:Z=Z.body;break;default:Z=Z.nodeName==="HTML"?Z.ownerDocument.body:Z}B1=z6(Z.firstChild),F5=J,v0=!0,i7=null,X6=!0,Q=rC(J,null,q,Q);for(J.child=Q;Q;)Q.flags=Q.flags&-3|4096,Q=Q.sibling}else{if(KZ(),q===K){J=i4(Z,J,Q);break Z}W5(Z,J,q,Q)}J=J.child}return J;case 26:return yN(Z,J),Z===null?(Q=sw(J.type,null,J.pendingProps,null))?J.memoizedState=Q:v0||(Q=J.type,Z=J.pendingProps,q=Oz(p7.current).createElement(Q),q[G5]=J,q[H8]=Z,w5(q,Q,Z),H5(q),J.stateNode=q):J.memoizedState=sw(J.type,Z.memoizedProps,J.pendingProps,Z.memoizedState),null;case 27:return s$(J),Z===null&&v0&&(q=J.stateNode=PR(J.type,J.pendingProps,p7.current),F5=J,X6=!0,K=B1,X9(J.type)?(yA=K,B1=z6(q.firstChild)):B1=K),W5(Z,J,J.pendingProps.children,Q),yN(Z,J),Z===null&&(J.flags|=4194304),J.child;case 5:if(Z===null&&v0){if(K=q=B1)q=Ul(q,J.type,J.pendingProps,X6),q!==null?(J.stateNode=q,F5=J,B1=z6(q.firstChild),X6=!1,K=!0):K=!1;K||J9(J)}return s$(J),K=J.type,X=J.pendingProps,z=Z!==null?Z.memoizedProps:null,q=X.children,kA(K,X)?q=null:z!==null&&kA(K,z)&&(J.flags|=32),J.memoizedState!==null&&(K=H3(Z,J,Tu,null,null,Q),vq._currentValue=K),yN(Z,J),W5(Z,J,q,Q),J.child;case 6:if(Z===null&&v0){if(Z=Q=B1)Q=$l(Q,J.pendingProps,X6),Q!==null?(J.stateNode=Q,F5=J,B1=null,Z=!0):Z=!1;Z||J9(J)}return null;case 13:return dL(Z,J,Q);case 4:return uN(J,J.stateNode.containerInfo),q=J.pendingProps,Z===null?J.child=NZ(J,null,q,Q):W5(Z,J,q,Q),J.child;case 11:return Fw(Z,J,J.type,J.pendingProps,Q);case 7:return W5(Z,J,J.pendingProps,Q),J.child;case 8:return W5(Z,J,J.pendingProps.children,Q),J.child;case 12:return W5(Z,J,J.pendingProps.children,Q),J.child;case 10:return q=J.pendingProps,y7(J,J.type,q.value),W5(Z,J,q.children,Q),J.child;case 9:return K=J.type._context,q=J.pendingProps.children,XZ(J),K=j5(K),q=q(K),J.flags|=1,W5(Z,J,q,Q),J.child;case 14:return jw(Z,J,J.type,J.pendingProps,Q);case 15:return gL(Z,J,J.type,J.pendingProps,Q);case 19:return cL(Z,J,Q);case 31:return hu(Z,J,Q);case 22:return mL(Z,J,Q,J.pendingProps);case 24:return XZ(J),q=j5(s1),Z===null?(K=q3(),K===null&&(K=Y1,X=Q3(),K.pooledCache=X,X.refCount++,X!==null&&(K.pooledCacheLanes|=Q),K=X),J.memoizedState={parent:q,cache:K},X3(J),y7(J,s1,K)):((Z.lanes&Q)!==0&&(VA(Z,J),Bq(J,null,null,Q),Dq()),K=Z.memoizedState,X=J.memoizedState,K.parent!==q?(K={parent:q,cache:q},J.memoizedState=K,J.lanes===0&&(J.memoizedState=J.updateQueue.baseState=K),y7(J,s1,q)):(q=X.cache,y7(J,s1,q),q!==K.cache&&HA(J,[s1],Q,!0))),W5(Z,J,J.pendingProps.children,Q),J.child;case 29:throw J.pendingProps}throw Error(l(156,J.tag))}function b4(Z){Z.flags|=4}function b$(Z,J,Q,q,K){if(J=(Z.mode&32)!==0)J=!1;if(J){if(Z.flags|=16777216,(K&335544128)===K)if(Z.stateNode.complete)Z.flags|=8192;else if($R())Z.flags|=8192;else throw QZ=tN,K3}else Z.flags&=-16777217}function Tw(Z,J){if(J.type!=="stylesheet"||(J.state.loading&4)!==0)Z.flags&=-16777217;else if(Z.flags|=16777216,!yR(J))if($R())Z.flags|=8192;else throw QZ=tN,K3}function FN(Z,J){J!==null&&(Z.flags|=4),Z.flags&16384&&(J=Z.tag!==22?AC():536870912,Z.lanes|=J,ZJ|=J)}function rQ(Z,J){if(!v0)switch(Z.tailMode){case"hidden":J=Z.tail;for(var Q=null;J!==null;)J.alternate!==null&&(Q=J),J=J.sibling;Q===null?Z.tail=null:Q.sibling=null;break;case"collapsed":Q=Z.tail;for(var q=null;Q!==null;)Q.alternate!==null&&(q=Q),Q=Q.sibling;q===null?J||Z.tail===null?Z.tail=null:Z.tail.sibling=null:q.sibling=null}}function D1(Z){var J=Z.alternate!==null&&Z.alternate.child===Z.child,Q=0,q=0;if(J)for(var K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags&65011712,q|=K.flags&65011712,K.return=Z,K=K.sibling;else for(K=Z.child;K!==null;)Q|=K.lanes|K.childLanes,q|=K.subtreeFlags,q|=K.flags,K.return=Z,K=K.sibling;return Z.subtreeFlags|=q,Z.childLanes=Q,J}function gu(Z,J,Q){var q=J.pendingProps;switch(J3(J),J.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return D1(J),null;case 1:return D1(J),null;case 3:if(Q=J.stateNode,q=null,Z!==null&&(q=Z.memoizedState.cache),J.memoizedState.cache!==q&&(J.flags|=2048),d4(s1),s2(),Q.pendingContext&&(Q.context=Q.pendingContext,Q.pendingContext=null),Z===null||Z.child===null)C2(J)?b4(J):Z===null||Z.memoizedState.isDehydrated&&(J.flags&256)===0||(J.flags|=1024,j$());return D1(J),null;case 26:var{type:K,memoizedState:X}=J;return Z===null?(b4(J),X!==null?(D1(J),Tw(J,X)):(D1(J),b$(J,K,null,q,Q))):X?X!==Z.memoizedState?(b4(J),D1(J),Tw(J,X)):(D1(J),J.flags&=-16777217):(Z=Z.memoizedProps,Z!==q&&b4(J),D1(J),b$(J,K,Z,q,Q)),null;case 27:if(lN(J),Q=p7.current,K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&b4(J);else{if(!q){if(J.stateNode===null)throw Error(l(166));return D1(J),null}Z=t6.current,C2(J)?Kw(J,Z):(Z=PR(K,q,Q),J.stateNode=Z,b4(J))}return D1(J),null;case 5:if(lN(J),K=J.type,Z!==null&&J.stateNode!=null)Z.memoizedProps!==q&&b4(J);else{if(!q){if(J.stateNode===null)throw Error(l(166));return D1(J),null}if(X=t6.current,C2(J))Kw(J,X);else{var z=Oz(p7.current);switch(X){case 1:X=z.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:X=z.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":X=z.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":X=z.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":X=z.createElement("div"),X.innerHTML="<script></script>",X=X.removeChild(X.firstChild);break;case"select":X=typeof q.is==="string"?z.createElement("select",{is:q.is}):z.createElement("select"),q.multiple?X.multiple=!0:q.size&&(X.size=q.size);break;default:X=typeof q.is==="string"?z.createElement(K,{is:q.is}):z.createElement(K)}}X[G5]=J,X[H8]=q;Z:for(z=J.child;z!==null;){if(z.tag===5||z.tag===6)X.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===J)break Z;for(;z.sibling===null;){if(z.return===null||z.return===J)break Z;z=z.return}z.sibling.return=z.return,z=z.sibling}J.stateNode=X;Z:switch(w5(X,K,q),K){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break Z;case"img":q=!0;break Z;default:q=!1}q&&b4(J)}}return D1(J),b$(J,J.type,Z===null?null:Z.memoizedProps,J.pendingProps,Q),null;case 6:if(Z&&J.stateNode!=null)Z.memoizedProps!==q&&b4(J);else{if(typeof q!=="string"&&J.stateNode===null)throw Error(l(166));if(Z=p7.current,C2(J)){if(Z=J.stateNode,Q=J.memoizedProps,q=null,K=F5,K!==null)switch(K.tag){case 27:case 5:q=K.memoizedProps}Z[G5]=J,Z=Z.nodeValue===Q||q!==null&&q.suppressHydrationWarning===!0||TR(Z.nodeValue,Q)?!0:!1,Z||J9(J,!0)}else Z=Oz(Z).createTextNode(q),Z[G5]=J,J.stateNode=Z}return D1(J),null;case 31:if(Q=J.memoizedState,Z===null||Z.memoizedState!==null){if(q=C2(J),Q!==null){if(Z===null){if(!q)throw Error(l(318));if(Z=J.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(l(557));Z[G5]=J}else KZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;D1(J),Z=!1}else Q=j$(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=Q),Z=!0;if(!Z){if(J.flags&256)return k8(J),J;return k8(J),null}if((J.flags&128)!==0)throw Error(l(558))}return D1(J),null;case 13:if(q=J.memoizedState,Z===null||Z.memoizedState!==null&&Z.memoizedState.dehydrated!==null){if(K=C2(J),q!==null&&q.dehydrated!==null){if(Z===null){if(!K)throw Error(l(318));if(K=J.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(l(317));K[G5]=J}else KZ(),(J.flags&128)===0&&(J.memoizedState=null),J.flags|=4;D1(J),K=!1}else K=j$(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=K),K=!0;if(!K){if(J.flags&256)return k8(J),J;return k8(J),null}}if(k8(J),(J.flags&128)!==0)return J.lanes=Q,J;return Q=q!==null,Z=Z!==null&&Z.memoizedState!==null,Q&&(q=J.child,K=null,q.alternate!==null&&q.alternate.memoizedState!==null&&q.alternate.memoizedState.cachePool!==null&&(K=q.alternate.memoizedState.cachePool.pool),X=null,q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(X=q.memoizedState.cachePool.pool),X!==K&&(q.flags|=2048)),Q!==Z&&Q&&(J.child.flags|=8192),FN(J,J.updateQueue),D1(J),null;case 4:return s2(),Z===null&&I3(J.stateNode.containerInfo),D1(J),null;case 10:return d4(J.type),D1(J),null;case 19:if(Y5(v1),q=J.memoizedState,q===null)return D1(J),null;if(K=(J.flags&128)!==0,X=q.rendering,X===null)if(K)rQ(q,!1);else{if(S1!==0||Z!==null&&(Z.flags&128)!==0)for(Z=J.child;Z!==null;){if(X=eN(Z),X!==null){J.flags|=128,rQ(q,!1),Z=X.updateQueue,J.updateQueue=Z,FN(J,Z),J.subtreeFlags=0,Z=Q;for(Q=J.child;Q!==null;)lC(Q,Z),Q=Q.sibling;return U1(v1,v1.current&1|2),v0&&f4(J,q.treeForkCount),J.child}Z=Z.sibling}q.tail!==null&&f8()>Xz&&(J.flags|=128,K=!0,rQ(q,!1),J.lanes=4194304)}else{if(!K)if(Z=eN(X),Z!==null){if(J.flags|=128,K=!0,Z=Z.updateQueue,J.updateQueue=Z,FN(J,Z),rQ(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!v0)return D1(J),null}else 2*f8()-q.renderingStartTime>Xz&&Q!==536870912&&(J.flags|=128,K=!0,rQ(q,!1),J.lanes=4194304);q.isBackwards?(X.sibling=J.child,J.child=X):(Z=q.last,Z!==null?Z.sibling=X:J.child=X,q.last=X)}if(q.tail!==null)return Z=q.tail,q.rendering=Z,q.tail=Z.sibling,q.renderingStartTime=f8(),Z.sibling=null,Q=v1.current,U1(v1,K?Q&1|2:Q&1),v0&&f4(J,q.treeForkCount),Z;return D1(J),null;case 22:case 23:return k8(J),N3(),q=J.memoizedState!==null,Z!==null?Z.memoizedState!==null!==q&&(J.flags|=8192):q&&(J.flags|=8192),q?(Q&536870912)!==0&&(J.flags&128)===0&&(D1(J),J.subtreeFlags&6&&(J.flags|=8192)):D1(J),Q=J.updateQueue,Q!==null&&FN(J,Q.retryQueue),Q=null,Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),q=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(q=J.memoizedState.cachePool.pool),q!==Q&&(J.flags|=2048),Z!==null&&Y5(JZ),null;case 24:return Q=null,Z!==null&&(Q=Z.memoizedState.cache),J.memoizedState.cache!==Q&&(J.flags|=2048),d4(s1),D1(J),null;case 25:return null;case 30:return null}throw Error(l(156,J.tag))}function mu(Z,J){switch(J3(J),J.tag){case 1:return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 3:return d4(s1),s2(),Z=J.flags,(Z&65536)!==0&&(Z&128)===0?(J.flags=Z&-65537|128,J):null;case 26:case 27:case 5:return lN(J),null;case 31:if(J.memoizedState!==null){if(k8(J),J.alternate===null)throw Error(l(340));KZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 13:if(k8(J),Z=J.memoizedState,Z!==null&&Z.dehydrated!==null){if(J.alternate===null)throw Error(l(340));KZ()}return Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 19:return Y5(v1),null;case 4:return s2(),null;case 10:return d4(J.type),null;case 22:case 23:return k8(J),N3(),Z!==null&&Y5(JZ),Z=J.flags,Z&65536?(J.flags=Z&-65537|128,J):null;case 24:return d4(s1),null;case 25:return null;default:return null}}function lL(Z,J){switch(J3(J),J.tag){case 3:d4(s1),s2();break;case 26:case 27:case 5:lN(J);break;case 4:s2();break;case 31:J.memoizedState!==null&&k8(J);break;case 13:k8(J);break;case 19:Y5(v1);break;case 10:d4(J.type);break;case 22:case 23:k8(J),N3(),Z!==null&&Y5(JZ);break;case 24:d4(s1)}}function pq(Z,J){try{var Q=J.updateQueue,q=Q!==null?Q.lastEffect:null;if(q!==null){var K=q.next;Q=K;do{if((Q.tag&Z)===Z){q=void 0;var{create:X,inst:z}=Q;q=X(),z.destroy=q}Q=Q.next}while(Q!==K)}}catch(Y){Z1(J,J.return,Y)}}function Q9(Z,J,Q){try{var q=J.updateQueue,K=q!==null?q.lastEffect:null;if(K!==null){var X=K.next;q=X;do{if((q.tag&Z)===Z){var z=q.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,K=J;var O=Q,U=Y;try{U()}catch(A){Z1(K,O,A)}}}q=q.next}while(q!==X)}}catch(A){Z1(J,J.return,A)}}function pL(Z){var J=Z.updateQueue;if(J!==null){var Q=Z.stateNode;try{ZL(J,Q)}catch(q){Z1(Z,Z.return,q)}}}function iL(Z,J,Q){Q.props=HZ(Z.type,Z.memoizedProps),Q.state=Z.memoizedState;try{Q.componentWillUnmount()}catch(q){Z1(Z,J,q)}}function Mq(Z,J){try{var Q=Z.ref;if(Q!==null){switch(Z.tag){case 26:case 27:case 5:var q=Z.stateNode;break;case 30:q=Z.stateNode;break;default:q=Z.stateNode}typeof Q==="function"?Z.refCleanup=Q(q):Q.current=q}}catch(K){Z1(Z,J,K)}}function o6(Z,J){var{ref:Q,refCleanup:q}=Z;if(Q!==null)if(typeof q==="function")try{q()}catch(K){Z1(Z,J,K)}finally{Z.refCleanup=null,Z=Z.alternate,Z!=null&&(Z.refCleanup=null)}else if(typeof Q==="function")try{Q(null)}catch(K){Z1(Z,J,K)}else Q.current=null}function aL(Z){var{type:J,memoizedProps:Q,stateNode:q}=Z;try{Z:switch(J){case"button":case"input":case"select":case"textarea":Q.autoFocus&&q.focus();break Z;case"img":Q.src?q.src=Q.src:Q.srcSet&&(q.srcset=Q.srcSet)}}catch(K){Z1(Z,Z.return,K)}}function k$(Z,J,Q){try{var q=Z.stateNode;Nl(q,Z.type,Q,J),q[H8]=J}catch(K){Z1(Z,Z.return,K)}}function sL(Z){return Z.tag===5||Z.tag===3||Z.tag===26||Z.tag===27&&X9(Z.type)||Z.tag===4}function P$(Z){Z:for(;;){for(;Z.sibling===null;){if(Z.return===null||sL(Z.return))return null;Z=Z.return}Z.sibling.return=Z.return;for(Z=Z.sibling;Z.tag!==5&&Z.tag!==6&&Z.tag!==18;){if(Z.tag===27&&X9(Z.type))continue Z;if(Z.flags&2)continue Z;if(Z.child===null||Z.tag===4)continue Z;else Z.child.return=Z,Z=Z.child}if(!(Z.flags&2))return Z.stateNode}}function FA(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?(Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q).insertBefore(Z,J):(J=Q.nodeType===9?Q.body:Q.nodeName==="HTML"?Q.ownerDocument.body:Q,J.appendChild(Z),Q=Q._reactRootContainer,Q!==null&&Q!==void 0||J.onclick!==null||(J.onclick=x4));else if(q!==4&&(q===27&&X9(Z.type)&&(Q=Z.stateNode,J=null),Z=Z.child,Z!==null))for(FA(Z,J,Q),Z=Z.sibling;Z!==null;)FA(Z,J,Q),Z=Z.sibling}function Kz(Z,J,Q){var q=Z.tag;if(q===5||q===6)Z=Z.stateNode,J?Q.insertBefore(Z,J):Q.appendChild(Z);else if(q!==4&&(q===27&&X9(Z.type)&&(Q=Z.stateNode),Z=Z.child,Z!==null))for(Kz(Z,J,Q),Z=Z.sibling;Z!==null;)Kz(Z,J,Q),Z=Z.sibling}function nL(Z){var{stateNode:J,memoizedProps:Q}=Z;try{for(var q=Z.type,K=J.attributes;K.length;)J.removeAttributeNode(K[0]);w5(J,q,Q),J[G5]=Z,J[H8]=Q}catch(X){Z1(Z,Z.return,X)}}function du(Z,J){if(Z=Z.containerInfo,SA=Dz,Z=yC(Z),oA(Z)){if("selectionStart"in Z)var Q={start:Z.selectionStart,end:Z.selectionEnd};else Z:{Q=(Q=Z.ownerDocument)&&Q.defaultView||window;var q=Q.getSelection&&Q.getSelection();if(q&&q.rangeCount!==0){Q=q.anchorNode;var{anchorOffset:K,focusNode:X}=q;q=q.focusOffset;try{Q.nodeType,X.nodeType}catch(C){Q=null;break Z}var z=0,Y=-1,O=-1,U=0,A=0,B=Z,_=null;J:for(;;){for(var W;;){if(B!==Q||K!==0&&B.nodeType!==3||(Y=z+K),B!==X||q!==0&&B.nodeType!==3||(O=z+q),B.nodeType===3&&(z+=B.nodeValue.length),(W=B.firstChild)===null)break;_=B,B=W}for(;;){if(B===Z)break J;if(_===Q&&++U===K&&(Y=z),_===X&&++A===q&&(O=z),(W=B.nextSibling)!==null)break;B=_,_=B.parentNode}B=W}Q=Y===-1||O===-1?null:{start:Y,end:O}}else Q=null}Q=Q||{start:0,end:0}}else Q=null;bA={focusedElem:Z,selectionRange:Q},Dz=!1;for(z5=J;z5!==null;)if(J=z5,Z=J.child,(J.subtreeFlags&1028)!==0&&Z!==null)Z.return=J,z5=Z;else for(;z5!==null;){switch(J=z5,X=J.alternate,Z=J.flags,J.tag){case 0:if((Z&4)!==0&&(Z=J.updateQueue,Z=Z!==null?Z.events:null,Z!==null))for(Q=0;Q<Z.length;Q++)K=Z[Q],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((Z&1024)!==0&&X!==null){Z=void 0,Q=J,K=X.memoizedProps,X=X.memoizedState,q=Q.stateNode;try{var F=HZ(Q.type,K);Z=q.getSnapshotBeforeUpdate(F,X),q.__reactInternalSnapshotBeforeUpdate=Z}catch(C){Z1(Q,Q.return,C)}}break;case 3:if((Z&1024)!==0){if(Z=J.stateNode.containerInfo,Q=Z.nodeType,Q===9)PA(Z);else if(Q===1)switch(Z.nodeName){case"HEAD":case"HTML":case"BODY":PA(Z);break;default:Z.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Z&1024)!==0)throw Error(l(163))}if(Z=J.sibling,Z!==null){Z.return=J.return,z5=Z;break}z5=J.return}}function oL(Z,J,Q){var q=Q.flags;switch(Q.tag){case 0:case 11:case 15:P4(Z,Q),q&4&&pq(5,Q);break;case 1:if(P4(Z,Q),q&4)if(Z=Q.stateNode,J===null)try{Z.componentDidMount()}catch(z){Z1(Q,Q.return,z)}else{var K=HZ(Q.type,J.memoizedProps);J=J.memoizedState;try{Z.componentDidUpdate(K,J,Z.__reactInternalSnapshotBeforeUpdate)}catch(z){Z1(Q,Q.return,z)}}q&64&&pL(Q),q&512&&Mq(Q,Q.return);break;case 3:if(P4(Z,Q),q&64&&(Z=Q.updateQueue,Z!==null)){if(J=null,Q.child!==null)switch(Q.child.tag){case 27:case 5:J=Q.child.stateNode;break;case 1:J=Q.child.stateNode}try{ZL(Z,J)}catch(z){Z1(Q,Q.return,z)}}break;case 27:J===null&&q&4&&nL(Q);case 26:case 5:P4(Z,Q),J===null&&q&4&&aL(Q),q&512&&Mq(Q,Q.return);break;case 12:P4(Z,Q);break;case 31:P4(Z,Q),q&4&&eL(Z,Q);break;case 13:P4(Z,Q),q&4&&ZR(Z,Q),q&64&&(Z=Q.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null&&(Q=ou.bind(null,Q),Al(Z,Q))));break;case 22:if(q=Q.memoizedState!==null||y4,!q){J=J!==null&&J.memoizedState!==null||a1,K=y4;var X=a1;y4=q,(a1=J)&&!X?v4(Z,Q,(Q.subtreeFlags&8772)!==0):P4(Z,Q),y4=K,a1=X}break;case 30:break;default:P4(Z,Q)}}function tL(Z){var J=Z.alternate;J!==null&&(Z.alternate=null,tL(J)),Z.child=null,Z.deletions=null,Z.sibling=null,Z.tag===5&&(J=Z.stateNode,J!==null&&lA(J)),Z.stateNode=null,Z.return=null,Z.dependencies=null,Z.memoizedProps=null,Z.memoizedState=null,Z.pendingProps=null,Z.stateNode=null,Z.updateQueue=null}function k4(Z,J,Q){for(Q=Q.child;Q!==null;)rL(Z,J,Q),Q=Q.sibling}function rL(Z,J,Q){if(y8&&typeof y8.onCommitFiberUnmount==="function")try{y8.onCommitFiberUnmount(xq,Q)}catch(X){}switch(Q.tag){case 26:a1||o6(Q,J),k4(Z,J,Q),Q.memoizedState?Q.memoizedState.count--:Q.stateNode&&(Q=Q.stateNode,Q.parentNode.removeChild(Q));break;case 27:a1||o6(Q,J);var q=G1,K=X8;X9(Q.type)&&(G1=Q.stateNode,X8=!1),k4(Z,J,Q),jq(Q.stateNode),G1=q,X8=K;break;case 5:a1||o6(Q,J);case 6:if(q=G1,K=X8,G1=null,k4(Z,J,Q),G1=q,X8=K,G1!==null)if(X8)try{(G1.nodeType===9?G1.body:G1.nodeName==="HTML"?G1.ownerDocument.body:G1).removeChild(Q.stateNode)}catch(X){Z1(Q,J,X)}else try{G1.removeChild(Q.stateNode)}catch(X){Z1(Q,J,X)}break;case 18:G1!==null&&(X8?(Z=G1,uw(Z.nodeType===9?Z.body:Z.nodeName==="HTML"?Z.ownerDocument.body:Z,Q.stateNode),KJ(Z)):uw(G1,Q.stateNode));break;case 4:q=G1,K=X8,G1=Q.stateNode.containerInfo,X8=!0,k4(Z,J,Q),G1=q,X8=K;break;case 0:case 11:case 14:case 15:Q9(2,Q,J),a1||Q9(4,Q,J),k4(Z,J,Q);break;case 1:a1||(o6(Q,J),q=Q.stateNode,typeof q.componentWillUnmount==="function"&&iL(Q,J,q)),k4(Z,J,Q);break;case 21:k4(Z,J,Q);break;case 22:a1=(q=a1)||Q.memoizedState!==null,k4(Z,J,Q),a1=q;break;default:k4(Z,J,Q)}}function eL(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null))){Z=Z.dehydrated;try{KJ(Z)}catch(Q){Z1(J,J.return,Q)}}}function ZR(Z,J){if(J.memoizedState===null&&(Z=J.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))))try{KJ(Z)}catch(Q){Z1(J,J.return,Q)}}function cu(Z){switch(Z.tag){case 31:case 13:case 19:var J=Z.stateNode;return J===null&&(J=Z.stateNode=new Sw),J;case 22:return Z=Z.stateNode,J=Z._retryCache,J===null&&(J=Z._retryCache=new Sw),J;default:throw Error(l(435,Z.tag))}}function jN(Z,J){var Q=cu(Z);J.forEach(function(q){if(!Q.has(q)){Q.add(q);var K=tu.bind(null,Z,q);q.then(K,K)}})}function q8(Z,J){var Q=J.deletions;if(Q!==null)for(var q=0;q<Q.length;q++){var K=Q[q],X=Z,z=J,Y=z;Z:for(;Y!==null;){switch(Y.tag){case 27:if(X9(Y.type)){G1=Y.stateNode,X8=!1;break Z}break;case 5:G1=Y.stateNode,X8=!1;break Z;case 3:case 4:G1=Y.stateNode.containerInfo,X8=!0;break Z}Y=Y.return}if(G1===null)throw Error(l(160));rL(X,z,K),G1=null,X8=!1,X=K.alternate,X!==null&&(X.return=null),K.return=null}if(J.subtreeFlags&13886)for(J=J.child;J!==null;)JR(J,Z),J=J.sibling}function JR(Z,J){var{alternate:Q,flags:q}=Z;switch(Z.tag){case 0:case 11:case 14:case 15:q8(J,Z),K8(Z),q&4&&(Q9(3,Z,Z.return),pq(3,Z),Q9(5,Z,Z.return));break;case 1:q8(J,Z),K8(Z),q&512&&(a1||Q===null||o6(Q,Q.return)),q&64&&y4&&(Z=Z.updateQueue,Z!==null&&(q=Z.callbacks,q!==null&&(Q=Z.shared.hiddenCallbacks,Z.shared.hiddenCallbacks=Q===null?q:Q.concat(q))));break;case 26:var K=L6;if(q8(J,Z),K8(Z),q&512&&(a1||Q===null||o6(Q,Q.return)),q&4){var X=Q!==null?Q.memoizedState:null;if(q=Z.memoizedState,Q===null)if(q===null)if(Z.stateNode===null){Z:{q=Z.type,Q=Z.memoizedProps,K=K.ownerDocument||K;J:switch(q){case"title":if(X=K.getElementsByTagName("title")[0],!X||X[dq]||X[G5]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))X=K.createElement(q),K.head.insertBefore(X,K.querySelector("head > title"));w5(X,q,Q),X[G5]=Z,H5(X),q=X;break Z;case"link":var z=ow("link","href",K).get(q+(Q.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(X=z[Y],X.getAttribute("href")===(Q.href==null||Q.href===""?null:Q.href)&&X.getAttribute("rel")===(Q.rel==null?null:Q.rel)&&X.getAttribute("title")===(Q.title==null?null:Q.title)&&X.getAttribute("crossorigin")===(Q.crossOrigin==null?null:Q.crossOrigin)){z.splice(Y,1);break J}}X=K.createElement(q),w5(X,q,Q),K.head.appendChild(X);break;case"meta":if(z=ow("meta","content",K).get(q+(Q.content||""))){for(Y=0;Y<z.length;Y++)if(X=z[Y],X.getAttribute("content")===(Q.content==null?null:""+Q.content)&&X.getAttribute("name")===(Q.name==null?null:Q.name)&&X.getAttribute("property")===(Q.property==null?null:Q.property)&&X.getAttribute("http-equiv")===(Q.httpEquiv==null?null:Q.httpEquiv)&&X.getAttribute("charset")===(Q.charSet==null?null:Q.charSet)){z.splice(Y,1);break J}}X=K.createElement(q),w5(X,q,Q),K.head.appendChild(X);break;default:throw Error(l(468,q))}X[G5]=Z,H5(X),q=X}Z.stateNode=q}else tw(K,Z.type,Z.stateNode);else Z.stateNode=nw(K,q,Z.memoizedProps);else X!==q?(X===null?Q.stateNode!==null&&(Q=Q.stateNode,Q.parentNode.removeChild(Q)):X.count--,q===null?tw(K,Z.type,Z.stateNode):nw(K,q,Z.memoizedProps)):q===null&&Z.stateNode!==null&&k$(Z,Z.memoizedProps,Q.memoizedProps)}break;case 27:q8(J,Z),K8(Z),q&512&&(a1||Q===null||o6(Q,Q.return)),Q!==null&&q&4&&k$(Z,Z.memoizedProps,Q.memoizedProps);break;case 5:if(q8(J,Z),K8(Z),q&512&&(a1||Q===null||o6(Q,Q.return)),Z.flags&32){K=Z.stateNode;try{o2(K,"")}catch(F){Z1(Z,Z.return,F)}}q&4&&Z.stateNode!=null&&(K=Z.memoizedProps,k$(Z,K,Q!==null?Q.memoizedProps:K)),q&1024&&(v$=!0);break;case 6:if(q8(J,Z),K8(Z),q&4){if(Z.stateNode===null)throw Error(l(162));q=Z.memoizedProps,Q=Z.stateNode;try{Q.nodeValue=q}catch(F){Z1(Z,Z.return,F)}}break;case 3:if(gN=null,K=L6,L6=Uz(J.containerInfo),q8(J,Z),L6=K,K8(Z),q&4&&Q!==null&&Q.memoizedState.isDehydrated)try{KJ(J.containerInfo)}catch(F){Z1(Z,Z.return,F)}v$&&(v$=!1,QR(Z));break;case 4:q=L6,L6=Uz(Z.stateNode.containerInfo),q8(J,Z),K8(Z),L6=q;break;case 12:q8(J,Z),K8(Z);break;case 31:q8(J,Z),K8(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,jN(Z,q)));break;case 13:q8(J,Z),K8(Z),Z.child.flags&8192&&Z.memoizedState!==null!==(Q!==null&&Q.memoizedState!==null)&&(Iz=f8()),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,jN(Z,q)));break;case 22:K=Z.memoizedState!==null;var O=Q!==null&&Q.memoizedState!==null,U=y4,A=a1;if(y4=U||K,a1=A||O,q8(J,Z),a1=A,y4=U,K8(Z),q&8192)Z:for(J=Z.stateNode,J._visibility=K?J._visibility&-2:J._visibility|1,K&&(Q===null||O||y4||a1||r9(Z)),Q=null,J=Z;;){if(J.tag===5||J.tag===26){if(Q===null){O=Q=J;try{if(X=O.stateNode,K)z=X.style,typeof z.setProperty==="function"?z.setProperty("display","none","important"):z.display="none";else{Y=O.stateNode;var B=O.memoizedProps.style,_=B!==void 0&&B!==null&&B.hasOwnProperty("display")?B.display:null;Y.style.display=_==null||typeof _==="boolean"?"":(""+_).trim()}}catch(F){Z1(O,O.return,F)}}}else if(J.tag===6){if(Q===null){O=J;try{O.stateNode.nodeValue=K?"":O.memoizedProps}catch(F){Z1(O,O.return,F)}}}else if(J.tag===18){if(Q===null){O=J;try{var W=O.stateNode;K?lw(W,!0):lw(O.stateNode,!1)}catch(F){Z1(O,O.return,F)}}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===Z)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===Z)break Z;for(;J.sibling===null;){if(J.return===null||J.return===Z)break Z;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}q&4&&(q=Z.updateQueue,q!==null&&(Q=q.retryQueue,Q!==null&&(q.retryQueue=null,jN(Z,Q))));break;case 19:q8(J,Z),K8(Z),q&4&&(q=Z.updateQueue,q!==null&&(Z.updateQueue=null,jN(Z,q)));break;case 30:break;case 21:break;default:q8(J,Z),K8(Z)}}function K8(Z){var J=Z.flags;if(J&2){try{for(var Q,q=Z.return;q!==null;){if(sL(q)){Q=q;break}q=q.return}if(Q==null)throw Error(l(160));switch(Q.tag){case 27:var K=Q.stateNode,X=P$(Z);Kz(Z,X,K);break;case 5:var z=Q.stateNode;Q.flags&32&&(o2(z,""),Q.flags&=-33);var Y=P$(Z);Kz(Z,Y,z);break;case 3:case 4:var O=Q.stateNode.containerInfo,U=P$(Z);FA(Z,U,O);break;default:throw Error(l(161))}}catch(A){Z1(Z,Z.return,A)}Z.flags&=-3}J&4096&&(Z.flags&=-4097)}function QR(Z){if(Z.subtreeFlags&1024)for(Z=Z.child;Z!==null;){var J=Z;QR(J),J.tag===5&&J.flags&1024&&J.stateNode.reset(),Z=Z.sibling}}function P4(Z,J){if(J.subtreeFlags&8772)for(J=J.child;J!==null;)oL(Z,J.alternate,J),J=J.sibling}function r9(Z){for(Z=Z.child;Z!==null;){var J=Z;switch(J.tag){case 0:case 11:case 14:case 15:Q9(4,J,J.return),r9(J);break;case 1:o6(J,J.return);var Q=J.stateNode;typeof Q.componentWillUnmount==="function"&&iL(J,J.return,Q),r9(J);break;case 27:jq(J.stateNode);case 26:case 5:o6(J,J.return),r9(J);break;case 22:J.memoizedState===null&&r9(J);break;case 30:r9(J);break;default:r9(J)}Z=Z.sibling}}function v4(Z,J,Q){Q=Q&&(J.subtreeFlags&8772)!==0;for(J=J.child;J!==null;){var q=J.alternate,K=Z,X=J,z=X.flags;switch(X.tag){case 0:case 11:case 15:v4(K,X,Q),pq(4,X);break;case 1:if(v4(K,X,Q),q=X,K=q.stateNode,typeof K.componentDidMount==="function")try{K.componentDidMount()}catch(U){Z1(q,q.return,U)}if(q=X,K=q.updateQueue,K!==null){var Y=q.stateNode;try{var O=K.shared.hiddenCallbacks;if(O!==null)for(K.shared.hiddenCallbacks=null,K=0;K<O.length;K++)eC(O[K],Y)}catch(U){Z1(q,q.return,U)}}Q&&z&64&&pL(X),Mq(X,X.return);break;case 27:nL(X);case 26:case 5:v4(K,X,Q),Q&&q===null&&z&4&&aL(X),Mq(X,X.return);break;case 12:v4(K,X,Q);break;case 31:v4(K,X,Q),Q&&z&4&&eL(K,X);break;case 13:v4(K,X,Q),Q&&z&4&&ZR(K,X);break;case 22:X.memoizedState===null&&v4(K,X,Q),Mq(X,X.return);break;case 30:break;default:v4(K,X,Q)}J=J.sibling}}function j3(Z,J){var Q=null;Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(Q=Z.memoizedState.cachePool.pool),Z=null,J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(Z=J.memoizedState.cachePool.pool),Z!==Q&&(Z!=null&&Z.refCount++,Q!=null&&uq(Q))}function w3(Z,J){Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&uq(Z))}function C6(Z,J,Q,q){if(J.subtreeFlags&10256)for(J=J.child;J!==null;)qR(Z,J,Q,q),J=J.sibling}function qR(Z,J,Q,q){var K=J.flags;switch(J.tag){case 0:case 11:case 15:C6(Z,J,Q,q),K&2048&&pq(9,J);break;case 1:C6(Z,J,Q,q);break;case 3:C6(Z,J,Q,q),K&2048&&(Z=null,J.alternate!==null&&(Z=J.alternate.memoizedState.cache),J=J.memoizedState.cache,J!==Z&&(J.refCount++,Z!=null&&uq(Z)));break;case 12:if(K&2048){C6(Z,J,Q,q),Z=J.stateNode;try{var X=J.memoizedProps,z=X.id,Y=X.onPostCommit;typeof Y==="function"&&Y(z,J.alternate===null?"mount":"update",Z.passiveEffectDuration,-0)}catch(O){Z1(J,J.return,O)}}else C6(Z,J,Q,q);break;case 31:C6(Z,J,Q,q);break;case 13:C6(Z,J,Q,q);break;case 23:break;case 22:X=J.stateNode,z=J.alternate,J.memoizedState!==null?X._visibility&2?C6(Z,J,Q,q):Wq(Z,J):X._visibility&2?C6(Z,J,Q,q):(X._visibility|=2,R2(Z,J,Q,q,(J.subtreeFlags&10256)!==0||!1)),K&2048&&j3(z,J);break;case 24:C6(Z,J,Q,q),K&2048&&w3(J.alternate,J);break;default:C6(Z,J,Q,q)}}function R2(Z,J,Q,q,K){K=K&&((J.subtreeFlags&10256)!==0||!1);for(J=J.child;J!==null;){var X=Z,z=J,Y=Q,O=q,U=z.flags;switch(z.tag){case 0:case 11:case 15:R2(X,z,Y,O,K),pq(8,z);break;case 23:break;case 22:var A=z.stateNode;z.memoizedState!==null?A._visibility&2?R2(X,z,Y,O,K):Wq(X,z):(A._visibility|=2,R2(X,z,Y,O,K)),K&&U&2048&&j3(z.alternate,z);break;case 24:R2(X,z,Y,O,K),K&&U&2048&&w3(z.alternate,z);break;default:R2(X,z,Y,O,K)}J=J.sibling}}function Wq(Z,J){if(J.subtreeFlags&10256)for(J=J.child;J!==null;){var Q=Z,q=J,K=q.flags;switch(q.tag){case 22:Wq(Q,q),K&2048&&j3(q.alternate,q);break;case 24:Wq(Q,q),K&2048&&w3(q.alternate,q);break;default:Wq(Q,q)}J=J.sibling}}function L2(Z,J,Q){if(Z.subtreeFlags&zq)for(Z=Z.child;Z!==null;)KR(Z,J,Q),Z=Z.sibling}function KR(Z,J,Q){switch(Z.tag){case 26:L2(Z,J,Q),Z.flags&zq&&Z.memoizedState!==null&&Rl(Q,L6,Z.memoizedState,Z.memoizedProps);break;case 5:L2(Z,J,Q);break;case 3:case 4:var q=L6;L6=Uz(Z.stateNode.containerInfo),L2(Z,J,Q),L6=q;break;case 22:Z.memoizedState===null&&(q=Z.alternate,q!==null&&q.memoizedState!==null?(q=zq,zq=16777216,L2(Z,J,Q),zq=q):L2(Z,J,Q));break;default:L2(Z,J,Q)}}function XR(Z){var J=Z.alternate;if(J!==null&&(Z=J.child,Z!==null)){J.child=null;do J=Z.sibling,Z.sibling=null,Z=J;while(Z!==null)}}function eQ(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];z5=q,zR(q,Z)}XR(Z)}if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;)NR(Z),Z=Z.sibling}function NR(Z){switch(Z.tag){case 0:case 11:case 15:eQ(Z),Z.flags&2048&&Q9(9,Z,Z.return);break;case 3:eQ(Z);break;case 12:eQ(Z);break;case 22:var J=Z.stateNode;Z.memoizedState!==null&&J._visibility&2&&(Z.return===null||Z.return.tag!==13)?(J._visibility&=-3,hN(Z)):eQ(Z);break;default:eQ(Z)}}function hN(Z){var J=Z.deletions;if((Z.flags&16)!==0){if(J!==null)for(var Q=0;Q<J.length;Q++){var q=J[Q];z5=q,zR(q,Z)}XR(Z)}for(Z=Z.child;Z!==null;){switch(J=Z,J.tag){case 0:case 11:case 15:Q9(8,J,J.return),hN(J);break;case 22:Q=J.stateNode,Q._visibility&2&&(Q._visibility&=-3,hN(J));break;default:hN(J)}Z=Z.sibling}}function zR(Z,J){for(;z5!==null;){var Q=z5;switch(Q.tag){case 0:case 11:case 15:Q9(8,Q,J);break;case 23:case 22:if(Q.memoizedState!==null&&Q.memoizedState.cachePool!==null){var q=Q.memoizedState.cachePool.pool;q!=null&&q.refCount++}break;case 24:uq(Q.memoizedState.cache)}if(q=Q.child,q!==null)q.return=Q,z5=q;else Z:for(Q=Z;z5!==null;){q=z5;var{sibling:K,return:X}=q;if(tL(q),q===Q){z5=null;break Z}if(K!==null){K.return=X,z5=K;break Z}z5=X}}}function x8(){return(l0&2)!==0&&k0!==0?k0&-k0:O0.T!==null?E3():MC()}function VR(){if(v8===0)if((k0&536870912)===0||v0){var Z=AN;AN<<=1,(AN&3932160)===0&&(AN=262144),v8=Z}else v8=536870912;return Z=m8.current,Z!==null&&(Z.flags|=32),v8}function z8(Z,J,Q){if(Z===Y1&&(e0===2||e0===9)||Z.cancelPendingCommit!==null)QJ(Z,0),u7(Z,k0,v8,!1);if(mq(Z,Q),(l0&2)===0||Z!==Y1)Z===Y1&&((l0&2)===0&&(qZ|=Q),S1===4&&u7(Z,k0,v8,!1)),e6(Z)}function OR(Z,J,Q){if((l0&6)!==0)throw Error(l(327));var q=!Q&&(J&127)===0&&(J&Z.expiredLanes)===0||gq(Z,J),K=q?au(Z,J):f$(Z,J,!0),X=q;do{if(K===0){YJ&&!q&&u7(Z,J,0,!1);break}else{if(Q=Z.current.alternate,X&&!pu(Q)){K=f$(Z,J,!1),X=!1;continue}if(K===2){if(X=J,Z.errorRecoveryDisabledLanes&X)var z=0;else z=Z.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){J=z;Z:{var Y=Z;K=Gq;var O=Y.current.memoizedState.isDehydrated;if(O&&(QJ(Y,z).flags|=256),z=f$(Y,z,!1),z!==2){if(C3&&!O){Y.errorRecoveryDisabledLanes|=X,qZ|=X,K=4;break Z}X=N8,N8=K,X!==null&&(N8===null?N8=X:N8.push.apply(N8,X))}K=z}if(X=!1,K!==2)continue}}if(K===1){QJ(Z,0),u7(Z,J,0,!0);break}Z:{switch(q=Z,X=K,X){case 0:case 1:throw Error(l(345));case 4:if((J&4194048)!==J)break;case 6:u7(q,J,v8,!c7);break Z;case 2:N8=null;break;case 3:case 5:break;default:throw Error(l(329))}if((J&62914560)===J&&(K=Iz+300-f8(),10<K)){if(u7(q,J,v8,!c7),_z(q,0,!0)!==0)break Z;c4=J,q.timeoutHandle=bR(bw.bind(null,q,Q,N8,Nz,jA,J,v8,qZ,ZJ,c7,X,"Throttled",-0,0),K);break Z}bw(q,Q,N8,Nz,jA,J,v8,qZ,ZJ,c7,X,null,-0,0)}}break}while(1);e6(Z)}function bw(Z,J,Q,q,K,X,z,Y,O,U,A,B,_,W){if(Z.timeoutHandle=-1,B=J.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:x4},KR(J,X,B);var F=(X&62914560)===X?Iz-f8():(X&4194048)===X?HR-f8():0;if(F=El(B,F),F!==null){c4=X,Z.cancelPendingCommit=F(Pw.bind(null,Z,J,X,Q,q,K,z,Y,O,A,B,null,_,W)),u7(Z,X,z,!U);return}}Pw(Z,J,X,Q,q,K,z,Y,O)}function pu(Z){for(var J=Z;;){var Q=J.tag;if((Q===0||Q===11||Q===15)&&J.flags&16384&&(Q=J.updateQueue,Q!==null&&(Q=Q.stores,Q!==null)))for(var q=0;q<Q.length;q++){var K=Q[q],X=K.getSnapshot;K=K.value;try{if(!g8(X(),K))return!1}catch(z){return!1}}if(Q=J.child,J.subtreeFlags&16384&&Q!==null)Q.return=J,J=Q;else{if(J===Z)break;for(;J.sibling===null;){if(J.return===null||J.return===Z)return!0;J=J.return}J.sibling.return=J.return,J=J.sibling}}return!0}function u7(Z,J,Q,q){J&=~L3,J&=~qZ,Z.suspendedLanes|=J,Z.pingedLanes&=~J,q&&(Z.warmLanes|=J),q=Z.expirationTimes;for(var K=J;0<K;){var X=31-h8(K),z=1<<X;q[X]=-1,K&=~z}Q!==0&&DC(Z,Q,J)}function Tz(){return(l0&6)===0?(iq(0,!1),!1):!0}function R3(){if(T0!==null){if(e0===0)var Z=T0.return;else Z=T0,g4=$Z=null,O3(Z),p2=null,Tq=0,Z=T0;for(;Z!==null;)lL(Z.alternate,Z),Z=Z.return;T0=null}}function QJ(Z,J){var Q=Z.timeoutHandle;Q!==-1&&(Z.timeoutHandle=-1,Yl(Q)),Q=Z.cancelPendingCommit,Q!==null&&(Z.cancelPendingCommit=null,Q()),c4=0,R3(),Y1=Z,T0=Q=m4(Z.current,null),k0=J,e0=0,b8=null,c7=!1,YJ=gq(Z,J),C3=!1,ZJ=v8=L3=qZ=q9=S1=0,N8=Gq=null,jA=!1,(J&8)!==0&&(J|=J&32);var q=Z.entangledLanes;if(q!==0)for(Z=Z.entanglements,q&=J;0<q;){var K=31-h8(q),X=1<<K;J|=Z[K],q&=~X}return a4=J,Fz(),Q}function UR(Z,J){G0=null,O0.H=bq,J===HJ||J===wz?(J=Yw(),e0=3):J===K3?(J=Yw(),e0=4):e0=J===G3?8:J!==null&&typeof J==="object"&&typeof J.then==="function"?6:1,b8=J,T0===null&&(S1=1,Qz(Z,K6(J,Z.current)))}function $R(){var Z=m8.current;return Z===null?!0:(k0&4194048)===k0?N6===null?!0:!1:(k0&62914560)===k0||(k0&536870912)!==0?Z===N6:!1}function AR(){var Z=O0.H;return O0.H=bq,Z===null?bq:Z}function DR(){var Z=O0.A;return O0.A=uu,Z}function zz(){S1=4,c7||(k0&4194048)!==k0&&m8.current!==null||(YJ=!0),(q9&134217727)===0&&(qZ&134217727)===0||Y1===null||u7(Y1,k0,v8,!1)}function f$(Z,J,Q){var q=l0;l0|=2;var K=AR(),X=DR();if(Y1!==Z||k0!==J)Nz=null,QJ(Z,J);J=!1;var z=S1;Z:do try{if(e0!==0&&T0!==null){var Y=T0,O=b8;switch(e0){case 8:R3(),z=6;break Z;case 3:case 2:case 9:case 6:m8.current===null&&(J=!0);var U=e0;if(e0=0,b8=null,m2(Z,Y,O,U),Q&&YJ){z=0;break Z}break;default:U=e0,e0=0,b8=null,m2(Z,Y,O,U)}}iu(),z=S1;break}catch(A){UR(Z,A)}while(1);return J&&Z.shellSuspendCounter++,g4=$Z=null,l0=q,O0.H=K,O0.A=X,T0===null&&(Y1=null,k0=0,Fz()),z}function iu(){for(;T0!==null;)BR(T0)}function au(Z,J){var Q=l0;l0|=2;var q=AR(),K=DR();Y1!==Z||k0!==J?(Nz=null,Xz=f8()+500,QJ(Z,J)):YJ=gq(Z,J);Z:do try{if(e0!==0&&T0!==null){J=T0;var X=b8;J:switch(e0){case 1:e0=0,b8=null,m2(Z,J,X,1);break;case 2:case 9:if(Hw(X)){e0=0,b8=null,kw(J);break}J=function(){e0!==2&&e0!==9||Y1!==Z||(e0=7),e6(Z)},X.then(J,J);break Z;case 3:e0=7;break Z;case 4:e0=5;break Z;case 7:Hw(X)?(e0=0,b8=null,kw(J)):(e0=0,b8=null,m2(Z,J,X,7));break;case 5:var z=null;switch(T0.tag){case 26:z=T0.memoizedState;case 5:case 27:var Y=T0;if(z?yR(z):Y.stateNode.complete){e0=0,b8=null;var O=Y.sibling;if(O!==null)T0=O;else{var U=Y.return;U!==null?(T0=U,Sz(U)):T0=null}break J}}e0=0,b8=null,m2(Z,J,X,5);break;case 6:e0=0,b8=null,m2(Z,J,X,6);break;case 8:R3(),S1=6;break Z;default:throw Error(l(462))}}su();break}catch(A){UR(Z,A)}while(1);if(g4=$Z=null,O0.H=q,O0.A=K,l0=Q,T0!==null)return 0;return Y1=null,k0=0,Fz(),S1}function su(){for(;T0!==null&&!_c();)BR(T0)}function BR(Z){var J=uL(Z.alternate,Z,a4);Z.memoizedProps=Z.pendingProps,J===null?Sz(Z):T0=J}function kw(Z){var J=Z,Q=J.alternate;switch(J.tag){case 15:case 0:J=Lw(Q,J,J.pendingProps,J.type,void 0,k0);break;case 11:J=Lw(Q,J,J.pendingProps,J.type.render,J.ref,k0);break;case 5:O3(J);default:lL(Q,J),J=T0=lC(J,a4),J=uL(Q,J,a4)}Z.memoizedProps=Z.pendingProps,J===null?Sz(Z):T0=J}function m2(Z,J,Q,q){g4=$Z=null,O3(J),p2=null,Tq=0;var K=J.return;try{if(yu(Z,K,J,Q,k0)){S1=1,Qz(Z,K6(Q,Z.current)),T0=null;return}}catch(X){if(K!==null)throw T0=K,X;S1=1,Qz(Z,K6(Q,Z.current)),T0=null;return}if(J.flags&32768){if(v0||q===1)Z=!0;else if(YJ||(k0&536870912)!==0)Z=!1;else if(c7=Z=!0,q===2||q===9||q===3||q===6)q=m8.current,q!==null&&q.tag===13&&(q.flags|=16384);_R(J,Z)}else Sz(J)}function Sz(Z){var J=Z;do{if((J.flags&32768)!==0){_R(J,c7);return}Z=J.return;var Q=gu(J.alternate,J,a4);if(Q!==null){T0=Q;return}if(J=J.sibling,J!==null){T0=J;return}T0=J=Z}while(J!==null);S1===0&&(S1=5)}function _R(Z,J){do{var Q=mu(Z.alternate,Z);if(Q!==null){Q.flags&=32767,T0=Q;return}if(Q=Z.return,Q!==null&&(Q.flags|=32768,Q.subtreeFlags=0,Q.deletions=null),!J&&(Z=Z.sibling,Z!==null)){T0=Z;return}T0=Z=Q}while(Z!==null);S1=6,T0=null}function Pw(Z,J,Q,q,K,X,z,Y,O){Z.cancelPendingCommit=null;do bz();while(Z5!==0);if((l0&6)!==0)throw Error(l(327));if(J!==null){if(J===Z.current)throw Error(l(177));if(X=J.lanes|J.childLanes,X|=tA,Ec(Z,Q,X,z,Y,O),Z===Y1&&(T0=Y1=null,k0=0),JJ=J,o7=Z,c4=Q,wA=X,CA=K,YR=q,(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?(Z.callbackNode=null,Z.callbackPriority=0,ru(pN,function(){return jR(),null})):(Z.callbackNode=null,Z.callbackPriority=0),q=(J.flags&13878)!==0,(J.subtreeFlags&13878)!==0||q){q=O0.T,O0.T=null,K=p0.p,p0.p=2,z=l0,l0|=4;try{du(Z,J,Q)}finally{l0=z,p0.p=K,O0.T=q}}Z5=1,MR(),WR(),GR()}}function MR(){if(Z5===1){Z5=0;var Z=o7,J=JJ,Q=(J.flags&13878)!==0;if((J.subtreeFlags&13878)!==0||Q){Q=O0.T,O0.T=null;var q=p0.p;p0.p=2;var K=l0;l0|=4;try{JR(J,Z);var X=bA,z=yC(Z.containerInfo),Y=X.focusedElem,O=X.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&fC(Y.ownerDocument.documentElement,Y)){if(O!==null&&oA(Y)){var{start:U,end:A}=O;if(A===void 0&&(A=U),"selectionStart"in Y)Y.selectionStart=U,Y.selectionEnd=Math.min(A,Y.value.length);else{var B=Y.ownerDocument||document,_=B&&B.defaultView||window;if(_.getSelection){var W=_.getSelection(),F=Y.textContent.length,C=Math.min(O.start,F),L=O.end===void 0?C:Math.min(O.end,F);!W.extend&&C>L&&(z=L,L=C,C=z);var G=Jw(Y,C),w=Jw(Y,L);if(G&&w&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==w.node||W.focusOffset!==w.offset)){var R=B.createRange();R.setStart(G.node,G.offset),W.removeAllRanges(),C>L?(W.addRange(R),W.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),W.addRange(R))}}}}B=[];for(W=Y;W=W.parentNode;)W.nodeType===1&&B.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof Y.focus==="function"&&Y.focus();for(Y=0;Y<B.length;Y++){var T=B[Y];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Dz=!!SA,bA=SA=null}finally{l0=K,p0.p=q,O0.T=Q}}Z.current=J,Z5=2}}function WR(){if(Z5===2){Z5=0;var Z=o7,J=JJ,Q=(J.flags&8772)!==0;if((J.subtreeFlags&8772)!==0||Q){Q=O0.T,O0.T=null;var q=p0.p;p0.p=2;var K=l0;l0|=4;try{oL(Z,J.alternate,J)}finally{l0=K,p0.p=q,O0.T=Q}}Z5=3}}function GR(){if(Z5===4||Z5===3){Z5=0,Mc();var Z=o7,J=JJ,Q=c4,q=YR;(J.subtreeFlags&10256)!==0||(J.flags&10256)!==0?Z5=5:(Z5=0,JJ=o7=null,FR(Z,Z.pendingLanes));var K=Z.pendingLanes;if(K===0&&(n7=null),uA(Q),J=J.stateNode,y8&&typeof y8.onCommitFiberRoot==="function")try{y8.onCommitFiberRoot(xq,J,void 0,(J.current.flags&128)===128)}catch(O){}if(q!==null){J=O0.T,K=p0.p,p0.p=2,O0.T=null;try{for(var X=Z.onRecoverableError,z=0;z<q.length;z++){var Y=q[z];X(Y.value,{componentStack:Y.stack})}}finally{O0.T=J,p0.p=K}}(c4&3)!==0&&bz(),e6(Z),K=Z.pendingLanes,(Q&261930)!==0&&(K&42)!==0?Z===LA?Fq++:(Fq=0,LA=Z):Fq=0,iq(0,!1)}}function FR(Z,J){(Z.pooledCacheLanes&=J)===0&&(J=Z.pooledCache,J!=null&&(Z.pooledCache=null,uq(J)))}function bz(){return MR(),WR(),GR(),jR()}function jR(){if(Z5!==5)return!1;var Z=o7,J=wA;wA=0;var Q=uA(c4),q=O0.T,K=p0.p;try{p0.p=32>Q?32:Q,O0.T=null,Q=CA,CA=null;var X=o7,z=c4;if(Z5=0,JJ=o7=null,c4=0,(l0&6)!==0)throw Error(l(331));var Y=l0;if(l0|=4,NR(X.current),qR(X,X.current,z,Q),l0=Y,iq(0,!1),y8&&typeof y8.onPostCommitFiberRoot==="function")try{y8.onPostCommitFiberRoot(xq,X)}catch(O){}return!0}finally{p0.p=K,O0.T=q,FR(Z,J)}}function vw(Z,J,Q){J=K6(Q,J),J=MA(Z.stateNode,J,2),Z=s7(Z,J,2),Z!==null&&(mq(Z,2),e6(Z))}function Z1(Z,J,Q){if(Z.tag===3)vw(Z,Z,Q);else for(;J!==null;){if(J.tag===3){vw(J,Z,Q);break}else if(J.tag===1){var q=J.stateNode;if(typeof J.type.getDerivedStateFromError==="function"||typeof q.componentDidCatch==="function"&&(n7===null||!n7.has(q))){Z=K6(Q,Z),Q=hL(2),q=s7(J,Q,2),q!==null&&(xL(Q,q,J,Z),mq(q,2),e6(q));break}}J=J.return}}function y$(Z,J,Q){var q=Z.pingCache;if(q===null){q=Z.pingCache=new lu;var K=new Set;q.set(J,K)}else K=q.get(J),K===void 0&&(K=new Set,q.set(J,K));K.has(Q)||(C3=!0,K.add(Q),Z=nu.bind(null,Z,J,Q),J.then(Z,Z))}function nu(Z,J,Q){var q=Z.pingCache;q!==null&&q.delete(J),Z.pingedLanes|=Z.suspendedLanes&Q,Z.warmLanes&=~Q,Y1===Z&&(k0&Q)===Q&&(S1===4||S1===3&&(k0&62914560)===k0&&300>f8()-Iz?(l0&2)===0&&QJ(Z,0):L3|=Q,ZJ===k0&&(ZJ=0)),e6(Z)}function wR(Z,J){J===0&&(J=AC()),Z=UZ(Z,J),Z!==null&&(mq(Z,J),e6(Z))}function ou(Z){var J=Z.memoizedState,Q=0;J!==null&&(Q=J.retryLane),wR(Z,Q)}function tu(Z,J){var Q=0;switch(Z.tag){case 31:case 13:var{stateNode:q,memoizedState:K}=Z;K!==null&&(Q=K.retryLane);break;case 19:q=Z.stateNode;break;case 22:q=Z.stateNode._retryCache;break;default:throw Error(l(314))}q!==null&&q.delete(J),wR(Z,Q)}function ru(Z,J){return dA(Z,J)}function e6(Z){Z!==E2&&Z.next===null&&(E2===null?Hz=E2=Z:E2=E2.next=Z),Yz=!0,RA||(RA=!0,Zl())}function iq(Z,J){if(!h$&&Yz){h$=!0;do{var Q=!1;for(var q=Hz;q!==null;){if(!J)if(Z!==0){var K=q.pendingLanes;if(K===0)var X=0;else{var{suspendedLanes:z,pingedLanes:Y}=q;X=(1<<31-h8(42|Z)+1)-1,X&=K&~(z&~Y),X=X&201326741?X&201326741|1:X?X|2:0}X!==0&&(Q=!0,fw(q,X))}else X=k0,X=_z(q,q===Y1?X:0,q.cancelPendingCommit!==null||q.timeoutHandle!==-1),(X&3)===0||gq(q,X)||(Q=!0,fw(q,X));q=q.next}}while(Q);h$=!1}}function eu(){CR()}function CR(){Yz=RA=!1;var Z=0;l7!==0&&Hl()&&(Z=l7);for(var J=f8(),Q=null,q=Hz;q!==null;){var K=q.next,X=LR(q,J);if(X===0)q.next=null,Q===null?Hz=K:Q.next=K,K===null&&(E2=Q);else if(Q=q,Z!==0||(X&3)!==0)Yz=!0;q=K}Z5!==0&&Z5!==5||iq(Z,!1),l7!==0&&(l7=0)}function LR(Z,J){for(var{suspendedLanes:Q,pingedLanes:q,expirationTimes:K}=Z,X=Z.pendingLanes&-62914561;0<X;){var z=31-h8(X),Y=1<<z,O=K[z];if(O===-1){if((Y&Q)===0||(Y&q)!==0)K[z]=Rc(Y,J)}else O<=J&&(Z.expiredLanes|=Y);X&=~Y}if(J=Y1,Q=k0,Q=_z(Z,Z===J?Q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q=Z.callbackNode,Q===0||Z===J&&(e0===2||e0===9)||Z.cancelPendingCommit!==null)return q!==null&&q!==null&&$$(q),Z.callbackNode=null,Z.callbackPriority=0;if((Q&3)===0||gq(Z,Q)){if(J=Q&-Q,J===Z.callbackPriority)return J;switch(q!==null&&$$(q),uA(Q)){case 2:case 8:Q=UC;break;case 32:Q=pN;break;case 268435456:Q=$C;break;default:Q=pN}return q=RR.bind(null,Z),Q=dA(Q,q),Z.callbackPriority=J,Z.callbackNode=Q,J}return q!==null&&q!==null&&$$(q),Z.callbackPriority=2,Z.callbackNode=null,2}function RR(Z,J){if(Z5!==0&&Z5!==5)return Z.callbackNode=null,Z.callbackPriority=0,null;var Q=Z.callbackNode;if(bz()&&Z.callbackNode!==Q)return null;var q=k0;if(q=_z(Z,Z===Y1?q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==-1),q===0)return null;return OR(Z,q,J),LR(Z,f8()),Z.callbackNode!=null&&Z.callbackNode===Q?RR.bind(null,Z):null}function fw(Z,J){if(bz())return null;OR(Z,J,!0)}function Zl(){Vl(function(){(l0&6)!==0?dA(OC,eu):CR()})}function E3(){if(l7===0){var Z=t2;Z===0&&(Z=$N,$N<<=1,($N&261888)===0&&($N=256)),l7=Z}return l7}function yw(Z){return Z==null||typeof Z==="symbol"||typeof Z==="boolean"?null:typeof Z==="function"?Z:EN(""+Z)}function hw(Z,J){var Q=J.ownerDocument.createElement("input");return Q.name=J.name,Q.value=J.value,Z.id&&Q.setAttribute("form",Z.id),J.parentNode.insertBefore(Q,J),Z=new FormData(Z),Q.parentNode.removeChild(Q),Z}function Jl(Z,J,Q,q,K){if(J==="submit"&&Q&&Q.stateNode===K){var X=yw((K[H8]||null).action),z=q.submitter;z&&(J=(J=z[H8]||null)?yw(J.formAction):z.getAttribute("formAction"),J!==null&&(X=J,z=null));var Y=new Mz("action","action",null,q,K);Z.push({event:Y,listeners:[{instance:null,listener:function(){if(q.defaultPrevented){if(l7!==0){var O=z?hw(K,z):new FormData(K);BA(Q,{pending:!0,data:O,method:K.method,action:X},null,O)}}else typeof X==="function"&&(Y.preventDefault(),O=z?hw(K,z):new FormData(K),BA(Q,{pending:!0,data:O,method:K.method,action:X},X,O))},currentTarget:K}]})}}function ER(Z,J){J=(J&4)!==0;for(var Q=0;Q<Z.length;Q++){var q=Z[Q],K=q.event;q=q.listeners;Z:{var X=void 0;if(J)for(var z=q.length-1;0<=z;z--){var Y=q[z],O=Y.instance,U=Y.currentTarget;if(Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch(A){aN(A)}K.currentTarget=null,X=O}else for(z=0;z<q.length;z++){if(Y=q[z],O=Y.instance,U=Y.currentTarget,Y=Y.listener,O!==X&&K.isPropagationStopped())break Z;X=Y,K.currentTarget=U;try{X(K)}catch(A){aN(A)}K.currentTarget=null,X=O}}}}function I0(Z,J){var Q=J[o$];Q===void 0&&(Q=J[o$]=new Set);var q=Z+"__bubble";Q.has(q)||(IR(J,Z,2,!1),Q.add(q))}function x$(Z,J,Q){var q=0;J&&(q|=4),IR(Q,Z,q,J)}function I3(Z){if(!Z[wN]){Z[wN]=!0,WC.forEach(function(Q){Q!=="selectionchange"&&(Ql.has(Q)||x$(Q,!1,Z),x$(Q,!0,Z))});var J=Z.nodeType===9?Z:Z.ownerDocument;J===null||J[wN]||(J[wN]=!0,x$("selectionchange",!1,J))}}function IR(Z,J,Q,q){switch(dR(J)){case 2:var K=Sl;break;case 8:K=bl;break;default:K=k3}Q=K.bind(null,J,Q,Z),K=void 0,!JA||J!=="touchstart"&&J!=="touchmove"&&J!=="wheel"||(K=!0),q?K!==void 0?Z.addEventListener(J,Q,{capture:!0,passive:K}):Z.addEventListener(J,Q,!0):K!==void 0?Z.addEventListener(J,Q,{passive:K}):Z.addEventListener(J,Q,!1)}function g$(Z,J,Q,q,K){var X=q;if((J&1)===0&&(J&2)===0&&q!==null)Z:for(;;){if(q===null)return;var z=q.tag;if(z===3||z===4){var Y=q.stateNode.containerInfo;if(Y===K)break;if(z===4)for(z=q.return;z!==null;){var O=z.tag;if((O===3||O===4)&&z.stateNode.containerInfo===K)return;z=z.return}for(;Y!==null;){if(z=b2(Y),z===null)return;if(O=z.tag,O===5||O===6||O===26||O===27){q=X=z;continue Z}Y=Y.parentNode}}q=q.return}EC(function(){var U=X,A=iA(Q),B=[];Z:{var _=cC.get(Z);if(_!==void 0){var W=Mz,F=Z;switch(Z){case"keypress":if(TN(Q)===0)break Z;case"keydown":case"keyup":W=tc;break;case"focusin":F="focus",W=M$;break;case"focusout":F="blur",W=M$;break;case"beforeblur":case"afterblur":W=M$;break;case"click":if(Q.button===2)break Z;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ij;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Zu;break;case xC:case gC:case mC:W=cc;break;case dC:W=Qu;break;case"scroll":case"scrollend":W=hc;break;case"wheel":W=Ku;break;case"copy":case"cut":case"paste":W=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=sj;break;case"toggle":case"beforetoggle":W=Nu}var C=(J&4)!==0,L=!C&&(Z==="scroll"||Z==="scrollend"),G=C?_!==null?_+"Capture":null:_;C=[];for(var w=U,R;w!==null;){var T=w;if(R=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||R===null||G===null||(T=Cq(w,G),T!=null&&C.push(Pq(w,T,R))),L)break;w=w.return}0<C.length&&(_=new W(_,F,null,Q,A),B.push({event:_,listeners:C}))}}if((J&7)===0){Z:{if(_=Z==="mouseover"||Z==="pointerover",W=Z==="mouseout"||Z==="pointerout",_&&Q!==ZA&&(F=Q.relatedTarget||Q.fromElement)&&(b2(F)||F[XJ]))break Z;if(W||_){if(_=A.window===A?A:(_=A.ownerDocument)?_.defaultView||_.parentWindow:window,W){if(F=Q.relatedTarget||Q.toElement,W=U,F=F?b2(F):null,F!==null&&(L=hq(F),C=F.tag,F!==L||C!==5&&C!==27&&C!==6))F=null}else W=null,F=U;if(W!==F){if(C=ij,T="onMouseLeave",G="onMouseEnter",w="mouse",Z==="pointerout"||Z==="pointerover")C=sj,T="onPointerLeave",G="onPointerEnter",w="pointer";if(L=W==null?_:qq(W),R=F==null?_:qq(F),_=new C(T,w+"leave",W,Q,A),_.target=L,_.relatedTarget=R,T=null,b2(A)===U&&(C=new C(G,w+"enter",F,Q,A),C.target=R,C.relatedTarget=L,T=C),L=T,W&&F)J:{C=ql,G=W,w=F,R=0;for(T=G;T;T=C(T))R++;T=0;for(var h=w;h;h=C(h))T++;for(;0<R-T;)G=C(G),R--;for(;0<T-R;)w=C(w),T--;for(;R--;){if(G===w||w!==null&&G===w.alternate){C=G;break J}G=C(G),w=C(w)}C=null}else C=null;W!==null&&xw(B,_,W,C,!1),F!==null&&L!==null&&xw(B,L,F,C,!0)}}}Z:{if(_=U?qq(U):window,W=_.nodeName&&_.nodeName.toLowerCase(),W==="select"||W==="input"&&_.type==="file")var v=rj;else if(tj(_))if(PC)v=Bu;else{v=Au;var b=$u}else W=_.nodeName,!W||W.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?U&&pA(U.elementType)&&(v=rj):v=Du;if(v&&(v=v(Z,U))){kC(B,v,Q,A);break Z}b&&b(Z,_,U),Z==="focusout"&&U&&_.type==="number"&&U.memoizedProps.value!=null&&e$(_,"number",_.value)}switch(b=U?qq(U):window,Z){case"focusin":if(tj(b)||b.contentEditable==="true")v2=b,QA=U,Uq=null;break;case"focusout":Uq=QA=v2=null;break;case"mousedown":qA=!0;break;case"contextmenu":case"mouseup":case"dragend":qA=!1,Qw(B,Q,A);break;case"selectionchange":if(Mu)break;case"keydown":case"keyup":Qw(B,Q,A)}var m;if(nA)Z:{switch(Z){case"compositionstart":var u="onCompositionStart";break Z;case"compositionend":u="onCompositionEnd";break Z;case"compositionupdate":u="onCompositionUpdate";break Z}u=void 0}else P2?SC(Z,Q)&&(u="onCompositionEnd"):Z==="keydown"&&Q.keyCode===229&&(u="onCompositionStart");if(u&&(TC&&Q.locale!=="ko"&&(P2||u!=="onCompositionStart"?u==="onCompositionEnd"&&P2&&(m=IC()):(d7=A,aA=("value"in d7)?d7.value:d7.textContent,P2=!0)),b=Vz(U,u),0<b.length&&(u=new aj(u,Z,null,Q,A),B.push({event:u,listeners:b}),m?u.data=m:(m=bC(Q),m!==null&&(u.data=m)))),m=Hu?Yu(Z,Q):Vu(Z,Q))u=Vz(U,"onBeforeInput"),0<u.length&&(b=new aj("onBeforeInput","beforeinput",null,Q,A),B.push({event:b,listeners:u}),b.data=m);Jl(B,Z,U,Q,A)}ER(B,J)})}function Pq(Z,J,Q){return{instance:Z,listener:J,currentTarget:Q}}function Vz(Z,J){for(var Q=J+"Capture",q=[];Z!==null;){var K=Z,X=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||X===null||(K=Cq(Z,Q),K!=null&&q.unshift(Pq(Z,K,X)),K=Cq(Z,J),K!=null&&q.push(Pq(Z,K,X))),Z.tag===3)return q;Z=Z.return}return[]}function ql(Z){if(Z===null)return null;do Z=Z.return;while(Z&&Z.tag!==5&&Z.tag!==27);return Z?Z:null}function xw(Z,J,Q,q,K){for(var X=J._reactName,z=[];Q!==null&&Q!==q;){var Y=Q,O=Y.alternate,U=Y.stateNode;if(Y=Y.tag,O!==null&&O===q)break;Y!==5&&Y!==26&&Y!==27||U===null||(O=U,K?(U=Cq(Q,X),U!=null&&z.unshift(Pq(Q,U,O))):K||(U=Cq(Q,X),U!=null&&z.push(Pq(Q,U,O)))),Q=Q.return}z.length!==0&&Z.push({event:J,listeners:z})}function gw(Z){return(typeof Z==="string"?Z:""+Z).replace(Kl,`
`).replace(Xl,"")}function TR(Z,J){return J=gw(J),gw(Z)===J?!0:!1}function z1(Z,J,Q,q,K,X){switch(Q){case"children":typeof q==="string"?J==="body"||J==="textarea"&&q===""||o2(Z,q):(typeof q==="number"||typeof q==="bigint")&&J!=="body"&&o2(Z,""+q);break;case"className":BN(Z,"class",q);break;case"tabIndex":BN(Z,"tabindex",q);break;case"dir":case"role":case"viewBox":case"width":case"height":BN(Z,Q,q);break;case"style":RC(Z,q,X);break;case"data":if(J!=="object"){BN(Z,"data",q);break}case"src":case"href":if(q===""&&(J!=="a"||Q!=="href")){Z.removeAttribute(Q);break}if(q==null||typeof q==="function"||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=EN(""+q),Z.setAttribute(Q,q);break;case"action":case"formAction":if(typeof q==="function"){Z.setAttribute(Q,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X==="function"&&(Q==="formAction"?(J!=="input"&&z1(Z,J,"name",K.name,K,null),z1(Z,J,"formEncType",K.formEncType,K,null),z1(Z,J,"formMethod",K.formMethod,K,null),z1(Z,J,"formTarget",K.formTarget,K,null)):(z1(Z,J,"encType",K.encType,K,null),z1(Z,J,"method",K.method,K,null),z1(Z,J,"target",K.target,K,null)));if(q==null||typeof q==="symbol"||typeof q==="boolean"){Z.removeAttribute(Q);break}q=EN(""+q),Z.setAttribute(Q,q);break;case"onClick":q!=null&&(Z.onclick=x4);break;case"onScroll":q!=null&&I0("scroll",Z);break;case"onScrollEnd":q!=null&&I0("scrollend",Z);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(l(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(l(60));Z.innerHTML=Q}}break;case"multiple":Z.multiple=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"muted":Z.muted=q&&typeof q!=="function"&&typeof q!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(q==null||typeof q==="function"||typeof q==="boolean"||typeof q==="symbol"){Z.removeAttribute("xlink:href");break}Q=EN(""+q),Z.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Q);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""+q):Z.removeAttribute(Q);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":q&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,""):Z.removeAttribute(Q);break;case"capture":case"download":q===!0?Z.setAttribute(Q,""):q!==!1&&q!=null&&typeof q!=="function"&&typeof q!=="symbol"?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"cols":case"rows":case"size":case"span":q!=null&&typeof q!=="function"&&typeof q!=="symbol"&&!isNaN(q)&&1<=q?Z.setAttribute(Q,q):Z.removeAttribute(Q);break;case"rowSpan":case"start":q==null||typeof q==="function"||typeof q==="symbol"||isNaN(q)?Z.removeAttribute(Q):Z.setAttribute(Q,q);break;case"popover":I0("beforetoggle",Z),I0("toggle",Z),RN(Z,"popover",q);break;case"xlinkActuate":S4(Z,"http://www.w3.org/1999/xlink","xlink:actuate",q);break;case"xlinkArcrole":S4(Z,"http://www.w3.org/1999/xlink","xlink:arcrole",q);break;case"xlinkRole":S4(Z,"http://www.w3.org/1999/xlink","xlink:role",q);break;case"xlinkShow":S4(Z,"http://www.w3.org/1999/xlink","xlink:show",q);break;case"xlinkTitle":S4(Z,"http://www.w3.org/1999/xlink","xlink:title",q);break;case"xlinkType":S4(Z,"http://www.w3.org/1999/xlink","xlink:type",q);break;case"xmlBase":S4(Z,"http://www.w3.org/XML/1998/namespace","xml:base",q);break;case"xmlLang":S4(Z,"http://www.w3.org/XML/1998/namespace","xml:lang",q);break;case"xmlSpace":S4(Z,"http://www.w3.org/XML/1998/namespace","xml:space",q);break;case"is":RN(Z,"is",q);break;case"innerText":case"textContent":break;default:if(!(2<Q.length)||Q[0]!=="o"&&Q[0]!=="O"||Q[1]!=="n"&&Q[1]!=="N")Q=fc.get(Q)||Q,RN(Z,Q,q)}}function TA(Z,J,Q,q,K,X){switch(Q){case"style":RC(Z,q,X);break;case"dangerouslySetInnerHTML":if(q!=null){if(typeof q!=="object"||!("__html"in q))throw Error(l(61));if(Q=q.__html,Q!=null){if(K.children!=null)throw Error(l(60));Z.innerHTML=Q}}break;case"children":typeof q==="string"?o2(Z,q):(typeof q==="number"||typeof q==="bigint")&&o2(Z,""+q);break;case"onScroll":q!=null&&I0("scroll",Z);break;case"onScrollEnd":q!=null&&I0("scrollend",Z);break;case"onClick":q!=null&&(Z.onclick=x4);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GC.hasOwnProperty(Q))Z:{if(Q[0]==="o"&&Q[1]==="n"&&(K=Q.endsWith("Capture"),J=Q.slice(2,K?Q.length-7:void 0),X=Z[H8]||null,X=X!=null?X[Q]:null,typeof X==="function"&&Z.removeEventListener(J,X,K),typeof q==="function")){typeof X!=="function"&&X!==null&&(Q in Z?Z[Q]=null:Z.hasAttribute(Q)&&Z.removeAttribute(Q)),Z.addEventListener(J,q,K);break Z}Q in Z?Z[Q]=q:q===!0?Z.setAttribute(Q,""):RN(Z,Q,q)}}}function w5(Z,J,Q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":I0("error",Z),I0("load",Z);var q=!1,K=!1,X;for(X in Q)if(Q.hasOwnProperty(X)){var z=Q[X];if(z!=null)switch(X){case"src":q=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,J));default:z1(Z,J,X,z,Q,null)}}K&&z1(Z,J,"srcSet",Q.srcSet,Q,null),q&&z1(Z,J,"src",Q.src,Q,null);return;case"input":I0("invalid",Z);var Y=X=z=K=null,O=null,U=null;for(q in Q)if(Q.hasOwnProperty(q)){var A=Q[q];if(A!=null)switch(q){case"name":K=A;break;case"type":z=A;break;case"checked":O=A;break;case"defaultChecked":U=A;break;case"value":X=A;break;case"defaultValue":Y=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,J));break;default:z1(Z,J,q,A,Q,null)}}wC(Z,X,Y,O,U,z,K,!1);return;case"select":I0("invalid",Z),q=z=X=null;for(K in Q)if(Q.hasOwnProperty(K)&&(Y=Q[K],Y!=null))switch(K){case"value":X=Y;break;case"defaultValue":z=Y;break;case"multiple":q=Y;default:z1(Z,J,K,Y,Q,null)}J=X,Q=z,Z.multiple=!!q,J!=null?c2(Z,!!q,J,!1):Q!=null&&c2(Z,!!q,Q,!0);return;case"textarea":I0("invalid",Z),X=K=q=null;for(z in Q)if(Q.hasOwnProperty(z)&&(Y=Q[z],Y!=null))switch(z){case"value":q=Y;break;case"defaultValue":K=Y;break;case"children":X=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(91));break;default:z1(Z,J,z,Y,Q,null)}LC(Z,q,K,X);return;case"option":for(O in Q)if(Q.hasOwnProperty(O)&&(q=Q[O],q!=null))switch(O){case"selected":Z.selected=q&&typeof q!=="function"&&typeof q!=="symbol";break;default:z1(Z,J,O,q,Q,null)}return;case"dialog":I0("beforetoggle",Z),I0("toggle",Z),I0("cancel",Z),I0("close",Z);break;case"iframe":case"object":I0("load",Z);break;case"video":case"audio":for(q=0;q<kq.length;q++)I0(kq[q],Z);break;case"image":I0("error",Z),I0("load",Z);break;case"details":I0("toggle",Z);break;case"embed":case"source":case"link":I0("error",Z),I0("load",Z);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in Q)if(Q.hasOwnProperty(U)&&(q=Q[U],q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,J));default:z1(Z,J,U,q,Q,null)}return;default:if(pA(J)){for(A in Q)Q.hasOwnProperty(A)&&(q=Q[A],q!==void 0&&TA(Z,J,A,q,Q,void 0));return}}for(Y in Q)Q.hasOwnProperty(Y)&&(q=Q[Y],q!=null&&z1(Z,J,Y,q,Q,null))}function Nl(Z,J,Q,q){switch(J){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,X=null,z=null,Y=null,O=null,U=null,A=null;for(W in Q){var B=Q[W];if(Q.hasOwnProperty(W)&&B!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=B;default:q.hasOwnProperty(W)||z1(Z,J,W,null,q,B)}}for(var _ in q){var W=q[_];if(B=Q[_],q.hasOwnProperty(_)&&(W!=null||B!=null))switch(_){case"type":X=W;break;case"name":K=W;break;case"checked":U=W;break;case"defaultChecked":A=W;break;case"value":z=W;break;case"defaultValue":Y=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,J));break;default:W!==B&&z1(Z,J,_,W,q,B)}}r$(Z,z,Y,O,U,A,X,K);return;case"select":W=z=Y=_=null;for(X in Q)if(O=Q[X],Q.hasOwnProperty(X)&&O!=null)switch(X){case"value":break;case"multiple":W=O;default:q.hasOwnProperty(X)||z1(Z,J,X,null,q,O)}for(K in q)if(X=q[K],O=Q[K],q.hasOwnProperty(K)&&(X!=null||O!=null))switch(K){case"value":_=X;break;case"defaultValue":Y=X;break;case"multiple":z=X;default:X!==O&&z1(Z,J,K,X,q,O)}J=Y,Q=z,q=W,_!=null?c2(Z,!!Q,_,!1):!!q!==!!Q&&(J!=null?c2(Z,!!Q,J,!0):c2(Z,!!Q,Q?[]:"",!1));return;case"textarea":W=_=null;for(Y in Q)if(K=Q[Y],Q.hasOwnProperty(Y)&&K!=null&&!q.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:z1(Z,J,Y,null,q,K)}for(z in q)if(K=q[z],X=Q[z],q.hasOwnProperty(z)&&(K!=null||X!=null))switch(z){case"value":_=K;break;case"defaultValue":W=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(91));break;default:K!==X&&z1(Z,J,z,K,q,X)}CC(Z,_,W);return;case"option":for(var F in Q)if(_=Q[F],Q.hasOwnProperty(F)&&_!=null&&!q.hasOwnProperty(F))switch(F){case"selected":Z.selected=!1;break;default:z1(Z,J,F,null,q,_)}for(O in q)if(_=q[O],W=Q[O],q.hasOwnProperty(O)&&_!==W&&(_!=null||W!=null))switch(O){case"selected":Z.selected=_&&typeof _!=="function"&&typeof _!=="symbol";break;default:z1(Z,J,O,_,q,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in Q)_=Q[C],Q.hasOwnProperty(C)&&_!=null&&!q.hasOwnProperty(C)&&z1(Z,J,C,null,q,_);for(U in q)if(_=q[U],W=Q[U],q.hasOwnProperty(U)&&_!==W&&(_!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(137,J));break;default:z1(Z,J,U,_,q,W)}return;default:if(pA(J)){for(var L in Q)_=Q[L],Q.hasOwnProperty(L)&&_!==void 0&&!q.hasOwnProperty(L)&&TA(Z,J,L,void 0,q,_);for(A in q)_=q[A],W=Q[A],!q.hasOwnProperty(A)||_===W||_===void 0&&W===void 0||TA(Z,J,A,_,q,W);return}}for(var G in Q)_=Q[G],Q.hasOwnProperty(G)&&_!=null&&!q.hasOwnProperty(G)&&z1(Z,J,G,null,q,_);for(B in q)_=q[B],W=Q[B],!q.hasOwnProperty(B)||_===W||_==null&&W==null||z1(Z,J,B,_,q,W)}function mw(Z){switch(Z){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zl(){if(typeof performance.getEntriesByType==="function"){for(var Z=0,J=0,Q=performance.getEntriesByType("resource"),q=0;q<Q.length;q++){var K=Q[q],X=K.transferSize,z=K.initiatorType,Y=K.duration;if(X&&Y&&mw(z)){z=0,Y=K.responseEnd;for(q+=1;q<Q.length;q++){var O=Q[q],U=O.startTime;if(U>Y)break;var{transferSize:A,initiatorType:B}=O;A&&mw(B)&&(O=O.responseEnd,z+=A*(O<Y?1:(Y-U)/(O-U)))}if(--q,J+=8*(X+z)/(K.duration/1000),Z++,10<Z)break}}if(0<Z)return J/Z/1e6}return navigator.connection&&(Z=navigator.connection.downlink,typeof Z==="number")?Z:5}function Oz(Z){return Z.nodeType===9?Z:Z.ownerDocument}function dw(Z){switch(Z){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SR(Z,J){if(Z===0)switch(J){case"svg":return 1;case"math":return 2;default:return 0}return Z===1&&J==="foreignObject"?0:Z}function kA(Z,J){return Z==="textarea"||Z==="noscript"||typeof J.children==="string"||typeof J.children==="number"||typeof J.children==="bigint"||typeof J.dangerouslySetInnerHTML==="object"&&J.dangerouslySetInnerHTML!==null&&J.dangerouslySetInnerHTML.__html!=null}function Hl(){var Z=window.event;if(Z&&Z.type==="popstate"){if(Z===m$)return!1;return m$=Z,!0}return m$=null,!1}function Ol(Z){setTimeout(function(){throw Z})}function X9(Z){return Z==="head"}function uw(Z,J){var Q=J,q=0;do{var K=Q.nextSibling;if(Z.removeChild(Q),K&&K.nodeType===8)if(Q=K.data,Q==="/$"||Q==="/&"){if(q===0){Z.removeChild(K),KJ(J);return}q--}else if(Q==="$"||Q==="$?"||Q==="$~"||Q==="$!"||Q==="&")q++;else if(Q==="html")jq(Z.ownerDocument.documentElement);else if(Q==="head"){Q=Z.ownerDocument.head,jq(Q);for(var X=Q.firstChild;X;){var{nextSibling:z,nodeName:Y}=X;X[dq]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&X.rel.toLowerCase()==="stylesheet"||Q.removeChild(X),X=z}}else Q==="body"&&jq(Z.ownerDocument.body);Q=K}while(Q);KJ(J)}function lw(Z,J){var Q=Z;Z=0;do{var q=Q.nextSibling;if(Q.nodeType===1?J?(Q._stashedDisplay=Q.style.display,Q.style.display="none"):(Q.style.display=Q._stashedDisplay||"",Q.getAttribute("style")===""&&Q.removeAttribute("style")):Q.nodeType===3&&(J?(Q._stashedText=Q.nodeValue,Q.nodeValue=""):Q.nodeValue=Q._stashedText||""),q&&q.nodeType===8)if(Q=q.data,Q==="/$")if(Z===0)break;else Z--;else Q!=="$"&&Q!=="$?"&&Q!=="$~"&&Q!=="$!"||Z++;Q=q}while(Q)}function PA(Z){var J=Z.firstChild;J&&J.nodeType===10&&(J=J.nextSibling);for(;J;){var Q=J;switch(J=J.nextSibling,Q.nodeName){case"HTML":case"HEAD":case"BODY":PA(Q),lA(Q);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Q.rel.toLowerCase()==="stylesheet")continue}Z.removeChild(Q)}}function Ul(Z,J,Q,q){for(;Z.nodeType===1;){var K=Q;if(Z.nodeName.toLowerCase()!==J.toLowerCase()){if(!q&&(Z.nodeName!=="INPUT"||Z.type!=="hidden"))break}else if(!q)if(J==="input"&&Z.type==="hidden"){var X=K.name==null?null:""+K.name;if(K.type==="hidden"&&Z.getAttribute("name")===X)return Z}else return Z;else if(!Z[dq])switch(J){case"meta":if(!Z.hasAttribute("itemprop"))break;return Z;case"link":if(X=Z.getAttribute("rel"),X==="stylesheet"&&Z.hasAttribute("data-precedence"))break;else if(X!==K.rel||Z.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||Z.getAttribute("title")!==(K.title==null?null:K.title))break;return Z;case"style":if(Z.hasAttribute("data-precedence"))break;return Z;case"script":if(X=Z.getAttribute("src"),(X!==(K.src==null?null:K.src)||Z.getAttribute("type")!==(K.type==null?null:K.type)||Z.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&X&&Z.hasAttribute("async")&&!Z.hasAttribute("itemprop"))break;return Z;default:return Z}if(Z=z6(Z.nextSibling),Z===null)break}return null}function $l(Z,J,Q){if(J==="")return null;for(;Z.nodeType!==3;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!Q)return null;if(Z=z6(Z.nextSibling),Z===null)return null}return Z}function kR(Z,J){for(;Z.nodeType!==8;){if((Z.nodeType!==1||Z.nodeName!=="INPUT"||Z.type!=="hidden")&&!J)return null;if(Z=z6(Z.nextSibling),Z===null)return null}return Z}function vA(Z){return Z.data==="$?"||Z.data==="$~"}function fA(Z){return Z.data==="$!"||Z.data==="$?"&&Z.ownerDocument.readyState!=="loading"}function Al(Z,J){var Q=Z.ownerDocument;if(Z.data==="$~")Z._reactRetry=J;else if(Z.data!=="$?"||Q.readyState!=="loading")J();else{var q=function(){J(),Q.removeEventListener("DOMContentLoaded",q)};Q.addEventListener("DOMContentLoaded",q),Z._reactRetry=q}}function z6(Z){for(;Z!=null;Z=Z.nextSibling){var J=Z.nodeType;if(J===1||J===3)break;if(J===8){if(J=Z.data,J==="$"||J==="$!"||J==="$?"||J==="$~"||J==="&"||J==="F!"||J==="F")break;if(J==="/$"||J==="/&")return null}}return Z}function pw(Z){Z=Z.nextSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="/$"||Q==="/&"){if(J===0)return z6(Z.nextSibling);J--}else Q!=="$"&&Q!=="$!"&&Q!=="$?"&&Q!=="$~"&&Q!=="&"||J++}Z=Z.nextSibling}return null}function iw(Z){Z=Z.previousSibling;for(var J=0;Z;){if(Z.nodeType===8){var Q=Z.data;if(Q==="$"||Q==="$!"||Q==="$?"||Q==="$~"||Q==="&"){if(J===0)return Z;J--}else Q!=="/$"&&Q!=="/&"||J++}Z=Z.previousSibling}return null}function PR(Z,J,Q){switch(J=Oz(Q),Z){case"html":if(Z=J.documentElement,!Z)throw Error(l(452));return Z;case"head":if(Z=J.head,!Z)throw Error(l(453));return Z;case"body":if(Z=J.body,!Z)throw Error(l(454));return Z;default:throw Error(l(451))}}function jq(Z){for(var J=Z.attributes;J.length;)Z.removeAttributeNode(J[0]);lA(Z)}function Uz(Z){return typeof Z.getRootNode==="function"?Z.getRootNode():Z.nodeType===9?Z:Z.ownerDocument}function Dl(){var Z=s4.f(),J=Tz();return Z||J}function Bl(Z){var J=NJ(Z);J!==null&&J.tag===5&&J.type==="form"?RL(J):s4.r(Z)}function vR(Z,J,Q){var q=VJ;if(q&&typeof J==="string"&&J){var K=q6(J);K='link[rel="'+Z+'"][href="'+K+'"]',typeof Q==="string"&&(K+='[crossorigin="'+Q+'"]'),aw.has(K)||(aw.add(K),Z={rel:Z,crossOrigin:Q,href:J},q.querySelector(K)===null&&(J=q.createElement("link"),w5(J,"link",Z),H5(J),q.head.appendChild(J)))}}function _l(Z){s4.D(Z),vR("dns-prefetch",Z,null)}function Ml(Z,J){s4.C(Z,J),vR("preconnect",Z,J)}function Wl(Z,J,Q){s4.L(Z,J,Q);var q=VJ;if(q&&Z&&J){var K='link[rel="preload"][as="'+q6(J)+'"]';J==="image"?Q&&Q.imageSrcSet?(K+='[imagesrcset="'+q6(Q.imageSrcSet)+'"]',typeof Q.imageSizes==="string"&&(K+='[imagesizes="'+q6(Q.imageSizes)+'"]')):K+='[href="'+q6(Z)+'"]':K+='[href="'+q6(Z)+'"]';var X=K;switch(J){case"style":X=qJ(Z);break;case"script":X=OJ(Z)}H6.has(X)||(Z=_1({rel:"preload",href:J==="image"&&Q&&Q.imageSrcSet?void 0:Z,as:J},Q),H6.set(X,Z),q.querySelector(K)!==null||J==="style"&&q.querySelector(aq(X))||J==="script"&&q.querySelector(sq(X))||(J=q.createElement("link"),w5(J,"link",Z),H5(J),q.head.appendChild(J)))}}function Gl(Z,J){s4.m(Z,J);var Q=VJ;if(Q&&Z){var q=J&&typeof J.as==="string"?J.as:"script",K='link[rel="modulepreload"][as="'+q6(q)+'"][href="'+q6(Z)+'"]',X=K;switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=OJ(Z)}if(!H6.has(X)&&(Z=_1({rel:"modulepreload",href:Z},J),H6.set(X,Z),Q.querySelector(K)===null)){switch(q){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Q.querySelector(sq(X)))return}q=Q.createElement("link"),w5(q,"link",Z),H5(q),Q.head.appendChild(q)}}}function Fl(Z,J,Q){s4.S(Z,J,Q);var q=VJ;if(q&&Z){var K=d2(q).hoistableStyles,X=qJ(Z);J=J||"default";var z=K.get(X);if(!z){var Y={loading:0,preload:null};if(z=q.querySelector(aq(X)))Y.loading=5;else{Z=_1({rel:"stylesheet",href:Z,"data-precedence":J},Q),(Q=H6.get(X))&&T3(Z,Q);var O=z=q.createElement("link");H5(O),w5(O,"link",Z),O._p=new Promise(function(U,A){O.onload=U,O.onerror=A}),O.addEventListener("load",function(){Y.loading|=1}),O.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,xN(z,J,q)}z={type:"stylesheet",instance:z,count:1,state:Y},K.set(X,z)}}}function jl(Z,J){s4.X(Z,J);var Q=VJ;if(Q&&Z){var q=d2(Q).hoistableScripts,K=OJ(Z),X=q.get(K);X||(X=Q.querySelector(sq(K)),X||(Z=_1({src:Z,async:!0},J),(J=H6.get(K))&&S3(Z,J),X=Q.createElement("script"),H5(X),w5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function wl(Z,J){s4.M(Z,J);var Q=VJ;if(Q&&Z){var q=d2(Q).hoistableScripts,K=OJ(Z),X=q.get(K);X||(X=Q.querySelector(sq(K)),X||(Z=_1({src:Z,async:!0,type:"module"},J),(J=H6.get(K))&&S3(Z,J),X=Q.createElement("script"),H5(X),w5(X,"link",Z),Q.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},q.set(K,X))}}function sw(Z,J,Q,q){var K=(K=p7.current)?Uz(K):null;if(!K)throw Error(l(446));switch(Z){case"meta":case"title":return null;case"style":return typeof Q.precedence==="string"&&typeof Q.href==="string"?(J=qJ(Q.href),Q=d2(K).hoistableStyles,q=Q.get(J),q||(q={type:"style",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};case"link":if(Q.rel==="stylesheet"&&typeof Q.href==="string"&&typeof Q.precedence==="string"){Z=qJ(Q.href);var X=d2(K).hoistableStyles,z=X.get(Z);if(z||(K=K.ownerDocument||K,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(Z,z),(X=K.querySelector(aq(Z)))&&!X._p&&(z.instance=X,z.state.loading=5),H6.has(Z)||(Q={rel:"preload",as:"style",href:Q.href,crossOrigin:Q.crossOrigin,integrity:Q.integrity,media:Q.media,hrefLang:Q.hrefLang,referrerPolicy:Q.referrerPolicy},H6.set(Z,Q),X||Cl(K,Z,Q,z.state))),J&&q===null)throw Error(l(528,""));return z}if(J&&q!==null)throw Error(l(529,""));return null;case"script":return J=Q.async,Q=Q.src,typeof Q==="string"&&J&&typeof J!=="function"&&typeof J!=="symbol"?(J=OJ(Q),Q=d2(K).hoistableScripts,q=Q.get(J),q||(q={type:"script",instance:null,count:0,state:null},Q.set(J,q)),q):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,Z))}}function qJ(Z){return'href="'+q6(Z)+'"'}function aq(Z){return'link[rel="stylesheet"]['+Z+"]"}function fR(Z){return _1({},Z,{"data-precedence":Z.precedence,precedence:null})}function Cl(Z,J,Q,q){Z.querySelector('link[rel="preload"][as="style"]['+J+"]")?q.loading=1:(J=Z.createElement("link"),q.preload=J,J.addEventListener("load",function(){return q.loading|=1}),J.addEventListener("error",function(){return q.loading|=2}),w5(J,"link",Q),H5(J),Z.head.appendChild(J))}function OJ(Z){return'[src="'+q6(Z)+'"]'}function sq(Z){return"script[async]"+Z}function nw(Z,J,Q){if(J.count++,J.instance===null)switch(J.type){case"style":var q=Z.querySelector('style[data-href~="'+q6(Q.href)+'"]');if(q)return J.instance=q,H5(q),q;var K=_1({},Q,{"data-href":Q.href,"data-precedence":Q.precedence,href:null,precedence:null});return q=(Z.ownerDocument||Z).createElement("style"),H5(q),w5(q,"style",K),xN(q,Q.precedence,Z),J.instance=q;case"stylesheet":K=qJ(Q.href);var X=Z.querySelector(aq(K));if(X)return J.state.loading|=4,J.instance=X,H5(X),X;q=fR(Q),(K=H6.get(K))&&T3(q,K),X=(Z.ownerDocument||Z).createElement("link"),H5(X);var z=X;return z._p=new Promise(function(Y,O){z.onload=Y,z.onerror=O}),w5(X,"link",q),J.state.loading|=4,xN(X,Q.precedence,Z),J.instance=X;case"script":if(X=OJ(Q.src),K=Z.querySelector(sq(X)))return J.instance=K,H5(K),K;if(q=Q,K=H6.get(X))q=_1({},Q),S3(q,K);return Z=Z.ownerDocument||Z,K=Z.createElement("script"),H5(K),w5(K,"link",q),Z.head.appendChild(K),J.instance=K;case"void":return null;default:throw Error(l(443,J.type))}else J.type==="stylesheet"&&(J.state.loading&4)===0&&(q=J.instance,J.state.loading|=4,xN(q,Q.precedence,Z));return J.instance}function xN(Z,J,Q){for(var q=Q.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=q.length?q[q.length-1]:null,X=K,z=0;z<q.length;z++){var Y=q[z];if(Y.dataset.precedence===J)X=Y;else if(X!==K)break}X?X.parentNode.insertBefore(Z,X.nextSibling):(J=Q.nodeType===9?Q.head:Q,J.insertBefore(Z,J.firstChild))}function T3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.title==null&&(Z.title=J.title)}function S3(Z,J){Z.crossOrigin==null&&(Z.crossOrigin=J.crossOrigin),Z.referrerPolicy==null&&(Z.referrerPolicy=J.referrerPolicy),Z.integrity==null&&(Z.integrity=J.integrity)}function ow(Z,J,Q){if(gN===null){var q=new Map,K=gN=new Map;K.set(Q,q)}else K=gN,q=K.get(Q),q||(q=new Map,K.set(Q,q));if(q.has(Z))return q;q.set(Z,null),Q=Q.getElementsByTagName(Z);for(K=0;K<Q.length;K++){var X=Q[K];if(!(X[dq]||X[G5]||Z==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var z=X.getAttribute(J)||"";z=Z+z;var Y=q.get(z);Y?Y.push(X):q.set(z,[X])}}return q}function tw(Z,J,Q){Z=Z.ownerDocument||Z,Z.head.insertBefore(Q,J==="title"?Z.querySelector("head > title"):null)}function Ll(Z,J,Q){if(Q===1||J.itemProp!=null)return!1;switch(Z){case"meta":case"title":return!0;case"style":if(typeof J.precedence!=="string"||typeof J.href!=="string"||J.href==="")break;return!0;case"link":if(typeof J.rel!=="string"||typeof J.href!=="string"||J.href===""||J.onLoad||J.onError)break;switch(J.rel){case"stylesheet":return Z=J.disabled,typeof J.precedence==="string"&&Z==null;default:return!0}case"script":if(J.async&&typeof J.async!=="function"&&typeof J.async!=="symbol"&&!J.onLoad&&!J.onError&&J.src&&typeof J.src==="string")return!0}return!1}function yR(Z){return Z.type==="stylesheet"&&(Z.state.loading&3)===0?!1:!0}function Rl(Z,J,Q,q){if(Q.type==="stylesheet"&&(typeof q.media!=="string"||matchMedia(q.media).matches!==!1)&&(Q.state.loading&4)===0){if(Q.instance===null){var K=qJ(q.href),X=J.querySelector(aq(K));if(X){J=X._p,J!==null&&typeof J==="object"&&typeof J.then==="function"&&(Z.count++,Z=$z.bind(Z),J.then(Z,Z)),Q.state.loading|=4,Q.instance=X,H5(X);return}X=J.ownerDocument||J,q=fR(q),(K=H6.get(K))&&T3(q,K),X=X.createElement("link"),H5(X);var z=X;z._p=new Promise(function(Y,O){z.onload=Y,z.onerror=O}),w5(X,"link",q),Q.instance=X}Z.stylesheets===null&&(Z.stylesheets=new Map),Z.stylesheets.set(Q,J),(J=Q.state.preload)&&(Q.state.loading&3)===0&&(Z.count++,Q=$z.bind(Z),J.addEventListener("load",Q),J.addEventListener("error",Q))}}function El(Z,J){return Z.stylesheets&&Z.count===0&&mN(Z,Z.stylesheets),0<Z.count||0<Z.imgCount?function(Q){var q=setTimeout(function(){if(Z.stylesheets&&mN(Z,Z.stylesheets),Z.unsuspend){var X=Z.unsuspend;Z.unsuspend=null,X()}},60000+J);0<Z.imgBytes&&d$===0&&(d$=62500*zl());var K=setTimeout(function(){if(Z.waitingForImages=!1,Z.count===0&&(Z.stylesheets&&mN(Z,Z.stylesheets),Z.unsuspend)){var X=Z.unsuspend;Z.unsuspend=null,X()}},(Z.imgBytes>d$?50:800)+J);return Z.unsuspend=Q,function(){Z.unsuspend=null,clearTimeout(q),clearTimeout(K)}}:null}function $z(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mN(this,this.stylesheets);else if(this.unsuspend){var Z=this.unsuspend;this.unsuspend=null,Z()}}}function mN(Z,J){Z.stylesheets=null,Z.unsuspend!==null&&(Z.count++,Az=new Map,J.forEach(Il,Z),Az=null,$z.call(Z))}function Il(Z,J){if(!(J.state.loading&4)){var Q=Az.get(Z);if(Q)var q=Q.get(null);else{Q=new Map,Az.set(Z,Q);for(var K=Z.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<K.length;X++){var z=K[X];if(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")Q.set(z.dataset.precedence,z),q=z}q&&Q.set(null,q)}K=J.instance,z=K.getAttribute("data-precedence"),X=Q.get(z)||q,X===q&&Q.set(null,K),Q.set(z,K),this.count++,q=$z.bind(this),K.addEventListener("load",q),K.addEventListener("error",q),X?X.parentNode.insertBefore(K,X.nextSibling):(Z=Z.nodeType===9?Z.head:Z,Z.insertBefore(K,Z.firstChild)),J.state.loading|=4}}function Tl(Z,J,Q,q,K,X,z,Y,O){this.tag=1,this.containerInfo=Z,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=A$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A$(0),this.hiddenUpdates=A$(null),this.identifierPrefix=q,this.onUncaughtError=K,this.onCaughtError=X,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function hR(Z,J,Q,q,K,X,z,Y,O,U,A,B){return Z=new Tl(Z,J,Q,z,O,U,A,B,Y),J=1,X===!0&&(J|=24),X=P8(3,null,null,J),Z.current=X,X.stateNode=Z,J=Q3(),J.refCount++,Z.pooledCache=J,J.refCount++,X.memoizedState={element:q,isDehydrated:Q,cache:J},X3(X),Z}function xR(Z){if(!Z)return h2;return Z=h2,Z}function gR(Z,J,Q,q,K,X){K=xR(K),q.context===null?q.context=K:q.pendingContext=K,q=a7(J),q.payload={element:Q},X=X===void 0?null:X,X!==null&&(q.callback=X),Q=s7(Z,q,J),Q!==null&&(z8(Q,Z,J),Aq(Q,Z,J))}function rw(Z,J){if(Z=Z.memoizedState,Z!==null&&Z.dehydrated!==null){var Q=Z.retryLane;Z.retryLane=Q!==0&&Q<J?Q:J}}function b3(Z,J){rw(Z,J),(Z=Z.alternate)&&rw(Z,J)}function mR(Z){if(Z.tag===13||Z.tag===31){var J=UZ(Z,67108864);J!==null&&z8(J,Z,67108864),b3(Z,67108864)}}function ew(Z){if(Z.tag===13||Z.tag===31){var J=x8();J=cA(J);var Q=UZ(Z,J);Q!==null&&z8(Q,Z,J),b3(Z,J)}}function Sl(Z,J,Q,q){var K=O0.T;O0.T=null;var X=p0.p;try{p0.p=2,k3(Z,J,Q,q)}finally{p0.p=X,O0.T=K}}function bl(Z,J,Q,q){var K=O0.T;O0.T=null;var X=p0.p;try{p0.p=8,k3(Z,J,Q,q)}finally{p0.p=X,O0.T=K}}function k3(Z,J,Q,q){if(Dz){var K=hA(q);if(K===null)g$(Z,J,q,Bz,Q),ZC(Z,q);else if(Pl(K,Z,J,Q,q))q.stopPropagation();else if(ZC(Z,q),J&4&&-1<kl.indexOf(Z)){for(;K!==null;){var X=NJ(K);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var z=n9(X.pendingLanes);if(z!==0){var Y=X;Y.pendingLanes|=2;for(Y.entangledLanes|=2;z;){var O=1<<31-h8(z);Y.entanglements[1]|=O,z&=~O}e6(X),(l0&6)===0&&(Xz=f8()+500,iq(0,!1))}}break;case 31:case 13:Y=UZ(X,2),Y!==null&&z8(Y,X,2),Tz(),b3(X,2)}if(X=hA(q),X===null&&g$(Z,J,q,Bz,Q),X===K)break;K=X}K!==null&&q.stopPropagation()}else g$(Z,J,q,null,Q)}}function hA(Z){return Z=iA(Z),P3(Z)}function P3(Z){if(Bz=null,Z=b2(Z),Z!==null){var J=hq(Z);if(J===null)Z=null;else{var Q=J.tag;if(Q===13){if(Z=NC(J),Z!==null)return Z;Z=null}else if(Q===31){if(Z=zC(J),Z!==null)return Z;Z=null}else if(Q===3){if(J.stateNode.current.memoizedState.isDehydrated)return J.tag===3?J.stateNode.containerInfo:null;Z=null}else J!==Z&&(Z=null)}}return Bz=Z,null}function dR(Z){switch(Z){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wc()){case OC:return 2;case UC:return 8;case pN:case Gc:return 32;case $C:return 268435456;default:return 32}default:return 32}}function ZC(Z,J){switch(Z){case"focusin":case"focusout":t7=null;break;case"dragenter":case"dragleave":r7=null;break;case"mouseover":case"mouseout":e7=null;break;case"pointerover":case"pointerout":fq.delete(J.pointerId);break;case"gotpointercapture":case"lostpointercapture":yq.delete(J.pointerId)}}function Zq(Z,J,Q,q,K,X){if(Z===null||Z.nativeEvent!==X)return Z={blockedOn:J,domEventName:Q,eventSystemFlags:q,nativeEvent:X,targetContainers:[K]},J!==null&&(J=NJ(J),J!==null&&mR(J)),Z;return Z.eventSystemFlags|=q,J=Z.targetContainers,K!==null&&J.indexOf(K)===-1&&J.push(K),Z}function Pl(Z,J,Q,q,K){switch(J){case"focusin":return t7=Zq(t7,Z,J,Q,q,K),!0;case"dragenter":return r7=Zq(r7,Z,J,Q,q,K),!0;case"mouseover":return e7=Zq(e7,Z,J,Q,q,K),!0;case"pointerover":var X=K.pointerId;return fq.set(X,Zq(fq.get(X)||null,Z,J,Q,q,K)),!0;case"gotpointercapture":return X=K.pointerId,yq.set(X,Zq(yq.get(X)||null,Z,J,Q,q,K)),!0}return!1}function cR(Z){var J=b2(Z.target);if(J!==null){var Q=hq(J);if(Q!==null){if(J=Q.tag,J===13){if(J=NC(Q),J!==null){Z.blockedOn=J,gj(Z.priority,function(){ew(Q)});return}}else if(J===31){if(J=zC(Q),J!==null){Z.blockedOn=J,gj(Z.priority,function(){ew(Q)});return}}else if(J===3&&Q.stateNode.current.memoizedState.isDehydrated){Z.blockedOn=Q.tag===3?Q.stateNode.containerInfo:null;return}}}Z.blockedOn=null}function dN(Z){if(Z.blockedOn!==null)return!1;for(var J=Z.targetContainers;0<J.length;){var Q=hA(Z.nativeEvent);if(Q===null){Q=Z.nativeEvent;var q=new Q.constructor(Q.type,Q);ZA=q,Q.target.dispatchEvent(q),ZA=null}else return J=NJ(Q),J!==null&&mR(J),Z.blockedOn=Q,!1;J.shift()}return!0}function JC(Z,J,Q){dN(Z)&&Q.delete(J)}function vl(){xA=!1,t7!==null&&dN(t7)&&(t7=null),r7!==null&&dN(r7)&&(r7=null),e7!==null&&dN(e7)&&(e7=null),fq.forEach(JC),yq.forEach(JC)}function CN(Z,J){Z.blockedOn===J&&(Z.blockedOn=null,xA||(xA=!0,F2(G2,vl)))}function QC(Z){LN!==Z&&(LN=Z,F2(G2,function(){LN===Z&&(LN=null);for(var J=0;J<Z.length;J+=3){var Q=Z[J],q=Z[J+1],K=Z[J+2];if(typeof q!=="function")if(P3(q||Q)===null)continue;else break;var X=NJ(Q);X!==null&&(Z.splice(J,3),J-=3,BA(X,{pending:!0,data:K,method:Q.method,action:q},q,K))}}))}function KJ(Z){function J(O){return CN(O,Z)}t7!==null&&CN(t7,Z),r7!==null&&CN(r7,Z),e7!==null&&CN(e7,Z),fq.forEach(J),yq.forEach(J);for(var Q=0;Q<g7.length;Q++){var q=g7[Q];q.blockedOn===Z&&(q.blockedOn=null)}for(;0<g7.length&&(Q=g7[0],Q.blockedOn===null);)cR(Q),Q.blockedOn===null&&g7.shift();if(Q=(Z.ownerDocument||Z).$$reactFormReplay,Q!=null)for(q=0;q<Q.length;q+=3){var K=Q[q],X=Q[q+1],z=K[H8]||null;if(typeof X==="function")z||QC(Q);else if(z){var Y=null;if(X&&X.hasAttribute("formAction")){if(K=X,z=X[H8]||null)Y=z.formAction;else if(P3(K)!==null)continue}else Y=z.action;typeof Y==="function"?Q[q+1]=Y:(Q.splice(q,3),q-=3),QC(Q)}}}function uR(){function Z(X){X.canIntercept&&X.info==="react-transition"&&X.intercept({handler:function(){return new Promise(function(z){return K=z})},focusReset:"manual",scroll:"manual"})}function J(){K!==null&&(K(),K=null),q||setTimeout(Q,20)}function Q(){if(!q&&!navigation.transition){var X=navigation.currentEntry;X&&X.url!=null&&navigation.navigate(X.url,{state:X.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation==="object"){var q=!1,K=null;return navigation.addEventListener("navigate",Z),navigation.addEventListener("navigatesuccess",J),navigation.addEventListener("navigateerror",J),setTimeout(Q,100),function(){q=!0,navigation.removeEventListener("navigate",Z),navigation.removeEventListener("navigatesuccess",J),navigation.removeEventListener("navigateerror",J),K!==null&&(K(),K=null)}}}function v3(Z){this._internalRoot=Z}function kz(Z){this._internalRoot=Z}var KC,_1,$c,UN,Jq,T2,YC,c$,VC,h4,gA,u$,l$,mA,v7,p$,Ac,yj,Dc,Qq,O0,p0,e9,a$,S2=-1,t6,wq,p7,cN,V$,hj,O$=!1,n$,dA,$$,_c,Mc,f8,Wc,OC,UC,pN,Gc,$C,Fc,jc,xq=null,y8=null,h8,wc,Cc,$N=256,AN=262144,DN=4194304,K9,G5,H8,XJ,o$,Ic,Tc,mj,dq,WC,GC,Sc,dj,cj,Pc,vc,fc,yc,ZA=null,k2=null,u2=null,D$=!1,u4,JA=!1,o9,d7=null,aA=null,IN=null,VZ,Mz,cq,hc,B$,_$,oQ,Wz,ij,xc,gc,mc,M$,dc,cc,uc,lc,pc,aj,ic,ac,sc,oc,tc,rc,sj,ec,Zu,Ju,Qu,qu,Ku,Xu,Nu,zu,nA,Vq=null,Hu,TC,nj,oj=!1,P2=!1,Ou,Oq=null,Lq=null,PC=!1,Kq,Xq,SN,g8,Mu,v2=null,QA=null,Uq=null,qA=!1,f2,W$,hC,xC,gC,mC,Wu,Gu,Fu,dC,cC,KA,aN,e8,y2=0,tA=0,h2,qw,x2,g2=0,nN=null,Eq=0,J6,Q6=0,Z9=null,s6=1,n6="",F5=null,B1=null,v0=!1,i7=null,X6=!1,XA,NA,$Z=null,g4=null,wu,Cu,Lu,s1,$q=null,YA=0,t2=0,l2=null,zw,JZ,HJ,K3,wz,tN,QZ=null,p2=null,Tq=0,NZ,rC,f7=!1,OA=!1,r2,rN,m8,N6=null,v1,l4=0,G0=null,H1=null,i1=null,Zz=!1,i2=!1,zZ=!1,Jz=0,Sq=0,a2=null,Iu=0,bq,kL,W3,PL,_A,G3,n1=!1,R$,y4=!1,a1=!1,v$=!1,Sw,z5=null,G1=null,X8=!1,L6=null,zq=8192,uu,lu,l0=0,Y1=null,T0=null,k0=0,e0=0,b8=null,c7=!1,YJ=!1,C3=!1,a4=0,S1=0,q9=0,qZ=0,L3=0,v8=0,ZJ=0,Gq=null,N8=null,jA=!1,Iz=0,HR=0,Xz=1/0,Nz=null,n7=null,Z5=0,o7=null,JJ=null,c4=0,wA=0,CA=null,YR=null,Fq=0,LA=null,Hz=null,E2=null,RA=!1,Yz=!1,h$=!1,l7=0,Yq,EA,IA,Hq,kq,Ql,wN,Kl,Xl,SA=null,bA=null,m$=null,bR,Yl,cw,Vl,yA=null,H6,aw,s4,VJ,gN=null,d$=0,Az=null,vq,Dz=!0,Bz=null,xA=!1,t7=null,r7=null,e7=null,fq,yq,g7,kl,LN=null,qC,fl,I2,lR=function(Z,J){if(!XC(Z))throw Error(l(299));var Q=!1,q="",K=vL,X=fL,z=yL;return J!==null&&J!==void 0&&(J.unstable_strictMode===!0&&(Q=!0),J.identifierPrefix!==void 0&&(q=J.identifierPrefix),J.onUncaughtError!==void 0&&(K=J.onUncaughtError),J.onCaughtError!==void 0&&(X=J.onCaughtError),J.onRecoverableError!==void 0&&(z=J.onRecoverableError)),J=hR(Z,1,!1,null,null,Q,q,null,K,X,z,uR),Z[XJ]=J.current,I3(Z),new v3(J)},pR=function(Z,J,Q){if(!XC(Z))throw Error(l(299));var q=!1,K="",X=vL,z=fL,Y=yL,O=null;return Q!==null&&Q!==void 0&&(Q.unstable_strictMode===!0&&(q=!0),Q.identifierPrefix!==void 0&&(K=Q.identifierPrefix),Q.onUncaughtError!==void 0&&(X=Q.onUncaughtError),Q.onCaughtError!==void 0&&(z=Q.onCaughtError),Q.onRecoverableError!==void 0&&(Y=Q.onRecoverableError),Q.formState!==void 0&&(O=Q.formState)),J=hR(Z,1,!0,J,Q!=null?Q:null,q,K,O,X,z,Y,uR),J.context=xR(null),Q=J.current,q=x8(),q=cA(q),K=a7(q),K.callback=null,s7(Q,K,q),Q=q,J.current.lanes=Q,mq(J,Q),e6(J),Z[XJ]=J.current,I3(Z),new kz(J)},iR="19.2.0";var aR=j(()=>{Oj();m5();KC=dQ(vj(),1);_1=Object.assign,$c=Symbol.for("react.element"),UN=Symbol.for("react.transitional.element"),Jq=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),YC=Symbol.for("react.strict_mode"),c$=Symbol.for("react.profiler"),VC=Symbol.for("react.consumer"),h4=Symbol.for("react.context"),gA=Symbol.for("react.forward_ref"),u$=Symbol.for("react.suspense"),l$=Symbol.for("react.suspense_list"),mA=Symbol.for("react.memo"),v7=Symbol.for("react.lazy"),p$=Symbol.for("react.activity"),Ac=Symbol.for("react.memo_cache_sentinel"),yj=Symbol.iterator;Dc=Symbol.for("react.client.reference");Qq=Array.isArray,O0=i9,p0=KC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,e9={pending:!1,data:null,method:null,action:null},a$=[];t6=r6(null),wq=r6(null),p7=r6(null),cN=r6(null);n$=Object.prototype.hasOwnProperty,dA=F2,$$=eU,_c=Q$,Mc=J$,f8=i6,Wc=Z$,OC=oU,UC=rU,pN=G2,Gc=tU,$C=nU,Fc=void 0,jc=void 0;h8=Math.clz32?Math.clz32:Lc,wc=Math.log,Cc=Math.LN2;K9=Math.random().toString(36).slice(2),G5="__reactFiber$"+K9,H8="__reactProps$"+K9,XJ="__reactContainer$"+K9,o$="__reactEvents$"+K9,Ic="__reactListeners$"+K9,Tc="__reactHandles$"+K9,mj="__reactResources$"+K9,dq="__reactMarker$"+K9;WC=new Set,GC={};Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dj={},cj={};Pc=/[\n"\\]/g;vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;u4=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u");if(u4)try{o9={},Object.defineProperty(o9,"passive",{get:function(){JA=!0}}),window.addEventListener("test",o9,o9),window.removeEventListener("test",o9,o9)}catch(Z){JA=!1}VZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Z){return Z.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mz=Y8(VZ),cq=_1({},VZ,{view:0,detail:0}),hc=Y8(cq),Wz=_1({},cq,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sA,button:0,buttons:0,relatedTarget:function(Z){return Z.relatedTarget===void 0?Z.fromElement===Z.srcElement?Z.toElement:Z.fromElement:Z.relatedTarget},movementX:function(Z){if("movementX"in Z)return Z.movementX;return Z!==oQ&&(oQ&&Z.type==="mousemove"?(B$=Z.screenX-oQ.screenX,_$=Z.screenY-oQ.screenY):_$=B$=0,oQ=Z),B$},movementY:function(Z){return"movementY"in Z?Z.movementY:_$}}),ij=Y8(Wz),xc=_1({},Wz,{dataTransfer:0}),gc=Y8(xc),mc=_1({},cq,{relatedTarget:0}),M$=Y8(mc),dc=_1({},VZ,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=Y8(dc),uc=_1({},VZ,{clipboardData:function(Z){return"clipboardData"in Z?Z.clipboardData:window.clipboardData}}),lc=Y8(uc),pc=_1({},VZ,{data:0}),aj=Y8(pc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};oc=_1({},cq,{key:function(Z){if(Z.key){var J=ic[Z.key]||Z.key;if(J!=="Unidentified")return J}return Z.type==="keypress"?(Z=TN(Z),Z===13?"Enter":String.fromCharCode(Z)):Z.type==="keydown"||Z.type==="keyup"?ac[Z.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sA,charCode:function(Z){return Z.type==="keypress"?TN(Z):0},keyCode:function(Z){return Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0},which:function(Z){return Z.type==="keypress"?TN(Z):Z.type==="keydown"||Z.type==="keyup"?Z.keyCode:0}}),tc=Y8(oc),rc=_1({},Wz,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sj=Y8(rc),ec=_1({},cq,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sA}),Zu=Y8(ec),Ju=_1({},VZ,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Y8(Ju),qu=_1({},Wz,{deltaX:function(Z){return"deltaX"in Z?Z.deltaX:("wheelDeltaX"in Z)?-Z.wheelDeltaX:0},deltaY:function(Z){return"deltaY"in Z?Z.deltaY:("wheelDeltaY"in Z)?-Z.wheelDeltaY:("wheelDelta"in Z)?-Z.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=Y8(qu),Xu=_1({},VZ,{newState:0,oldState:0}),Nu=Y8(Xu),zu=[9,13,27,32],nA=u4&&"CompositionEvent"in window;u4&&"documentMode"in document&&(Vq=document.documentMode);Hu=u4&&"TextEvent"in window&&!Vq,TC=u4&&(!nA||Vq&&8<Vq&&11>=Vq),nj=String.fromCharCode(32);Ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if(u4){if(u4){if(Xq="oninput"in document,!Xq)SN=document.createElement("div"),SN.setAttribute("oninput","return;"),Xq=typeof SN.oninput==="function";Kq=Xq}else Kq=!1;PC=Kq&&(!document.documentMode||9<document.documentMode)}g8=typeof Object.is==="function"?Object.is:_u;Mu=u4&&"documentMode"in document&&11>=document.documentMode;f2={animationend:a9("Animation","AnimationEnd"),animationiteration:a9("Animation","AnimationIteration"),animationstart:a9("Animation","AnimationStart"),transitionrun:a9("Transition","TransitionRun"),transitionstart:a9("Transition","TransitionStart"),transitioncancel:a9("Transition","TransitionCancel"),transitionend:a9("Transition","TransitionEnd")},W$={},hC={};u4&&(hC=document.createElement("div").style,("AnimationEvent"in window)||(delete f2.animationend.animation,delete f2.animationiteration.animation,delete f2.animationstart.animation),("TransitionEvent"in window)||delete f2.transitionend.transition);xC=OZ("animationend"),gC=OZ("animationiteration"),mC=OZ("animationstart"),Wu=OZ("transitionrun"),Gu=OZ("transitionstart"),Fu=OZ("transitioncancel"),dC=OZ("transitionend"),cC=new Map,KA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");KA.push("scrollEnd");aN=typeof reportError==="function"?reportError:function(Z){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z==="object"&&Z!==null&&typeof Z.message==="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(J))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Z);return}console.error(Z)},e8=[];h2={};qw=new WeakMap;x2=[],J6=[];XA=Error(l(519));NA=r6(null);wu=typeof AbortController<"u"?AbortController:function(){var Z=[],J=this.signal={aborted:!1,addEventListener:function(Q,q){Z.push(q)}};this.abort=function(){J.aborted=!0,Z.forEach(function(Q){return Q()})}},Cu=F2,Lu=G2,s1={$$typeof:h4,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};zw=O0.S;O0.S=function(Z,J){HR=f8(),typeof J==="object"&&J!==null&&typeof J.then==="function"&&Ru(Z,J),zw!==null&&zw(Z,J)};JZ=r6(null);HJ=Error(l(460)),K3=Error(l(474)),wz=Error(l(542)),tN={then:function(){}};NZ=tC(!0),rC=tC(!1);r2=r6(null),rN=r6(0);m8=r6(null);v1=r6(0);bq={readContext:j5,use:Lz,useCallback:T1,useContext:T1,useEffect:T1,useImperativeHandle:T1,useLayoutEffect:T1,useInsertionEffect:T1,useMemo:T1,useReducer:T1,useRef:T1,useState:T1,useDebugValue:T1,useDeferredValue:T1,useTransition:T1,useSyncExternalStore:T1,useId:T1,useHostTransitionStatus:T1,useFormState:T1,useActionState:T1,useOptimistic:T1,useMemoCache:T1,useCacheRefresh:T1};bq.useEffectEvent=T1;kL={readContext:j5,use:Lz,useCallback:function(Z,J){return c5().memoizedState=[Z,J===void 0?null:J],Z},useContext:j5,useEffect:_w,useImperativeHandle:function(Z,J,Q){Q=Q!==null&&Q!==void 0?Q.concat([Z]):null,vN(4194308,4,WL.bind(null,J,Z),Q)},useLayoutEffect:function(Z,J){return vN(4194308,4,Z,J)},useInsertionEffect:function(Z,J){vN(4,2,Z,J)},useMemo:function(Z,J){var Q=c5();J=J===void 0?null:J;var q=Z();if(zZ){m7(!0);try{Z()}finally{m7(!1)}}return Q.memoizedState=[q,J],q},useReducer:function(Z,J,Q){var q=c5();if(Q!==void 0){var K=Q(J);if(zZ){m7(!0);try{Q(J)}finally{m7(!1)}}}else K=J;return q.memoizedState=q.baseState=K,Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z,lastRenderedState:K},q.queue=Z,Z=Z.dispatch=fu.bind(null,G0,Z),[q.memoizedState,Z]},useRef:function(Z){var J=c5();return Z={current:Z},J.memoizedState=Z},useState:function(Z){Z=AA(Z);var J=Z.queue,Q=TL.bind(null,G0,J);return J.dispatch=Q,[Z.memoizedState,Q]},useDebugValue:D3,useDeferredValue:function(Z,J){var Q=c5();return B3(Q,Z,J)},useTransition:function(){var Z=AA(!1);return Z=CL.bind(null,G0,Z.queue,!0,!1),c5().memoizedState=Z,[!1,Z]},useSyncExternalStore:function(Z,J,Q){var q=G0,K=c5();if(v0){if(Q===void 0)throw Error(l(407));Q=Q()}else{if(Q=J(),Y1===null)throw Error(l(349));(k0&127)!==0||XL(q,J,Q)}K.memoizedState=Q;var X={value:Q,getSnapshot:J};return K.queue=X,_w(zL.bind(null,q,X,Z),[Z]),q.flags|=2048,e2(9,{destroy:void 0},NL.bind(null,q,X,Q,J),null),Q},useId:function(){var Z=c5(),J=Y1.identifierPrefix;if(v0){var Q=n6,q=s6;Q=(q&~(1<<32-h8(q)-1)).toString(32)+Q,J="_"+J+"R_"+Q,Q=Jz++,0<Q&&(J+="H"+Q.toString(32)),J+="_"}else Q=Iu++,J="_"+J+"r_"+Q.toString(32)+"_";return Z.memoizedState=J},useHostTransitionStatus:_3,useFormState:Aw,useActionState:Aw,useOptimistic:function(Z){var J=c5();J.memoizedState=J.baseState=Z;var Q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return J.queue=Q,J=M3.bind(null,G0,!0,Q),Q.dispatch=J,[Z,J]},useMemoCache:U3,useCacheRefresh:function(){return c5().memoizedState=vu.bind(null,G0)},useEffectEvent:function(Z){var J=c5(),Q={impl:Z};return J.memoizedState=Q,function(){if((l0&2)!==0)throw Error(l(440));return Q.impl.apply(void 0,arguments)}}},W3={readContext:j5,use:Lz,useCallback:FL,useContext:j5,useEffect:A3,useImperativeHandle:GL,useInsertionEffect:_L,useLayoutEffect:ML,useMemo:jL,useReducer:PN,useRef:DL,useState:function(){return PN(p4)},useDebugValue:D3,useDeferredValue:function(Z,J){var Q=f1();return wL(Q,H1.memoizedState,Z,J)},useTransition:function(){var Z=PN(p4)[0],J=f1().memoizedState;return[typeof Z==="boolean"?Z:lq(Z),J]},useSyncExternalStore:KL,useId:EL,useHostTransitionStatus:_3,useFormState:Dw,useActionState:Dw,useOptimistic:function(Z,J){var Q=f1();return VL(Q,H1,Z,J)},useMemoCache:U3,useCacheRefresh:IL};W3.useEffectEvent=BL;PL={readContext:j5,use:Lz,useCallback:FL,useContext:j5,useEffect:A3,useImperativeHandle:GL,useInsertionEffect:_L,useLayoutEffect:ML,useMemo:jL,useReducer:C$,useRef:DL,useState:function(){return C$(p4)},useDebugValue:D3,useDeferredValue:function(Z,J){var Q=f1();return H1===null?B3(Q,Z,J):wL(Q,H1.memoizedState,Z,J)},useTransition:function(){var Z=C$(p4)[0],J=f1().memoizedState;return[typeof Z==="boolean"?Z:lq(Z),J]},useSyncExternalStore:KL,useId:EL,useHostTransitionStatus:_3,useFormState:Bw,useActionState:Bw,useOptimistic:function(Z,J){var Q=f1();if(H1!==null)return VL(Q,H1,Z,J);return Q.baseState=Z,[Z,Q.queue.dispatch]},useMemoCache:U3,useCacheRefresh:IL};PL.useEffectEvent=BL;_A={enqueueSetState:function(Z,J,Q){Z=Z._reactInternals;var q=x8(),K=a7(q);K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=s7(Z,K,q),J!==null&&(z8(J,Z,q),Aq(J,Z,q))},enqueueReplaceState:function(Z,J,Q){Z=Z._reactInternals;var q=x8(),K=a7(q);K.tag=1,K.payload=J,Q!==void 0&&Q!==null&&(K.callback=Q),J=s7(Z,K,q),J!==null&&(z8(J,Z,q),Aq(J,Z,q))},enqueueForceUpdate:function(Z,J){Z=Z._reactInternals;var Q=x8(),q=a7(Q);q.tag=2,J!==void 0&&J!==null&&(q.callback=J),J=s7(Z,q,Q),J!==null&&(z8(J,Z,Q),Aq(J,Z,Q))}};G3=Error(l(461));R$={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};Sw=typeof WeakSet==="function"?WeakSet:Set;uu={getCacheForType:function(Z){var J=j5(s1),Q=J.data.get(Z);return Q===void 0&&(Q=Z(),J.data.set(Z,Q)),Q},cacheSignal:function(){return j5(s1).controller.signal}},lu=typeof WeakMap==="function"?WeakMap:Map;for(Hq=0;Hq<KA.length;Hq++)Yq=KA[Hq],EA=Yq.toLowerCase(),IA=Yq[0].toUpperCase()+Yq.slice(1),R6(EA,"on"+IA);R6(xC,"onAnimationEnd");R6(gC,"onAnimationIteration");R6(mC,"onAnimationStart");R6("dblclick","onDoubleClick");R6("focusin","onFocus");R6("focusout","onBlur");R6(Wu,"onTransitionRun");R6(Gu,"onTransitionStart");R6(Fu,"onTransitionCancel");R6(dC,"onTransitionEnd");n2("onMouseEnter",["mouseout","mouseover"]);n2("onMouseLeave",["mouseout","mouseover"]);n2("onPointerEnter",["pointerout","pointerover"]);n2("onPointerLeave",["pointerout","pointerover"]);YZ("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));YZ("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));YZ("onBeforeInput",["compositionend","keypress","textInput","paste"]);YZ("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));YZ("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));YZ("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));kq="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ql=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kq));wN="_reactListening"+Math.random().toString(36).slice(2);Kl=/\r\n?/g,Xl=/\u0000|\uFFFD/g;bR=typeof setTimeout==="function"?setTimeout:void 0,Yl=typeof clearTimeout==="function"?clearTimeout:void 0,cw=typeof Promise==="function"?Promise:void 0,Vl=typeof queueMicrotask==="function"?queueMicrotask:typeof cw<"u"?function(Z){return cw.resolve(null).then(Z).catch(Ol)}:bR;H6=new Map,aw=new Set;s4=p0.d;p0.d={f:Dl,r:Bl,D:_l,C:Ml,L:Wl,m:Gl,X:jl,S:Fl,M:wl};VJ=typeof document>"u"?null:document;vq={$$typeof:h4,Provider:null,Consumer:null,_currentValue:e9,_currentValue2:e9,_threadCount:0};fq=new Map,yq=new Map,g7=[],kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");kz.prototype.render=v3.prototype.render=function(Z){var J=this._internalRoot;if(J===null)throw Error(l(409));var Q=J.current,q=x8();gR(Q,q,Z,J,null,null)};kz.prototype.unmount=v3.prototype.unmount=function(){var Z=this._internalRoot;if(Z!==null){this._internalRoot=null;var J=Z.containerInfo;gR(Z.current,2,null,Z,null,null),Tz(),J[XJ]=null}};kz.prototype.unstable_scheduleHydration=function(Z){if(Z){var J=MC();Z={blockedOn:null,target:Z,priority:J};for(var Q=0;Q<g7.length&&J!==0&&J<g7[Q].priority;Q++);g7.splice(Q,0,Z),Q===0&&cR(Z)}};qC=H$;if(qC!=="19.2.0")throw Error(l(527,qC,"19.2.0"));p0.findDOMNode=function(Z){var J=Z._reactInternals;if(J===void 0){if(typeof Z.render==="function")throw Error(l(188));throw Z=Object.keys(Z).join(","),Error(l(268,Z))}return Z=Uc(J),Z=Z!==null?HC(Z):null,Z=Z===null?null:Z.stateNode,Z};fl={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O0,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){if(I2=__REACT_DEVTOOLS_GLOBAL_HOOK__,!I2.isDisabled&&I2.supportsFiber)try{xq=I2.inject(fl),y8=I2}catch(Z){}}});var oR=cQ((Yn,nR)=>{aR();function sR(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sR)}catch(Z){console.error(Z)}}sR(),nR.exports=f3});var I,ND=(Z)=>{if(typeof Z==="function"||typeof Z==="object"&&Z.extension){if(!Z.extension)throw Error("Extension class must have an extension object");Z={...typeof Z.extension!=="object"?{type:Z.extension}:Z.extension,ref:Z}}if(typeof Z==="object")Z={...Z};else throw Error("Invalid extension type");if(typeof Z.type==="string")Z.type=[Z.type];return Z},nz=(Z,J)=>ND(Z).priority??J,J0;var g=j(()=>{I=((Z)=>{return Z.Application="application",Z.WebGLPipes="webgl-pipes",Z.WebGLPipesAdaptor="webgl-pipes-adaptor",Z.WebGLSystem="webgl-system",Z.WebGPUPipes="webgpu-pipes",Z.WebGPUPipesAdaptor="webgpu-pipes-adaptor",Z.WebGPUSystem="webgpu-system",Z.CanvasSystem="canvas-system",Z.CanvasPipesAdaptor="canvas-pipes-adaptor",Z.CanvasPipes="canvas-pipes",Z.Asset="asset",Z.LoadParser="load-parser",Z.ResolveParser="resolve-parser",Z.CacheParser="cache-parser",Z.DetectionParser="detection-parser",Z.MaskEffect="mask-effect",Z.BlendMode="blend-mode",Z.TextureSource="texture-source",Z.Environment="environment",Z.ShapeBuilder="shape-builder",Z.Batcher="batcher",Z})(I||{}),J0={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...Z){return Z.map(ND).forEach((J)=>{J.type.forEach((Q)=>this._removeHandlers[Q]?.(J))}),this},add(...Z){return Z.map(ND).forEach((J)=>{J.type.forEach((Q)=>{let q=this._addHandlers,K=this._queue;if(!q[Q])K[Q]=K[Q]||[],K[Q]?.push(J);else q[Q]?.(J)})}),this},handle(Z,J,Q){let q=this._addHandlers,K=this._removeHandlers;if(q[Z]||K[Z])throw Error(`Extension type ${Z} already has a handler`);q[Z]=J,K[Z]=Q;let X=this._queue;if(X[Z])X[Z]?.forEach((z)=>J(z)),delete X[Z];return this},handleByMap(Z,J){return this.handle(Z,(Q)=>{if(Q.name)J[Q.name]=Q.ref},(Q)=>{if(Q.name)delete J[Q.name]})},handleByNamedList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.findIndex((X)=>X.name===q.name)>=0)return;J.push({name:q.name,value:q.ref}),J.sort((X,z)=>nz(z.value,Q)-nz(X.value,Q))},(q)=>{let K=J.findIndex((X)=>X.name===q.name);if(K!==-1)J.splice(K,1)})},handleByList(Z,J,Q=-1){return this.handle(Z,(q)=>{if(J.includes(q.ref))return;J.push(q.ref),J.sort((K,X)=>nz(X,Q)-nz(K,Q))},(q)=>{let K=J.indexOf(q.ref);if(K!==-1)J.splice(K,1)})},mixin(Z,...J){for(let Q of J)Object.defineProperties(Z.prototype,Object.getOwnPropertyDescriptors(Q))}}});var pE=cQ((Jo,zD)=>{var Ap=Object.prototype.hasOwnProperty,p5="~";function qK(){}if(Object.create){if(qK.prototype=Object.create(null),!new qK().__proto__)p5=!1}function Dp(Z,J,Q){this.fn=Z,this.context=J,this.once=Q||!1}function lE(Z,J,Q,q,K){if(typeof Q!=="function")throw TypeError("The listener must be a function");var X=new Dp(Q,q||Z,K),z=p5?p5+J:J;if(!Z._events[z])Z._events[z]=X,Z._eventsCount++;else if(!Z._events[z].fn)Z._events[z].push(X);else Z._events[z]=[Z._events[z],X];return Z}function oz(Z,J){if(--Z._eventsCount===0)Z._events=new qK;else delete Z._events[J]}function P5(){this._events=new qK,this._eventsCount=0}P5.prototype.eventNames=function(){var J=[],Q,q;if(this._eventsCount===0)return J;for(q in Q=this._events)if(Ap.call(Q,q))J.push(p5?q.slice(1):q);if(Object.getOwnPropertySymbols)return J.concat(Object.getOwnPropertySymbols(Q));return J};P5.prototype.listeners=function(J){var Q=p5?p5+J:J,q=this._events[Q];if(!q)return[];if(q.fn)return[q.fn];for(var K=0,X=q.length,z=Array(X);K<X;K++)z[K]=q[K].fn;return z};P5.prototype.listenerCount=function(J){var Q=p5?p5+J:J,q=this._events[Q];if(!q)return 0;if(q.fn)return 1;return q.length};P5.prototype.emit=function(J,Q,q,K,X,z){var Y=p5?p5+J:J;if(!this._events[Y])return!1;var O=this._events[Y],U=arguments.length,A,B;if(O.fn){if(O.once)this.removeListener(J,O.fn,void 0,!0);switch(U){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,Q),!0;case 3:return O.fn.call(O.context,Q,q),!0;case 4:return O.fn.call(O.context,Q,q,K),!0;case 5:return O.fn.call(O.context,Q,q,K,X),!0;case 6:return O.fn.call(O.context,Q,q,K,X,z),!0}for(B=1,A=Array(U-1);B<U;B++)A[B-1]=arguments[B];O.fn.apply(O.context,A)}else{var _=O.length,W;for(B=0;B<_;B++){if(O[B].once)this.removeListener(J,O[B].fn,void 0,!0);switch(U){case 1:O[B].fn.call(O[B].context);break;case 2:O[B].fn.call(O[B].context,Q);break;case 3:O[B].fn.call(O[B].context,Q,q);break;case 4:O[B].fn.call(O[B].context,Q,q,K);break;default:if(!A)for(W=1,A=Array(U-1);W<U;W++)A[W-1]=arguments[W];O[B].fn.apply(O[B].context,A)}}}return!0};P5.prototype.on=function(J,Q,q){return lE(this,J,Q,q,!1)};P5.prototype.once=function(J,Q,q){return lE(this,J,Q,q,!0)};P5.prototype.removeListener=function(J,Q,q,K){var X=p5?p5+J:J;if(!this._events[X])return this;if(!Q)return oz(this,X),this;var z=this._events[X];if(z.fn){if(z.fn===Q&&(!K||z.once)&&(!q||z.context===q))oz(this,X)}else{for(var Y=0,O=[],U=z.length;Y<U;Y++)if(z[Y].fn!==Q||K&&!z[Y].once||q&&z[Y].context!==q)O.push(z[Y]);if(O.length)this._events[X]=O.length===1?O[0]:O;else oz(this,X)}return this};P5.prototype.removeAllListeners=function(J){var Q;if(J){if(Q=p5?p5+J:J,this._events[Q])oz(this,Q)}else this._events=new qK,this._eventsCount=0;return this};P5.prototype.off=P5.prototype.removeListener;P5.prototype.addListener=P5.prototype.on;P5.prefixed=p5;P5.EventEmitter=P5;if(typeof zD<"u")zD.exports=P5});var iE,J1;var C5=j(()=>{iE=dQ(pE(),1),J1=iE.default});var Bp,t4=function(Z){return typeof Z=="string"?Z.length>0:typeof Z=="number"},O5=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=Math.pow(10,J)),Math.round(Q*Z)/Q+0},V6=function(Z,J,Q){return J===void 0&&(J=0),Q===void 0&&(Q=1),Z>Q?Q:Z>J?Z:J},ZI=function(Z){return(Z=isFinite(Z)?Z%360:0)>0?Z:Z+360},aE=function(Z){return{r:V6(Z.r,0,255),g:V6(Z.g,0,255),b:V6(Z.b,0,255),a:V6(Z.a)}},HD=function(Z){return{r:O5(Z.r),g:O5(Z.g),b:O5(Z.b),a:O5(Z.a,3)}},_p,tz=function(Z){var J=Z.toString(16);return J.length<2?"0"+J:J},JI=function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=Math.max(J,Q,q),z=X-Math.min(J,Q,q),Y=z?X===J?(Q-q)/z:X===Q?2+(q-J)/z:4+(J-Q)/z:0;return{h:60*(Y<0?Y+6:Y),s:X?z/X*100:0,v:X/255*100,a:K}},QI=function(Z){var{h:J,s:Q,v:q,a:K}=Z;J=J/360*6,Q/=100,q/=100;var X=Math.floor(J),z=q*(1-Q),Y=q*(1-(J-X)*Q),O=q*(1-(1-J+X)*Q),U=X%6;return{r:255*[q,Y,z,z,O,q][U],g:255*[O,q,q,Y,z,z][U],b:255*[z,z,O,q,q,Y][U],a:K}},sE=function(Z){return{h:ZI(Z.h),s:V6(Z.s,0,100),l:V6(Z.l,0,100),a:V6(Z.a)}},nE=function(Z){return{h:O5(Z.h),s:O5(Z.s),l:O5(Z.l),a:O5(Z.a,3)}},oE=function(Z){return QI((Q=(J=Z).s,{h:J.h,s:(Q*=((q=J.l)<50?q:100-q)/100)>0?2*Q/(q+Q)*100:0,v:q+Q,a:J.a}));var J,Q,q},KK=function(Z){return{h:(J=JI(Z)).h,s:(K=(200-(Q=J.s))*(q=J.v)/100)>0&&K<200?Q*q/100/(K<=100?K:200-K)*100:0,l:K/2,a:J.a};var J,Q,q,K},Mp,Wp,Gp,Fp,OD,tE=function(Z,J){for(var Q=0;Q<J.length;Q++){var q=J[Q][0](Z);if(q)return[q,J[Q][1]]}return[null,void 0]},jp=function(Z){return typeof Z=="string"?tE(Z.trim(),OD.string):typeof Z=="object"&&Z!==null?tE(Z,OD.object):[null,void 0]},YD=function(Z,J){var Q=KK(Z);return{h:Q.h,s:V6(Q.s+100*J,0,100),l:Q.l,a:Q.a}},VD=function(Z){return(299*Z.r+587*Z.g+114*Z.b)/1000/255},rE=function(Z,J){var Q=KK(Z);return{h:Q.h,s:Q.s,l:V6(Q.l+100*J,0,100),a:Q.a}},UD,I6=function(Z){return Z instanceof UD?Z:new UD(Z)},eE,qI=function(Z){Z.forEach(function(J){eE.indexOf(J)<0&&(J(UD,OD),eE.push(J))})};var KI=j(()=>{Bp={grad:0.9,turn:360,rad:360/(2*Math.PI)},_p=/^#([0-9a-f]{3,8})$/i,Mp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OD={string:[[function(Z){var J=_p.exec(Z);return J?(Z=J[1]).length<=4?{r:parseInt(Z[0]+Z[0],16),g:parseInt(Z[1]+Z[1],16),b:parseInt(Z[2]+Z[2],16),a:Z.length===4?O5(parseInt(Z[3]+Z[3],16)/255,2):1}:Z.length===6||Z.length===8?{r:parseInt(Z.substr(0,2),16),g:parseInt(Z.substr(2,2),16),b:parseInt(Z.substr(4,2),16),a:Z.length===8?O5(parseInt(Z.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Z){var J=Gp.exec(Z)||Fp.exec(Z);return J?J[2]!==J[4]||J[4]!==J[6]?null:aE({r:Number(J[1])/(J[2]?0.39215686274509803:1),g:Number(J[3])/(J[4]?0.39215686274509803:1),b:Number(J[5])/(J[6]?0.39215686274509803:1),a:J[7]===void 0?1:Number(J[7])/(J[8]?100:1)}):null},"rgb"],[function(Z){var J=Mp.exec(Z)||Wp.exec(Z);if(!J)return null;var Q,q,K=sE({h:(Q=J[1],q=J[2],q===void 0&&(q="deg"),Number(Q)*(Bp[q]||1)),s:Number(J[3]),l:Number(J[4]),a:J[5]===void 0?1:Number(J[5])/(J[6]?100:1)});return oE(K)},"hsl"]],object:[[function(Z){var{r:J,g:Q,b:q,a:K}=Z,X=K===void 0?1:K;return t4(J)&&t4(Q)&&t4(q)?aE({r:Number(J),g:Number(Q),b:Number(q),a:Number(X)}):null},"rgb"],[function(Z){var{h:J,s:Q,l:q,a:K}=Z,X=K===void 0?1:K;if(!t4(J)||!t4(Q)||!t4(q))return null;var z=sE({h:Number(J),s:Number(Q),l:Number(q),a:Number(X)});return oE(z)},"hsl"],[function(Z){var{h:J,s:Q,v:q,a:K}=Z,X=K===void 0?1:K;if(!t4(J)||!t4(Q)||!t4(q))return null;var z=function(Y){return{h:ZI(Y.h),s:V6(Y.s,0,100),v:V6(Y.v,0,100),a:V6(Y.a)}}({h:Number(J),s:Number(Q),v:Number(q),a:Number(X)});return QI(z)},"hsv"]]},UD=function(){function Z(J){this.parsed=jp(J)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Z.prototype.isValid=function(){return this.parsed!==null},Z.prototype.brightness=function(){return O5(VD(this.rgba),2)},Z.prototype.isDark=function(){return VD(this.rgba)<0.5},Z.prototype.isLight=function(){return VD(this.rgba)>=0.5},Z.prototype.toHex=function(){return J=HD(this.rgba),Q=J.r,q=J.g,K=J.b,z=(X=J.a)<1?tz(O5(255*X)):"","#"+tz(Q)+tz(q)+tz(K)+z;var J,Q,q,K,X,z},Z.prototype.toRgb=function(){return HD(this.rgba)},Z.prototype.toRgbString=function(){return J=HD(this.rgba),Q=J.r,q=J.g,K=J.b,(X=J.a)<1?"rgba("+Q+", "+q+", "+K+", "+X+")":"rgb("+Q+", "+q+", "+K+")";var J,Q,q,K,X},Z.prototype.toHsl=function(){return nE(KK(this.rgba))},Z.prototype.toHslString=function(){return J=nE(KK(this.rgba)),Q=J.h,q=J.s,K=J.l,(X=J.a)<1?"hsla("+Q+", "+q+"%, "+K+"%, "+X+")":"hsl("+Q+", "+q+"%, "+K+"%)";var J,Q,q,K,X},Z.prototype.toHsv=function(){return J=JI(this.rgba),{h:O5(J.h),s:O5(J.s),v:O5(J.v),a:O5(J.a,3)};var J},Z.prototype.invert=function(){return I6({r:255-(J=this.rgba).r,g:255-J.g,b:255-J.b,a:J.a});var J},Z.prototype.saturate=function(J){return J===void 0&&(J=0.1),I6(YD(this.rgba,J))},Z.prototype.desaturate=function(J){return J===void 0&&(J=0.1),I6(YD(this.rgba,-J))},Z.prototype.grayscale=function(){return I6(YD(this.rgba,-1))},Z.prototype.lighten=function(J){return J===void 0&&(J=0.1),I6(rE(this.rgba,J))},Z.prototype.darken=function(J){return J===void 0&&(J=0.1),I6(rE(this.rgba,-J))},Z.prototype.rotate=function(J){return J===void 0&&(J=15),this.hue(this.hue()+J)},Z.prototype.alpha=function(J){return typeof J=="number"?I6({r:(Q=this.rgba).r,g:Q.g,b:Q.b,a:J}):O5(this.rgba.a,3);var Q},Z.prototype.hue=function(J){var Q=KK(this.rgba);return typeof J=="number"?I6({h:J,s:Q.s,l:Q.l,a:Q.a}):O5(Q.h)},Z.prototype.isEqual=function(J){return this.toHex()===I6(J).toHex()},Z}(),eE=[]});function AD(Z,J){var Q={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},q={};for(var K in Q)q[Q[K]]=K;var X={};Z.prototype.toName=function(z){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,O,U=q[this.toHex()];if(U)return U;if(z==null?void 0:z.closest){var A=this.toRgb(),B=1/0,_="black";if(!X.length)for(var W in Q)X[W]=new Z(Q[W]).toRgb();for(var F in Q){var C=(Y=A,O=X[F],Math.pow(Y.r-O.r,2)+Math.pow(Y.g-O.g,2)+Math.pow(Y.b-O.b,2));C<B&&(B=C,_=F)}return _}},J.string.push([function(z){var Y=z.toLowerCase(),O=Y==="transparent"?"#0000":Q[Y];return O?new Z(O).toRgb():null},"name"])}var MJ=class Z{constructor(J=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=J}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(J){return this.value=J,this}set value(J){if(J instanceof Z)this._value=this._cloneSource(J._value),this._int=J._int,this._components.set(J._components);else if(J===null)throw Error("Cannot set Color#value to null");else if(this._value===null||!this._isSourceEqual(this._value,J))this._value=this._cloneSource(J),this._normalize(this._value)}get value(){return this._value}_cloneSource(J){if(typeof J==="string"||typeof J==="number"||J instanceof Number||J===null)return J;else if(Array.isArray(J)||ArrayBuffer.isView(J))return J.slice(0);else if(typeof J==="object"&&J!==null)return{...J};return J}_isSourceEqual(J,Q){let q=typeof J;if(q!==typeof Q)return!1;else if(q==="number"||q==="string"||J instanceof Number)return J===Q;else if(Array.isArray(J)&&Array.isArray(Q)||ArrayBuffer.isView(J)&&ArrayBuffer.isView(Q)){if(J.length!==Q.length)return!1;return J.every((X,z)=>X===Q[z])}else if(J!==null&&Q!==null){let X=Object.keys(J),z=Object.keys(Q);if(X.length!==z.length)return!1;return X.every((Y)=>J[Y]===Q[Y])}return J===Q}toRgba(){let[J,Q,q,K]=this._components;return{r:J,g:Q,b:q,a:K}}toRgb(){let[J,Q,q]=this._components;return{r:J,g:Q,b:q}}toRgbaString(){let[J,Q,q]=this.toUint8RgbArray();return`rgba(${J},${Q},${q},${this.alpha})`}toUint8RgbArray(J){let[Q,q,K]=this._components;if(!this._arrayRgb)this._arrayRgb=[];return J||(J=this._arrayRgb),J[0]=Math.round(Q*255),J[1]=Math.round(q*255),J[2]=Math.round(K*255),J}toArray(J){if(!this._arrayRgba)this._arrayRgba=[];J||(J=this._arrayRgba);let[Q,q,K,X]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J[3]=X,J}toRgbArray(J){if(!this._arrayRgb)this._arrayRgb=[];J||(J=this._arrayRgb);let[Q,q,K]=this._components;return J[0]=Q,J[1]=q,J[2]=K,J}toNumber(){return this._int}toBgrNumber(){let[J,Q,q]=this.toUint8RgbArray();return(q<<16)+(Q<<8)+J}toLittleEndianNumber(){let J=this._int;return(J>>16)+(J&65280)+((J&255)<<16)}multiply(J){let[Q,q,K,X]=Z._temp.setValue(J)._components;return this._components[0]*=Q,this._components[1]*=q,this._components[2]*=K,this._components[3]*=X,this._refreshInt(),this._value=null,this}premultiply(J,Q=!0){if(Q)this._components[0]*=J,this._components[1]*=J,this._components[2]*=J;return this._components[3]=J,this._refreshInt(),this._value=null,this}toPremultiplied(J,Q=!0){if(J===1)return-16777216+this._int;if(J===0)return Q?0:this._int;let q=this._int>>16&255,K=this._int>>8&255,X=this._int&255;if(Q)q=q*J+0.5|0,K=K*J+0.5|0,X=X*J+0.5|0;return(J*255<<24)+(q<<16)+(K<<8)+X}toHex(){let J=this._int.toString(16);return`#${"000000".substring(0,6-J.length)+J}`}toHexa(){let Q=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-Q.length)+Q}setAlpha(J){return this._components[3]=this._clamp(J),this}_normalize(J){let Q,q,K,X;if((typeof J==="number"||J instanceof Number)&&J>=0&&J<=16777215){let z=J;Q=(z>>16&255)/255,q=(z>>8&255)/255,K=(z&255)/255,X=1}else if((Array.isArray(J)||J instanceof Float32Array)&&J.length>=3&&J.length<=4)J=this._clamp(J),[Q,q,K,X=1]=J;else if((J instanceof Uint8Array||J instanceof Uint8ClampedArray)&&J.length>=3&&J.length<=4)J=this._clamp(J,0,255),[Q,q,K,X=255]=J,Q/=255,q/=255,K/=255,X/=255;else if(typeof J==="string"||typeof J==="object"){if(typeof J==="string"){let Y=Z.HEX_PATTERN.exec(J);if(Y)J=`#${Y[2]}`}let z=I6(J);if(z.isValid())({r:Q,g:q,b:K,a:X}=z.rgba),Q/=255,q/=255,K/=255}if(Q!==void 0)this._components[0]=Q,this._components[1]=q,this._components[2]=K,this._components[3]=X,this._refreshInt();else throw Error(`Unable to convert color ${J}`)}_refreshInt(){this._clamp(this._components);let[J,Q,q]=this._components;this._int=(J*255<<16)+(Q*255<<8)+(q*255|0)}_clamp(J,Q=0,q=1){if(typeof J==="number")return Math.min(Math.max(J,Q),q);return J.forEach((K,X)=>{J[X]=Math.min(Math.max(K,Q),q)}),J}static isColorLike(J){return typeof J==="number"||typeof J==="string"||J instanceof Number||J instanceof Z||Array.isArray(J)||J instanceof Uint8Array||J instanceof Uint8ClampedArray||J instanceof Float32Array||J.r!==void 0&&J.g!==void 0&&J.b!==void 0||J.r!==void 0&&J.g!==void 0&&J.b!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0||J.h!==void 0&&J.s!==void 0&&J.l!==void 0&&J.a!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0||J.h!==void 0&&J.s!==void 0&&J.v!==void 0&&J.a!==void 0}},F0;var v5=j(()=>{KI();qI([AD]);MJ.shared=new MJ;MJ._temp=new MJ;MJ.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;F0=MJ});var XI;var NI=j(()=>{XI={cullArea:null,cullable:!1,cullableChildren:!0}});var zI,HI,YI;var DD=j(()=>{zI=Math.PI*2,HI=180/Math.PI,YI=Math.PI/180});class P0{constructor(Z=0,J=0){this.x=0,this.y=0,this.x=Z,this.y=J}clone(){return new P0(this.x,this.y)}copyFrom(Z){return this.set(Z.x,Z.y),this}copyTo(Z){return Z.set(this.x,this.y),Z}equals(Z){return Z.x===this.x&&Z.y===this.y}set(Z=0,J=Z){return this.x=Z,this.y=J,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return BD.x=0,BD.y=0,BD}}var BD;var T6=j(()=>{BD=new P0});class a{constructor(Z=1,J=0,Q=0,q=1,K=0,X=0){this.array=null,this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X}fromArray(Z){this.a=Z[0],this.b=Z[1],this.c=Z[3],this.d=Z[4],this.tx=Z[2],this.ty=Z[5]}set(Z,J,Q,q,K,X){return this.a=Z,this.b=J,this.c=Q,this.d=q,this.tx=K,this.ty=X,this}toArray(Z,J){if(!this.array)this.array=new Float32Array(9);let Q=J||this.array;if(Z)Q[0]=this.a,Q[1]=this.b,Q[2]=0,Q[3]=this.c,Q[4]=this.d,Q[5]=0,Q[6]=this.tx,Q[7]=this.ty,Q[8]=1;else Q[0]=this.a,Q[1]=this.c,Q[2]=this.tx,Q[3]=this.b,Q[4]=this.d,Q[5]=this.ty,Q[6]=0,Q[7]=0,Q[8]=1;return Q}apply(Z,J){J=J||new P0;let{x:Q,y:q}=Z;return J.x=this.a*Q+this.c*q+this.tx,J.y=this.b*Q+this.d*q+this.ty,J}applyInverse(Z,J){J=J||new P0;let Q=this.a,q=this.b,K=this.c,X=this.d,z=this.tx,Y=this.ty,O=1/(Q*X+K*-q),U=Z.x,A=Z.y;return J.x=X*O*U+-K*O*A+(Y*K-z*X)*O,J.y=Q*O*A+-q*O*U+(-Y*Q+z*q)*O,J}translate(Z,J){return this.tx+=Z,this.ty+=J,this}scale(Z,J){return this.a*=Z,this.d*=J,this.c*=Z,this.b*=J,this.tx*=Z,this.ty*=J,this}rotate(Z){let J=Math.cos(Z),Q=Math.sin(Z),q=this.a,K=this.c,X=this.tx;return this.a=q*J-this.b*Q,this.b=q*Q+this.b*J,this.c=K*J-this.d*Q,this.d=K*Q+this.d*J,this.tx=X*J-this.ty*Q,this.ty=X*Q+this.ty*J,this}append(Z){let J=this.a,Q=this.b,q=this.c,K=this.d;return this.a=Z.a*J+Z.b*q,this.b=Z.a*Q+Z.b*K,this.c=Z.c*J+Z.d*q,this.d=Z.c*Q+Z.d*K,this.tx=Z.tx*J+Z.ty*q+this.tx,this.ty=Z.tx*Q+Z.ty*K+this.ty,this}appendFrom(Z,J){let{a:Q,b:q,c:K,d:X,tx:z,ty:Y}=Z,O=J.a,U=J.b,A=J.c,B=J.d;return this.a=Q*O+q*A,this.b=Q*U+q*B,this.c=K*O+X*A,this.d=K*U+X*B,this.tx=z*O+Y*A+J.tx,this.ty=z*U+Y*B+J.ty,this}setTransform(Z,J,Q,q,K,X,z,Y,O){return this.a=Math.cos(z+O)*K,this.b=Math.sin(z+O)*K,this.c=-Math.sin(z-Y)*X,this.d=Math.cos(z-Y)*X,this.tx=Z-(Q*this.a+q*this.c),this.ty=J-(Q*this.b+q*this.d),this}prepend(Z){let J=this.tx;if(Z.a!==1||Z.b!==0||Z.c!==0||Z.d!==1){let Q=this.a,q=this.c;this.a=Q*Z.a+this.b*Z.c,this.b=Q*Z.b+this.b*Z.d,this.c=q*Z.a+this.d*Z.c,this.d=q*Z.b+this.d*Z.d}return this.tx=J*Z.a+this.ty*Z.c+Z.tx,this.ty=J*Z.b+this.ty*Z.d+Z.ty,this}decompose(Z){let J=this.a,Q=this.b,q=this.c,K=this.d,X=Z.pivot,z=-Math.atan2(-q,K),Y=Math.atan2(Q,J),O=Math.abs(z+Y);if(O<0.00001||Math.abs(zI-O)<0.00001)Z.rotation=Y,Z.skew.x=Z.skew.y=0;else Z.rotation=0,Z.skew.x=z,Z.skew.y=Y;return Z.scale.x=Math.sqrt(J*J+Q*Q),Z.scale.y=Math.sqrt(q*q+K*K),Z.position.x=this.tx+(X.x*J+X.y*q),Z.position.y=this.ty+(X.x*Q+X.y*K),Z}invert(){let Z=this.a,J=this.b,Q=this.c,q=this.d,K=this.tx,X=Z*q-J*Q;return this.a=q/X,this.b=-J/X,this.c=-Q/X,this.d=Z/X,this.tx=(Q*this.ty-q*K)/X,this.ty=-(Z*this.ty-J*K)/X,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let Z=new a;return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyTo(Z){return Z.a=this.a,Z.b=this.b,Z.c=this.c,Z.d=this.d,Z.tx=this.tx,Z.ty=this.ty,Z}copyFrom(Z){return this.a=Z.a,this.b=Z.b,this.c=Z.c,this.d=Z.d,this.tx=Z.tx,this.ty=Z.ty,this}equals(Z){return Z.a===this.a&&Z.b===this.b&&Z.c===this.c&&Z.d===this.d&&Z.tx===this.tx&&Z.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Cp.identity()}static get shared(){return wp.identity()}}var wp,Cp;var S0=j(()=>{DD();T6();wp=new a,Cp=new a});class U5{constructor(Z,J,Q){this._x=J||0,this._y=Q||0,this._observer=Z}clone(Z){return new U5(Z??this._observer,this._x,this._y)}set(Z=0,J=Z){if(this._x!==Z||this._y!==J)this._x=Z,this._y=J,this._observer._onUpdate(this);return this}copyFrom(Z){if(this._x!==Z.x||this._y!==Z.y)this._x=Z.x,this._y=Z.y,this._observer._onUpdate(this);return this}copyTo(Z){return Z.set(this._x,this._y),Z}equals(Z){return Z.x===this._x&&Z.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(Z){if(this._x!==Z)this._x=Z,this._observer._onUpdate(this)}get y(){return this._y}set y(Z){if(this._y!==Z)this._y=Z,this._observer._onUpdate(this)}}var _D=()=>{};function M0(Z="default"){if(MD[Z]===void 0)MD[Z]=-1;return++MD[Z]}var MD;var J5=j(()=>{MD={default:-1}});var VI,Y0="8.0.0",OI="8.3.4",WJ,q0=(Z,J,Q=3)=>{if(WJ.quiet||VI.has(J))return;let q=Error().stack,K=`${J}
Deprecated since v${Z}`,X=typeof console.groupCollapsed==="function"&&!WJ.noColor;if(typeof q>"u")console.warn("PixiJS Deprecation Warning: ",K);else if(q=q.split(`
`).splice(Q).join(`
`),X)console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",K),console.warn(q),console.groupEnd();else console.warn("PixiJS Deprecation Warning: ",K),console.warn(q);VI.add(J)};var M1=j(()=>{VI=new Set,WJ={quiet:!1,noColor:!1};Object.defineProperties(q0,{quiet:{get:()=>WJ.quiet,set:(Z)=>{WJ.quiet=Z},enumerable:!0,configurable:!1},noColor:{get:()=>WJ.noColor,set:(Z)=>{WJ.noColor=Z},enumerable:!0,configurable:!1}})});function Z0(...Z){if(WD===UI)return;if(WD++,WD===UI)console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.");else console.warn("PixiJS Warning: ",...Z)}var WD=0,UI=500;var i0=()=>{};var O6;var jZ=j(()=>{O6={_registeredResources:new Set,register(Z){this._registeredResources.add(Z)},unregister(Z){this._registeredResources.delete(Z)},release(){this._registeredResources.forEach((Z)=>Z.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(Z){return this._registeredResources.has(Z)},reset(){this._registeredResources.clear()}}});class GD{constructor(Z,J){if(this._pool=[],this._count=0,this._index=0,this._classType=Z,J)this.prepopulate(J)}prepopulate(Z){for(let J=0;J<Z;J++)this._pool[this._index++]=new this._classType;this._count+=Z}get(Z){let J;if(this._index>0)J=this._pool[--this._index];else J=new this._classType;return J.init?.(Z),J}return(Z){Z.reset?.(),this._pool[this._index++]=Z}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let Z=0;Z<this._index;Z++)this._pool[Z].destroy();this._pool.length=0,this._count=0,this._index=0}}var $I=()=>{};class AI{constructor(){this._poolsByClass=new Map}prepopulate(Z,J){this.getPool(Z).prepopulate(J)}get(Z,J){return this.getPool(Z).get(J)}return(Z){this.getPool(Z.constructor).return(Z)}getPool(Z){if(!this._poolsByClass.has(Z))this._poolsByClass.set(Z,new GD(Z));return this._poolsByClass.get(Z)}stats(){let Z={};return this._poolsByClass.forEach((J)=>{let Q=Z[J._classType.name]?J._classType.name+J._classType.ID:J._classType.name;Z[Q]={free:J.totalFree,used:J.totalUsed,size:J.totalSize}}),Z}clear(){this._poolsByClass.forEach((Z)=>Z.clear()),this._poolsByClass.clear()}}var Q1;var Q4=j(()=>{jZ();$I();Q1=new AI;O6.register(Q1)});var DI;var BI=j(()=>{M1();DI={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(Z){if(typeof Z==="boolean"&&Z===!1)this.disableRenderGroup();else this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(Z===!0?{}:Z)},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(Z){q0("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(Z)}}});function rz(Z,J,Q){let q=Z.length,K;if(J>=q||Q===0)return;Q=J+Q>q?q-J:Q;let X=q-Q;for(K=J;K<X;++K)Z[K]=Z[K+Q];Z.length=X}var FD=()=>{};var _I;var MI=j(()=>{FD();M1();_I={allowChildren:!0,removeChildren(Z=0,J){let Q=J??this.children.length,q=Q-Z,K=[];if(q>0&&q<=Q){for(let z=Q-1;z>=Z;z--){let Y=this.children[z];if(!Y)continue;K.push(Y),Y.parent=null}rz(this.children,Z,Q);let X=this.renderGroup||this.parentRenderGroup;if(X)X.removeChildren(K);for(let z=0;z<K.length;++z){let Y=K[z];Y.parentRenderLayer?.detach(Y),this.emit("childRemoved",Y,this,z),K[z].emit("removed",this)}if(K.length>0)this._didViewChangeTick++;return K}else if(q===0&&this.children.length===0)return K;throw RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(Z){let J=this.getChildAt(Z);return this.removeChild(J)},getChildAt(Z){if(Z<0||Z>=this.children.length)throw Error(`getChildAt: Index (${Z}) does not exist.`);return this.children[Z]},setChildIndex(Z,J){if(J<0||J>=this.children.length)throw Error(`The index ${J} supplied is out of bounds ${this.children.length}`);this.getChildIndex(Z),this.addChildAt(Z,J)},getChildIndex(Z){let J=this.children.indexOf(Z);if(J===-1)throw Error("The supplied Container must be a child of the caller");return J},addChildAt(Z,J){if(!this.allowChildren)q0(Y0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");let{children:Q}=this;if(J<0||J>Q.length)throw Error(`${Z}addChildAt: The index ${J} supplied is out of bounds ${Q.length}`);if(Z.parent){let K=Z.parent.children.indexOf(Z);if(Z.parent===this&&K===J)return Z;if(K!==-1)Z.parent.children.splice(K,1)}if(J===Q.length)Q.push(Z);else Q.splice(J,0,Z);Z.parent=this,Z.didChange=!0,Z._updateFlags=15;let q=this.renderGroup||this.parentRenderGroup;if(q)q.addChild(Z);if(this.sortableChildren)this.sortDirty=!0;return this.emit("childAdded",Z,this,J),Z.emit("added",this),Z},swapChildren(Z,J){if(Z===J)return;let Q=this.getChildIndex(Z),q=this.getChildIndex(J);this.children[Q]=J,this.children[q]=Z;let K=this.renderGroup||this.parentRenderGroup;if(K)K.structureDidChange=!0;this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...Z){if(Z.length===1)return this.reparentChildAt(Z[0],this.children.length);return Z.forEach((J)=>this.reparentChildAt(J,this.children.length)),Z[0]},reparentChildAt(Z,J){if(Z.parent===this)return this.setChildIndex(Z,J),Z;let Q=Z.worldTransform.clone();Z.removeFromParent(),this.addChildAt(Z,J);let q=this.worldTransform.clone();return q.invert(),Q.prepend(q),Z.setFromMatrix(Q),Z},replaceChild(Z,J){Z.updateLocalTransform(),this.addChildAt(J,this.getChildIndex(Z)),J.setFromMatrix(Z.localTransform),J.updateLocalTransform(),this.removeChild(Z)}}});var WI;var GI=j(()=>{WI={collectRenderables(Z,J,Q){if(this.parentRenderLayer&&this.parentRenderLayer!==Q||this.globalDisplayStatus<7||!this.includeInBuild)return;if(this.sortableChildren)this.sortChildren();if(this.isSimple)this.collectRenderablesSimple(Z,J,Q);else if(this.renderGroup)J.renderPipes.renderGroup.addRenderGroup(this.renderGroup,Z);else this.collectRenderablesWithEffects(Z,J,Q)},collectRenderablesSimple(Z,J,Q){let q=this.children,K=q.length;for(let X=0;X<K;X++)q[X].collectRenderables(Z,J,Q)},collectRenderablesWithEffects(Z,J,Q){let{renderPipes:q}=J;for(let K=0;K<this.effects.length;K++){let X=this.effects[K];q[X.pipe].push(X,this,Z)}this.collectRenderablesSimple(Z,J,Q);for(let K=this.effects.length-1;K>=0;K--){let X=this.effects[K];q[X.pipe].pop(X,this,Z)}}}});class U9{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let Z=0;Z<this.filters.length;Z++)this.filters[Z].destroy();this.filters=null,this.filterArea=null}}var ez=()=>{};class FI{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){if(this._initialized)return;this._initialized=!0,this._effectClasses.forEach((Z)=>{this.add({test:Z.test,maskClass:Z})})}add(Z){this._tests.push(Z)}getMaskEffect(Z){if(!this._initialized)this.init();for(let J=0;J<this._tests.length;J++){let Q=this._tests[J];if(Q.test(Z))return Q1.get(Q.maskClass,Z)}return Z}returnMaskEffect(Z){Q1.return(Z)}}var ZH;var jI=j(()=>{g();Q4();ZH=new FI;J0.handleByList(I.MaskEffect,ZH._effectClasses)});var wI;var CI=j(()=>{ez();jI();wI={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.structureDidChange=!0},addEffect(Z){if(this.effects.indexOf(Z)!==-1)return;this.effects.push(Z),this.effects.sort((Q,q)=>Q.priority-q.priority),this._markStructureAsChanged(),this._updateIsSimple()},removeEffect(Z){let J=this.effects.indexOf(Z);if(J===-1)return;this.effects.splice(J,1),this._markStructureAsChanged(),this._updateIsSimple()},set mask(Z){let J=this._maskEffect;if(J?.mask===Z)return;if(J)this.removeEffect(J),ZH.returnMaskEffect(J),this._maskEffect=null;if(Z===null||Z===void 0)return;this._maskEffect=ZH.getMaskEffect(Z),this.addEffect(this._maskEffect)},get mask(){return this._maskEffect?.mask},setMask(Z){if(this._maskOptions={...this._maskOptions,...Z},Z.mask)this.mask=Z.mask;this._markStructureAsChanged()},set filters(Z){if(!Array.isArray(Z)&&Z)Z=[Z];let J=this._filterEffect||(this._filterEffect=new U9);Z=Z;let Q=Z?.length>0,q=J.filters?.length>0,K=Q!==q;if(Z=Array.isArray(Z)?Z.slice(0):Z,J.filters=Object.freeze(Z),K)if(Q)this.addEffect(J);else this.removeEffect(J),J.filters=Z??null},get filters(){return this._filterEffect?.filters},set filterArea(Z){this._filterEffect||(this._filterEffect=new U9),this._filterEffect.filterArea=Z},get filterArea(){return this._filterEffect?.filterArea}}});var LI;var RI=j(()=>{M1();LI={label:null,get name(){return q0(Y0,"Container.name property has been removed, use Container.label instead"),this.label},set name(Z){q0(Y0,"Container.name property has been removed, use Container.label instead"),this.label=Z},getChildByName(Z,J=!1){return this.getChildByLabel(Z,J)},getChildByLabel(Z,J=!1){let Q=this.children;for(let q=0;q<Q.length;q++){let K=Q[q];if(K.label===Z||Z instanceof RegExp&&Z.test(K.label))return K}if(J)for(let q=0;q<Q.length;q++){let X=Q[q].getChildByLabel(Z,!0);if(X)return X}return null},getChildrenByLabel(Z,J=!1,Q=[]){let q=this.children;for(let K=0;K<q.length;K++){let X=q[K];if(X.label===Z||Z instanceof RegExp&&Z.test(X.label))Q.push(X)}if(J)for(let K=0;K<q.length;K++)q[K].getChildrenByLabel(Z,!0,Q);return Q}}});class $0{constructor(Z=0,J=0,Q=0,q=0){this.type="rectangle",this.x=Number(Z),this.y=Number(J),this.width=Number(Q),this.height=Number(q)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new $0(0,0,0,0)}clone(){return new $0(this.x,this.y,this.width,this.height)}copyFromBounds(Z){return this.x=Z.minX,this.y=Z.minY,this.width=Z.maxX-Z.minX,this.height=Z.maxY-Z.minY,this}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<this.x+this.width){if(J>=this.y&&J<this.y+this.height)return!0}return!1}strokeContains(Z,J,Q,q=0.5){let{width:K,height:X}=this;if(K<=0||X<=0)return!1;let z=this.x,Y=this.y,O=Q*(1-q),U=Q-O,A=z-O,B=z+K+O,_=Y-O,W=Y+X+O,F=z+U,C=z+K-U,L=Y+U,G=Y+X-U;return Z>=A&&Z<=B&&J>=_&&J<=W&&!(Z>F&&Z<C&&J>L&&J<G)}intersects(Z,J){if(!J){let b=this.x<Z.x?Z.x:this.x;if((this.right>Z.right?Z.right:this.right)<=b)return!1;let u=this.y<Z.y?Z.y:this.y;return(this.bottom>Z.bottom?Z.bottom:this.bottom)>u}let Q=this.left,q=this.right,K=this.top,X=this.bottom;if(q<=Q||X<=K)return!1;let z=JH[0].set(Z.left,Z.top),Y=JH[1].set(Z.left,Z.bottom),O=JH[2].set(Z.right,Z.top),U=JH[3].set(Z.right,Z.bottom);if(O.x<=z.x||Y.y<=z.y)return!1;let A=Math.sign(J.a*J.d-J.b*J.c);if(A===0)return!1;if(J.apply(z,z),J.apply(Y,Y),J.apply(O,O),J.apply(U,U),Math.max(z.x,Y.x,O.x,U.x)<=Q||Math.min(z.x,Y.x,O.x,U.x)>=q||Math.max(z.y,Y.y,O.y,U.y)<=K||Math.min(z.y,Y.y,O.y,U.y)>=X)return!1;let B=A*(Y.y-z.y),_=A*(z.x-Y.x),W=B*Q+_*K,F=B*q+_*K,C=B*Q+_*X,L=B*q+_*X;if(Math.max(W,F,C,L)<=B*z.x+_*z.y||Math.min(W,F,C,L)>=B*U.x+_*U.y)return!1;let G=A*(z.y-O.y),w=A*(O.x-z.x),R=G*Q+w*K,T=G*q+w*K,h=G*Q+w*X,v=G*q+w*X;if(Math.max(R,T,h,v)<=G*z.x+w*z.y||Math.min(R,T,h,v)>=G*U.x+w*U.y)return!1;return!0}pad(Z=0,J=Z){return this.x-=Z,this.y-=J,this.width+=Z*2,this.height+=J*2,this}fit(Z){let J=Math.max(this.x,Z.x),Q=Math.min(this.x+this.width,Z.x+Z.width),q=Math.max(this.y,Z.y),K=Math.min(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Math.max(Q-J,0),this.y=q,this.height=Math.max(K-q,0),this}ceil(Z=1,J=0.001){let Q=Math.ceil((this.x+this.width-J)*Z)/Z,q=Math.ceil((this.y+this.height-J)*Z)/Z;return this.x=Math.floor((this.x+J)*Z)/Z,this.y=Math.floor((this.y+J)*Z)/Z,this.width=Q-this.x,this.height=q-this.y,this}scale(Z,J=Z){return this.x*=Z,this.y*=J,this.width*=Z,this.height*=J,this}enlarge(Z){let J=Math.min(this.x,Z.x),Q=Math.max(this.x+this.width,Z.x+Z.width),q=Math.min(this.y,Z.y),K=Math.max(this.y+this.height,Z.y+Z.height);return this.x=J,this.width=Q-J,this.y=q,this.height=K-q,this}getBounds(Z){return Z||(Z=new $0),Z.copyFrom(this),Z}containsRect(Z){if(this.width<=0||this.height<=0)return!1;let{x:J,y:Q}=Z,q=Z.x+Z.width,K=Z.y+Z.height;return J>=this.x&&J<this.x+this.width&&Q>=this.y&&Q<this.y+this.height&&q>=this.x&&q<this.x+this.width&&K>=this.y&&K<this.y+this.height}set(Z,J,Q,q){return this.x=Z,this.y=J,this.width=Q,this.height=q,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}var JH;var Q5=j(()=>{T6();JH=[new P0,new P0,new P0,new P0]});class q1{constructor(Z=1/0,J=1/0,Q=-1/0,q=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=EI,this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){if(!this._rectangle)this._rectangle=new $0;let Z=this._rectangle;if(this.minX>this.maxX||this.minY>this.maxY)Z.x=0,Z.y=0,Z.width=0,Z.height=0;else Z.copyFromBounds(this);return Z}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=EI,this}set(Z,J,Q,q){this.minX=Z,this.minY=J,this.maxX=Q,this.maxY=q}addFrame(Z,J,Q,q,K){K||(K=this.matrix);let{a:X,b:z,c:Y,d:O,tx:U,ty:A}=K,B=this.minX,_=this.minY,W=this.maxX,F=this.maxY,C=X*Z+Y*J+U,L=z*Z+O*J+A;if(C<B)B=C;if(L<_)_=L;if(C>W)W=C;if(L>F)F=L;if(C=X*Q+Y*J+U,L=z*Q+O*J+A,C<B)B=C;if(L<_)_=L;if(C>W)W=C;if(L>F)F=L;if(C=X*Z+Y*q+U,L=z*Z+O*q+A,C<B)B=C;if(L<_)_=L;if(C>W)W=C;if(L>F)F=L;if(C=X*Q+Y*q+U,L=z*Q+O*q+A,C<B)B=C;if(L<_)_=L;if(C>W)W=C;if(L>F)F=L;this.minX=B,this.minY=_,this.maxX=W,this.maxY=F}addRect(Z,J){this.addFrame(Z.x,Z.y,Z.x+Z.width,Z.y+Z.height,J)}addBounds(Z,J){this.addFrame(Z.minX,Z.minY,Z.maxX,Z.maxY,J)}addBoundsMask(Z){this.minX=this.minX>Z.minX?this.minX:Z.minX,this.minY=this.minY>Z.minY?this.minY:Z.minY,this.maxX=this.maxX<Z.maxX?this.maxX:Z.maxX,this.maxY=this.maxY<Z.maxY?this.maxY:Z.maxY}applyMatrix(Z){let J=this.minX,Q=this.minY,q=this.maxX,K=this.maxY,{a:X,b:z,c:Y,d:O,tx:U,ty:A}=Z,B=X*J+Y*Q+U,_=z*J+O*Q+A;this.minX=B,this.minY=_,this.maxX=B,this.maxY=_,B=X*q+Y*Q+U,_=z*q+O*Q+A,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY,B=X*J+Y*K+U,_=z*J+O*K+A,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY,B=X*q+Y*K+U,_=z*q+O*K+A,this.minX=B<this.minX?B:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=B>this.maxX?B:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(Z){if(this.minX<Z.left)this.minX=Z.left;if(this.maxX>Z.right)this.maxX=Z.right;if(this.minY<Z.top)this.minY=Z.top;if(this.maxY>Z.bottom)this.maxY=Z.bottom;return this}fitBounds(Z,J,Q,q){if(this.minX<Z)this.minX=Z;if(this.maxX>J)this.maxX=J;if(this.minY<Q)this.minY=Q;if(this.maxY>q)this.maxY=q;return this}pad(Z,J=Z){return this.minX-=Z,this.maxX+=Z,this.minY-=J,this.maxY+=J,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new q1(this.minX,this.minY,this.maxX,this.maxY)}scale(Z,J=Z){return this.minX*=Z,this.minY*=J,this.maxX*=Z,this.maxY*=J,this}get x(){return this.minX}set x(Z){let J=this.maxX-this.minX;this.minX=Z,this.maxX=Z+J}get y(){return this.minY}set y(Z){let J=this.maxY-this.minY;this.minY=Z,this.maxY=Z+J}get width(){return this.maxX-this.minX}set width(Z){this.maxX=this.minX+Z}get height(){return this.maxY-this.minY}set height(Z){this.maxY=this.minY+Z}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(Z,J,Q,q){let K=this.minX,X=this.minY,z=this.maxX,Y=this.maxY;q||(q=this.matrix);let{a:O,b:U,c:A,d:B,tx:_,ty:W}=q;for(let F=J;F<Q;F+=2){let C=Z[F],L=Z[F+1],G=O*C+A*L+_,w=U*C+B*L+W;K=G<K?G:K,X=w<X?w:X,z=G>z?G:z,Y=w>Y?w:Y}this.minX=K,this.minY=X,this.maxX=z,this.maxY=Y}containsPoint(Z,J){if(this.minX<=Z&&this.minY<=J&&this.maxX>=Z&&this.maxY>=J)return!0;return!1}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(Z){return this.minX=Z.minX,this.minY=Z.minY,this.maxX=Z.maxX,this.maxY=Z.maxY,this}}var EI;var O8=j(()=>{S0();Q5();EI=new a});var r1,d8;var wZ=j(()=>{S0();Q4();O8();r1=Q1.getPool(a),d8=Q1.getPool(q1)});var Lp,II;var TI=j(()=>{S0();O8();wZ();Lp=new a,II={getFastGlobalBounds(Z,J){if(J||(J=new q1),J.clear(),this._getGlobalBoundsRecursive(!!Z,J,this.parentRenderLayer),!J.isValid)J.set(0,0,0,0);let Q=this.renderGroup||this.parentRenderGroup;return J.applyMatrix(Q.worldTransform),J},_getGlobalBoundsRecursive(Z,J,Q){let q=J;if(Z&&this.parentRenderLayer&&this.parentRenderLayer!==Q)return;if(this.localDisplayStatus!==7||!this.measurable)return;let K=!!this.effects.length;if(this.renderGroup||K)q=d8.get().clear();if(this.boundsArea)J.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){let z=this.bounds;q.addFrame(z.minX,z.minY,z.maxX,z.maxY,this.groupTransform)}let X=this.children;for(let z=0;z<X.length;z++)X[z]._getGlobalBoundsRecursive(Z,q,Q)}if(K){let X=!1,z=this.renderGroup||this.parentRenderGroup;for(let Y=0;Y<this.effects.length;Y++)if(this.effects[Y].addBounds){if(!X)X=!0,q.applyMatrix(z.worldTransform);this.effects[Y].addBounds(q,!0)}if(X)q.applyMatrix(z.worldTransform.copyTo(Lp).invert());J.addBounds(q),d8.return(q)}else if(this.renderGroup)J.addBounds(q,this.relativeGroupTransform),d8.return(q)}}});function GJ(Z,J,Q){Q.clear();let q,K;if(Z.parent)if(!J)K=r1.get().identity(),q=QH(Z,K);else q=Z.parent.worldTransform;else q=a.IDENTITY;if(SI(Z,Q,q,J),K)r1.return(K);if(!Q.isValid)Q.set(0,0,0,0);return Q}function SI(Z,J,Q,q){if(!Z.visible||!Z.measurable)return;let K;if(!q)Z.updateLocalTransform(),K=r1.get(),K.appendFrom(Z.localTransform,Q);else K=Z.worldTransform;let X=J,z=!!Z.effects.length;if(z)J=d8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,K);else{let Y=Z.bounds;if(Y&&!Y.isEmpty())J.matrix=K,J.addBounds(Y);for(let O=0;O<Z.children.length;O++)SI(Z.children[O],J,K,q)}if(z){for(let Y=0;Y<Z.effects.length;Y++)Z.effects[Y].addBounds?.(J);X.addBounds(J,a.IDENTITY),d8.return(J)}if(!q)r1.return(K)}function QH(Z,J){let Q=Z.parent;if(Q)QH(Q,J),Q.updateLocalTransform(),J.append(Q.localTransform);return J}var XK=j(()=>{S0();wZ()});function qH(Z,J){if(Z===16777215||!J)return J;if(J===16777215||!Z)return Z;let Q=Z>>16&255,q=Z>>8&255,K=Z&255,X=J>>16&255,z=J>>8&255,Y=J&255,O=Q*X/255|0,U=q*z/255|0,A=K*Y/255|0;return(O<<16)+(U<<8)+A}var jD=()=>{};function FJ(Z,J){if(Z===bI)return J;if(J===bI)return Z;return qH(Z,J)}var bI=16777215;var wD=j(()=>{jD()});function NK(Z){return((Z&255)<<16)+(Z&65280)+(Z>>16&255)}var kI;var PI=j(()=>{S0();XK();wZ();wD();kI={getGlobalAlpha(Z){if(Z){if(this.renderGroup)return this.renderGroup.worldAlpha;if(this.parentRenderGroup)return this.parentRenderGroup.worldAlpha*this.alpha;return this.alpha}let J=this.alpha,Q=this.parent;while(Q)J*=Q.alpha,Q=Q.parent;return J},getGlobalTransform(Z=new a,J){if(J)return Z.copyFrom(this.worldTransform);this.updateLocalTransform();let Q=QH(this,r1.get().identity());return Z.appendFrom(this.localTransform,Q),r1.return(Q),Z},getGlobalTint(Z){if(Z){if(this.renderGroup)return NK(this.renderGroup.worldColor);if(this.parentRenderGroup)return NK(FJ(this.localColor,this.parentRenderGroup.worldColor));return this.tint}let J=this.localColor,Q=this.parent;while(Q)J=FJ(J,Q.localColor),Q=Q.parent;return NK(J)}}});function jJ(Z,J,Q){if(J.clear(),Q||(Q=a.IDENTITY),vI(Z,J,Q,Z,!0),!J.isValid)J.set(0,0,0,0);return J}function vI(Z,J,Q,q,K){let X;if(!K){if(!Z.visible||!Z.measurable)return;Z.updateLocalTransform();let O=Z.localTransform;X=r1.get(),X.appendFrom(O,Q)}else X=r1.get(),X=Q.copyTo(X);let z=J,Y=!!Z.effects.length;if(Y)J=d8.get().clear();if(Z.boundsArea)J.addRect(Z.boundsArea,X);else{if(Z.renderPipeId)J.matrix=X,J.addBounds(Z.bounds);let O=Z.children;for(let U=0;U<O.length;U++)vI(O[U],J,X,q,!1)}if(Y){for(let O=0;O<Z.effects.length;O++)Z.effects[O].addLocalBounds?.(J,q);z.addBounds(J,a.IDENTITY),d8.return(J)}r1.return(X)}var KH=j(()=>{S0();wZ()});function CD(Z,J){let Q=Z.children;for(let q=0;q<Q.length;q++){let K=Q[q],X=K.uid,z=(K._didViewChangeTick&65535)<<16|K._didContainerChangeTick&65535,Y=J.index;if(J.data[Y]!==X||J.data[Y+1]!==z)J.data[J.index]=X,J.data[J.index+1]=z,J.didChange=!0;if(J.index=Y+2,K.children.length)CD(K,J)}return J.didChange}var fI=()=>{};var Rp,yI;var hI=j(()=>{S0();O8();XK();KH();fI();Rp=new a,yI={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(Z,J){let Q=Math.sign(this.scale.x)||1;if(J!==0)this.scale.x=Z/J*Q;else this.scale.x=Q},_setHeight(Z,J){let Q=Math.sign(this.scale.y)||1;if(J!==0)this.scale.y=Z/J*Q;else this.scale.y=Q},getLocalBounds(){if(!this._localBoundsCacheData)this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new q1};let Z=this._localBoundsCacheData;if(Z.index=1,Z.didChange=!1,Z.data[0]!==this._didViewChangeTick)Z.didChange=!0,Z.data[0]=this._didViewChangeTick;if(CD(this,Z),Z.didChange)jJ(this,Z.localBounds,Rp);return Z.localBounds},getBounds(Z,J){return GJ(this,Z,J||new q1)}}});var xI;var gI=j(()=>{xI={_onRender:null,set onRender(Z){let J=this.renderGroup||this.parentRenderGroup;if(!Z){if(this._onRender)J?.removeOnRender(this);this._onRender=null;return}if(!this._onRender)J?.addOnRender(this);this._onRender=Z},get onRender(){return this._onRender}}});function Ep(Z,J){return Z._zIndex-J._zIndex}var mI;var dI=j(()=>{mI={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(Z){if(this._zIndex===Z)return;this._zIndex=Z,this.depthOfChildModified()},depthOfChildModified(){if(this.parent)this.parent.sortableChildren=!0,this.parent.sortDirty=!0;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0},sortChildren(){if(!this.sortDirty)return;this.sortDirty=!1,this.children.sort(Ep)}}});var cI;var uI=j(()=>{T6();wZ();cI={getGlobalPosition(Z=new P0,J=!1){if(this.parent)this.parent.toGlobal(this._position,Z,J);else Z.x=this._position.x,Z.y=this._position.y;return Z},toGlobal(Z,J,Q=!1){let q=this.getGlobalTransform(r1.get(),Q);return J=q.apply(Z,J),r1.return(q),J},toLocal(Z,J,Q,q){if(J)Z=J.toGlobal(Z,Q,q);let K=this.getGlobalTransform(r1.get(),q);return Q=K.applyInverse(Z,Q),r1.return(K),Q}}});class zK{constructor(){this.uid=M0("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(Z){this.instructions[this.instructionSize++]=Z}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}var LD=j(()=>{J5()});function r4(Z){return Z+=Z===0?1:0,--Z,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z+1}function RD(Z){return!(Z&Z-1)&&!!Z}var HK=()=>{};function XH(Z){let J={};for(let Q in Z)if(Z[Q]!==void 0)J[Q]=Z[Q];return J}var ED=()=>{};function Ip(Z){let J=lI[Z];if(J===void 0)lI[Z]=M0("resource");return J}var lI,pI,U8;var CZ=j(()=>{C5();J5();M1();lI=Object.create(null);pI=class Z extends J1{constructor(J={}){super();this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,J={...Z.defaultOptions,...J},this.addressMode=J.addressMode,this.addressModeU=J.addressModeU??this.addressModeU,this.addressModeV=J.addressModeV??this.addressModeV,this.addressModeW=J.addressModeW??this.addressModeW,this.scaleMode=J.scaleMode,this.magFilter=J.magFilter??this.magFilter,this.minFilter=J.minFilter??this.minFilter,this.mipmapFilter=J.mipmapFilter??this.mipmapFilter,this.lodMinClamp=J.lodMinClamp,this.lodMaxClamp=J.lodMaxClamp,this.compare=J.compare,this.maxAnisotropy=J.maxAnisotropy??1}set addressMode(J){this.addressModeU=J,this.addressModeV=J,this.addressModeW=J}get addressMode(){return this.addressModeU}set wrapMode(J){q0(Y0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=J}get wrapMode(){return this.addressMode}set scaleMode(J){this.magFilter=J,this.minFilter=J,this.mipmapFilter=J}get scaleMode(){return this.magFilter}set maxAnisotropy(J){if(this._maxAnisotropy=Math.min(J,16),this._maxAnisotropy>1)this.scaleMode="linear"}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){let J=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Ip(J),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};pI.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};U8=pI});var iI,m0;var i5=j(()=>{C5();HK();ED();J5();CZ();iI=class Z extends J1{constructor(J={}){super();if(this.options=J,this.uid=M0("textureSource"),this._resourceType="textureSource",this._resourceId=M0("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,J={...Z.defaultOptions,...J},this.label=J.label??"",this.resource=J.resource,this.autoGarbageCollect=J.autoGarbageCollect,this._resolution=J.resolution,J.width)this.pixelWidth=J.width*this._resolution;else this.pixelWidth=this.resource?this.resourceWidth??1:1;if(J.height)this.pixelHeight=J.height*this._resolution;else this.pixelHeight=this.resource?this.resourceHeight??1:1;this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=J.format,this.dimension=J.dimensions,this.mipLevelCount=J.mipLevelCount,this.autoGenerateMipmaps=J.autoGenerateMipmaps,this.sampleCount=J.sampleCount,this.antialias=J.antialias,this.alphaMode=J.alphaMode,this.style=new U8(XH(J)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(J){if(this.style===J)return;this._style?.off("change",this._onStyleChange,this),this._style=J,this._style?.on("change",this._onStyleChange,this),this._onStyleChange()}set maxAnisotropy(J){this._style.maxAnisotropy=J}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(J){this._style.addressMode=J}get repeatMode(){return this._style.addressMode}set repeatMode(J){this._style.addressMode=J}get magFilter(){return this._style.magFilter}set magFilter(J){this._style.magFilter=J}get minFilter(){return this._style.minFilter}set minFilter(J){this._style.minFilter=J}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(J){this._style.mipmapFilter=J}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(J){this._style.lodMinClamp=J}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(J){this._style.lodMaxClamp=J}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){let J=this._resolution;if(this.resize(this.resourceWidth/J,this.resourceHeight/J))return}this.emit("update",this)}destroy(){if(this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style)this._style.destroy(),this._style=null;this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=M0("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){let{resource:J}=this;return J.naturalWidth||J.videoWidth||J.displayWidth||J.width}get resourceHeight(){let{resource:J}=this;return J.naturalHeight||J.videoHeight||J.displayHeight||J.height}get resolution(){return this._resolution}set resolution(J){if(this._resolution===J)return;this._resolution=J,this.width=this.pixelWidth/J,this.height=this.pixelHeight/J}resize(J,Q,q){q||(q=this._resolution),J||(J=this.width),Q||(Q=this.height);let K=Math.round(J*q),X=Math.round(Q*q);if(this.width=K/q,this.height=X/q,this._resolution=q,this.pixelWidth===K&&this.pixelHeight===X)return!1;return this._refreshPOT(),this.pixelWidth=K,this.pixelHeight=X,this.emit("resize",this),this._resourceId=M0("resource"),this.emit("change",this),!0}updateMipmaps(){if(this.autoGenerateMipmaps&&this.mipLevelCount>1)this.emit("updateMipmaps",this)}set wrapMode(J){this._style.wrapMode=J}get wrapMode(){return this._style.wrapMode}set scaleMode(J){this._style.scaleMode=J}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=RD(this.pixelWidth)&&RD(this.pixelHeight)}static test(J){throw Error("Unimplemented")}};iI.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};m0=iI});function Tp(){for(let Z=0;Z<16;Z++){let J=[];ID.push(J);for(let Q=0;Q<16;Q++){let q=NH(LZ[Z]*LZ[Q]+EZ[Z]*RZ[Q]),K=NH(RZ[Z]*LZ[Q]+IZ[Z]*RZ[Q]),X=NH(LZ[Z]*EZ[Q]+EZ[Z]*IZ[Q]),z=NH(RZ[Z]*EZ[Q]+IZ[Z]*IZ[Q]);for(let Y=0;Y<16;Y++)if(LZ[Y]===q&&RZ[Y]===K&&EZ[Y]===X&&IZ[Y]===z){J.push(Y);break}}}for(let Z=0;Z<16;Z++){let J=new a;J.set(LZ[Z],RZ[Z],EZ[Z],IZ[Z],0,0),aI.push(J)}}var LZ,RZ,EZ,IZ,ID,aI,NH,o0;var TD=j(()=>{S0();LZ=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],RZ=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],EZ=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],IZ=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ID=[],aI=[],NH=Math.sign;Tp();o0={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:(Z)=>LZ[Z],uY:(Z)=>RZ[Z],vX:(Z)=>EZ[Z],vY:(Z)=>IZ[Z],inv:(Z)=>{if(Z&8)return Z&15;return-Z&7},add:(Z,J)=>ID[Z][J],sub:(Z,J)=>ID[Z][o0.inv(J)],rotate180:(Z)=>Z^4,isVertical:(Z)=>(Z&3)===2,byDirection:(Z,J)=>{if(Math.abs(Z)*2<=Math.abs(J)){if(J>=0)return o0.S;return o0.N}else if(Math.abs(J)*2<=Math.abs(Z)){if(Z>0)return o0.E;return o0.W}else if(J>0){if(Z>0)return o0.SE;return o0.SW}else if(Z>0)return o0.NE;return o0.NW},matrixAppendRotationInv:(Z,J,Q=0,q=0)=>{let K=aI[o0.inv(J)];K.tx=Q,K.ty=q,Z.append(K)},transformRectCoords:(Z,J,Q,q)=>{let{x:K,y:X,width:z,height:Y}=Z,{x:O,y:U,width:A,height:B}=J;if(Q===o0.E)return q.set(K+O,X+U,z,Y),q;else if(Q===o0.S)return q.set(A-X-Y+O,K+U,Y,z);else if(Q===o0.W)return q.set(A-K-z+O,B-X-Y+U,z,Y);else if(Q===o0.N)return q.set(X+O,B-K-z+U,Y,z);return q.set(K+O,X+U,z,Y)}}});var SD=()=>{};var sI=()=>{};var wJ;var bD=j(()=>{g();i5();wJ=class wJ extends m0{constructor(Z){let J=Z.resource||new Float32Array(Z.width*Z.height*4),Q=Z.format;if(!Q)if(J instanceof Float32Array)Q="rgba32float";else if(J instanceof Int32Array)Q="rgba32uint";else if(J instanceof Uint32Array)Q="rgba32uint";else if(J instanceof Int16Array)Q="rgba16uint";else if(J instanceof Uint16Array)Q="rgba16uint";else if(J instanceof Int8Array)Q="bgra8unorm";else Q="bgra8unorm";super({...Z,resource:J,format:Q});this.uploadMethodId="buffer"}static test(Z){return Z instanceof Int8Array||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array}};wJ.extension=I.TextureSource});class YK{constructor(Z,J){if(this.mapCoord=new a,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof J>"u")this.clampMargin=Z.width<10?0:0.5;else this.clampMargin=J;this.isSimple=!1,this.texture=Z}get texture(){return this._texture}set texture(Z){if(this.texture===Z)return;this._texture?.removeListener("update",this.update,this),this._texture=Z,this._texture.addListener("update",this.update,this),this.update()}multiplyUvs(Z,J){if(J===void 0)J=Z;let Q=this.mapCoord;for(let q=0;q<Z.length;q+=2){let K=Z[q],X=Z[q+1];J[q]=K*Q.a+X*Q.c+Q.tx,J[q+1]=K*Q.b+X*Q.d+Q.ty}return J}update(){let Z=this._texture;this._updateID++;let J=Z.uvs;this.mapCoord.set(J.x1-J.x0,J.y1-J.y0,J.x3-J.x0,J.y3-J.y0,J.x0,J.y0);let{orig:Q,trim:q}=Z;if(q)nI.set(Q.width/q.width,0,0,Q.height/q.height,-q.x/q.width,-q.y/q.height),this.mapCoord.append(nI);let K=Z.source,X=this.uClampFrame,z=this.clampMargin/K._resolution,Y=this.clampOffset/K._resolution;return X[0]=(Z.frame.x+z+Y)/K.width,X[1]=(Z.frame.y+z+Y)/K.height,X[2]=(Z.frame.x+Z.frame.width-z+Y)/K.width,X[3]=(Z.frame.y+Z.frame.height-z+Y)/K.height,this.uClampOffset[0]=this.clampOffset/K.pixelWidth,this.uClampOffset[1]=this.clampOffset/K.pixelHeight,this.isSimple=Z.frame.width===K.width&&Z.frame.height===K.height&&Z.rotate===0,!0}}var nI;var kD=j(()=>{S0();nI=new a});var p;var a0=j(()=>{C5();TD();Q5();J5();M1();sI();bD();i5();kD();p=class p extends J1{constructor({source:Z,label:J,frame:Q,orig:q,trim:K,defaultAnchor:X,defaultBorders:z,rotate:Y,dynamic:O}={}){super();if(this.uid=M0("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new $0,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=J,this.source=Z?.source??new m0,this.noFrame=!Q,Q)this.frame.copyFrom(Q);else{let{width:U,height:A}=this._source;this.frame.width=U,this.frame.height=A}this.orig=q||this.frame,this.trim=K,this.rotate=Y??0,this.defaultAnchor=X,this.defaultBorders=z,this.destroyed=!1,this.dynamic=O||!1,this.updateUvs()}set source(Z){if(this._source)this._source.off("resize",this.update,this);this._source=Z,Z.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){if(!this._textureMatrix)this._textureMatrix=new YK(this);return this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){let{uvs:Z,frame:J}=this,{width:Q,height:q}=this._source,K=J.x/Q,X=J.y/q,z=J.width/Q,Y=J.height/q,O=this.rotate;if(O){let U=z/2,A=Y/2,B=K+U,_=X+A;O=o0.add(O,o0.NW),Z.x0=B+U*o0.uX(O),Z.y0=_+A*o0.uY(O),O=o0.add(O,2),Z.x1=B+U*o0.uX(O),Z.y1=_+A*o0.uY(O),O=o0.add(O,2),Z.x2=B+U*o0.uX(O),Z.y2=_+A*o0.uY(O),O=o0.add(O,2),Z.x3=B+U*o0.uX(O),Z.y3=_+A*o0.uY(O)}else Z.x0=K,Z.y0=X,Z.x1=K+z,Z.y1=X,Z.x2=K+z,Z.y2=X+Y,Z.x3=K,Z.y3=X+Y}destroy(Z=!1){if(this._source){if(Z)this._source.destroy(),this._source=null}this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){if(this.noFrame)this.frame.width=this._source.width,this.frame.height=this._source.height;this.updateUvs(),this.emit("update",this)}get baseTexture(){return q0(Y0,"Texture.baseTexture is now Texture.source"),this._source}};p.EMPTY=new p({label:"EMPTY",source:new m0({label:"EMPTY"})});p.EMPTY.destroy=SD;p.WHITE=new p({source:new wJ({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});p.WHITE.destroy=SD});class oI{constructor(Z){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=Z||{},this.enableFullScreen=!1,this.textureStyle=new U8(this.textureOptions)}createTexture(Z,J,Q){let q=new m0({...this.textureOptions,width:Z,height:J,resolution:1,antialias:Q,autoGarbageCollect:!1});return new p({source:q,label:`texturePool_${Sp++}`})}getOptimalTexture(Z,J,Q=1,q){let K=Math.ceil(Z*Q-0.000001),X=Math.ceil(J*Q-0.000001);K=r4(K),X=r4(X);let z=(K<<17)+(X<<1)+(q?1:0);if(!this._texturePool[z])this._texturePool[z]=[];let Y=this._texturePool[z].pop();if(!Y)Y=this.createTexture(K,X,q);return Y.source._resolution=Q,Y.source.width=K/Q,Y.source.height=X/Q,Y.source.pixelWidth=K,Y.source.pixelHeight=X,Y.frame.x=0,Y.frame.y=0,Y.frame.width=Z,Y.frame.height=J,Y.updateUvs(),this._poolKeyHash[Y.uid]=z,Y}getSameSizeTexture(Z,J=!1){let Q=Z.source;return this.getOptimalTexture(Z.width,Z.height,Q._resolution,J)}returnTexture(Z,J=!1){let Q=this._poolKeyHash[Z.uid];if(J)Z.source.style=this.textureStyle;this._texturePool[Q].push(Z)}clear(Z){if(Z=Z!==!1,Z)for(let J in this._texturePool){let Q=this._texturePool[J];if(Q)for(let q=0;q<Q.length;q++)Q[q].destroy(!0)}this._texturePool={}}}var Sp=0,t0;var q4=j(()=>{HK();jZ();i5();a0();CZ();t0=new oI;O6.register(t0)});class CJ{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new a,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new zK,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(Z){if(this.root=Z,Z._onRender)this.addOnRender(Z);Z.didChange=!0;let J=Z.children;for(let Q=0;Q<J.length;Q++){let q=J[Q];q._updateFlags=15,this.addChild(q)}}enableCacheAsTexture(Z={}){this.textureOptions=Z,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){if(this.isCachedAsTexture=!1,this.texture)t0.returnTexture(this.texture,!0),this.texture=null}updateCacheTexture(){this.textureNeedsUpdate=!0;let Z=this._parentCacheAsTextureRenderGroup;if(Z&&!Z.textureNeedsUpdate)Z.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(let Z in this.childrenToUpdate){let J=this.childrenToUpdate[Z];J.list.fill(null),J.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(Z){if(Z.renderGroupParent)Z.renderGroupParent._removeRenderGroupChild(Z);Z.renderGroupParent=this,this.renderGroupChildren.push(Z)}_removeRenderGroupChild(Z){let J=this.renderGroupChildren.indexOf(Z);if(J>-1)this.renderGroupChildren.splice(J,1);Z.renderGroupParent=null}addChild(Z){if(this.structureDidChange=!0,Z.parentRenderGroup=this,Z.updateTick=-1,Z.parent===this.root)Z.relativeRenderGroupDepth=1;else Z.relativeRenderGroupDepth=Z.parent.relativeRenderGroupDepth+1;if(Z.didChange=!0,this.onChildUpdate(Z),Z.renderGroup){this.addRenderGroupChild(Z.renderGroup);return}if(Z._onRender)this.addOnRender(Z);let J=Z.children;for(let Q=0;Q<J.length;Q++)this.addChild(J[Q])}removeChild(Z){if(this.structureDidChange=!0,Z._onRender){if(!Z.renderGroup)this.removeOnRender(Z)}if(Z.parentRenderGroup=null,Z.renderGroup){this._removeRenderGroupChild(Z.renderGroup);return}let J=Z.children;for(let Q=0;Q<J.length;Q++)this.removeChild(J[Q])}removeChildren(Z){for(let J=0;J<Z.length;J++)this.removeChild(Z[J])}onChildUpdate(Z){let J=this.childrenToUpdate[Z.relativeRenderGroupDepth];if(!J)J=this.childrenToUpdate[Z.relativeRenderGroupDepth]={index:0,list:[]};J.list[J.index++]=Z}updateRenderable(Z){if(Z.globalDisplayStatus<7)return;this.instructionSet.renderPipes[Z.renderPipeId].updateRenderable(Z),Z.didViewUpdate=!1}onChildViewUpdate(Z){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=Z}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(Z){this._onRenderContainers.push(Z)}removeOnRender(Z){this._onRenderContainers.splice(this._onRenderContainers.indexOf(Z),1)}runOnRender(Z){for(let J=0;J<this._onRenderContainers.length;J++)this._onRenderContainers[J]._onRender(Z)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(Z=[]){let J=this.root.children;for(let Q=0;Q<J.length;Q++)this._getChildren(J[Q],Z);return Z}_getChildren(Z,J=[]){if(J.push(Z),Z.renderGroup)return J;let Q=Z.children;for(let q=0;q<Q.length;q++)this._getChildren(Q[q],J);return J}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){if((this._matrixDirty&1)===0)return this._inverseWorldTransform;return this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new a),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()}get textureOffsetInverseTransform(){if((this._matrixDirty&2)===0)return this._textureOffsetInverseTransform;return this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new a),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;let Z=this._parentCacheAsTextureRenderGroup;if(Z)return this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new a),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(Z.inverseWorldTransform).translate(-Z._textureBounds.x,-Z._textureBounds.y);return this.worldTransform}get cacheToLocalTransform(){if(this.isCachedAsTexture)return this.textureOffsetInverseTransform;if(!this._parentCacheAsTextureRenderGroup)return null;return this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform}}var PD=j(()=>{S0();LD();q4()});function tI(Z,J,Q={}){for(let q in J)if(!Q[q]&&J[q]!==void 0)Z[q]=J[q]}var rI=()=>{};var vD,zH,fD,HH,LJ=1,VK=2,TZ=4,f0;var S6=j(()=>{C5();v5();NI();g();S0();DD();_D();J5();M1();i0();Q4();BI();MI();GI();CI();RI();TI();PI();hI();gI();dI();uI();PD();rI();vD=new U5(null),zH=new U5(null),fD=new U5(null,1,1),HH=new U5(null);f0=class f0 extends J1{constructor(Z={}){super();this.uid=M0("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new a,this.relativeGroupTransform=new a,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new U5(this,0,0),this._scale=fD,this._pivot=zH,this._origin=HH,this._skew=vD,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],tI(this,Z,{children:!0,parent:!0,effects:!0}),Z.children?.forEach((J)=>this.addChild(J)),Z.parent?.addChild(this)}static mixin(Z){q0("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),J0.mixin(f0,Z)}set _didChangeId(Z){this._didViewChangeTick=Z>>12&4095,this._didContainerChangeTick=Z&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...Z){if(!this.allowChildren)q0(Y0,"addChild: Only Containers will be allowed to add children in v8.0.0");if(Z.length>1){for(let q=0;q<Z.length;q++)this.addChild(Z[q]);return Z[0]}let J=Z[0],Q=this.renderGroup||this.parentRenderGroup;if(J.parent===this){if(this.children.splice(this.children.indexOf(J),1),this.children.push(J),Q)Q.structureDidChange=!0;return J}if(J.parent)J.parent.removeChild(J);if(this.children.push(J),this.sortableChildren)this.sortDirty=!0;if(J.parent=this,J.didChange=!0,J._updateFlags=15,Q)Q.addChild(J);if(this.emit("childAdded",J,this,this.children.length-1),J.emit("added",this),this._didViewChangeTick++,J._zIndex!==0)J.depthOfChildModified();return J}removeChild(...Z){if(Z.length>1){for(let q=0;q<Z.length;q++)this.removeChild(Z[q]);return Z[0]}let J=Z[0],Q=this.children.indexOf(J);if(Q>-1){if(this._didViewChangeTick++,this.children.splice(Q,1),this.renderGroup)this.renderGroup.removeChild(J);else if(this.parentRenderGroup)this.parentRenderGroup.removeChild(J);if(J.parentRenderLayer)J.parentRenderLayer.detach(J);J.parent=null,this.emit("childRemoved",J,this,Q),J.emit("removed",this)}return J}_onUpdate(Z){if(Z){if(Z===this._skew)this._updateSkew()}if(this._didContainerChangeTick++,this.didChange)return;if(this.didChange=!0,this.parentRenderGroup)this.parentRenderGroup.onChildUpdate(this)}set isRenderGroup(Z){if(!!this.renderGroup===Z)return;if(Z)this.enableRenderGroup();else this.disableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),this.renderGroup=Q1.get(CJ,this),this.groupTransform=a.IDENTITY,Z?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;let Z=this.parentRenderGroup;Z?.removeChild(this),Q1.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,Z?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){if(this._worldTransform||(this._worldTransform=new a),this.renderGroup)this._worldTransform.copyFrom(this.renderGroup.worldTransform);else if(this.parentRenderGroup)this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform);return this._worldTransform}get x(){return this._position.x}set x(Z){this._position.x=Z}get y(){return this._position.y}set y(Z){this._position.y=Z}get position(){return this._position}set position(Z){this._position.copyFrom(Z)}get rotation(){return this._rotation}set rotation(Z){if(this._rotation!==Z)this._rotation=Z,this._onUpdate(this._skew)}get angle(){return this.rotation*HI}set angle(Z){this.rotation=Z*YI}get pivot(){if(this._pivot===zH)this._pivot=new U5(this,0,0);return this._pivot}set pivot(Z){if(this._pivot===zH){if(this._pivot=new U5(this,0,0),this._origin!==HH)Z0("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._pivot.set(Z):this._pivot.copyFrom(Z)}get skew(){if(this._skew===vD)this._skew=new U5(this,0,0);return this._skew}set skew(Z){if(this._skew===vD)this._skew=new U5(this,0,0);this._skew.copyFrom(Z)}get scale(){if(this._scale===fD)this._scale=new U5(this,1,1);return this._scale}set scale(Z){if(this._scale===fD)this._scale=new U5(this,0,0);if(typeof Z==="string")Z=parseFloat(Z);typeof Z==="number"?this._scale.set(Z):this._scale.copyFrom(Z)}get origin(){if(this._origin===HH)this._origin=new U5(this,0,0);return this._origin}set origin(Z){if(this._origin===HH){if(this._origin=new U5(this,0,0),this._pivot!==zH)Z0("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")}typeof Z==="number"?this._origin.set(Z):this._origin.copyFrom(Z)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(Z){let J=this.getLocalBounds().width;this._setWidth(Z,J)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(Z){let J=this.getLocalBounds().height;this._setHeight(Z,J)}getSize(Z){if(!Z)Z={};let J=this.getLocalBounds();return Z.width=Math.abs(this.scale.x*J.width),Z.height=Math.abs(this.scale.y*J.height),Z}setSize(Z,J){let Q=this.getLocalBounds();if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,Q.width),J!==void 0&&this._setHeight(J,Q.height)}_updateSkew(){let Z=this._rotation,J=this._skew;this._cx=Math.cos(Z+J._y),this._sx=Math.sin(Z+J._y),this._cy=-Math.sin(Z-J._x),this._sy=Math.cos(Z-J._x)}updateTransform(Z){return this.position.set(typeof Z.x==="number"?Z.x:this.position.x,typeof Z.y==="number"?Z.y:this.position.y),this.scale.set(typeof Z.scaleX==="number"?Z.scaleX||1:this.scale.x,typeof Z.scaleY==="number"?Z.scaleY||1:this.scale.y),this.rotation=typeof Z.rotation==="number"?Z.rotation:this.rotation,this.skew.set(typeof Z.skewX==="number"?Z.skewX:this.skew.x,typeof Z.skewY==="number"?Z.skewY:this.skew.y),this.pivot.set(typeof Z.pivotX==="number"?Z.pivotX:this.pivot.x,typeof Z.pivotY==="number"?Z.pivotY:this.pivot.y),this.origin.set(typeof Z.originX==="number"?Z.originX:this.origin.x,typeof Z.originY==="number"?Z.originY:this.origin.y),this}setFromMatrix(Z){Z.decompose(this)}updateLocalTransform(){let Z=this._didContainerChangeTick;if(this._didLocalTransformChangeId===Z)return;this._didLocalTransformChangeId=Z;let J=this.localTransform,Q=this._scale,q=this._pivot,K=this._origin,X=this._position,z=Q._x,Y=Q._y,O=q._x,U=q._y,A=-K._x,B=-K._y;J.a=this._cx*z,J.b=this._sx*z,J.c=this._cy*Y,J.d=this._sy*Y,J.tx=X._x-(O*J.a+U*J.c)+(A*J.a+B*J.c)-A,J.ty=X._y-(O*J.b+U*J.d)+(A*J.b+B*J.d)-B}set alpha(Z){if(Z===this.localAlpha)return;this.localAlpha=Z,this._updateFlags|=LJ,this._onUpdate()}get alpha(){return this.localAlpha}set tint(Z){let Q=F0.shared.setValue(Z??16777215).toBgrNumber();if(Q===this.localColor)return;this.localColor=Q,this._updateFlags|=LJ,this._onUpdate()}get tint(){return NK(this.localColor)}set blendMode(Z){if(this.localBlendMode===Z)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=VK,this.localBlendMode=Z,this._onUpdate()}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(Z){let J=Z?2:0;if((this.localDisplayStatus&2)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=TZ,this.localDisplayStatus^=2,this._onUpdate()}get culled(){return!(this.localDisplayStatus&4)}set culled(Z){let J=Z?0:4;if((this.localDisplayStatus&4)===J)return;if(this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._updateFlags|=TZ,this.localDisplayStatus^=4,this._onUpdate()}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(Z){let J=Z?1:0;if((this.localDisplayStatus&1)===J)return;if(this._updateFlags|=TZ,this.localDisplayStatus^=1,this.parentRenderGroup)this.parentRenderGroup.structureDidChange=!0;this._onUpdate()}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(Z=!1){if(this.destroyed)return;this.destroyed=!0;let J;if(this.children.length)J=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof Z==="boolean"?Z:Z?.children)&&J)for(let q=0;q<J.length;++q)J[q].destroy(Z);this.renderGroup?.destroy(),this.renderGroup=null}};J0.mixin(f0,_I,II,cI,xI,yI,wI,LI,mI,XI,DI,kI,WI)});var K4;var OK=j(()=>{K4=((Z)=>{return Z[Z.INTERACTION=50]="INTERACTION",Z[Z.HIGH=25]="HIGH",Z[Z.NORMAL=0]="NORMAL",Z[Z.LOW=-25]="LOW",Z[Z.UTILITY=-50]="UTILITY",Z})(K4||{})});class UK{constructor(Z,J=null,Q=0,q=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=Z,this._context=J,this.priority=Q,this._once=q}match(Z,J=null){return this._fn===Z&&this._context===J}emit(Z){if(this._fn)if(this._context)this._fn.call(this._context,Z);else this._fn(Z);let J=this.next;if(this._once)this.destroy(!0);if(this._destroyed)this.next=null;return J}connect(Z){if(this.previous=Z,Z.next)Z.next.previous=this;this.next=Z.next,Z.next=this}destroy(Z=!1){if(this._destroyed=!0,this._fn=null,this._context=null,this.previous)this.previous.next=this.next;if(this.next)this.next.previous=this.previous;let J=this.next;return this.next=Z?null:J,this.previous=null,J}}var eI=()=>{};var ZT=class Z{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new UK(null,null,1/0),this.deltaMS=1/Z.targetFPMS,this.elapsedMS=1/Z.targetFPMS,this._tick=(J)=>{if(this._requestId=null,this.started){if(this.update(J),this.started&&this._requestId===null&&this._head.next)this._requestId=requestAnimationFrame(this._tick)}}}_requestIfNeeded(){if(this._requestId===null&&this._head.next)this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick)}_cancelIfNeeded(){if(this._requestId!==null)cancelAnimationFrame(this._requestId),this._requestId=null}_startIfPossible(){if(this.started)this._requestIfNeeded();else if(this.autoStart)this.start()}add(J,Q,q=K4.NORMAL){return this._addListener(new UK(J,Q,q))}addOnce(J,Q,q=K4.NORMAL){return this._addListener(new UK(J,Q,q,!0))}_addListener(J){let Q=this._head.next,q=this._head;if(!Q)J.connect(q);else{while(Q){if(J.priority>Q.priority){J.connect(q);break}q=Q,Q=Q.next}if(!J.previous)J.connect(q)}return this._startIfPossible(),this}remove(J,Q){let q=this._head.next;while(q)if(q.match(J,Q))q=q.destroy();else q=q.next;if(!this._head.next)this._cancelIfNeeded();return this}get count(){if(!this._head)return 0;let J=0,Q=this._head;while(Q=Q.next)J++;return J}start(){if(!this.started)this.started=!0,this._requestIfNeeded()}stop(){if(this.started)this.started=!1,this._cancelIfNeeded()}destroy(){if(!this._protected){this.stop();let J=this._head.next;while(J)J=J.destroy(!0);this._head.destroy(),this._head=null}}update(J=performance.now()){let Q;if(J>this.lastTime){if(Q=this.elapsedMS=J-this.lastTime,Q>this._maxElapsedMS)Q=this._maxElapsedMS;if(Q*=this.speed,this._minElapsedMS){let X=J-this._lastFrame|0;if(X<this._minElapsedMS)return;this._lastFrame=J-X%this._minElapsedMS}this.deltaMS=Q,this.deltaTime=this.deltaMS*Z.targetFPMS;let q=this._head,K=q.next;while(K)K=K.emit(this);if(!q.next)this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=J}get FPS(){return 1000/this.elapsedMS}get minFPS(){return 1000/this._maxElapsedMS}set minFPS(J){let Q=Math.min(this.maxFPS,J),q=Math.min(Math.max(0,Q)/1000,Z.targetFPMS);this._maxElapsedMS=1/q}get maxFPS(){if(this._minElapsedMS)return Math.round(1000/this._minElapsedMS);return 0}set maxFPS(J){if(J===0)this._minElapsedMS=0;else{let Q=Math.max(this.minFPS,J);this._minElapsedMS=1/(Q/1000)}}static get shared(){if(!Z._shared){let J=Z._shared=new Z;J.autoStart=!0,J._protected=!0}return Z._shared}static get system(){if(!Z._system){let J=Z._system=new Z;J.autoStart=!0,J._protected=!0}return Z._system}},L5;var RJ=j(()=>{OK();eI();ZT.targetFPMS=0.06;L5=ZT});class $K{constructor(Z){if(this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;let J=this._canvas.getBoundingClientRect(),Q=this._canvas.width,q=this._canvas.height,K=J.width/Q*this._renderer.resolution,X=J.height/q*this._renderer.resolution,z=J.left,Y=J.top,O=`translate(${z}px, ${Y}px) scale(${K}, ${X})`;if(O!==this._lastTransform)this._domElement.style.transform=O,this._lastTransform=O},this._domElement=Z.domElement,this._renderer=Z.renderer,globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas)return;this._canvas=this._renderer.canvas,this._attachObserver()}get canvas(){return this._canvas}ensureAttached(){if(!this._domElement.parentNode&&this._canvas.parentNode)this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation()}_attachObserver(){if("ResizeObserver"in globalThis){if(this._observer)this._observer.disconnect(),this._observer=null;this._observer=new ResizeObserver((Z)=>{for(let J of Z){if(J.target!==this._canvas)continue;let Q=this.canvas.width,q=this.canvas.height,K=J.contentRect.width/Q*this._renderer.resolution,X=J.contentRect.height/q*this._renderer.resolution;if(this._lastScaleX!==K||this._lastScaleY!==X)this.updateTranslation(),this._lastScaleX=K,this._lastScaleY=X}}),this._observer.observe(this._canvas)}else if(!this._tickerAttached)L5.shared.add(this.updateTranslation,this,K4.HIGH)}destroy(){if(this._observer)this._observer.disconnect(),this._observer=null;else if(this._tickerAttached)L5.shared.remove(this.updateTranslation);this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}var yD=j(()=>{OK();RJ()});class $9{constructor(Z){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=$9.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new P0,this.page=new P0,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=Z}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){if(this.manager&&(!this.path||this.path[this.path.length-1]!==this.target))this.path=this.target?this.manager.propagationPath(this.target):[];return this.path}initEvent(Z,J,Q){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(Z,J,Q,q,K){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){if(this.nativeEvent instanceof Event&&this.nativeEvent.cancelable)this.nativeEvent.preventDefault();this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var YH=j(()=>{T6()});function bp(Z){return function(J){return J.test(Z)}}function AK(Z){var J={userAgent:"",platform:"",maxTouchPoints:0};if(!Z&&typeof navigator<"u")J={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};else if(typeof Z==="string")J.userAgent=Z;else if(Z&&Z.userAgent)J={userAgent:Z.userAgent,platform:Z.platform,maxTouchPoints:Z.maxTouchPoints||0};var Q=J.userAgent,q=Q.split("[FBAN");if(typeof q[1]<"u")Q=q[0];if(q=Q.split("Twitter"),typeof q[1]<"u")Q=q[0];var K=bp(Q),X={apple:{phone:K(hD)&&!K(e4),ipod:K(JT),tablet:!K(hD)&&(K(QT)||OT(J))&&!K(e4),universal:K(qT),device:(K(hD)||K(JT)||K(QT)||K(qT)||OT(J))&&!K(e4)},amazon:{phone:K(EJ),tablet:!K(EJ)&&K(VH),device:K(EJ)||K(VH)},android:{phone:!K(e4)&&K(EJ)||!K(e4)&&K(xD),tablet:!K(e4)&&!K(EJ)&&!K(xD)&&(K(VH)||K(KT)),device:!K(e4)&&(K(EJ)||K(VH)||K(xD)||K(KT))||K(/\bokhttp\b/i)},windows:{phone:K(e4),tablet:K(XT),device:K(e4)||K(XT)},other:{blackberry:K(NT),blackberry10:K(zT),opera:K(HT),firefox:K(VT),chrome:K(YT),device:K(NT)||K(zT)||K(HT)||K(VT)||K(YT)},any:!1,phone:!1,tablet:!1};return X.any=X.apple.device||X.android.device||X.windows.device||X.other.device,X.phone=X.apple.phone||X.android.phone||X.windows.phone,X.tablet=X.apple.tablet||X.android.tablet||X.windows.tablet,X}var hD,JT,QT,qT,xD,KT,EJ,VH,e4,XT,NT,zT,HT,YT,VT,OT=function(Z){return typeof Z<"u"&&Z.platform==="MacIntel"&&typeof Z.maxTouchPoints==="number"&&Z.maxTouchPoints>1&&typeof MSStream>"u"};var gD=j(()=>{hD=/iPhone/i,JT=/iPod/i,QT=/iPad/i,qT=/\biOS-universal(?:.+)Mac\b/i,xD=/\bAndroid(?:.+)Mobile\b/i,KT=/Android/i,EJ=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,VH=/Silk/i,e4=/Windows Phone/i,XT=/\bWindows(?:.+)ARM\b/i,NT=/BlackBerry/i,zT=/BB10/i,HT=/Opera Mini/i,YT=/\b(CriOS|Chrome)(?:.+)Mobile/i,VT=/Mobile(?:.+)Firefox\b/i});var UT=j(()=>{gD();gD()});var kp,$T;var AT=j(()=>{UT();kp=AK.default??AK,$T=kp(globalThis.navigator)});var Pp=9,DT=100,vp=0,fp=0,BT=2,_T=1,yp=-1000,hp=-1000,xp=2,mD=class Z{constructor(J,Q=$T){if(this._mobileInfo=Q,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pools={},this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._isRunningTests=!1,this._boundOnKeyDown=this._onKeyDown.bind(this),this._boundOnMouseMove=this._onMouseMove.bind(this),this._hookDiv=null,Q.tablet||Q.phone)this._createTouchHook();this._renderer=J}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}get div(){return this._div}_createTouchHook(){let J=document.createElement("button");J.style.width=`${_T}px`,J.style.height=`${_T}px`,J.style.position="absolute",J.style.top=`${yp}px`,J.style.left=`${hp}px`,J.style.zIndex=xp.toString(),J.style.backgroundColor="#FF0000",J.title="select to enable accessibility for this content",J.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(J),this._hookDiv=J}_destroyTouchHook(){if(!this._hookDiv)return;document.body.removeChild(this._hookDiv),this._hookDiv=null}_activate(){if(this._isActive)return;if(this._isActive=!0,!this._div)this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top=`${vp}px`,this._div.style.left=`${fp}px`,this._div.style.pointerEvents="none",this._div.style.zIndex=BT.toString(),this._canvasObserver=new $K({domElement:this._div,renderer:this._renderer});if(this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);if(this._deactivateOnMouseMove)globalThis.document.addEventListener("mousemove",this._boundOnMouseMove,!0);let J=this._renderer.view.canvas;if(!J.parentNode){let Q=new MutationObserver(()=>{if(J.parentNode)Q.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()});Q.observe(document.body,{childList:!0,subtree:!0})}else this._canvasObserver.ensureAttached(),this._initAccessibilitySetup()}_initAccessibilitySetup(){if(this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered)this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!this._isActive||this._isMobileAccessibility)return;if(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._activateOnTab)globalThis.addEventListener("keydown",this._boundOnKeyDown,!1);this._renderer.runners.postrender.remove(this);for(let J of this._children){if(J._accessibleDiv&&J._accessibleDiv.parentNode)J._accessibleDiv.parentNode.removeChild(J._accessibleDiv),J._accessibleDiv=null;J._accessibleActive=!1}for(let J in this._pools)this._pools[J].forEach((q)=>{if(q.parentNode)q.parentNode.removeChild(q)}),delete this._pools[J];if(this._div&&this._div.parentNode)this._div.parentNode.removeChild(this._div);this._pools={},this._children=[]}_updateAccessibleObjects(J){if(!J.visible||!J.accessibleChildren)return;if(J.accessible){if(!J._accessibleActive)this._addChild(J);J._renderId=this._renderId}let Q=J.children;if(Q)for(let q=0;q<Q.length;q++)this._updateAccessibleObjects(Q[q])}init(J){let q={accessibilityOptions:{...Z.defaultOptions,...J?.accessibilityOptions||{}}};if(this.debug=q.accessibilityOptions.debug,this._activateOnTab=q.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=q.accessibilityOptions.deactivateOnMouseMove,q.accessibilityOptions.enabledByDefault)this._activate();this._renderer.runners.postrender.remove(this)}postrender(){let J=performance.now();if(this._mobileInfo.android.device&&J<this._androidUpdateCount)return;if(this._androidUpdateCount=J+this._androidUpdateFrequency,(!this._renderer.renderingToScreen||!this._renderer.view.canvas)&&!this._isRunningTests)return;let Q=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(let q of this._children)if(q._renderId===this._renderId)Q.add(this._children.indexOf(q))}for(let q=this._children.length-1;q>=0;q--){let K=this._children[q];if(!Q.has(q)){if(K._accessibleDiv&&K._accessibleDiv.parentNode)K._accessibleDiv.parentNode.removeChild(K._accessibleDiv),this._getPool(K.accessibleType).push(K._accessibleDiv),K._accessibleDiv=null;K._accessibleActive=!1,rz(this._children,q,1)}}if(this._renderer.renderingToScreen)this._canvasObserver.ensureAttached();for(let q=0;q<this._children.length;q++){let K=this._children[q];if(!K._accessibleActive||!K._accessibleDiv)continue;let X=K._accessibleDiv,z=K.hitArea||K.getBounds().rectangle;if(K.hitArea){let Y=K.worldTransform;X.style.left=`${Y.tx+z.x*Y.a}px`,X.style.top=`${Y.ty+z.y*Y.d}px`,X.style.width=`${z.width*Y.a}px`,X.style.height=`${z.height*Y.d}px`}else this._capHitArea(z),X.style.left=`${z.x}px`,X.style.top=`${z.y}px`,X.style.width=`${z.width}px`,X.style.height=`${z.height}px`}this._renderId++}_updateDebugHTML(J){J.innerHTML=`type: ${J.type}</br> title : ${J.title}</br> tabIndex: ${J.tabIndex}`}_capHitArea(J){if(J.x<0)J.width+=J.x,J.x=0;if(J.y<0)J.height+=J.y,J.y=0;let{width:Q,height:q}=this._renderer;if(J.x+J.width>Q)J.width=Q-J.x;if(J.y+J.height>q)J.height=q-J.y}_addChild(J){let q=this._getPool(J.accessibleType).pop();if(q)q.innerHTML="",q.removeAttribute("title"),q.removeAttribute("aria-label"),q.tabIndex=0;else{if(J.accessibleType==="button")q=document.createElement("button");else if(q=document.createElement(J.accessibleType),q.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,J.accessibleText)q.innerText=J.accessibleText;if(q.style.width=`${DT}px`,q.style.height=`${DT}px`,q.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",q.style.position="absolute",q.style.zIndex=BT.toString(),q.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome"))q.setAttribute("aria-live","off");else q.setAttribute("aria-live","polite");if(navigator.userAgent.match(/rv:.*Gecko\//))q.setAttribute("aria-relevant","additions");else q.setAttribute("aria-relevant","text");q.addEventListener("click",this._onClick.bind(this)),q.addEventListener("focus",this._onFocus.bind(this)),q.addEventListener("focusout",this._onFocusOut.bind(this))}if(q.style.pointerEvents=J.accessiblePointerEvents,q.type=J.accessibleType,J.accessibleTitle&&J.accessibleTitle!==null)q.title=J.accessibleTitle;else if(!J.accessibleHint||J.accessibleHint===null)q.title=`container ${J.tabIndex}`;if(J.accessibleHint&&J.accessibleHint!==null)q.setAttribute("aria-label",J.accessibleHint);if(J.interactive)q.tabIndex=J.tabIndex;else q.tabIndex=0;if(this.debug)this._updateDebugHTML(q);J._accessibleActive=!0,J._accessibleDiv=q,q.container=J,this._children.push(J),this._div.appendChild(J._accessibleDiv)}_dispatchEvent(J,Q){let{container:q}=J.target,K=this._renderer.events.rootBoundary,X=Object.assign(new $9(K),{target:q});K.rootTarget=this._renderer.lastObjectRendered,Q.forEach((z)=>K.dispatchEvent(X,z))}_onClick(J){this._dispatchEvent(J,["click","pointertap","tap"])}_onFocus(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","assertive");this._dispatchEvent(J,["mouseover"])}_onFocusOut(J){if(!J.target.getAttribute("aria-live"))J.target.setAttribute("aria-live","polite");this._dispatchEvent(J,["mouseout"])}_onKeyDown(J){if(J.keyCode!==Pp||!this._activateOnTab)return;this._activate()}_onMouseMove(J){if(J.movementX===0&&J.movementY===0)return;this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._canvasObserver?.destroy(),this._canvasObserver=null,this._div=null,this._pools=null,this._children=null,this._renderer=null,this._hookDiv=null,globalThis.removeEventListener("keydown",this._boundOnKeyDown),this._boundOnKeyDown=null,globalThis.document.removeEventListener("mousemove",this._boundOnMouseMove,!0),this._boundOnMouseMove=null}setAccessibilityEnabled(J){if(J)this._activate();else this._deactivate()}_getPool(J){if(!this._pools[J])this._pools[J]=[];return this._pools[J]}},MT;var WT=j(()=>{yD();YH();g();AT();FD();mD.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"accessibility"};mD.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};MT=mD});var GT;var FT=j(()=>{GT={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1}});var jT=j(()=>{g();S6();WT();FT();J0.add(MT);J0.mixin(f0,GT)});class OH{static init(Z){Object.defineProperty(this,"resizeTo",{set(J){if(globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=J,J)globalThis.addEventListener("resize",this.queueResize),this.resize()},get(){return this._resizeTo}}),this.queueResize=()=>{if(!this._resizeTo)return;this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize())},this._cancelResize=()=>{if(this._resizeId)cancelAnimationFrame(this._resizeId),this._resizeId=null},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let J,Q;if(this._resizeTo===globalThis.window)J=globalThis.innerWidth,Q=globalThis.innerHeight;else{let{clientWidth:q,clientHeight:K}=this._resizeTo;J=q,Q=K}this.renderer.resize(J,Q),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=Z.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}var wT=j(()=>{g();OH.extension=I.Application});class UH{static init(Z){if(Z=Object.assign({autoStart:!0,sharedTicker:!1},Z),Object.defineProperty(this,"ticker",{set(J){if(this._ticker)this._ticker.remove(this.render,this);if(this._ticker=J,J)J.add(this.render,this,K4.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=Z.sharedTicker?L5.shared:new L5,Z.autoStart)this.start()}static destroy(){if(this._ticker){let Z=this._ticker;this.ticker=null,Z.destroy()}}}var CT=j(()=>{g();OK();RJ();UH.extension=I.Application});var dD=j(()=>{g();wT();CT();J0.add(OH);J0.add(UH)});class LT{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(Z){this.removeTickerListener(),this.events=Z,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(Z){this._pauseUpdate=Z}addTickerListener(){if(this._tickerAdded||!this.domElement)return;L5.system.add(this._tickerUpdate,this,K4.INTERACTION),this._tickerAdded=!0}removeTickerListener(){if(!this._tickerAdded)return;L5.system.remove(this._tickerUpdate,this),this._tickerAdded=!1}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let Z=this.events._rootPointerEvent;if(this.events.supportsTouchEvents&&Z.pointerType==="touch")return;globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:Z.clientX,clientY:Z.clientY,pointerType:Z.pointerType,pointerId:Z.pointerId}):new MouseEvent("mousemove",{clientX:Z.clientX,clientY:Z.clientY}))}_tickerUpdate(Z){if(this._deltaTime+=Z.deltaTime,this._deltaTime<this.interactionFrequency)return;this._deltaTime=0,this._update()}destroy(){this.removeTickerListener(),this.events=null,this.domElement=null,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}}var b6;var cD=j(()=>{OK();RJ();b6=new LT});var A9;var $H=j(()=>{T6();YH();A9=class A9 extends $9{constructor(){super(...arguments);this.client=new P0,this.movement=new P0,this.offset=new P0,this.global=new P0,this.screen=new P0}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(Z,J,Q){return Z.worldTransform.applyInverse(Q||this.global,J)}getModifierState(Z){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(Z)}initMouseEvent(Z,J,Q,q,K,X,z,Y,O,U,A,B,_,W,F){throw Error("Method not implemented.")}}});var $8;var uD=j(()=>{$H();$8=class $8 extends A9{constructor(){super(...arguments);this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){if(this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove")return[this];return[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}}});var Z7;var lD=j(()=>{$H();Z7=class Z7 extends A9{constructor(){super(...arguments);this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}};Z7.DOM_DELTA_PIXEL=0;Z7.DOM_DELTA_LINE=1;Z7.DOM_DELTA_PAGE=2});class pD{constructor(Z){this.dispatch=new J1,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=Z,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(Z,J){if(!this.mappingTable[Z])this.mappingTable[Z]=[];this.mappingTable[Z].push({fn:J,priority:0}),this.mappingTable[Z].sort((Q,q)=>Q.priority-q.priority)}dispatchEvent(Z,J){Z.propagationStopped=!1,Z.propagationImmediatelyStopped=!1,this.propagate(Z,J),this.dispatch.emit(J||Z.type,Z)}mapEvent(Z){if(!this.rootTarget)return;let J=this.mappingTable[Z.type];if(J)for(let Q=0,q=J.length;Q<q;Q++)J[Q].fn(Z);else Z0(`[EventBoundary]: Event mapping not defined for ${Z.type}`)}hitTest(Z,J){b6.pauseUpdate=!0;let q=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",K=this[q](this.rootTarget,this.rootTarget.eventMode,mp.set(Z,J),this.hitTestFn,this.hitPruneFn);return K&&K[0]}propagate(Z,J){if(!Z.target)return;let Q=Z.composedPath();Z.eventPhase=Z.CAPTURING_PHASE;for(let q=0,K=Q.length-1;q<K;q++)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;if(Z.eventPhase=Z.AT_TARGET,Z.currentTarget=Z.target,this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return;Z.eventPhase=Z.BUBBLING_PHASE;for(let q=Q.length-2;q>=0;q--)if(Z.currentTarget=Q[q],this.notifyTarget(Z,J),Z.propagationStopped||Z.propagationImmediatelyStopped)return}all(Z,J,Q=this._allInteractiveElements){if(Q.length===0)return;Z.eventPhase=Z.BUBBLING_PHASE;let q=Array.isArray(J)?J:[J];for(let K=Q.length-1;K>=0;K--)q.forEach((X)=>{Z.currentTarget=Q[K],this.notifyTarget(Z,X)})}propagationPath(Z){let J=[Z];for(let Q=0;Q<gp&&(Z!==this.rootTarget&&Z.parent);Q++){if(!Z.parent)throw Error("Cannot find propagation path to disconnected target");J.push(Z.parent),Z=Z.parent}return J.reverse(),J}hitTestMoveRecursive(Z,J,Q,q,K,X=!1){let z=!1;if(this._interactivePrune(Z))return null;if(Z.eventMode==="dynamic"||J==="dynamic")b6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let U=Z.children;for(let A=U.length-1;A>=0;A--){let B=U[A],_=this.hitTestMoveRecursive(B,this._isInteractive(J)?J:B.eventMode,Q,q,K,X||K(Z,Q));if(_){if(_.length>0&&!_[_.length-1].parent)continue;let W=Z.isInteractive();if(_.length>0||W){if(W)this._allInteractiveElements.push(Z);_.push(Z)}if(this._hitElements.length===0)this._hitElements=_;z=!0}}}let Y=this._isInteractive(J),O=Z.isInteractive();if(O&&O)this._allInteractiveElements.push(Z);if(X||this._hitElements.length>0)return null;if(z)return this._hitElements;if(Y&&(!K(Z,Q)&&q(Z,Q)))return O?[Z]:[];return null}hitTestRecursive(Z,J,Q,q,K){if(this._interactivePrune(Z)||K(Z,Q))return null;if(Z.eventMode==="dynamic"||J==="dynamic")b6.pauseUpdate=!1;if(Z.interactiveChildren&&Z.children){let Y=Z.children,O=Q;for(let U=Y.length-1;U>=0;U--){let A=Y[U],B=this.hitTestRecursive(A,this._isInteractive(J)?J:A.eventMode,O,q,K);if(B){if(B.length>0&&!B[B.length-1].parent)continue;let _=Z.isInteractive();if(B.length>0||_)B.push(Z);return B}}}let X=this._isInteractive(J),z=Z.isInteractive();if(X&&q(Z,Q))return z?[Z]:[];return null}_isInteractive(Z){return Z==="static"||Z==="dynamic"}_interactivePrune(Z){if(!Z||!Z.visible||!Z.renderable||!Z.measurable)return!0;if(Z.eventMode==="none")return!0;if(Z.eventMode==="passive"&&!Z.interactiveChildren)return!0;return!1}hitPruneFn(Z,J){if(Z.hitArea){if(Z.worldTransform.applyInverse(J,DK),!Z.hitArea.contains(DK.x,DK.y))return!0}if(Z.effects&&Z.effects.length)for(let Q=0;Q<Z.effects.length;Q++){let q=Z.effects[Q];if(q.containsPoint){if(!q.containsPoint(J,this.hitTestFn))return!0}}return!1}hitTestFn(Z,J){if(Z.hitArea)return!0;if(Z?.containsPoint)return Z.worldTransform.applyInverse(J,DK),Z.containsPoint(DK);return!1}notifyTarget(Z,J){if(!Z.currentTarget.isInteractive())return;J??(J=Z.type);let Q=`on${J}`;Z.currentTarget[Q]?.(Z);let q=Z.eventPhase===Z.CAPTURING_PHASE||Z.eventPhase===Z.AT_TARGET?`${J}capture`:J;if(this._notifyListeners(Z,q),Z.eventPhase===Z.AT_TARGET)this._notifyListeners(Z,J)}mapPointerDown(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.createPointerEvent(Z);if(this.dispatchEvent(J,"pointerdown"),J.pointerType==="touch")this.dispatchEvent(J,"touchstart");else if(J.pointerType==="mouse"||J.pointerType==="pen"){let q=J.button===2;this.dispatchEvent(J,q?"rightdown":"mousedown")}let Q=this.trackingData(Z.pointerId);Q.pressTargetsByButton[Z.button]=J.composedPath(),this.freeEvent(J)}mapPointerMove(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let J=this.createPointerEvent(Z);this._isPointerMoveEvent=!1;let Q=J.pointerType==="mouse"||J.pointerType==="pen",q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.overTargets);if(q.overTargets?.length>0&&K!==J.target){let Y=Z.type==="mousemove"?"mouseout":"pointerout",O=this.createPointerEvent(Z,Y,K);if(this.dispatchEvent(O,"pointerout"),Q)this.dispatchEvent(O,"mouseout");if(!J.composedPath().includes(K)){let U=this.createPointerEvent(Z,"pointerleave",K);U.eventPhase=U.AT_TARGET;while(U.target&&!J.composedPath().includes(U.target)){if(U.currentTarget=U.target,this.notifyTarget(U),Q)this.notifyTarget(U,"mouseleave");U.target=U.target.parent}this.freeEvent(U)}this.freeEvent(O)}if(K!==J.target){let Y=Z.type==="mousemove"?"mouseover":"pointerover",O=this.clonePointerEvent(J,Y);if(this.dispatchEvent(O,"pointerover"),Q)this.dispatchEvent(O,"mouseover");let U=K?.parent;while(U&&U!==this.rootTarget.parent){if(U===J.target)break;U=U.parent}if(!U||U===this.rootTarget.parent){let B=this.clonePointerEvent(J,"pointerenter");B.eventPhase=B.AT_TARGET;while(B.target&&B.target!==K&&B.target!==this.rootTarget.parent){if(B.currentTarget=B.target,this.notifyTarget(B),Q)this.notifyTarget(B,"mouseenter");B.target=B.target.parent}this.freeEvent(B)}this.freeEvent(O)}let X=[],z=this.enableGlobalMoveEvents??!0;if(this.moveOnAll?X.push("pointermove"):this.dispatchEvent(J,"pointermove"),z&&X.push("globalpointermove"),J.pointerType==="touch")this.moveOnAll?X.splice(1,0,"touchmove"):this.dispatchEvent(J,"touchmove"),z&&X.push("globaltouchmove");if(Q)this.moveOnAll?X.splice(1,0,"mousemove"):this.dispatchEvent(J,"mousemove"),z&&X.push("globalmousemove"),this.cursor=J.target?.cursor;if(X.length>0)this.all(J,X);this._allInteractiveElements.length=0,this._hitElements.length=0,q.overTargets=J.composedPath(),this.freeEvent(J)}mapPointerOver(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.createPointerEvent(Z),q=Q.pointerType==="mouse"||Q.pointerType==="pen";if(this.dispatchEvent(Q,"pointerover"),q)this.dispatchEvent(Q,"mouseover");if(Q.pointerType==="mouse")this.cursor=Q.target?.cursor;let K=this.clonePointerEvent(Q,"pointerenter");K.eventPhase=K.AT_TARGET;while(K.target&&K.target!==this.rootTarget.parent){if(K.currentTarget=K.target,this.notifyTarget(K),q)this.notifyTarget(K,"mouseenter");K.target=K.target.parent}J.overTargets=Q.composedPath(),this.freeEvent(Q),this.freeEvent(K)}mapPointerOut(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId);if(J.overTargets){let Q=Z.pointerType==="mouse"||Z.pointerType==="pen",q=this.findMountedTarget(J.overTargets),K=this.createPointerEvent(Z,"pointerout",q);if(this.dispatchEvent(K),Q)this.dispatchEvent(K,"mouseout");let X=this.createPointerEvent(Z,"pointerleave",q);X.eventPhase=X.AT_TARGET;while(X.target&&X.target!==this.rootTarget.parent){if(X.currentTarget=X.target,this.notifyTarget(X),Q)this.notifyTarget(X,"mouseleave");X.target=X.target.parent}J.overTargets=null,this.freeEvent(K),this.freeEvent(X)}this.cursor=null}mapPointerUp(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=performance.now(),Q=this.createPointerEvent(Z);if(this.dispatchEvent(Q,"pointerup"),Q.pointerType==="touch")this.dispatchEvent(Q,"touchend");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let z=Q.button===2;this.dispatchEvent(Q,z?"rightup":"mouseup")}let q=this.trackingData(Z.pointerId),K=this.findMountedTarget(q.pressTargetsByButton[Z.button]),X=K;if(K&&!Q.composedPath().includes(K)){let z=K;while(z&&!Q.composedPath().includes(z)){if(Q.currentTarget=z,this.notifyTarget(Q,"pointerupoutside"),Q.pointerType==="touch")this.notifyTarget(Q,"touchendoutside");else if(Q.pointerType==="mouse"||Q.pointerType==="pen"){let Y=Q.button===2;this.notifyTarget(Q,Y?"rightupoutside":"mouseupoutside")}z=z.parent}delete q.pressTargetsByButton[Z.button],X=z}if(X){let z=this.clonePointerEvent(Q,"click");if(z.target=X,z.path=null,!q.clicksByButton[Z.button])q.clicksByButton[Z.button]={clickCount:0,target:z.target,timeStamp:J};let Y=q.clicksByButton[Z.button];if(Y.target===z.target&&J-Y.timeStamp<200)++Y.clickCount;else Y.clickCount=1;if(Y.target=z.target,Y.timeStamp=J,z.detail=Y.clickCount,z.pointerType==="mouse"){let O=z.button===2;this.dispatchEvent(z,O?"rightclick":"click")}else if(z.pointerType==="touch")this.dispatchEvent(z,"tap");this.dispatchEvent(z,"pointertap"),this.freeEvent(z)}this.freeEvent(Q)}mapPointerUpOutside(Z){if(!(Z instanceof $8)){Z0("EventBoundary cannot map a non-pointer event as a pointer event");return}let J=this.trackingData(Z.pointerId),Q=this.findMountedTarget(J.pressTargetsByButton[Z.button]),q=this.createPointerEvent(Z);if(Q){let K=Q;while(K){if(q.currentTarget=K,this.notifyTarget(q,"pointerupoutside"),q.pointerType==="touch")this.notifyTarget(q,"touchendoutside");else if(q.pointerType==="mouse"||q.pointerType==="pen")this.notifyTarget(q,q.button===2?"rightupoutside":"mouseupoutside");K=K.parent}delete J.pressTargetsByButton[Z.button]}this.freeEvent(q)}mapWheel(Z){if(!(Z instanceof Z7)){Z0("EventBoundary cannot map a non-wheel event as a wheel event");return}let J=this.createWheelEvent(Z);this.dispatchEvent(J),this.freeEvent(J)}findMountedTarget(Z){if(!Z)return null;let J=Z[0];for(let Q=1;Q<Z.length;Q++)if(Z[Q].parent===J)J=Z[Q];else break;return J}createPointerEvent(Z,J,Q){let q=this.allocateEvent($8);if(this.copyPointerData(Z,q),this.copyMouseData(Z,q),this.copyData(Z,q),q.nativeEvent=Z.nativeEvent,q.originalEvent=Z,q.target=Q??this.hitTest(q.global.x,q.global.y)??this._hitElements[0],typeof J==="string")q.type=J;return q}createWheelEvent(Z){let J=this.allocateEvent(Z7);return this.copyWheelData(Z,J),this.copyMouseData(Z,J),this.copyData(Z,J),J.nativeEvent=Z.nativeEvent,J.originalEvent=Z,J.target=this.hitTest(J.global.x,J.global.y),J}clonePointerEvent(Z,J){let Q=this.allocateEvent($8);return Q.nativeEvent=Z.nativeEvent,Q.originalEvent=Z.originalEvent,this.copyPointerData(Z,Q),this.copyMouseData(Z,Q),this.copyData(Z,Q),Q.target=Z.target,Q.path=Z.composedPath().slice(),Q.type=J??Q.type,Q}copyWheelData(Z,J){J.deltaMode=Z.deltaMode,J.deltaX=Z.deltaX,J.deltaY=Z.deltaY,J.deltaZ=Z.deltaZ}copyPointerData(Z,J){if(!(Z instanceof $8&&J instanceof $8))return;J.pointerId=Z.pointerId,J.width=Z.width,J.height=Z.height,J.isPrimary=Z.isPrimary,J.pointerType=Z.pointerType,J.pressure=Z.pressure,J.tangentialPressure=Z.tangentialPressure,J.tiltX=Z.tiltX,J.tiltY=Z.tiltY,J.twist=Z.twist}copyMouseData(Z,J){if(!(Z instanceof A9&&J instanceof A9))return;J.altKey=Z.altKey,J.button=Z.button,J.buttons=Z.buttons,J.client.copyFrom(Z.client),J.ctrlKey=Z.ctrlKey,J.metaKey=Z.metaKey,J.movement.copyFrom(Z.movement),J.screen.copyFrom(Z.screen),J.shiftKey=Z.shiftKey,J.global.copyFrom(Z.global)}copyData(Z,J){J.isTrusted=Z.isTrusted,J.srcElement=Z.srcElement,J.timeStamp=performance.now(),J.type=Z.type,J.detail=Z.detail,J.view=Z.view,J.which=Z.which,J.layer.copyFrom(Z.layer),J.page.copyFrom(Z.page)}trackingData(Z){if(!this.mappingState.trackingData[Z])this.mappingState.trackingData[Z]={pressTargetsByButton:{},clicksByButton:{},overTarget:null};return this.mappingState.trackingData[Z]}allocateEvent(Z){if(!this.eventPool.has(Z))this.eventPool.set(Z,[]);let J=this.eventPool.get(Z).pop()||new Z(this);return J.eventPhase=J.NONE,J.currentTarget=null,J.defaultPrevented=!1,J.path=null,J.target=null,J}freeEvent(Z){if(Z.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let J=Z.constructor;if(!this.eventPool.has(J))this.eventPool.set(J,[]);this.eventPool.get(J).push(Z)}_notifyListeners(Z,J){let Q=Z.currentTarget._events[J];if(!Q)return;if("fn"in Q){if(Q.once)Z.currentTarget.removeListener(J,Q.fn,void 0,!0);Q.fn.call(Q.context,Z)}else for(let q=0,K=Q.length;q<K&&!Z.propagationImmediatelyStopped;q++){if(Q[q].once)Z.currentTarget.removeListener(J,Q[q].fn,void 0,!0);Q[q].fn.call(Q[q].context,Z)}}}var gp=2048,mp,DK;var RT=j(()=>{C5();T6();i0();cD();$H();uD();lD();mp=new P0,DK=new P0});var dp=1,cp,iD=class Z{constructor(J){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=J,this.rootBoundary=new pD(null),b6.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new $8(null),this._rootWheelEvent=new Z7(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Z.defaultEventFeatures},{set:(Q,q,K)=>{if(q==="globalMove")this.rootBoundary.enableGlobalMoveEvents=K;return Q[q]=K,!0}}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(J){let{canvas:Q,resolution:q}=this.renderer;this.setTargetElement(Q),this.resolution=q,Z._defaultEventMode=J.eventMode??"passive",Object.assign(this.features,J.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(J){this.resolution=J}destroy(){b6.destroy(),this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(J){J||(J="default");let Q=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas)Q=!1;if(this._currentCursor===J)return;this._currentCursor=J;let q=this.cursorStyles[J];if(q)switch(typeof q){case"string":if(Q)this.domElement.style.cursor=q;break;case"function":q(J);break;case"object":if(Q)Object.assign(this.domElement.style,q);break}else if(Q&&typeof J==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,J))this.domElement.style.cursor=J}get pointer(){return this._rootPointerEvent}_onPointerDown(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);if(this.autoPreventDefault&&Q[0].isNormalized){if(J.cancelable||!("cancelable"in J))J.preventDefault()}for(let q=0,K=Q.length;q<K;q++){let X=Q[q],z=this._bootstrapEvent(this._rootPointerEvent,X);this.rootBoundary.mapEvent(z)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(J){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,b6.pointerMoved();let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=J.target;if(J.composedPath&&J.composedPath().length>0)Q=J.composedPath()[0];let q=Q!==this.domElement?"outside":"",K=this._normalizeToPointerData(J);for(let X=0,z=K.length;X<z;X++){let Y=this._bootstrapEvent(this._rootPointerEvent,K[X]);Y.type+=q,this.rootBoundary.mapEvent(Y)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(J){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let Q=this._normalizeToPointerData(J);for(let q=0,K=Q.length;q<K;q++){let X=this._bootstrapEvent(this._rootPointerEvent,Q[q]);this.rootBoundary.mapEvent(X)}this.setCursor(this.rootBoundary.cursor)}onWheel(J){if(!this.features.wheel)return;let Q=this.normalizeWheelEvent(J);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(Q)}setTargetElement(J){this._removeEvents(),this.domElement=J,b6.domElement=J,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;b6.addTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="none",J.msTouchAction="none";else if(this.supportsPointerEvents)J.touchAction="none"}if(this.supportsPointerEvents)globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0);this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;b6.removeTickerListener();let J=this.domElement.style;if(J){if(globalThis.navigator.msPointerEnabled)J.msContentZooming="",J.msTouchAction="";else if(this.supportsPointerEvents)J.touchAction=""}if(this.supportsPointerEvents)globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0);else if(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents)this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0);this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(J,Q,q){let K=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},X=1/this.resolution;J.x=(Q-K.left)*(this.domElement.width/K.width)*X,J.y=(q-K.top)*(this.domElement.height/K.height)*X}_normalizeToPointerData(J){let Q=[];if(this.supportsTouchEvents&&J instanceof TouchEvent)for(let q=0,K=J.changedTouches.length;q<K;q++){let X=J.changedTouches[q];if(typeof X.button>"u")X.button=0;if(typeof X.buttons>"u")X.buttons=1;if(typeof X.isPrimary>"u")X.isPrimary=J.touches.length===1&&J.type==="touchstart";if(typeof X.width>"u")X.width=X.radiusX||1;if(typeof X.height>"u")X.height=X.radiusY||1;if(typeof X.tiltX>"u")X.tiltX=0;if(typeof X.tiltY>"u")X.tiltY=0;if(typeof X.pointerType>"u")X.pointerType="touch";if(typeof X.pointerId>"u")X.pointerId=X.identifier||0;if(typeof X.pressure>"u")X.pressure=X.force||0.5;if(typeof X.twist>"u")X.twist=0;if(typeof X.tangentialPressure>"u")X.tangentialPressure=0;if(typeof X.layerX>"u")X.layerX=X.offsetX=X.clientX;if(typeof X.layerY>"u")X.layerY=X.offsetY=X.clientY;X.isNormalized=!0,X.type=J.type,Q.push(X)}else if(!globalThis.MouseEvent||J instanceof MouseEvent&&(!this.supportsPointerEvents||!(J instanceof globalThis.PointerEvent))){let q=J;if(typeof q.isPrimary>"u")q.isPrimary=!0;if(typeof q.width>"u")q.width=1;if(typeof q.height>"u")q.height=1;if(typeof q.tiltX>"u")q.tiltX=0;if(typeof q.tiltY>"u")q.tiltY=0;if(typeof q.pointerType>"u")q.pointerType="mouse";if(typeof q.pointerId>"u")q.pointerId=dp;if(typeof q.pressure>"u")q.pressure=0.5;if(typeof q.twist>"u")q.twist=0;if(typeof q.tangentialPressure>"u")q.tangentialPressure=0;q.isNormalized=!0,Q.push(q)}else Q.push(J);return Q}normalizeWheelEvent(J){let Q=this._rootWheelEvent;return this._transferMouseData(Q,J),Q.deltaX=J.deltaX,Q.deltaY=J.deltaY,Q.deltaZ=J.deltaZ,Q.deltaMode=J.deltaMode,this.mapPositionToPoint(Q.screen,J.clientX,J.clientY),Q.global.copyFrom(Q.screen),Q.offset.copyFrom(Q.screen),Q.nativeEvent=J,Q.type=J.type,Q}_bootstrapEvent(J,Q){if(J.originalEvent=null,J.nativeEvent=Q,J.pointerId=Q.pointerId,J.width=Q.width,J.height=Q.height,J.isPrimary=Q.isPrimary,J.pointerType=Q.pointerType,J.pressure=Q.pressure,J.tangentialPressure=Q.tangentialPressure,J.tiltX=Q.tiltX,J.tiltY=Q.tiltY,J.twist=Q.twist,this._transferMouseData(J,Q),this.mapPositionToPoint(J.screen,Q.clientX,Q.clientY),J.global.copyFrom(J.screen),J.offset.copyFrom(J.screen),J.isTrusted=Q.isTrusted,J.type==="pointerleave")J.type="pointerout";if(J.type.startsWith("mouse"))J.type=J.type.replace("mouse","pointer");if(J.type.startsWith("touch"))J.type=cp[J.type]||J.type;return J}_transferMouseData(J,Q){J.isTrusted=Q.isTrusted,J.srcElement=Q.srcElement,J.timeStamp=performance.now(),J.type=Q.type,J.altKey=Q.altKey,J.button=Q.button,J.buttons=Q.buttons,J.client.x=Q.clientX,J.client.y=Q.clientY,J.ctrlKey=Q.ctrlKey,J.metaKey=Q.metaKey,J.movement.x=Q.movementX,J.movement.y=Q.movementY,J.page.x=Q.pageX,J.page.y=Q.pageY,J.relatedTarget=null,J.shiftKey=Q.shiftKey}},AH;var aD=j(()=>{g();RT();cD();uD();lD();cp={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};iD.extension={name:"events",type:[I.WebGLSystem,I.CanvasSystem,I.WebGPUSystem],priority:-1};iD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};AH=iD});var ET;var IT=j(()=>{aD();YH();ET={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(Z){this.eventMode=Z?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??AH.defaultEventMode},set eventMode(Z){this._internalEventMode=Z},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof Q==="object"?Q.signal:void 0,X=typeof Q==="object"?Q.once===!0:!1,z=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z;let Y=typeof J==="function"?J:J.handleEvent,O=this;if(K)K.addEventListener("abort",()=>{O.off(Z,Y,z)});if(X)O.once(Z,Y,z);else O.on(Z,Y,z)},removeEventListener(Z,J,Q){let q=typeof Q==="boolean"&&Q||typeof Q==="object"&&Q.capture,K=typeof J==="function"?void 0:J;Z=q?`${Z}capture`:Z,J=typeof J==="function"?J:J.handleEvent,this.off(Z,J,K)},dispatchEvent(Z){if(!(Z instanceof $9))throw Error("Container cannot propagate events outside of the Federated Events API");return Z.defaultPrevented=!1,Z.path=null,Z.target=this,Z.manager.dispatchEvent(Z),!Z.defaultPrevented}}});var TT=j(()=>{g();S6();aD();IT();J0.add(AH);J0.mixin(f0,ET)});class DH{constructor(Z){this._attachedDomElements=[],this._renderer=Z,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new $K({domElement:this._domElement,renderer:this._renderer})}addRenderable(Z,J){if(!this._attachedDomElements.includes(Z))this._attachedDomElements.push(Z)}updateRenderable(Z){}validateRenderable(Z){return!0}postrender(){let Z=this._attachedDomElements;if(Z.length===0){this._domElement.remove();return}this._canvasObserver.ensureAttached();for(let J=0;J<Z.length;J++){let Q=Z[J],q=Q.element;if(!Q.parent||Q.globalDisplayStatus<7)q?.remove(),Z.splice(J,1),J--;else{if(!this._domElement.contains(q))q.style.position="absolute",q.style.pointerEvents="auto",this._domElement.appendChild(q);let{worldTransform:K,_anchor:X}=Q,z=Q.width*X.x,Y=Q.height*X.y;q.style.transformOrigin=`${z}px ${Y}px`,q.style.transform=`matrix(${K.a}, ${K.b}, ${K.c}, ${K.d}, ${K.tx-z}, ${K.ty-Y})`,q.style.opacity=Q.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let Z=0;Z<this._attachedDomElements.length;Z++)this._attachedDomElements[Z].element?.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}var ST=j(()=>{g();yD();DH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"dom"}});var BK;var sD=j(()=>{O8();S6();BK=class BK extends f0{constructor(Z){super(Z);this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new q1(0,1,0,0),this._boundsDirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;return this.updateBounds(),this._boundsDirty=!1,this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(Z){this._roundPixels=Z?1:0}containsPoint(Z){let J=this.bounds,{x:Q,y:q}=Z;return Q>=J.minX&&Q<=J.maxX&&q>=J.minY&&q<=J.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;let Z=this.renderGroup||this.parentRenderGroup;if(Z)Z.onChildViewUpdate(this)}destroy(Z){super.destroy(Z),this._bounds=null;for(let J in this._gpuData)this._gpuData[J].destroy?.();this._gpuData=null}collectRenderablesSimple(Z,J,Q){let{renderPipes:q}=J;q.blendMode.pushBlendMode(this,this.groupBlendMode,Z),q[this.renderPipeId].addRenderable(this,Z),this.didViewUpdate=!1;let X=this.children,z=X.length;for(let Y=0;Y<z;Y++)X[Y].collectRenderables(Z,J,Q);q.blendMode.popBlendMode(Z)}}});var bT=j(()=>{g();ST();J0.add(DH)});var a5;var D9=j(()=>{a5=((Z)=>{return Z[Z.Low=0]="Low",Z[Z.Normal=1]="Normal",Z[Z.High=2]="High",Z})(a5||{})});var kT;var PT=j(()=>{kT={createCanvas:(Z,J)=>{let Q=document.createElement("canvas");return Q.width=Z,Q.height=J,Q},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(Z,J)=>fetch(Z,J),parseXML:(Z)=>{return new DOMParser().parseFromString(Z,"text/xml")}}});var vT,K0;var s0=j(()=>{PT();vT=kT,K0={get(){return vT},set(Z){vT=Z}}});function k6(Z){if(typeof Z!=="string")throw TypeError(`Path must be a string. Received ${JSON.stringify(Z)}`)}function _K(Z){return Z.split("?")[0].split("#")[0]}function up(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function lp(Z,J,Q){return Z.replace(new RegExp(up(J),"g"),Q)}function pp(Z,J){let Q="",q=0,K=-1,X=0,z=-1;for(let Y=0;Y<=Z.length;++Y){if(Y<Z.length)z=Z.charCodeAt(Y);else if(z===47)break;else z=47;if(z===47){if(K===Y-1||X===1);else if(K!==Y-1&&X===2){if(Q.length<2||q!==2||Q.charCodeAt(Q.length-1)!==46||Q.charCodeAt(Q.length-2)!==46){if(Q.length>2){let O=Q.lastIndexOf("/");if(O!==Q.length-1){if(O===-1)Q="",q=0;else Q=Q.slice(0,O),q=Q.length-1-Q.lastIndexOf("/");K=Y,X=0;continue}}else if(Q.length===2||Q.length===1){Q="",q=0,K=Y,X=0;continue}}if(J){if(Q.length>0)Q+="/..";else Q="..";q=2}}else{if(Q.length>0)Q+=`/${Z.slice(K+1,Y)}`;else Q=Z.slice(K+1,Y);q=Y-K-1}K=Y,X=0}else if(z===46&&X!==-1)++X;else X=-1}return Q}var q5;var SZ=j(()=>{s0();q5={toPosix(Z){return lp(Z,"\\","/")},isUrl(Z){return/^https?:/.test(this.toPosix(Z))},isDataUrl(Z){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(Z)},isBlobUrl(Z){return Z.startsWith("blob:")},hasProtocol(Z){return/^[^/:]+:/.test(this.toPosix(Z))},getProtocol(Z){k6(Z),Z=this.toPosix(Z);let J=/^file:\/\/\//.exec(Z);if(J)return J[0];let Q=/^[^/:]+:\/{0,2}/.exec(Z);if(Q)return Q[0];return""},toAbsolute(Z,J,Q){if(k6(Z),this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;let q=_K(this.toPosix(J??K0.get().getBaseUrl())),K=_K(this.toPosix(Q??this.rootname(q)));if(Z=this.toPosix(Z),Z.startsWith("/"))return q5.join(K,Z.slice(1));return this.isAbsolute(Z)?Z:this.join(q,Z)},normalize(Z){if(k6(Z),Z.length===0)return".";if(this.isDataUrl(Z)||this.isBlobUrl(Z))return Z;Z=this.toPosix(Z);let J="",Q=Z.startsWith("/");if(this.hasProtocol(Z))J=this.rootname(Z),Z=Z.slice(J.length);let q=Z.endsWith("/");if(Z=pp(Z,!1),Z.length>0&&q)Z+="/";if(Q)return`/${Z}`;return J+Z},isAbsolute(Z){if(k6(Z),Z=this.toPosix(Z),this.hasProtocol(Z))return!0;return Z.startsWith("/")},join(...Z){if(Z.length===0)return".";let J;for(let Q=0;Q<Z.length;++Q){let q=Z[Q];if(k6(q),q.length>0)if(J===void 0)J=q;else{let K=Z[Q-1]??"";if(this.joinExtensions.includes(this.extname(K).toLowerCase()))J+=`/../${q}`;else J+=`/${q}`}}if(J===void 0)return".";return this.normalize(J)},dirname(Z){if(k6(Z),Z.length===0)return".";Z=this.toPosix(Z);let J=Z.charCodeAt(0),Q=J===47,q=-1,K=!0,X=this.getProtocol(Z),z=Z;Z=Z.slice(X.length);for(let Y=Z.length-1;Y>=1;--Y)if(J=Z.charCodeAt(Y),J===47){if(!K){q=Y;break}}else K=!1;if(q===-1)return Q?"/":this.isUrl(z)?X+Z:X;if(Q&&q===1)return"//";return X+Z.slice(0,q)},rootname(Z){k6(Z),Z=this.toPosix(Z);let J="";if(Z.startsWith("/"))J="/";else J=this.getProtocol(Z);if(this.isUrl(Z)){let Q=Z.indexOf("/",J.length);if(Q!==-1)J=Z.slice(0,Q);else J=Z;if(!J.endsWith("/"))J+="/"}return J},basename(Z,J){if(k6(Z),J)k6(J);Z=_K(this.toPosix(Z));let Q=0,q=-1,K=!0,X;if(J!==void 0&&J.length>0&&J.length<=Z.length){if(J.length===Z.length&&J===Z)return"";let z=J.length-1,Y=-1;for(X=Z.length-1;X>=0;--X){let O=Z.charCodeAt(X);if(O===47){if(!K){Q=X+1;break}}else{if(Y===-1)K=!1,Y=X+1;if(z>=0)if(O===J.charCodeAt(z)){if(--z===-1)q=X}else z=-1,q=Y}}if(Q===q)q=Y;else if(q===-1)q=Z.length;return Z.slice(Q,q)}for(X=Z.length-1;X>=0;--X)if(Z.charCodeAt(X)===47){if(!K){Q=X+1;break}}else if(q===-1)K=!1,q=X+1;if(q===-1)return"";return Z.slice(Q,q)},extname(Z){k6(Z),Z=_K(this.toPosix(Z));let J=-1,Q=0,q=-1,K=!0,X=0;for(let z=Z.length-1;z>=0;--z){let Y=Z.charCodeAt(z);if(Y===47){if(!K){Q=z+1;break}continue}if(q===-1)K=!1,q=z+1;if(Y===46){if(J===-1)J=z;else if(X!==1)X=1}else if(J!==-1)X=-1}if(J===-1||q===-1||X===0||X===1&&J===q-1&&J===Q+1)return"";return Z.slice(J,q)},parse(Z){k6(Z);let J={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return J;Z=_K(this.toPosix(Z));let Q=Z.charCodeAt(0),q=this.isAbsolute(Z),K,X="";if(J.root=this.rootname(Z),q||this.hasProtocol(Z))K=1;else K=0;let z=-1,Y=0,O=-1,U=!0,A=Z.length-1,B=0;for(;A>=K;--A){if(Q=Z.charCodeAt(A),Q===47){if(!U){Y=A+1;break}continue}if(O===-1)U=!1,O=A+1;if(Q===46){if(z===-1)z=A;else if(B!==1)B=1}else if(z!==-1)B=-1}if(z===-1||O===-1||B===0||B===1&&z===O-1&&z===Y+1){if(O!==-1)if(Y===0&&q)J.base=J.name=Z.slice(1,O);else J.base=J.name=Z.slice(Y,O)}else{if(Y===0&&q)J.name=Z.slice(1,z),J.base=Z.slice(1,O);else J.name=Z.slice(Y,z),J.base=Z.slice(Y,O);J.ext=Z.slice(z,O)}if(J.dir=this.dirname(Z),X)J.dir=X+J.dir;return J},sep:"/",delimiter:":",joinExtensions:[".html"]}});var s5=(Z,J,Q=!1)=>{if(!Array.isArray(Z))Z=[Z];if(!J)return Z;return Z.map((q)=>{if(typeof q==="string"||Q)return J(q);return q})};var MK=()=>{};function fT(Z,J,Q,q,K){let X=J[Q];for(let z=0;z<X.length;z++){let Y=X[z];if(Q<J.length-1)fT(Z.replace(q[Q],Y),J,Q+1,q,K);else K.push(Z.replace(q[Q],Y))}}function yT(Z){let J=/\{(.*?)\}/g,Q=Z.match(J),q=[];if(Q){let K=[];Q.forEach((X)=>{let z=X.substring(1,X.length-1).split(",");K.push(z)}),fT(Z,K,0,Q,q)}else q.push(Z);return q}var hT=()=>{};var bZ=(Z)=>!Array.isArray(Z);var BH=()=>{};class U6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(Z,J)=>`${Z}${this._bundleIdConnector}${J}`,extractAssetIdFromBundle:(Z,J)=>J.replace(`${Z}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(Z){if(this._bundleIdConnector=Z.connector??this._bundleIdConnector,this._createBundleAssetId=Z.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=Z.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...Z){Z.forEach((J)=>{if(this._preferredOrder.push(J),!J.priority)J.priority=Object.keys(J.params)}),this._resolverHash={}}set basePath(Z){this._basePath=Z}get basePath(){return this._basePath}set rootPath(Z){this._rootPath=Z}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(Z){if(typeof Z==="string")this._defaultSearchParams=Z;else{let J=Z;this._defaultSearchParams=Object.keys(J).map((Q)=>`${encodeURIComponent(Q)}=${encodeURIComponent(J[Q])}`).join("&")}}getAlias(Z){let{alias:J,src:Q}=Z;return s5(J||Q,(K)=>{if(typeof K==="string")return K;if(Array.isArray(K))return K.map((X)=>X?.src??X);if(K?.src)return K.src;return K},!0)}addManifest(Z){if(this._manifest)Z0("[Resolver] Manifest already exists, this will be overwritten");this._manifest=Z,Z.bundles.forEach((J)=>{this.addBundle(J.name,J.assets)})}addBundle(Z,J){let Q=[],q=J;if(!Array.isArray(J))q=Object.entries(J).map(([K,X])=>{if(typeof X==="string"||Array.isArray(X))return{alias:K,src:X};return{alias:K,...X}});q.forEach((K)=>{let{src:X,alias:z}=K,Y;if(typeof z==="string"){let O=this._createBundleAssetId(Z,z);Q.push(O),Y=[z,O]}else{let O=z.map((U)=>this._createBundleAssetId(Z,U));Q.push(...O),Y=[...z,...O]}this.add({...K,...{alias:Y,src:X}})}),this._bundles[Z]=Q}add(Z){let J=[];if(Array.isArray(Z))J.push(...Z);else J.push(Z);let Q;Q=(K)=>{if(this.hasKey(K))Z0(`[Resolver] already has key: ${K} overwriting`)},s5(J).forEach((K)=>{let{src:X}=K,{data:z,format:Y,loadParser:O,parser:U}=K,A=s5(X).map((W)=>{if(typeof W==="string")return yT(W);return Array.isArray(W)?W:[W]}),B=this.getAlias(K);Array.isArray(B)?B.forEach(Q):Q(B);let _=[];A.forEach((W)=>{W.forEach((F)=>{let C={};if(typeof F!=="object"){C.src=F;for(let L=0;L<this._parsers.length;L++){let G=this._parsers[L];if(G.test(F)){C=G.parse(F);break}}}else{if(z=F.data??z,Y=F.format??Y,F.loadParser||F.parser)O=F.loadParser??O,U=F.parser??U;C={...C,...F}}if(!B)throw Error(`[Resolver] alias is undefined for this asset: ${C.src}`);C=this._buildResolvedAsset(C,{aliases:B,data:z,format:Y,loadParser:O,parser:U,progressSize:K.progressSize}),_.push(C)})}),B.forEach((W)=>{this._assetMap[W]=_})})}resolveBundle(Z){let J=bZ(Z);Z=s5(Z);let Q={};return Z.forEach((q)=>{let K=this._bundles[q];if(K){let X=this.resolve(K),z={};for(let Y in X){let O=X[Y];z[this._extractAssetIdFromBundle(q,Y)]=O}Q[q]=z}}),J?Q[Z[0]]:Q}resolveUrl(Z){let J=this.resolve(Z);if(typeof Z!=="string"){let Q={};for(let q in J)Q[q]=J[q].src;return Q}return J.src}resolve(Z){let J=bZ(Z);Z=s5(Z);let Q={};return Z.forEach((q)=>{if(!this._resolverHash[q])if(this._assetMap[q]){let K=this._assetMap[q],X=this._getPreferredOrder(K);X?.priority.forEach((z)=>{X.params[z].forEach((Y)=>{let O=K.filter((U)=>{if(U[z])return U[z]===Y;return!1});if(O.length)K=O})}),this._resolverHash[q]=K[0]}else this._resolverHash[q]=this._buildResolvedAsset({alias:[q],src:q},{});Q[q]=this._resolverHash[q]}),J?Q[Z[0]]:Q}hasKey(Z){return!!this._assetMap[Z]}hasBundle(Z){return!!this._bundles[Z]}_getPreferredOrder(Z){for(let J=0;J<Z.length;J++){let Q=Z[J],q=this._preferredOrder.find((K)=>K.params.format.includes(Q.format));if(q)return q}return this._preferredOrder[0]}_appendDefaultSearchParams(Z){if(!this._defaultSearchParams)return Z;let J=/\?/.test(Z)?"&":"?";return`${Z}${J}${this._defaultSearchParams}`}_buildResolvedAsset(Z,J){let{aliases:Q,data:q,loadParser:K,parser:X,format:z,progressSize:Y}=J;if(this._basePath||this._rootPath)Z.src=q5.toAbsolute(Z.src,this._basePath,this._rootPath);if(Z.alias=Q??Z.alias??[Z.src],Z.src=this._appendDefaultSearchParams(Z.src),Z.data={...q||{},...Z.data},Z.loadParser=K??Z.loadParser,Z.parser=X??Z.parser,Z.format=z??Z.format??ip(Z.src),Y!==void 0)Z.progressSize=Y;return Z}}function ip(Z){return Z.split(".").pop().split("?").shift().split("#").shift()}var IJ=j(()=>{i0();SZ();MK();hT();BH();U6.RETINA_PREFIX=/@([0-9\.]+)x/});var WK=(Z,J)=>{let Q=J.split("?")[1];if(Q)Z+=`?${Q}`;return Z};var nD=()=>{};var xT=class Z{constructor(J,Q){this.linkedSheets=[];let q=J;if(J?.source instanceof m0)q={texture:J,data:Q};let{texture:K,data:X,cachePrefix:z=""}=q;this.cachePrefix=z,this._texture=K instanceof p?K:null,this.textureSource=K.source,this.textures={},this.animations={},this.data=X;let Y=parseFloat(X.meta.scale);if(Y)this.resolution=Y,K.source.resolution=this.resolution;else this.resolution=K.source._resolution;this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise((J)=>{if(this._callback=J,this._batchIndex=0,this._frameKeys.length<=Z.BATCH_SIZE)this._processFrames(0),this._processAnimations(),this._parseComplete();else this._nextBatch()})}_processFrames(J){let Q=J,q=Z.BATCH_SIZE;while(Q-J<q&&Q<this._frameKeys.length){let K=this._frameKeys[Q],X=this._frames[K],z=X.frame;if(z){let Y=null,O=null,U=X.trimmed!==!1&&X.sourceSize?X.sourceSize:X.frame,A=new $0(0,0,Math.floor(U.w)/this.resolution,Math.floor(U.h)/this.resolution);if(X.rotated)Y=new $0(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.h)/this.resolution,Math.floor(z.w)/this.resolution);else Y=new $0(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution);if(X.trimmed!==!1&&X.spriteSourceSize)O=new $0(Math.floor(X.spriteSourceSize.x)/this.resolution,Math.floor(X.spriteSourceSize.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution);this.textures[K]=new p({source:this.textureSource,frame:Y,orig:A,trim:O,rotate:X.rotated?2:0,defaultAnchor:X.anchor,defaultBorders:X.borders,label:K.toString()})}Q++}}_processAnimations(){let J=this.data.animations||{};for(let Q in J){this.animations[Q]=[];for(let q=0;q<J[Q].length;q++){let K=J[Q][q];this.animations[Q].push(this.textures[K])}}}_parseComplete(){let J=this._callback;this._callback=null,this._batchIndex=0,J.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Z.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{if(this._batchIndex*Z.BATCH_SIZE<this._frameKeys.length)this._nextBatch();else this._processAnimations(),this._parseComplete()},0)}destroy(J=!1){for(let Q in this.textures)this.textures[Q].destroy();if(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,J)this._texture?.destroy(),this.textureSource.destroy();this._texture=null,this.textureSource=null,this.linkedSheets=[]}},oD;var gT=j(()=>{Q5();i5();a0();xT.BATCH_SIZE=1000;oD=xT});function mT(Z,J,Q){let q={};if(Z.forEach((K)=>{q[K]=J}),Object.keys(J.textures).forEach((K)=>{q[`${J.cachePrefix}${K}`]=J.textures[K]}),!Q){let K=q5.dirname(Z[0]);J.linkedSheets.forEach((X,z)=>{let Y=mT([`${K}/${J.data.meta.related_multi_packs[z]}`],X,!0);Object.assign(q,Y)})}return q}var ap,dT;var cT=j(()=>{D9();IJ();nD();g();a0();SZ();gT();ap=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];dT={extension:I.Asset,cache:{test:(Z)=>Z instanceof oD,getCacheableAssets:(Z,J)=>mT(Z,J,!1)},resolver:{extension:{type:I.ResolveParser,name:"resolveSpritesheet"},test:(Z)=>{let Q=Z.split("?")[0].split("."),q=Q.pop(),K=Q.pop();return q==="json"&&ap.includes(K)},parse:(Z)=>{let J=Z.split(".");return{resolution:parseFloat(U6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:J[J.length-2],src:Z}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:I.LoadParser,priority:a5.Normal,name:"spritesheetLoader"},async testParse(Z,J){return q5.extname(J.src).toLowerCase()===".json"&&!!Z.frames},async parse(Z,J,Q){let{texture:q,imageFilename:K,textureOptions:X,cachePrefix:z}=J?.data??{},Y=q5.dirname(J.src);if(Y&&Y.lastIndexOf("/")!==Y.length-1)Y+="/";let O;if(q instanceof p)O=q;else{let B=WK(Y+(K??Z.meta.image),J.src);O=(await Q.load([{src:B,data:X}]))[B]}let U=new oD({texture:O.source,data:Z,cachePrefix:z});await U.parse();let A=Z?.meta?.related_multi_packs;if(Array.isArray(A)){let B=[];for(let W of A){if(typeof W!=="string")continue;let F=Y+W;if(J.data?.ignoreMultiPack)continue;F=WK(F,J.src),B.push(Q.load({src:F,data:{textureOptions:X,ignoreMultiPack:!0}}))}let _=await Promise.all(B);U.linkedSheets=_,_.forEach((W)=>{W.linkedSheets=[U].concat(U.linkedSheets.filter((F)=>F!==W))})}return U},async unload(Z,J,Q){await Q.unload(Z.textureSource._sourceOrigin),Z.destroy(!1)}}}});var _H=j(()=>{g();cT();J0.add(dT)});function MH(Z,J,Q){let{width:q,height:K}=Q.orig,X=Q.trim;if(X){let{width:z,height:Y}=X;Z.minX=X.x-J._x*q,Z.maxX=Z.minX+z,Z.minY=X.y-J._y*K,Z.maxY=Z.minY+Y}else Z.minX=-J._x*q,Z.maxX=Z.minX+q,Z.minY=-J._y*K,Z.maxY=Z.minY+K}var tD=()=>{};var P6;var WH=j(()=>{_D();a0();tD();M1();sD();P6=class P6 extends BK{constructor(Z=p.EMPTY){if(Z instanceof p)Z={texture:Z};let{texture:J=p.EMPTY,anchor:Q,roundPixels:q,width:K,height:X,...z}=Z;super({label:"Sprite",...z});if(this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new U5({_onUpdate:()=>{this.onViewUpdate()}}),Q)this.anchor=Q;else if(J.defaultAnchor)this.anchor=J.defaultAnchor;if(this.texture=J,this.allowChildren=!1,this.roundPixels=q??!1,K!==void 0)this.width=K;if(X!==void 0)this.height=X}static from(Z,J=!1){if(Z instanceof p)return new P6(Z);return new P6(p.from(Z,J))}set texture(Z){Z||(Z=p.EMPTY);let J=this._texture;if(J===Z)return;if(J&&J.dynamic)J.off("update",this.onViewUpdate,this);if(Z.dynamic)Z.on("update",this.onViewUpdate,this);if(this._texture=Z,this._width)this._setWidth(this._width,this._texture.orig.width);if(this._height)this._setHeight(this._height,this._texture.orig.height);this.onViewUpdate()}get texture(){return this._texture}get visualBounds(){return MH(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return q0("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){let Z=this._anchor,J=this._texture,Q=this._bounds,{width:q,height:K}=J.orig;Q.minX=-Z._x*q,Q.maxX=Q.minX+q,Q.minY=-Z._y*K,Q.maxY=Q.minY+K}destroy(Z=!1){if(super.destroy(Z),typeof Z==="boolean"?Z:Z?.texture){let Q=typeof Z==="boolean"?Z:Z?.textureSource;this._texture.destroy(Q)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(Z){typeof Z==="number"?this._anchor.set(Z):this._anchor.copyFrom(Z)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(Z){this._setWidth(Z,this._texture.orig.width),this._width=Z}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(Z){this._setHeight(Z,this._texture.orig.height),this._height=Z}getSize(Z){return Z||(Z={}),Z.width=Math.abs(this.scale.x)*this._texture.orig.width,Z.height=Math.abs(this.scale.y)*this._texture.orig.height,Z}setSize(Z,J){if(typeof Z==="object")J=Z.height??Z.width,Z=Z.width;else J??(J=Z);Z!==void 0&&this._setWidth(Z,this._texture.orig.width),J!==void 0&&this._setHeight(J,this._texture.orig.height)}}});function GH(Z,J,Q){let q=sp;Z.measurable=!0,GJ(Z,Q,q),J.addBoundsMask(q),Z.measurable=!1}var sp;var rD=j(()=>{O8();XK();sp=new q1});function FH(Z,J,Q){let q=d8.get();Z.measurable=!0;let K=r1.get().identity(),X=uT(Z,Q,K);jJ(Z,q,X),Z.measurable=!1,J.addBoundsMask(q),r1.return(K),d8.return(q)}function uT(Z,J,Q){if(!Z)return Z0("Mask bounds, renderable is not inside the root container"),Q;if(Z!==J)uT(Z.parent,J,Q),Z.updateLocalTransform(),Q.append(Z.localTransform);return Q}var eD=j(()=>{KH();wZ();i0()});class jH{constructor(Z){if(this.priority=0,this.inverse=!1,this.pipe="alphaMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.renderMaskToTexture=!(Z instanceof P6),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(Z,J){if(!this.inverse)GH(this.mask,Z,J)}addLocalBounds(Z,J){FH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof P6}}var lT=j(()=>{g();WH();rD();eD();jH.extension=I.MaskEffect});class wH{constructor(Z){if(this.priority=0,this.pipe="colorMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z}destroy(){}static test(Z){return typeof Z==="number"}}var pT=j(()=>{g();wH.extension=I.MaskEffect});class CH{constructor(Z){if(this.priority=0,this.pipe="stencilMask",Z?.mask)this.init(Z.mask)}init(Z){this.mask=Z,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(Z,J){GH(this.mask,Z,J)}addLocalBounds(Z,J){FH(this.mask,Z,J)}containsPoint(Z,J){let Q=this.mask;return J(Q,Z)}destroy(){this.reset()}static test(Z){return Z instanceof f0}}var iT=j(()=>{g();S6();rD();eD();CH.extension=I.MaskEffect});var n5;var TJ=j(()=>{s0();g();i5();n5=class n5 extends m0{constructor(Z){if(!Z.resource)Z.resource=K0.get().createCanvas();if(!Z.width){if(Z.width=Z.resource.width,!Z.autoDensity)Z.width/=Z.resolution}if(!Z.height){if(Z.height=Z.resource.height,!Z.autoDensity)Z.height/=Z.resolution}super(Z);this.uploadMethodId="image",this.autoDensity=Z.autoDensity,this.resizeCanvas(),this.transparent=!!Z.transparent}resizeCanvas(){if(this.autoDensity&&"style"in this.resource)this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`;if(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight}resize(Z=this.width,J=this.height,Q=this._resolution){let q=super.resize(Z,J,Q);if(q)this.resizeCanvas();return q}static test(Z){return globalThis.HTMLCanvasElement&&Z instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&Z instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}};n5.extension=I.TextureSource});var c8;var SJ=j(()=>{g();i5();c8=class c8 extends m0{constructor(Z){super(Z);this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(Z){return globalThis.HTMLImageElement&&Z instanceof HTMLImageElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||globalThis.VideoFrame&&Z instanceof VideoFrame}};c8.extension=I.TextureSource});async function LH(){return ZB??(ZB=(async()=>{let J=K0.get().createCanvas(1,1).getContext("webgl");if(!J)return"premultiply-alpha-on-upload";let Q=await new Promise((z)=>{let Y=document.createElement("video");Y.onloadeddata=()=>z(Y),Y.onerror=()=>z(null),Y.autoplay=!1,Y.crossOrigin="anonymous",Y.preload="auto",Y.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",Y.load()});if(!Q)return"premultiply-alpha-on-upload";let q=J.createTexture();J.bindTexture(J.TEXTURE_2D,q);let K=J.createFramebuffer();J.bindFramebuffer(J.FRAMEBUFFER,K),J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,q,0),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),J.pixelStorei(J.UNPACK_COLORSPACE_CONVERSION_WEBGL,J.NONE),J.texImage2D(J.TEXTURE_2D,0,J.RGBA,J.RGBA,J.UNSIGNED_BYTE,Q);let X=new Uint8Array(4);return J.readPixels(0,0,1,1,J.RGBA,J.UNSIGNED_BYTE,X),J.deleteFramebuffer(K),J.deleteTexture(q),J.getExtension("WEBGL_lose_context")?.loseContext(),X[0]<=X[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ZB}var ZB;var JB=j(()=>{s0()});var RH,kZ;var QB=j(()=>{g();RJ();JB();i5();RH=class Z extends m0{constructor(J){super(J);if(this.isReady=!1,this.uploadMethodId="video",J={...Z.defaultOptions,...J},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=J.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=J.autoPlay!==!1,this.alphaMode=J.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),J.autoLoad!==!1)this.load()}updateFrame(){if(this.destroyed)return;if(this._updateFPS){let J=L5.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-J)}if(!this._updateFPS||this._msToNextUpdate<=0)this._msToNextUpdate=this._updateFPS?Math.floor(1000/this._updateFPS):0;if(this.isValid)this.update()}_videoFrameRequestCallback(){if(this.updateFrame(),this.destroyed)this._videoFrameRequestCallbackHandle=null;else this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;let J=this.resource,Q=this.options;if((J.readyState===J.HAVE_ENOUGH_DATA||J.readyState===J.HAVE_FUTURE_DATA)&&J.width&&J.height)J.complete=!0;if(J.addEventListener("play",this._onPlayStart),J.addEventListener("pause",this._onPlayStop),J.addEventListener("seeked",this._onSeeked),!this._isSourceReady()){if(!Q.preload)J.addEventListener("canplay",this._onCanPlay);J.addEventListener("canplaythrough",this._onCanPlayThrough),J.addEventListener("error",this._onError,!0)}else this._mediaReady();return this.alphaMode=await LH(),this._load=new Promise((q,K)=>{if(this.isValid)q(this);else{if(this._resolve=q,this._reject=K,Q.preloadTimeoutMs!==void 0)this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${Q.preloadTimeoutMs}ms`))});J.load()}}),this._load}_onError(J){if(this.resource.removeEventListener("error",this._onError,!0),this.emit("error",J),this._reject)this._reject(J),this._reject=null,this._resolve=null}_isSourcePlaying(){let J=this.resource;return!J.paused&&!J.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){if(!this.isValid)this._mediaReady();this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){if(this._autoUpdate&&!this._isSourcePlaying())this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){if(this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout)clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0;this._mediaReady()}_mediaReady(){let J=this.resource;if(this.isValid)this.isReady=!0,this.resize(J.videoWidth,J.videoHeight);if(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve)this._resolve(this),this._resolve=null,this._reject=null;if(this._isSourcePlaying())this._onPlayStart();else if(this.autoPlay)this.resource.play()}destroy(){this._configureAutoUpdate();let J=this.resource;if(J)J.removeEventListener("play",this._onPlayStart),J.removeEventListener("pause",this._onPlayStop),J.removeEventListener("seeked",this._onSeeked),J.removeEventListener("canplay",this._onCanPlay),J.removeEventListener("canplaythrough",this._onCanPlayThrough),J.removeEventListener("error",this._onError,!0),J.pause(),J.src="",J.load();super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(J){if(J!==this._autoUpdate)this._autoUpdate=J,this._configureAutoUpdate()}get updateFPS(){return this._updateFPS}set updateFPS(J){if(J!==this._updateFPS)this._updateFPS=J,this._configureAutoUpdate()}_configureAutoUpdate(){if(this._autoUpdate&&this._isSourcePlaying())if(!this._updateFPS&&this.resource.requestVideoFrameCallback){if(this._isConnectedToTicker)L5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0;if(this._videoFrameRequestCallbackHandle===null)this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(!this._isConnectedToTicker)L5.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0}else{if(this._videoFrameRequestCallbackHandle!==null)this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null;if(this._isConnectedToTicker)L5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0}}static test(J){return globalThis.HTMLVideoElement&&J instanceof HTMLVideoElement}};RH.extension=I.TextureSource;RH.defaultOptions={...m0.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};RH.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};kZ=RH});class aT{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(Z){return this._cache.has(Z)}get(Z){let J=this._cache.get(Z);if(!J)Z0(`[Assets] Asset id ${Z} was not found in the Cache`);return J}set(Z,J){let Q=s5(Z),q;for(let Y=0;Y<this.parsers.length;Y++){let O=this.parsers[Y];if(O.test(J)){q=O.getCacheableAssets(Q,J);break}}let K=new Map(Object.entries(q||{}));if(!q)Q.forEach((Y)=>{K.set(Y,J)});let X=[...K.keys()],z={cacheKeys:X,keys:Q};Q.forEach((Y)=>{this._cacheMap.set(Y,z)}),X.forEach((Y)=>{let O=q?q[Y]:J;if(this._cache.has(Y)&&this._cache.get(Y)!==O)Z0("[Cache] already has key:",Y);this._cache.set(Y,K.get(Y))})}remove(Z){if(!this._cacheMap.has(Z)){Z0(`[Assets] Asset id ${Z} was not found in the Cache`);return}let J=this._cacheMap.get(Z);J.cacheKeys.forEach((q)=>{this._cache.delete(q)}),J.keys.forEach((q)=>{this._cacheMap.delete(q)})}get parsers(){return this._parsers}}var y0;var B9=j(()=>{i0();MK();y0=new aT});function sT(Z={}){let J=Z&&Z.resource,Q=J?Z.resource:Z,q=J?Z:{resource:Z};for(let K=0;K<qB.length;K++){let X=qB[K];if(X.test(Q))return new X(q)}throw Error(`Could not find a source type for resource: ${q.resource}`)}function nT(Z={},J=!1){let Q=Z&&Z.resource,q=Q?Z.resource:Z,K=Q?Z:{resource:Z};if(!J&&y0.has(q))return y0.get(q);let X=new p({source:sT(K)});if(X.on("destroy",()=>{if(y0.has(q))y0.remove(q)}),!J)y0.set(q,X);return X}function oT(Z,J=!1){if(typeof Z==="string")return y0.get(Z);else if(Z instanceof m0)return new p({source:Z});return nT(Z,J)}var qB;var KB=j(()=>{B9();g();i5();a0();qB=[];J0.handleByList(I.TextureSource,qB);p.from=oT;m0.from=sT});var EH=j(()=>{g();lT();pT();iT();bD();TJ();SJ();QB();KB();J0.add(jH,wH,CH,kZ,c8,n5,wJ)});class R5{constructor(Z){this.resources=Object.create(null),this._dirty=!0;let J=0;for(let Q in Z){let q=Z[Q];this.setResource(q,J++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;let Z=[],J=0;for(let Q in this.resources)Z[J++]=this.resources[Q]._resourceId;this._key=Z.join("|")}setResource(Z,J){let Q=this.resources[J];if(Z===Q)return;if(Q)Z.off?.("change",this.onResourceChange,this);Z.on?.("change",this.onResourceChange,this),this.resources[J]=Z,this._dirty=!0}getResource(Z){return this.resources[Z]}_touch(Z){let J=this.resources;for(let Q in J)J[Q]._touched=Z}destroy(){let Z=this.resources;for(let J in Z)Z[J]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(Z){if(this._dirty=!0,Z.destroyed){let J=this.resources;for(let Q in J)if(J[Q]===Z)J[Q]=null}else this._updateKey()}}var _9=()=>{};function bJ(Z,J,Q){let q=2166136261;for(let K=0;K<J;K++)q^=Z[K].uid,q=Math.imul(q,16777619),q>>>=0;return tT[q]||np(Z,J,q,Q)}function np(Z,J,Q,q){let K={},X=0;for(let Y=0;Y<q;Y++){let O=Y<J?Z[Y]:p.EMPTY.source;K[X++]=O.source,K[X++]=O.style}let z=new R5(K);return tT[Q]=z,z}var tT;var IH=j(()=>{_9();a0();tT={}});class J7{constructor(Z){if(typeof Z==="number")this.rawBinaryData=new ArrayBuffer(Z);else if(Z instanceof Uint8Array)this.rawBinaryData=Z.buffer;else this.rawBinaryData=Z;this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){if(!this._int8View)this._int8View=new Int8Array(this.rawBinaryData);return this._int8View}get uint8View(){if(!this._uint8View)this._uint8View=new Uint8Array(this.rawBinaryData);return this._uint8View}get int16View(){if(!this._int16View)this._int16View=new Int16Array(this.rawBinaryData);return this._int16View}get int32View(){if(!this._int32View)this._int32View=new Int32Array(this.rawBinaryData);return this._int32View}get float64View(){if(!this._float64Array)this._float64Array=new Float64Array(this.rawBinaryData);return this._float64Array}get bigUint64View(){if(!this._bigUint64Array)this._bigUint64Array=new BigUint64Array(this.rawBinaryData);return this._bigUint64Array}view(Z){return this[`${Z}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(Z){switch(Z){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error(`${Z} isn't a valid view type`)}}}var XB=()=>{};function GK(Z,J){let Q=Z.byteLength/8|0,q=new Float64Array(Z,0,Q);new Float64Array(J,0,Q).set(q);let X=Z.byteLength-Q*8;if(X>0){let z=new Uint8Array(Z,Q*8,X);new Uint8Array(J,Q*8,X).set(z)}}var NB=()=>{};var rT,$1;var PZ=j(()=>{rT={normal:"normal-npm",add:"add-npm",screen:"screen-npm"},$1=((Z)=>{return Z[Z.DISABLED=0]="DISABLED",Z[Z.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",Z[Z.MASK_ACTIVE=2]="MASK_ACTIVE",Z[Z.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",Z[Z.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",Z[Z.NONE=5]="NONE",Z})($1||{})});function Q7(Z,J){if(J.alphaMode==="no-premultiply-alpha")return rT[Z]||Z;return Z}var FK=j(()=>{PZ()});function SH(){if(!TH||TH?.isContextLost())TH=K0.get().createCanvas().getContext("webgl",{});return TH}var TH;var zB=j(()=>{s0()});function tp(Z){let J="";for(let Q=0;Q<Z;++Q){if(Q>0)J+=`
else `;if(Q<Z-1)J+=`if(test == ${Q}.0){}`}return J}function bH(Z,J){if(Z===0)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let Q=J.createShader(J.FRAGMENT_SHADER);try{while(!0){let q=op.replace(/%forloop%/gi,tp(Z));if(J.shaderSource(Q,q),J.compileShader(Q),!J.getShaderParameter(Q,J.COMPILE_STATUS))Z=Z/2|0;else break}}finally{J.deleteShader(Q)}return Z}var op;var HB=j(()=>{op=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`)});function eT(){if(kJ)return kJ;let Z=SH();return kJ=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),kJ=bH(kJ,Z),Z.getExtension("WEBGL_lose_context")?.loseContext(),kJ}var kJ=null;var ZS=j(()=>{zB();HB()});class YB{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let Z=0;Z<this.count;Z++){let J=this.textures[Z];this.textures[Z]=null,this.ids[J.uid]=null}this.count=0}}var JS=()=>{};class KS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new YB,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}function QS(){return kH>0?wK[--kH]:new KS}function qS(Z){wK[kH++]=Z}var wK,kH=0,jK=0,XS=class Z{constructor(J){if(this.uid=M0("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],J={...Z.defaultOptions,...J},!J.maxTextures)q0("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),J.maxTextures=eT();let{maxTextures:Q,attributesInitialSize:q,indicesInitialSize:K}=J;this.attributeBuffer=new J7(q*4),this.indexBuffer=new Uint16Array(K),this.maxTextures=Q}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let J=0;J<this.batchIndex;J++)qS(this.batches[J]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(J){this._elements[this.elementSize++]=J,J._indexStart=this.indexSize,J._attributeStart=this.attributeSize,J._batcher=this,this.indexSize+=J.indexSize,this.attributeSize+=J.attributeSize*this.vertexSize}checkAndUpdateTexture(J,Q){let q=J._batch.textures.ids[Q._source.uid];if(!q&&q!==0)return!1;return J._textureId=q,J.texture=Q,!0}updateElement(J){this.dirty=!0;let Q=this.attributeBuffer;if(J.packAsQuad)this.packQuadAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId);else this.packAttributes(J,Q.float32View,Q.uint32View,J._attributeStart,J._textureId)}break(J){let Q=this._elements;if(!Q[this.elementStart])return;let q=QS(),K=q.textures;K.clear();let X=Q[this.elementStart],z=Q7(X.blendMode,X.texture._source),Y=X.topology;if(this.attributeSize*4>this.attributeBuffer.size)this._resizeAttributeBuffer(this.attributeSize*4);if(this.indexSize>this.indexBuffer.length)this._resizeIndexBuffer(this.indexSize);let O=this.attributeBuffer.float32View,U=this.attributeBuffer.uint32View,A=this.indexBuffer,B=this._batchIndexSize,_=this._batchIndexStart,W="startBatch",F=this.maxTextures;for(let C=this.elementStart;C<this.elementSize;++C){let L=Q[C];Q[C]=null;let w=L.texture._source,R=Q7(L.blendMode,w),T=z!==R||Y!==L.topology;if(w._batchTick===jK&&!T){if(L._textureId=w._textureBindLocation,B+=L.indexSize,L.packAsQuad)this.packQuadAttributes(L,O,U,L._attributeStart,L._textureId),this.packQuadIndex(A,L._indexStart,L._attributeStart/this.vertexSize);else this.packAttributes(L,O,U,L._attributeStart,L._textureId),this.packIndex(L,A,L._indexStart,L._attributeStart/this.vertexSize);L._batch=q;continue}if(w._batchTick=jK,K.count>=F||T)this._finishBatch(q,_,B-_,K,z,Y,J,W),W="renderBatch",_=B,z=R,Y=L.topology,q=QS(),K=q.textures,K.clear(),++jK;if(L._textureId=w._textureBindLocation=K.count,K.ids[w.uid]=K.count,K.textures[K.count++]=w,L._batch=q,B+=L.indexSize,L.packAsQuad)this.packQuadAttributes(L,O,U,L._attributeStart,L._textureId),this.packQuadIndex(A,L._indexStart,L._attributeStart/this.vertexSize);else this.packAttributes(L,O,U,L._attributeStart,L._textureId),this.packIndex(L,A,L._indexStart,L._attributeStart/this.vertexSize)}if(K.count>0)this._finishBatch(q,_,B-_,K,z,Y,J,W),_=B,++jK;this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=B}_finishBatch(J,Q,q,K,X,z,Y,O){J.gpuBindGroup=null,J.bindGroup=null,J.action=O,J.batcher=this,J.textures=K,J.blendMode=X,J.topology=z,J.start=Q,J.size=q,++jK,this.batches[this.batchIndex++]=J,Y.add(J)}finish(J){this.break(J)}ensureAttributeBuffer(J){if(J*4<=this.attributeBuffer.size)return;this._resizeAttributeBuffer(J*4)}ensureIndexBuffer(J){if(J<=this.indexBuffer.length)return;this._resizeIndexBuffer(J)}_resizeAttributeBuffer(J){let Q=Math.max(J,this.attributeBuffer.size*2),q=new J7(Q);GK(this.attributeBuffer.rawBinaryData,q.rawBinaryData),this.attributeBuffer=q}_resizeIndexBuffer(J){let Q=this.indexBuffer,q=Math.max(J,Q.length*1.5);q+=q%2;let K=q>65535?new Uint32Array(q):new Uint16Array(q);if(K.BYTES_PER_ELEMENT!==Q.BYTES_PER_ELEMENT)for(let X=0;X<Q.length;X++)K[X]=Q[X];else GK(Q.buffer,K.buffer);this.indexBuffer=K}packQuadIndex(J,Q,q){J[Q]=q+0,J[Q+1]=q+1,J[Q+2]=q+2,J[Q+3]=q+0,J[Q+4]=q+2,J[Q+5]=q+3}packIndex(J,Q,q,K){let{indices:X,indexSize:z,indexOffset:Y,attributeOffset:O}=J;for(let U=0;U<z;U++)Q[q++]=K+X[U+Y]-O}destroy(){if(this.batches===null)return;for(let J=0;J<this.batches.length;J++)qS(this.batches[J]);this.batches=null;for(let J=0;J<this._elements.length;J++)if(this._elements[J])this._elements[J]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}},NS;var zS=j(()=>{J5();XB();M1();jZ();NB();FK();ZS();JS();wK=[];O6.register({clear:()=>{if(wK.length>0){for(let Z of wK)if(Z)Z.destroy()}wK.length=0,kH=0}});XS.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};NS=XS});var j0;var q7=j(()=>{j0=((Z)=>{return Z[Z.MAP_READ=1]="MAP_READ",Z[Z.MAP_WRITE=2]="MAP_WRITE",Z[Z.COPY_SRC=4]="COPY_SRC",Z[Z.COPY_DST=8]="COPY_DST",Z[Z.INDEX=16]="INDEX",Z[Z.VERTEX=32]="VERTEX",Z[Z.UNIFORM=64]="UNIFORM",Z[Z.STORAGE=128]="STORAGE",Z[Z.INDIRECT=256]="INDIRECT",Z[Z.QUERY_RESOLVE=512]="QUERY_RESOLVE",Z[Z.STATIC=1024]="STATIC",Z})(j0||{})});var h1;var M9=j(()=>{C5();J5();q7();h1=class h1 extends J1{constructor(Z){let{data:J,size:Q}=Z,{usage:q,label:K,shrinkToFit:X}=Z;super();if(this.uid=M0("buffer"),this._resourceType="buffer",this._resourceId=M0("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,J instanceof Array)J=new Float32Array(J);this._data=J,Q??(Q=J?.byteLength);let z=!!J;this.descriptor={size:Q,usage:q,mappedAtCreation:z,label:K},this.shrinkToFit=X??!0}get data(){return this._data}set data(Z){this.setDataWithSize(Z,Z.length,!0)}get dataInt32(){if(!this._dataInt32)this._dataInt32=new Int32Array(this.data.buffer);return this._dataInt32}get static(){return!!(this.descriptor.usage&j0.STATIC)}set static(Z){if(Z)this.descriptor.usage|=j0.STATIC;else this.descriptor.usage&=~j0.STATIC}setDataWithSize(Z,J,Q){if(this._updateID++,this._updateSize=J*Z.BYTES_PER_ELEMENT,this._data===Z){if(Q)this.emit("update",this);return}let q=this._data;if(this._data=Z,this._dataInt32=null,!q||q.length!==Z.length){if(!this.shrinkToFit&&q&&Z.byteLength<q.byteLength){if(Q)this.emit("update",this)}else this.descriptor.size=Z.byteLength,this._resourceId=M0("resource"),this.emit("change",this);return}if(Q)this.emit("update",this)}update(Z){this._updateSize=Z??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}});function VB(Z,J){if(!(Z instanceof h1)){let Q=J?j0.INDEX:j0.VERTEX;if(Z instanceof Array)if(J)Z=new Uint32Array(Z),Q=j0.INDEX|j0.COPY_DST;else Z=new Float32Array(Z),Q=j0.VERTEX|j0.COPY_DST;Z=new h1({data:Z,label:J?"index-mesh-buffer":"vertex-mesh-buffer",usage:Q})}return Z}var HS=j(()=>{M9();q7()});function YS(Z,J,Q){let q=Z.getAttribute(J);if(!q)return Q.minX=0,Q.minY=0,Q.maxX=0,Q.maxY=0,Q;let K=q.buffer.data,X=1/0,z=1/0,Y=-1/0,O=-1/0,U=K.BYTES_PER_ELEMENT,A=(q.offset||0)/U,B=(q.stride||8)/U;for(let _=A;_<K.length;_+=B){let W=K[_],F=K[_+1];if(W>Y)Y=W;if(F>O)O=F;if(W<X)X=W;if(F<z)z=F}return Q.minX=X,Q.minY=z,Q.maxX=Y,Q.maxY=O,Q}var VS=()=>{};function rp(Z){if(Z instanceof h1||Array.isArray(Z)||Z.BYTES_PER_ELEMENT)Z={buffer:Z};return Z.buffer=VB(Z.buffer,!1),Z}var v6;var PJ=j(()=>{C5();O8();J5();M9();HS();VS();v6=class v6 extends J1{constructor(Z={}){super();this.uid=M0("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new q1,this._boundsDirty=!0;let{attributes:J,indexBuffer:Q,topology:q}=Z;if(this.buffers=[],this.attributes={},J)for(let K in J)this.addAttribute(K,J[K]);if(this.instanceCount=Z.instanceCount??1,Q)this.addIndex(Q);this.topology=q||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(Z){return this.attributes[Z]}getIndex(){return this.indexBuffer}getBuffer(Z){return this.getAttribute(Z).buffer}getSize(){for(let Z in this.attributes){let J=this.attributes[Z];return J.buffer.data.length/(J.stride/4||J.size)}return 0}addAttribute(Z,J){let Q=rp(J);if(this.buffers.indexOf(Q.buffer)===-1)this.buffers.push(Q.buffer),Q.buffer.on("update",this.onBufferUpdate,this),Q.buffer.on("change",this.onBufferUpdate,this);this.attributes[Z]=Q}addIndex(Z){this.indexBuffer=VB(Z,!0),this.buffers.push(this.indexBuffer)}get bounds(){if(!this._boundsDirty)return this._bounds;return this._boundsDirty=!1,YS(this,"aPosition",this._bounds)}destroy(Z=!1){if(this.emit("destroy",this),this.removeAllListeners(),Z)this.buffers.forEach((J)=>J.destroy());this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}});var ep,Zi,OB;var OS=j(()=>{M9();q7();PJ();ep=new Float32Array(1),Zi=new Uint32Array(1);OB=class OB extends v6{constructor(){let J=new h1({data:ep,label:"attribute-batch-buffer",usage:j0.VERTEX|j0.COPY_DST,shrinkToFit:!1}),Q=new h1({data:Zi,label:"index-batch-buffer",usage:j0.INDEX|j0.COPY_DST,shrinkToFit:!1}),q=24;super({attributes:{aPosition:{buffer:J,format:"float32x2",stride:24,offset:0},aUV:{buffer:J,format:"float32x2",stride:24,offset:8},aColor:{buffer:J,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:J,format:"uint16x2",stride:24,offset:20}},indexBuffer:Q})}}});function K7(Z,J){let Q=US[Z];if(Q===void 0){if(UB[J]===void 0)UB[J]=1;US[Z]=Q=UB[J]++}return Q}var UB,US;var CK=j(()=>{UB=Object.create(null),US=Object.create(null)});function $S(){if(!PH){PH="mediump";let Z=SH();if(Z){if(Z.getShaderPrecisionFormat)PH=Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.HIGH_FLOAT).precision?"highp":"mediump"}}return PH}var PH;var AS=j(()=>{zB()});function DS(Z,J,Q){if(J)return Z;if(Q)return Z=Z.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${Z}
        `;return`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${Z}
        `}var BS=()=>{};function _S(Z,J,Q){let q=Q?J.maxSupportedFragmentPrecision:J.maxSupportedVertexPrecision;if(Z.substring(0,9)!=="precision"){let K=Q?J.requestedFragmentPrecision:J.requestedVertexPrecision;if(K==="highp"&&q!=="highp")K="mediump";return`precision ${K} float;
${Z}`}else if(q!=="highp"&&Z.substring(0,15)==="precision highp")return Z.replace("precision highp","precision mediump");return Z}var MS=()=>{};function WS(Z,J){if(!J)return Z;return`#version 300 es
${Z}`}var GS=()=>{};function FS(Z,{name:J="pixi-program"},Q=!0){J=J.replace(/\s+/g,"-"),J+=Q?"-fragment":"-vertex";let q=Q?Ji:Qi;if(q[J])q[J]++,J+=`-${q[J]}`;else q[J]=1;if(Z.indexOf("#define SHADER_NAME")!==-1)return Z;return`${`#define SHADER_NAME ${J}`}
${Z}`}var Ji,Qi;var jS=j(()=>{Ji={},Qi={}});function wS(Z,J){if(!J)return Z;return Z.replace("#version 300 es","")}var CS=()=>{};var $B,LK,LS=class Z{constructor(J){J={...Z.defaultOptions,...J};let Q=J.fragment.indexOf("#version 300 es")!==-1,q={stripVersion:Q,ensurePrecision:{requestedFragmentPrecision:J.preferredFragmentPrecision,requestedVertexPrecision:J.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:$S()},setProgramName:{name:J.name},addProgramDefines:Q,insertVersion:Q},K=J.fragment,X=J.vertex;Object.keys($B).forEach((z)=>{let Y=q[z];K=$B[z](K,Y,!0),X=$B[z](X,Y,!1)}),this.fragment=K,this.vertex=X,this.transformFeedbackVaryings=J.transformFeedbackVaryings,this._key=K7(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,LK[this._cacheKey]=null}static from(J){let Q=`${J.vertex}:${J.fragment}`;if(!LK[Q])LK[Q]=new Z(J),LK[Q]._cacheKey=Q;return LK[Q]}},$5;var X4=j(()=>{CK();AS();BS();MS();GS();jS();CS();$B={stripVersion:wS,ensurePrecision:_S,addProgramDefines:DS,setProgramName:FS,insertVersion:WS},LK=Object.create(null);LS.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};$5=LS});function A8(Z){return RS[Z]??RS.float32}var RS;var vZ=j(()=>{RS={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}}});function ES({source:Z,entryPoint:J}){let Q={},q=Z.indexOf(`fn ${J}`);if(q!==-1){let K=Z.indexOf("->",q);if(K!==-1){let X=Z.substring(q,K),z=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g,Y;while((Y=z.exec(X))!==null){let O=qi[Y[3]]??"float32";Q[Y[2]]={location:parseInt(Y[1],10),format:O,stride:A8(O).stride,offset:0,instance:!1,start:0}}}}return Q}var qi;var IS=j(()=>{vZ();qi={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"}});function vH(Z){let J=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,Q=/@group\((\d+)\)/,q=/@binding\((\d+)\)/,K=/var(<[^>]+>)? (\w+)/,X=/:\s*(\w+)/,z=/struct\s+(\w+)\s*{([^}]+)}/g,Y=/(\w+)\s*:\s*([\w\<\>]+)/g,O=/struct\s+(\w+)/,U=Z.match(J)?.map((B)=>({group:parseInt(B.match(Q)[1],10),binding:parseInt(B.match(q)[1],10),name:B.match(K)[2],isUniform:B.match(K)[1]==="<uniform>",type:B.match(X)[1]}));if(!U)return{groups:[],structs:[]};let A=Z.match(z)?.map((B)=>{let _=B.match(O)[1],W=B.match(Y).reduce((F,C)=>{let[L,G]=C.split(":");return F[L.trim()]=G.trim(),F},{});if(!W)return null;return{name:_,members:W}}).filter(({name:B})=>U.some((_)=>_.type===B))??[];return{groups:U,structs:A}}var TS=()=>{};var vJ;var SS=j(()=>{vJ=((Z)=>{return Z[Z.VERTEX=1]="VERTEX",Z[Z.FRAGMENT=2]="FRAGMENT",Z[Z.COMPUTE=4]="COMPUTE",Z})(vJ||{})});function bS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]=[];if(q.isUniform)J[q.group].push({binding:q.binding,visibility:vJ.VERTEX|vJ.FRAGMENT,buffer:{type:"uniform"}});else if(q.type==="sampler")J[q.group].push({binding:q.binding,visibility:vJ.FRAGMENT,sampler:{type:"filtering"}});else if(q.type==="texture_2d")J[q.group].push({binding:q.binding,visibility:vJ.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return J}var kS=j(()=>{SS()});function PS({groups:Z}){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q];if(!J[q.group])J[q.group]={};J[q.group][q.name]=q.binding}return J}var vS=()=>{};function fS(Z,J){let Q=new Set,q=new Set,K=[...Z.structs,...J.structs].filter((z)=>{if(Q.has(z.name))return!1;return Q.add(z.name),!0}),X=[...Z.groups,...J.groups].filter((z)=>{let Y=`${z.name}-${z.binding}`;if(q.has(Y))return!1;return q.add(Y),!0});return{structs:K,groups:X}}var yS=()=>{};class A5{constructor(Z){this._layoutKey=0,this._attributeLocationsKey=0;let{fragment:J,vertex:Q,layout:q,gpuLayout:K,name:X}=Z;if(this.name=X,this.fragment=J,this.vertex=Q,J.source===Q.source){let z=vH(J.source);this.structsAndGroups=z}else{let z=vH(Q.source),Y=vH(J.source);this.structsAndGroups=fS(z,Y)}this.layout=q??PS(this.structsAndGroups),this.gpuLayout=K??bS(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){let{vertex:Z,fragment:J}=this,Q=Z.source+J.source+Z.entryPoint+J.entryPoint;this._layoutKey=K7(Q,"program")}get attributeData(){return this._attributeData??(this._attributeData=ES(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,RK[this._cacheKey]=null}static from(Z){let J=`${Z.vertex.source}:${Z.fragment.source}:${Z.fragment.entryPoint}:${Z.vertex.entryPoint}`;if(!RK[J])RK[J]=new A5(Z),RK[J]._cacheKey=J;return RK[J]}}var RK;var X7=j(()=>{CK();IS();TS();kS();vS();yS();RK=Object.create(null)});function AB(Z,J,Q){if(Z)for(let q in Z){let K=q.toLocaleLowerCase(),X=J[K];if(X){let z=Z[q];if(q==="header")z=z.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"");if(Q)X.push(`//----${Q}----//`);X.push(z)}else Z0(`${q} placement hook does not exist in shader`)}}var hS=j(()=>{i0()});function DB(Z){let J={};return(Z.match(Ki)?.map((q)=>q.replace(/[{()}]/g,""))??[]).forEach((q)=>{J[q]=[]}),J}var Ki;var xS=j(()=>{Ki=/\{\{(.*?)\}\}/g});function gS(Z,J){let Q,q=/@in\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function BB(Z,J,Q=!1){let q=[];gS(J,q),Z.forEach((Y)=>{if(Y.header)gS(Y.header,q)});let K=q;if(Q)K.sort();let X=K.map((Y,O)=>`       @location(${O}) ${Y},`).join(`
`),z=J.replace(/@in\s+[^;]+;\s*/g,"");return z=z.replace("{{in}}",`
${X}
`),z}var mS=()=>{};function dS(Z,J){let Q,q=/@out\s+([^;]+);/g;while((Q=q.exec(Z))!==null)J.push(Q[1])}function Xi(Z){let Q=/\b(\w+)\s*:/g.exec(Z);return Q?Q[1]:""}function Ni(Z){let J=/@.*?\s+/g;return Z.replace(J,"")}function cS(Z,J){let Q=[];dS(J,Q),Z.forEach((O)=>{if(O.header)dS(O.header,Q)});let q=0,K=Q.sort().map((O)=>{if(O.indexOf("builtin")>-1)return O;return`@location(${q++}) ${O}`}).join(`,
`),X=Q.sort().map((O)=>`       var ${Ni(O)};`).join(`
`),z=`return VSOutput(
            ${Q.sort().map((O)=>` ${Xi(O)}`).join(`,
`)});`,Y=J.replace(/@out\s+[^;]+;\s*/g,"");return Y=Y.replace("{{struct}}",`
${K}
`),Y=Y.replace("{{start}}",`
${X}
`),Y=Y.replace("{{return}}",`
${z}
`),Y}var uS=()=>{};function _B(Z,J){let Q=Z;for(let q in J){let K=J[q];if(K.join(`
`).length)Q=Q.replace(`{{${q}}}`,`//-----${q} START-----//
${K.join(`
`)}
//----${q} FINISH----//`);else Q=Q.replace(`{{${q}}}`,"")}return Q}var lS=()=>{};function pS({template:Z,bits:J}){let Q=aS(Z,J);if(W9[Q])return W9[Q];let{vertex:q,fragment:K}=Hi(Z,J);return W9[Q]=sS(q,K,J),W9[Q]}function iS({template:Z,bits:J}){let Q=aS(Z,J);if(W9[Q])return W9[Q];return W9[Q]=sS(Z.vertex,Z.fragment,J),W9[Q]}function Hi(Z,J){let Q=J.map((z)=>z.vertex).filter((z)=>!!z),q=J.map((z)=>z.fragment).filter((z)=>!!z),K=BB(Q,Z.vertex,!0);K=cS(Q,K);let X=BB(q,Z.fragment,!0);return{vertex:K,fragment:X}}function aS(Z,J){return J.map((Q)=>{if(!MB.has(Q))MB.set(Q,zi++);return MB.get(Q)}).sort((Q,q)=>Q-q).join("-")+Z.vertex+Z.fragment}function sS(Z,J,Q){let q=DB(Z),K=DB(J);return Q.forEach((X)=>{AB(X.vertex,q,X.name),AB(X.fragment,K,X.name)}),{vertex:_B(Z,q),fragment:_B(J,K)}}var W9,MB,zi=0;var nS=j(()=>{hS();xS();mS();uS();lS();W9=Object.create(null),MB=new Map});var oS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,tS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,rS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,eS=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`;var Zb=()=>{};var Jb,Qb;var qb=j(()=>{Jb={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Qb={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}}});function N4({bits:Z,name:J}){let Q=pS({template:{fragment:tS,vertex:oS},bits:[Jb,...Z]});return A5.from({name:J,vertex:{source:Q.vertex,entryPoint:"main"},fragment:{source:Q.fragment,entryPoint:"main"}})}function z4({bits:Z,name:J}){return new $5({name:J,...iS({template:{vertex:rS,fragment:eS},bits:[Qb,...Z]})})}var G9=j(()=>{X4();X7();nS();Zb();qb()});var fJ,yJ;var EK=j(()=>{fJ={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},yJ={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}}});function Yi(Z){let J=[];if(Z===1)J.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),J.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let Q=0;for(let q=0;q<Z;q++)J.push(`@group(1) @binding(${Q++}) var textureSource${q+1}: texture_2d<f32>;`),J.push(`@group(1) @binding(${Q++}) var textureSampler${q+1}: sampler;`)}return J.join(`
`)}function Vi(Z){let J=[];if(Z===1)J.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{J.push("switch vTextureId {");for(let Q=0;Q<Z;Q++){if(Q===Z-1)J.push("  default:{");else J.push(`  case ${Q}:{`);J.push(`      outColor = textureSampleGrad(textureSource${Q+1}, textureSampler${Q+1}, vUV, uvDx, uvDy);`),J.push("      break;}")}J.push("}")}return J.join(`
`)}function hJ(Z){if(!WB[Z])WB[Z]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Yi(Z)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Vi(Z)}
            `}};return WB[Z]}function Oi(Z){let J=[];for(let Q=0;Q<Z;Q++){if(Q>0)J.push("else");if(Q<Z-1)J.push(`if(vTextureId < ${Q}.5)`);J.push("{"),J.push(`	outColor = texture(uTextures[${Q}], vUV);`),J.push("}")}return J.join(`
`)}function xJ(Z){if(!GB[Z])GB[Z]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${Z}];

            `,main:`

                ${Oi(Z)}
            `}};return GB[Z]}var WB,GB;var IK=j(()=>{WB={};GB={}});var H4,Y4;var F9=j(()=>{H4={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Y4={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}}});var FB,Kb;var Xb=j(()=>{FB=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Kb=FB.reduce((Z,J)=>{return Z[J]=!0,Z},{})});function Nb(Z,J){switch(Z){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*J);case"vec3<f32>":return new Float32Array(3*J);case"vec4<f32>":return new Float32Array(4*J);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var zb=()=>{};var Hb=class Z{constructor(J,Q){this._touched=0,this.uid=M0("uniform"),this._resourceType="uniformGroup",this._resourceId=M0("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,Q={...Z.defaultOptions,...Q},this.uniformStructures=J;let q={};for(let K in J){let X=J[K];if(X.name=K,X.size=X.size??1,!Kb[X.type]){let z=X.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(z){let[,Y,O]=z;throw Error(`Uniform type ${X.type} is not supported. Use type: '${Y}', size: ${O} instead.`)}throw Error(`Uniform type ${X.type} is not supported. Supported uniform types are: ${FB.join(", ")}`)}X.value??(X.value=Nb(X.type,X.size)),q[K]=X.value}this.uniforms=q,this._dirtyId=1,this.ubo=Q.ubo,this.isStatic=Q.isStatic,this._signature=K7(Object.keys(q).map((K)=>`${K}-${J[K].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}},n0;var f5=j(()=>{J5();CK();Xb();zb();Hb.defaultOptions={ubo:!1,isStatic:!1};n0=Hb});function gJ(Z){let J=Yb[Z];if(J)return J;let Q=new Int32Array(Z);for(let q=0;q<Z;q++)Q[q]=q;return J=Yb[Z]=new n0({uTextures:{value:Q,type:"i32",size:Z}},{isStatic:!0}),J}var Yb;var fH=j(()=>{f5();Yb={}});var F1;var $6=j(()=>{F1=((Z)=>{return Z[Z.WEBGL=1]="WEBGL",Z[Z.WEBGPU=2]="WEBGPU",Z[Z.BOTH=3]="BOTH",Z})(F1||{})});var k1;var f6=j(()=>{C5();J5();X4();_9();X7();$6();f5();k1=class k1 extends J1{constructor(Z){super();this.uid=M0("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:J,glProgram:Q,groups:q,resources:K,compatibleRenderers:X,groupMap:z}=Z;if(this.gpuProgram=J,this.glProgram=Q,X===void 0){if(X=0,J)X|=F1.WEBGPU;if(Q)X|=F1.WEBGL}this.compatibleRenderers=X;let Y={};if(!K&&!q)K={};if(K&&q)throw Error("[Shader] Cannot have both resources and groups");else if(!J&&q&&!z)throw Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");else if(!J&&q&&z)for(let O in z)for(let U in z[O]){let A=z[O][U];Y[A]={group:O,binding:U,name:A}}else if(J&&q&&!z){let O=J.structsAndGroups.groups;z={},O.forEach((U)=>{z[U.group]=z[U.group]||{},z[U.group][U.binding]=U.name,Y[U.name]=U})}else if(K){if(q={},z={},J)J.structsAndGroups.groups.forEach((A)=>{z[A.group]=z[A.group]||{},z[A.group][A.binding]=A.name,Y[A.name]=A});let O=0;for(let U in K){if(Y[U])continue;if(!q[99])q[99]=new R5,this._ownedBindGroups.push(q[99]);Y[U]={group:99,binding:O,name:U},z[99]=z[99]||{},z[99][O]=U,O++}for(let U in K){let A=U,B=K[U];if(!B.source&&!B._resourceType)B=new n0(B);let _=Y[A];if(_){if(!q[_.group])q[_.group]=new R5,this._ownedBindGroups.push(q[_.group]);q[_.group].setResource(B,_.binding)}}}this.groups=q,this._uniformBindMap=z,this.resources=this._buildResourceAccessor(q,Y)}addResource(Z,J,Q){var q,K;if((q=this._uniformBindMap)[J]||(q[J]={}),(K=this._uniformBindMap[J])[Q]||(K[Q]=Z),!this.groups[J])this.groups[J]=new R5,this._ownedBindGroups.push(this.groups[J])}_buildResourceAccessor(Z,J){let Q={};for(let q in J){let K=J[q];Object.defineProperty(Q,K.name,{get(){return Z[K.group].getResource(K.binding)},set(X){Z[K.group].setResource(X,K.binding)}})}return Q}destroy(Z=!1){if(this.emit("destroy",this),Z)this.gpuProgram?.destroy(),this.glProgram?.destroy();this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach((J)=>{J.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(Z){let{gpu:J,gl:Q,...q}=Z,K,X;if(J)K=A5.from(J);if(Q)X=$5.from(Q);return new k1({gpuProgram:K,glProgram:X,...q})}}});var jB;var Vb=j(()=>{G9();EK();IK();F9();fH();f6();jB=class jB extends k1{constructor(Z){let J=z4({name:"batch",bits:[yJ,xJ(Z),Y4]}),Q=N4({name:"batch",bits:[fJ,hJ(Z),H4]});super({glProgram:J,gpuProgram:Q,resources:{batchSamplers:gJ(Z)}})}}});var wB=null,Ob,TK;var CB=j(()=>{g();zS();OS();Vb();Ob=class Z extends NS{constructor(J){super(J);this.geometry=new OB,this.name=Z.extension.name,this.vertexSize=6,wB??(wB=new jB(J.maxTextures)),this.shader=wB}packAttributes(J,Q,q,K,X){let z=X<<16|J.roundPixels&65535,Y=J.transform,O=Y.a,U=Y.b,A=Y.c,B=Y.d,_=Y.tx,W=Y.ty,{positions:F,uvs:C}=J,L=J.color,G=J.attributeOffset,w=G+J.attributeSize;for(let R=G;R<w;R++){let T=R*2,h=F[T],v=F[T+1];Q[K++]=O*h+A*v+_,Q[K++]=B*v+U*h+W,Q[K++]=C[T],Q[K++]=C[T+1],q[K++]=L,q[K++]=z}}packQuadAttributes(J,Q,q,K,X){let{texture:z,transform:Y}=J,O=Y.a,U=Y.b,A=Y.c,B=Y.d,_=Y.tx,W=Y.ty,F=J.bounds,C=F.maxX,L=F.minX,G=F.maxY,w=F.minY,R=z.uvs,T=J.color,h=X<<16|J.roundPixels&65535;Q[K+0]=O*L+A*w+_,Q[K+1]=B*w+U*L+W,Q[K+2]=R.x0,Q[K+3]=R.y0,q[K+4]=T,q[K+5]=h,Q[K+6]=O*C+A*w+_,Q[K+7]=B*w+U*C+W,Q[K+8]=R.x1,Q[K+9]=R.y1,q[K+10]=T,q[K+11]=h,Q[K+12]=O*C+A*G+_,Q[K+13]=B*G+U*C+W,Q[K+14]=R.x2,Q[K+15]=R.y2,q[K+16]=T,q[K+17]=h,Q[K+18]=O*L+A*G+_,Q[K+19]=B*G+U*L+W,Q[K+20]=R.x3,Q[K+21]=R.y3,q[K+22]=T,q[K+23]=h}};Ob.extension={type:[I.Batcher],name:"default"};TK=Ob});function Ub(Z,J,Q,q,K,X,z,Y=null){let O=0;Q*=J,K*=X;let{a:U,b:A,c:B,d:_,tx:W,ty:F}=Y;while(O<z){let C=Z[Q],L=Z[Q+1];q[K]=U*C+B*L+W,q[K+1]=A*C+_*L+F,K+=X,Q+=J,O++}}function $b(Z,J,Q,q){let K=0;J*=Q;while(K<q)Z[J]=0,Z[J+1]=0,J+=Q,K++}var Ab=()=>{};function LB(Z,J,Q,q,K){let{a:X,b:z,c:Y,d:O,tx:U,ty:A}=J;Q||(Q=0),q||(q=2),K||(K=Z.length/q-Q);let B=Q*q;for(let _=0;_<K;_++){let W=Z[B],F=Z[B+1];Z[B]=X*W+Y*F+U,Z[B+1]=z*W+O*F+A,B+=q}}var Db=()=>{};class mJ{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){if(this.renderable&&this.applyTransform)return this.renderable.groupBlendMode;return"normal"}get color(){let Z=this.baseColor,J=Z>>16|Z&65280|(Z&255)<<16,Q=this.renderable;if(Q)return qH(J,Q.groupColor)+(this.alpha*Q.groupAlpha*255<<24);return J+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||Ui}copyTo(Z){Z.indexOffset=this.indexOffset,Z.indexSize=this.indexSize,Z.attributeOffset=this.attributeOffset,Z.attributeSize=this.attributeSize,Z.baseColor=this.baseColor,Z.alpha=this.alpha,Z.texture=this.texture,Z.geometryData=this.geometryData,Z.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}var Ui;var RB=j(()=>{S0();jD();Ui=new a});var dJ,Bb,_b;var Mb=j(()=>{g();dJ={extension:{type:I.ShapeBuilder,name:"circle"},build(Z,J){let Q,q,K,X,z,Y;if(Z.type==="circle"){let T=Z;if(z=Y=T.radius,z<=0)return!1;Q=T.x,q=T.y,K=X=0}else if(Z.type==="ellipse"){let T=Z;if(z=T.halfWidth,Y=T.halfHeight,z<=0||Y<=0)return!1;Q=T.x,q=T.y,K=X=0}else{let T=Z,h=T.width/2,v=T.height/2;Q=T.x+h,q=T.y+v,z=Y=Math.max(0,Math.min(T.radius,Math.min(h,v))),K=h-z,X=v-Y}if(K<0||X<0)return!1;let O=Math.ceil(2.3*Math.sqrt(z+Y)),U=O*8+(K?4:0)+(X?4:0);if(U===0)return!1;if(O===0)return J[0]=J[6]=Q+K,J[1]=J[3]=q+X,J[2]=J[4]=Q-K,J[5]=J[7]=q-X,!0;let A=0,B=O*4+(K?2:0)+2,_=B,W=U,F=K+z,C=X,L=Q+F,G=Q-F,w=q+C;if(J[A++]=L,J[A++]=w,J[--B]=w,J[--B]=G,X){let T=q-C;J[_++]=G,J[_++]=T,J[--W]=T,J[--W]=L}for(let T=1;T<O;T++){let h=Math.PI/2*(T/O),v=K+Math.cos(h)*z,b=X+Math.sin(h)*Y,m=Q+v,u=Q-v,c=q+b,o=q-b;J[A++]=m,J[A++]=c,J[--B]=c,J[--B]=u,J[_++]=u,J[_++]=o,J[--W]=o,J[--W]=m}F=K,C=X+Y,L=Q+F,G=Q-F,w=q+C;let R=q-C;if(J[A++]=L,J[A++]=w,J[--W]=R,J[--W]=L,K)J[A++]=G,J[A++]=w,J[--W]=R,J[--W]=G;return!0},triangulate(Z,J,Q,q,K,X){if(Z.length===0)return;let z=0,Y=0;for(let A=0;A<Z.length;A+=2)z+=Z[A],Y+=Z[A+1];z/=Z.length/2,Y/=Z.length/2;let O=q;J[O*Q]=z,J[O*Q+1]=Y;let U=O++;for(let A=0;A<Z.length;A+=2){if(J[O*Q]=Z[A],J[O*Q+1]=Z[A+1],A>0)K[X++]=O,K[X++]=U,K[X++]=O-1;O++}K[X++]=U+1,K[X++]=U,K[X++]=O-1}},Bb={...dJ,extension:{...dJ.extension,name:"ellipse"}},_b={...dJ,extension:{...dJ.extension,name:"roundedRectangle"}}});var yH=0.0001,EB=0.0001;var IB=()=>{};function Wb(Z){let J=Z.length;if(J<6)return 1;let Q=0;for(let q=0,K=Z[J-2],X=Z[J-1];q<J;q+=2){let z=Z[q],Y=Z[q+1];Q+=(z-K)*(Y+X),K=z,X=Y}if(Q<0)return-1;return 1}var Gb=()=>{};function Fb(Z,J,Q,q,K,X,z,Y){let O=Z-Q*K,U=J-q*K,A=Z+Q*X,B=J+q*X,_,W;if(z)_=q,W=-Q;else _=-q,W=Q;let F=O+_,C=U+W,L=A+_,G=B+W;return Y.push(F,C),Y.push(L,G),2}function fZ(Z,J,Q,q,K,X,z,Y){let O=Q-Z,U=q-J,A=Math.atan2(O,U),B=Math.atan2(K-Z,X-J);if(Y&&A<B)A+=Math.PI*2;else if(!Y&&A>B)B+=Math.PI*2;let _=A,W=B-A,F=Math.abs(W),C=Math.sqrt(O*O+U*U),L=(15*F*Math.sqrt(C)/Math.PI>>0)+1,G=W/L;if(_+=G,Y){z.push(Z,J),z.push(Q,q);for(let w=1,R=_;w<L;w++,R+=G)z.push(Z,J),z.push(Z+Math.sin(R)*C,J+Math.cos(R)*C);z.push(Z,J),z.push(K,X)}else{z.push(Q,q),z.push(Z,J);for(let w=1,R=_;w<L;w++,R+=G)z.push(Z+Math.sin(R)*C,J+Math.cos(R)*C),z.push(Z,J);z.push(K,X),z.push(Z,J)}return L*2}function jb(Z,J,Q,q,K,X){let z=yH;if(Z.length===0)return;let Y=J,O=Y.alignment;if(J.alignment!==0.5){let V0=Wb(Z);if(Q)V0*=-1;O=(O-0.5)*V0+0.5}let U=new P0(Z[0],Z[1]),A=new P0(Z[Z.length-2],Z[Z.length-1]),B=q,_=Math.abs(U.x-A.x)<z&&Math.abs(U.y-A.y)<z;if(B){if(Z=Z.slice(),_)Z.pop(),Z.pop(),A.set(Z[Z.length-2],Z[Z.length-1]);let V0=(U.x+A.x)*0.5,g1=(A.y+U.y)*0.5;Z.unshift(V0,g1),Z.push(V0,g1)}let W=K,F=Z.length/2,C=Z.length,L=W.length/2,G=Y.width/2,w=G*G,R=Y.miterLimit*Y.miterLimit,T=Z[0],h=Z[1],v=Z[2],b=Z[3],m=0,u=0,c=-(h-b),o=T-v,z0=0,D0=0,g0=Math.sqrt(c*c+o*o);c/=g0,o/=g0,c*=G,o*=G;let _0=O,s=(1-_0)*2,N0=_0*2;if(!B){if(Y.cap==="round")C+=fZ(T-c*(s-N0)*0.5,h-o*(s-N0)*0.5,T-c*s,h-o*s,T+c*N0,h+o*N0,W,!0)+2;else if(Y.cap==="square")C+=Fb(T,h,c,o,s,N0,!0,W)}W.push(T-c*s,h-o*s),W.push(T+c*N0,h+o*N0);for(let V0=1;V0<F-1;++V0){T=Z[(V0-1)*2],h=Z[(V0-1)*2+1],v=Z[V0*2],b=Z[V0*2+1],m=Z[(V0+1)*2],u=Z[(V0+1)*2+1],c=-(h-b),o=T-v,g0=Math.sqrt(c*c+o*o),c/=g0,o/=g0,c*=G,o*=G,z0=-(b-u),D0=v-m,g0=Math.sqrt(z0*z0+D0*D0),z0/=g0,D0/=g0,z0*=G,D0*=G;let g1=v-T,I5=h-b,w1=v-m,B5=u-b,r5=g1*w1+I5*B5,W8=I5*w1-B5*g1,m1=W8<0;if(Math.abs(W8)<0.001*Math.abs(r5)){if(W.push(v-c*s,b-o*s),W.push(v+c*N0,b+o*N0),r5>=0){if(Y.join==="round")C+=fZ(v,b,v-c*s,b-o*s,v-z0*s,b-D0*s,W,!1)+4;else C+=2;W.push(v-z0*N0,b-D0*N0),W.push(v+z0*s,b+D0*s)}continue}let y5=(-c+T)*(-o+b)-(-c+v)*(-o+h),E9=(-z0+m)*(-D0+b)-(-z0+v)*(-D0+u),A4=(g1*E9-w1*y5)/W8,M6=(B5*y5-I5*E9)/W8,m6=(A4-v)*(A4-v)+(M6-b)*(M6-b),e5=v+(A4-v)*s,G8=b+(M6-b)*s,F8=v-(A4-v)*N0,w0=b-(M6-b)*N0,b0=Math.min(g1*g1+I5*I5,w1*w1+B5*B5),d1=m1?s:N0,h5=b0+d1*d1*w;if(m6<=h5)if(Y.join==="bevel"||m6/w>R){if(m1)W.push(e5,G8),W.push(v+c*N0,b+o*N0),W.push(e5,G8),W.push(v+z0*N0,b+D0*N0);else W.push(v-c*s,b-o*s),W.push(F8,w0),W.push(v-z0*s,b-D0*s),W.push(F8,w0);C+=2}else if(Y.join==="round")if(m1)W.push(e5,G8),W.push(v+c*N0,b+o*N0),C+=fZ(v,b,v+c*N0,b+o*N0,v+z0*N0,b+D0*N0,W,!0)+4,W.push(e5,G8),W.push(v+z0*N0,b+D0*N0);else W.push(v-c*s,b-o*s),W.push(F8,w0),C+=fZ(v,b,v-c*s,b-o*s,v-z0*s,b-D0*s,W,!1)+4,W.push(v-z0*s,b-D0*s),W.push(F8,w0);else W.push(e5,G8),W.push(F8,w0);else{if(W.push(v-c*s,b-o*s),W.push(v+c*N0,b+o*N0),Y.join==="round")if(m1)C+=fZ(v,b,v+c*N0,b+o*N0,v+z0*N0,b+D0*N0,W,!0)+2;else C+=fZ(v,b,v-c*s,b-o*s,v-z0*s,b-D0*s,W,!1)+2;else if(Y.join==="miter"&&m6/w<=R){if(m1)W.push(F8,w0),W.push(F8,w0);else W.push(e5,G8),W.push(e5,G8);C+=2}W.push(v-z0*s,b-D0*s),W.push(v+z0*N0,b+D0*N0),C+=2}}if(T=Z[(F-2)*2],h=Z[(F-2)*2+1],v=Z[(F-1)*2],b=Z[(F-1)*2+1],c=-(h-b),o=T-v,g0=Math.sqrt(c*c+o*o),c/=g0,o/=g0,c*=G,o*=G,W.push(v-c*s,b-o*s),W.push(v+c*N0,b+o*N0),!B){if(Y.cap==="round")C+=fZ(v-c*(s-N0)*0.5,b-o*(s-N0)*0.5,v-c*s,b-o*s,v+c*N0,b+o*N0,W,!1)+2;else if(Y.cap==="square")C+=Fb(v,b,c,o,s,N0,!1,W)}let K1=EB*EB;for(let V0=L;V0<C+L-2;++V0){if(T=W[V0*2],h=W[V0*2+1],v=W[(V0+1)*2],b=W[(V0+1)*2+1],m=W[(V0+2)*2],u=W[(V0+2)*2+1],Math.abs(T*(b-u)+v*(u-h)+m*(h-b))<K1)continue;X.push(V0,V0+1,V0+2)}}var wb=j(()=>{T6();IB();Gb()});function Cb(Z,J,Q,q){let K=yH;if(Z.length===0)return;let X=Z[0],z=Z[1],Y=Z[Z.length-2],O=Z[Z.length-1],U=J||Math.abs(X-Y)<K&&Math.abs(z-O)<K,A=Q,B=Z.length/2,_=A.length/2;for(let W=0;W<B;W++)A.push(Z[W*2]),A.push(Z[W*2+1]);for(let W=0;W<B-1;W++)q.push(_+W,_+W+1);if(U)q.push(_+B-1,_)}var Lb=j(()=>{IB()});function gH(Z,J,Q=2){let q=J&&J.length,K=q?J[0]*Q:Z.length,X=Eb(Z,0,K,Q,!0),z=[];if(!X||X.next===X.prev)return z;let Y,O,U;if(q)X=_i(Z,J,X,Q);if(Z.length>80*Q){Y=Z[0],O=Z[1];let A=Y,B=O;for(let _=Q;_<K;_+=Q){let W=Z[_],F=Z[_+1];if(W<Y)Y=W;if(F<O)O=F;if(W>A)A=W;if(F>B)B=F}U=Math.max(A-Y,B-O),U=U!==0?32767/U:0}return bK(X,z,Q,Y,O,U,0),z}function Eb(Z,J,Q,q,K){let X;if(K===Ii(Z,J,Q,q)>0)for(let z=J;z<Q;z+=q)X=Rb(z/q|0,Z[z],Z[z+1],X);else for(let z=Q-q;z>=J;z-=q)X=Rb(z/q|0,Z[z],Z[z+1],X);if(X&&cJ(X,X.next))PK(X),X=X.next;return X}function yZ(Z,J){if(!Z)return Z;if(!J)J=Z;let Q=Z,q;do if(q=!1,!Q.steiner&&(cJ(Q,Q.next)||L1(Q.prev,Q,Q.next)===0)){if(PK(Q),Q=J=Q.prev,Q===Q.next)break;q=!0}else Q=Q.next;while(q||Q!==J);return J}function bK(Z,J,Q,q,K,X,z){if(!Z)return;if(!z&&X)ji(Z,q,K,X);let Y=Z;while(Z.prev!==Z.next){let{prev:O,next:U}=Z;if(X?Ai(Z,q,K,X):$i(Z)){J.push(O.i,Z.i,U.i),PK(Z),Z=U.next,Y=U.next;continue}if(Z=U,Z===Y){if(!z)bK(yZ(Z),J,Q,q,K,X,1);else if(z===1)Z=Di(yZ(Z),J),bK(Z,J,Q,q,K,X,2);else if(z===2)Bi(Z,J,Q,q,K,X);break}}}function $i(Z){let J=Z.prev,Q=Z,q=Z.next;if(L1(J,Q,q)>=0)return!1;let K=J.x,X=Q.x,z=q.x,Y=J.y,O=Q.y,U=q.y,A=Math.min(K,X,z),B=Math.min(Y,O,U),_=Math.max(K,X,z),W=Math.max(Y,O,U),F=q.next;while(F!==J){if(F.x>=A&&F.x<=_&&F.y>=B&&F.y<=W&&SK(K,Y,X,O,z,U,F.x,F.y)&&L1(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function Ai(Z,J,Q,q){let K=Z.prev,X=Z,z=Z.next;if(L1(K,X,z)>=0)return!1;let Y=K.x,O=X.x,U=z.x,A=K.y,B=X.y,_=z.y,W=Math.min(Y,O,U),F=Math.min(A,B,_),C=Math.max(Y,O,U),L=Math.max(A,B,_),G=TB(W,F,J,Q,q),w=TB(C,L,J,Q,q),R=Z.prevZ,T=Z.nextZ;while(R&&R.z>=G&&T&&T.z<=w){if(R.x>=W&&R.x<=C&&R.y>=F&&R.y<=L&&R!==K&&R!==z&&SK(Y,A,O,B,U,_,R.x,R.y)&&L1(R.prev,R,R.next)>=0)return!1;if(R=R.prevZ,T.x>=W&&T.x<=C&&T.y>=F&&T.y<=L&&T!==K&&T!==z&&SK(Y,A,O,B,U,_,T.x,T.y)&&L1(T.prev,T,T.next)>=0)return!1;T=T.nextZ}while(R&&R.z>=G){if(R.x>=W&&R.x<=C&&R.y>=F&&R.y<=L&&R!==K&&R!==z&&SK(Y,A,O,B,U,_,R.x,R.y)&&L1(R.prev,R,R.next)>=0)return!1;R=R.prevZ}while(T&&T.z<=w){if(T.x>=W&&T.x<=C&&T.y>=F&&T.y<=L&&T!==K&&T!==z&&SK(Y,A,O,B,U,_,T.x,T.y)&&L1(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Di(Z,J){let Q=Z;do{let q=Q.prev,K=Q.next.next;if(!cJ(q,K)&&Tb(q,Q,Q.next,K)&&kK(q,K)&&kK(K,q))J.push(q.i,Q.i,K.i),PK(Q),PK(Q.next),Q=Z=K;Q=Q.next}while(Q!==Z);return yZ(Q)}function Bi(Z,J,Q,q,K,X){let z=Z;do{let Y=z.next.next;while(Y!==z.prev){if(z.i!==Y.i&&Li(z,Y)){let O=Sb(z,Y);z=yZ(z,z.next),O=yZ(O,O.next),bK(z,J,Q,q,K,X,0),bK(O,J,Q,q,K,X,0);return}Y=Y.next}z=z.next}while(z!==Z)}function _i(Z,J,Q,q){let K=[];for(let X=0,z=J.length;X<z;X++){let Y=J[X]*q,O=X<z-1?J[X+1]*q:Z.length,U=Eb(Z,Y,O,q,!1);if(U===U.next)U.steiner=!0;K.push(Ci(U))}K.sort(Mi);for(let X=0;X<K.length;X++)Q=Wi(K[X],Q);return Q}function Mi(Z,J){let Q=Z.x-J.x;if(Q===0){if(Q=Z.y-J.y,Q===0){let q=(Z.next.y-Z.y)/(Z.next.x-Z.x),K=(J.next.y-J.y)/(J.next.x-J.x);Q=q-K}}return Q}function Wi(Z,J){let Q=Gi(Z,J);if(!Q)return J;let q=Sb(Q,Z);return yZ(q,q.next),yZ(Q,Q.next)}function Gi(Z,J){let Q=J,q=Z.x,K=Z.y,X=-1/0,z;if(cJ(Z,Q))return Q;do{if(cJ(Z,Q.next))return Q.next;else if(K<=Q.y&&K>=Q.next.y&&Q.next.y!==Q.y){let B=Q.x+(K-Q.y)*(Q.next.x-Q.x)/(Q.next.y-Q.y);if(B<=q&&B>X){if(X=B,z=Q.x<Q.next.x?Q:Q.next,B===q)return z}}Q=Q.next}while(Q!==J);if(!z)return null;let Y=z,O=z.x,U=z.y,A=1/0;Q=z;do{if(q>=Q.x&&Q.x>=O&&q!==Q.x&&Ib(K<U?q:X,K,O,U,K<U?X:q,K,Q.x,Q.y)){let B=Math.abs(K-Q.y)/(q-Q.x);if(kK(Q,Z)&&(B<A||B===A&&(Q.x>z.x||Q.x===z.x&&Fi(z,Q))))z=Q,A=B}Q=Q.next}while(Q!==Y);return z}function Fi(Z,J){return L1(Z.prev,Z,J.prev)<0&&L1(J.next,Z,Z.next)<0}function ji(Z,J,Q,q){let K=Z;do{if(K.z===0)K.z=TB(K.x,K.y,J,Q,q);K.prevZ=K.prev,K.nextZ=K.next,K=K.next}while(K!==Z);K.prevZ.nextZ=null,K.prevZ=null,wi(K)}function wi(Z){let J,Q=1;do{let q=Z,K;Z=null;let X=null;J=0;while(q){J++;let z=q,Y=0;for(let U=0;U<Q;U++)if(Y++,z=z.nextZ,!z)break;let O=Q;while(Y>0||O>0&&z){if(Y!==0&&(O===0||!z||q.z<=z.z))K=q,q=q.nextZ,Y--;else K=z,z=z.nextZ,O--;if(X)X.nextZ=K;else Z=K;K.prevZ=X,X=K}q=z}X.nextZ=null,Q*=2}while(J>1);return Z}function TB(Z,J,Q,q,K){return Z=(Z-Q)*K|0,J=(J-q)*K|0,Z=(Z|Z<<8)&16711935,Z=(Z|Z<<4)&252645135,Z=(Z|Z<<2)&858993459,Z=(Z|Z<<1)&1431655765,J=(J|J<<8)&16711935,J=(J|J<<4)&252645135,J=(J|J<<2)&858993459,J=(J|J<<1)&1431655765,Z|J<<1}function Ci(Z){let J=Z,Q=Z;do{if(J.x<Q.x||J.x===Q.x&&J.y<Q.y)Q=J;J=J.next}while(J!==Z);return Q}function Ib(Z,J,Q,q,K,X,z,Y){return(K-z)*(J-Y)>=(Z-z)*(X-Y)&&(Z-z)*(q-Y)>=(Q-z)*(J-Y)&&(Q-z)*(X-Y)>=(K-z)*(q-Y)}function SK(Z,J,Q,q,K,X,z,Y){return!(Z===z&&J===Y)&&Ib(Z,J,Q,q,K,X,z,Y)}function Li(Z,J){return Z.next.i!==J.i&&Z.prev.i!==J.i&&!Ri(Z,J)&&(kK(Z,J)&&kK(J,Z)&&Ei(Z,J)&&(L1(Z.prev,Z,J.prev)||L1(Z,J.prev,J))||cJ(Z,J)&&L1(Z.prev,Z,Z.next)>0&&L1(J.prev,J,J.next)>0)}function L1(Z,J,Q){return(J.y-Z.y)*(Q.x-J.x)-(J.x-Z.x)*(Q.y-J.y)}function cJ(Z,J){return Z.x===J.x&&Z.y===J.y}function Tb(Z,J,Q,q){let K=xH(L1(Z,J,Q)),X=xH(L1(Z,J,q)),z=xH(L1(Q,q,Z)),Y=xH(L1(Q,q,J));if(K!==X&&z!==Y)return!0;if(K===0&&hH(Z,Q,J))return!0;if(X===0&&hH(Z,q,J))return!0;if(z===0&&hH(Q,Z,q))return!0;if(Y===0&&hH(Q,J,q))return!0;return!1}function hH(Z,J,Q){return J.x<=Math.max(Z.x,Q.x)&&J.x>=Math.min(Z.x,Q.x)&&J.y<=Math.max(Z.y,Q.y)&&J.y>=Math.min(Z.y,Q.y)}function xH(Z){return Z>0?1:Z<0?-1:0}function Ri(Z,J){let Q=Z;do{if(Q.i!==Z.i&&Q.next.i!==Z.i&&Q.i!==J.i&&Q.next.i!==J.i&&Tb(Q,Q.next,Z,J))return!0;Q=Q.next}while(Q!==Z);return!1}function kK(Z,J){return L1(Z.prev,Z,Z.next)<0?L1(Z,J,Z.next)>=0&&L1(Z,Z.prev,J)>=0:L1(Z,J,Z.prev)<0||L1(Z,Z.next,J)<0}function Ei(Z,J){let Q=Z,q=!1,K=(Z.x+J.x)/2,X=(Z.y+J.y)/2;do{if(Q.y>X!==Q.next.y>X&&Q.next.y!==Q.y&&K<(Q.next.x-Q.x)*(X-Q.y)/(Q.next.y-Q.y)+Q.x)q=!q;Q=Q.next}while(Q!==Z);return q}function Sb(Z,J){let Q=SB(Z.i,Z.x,Z.y),q=SB(J.i,J.x,J.y),K=Z.next,X=J.prev;return Z.next=J,J.prev=Z,Q.next=K,K.prev=Q,q.next=Q,Q.prev=q,X.next=q,q.prev=X,q}function Rb(Z,J,Q,q){let K=SB(Z,J,Q);if(!q)K.prev=K,K.next=K;else K.next=q.next,K.prev=q,q.next.prev=K,q.next=K;return K}function PK(Z){if(Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ)Z.prevZ.nextZ=Z.nextZ;if(Z.nextZ)Z.nextZ.prevZ=Z.prevZ}function SB(Z,J,Q){return{i:Z,x:J,y:Q,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Ii(Z,J,Q,q){let K=0;for(let X=J,z=Q-q;X<Q;X+=q)K+=(Z[z]-Z[X])*(Z[X+1]+Z[z+1]),z=X;return K}var bb;var kb=j(()=>{C5();bb=gH.default||gH});function mH(Z,J,Q,q,K,X,z){let Y=bb(Z,J,2);if(!Y)return;for(let U=0;U<Y.length;U+=3)X[z++]=Y[U]+K,X[z++]=Y[U+1]+K,X[z++]=Y[U+2]+K;let O=K*q;for(let U=0;U<Z.length;U+=2)Q[O]=Z[U],Q[O+1]=Z[U+1],O+=q}var bB=j(()=>{kb()});var Ti,Pb;var vb=j(()=>{g();bB();Ti=[],Pb={extension:{type:I.ShapeBuilder,name:"polygon"},build(Z,J){for(let Q=0;Q<Z.points.length;Q++)J[Q]=Z.points[Q];return!0},triangulate(Z,J,Q,q,K,X){mH(Z,Ti,J,Q,q,K,X)}}});var fb;var yb=j(()=>{g();fb={extension:{type:I.ShapeBuilder,name:"rectangle"},build(Z,J){let Q=Z,q=Q.x,K=Q.y,X=Q.width,z=Q.height;if(!(X>0&&z>0))return!1;return J[0]=q,J[1]=K,J[2]=q+X,J[3]=K,J[4]=q+X,J[5]=K+z,J[6]=q,J[7]=K+z,!0},triangulate(Z,J,Q,q,K,X){let z=0;q*=Q,J[q+z]=Z[0],J[q+z+1]=Z[1],z+=Q,J[q+z]=Z[2],J[q+z+1]=Z[3],z+=Q,J[q+z]=Z[6],J[q+z+1]=Z[7],z+=Q,J[q+z]=Z[4],J[q+z+1]=Z[5],z+=Q;let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2,K[X++]=Y+1,K[X++]=Y+3,K[X++]=Y+2}}});var hb;var xb=j(()=>{g();hb={extension:{type:I.ShapeBuilder,name:"triangle"},build(Z,J){return J[0]=Z.x,J[1]=Z.y,J[2]=Z.x2,J[3]=Z.y2,J[4]=Z.x3,J[5]=Z.y3,!0},triangulate(Z,J,Q,q,K,X){let z=0;q*=Q,J[q+z]=Z[0],J[q+z+1]=Z[1],z+=Q,J[q+z]=Z[2],J[q+z+1]=Z[3],z+=Q,J[q+z]=Z[4],J[q+z+1]=Z[5];let Y=q/Q;K[X++]=Y,K[X++]=Y+1,K[X++]=Y+2}}});function mb(Z,J){for(let Q=0;Q<J.length;Q++){let q=J[Q];Z.addColorStop(q.offset,q.color)}}function db(Z,J){let Q=K0.get().createCanvas(Z,J),q=Q.getContext("2d");return{canvas:Q,context:q}}function Si(Z){let J=Z[0]??{};if(typeof J==="number"||Z[1])q0("8.5.2","use options object instead"),J={type:"linear",start:{x:Z[0],y:Z[1]},end:{x:Z[2],y:Z[3]},textureSpace:Z[4],textureSize:Z[5]??D8.defaultLinearOptions.textureSize};return J}var gb,kB=class Z{constructor(...J){this.uid=M0("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let Q=Si(J);if(Q={...Q.type==="radial"?Z.defaultRadialOptions:Z.defaultLinearOptions,...XH(Q)},this._textureSize=Q.textureSize,this._wrapMode=Q.wrapMode,Q.type==="radial")this.center=Q.center,this.outerCenter=Q.outerCenter??this.center,this.innerRadius=Q.innerRadius,this.outerRadius=Q.outerRadius,this.scale=Q.scale,this.rotation=Q.rotation;else this.start=Q.start,this.end=Q.end;this.textureSpace=Q.textureSpace,this.type=Q.type,Q.colorStops.forEach((K)=>{this.addColorStop(K.offset,K.color)})}addColorStop(J,Q){return this.colorStops.push({offset:J,color:F0.shared.setValue(Q).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:J,y:Q}=this.start,{x:q,y:K}=this.end,X=q-J,z=K-Q,Y=X<0||z<0;if(this._wrapMode==="clamp-to-edge"){if(X<0){let L=J;J=q,q=L,X*=-1}if(z<0){let L=Q;Q=K,K=L,z*=-1}}let O=this.colorStops.length?this.colorStops:gb,U=this._textureSize,{canvas:A,context:B}=db(U,1),_=!Y?B.createLinearGradient(0,0,this._textureSize,0):B.createLinearGradient(this._textureSize,0,0,0);mb(_,O),B.fillStyle=_,B.fillRect(0,0,U,1),this.texture=new p({source:new c8({resource:A,addressMode:this._wrapMode})});let W=Math.sqrt(X*X+z*z),F=Math.atan2(z,X),C=new a;if(C.scale(W/U,1),C.rotate(F),C.translate(J,Q),this.textureSpace==="local")C.scale(U,U);this.transform=C}buildGradient(){if(!this.texture)this._tick++;if(this.type==="linear")this.buildLinearGradient();else this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;let J=this.colorStops.length?this.colorStops:gb,Q=this._textureSize,{canvas:q,context:K}=db(Q,Q),{x:X,y:z}=this.center,{x:Y,y:O}=this.outerCenter,U=this.innerRadius,A=this.outerRadius,B=Y-A,_=O-A,W=Q/(A*2),F=(X-B)*W,C=(z-_)*W,L=K.createRadialGradient(F,C,U*W,(Y-B)*W,(O-_)*W,A*W);mb(L,J),K.fillStyle=J[J.length-1].color,K.fillRect(0,0,Q,Q),K.fillStyle=L,K.translate(F,C),K.rotate(this.rotation),K.scale(1,this.scale),K.translate(-F,-C),K.fillRect(0,0,Q,Q),this.texture=new p({source:new c8({resource:q,addressMode:this._wrapMode})});let G=new a;if(G.scale(1/W,1/W),G.translate(B,_),this.textureSpace==="local")G.scale(Q,Q);this.transform=G}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}},D8;var uJ=j(()=>{v5();s0();S0();SJ();a0();J5();M1();ED();gb=[{offset:0,color:"white"},{offset:1,color:"black"}];kB.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};kB.defaultRadialOptions={center:{x:0.5,y:0.5},innerRadius:0,outerRadius:0.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};D8=kB});function cb(Z,J,Q,q){let K=J.matrix?Z.copyFrom(J.matrix).invert():Z.identity();if(J.textureSpace==="local"){let z=Q.getBounds(ki);if(J.width)z.pad(J.width);let{x:Y,y:O}=z,U=1/z.width,A=1/z.height,B=-Y*U,_=-O*A,W=K.a,F=K.b,C=K.c,L=K.d;K.a*=U,K.b*=U,K.c*=A,K.d*=A,K.tx=B*W+_*C+K.tx,K.ty=B*F+_*L+K.ty}else K.translate(J.texture.frame.x,J.texture.frame.y),K.scale(1/J.texture.source.width,1/J.texture.source.height);let X=J.texture.source.style;if(!(J.fill instanceof D8)&&X.addressMode==="clamp-to-edge")X.addressMode="repeat",X.update();if(q)K.append(bi.copyFrom(q).invert());return K}var bi,ki;var ub=j(()=>{S0();Q5();uJ();bi=new a,ki=new $0});function pb(Z,J){let{geometryData:Q,batches:q}=J;q.length=0,Q.indices.length=0,Q.vertices.length=0,Q.uvs.length=0;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];if(X.action==="texture")fi(X.data,q,Q);else if(X.action==="fill"||X.action==="stroke"){let z=X.action==="stroke",Y=X.data.path.shapePath,O=X.data.style,U=X.data.hole;if(z&&U)lb(U.shapePath,O,!0,q,Q);if(U)Y.shapePrimitives[Y.shapePrimitives.length-1].holes=U.shapePath.shapePrimitives;lb(Y,O,z,q,Q)}}}function fi(Z,J,Q){let q=[],K=dH.rectangle,X=Pi;X.x=Z.dx,X.y=Z.dy,X.width=Z.dw,X.height=Z.dh;let z=Z.transform;if(!K.build(X,q))return;let{vertices:Y,uvs:O,indices:U}=Q,A=U.length,B=Y.length/2;if(z)LB(q,z);K.triangulate(q,Y,2,B,U,A);let _=Z.image,W=_.uvs;O.push(W.x0,W.y0,W.x1,W.y1,W.x3,W.y3,W.x2,W.y2);let F=Q1.get(mJ);F.indexOffset=A,F.indexSize=U.length-A,F.attributeOffset=B,F.attributeSize=Y.length/2-B,F.baseColor=Z.style,F.alpha=Z.alpha,F.texture=_,F.geometryData=Q,J.push(F)}function lb(Z,J,Q,q,K){let{vertices:X,uvs:z,indices:Y}=K;Z.shapePrimitives.forEach(({shape:O,transform:U,holes:A})=>{let B=[],_=dH[O.type];if(!_.build(O,B))return;let W=Y.length,F=X.length/2,C="triangle-list";if(U)LB(B,U);if(!Q)if(A){let R=[],T=B.slice();yi(A).forEach((v)=>{R.push(T.length/2),T.push(...v)}),mH(T,R,X,2,F,Y,W)}else _.triangulate(B,X,2,F,Y,W);else{let R=O.closePath??!0,T=J;if(!T.pixelLine)jb(B,T,!1,R,X,Y);else Cb(B,R,X,Y),C="line-list"}let L=z.length/2,G=J.texture;if(G!==p.WHITE){let R=cb(vi,J,O,U);Ub(X,2,F,z,L,2,X.length/2-F,R)}else $b(z,L,2,X.length/2-F);let w=Q1.get(mJ);w.indexOffset=W,w.indexSize=Y.length-W,w.attributeOffset=F,w.attributeSize=X.length/2-F,w.baseColor=J.color,w.alpha=J.alpha,w.texture=G,w.geometryData=K,w.topology=C,q.push(w)})}function yi(Z){let J=[];for(let Q=0;Q<Z.length;Q++){let q=Z[Q].shape,K=[];if(dH[q.type].build(q,K))J.push(K)}return J}var dH,Pi,vi;var ib=j(()=>{g();S0();Q5();Ab();Db();a0();Q4();RB();Mb();wb();Lb();vb();yb();xb();ub();bB();dH={};J0.handleByMap(I.ShapeBuilder,dH);J0.add(fb,Pb,hb,dJ,Bb,_b);Pi=new $0,vi=new a});class ab{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class sb{constructor(){this.instructions=new zK}init(Z){this.batcher=new TK({maxTextures:Z}),this.instructions.reset()}get geometry(){return q0(OI,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}var PB=class Z{constructor(J){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=J,J.renderableGC.addManagedHash(this,"_gpuContextHash"),J.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(J){Z.defaultOptions.bezierSmoothness=J?.bezierSmoothness??Z.defaultOptions.bezierSmoothness}getContextRenderData(J){return this._graphicsDataContextHash[J.uid]||this._initContextRenderData(J)}updateGpuContext(J){let Q=this._gpuContextHash[J.uid]||this._initContext(J);if(J.dirty){if(Q)this._cleanGraphicsContextData(J);else Q=this._initContext(J);pb(J,Q);let q=J.batchMode;if(J.customShader||q==="no-batch")Q.isBatchable=!1;else if(q==="auto")Q.isBatchable=Q.geometryData.vertices.length<400;else Q.isBatchable=!0;J.dirty=!1}return Q}getGpuContext(J){return this._gpuContextHash[J.uid]||this._initContext(J)}_initContextRenderData(J){let Q=Q1.get(sb,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:q,geometryData:K}=this._gpuContextHash[J.uid],X=K.vertices.length,z=K.indices.length;for(let A=0;A<q.length;A++)q[A].applyTransform=!1;let Y=Q.batcher;Y.ensureAttributeBuffer(X),Y.ensureIndexBuffer(z),Y.begin();for(let A=0;A<q.length;A++){let B=q[A];Y.add(B)}Y.finish(Q.instructions);let O=Y.geometry;O.indexBuffer.setDataWithSize(Y.indexBuffer,Y.indexSize,!0),O.buffers[0].setDataWithSize(Y.attributeBuffer.float32View,Y.attributeSize,!0);let U=Y.batches;for(let A=0;A<U.length;A++){let B=U[A];B.bindGroup=bJ(B.textures.textures,B.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[J.uid]=Q,Q}_initContext(J){let Q=new ab;return Q.context=J,this._gpuContextHash[J.uid]=Q,J.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]}onGraphicsContextDestroy(J){this._cleanGraphicsContextData(J),J.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[J.uid]=null}_cleanGraphicsContextData(J){let Q=this._gpuContextHash[J.uid];if(!Q.isBatchable){if(this._graphicsDataContextHash[J.uid])Q1.return(this.getContextRenderData(J)),this._graphicsDataContextHash[J.uid]=null}if(Q.batches)Q.batches.forEach((q)=>{Q1.return(q)})}destroy(){for(let J in this._gpuContextHash)if(this._gpuContextHash[J])this.onGraphicsContextDestroy(this._gpuContextHash[J].context)}},lJ;var cH=j(()=>{g();IH();CB();LD();M1();Q4();ib();PB.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"graphicsContext"};PB.defaultOptions={bezierSmoothness:0.5};lJ=PB});var hi,vB=class Z{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1)}set blend(J){if(!!(this.data&1)!==J)this.data^=1}get offsets(){return!!(this.data&2)}set offsets(J){if(!!(this.data&2)!==J)this.data^=2}set cullMode(J){if(J==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=J==="front"}get cullMode(){if(!this.culling)return"none";return this.clockwiseFrontFace?"front":"back"}get culling(){return!!(this.data&4)}set culling(J){if(!!(this.data&4)!==J)this.data^=4}get depthTest(){return!!(this.data&8)}set depthTest(J){if(!!(this.data&8)!==J)this.data^=8}get depthMask(){return!!(this.data&32)}set depthMask(J){if(!!(this.data&32)!==J)this.data^=32}get clockwiseFrontFace(){return!!(this.data&16)}set clockwiseFrontFace(J){if(!!(this.data&16)!==J)this.data^=16}get blendMode(){return this._blendMode}set blendMode(J){this.blend=J!=="none",this._blendMode=J,this._blendModeId=hi[J]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(J){this.offsets=!!J,this._polygonOffset=J}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){let J=new Z;return J.depthTest=!1,J.blend=!0,J}},x1;var y6=j(()=>{hi={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10};vB.default2d=vB.for2d();x1=vB});function V4(Z,J,Q){let q=(Z>>24&255)/255;J[Q++]=(Z&255)/255*q,J[Q++]=(Z>>8&255)/255*q,J[Q++]=(Z>>16&255)/255*q,J[Q++]=q}var pJ=()=>{};class nb{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach((Z)=>{Q1.return(Z)}),this.batches.length=0}}class uH{constructor(Z,J){this.state=x1.for2d(),this.renderer=Z,this._adaptor=J,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(Z){let J=Z.context,Q=!!Z._gpuData,q=this.renderer.graphicsContext.updateGpuContext(J);if(q.isBatchable||Q!==q.isBatchable)return!0;return!1}addRenderable(Z,J){let Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(Z.didViewUpdate)this._rebuild(Z);if(Q.isBatchable)this._addToBatcher(Z,J);else this.renderer.renderPipes.batch.break(J),J.add(Z)}updateRenderable(Z){let Q=this._getGpuDataForRenderable(Z).batches;for(let q=0;q<Q.length;q++){let K=Q[q];K._batcher.updateElement(K)}}execute(Z){if(!Z.isRenderable)return;let J=this.renderer,Q=Z.context;if(!J.graphicsContext.getGpuContext(Q).batches.length)return;let K=Q.customShader||this._adaptor.shader;this.state.blendMode=Z.groupBlendMode;let X=K.resources.localUniforms.uniforms;X.uTransformMatrix=Z.groupTransform,X.uRound=J._roundPixels|Z._roundPixels,V4(Z.groupColorAlpha,X.uColor,0),this._adaptor.execute(this,Z)}_rebuild(Z){let J=this._getGpuDataForRenderable(Z),Q=this.renderer.graphicsContext.updateGpuContext(Z.context);if(J.destroy(),Q.isBatchable)this._updateBatchesForRenderable(Z,J)}_addToBatcher(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getGpuDataForRenderable(Z).batches;for(let K=0;K<q.length;K++){let X=q[K];Q.addToBatch(X,J)}}_getGpuDataForRenderable(Z){return Z._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(Z)}_initGpuDataForRenderable(Z){let J=new nb;return Z._gpuData[this.renderer.uid]=J,J}_updateBatchesForRenderable(Z,J){let Q=Z.context,q=this.renderer.graphicsContext.getGpuContext(Q),K=this.renderer._roundPixels|Z._roundPixels;J.batches=q.batches.map((X)=>{let z=Q1.get(mJ);return X.copyTo(z),z.renderable=Z,z.roundPixels=K,z})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}var ob=j(()=>{g();y6();Q4();pJ();RB();uH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"graphics"}});var fB=j(()=>{g();cH();ob();J0.add(uH);J0.add(lJ)});class hZ{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(Z){this._topology=Z}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(Z){if(this.texture===Z)return;this.texture=Z,this._textureMatrixUpdateId=-1}get uvs(){let J=this.geometry.getBuffer("aUV"),Q=J.data,q=Q,K=this.texture.textureMatrix;if(!K.isSimple){if(q=this._transformedUvs,this._textureMatrixUpdateId!==K._updateID||this._uvUpdateId!==J._updateID){if(!q||q.length<Q.length)q=this._transformedUvs=new Float32Array(Q.length);this._textureMatrixUpdateId=K._updateID,this._uvUpdateId=J._updateID,K.multiplyUvs(Q,q)}}return q}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}var lH=()=>{};class yB{destroy(){}}class pH{constructor(Z,J){this.localUniforms=new n0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new R5({0:this.localUniforms}),this.renderer=Z,this._adaptor=J,this._adaptor.init()}validateRenderable(Z){let J=this._getMeshData(Z),Q=J.batched,q=Z.batched;if(J.batched=q,Q!==q)return!0;else if(q){let K=Z._geometry;if(K.indices.length!==J.indexSize||K.positions.length!==J.vertexSize)return J.indexSize=K.indices.length,J.vertexSize=K.positions.length,!0;let X=this._getBatchableMesh(Z);if(X.texture.uid!==Z._texture.uid)X._textureMatrixUpdateId=-1;return!X._batcher.checkAndUpdateTexture(X,Z._texture)}return!1}addRenderable(Z,J){let Q=this.renderer.renderPipes.batch,q=this._getMeshData(Z);if(Z.didViewUpdate)q.indexSize=Z._geometry.indices?.length,q.vertexSize=Z._geometry.positions?.length;if(q.batched){let K=this._getBatchableMesh(Z);K.setTexture(Z._texture),K.geometry=Z._geometry,Q.addToBatch(K,J)}else Q.break(J),J.add(Z)}updateRenderable(Z){if(Z.batched){let J=this._getBatchableMesh(Z);J.setTexture(Z._texture),J.geometry=Z._geometry,J._batcher.updateElement(J)}}execute(Z){if(!Z.isRenderable)return;Z.state.blendMode=Q7(Z.groupBlendMode,Z.texture._source);let J=this.localUniforms;J.uniforms.uTransformMatrix=Z.groupTransform,J.uniforms.uRound=this.renderer._roundPixels|Z._roundPixels,J.update(),V4(Z.groupColorAlpha,J.uniforms.uColor,0),this._adaptor.execute(this,Z)}_getMeshData(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new yB),Z._gpuData[this.renderer.uid].meshData||this._initMeshData(Z)}_initMeshData(Z){return Z._gpuData[this.renderer.uid].meshData={batched:Z.batched,indexSize:0,vertexSize:0},Z._gpuData[this.renderer.uid].meshData}_getBatchableMesh(Z){var J,Q;return(J=Z._gpuData)[Q=this.renderer.uid]||(J[Q]=new yB),Z._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(Z)}_initBatchableMesh(Z){let J=new hZ;return J.renderable=Z,J.setTexture(Z._texture),J.transform=Z.groupTransform,J.roundPixels=this.renderer._roundPixels|Z._roundPixels,Z._gpuData[this.renderer.uid].batchableMesh=J,J}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}var tb=j(()=>{g();S0();_9();f5();FK();pJ();lH();pH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"mesh"}});var hB=j(()=>{g();tb();J0.add(pH)});class xB{execute(Z,J){let{state:Q,renderer:q}=Z,K=J.shader||Z.defaultShader;K.resources.uTexture=J.texture._source,K.resources.uniforms=Z.localUniforms;let X=q.gl,z=Z.getBuffers(J);q.shader.bind(K),q.state.set(Q),q.geometry.bind(z.geometry,K.glProgram);let O=z.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?X.UNSIGNED_SHORT:X.UNSIGNED_INT;X.drawElements(X.TRIANGLES,J.particleChildren.length*6,O,0)}}var rb=()=>{};function gB(Z,J=null){let Q=Z*6;if(Q>65535)J||(J=new Uint32Array(Q));else J||(J=new Uint16Array(Q));if(J.length!==Q)throw Error(`Out buffer length is incorrect, got ${J.length} and expected ${Q}`);for(let q=0,K=0;q<Q;q+=6,K+=4)J[q+0]=K+0,J[q+1]=K+1,J[q+2]=K+2,J[q+3]=K+0,J[q+4]=K+2,J[q+5]=K+3;return J}var eb=()=>{};function Jk(Z){return{dynamicUpdate:Zk(Z,!0),staticUpdate:Zk(Z,!1)}}function Zk(Z,J){let Q=[];Q.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let q=0;for(let X in Z){let z=Z[X];if(J!==z.dynamic)continue;Q.push(`offset = index + ${q}`),Q.push(z.code);let Y=A8(z.format);q+=Y.stride/4}Q.push(`
            index += stride * 4;
        }
    `),Q.unshift(`
        var stride = ${q};
    `);let K=Q.join(`
`);return Function("ps","f32v","u32v",K)}var Qk=j(()=>{vZ()});class mB{constructor(Z){this._size=0,this._generateParticleUpdateCache={};let J=this._size=Z.size??1000,Q=Z.properties,q=0,K=0;for(let U in Q){let A=Q[U],B=A8(A.format);if(A.dynamic)K+=B.stride;else q+=B.stride}this._dynamicStride=K/4,this._staticStride=q/4,this.staticAttributeBuffer=new J7(J*4*q),this.dynamicAttributeBuffer=new J7(J*4*K),this.indexBuffer=gB(J);let X=new v6,z=0,Y=0;this._staticBuffer=new h1({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:j0.VERTEX|j0.COPY_DST}),this._dynamicBuffer=new h1({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:j0.VERTEX|j0.COPY_DST});for(let U in Q){let A=Q[U],B=A8(A.format);if(A.dynamic)X.addAttribute(A.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:z*4,format:A.format}),z+=B.size;else X.addAttribute(A.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:Y*4,format:A.format}),Y+=B.size}X.addIndex(this.indexBuffer);let O=this.getParticleUpdate(Q);this._dynamicUpload=O.dynamicUpdate,this._staticUpload=O.staticUpdate,this.geometry=X}getParticleUpdate(Z){let J=xi(Z);if(this._generateParticleUpdateCache[J])return this._generateParticleUpdateCache[J];return this._generateParticleUpdateCache[J]=this.generateParticleUpdate(Z),this._generateParticleUpdateCache[J]}generateParticleUpdate(Z){return Jk(Z)}update(Z,J){if(Z.length>this._size)J=!0,this._size=Math.max(Z.length,this._size*1.5|0),this.staticAttributeBuffer=new J7(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new J7(this._size*this._dynamicStride*4*4),this.indexBuffer=gB(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0);let Q=this.dynamicAttributeBuffer;if(this._dynamicUpload(Z,Q.float32View,Q.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,Z.length*this._dynamicStride*4,!0),J){let q=this.staticAttributeBuffer;this._staticUpload(Z,q.float32View,q.uint32View),this._staticBuffer.setDataWithSize(q.float32View,Z.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function xi(Z){let J=[];for(let Q in Z){let q=Z[Q];J.push(Q,q.code,q.dynamic?"d":"s")}return J.join("_")}var qk=j(()=>{M9();q7();PJ();vZ();XB();eb();Qk()});var Kk=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`;var Xk=()=>{};var Nk=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`;var zk=()=>{};var dB=`
struct ParticleUniforms {
  uTranslationMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uRound:f32,
  uResolution:vec2<f32>,
};

fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
{
  return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   var position = vec4((uniforms.uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

   if(uniforms.uRound == 1.0) {
       position = vec4(roundPixels(position.xy, uniforms.uResolution), position.zw);
   }

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;var Hk=()=>{};var cB;var Yk=j(()=>{v5();S0();X4();X7();f6();a0();CZ();Xk();zk();Hk();cB=class cB extends k1{constructor(){let Z=$5.from({vertex:Nk,fragment:Kk}),J=A5.from({fragment:{source:dB,entryPoint:"mainFragment"},vertex:{source:dB,entryPoint:"mainVertex"}});super({glProgram:Z,gpuProgram:J,resources:{uTexture:p.WHITE.source,uSampler:new U8({}),uniforms:{uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new F0(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}});class vK{constructor(Z,J){this.state=x1.for2d(),this.localUniforms=new n0({uTranslationMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=Z,this.adaptor=J,this.defaultShader=new cB,this.state=x1.for2d()}validateRenderable(Z){return!1}addRenderable(Z,J){this.renderer.renderPipes.batch.break(J),J.add(Z)}getBuffers(Z){return Z._gpuData[this.renderer.uid]||this._initBuffer(Z)}_initBuffer(Z){return Z._gpuData[this.renderer.uid]=new mB({size:Z.particleChildren.length,properties:Z._properties}),Z._gpuData[this.renderer.uid]}updateRenderable(Z){}execute(Z){let J=Z.particleChildren;if(J.length===0)return;let Q=this.renderer,q=this.getBuffers(Z);Z.texture||(Z.texture=J[0].texture);let K=this.state;q.update(J,Z._childrenDirty),Z._childrenDirty=!1,K.blendMode=Q7(Z.blendMode,Z.texture._source);let X=this.localUniforms.uniforms,z=X.uTranslationMatrix;Z.worldTransform.copyTo(z),z.prepend(Q.globalUniforms.globalUniformData.projectionMatrix),X.uResolution=Q.globalUniforms.globalUniformData.resolution,X.uRound=Q._roundPixels|Z._roundPixels,V4(Z.groupColorAlpha,X.uColor,0),this.adaptor.execute(this,Z)}destroy(){if(this.renderer=null,this.defaultShader)this.defaultShader.destroy(),this.defaultShader=null}}var uB=j(()=>{S0();f5();FK();y6();pJ();qk();Yk()});var iH;var Vk=j(()=>{g();rb();uB();iH=class iH extends vK{constructor(Z){super(Z,new xB)}};iH.extension={type:[I.WebGLPipes],name:"particle"}});class lB{execute(Z,J){let Q=Z.renderer,q=J.shader||Z.defaultShader;q.groups[0]=Q.renderPipes.uniformBatch.getUniformBindGroup(Z.localUniforms,!0),q.groups[1]=Q.texture.getTextureBindGroup(J.texture);let K=Z.state,X=Z.getBuffers(J);Q.encoder.draw({geometry:X.geometry,shader:J.shader||Z.defaultShader,state:K,size:J.particleChildren.length*6})}}var Ok=()=>{};var aH;var Uk=j(()=>{g();Ok();uB();aH=class aH extends vK{constructor(Z){super(Z,new lB)}};aH.extension={type:[I.WebGPUPipes],name:"particle"}});var pB=j(()=>{g();Vk();Uk();J0.add(iH);J0.add(aH)});function fK(Z,J){let{texture:Q,bounds:q}=Z,K=J._style._getFinalPadding();MH(q,J._anchor,Q);let X=J._anchor._x*K*2,z=J._anchor._y*K*2;q.minX-=K-X,q.minY-=K-z,q.maxX-=K-X,q.maxY-=K-z}var iB=j(()=>{tD()});class N7{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}var yK=()=>{};var aB;var $k=j(()=>{yK();aB=class aB extends N7{constructor(Z){super();this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{canvasText:Z}=this._renderer;if(Z.getReferenceCount(this.currentKey)>0)Z.decreaseReferenceCount(this.currentKey);else if(this.texture)Z.returnTexture(this.texture);this._renderer.runners.resolutionChange.remove(this),this._renderer=null}}});class sH{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return Z._didTextUpdate}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z);Z._didTextUpdate=!1,fK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}_updateGpuText(Z){let J=this._getGpuText(Z);if(J.texture)this._renderer.canvasText.decreaseReferenceCount(J.currentKey);Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,J.texture=this._renderer.canvasText.getManagedTexture(Z),J.currentKey=Z.styleKey}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new aB(this._renderer);return J.currentKey="--",J.renderable=Z,J.transform=Z.groupTransform,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var Ak=j(()=>{g();iB();$k();sH.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"text"}});class j9{constructor(Z,J){if(this.uid=M0("fillPattern"),this._tick=0,this.transform=new a,this.texture=Z,this.transform.scale(1/Z.frame.width,1/Z.frame.height),J)Z.source.style.addressModeU=Dk[J].addressModeU,Z.source.style.addressModeV=Dk[J].addressModeV}setTransform(Z){let J=this.texture;this.transform.copyFrom(Z),this.transform.invert(),this.transform.scale(1/J.frame.width,1/J.frame.height),this._tick++}get texture(){return this._texture}set texture(Z){if(this._texture===Z)return;this._texture=Z,this._tick++}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Dk;var nH=j(()=>{S0();J5();Dk={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}});var _k=cQ((i70,Bk)=>{Bk.exports=mi;var sB={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},gi=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function mi(Z){var J=[];return Z.replace(gi,function(Q,q,K){var X=q.toLowerCase();if(K=ci(K),X=="m"&&K.length>2)J.push([q].concat(K.splice(0,2))),X="l",q=q=="m"?"l":"L";while(!0){if(K.length==sB[X])return K.unshift(q),J.push(K);if(K.length<sB[X])throw Error("malformed path data");J.push([q].concat(K.splice(0,sB[X])))}}),J}var di=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function ci(Z){var J=Z.match(di);return J?J.map(Number):[]}});function Wk(Z,J){let Q=Mk.default(Z),q=[],K=null,X=0,z=0;for(let Y=0;Y<Q.length;Y++){let O=Q[Y],U=O[0],A=O;switch(U){case"M":X=A[1],z=A[2],J.moveTo(X,z);break;case"m":X+=A[1],z+=A[2],J.moveTo(X,z);break;case"H":X=A[1],J.lineTo(X,z);break;case"h":X+=A[1],J.lineTo(X,z);break;case"V":z=A[1],J.lineTo(X,z);break;case"v":z+=A[1],J.lineTo(X,z);break;case"L":X=A[1],z=A[2],J.lineTo(X,z);break;case"l":X+=A[1],z+=A[2],J.lineTo(X,z);break;case"C":X=A[5],z=A[6],J.bezierCurveTo(A[1],A[2],A[3],A[4],X,z);break;case"c":J.bezierCurveTo(X+A[1],z+A[2],X+A[3],z+A[4],X+A[5],z+A[6]),X+=A[5],z+=A[6];break;case"S":X=A[3],z=A[4],J.bezierCurveToShort(A[1],A[2],X,z);break;case"s":J.bezierCurveToShort(X+A[1],z+A[2],X+A[3],z+A[4]),X+=A[3],z+=A[4];break;case"Q":X=A[3],z=A[4],J.quadraticCurveTo(A[1],A[2],X,z);break;case"q":J.quadraticCurveTo(X+A[1],z+A[2],X+A[3],z+A[4]),X+=A[3],z+=A[4];break;case"T":X=A[1],z=A[2],J.quadraticCurveToShort(X,z);break;case"t":X+=A[1],z+=A[2],J.quadraticCurveToShort(X,z);break;case"A":X=A[6],z=A[7],J.arcToSvg(A[1],A[2],A[3],A[4],A[5],X,z);break;case"a":X+=A[6],z+=A[7],J.arcToSvg(A[1],A[2],A[3],A[4],A[5],X,z);break;case"Z":case"z":if(J.closePath(),q.length>0)if(K=q.pop(),K)X=K.startX,z=K.startY;else X=0,z=0;K=null;break;default:Z0(`Unknown SVG path command: ${U}`)}if(U!=="Z"&&U!=="z"){if(K===null)K={startX:X,startY:z},q.push(K)}}return J}var Mk;var Gk=j(()=>{i0();Mk=dQ(_k(),1)});class oH{constructor(Z=0,J=0,Q=0){this.type="circle",this.x=Z,this.y=J,this.radius=Q}clone(){return new oH(this.x,this.y,this.radius)}contains(Z,J){if(this.radius<=0)return!1;let Q=this.radius*this.radius,q=this.x-Z,K=this.y-J;return q*=q,K*=K,q+K<=Q}strokeContains(Z,J,Q,q=0.5){if(this.radius===0)return!1;let K=this.x-Z,X=this.y-J,z=this.radius,Y=(1-q)*Q,O=Math.sqrt(K*K+X*X);return O<=z+Y&&O>z-(Q-Y)}getBounds(Z){return Z||(Z=new $0),Z.x=this.x-this.radius,Z.y=this.y-this.radius,Z.width=this.radius*2,Z.height=this.radius*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.radius=Z.radius,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}var Fk=j(()=>{Q5()});class tH{constructor(Z=0,J=0,Q=0,q=0){this.type="ellipse",this.x=Z,this.y=J,this.halfWidth=Q,this.halfHeight=q}clone(){return new tH(this.x,this.y,this.halfWidth,this.halfHeight)}contains(Z,J){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let Q=(Z-this.x)/this.halfWidth,q=(J-this.y)/this.halfHeight;return Q*=Q,q*=q,Q+q<=1}strokeContains(Z,J,Q,q=0.5){let{halfWidth:K,halfHeight:X}=this;if(K<=0||X<=0)return!1;let z=Q*(1-q),Y=Q-z,O=K-Y,U=X-Y,A=K+z,B=X+z,_=Z-this.x,W=J-this.y,F=_*_/(O*O)+W*W/(U*U),C=_*_/(A*A)+W*W/(B*B);return F>1&&C<=1}getBounds(Z){return Z||(Z=new $0),Z.x=this.x-this.halfWidth,Z.y=this.y-this.halfHeight,Z.width=this.halfWidth*2,Z.height=this.halfHeight*2,Z}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.halfWidth=Z.halfWidth,this.halfHeight=Z.halfHeight,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}var jk=j(()=>{Q5()});function wk(Z,J,Q,q,K,X){let z=Z-Q,Y=J-q,O=K-Q,U=X-q,A=z*O+Y*U,B=O*O+U*U,_=-1;if(B!==0)_=A/B;let W,F;if(_<0)W=Q,F=q;else if(_>1)W=K,F=X;else W=Q+_*O,F=q+_*U;let C=Z-W,L=J-F;return C*C+L*L}var Ck=()=>{};class iJ{constructor(...Z){this.type="polygon";let J=Array.isArray(Z[0])?Z[0]:Z;if(typeof J[0]!=="number"){let Q=[];for(let q=0,K=J.length;q<K;q++)Q.push(J[q].x,J[q].y);J=Q}this.points=J,this.closePath=!0}isClockwise(){let Z=0,J=this.points,Q=J.length;for(let q=0;q<Q;q+=2){let K=J[q],X=J[q+1],z=J[(q+2)%Q],Y=J[(q+3)%Q];Z+=(z-K)*(Y+X)}return Z<0}containsPolygon(Z){let J=this.getBounds(ui),Q=Z.getBounds(li);if(!J.containsRect(Q))return!1;let q=Z.points;for(let K=0;K<q.length;K+=2){let X=q[K],z=q[K+1];if(!this.contains(X,z))return!1}return!0}clone(){let Z=this.points.slice(),J=new iJ(Z);return J.closePath=this.closePath,J}contains(Z,J){let Q=!1,q=this.points.length/2;for(let K=0,X=q-1;K<q;X=K++){let z=this.points[K*2],Y=this.points[K*2+1],O=this.points[X*2],U=this.points[X*2+1];if(Y>J!==U>J&&Z<(O-z)*((J-Y)/(U-Y))+z)Q=!Q}return Q}strokeContains(Z,J,Q,q=0.5){let K=Q*Q,X=K*(1-q),z=K-X,{points:Y}=this,O=Y.length-(this.closePath?0:2);for(let U=0;U<O;U+=2){let A=Y[U],B=Y[U+1],_=Y[(U+2)%Y.length],W=Y[(U+3)%Y.length],F=wk(Z,J,A,B,_,W),C=Math.sign((_-A)*(J-B)-(W-B)*(Z-A));if(F<=(C<0?z:X))return!0}return!1}getBounds(Z){Z||(Z=new $0);let J=this.points,Q=1/0,q=-1/0,K=1/0,X=-1/0;for(let z=0,Y=J.length;z<Y;z+=2){let O=J[z],U=J[z+1];Q=O<Q?O:Q,q=O>q?O:q,K=U<K?U:K,X=U>X?U:X}return Z.x=Q,Z.width=q-Q,Z.y=K,Z.height=X-K,Z}copyFrom(Z){return this.points=Z.points.slice(),this.closePath=Z.closePath,this}copyTo(Z){return Z.copyFrom(this),Z}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((Z,J)=>`${Z}, ${J}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return q0("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return q0("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}var ui,li;var Lk=j(()=>{M1();Ck();Q5()});class eH{constructor(Z=0,J=0,Q=0,q=0,K=20){this.type="roundedRectangle",this.x=Z,this.y=J,this.width=Q,this.height=q,this.radius=K}getBounds(Z){return Z||(Z=new $0),Z.x=this.x,Z.y=this.y,Z.width=this.width,Z.height=this.height,Z}clone(){return new eH(this.x,this.y,this.width,this.height,this.radius)}copyFrom(Z){return this.x=Z.x,this.y=Z.y,this.width=Z.width,this.height=Z.height,this}copyTo(Z){return Z.copyFrom(this),Z}contains(Z,J){if(this.width<=0||this.height<=0)return!1;if(Z>=this.x&&Z<=this.x+this.width){if(J>=this.y&&J<=this.y+this.height){let Q=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(J>=this.y+Q&&J<=this.y+this.height-Q||Z>=this.x+Q&&Z<=this.x+this.width-Q)return!0;let q=Z-(this.x+Q),K=J-(this.y+Q),X=Q*Q;if(q*q+K*K<=X)return!0;if(q=Z-(this.x+this.width-Q),q*q+K*K<=X)return!0;if(K=J-(this.y+this.height-Q),q*q+K*K<=X)return!0;if(q=Z-(this.x+Q),q*q+K*K<=X)return!0}}return!1}strokeContains(Z,J,Q,q=0.5){let{x:K,y:X,width:z,height:Y,radius:O}=this,U=Q*(1-q),A=Q-U,B=K+O,_=X+O,W=z-O*2,F=Y-O*2,C=K+z,L=X+Y;if((Z>=K-U&&Z<=K+A||Z>=C-A&&Z<=C+U)&&J>=_&&J<=_+F)return!0;if((J>=X-U&&J<=X+A||J>=L-A&&J<=L+U)&&Z>=B&&Z<=B+W)return!0;return Z<B&&J<_&&rH(Z,J,B,_,O,A,U)||Z>C-O&&J<_&&rH(Z,J,C-O,_,O,A,U)||Z>C-O&&J>L-O&&rH(Z,J,C-O,L-O,O,A,U)||Z<B&&J>L-O&&rH(Z,J,B,L-O,O,A,U)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var rH=(Z,J,Q,q,K,X,z)=>{let Y=Z-Q,O=J-q,U=Math.sqrt(Y*Y+O*O);return U>=K-X&&U<=K+z};var Rk=j(()=>{Q5()});function JY(Z,J,Q,q,K,X,z,Y,O,U){let B=Math.min(0.99,Math.max(0,U??lJ.defaultOptions.bezierSmoothness)),_=(ii-B)/1;return _*=_,ai(J,Q,q,K,X,z,Y,O,Z,_),Z}function ai(Z,J,Q,q,K,X,z,Y,O,U){oB(Z,J,Q,q,K,X,z,Y,O,U,0),O.push(z,Y)}function oB(Z,J,Q,q,K,X,z,Y,O,U,A){if(A>pi)return;let B=Math.PI,_=(Z+Q)/2,W=(J+q)/2,F=(Q+K)/2,C=(q+X)/2,L=(K+z)/2,G=(X+Y)/2,w=(_+F)/2,R=(W+C)/2,T=(F+L)/2,h=(C+G)/2,v=(w+T)/2,b=(R+h)/2;if(A>0){let m=z-Z,u=Y-J,c=Math.abs((Q-z)*u-(q-Y)*m),o=Math.abs((K-z)*u-(X-Y)*m),z0,D0;if(c>ZY&&o>ZY){if((c+o)*(c+o)<=U*(m*m+u*u)){if(aJ<nB){O.push(v,b);return}let g0=Math.atan2(X-q,K-Q);if(z0=Math.abs(g0-Math.atan2(q-J,Q-Z)),D0=Math.abs(Math.atan2(Y-X,z-K)-g0),z0>=B)z0=2*B-z0;if(D0>=B)D0=2*B-D0;if(z0+D0<aJ){O.push(v,b);return}if(xZ!==0){if(z0>xZ){O.push(Q,q);return}if(D0>xZ){O.push(K,X);return}}}}else if(c>ZY){if(c*c<=U*(m*m+u*u)){if(aJ<nB){O.push(v,b);return}if(z0=Math.abs(Math.atan2(X-q,K-Q)-Math.atan2(q-J,Q-Z)),z0>=B)z0=2*B-z0;if(z0<aJ){O.push(Q,q),O.push(K,X);return}if(xZ!==0){if(z0>xZ){O.push(Q,q);return}}}}else if(o>ZY){if(o*o<=U*(m*m+u*u)){if(aJ<nB){O.push(v,b);return}if(z0=Math.abs(Math.atan2(Y-X,z-K)-Math.atan2(X-q,K-Q)),z0>=B)z0=2*B-z0;if(z0<aJ){O.push(Q,q),O.push(K,X);return}if(xZ!==0){if(z0>xZ){O.push(K,X);return}}}}else if(m=v-(Z+z)/2,u=b-(J+Y)/2,m*m+u*u<=U){O.push(v,b);return}}oB(Z,J,_,W,w,R,v,b,O,U,A+1),oB(v,b,T,h,L,G,z,Y,O,U,A+1)}var pi=8,ZY=0.00000011920929,ii=1,nB=0.01,aJ=0,xZ=0;var tB=j(()=>{cH()});function Ik(Z,J,Q,q,K,X,z,Y){let U=Math.min(0.99,Math.max(0,Y??lJ.defaultOptions.bezierSmoothness)),A=(oi-U)/1;return A*=A,ri(J,Q,q,K,X,z,Z,A),Z}function ri(Z,J,Q,q,K,X,z,Y){rB(z,Z,J,Q,q,K,X,Y,0),z.push(K,X)}function rB(Z,J,Q,q,K,X,z,Y,O){if(O>si)return;let U=Math.PI,A=(J+q)/2,B=(Q+K)/2,_=(q+X)/2,W=(K+z)/2,F=(A+_)/2,C=(B+W)/2,L=X-J,G=z-Q,w=Math.abs((q-X)*G-(K-z)*L);if(w>ni){if(w*w<=Y*(L*L+G*G)){if(Ek<ti){Z.push(F,C);return}let R=Math.abs(Math.atan2(z-K,X-q)-Math.atan2(K-Q,q-J));if(R>=U)R=2*U-R;if(R<Ek){Z.push(F,C);return}}}else if(L=F-(J+X)/2,G=C-(Q+z)/2,L*L+G*G<=Y){Z.push(F,C);return}rB(Z,J,Q,A,B,F,C,Y,O+1),rB(Z,F,C,_,W,X,z,Y,O+1)}var si=8,ni=0.00000011920929,oi=1,ti=0.01,Ek=0;var Tk=j(()=>{cH()});function QY(Z,J,Q,q,K,X,z,Y){let O=Math.abs(K-X);if(!z&&K>X)O=2*Math.PI-O;else if(z&&X>K)O=2*Math.PI-O;Y||(Y=Math.max(6,Math.floor(6*Math.pow(q,0.3333333333333333)*(O/Math.PI)))),Y=Math.max(Y,3);let U=O/Y,A=K;U*=z?-1:1;for(let B=0;B<Y+1;B++){let _=Math.cos(A),W=Math.sin(A),F=J+_*q,C=Q+W*q;Z.push(F,C),A+=U}}var eB=()=>{};function Sk(Z,J,Q,q,K,X){let z=Z[Z.length-2],O=Z[Z.length-1]-Q,U=z-J,A=K-Q,B=q-J,_=Math.abs(O*B-U*A);if(_<0.00000001||X===0){if(Z[Z.length-2]!==J||Z[Z.length-1]!==Q)Z.push(J,Q);return}let W=O*O+U*U,F=A*A+B*B,C=O*A+U*B,L=X*Math.sqrt(W)/_,G=X*Math.sqrt(F)/_,w=L*C/W,R=G*C/F,T=L*B+G*U,h=L*A+G*O,v=U*(G+w),b=O*(G+w),m=B*(L+R),u=A*(L+R),c=Math.atan2(b-h,v-T),o=Math.atan2(u-h,m-T);QY(Z,T+J,h+Q,X,c,o,U*A>B*O)}var bk=j(()=>{eB()});function ei(Z,J){let Q=J===-1.5707963267948966?-0.551915024494:1.3333333333333333*Math.tan(J/4),q=J===1.5707963267948966?0.551915024494:Q,K=Math.cos(Z),X=Math.sin(Z),z=Math.cos(Z+J),Y=Math.sin(Z+J);return[{x:K-X*q,y:X+K*q},{x:z+Y*q,y:Y-z*q},{x:z,y:Y}]}function Pk(Z,J,Q,q,K,X,z,Y=0,O=0,U=0){if(X===0||z===0)return;let A=Math.sin(Y*hK/360),B=Math.cos(Y*hK/360),_=B*(J-q)/2+A*(Q-K)/2,W=-A*(J-q)/2+B*(Q-K)/2;if(_===0&&W===0)return;X=Math.abs(X),z=Math.abs(z);let F=Math.pow(_,2)/Math.pow(X,2)+Math.pow(W,2)/Math.pow(z,2);if(F>1)X*=Math.sqrt(F),z*=Math.sqrt(F);Za(J,Q,q,K,X,z,O,U,A,B,_,W,Z_);let{ang1:C,ang2:L}=Z_,{centerX:G,centerY:w}=Z_,R=Math.abs(L)/(hK/4);if(Math.abs(1-R)<0.0000001)R=1;let T=Math.max(Math.ceil(R),1);L/=T;let h=Z[Z.length-2],v=Z[Z.length-1],b={x:0,y:0};for(let m=0;m<T;m++){let u=ei(C,L),{x:c,y:o}=J_(u[0],X,z,B,A,G,w,b),{x:z0,y:D0}=J_(u[1],X,z,B,A,G,w,b),{x:g0,y:_0}=J_(u[2],X,z,B,A,G,w,b);JY(Z,h,v,c,o,z0,D0,g0,_0),h=g0,v=_0,C+=L}}var hK,Z_,J_=({x:Z,y:J},Q,q,K,X,z,Y,O)=>{Z*=Q,J*=q;let U=K*Z-X*J,A=X*Z+K*J;return O.x=U+z,O.y=A+Y,O},kk=(Z,J,Q,q)=>{let K=Z*q-J*Q<0?-1:1,X=Z*Q+J*q;if(X>1)X=1;if(X<-1)X=-1;return K*Math.acos(X)},Za=(Z,J,Q,q,K,X,z,Y,O,U,A,B,_)=>{let W=Math.pow(K,2),F=Math.pow(X,2),C=Math.pow(A,2),L=Math.pow(B,2),G=W*F-W*L-F*C;if(G<0)G=0;G/=W*L+F*C,G=Math.sqrt(G)*(z===Y?-1:1);let w=G*K/X*B,R=G*-X/K*A,T=U*w-O*R+(Z+Q)/2,h=O*w+U*R+(J+q)/2,v=(A-w)/K,b=(B-R)/X,m=(-A-w)/K,u=(-B-R)/X,c=kk(1,0,v,b),o=kk(v,b,m,u);if(Y===0&&o>0)o-=hK;if(Y===1&&o<0)o+=hK;_.centerX=T,_.centerY=h,_.ang1=c,_.ang2=o};var vk=j(()=>{tB();hK=Math.PI*2,Z_={centerX:0,centerY:0,ang1:0,ang2:0}});function fk(Z,J,Q){let q=(z,Y)=>{let O=Y.x-z.x,U=Y.y-z.y,A=Math.sqrt(O*O+U*U),B=O/A,_=U/A;return{len:A,nx:B,ny:_}},K=(z,Y)=>{if(z===0)Z.moveTo(Y.x,Y.y);else Z.lineTo(Y.x,Y.y)},X=J[J.length-1];for(let z=0;z<J.length;z++){let Y=J[z%J.length],O=Y.radius??Q;if(O<=0){K(z,Y),X=Y;continue}let U=J[(z+1)%J.length],A=q(Y,X),B=q(Y,U);if(A.len<0.0001||B.len<0.0001){K(z,Y),X=Y;continue}let _=Math.asin(A.nx*B.ny-A.ny*B.nx),W=1,F=!1;if(A.nx*B.nx-A.ny*-B.ny<0)if(_<0)_=Math.PI+_;else _=Math.PI-_,W=-1,F=!0;else if(_>0)W=-1,F=!0;let C=_/2,L,G=Math.abs(Math.cos(C)*O/Math.sin(C));if(G>Math.min(A.len/2,B.len/2))G=Math.min(A.len/2,B.len/2),L=Math.abs(G*Math.sin(C)/Math.cos(C));else L=O;let w=Y.x+B.nx*G+-B.ny*L*W,R=Y.y+B.ny*G+B.nx*L*W,T=Math.atan2(A.ny,A.nx)+Math.PI/2*W,h=Math.atan2(B.ny,B.nx)-Math.PI/2*W;if(z===0)Z.moveTo(w+Math.cos(T)*L,R+Math.sin(T)*L);Z.arc(w,R,L,T,h,F),X=Y}}function yk(Z,J,Q,q){let K=(Y,O)=>Math.sqrt((Y.x-O.x)**2+(Y.y-O.y)**2),X=(Y,O,U)=>({x:Y.x+(O.x-Y.x)*U,y:Y.y+(O.y-Y.y)*U}),z=J.length;for(let Y=0;Y<z;Y++){let O=J[(Y+1)%z],U=O.radius??Q;if(U<=0){if(Y===0)Z.moveTo(O.x,O.y);else Z.lineTo(O.x,O.y);continue}let A=J[Y],B=J[(Y+2)%z],_=K(A,O),W;if(_<0.0001)W=O;else{let L=Math.min(_/2,U);W=X(O,A,L/_)}let F=K(B,O),C;if(F<0.0001)C=O;else{let L=Math.min(F/2,U);C=X(O,B,L/F)}if(Y===0)Z.moveTo(W.x,W.y);else Z.lineTo(W.x,W.y);Z.quadraticCurveTo(O.x,O.y,C.x,C.y,q)}}var hk=()=>{};class Q_{constructor(Z){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new q1,this._graphicsPath2D=Z,this.signed=Z.checkForHoles}moveTo(Z,J){return this.startPoly(Z,J),this}lineTo(Z,J){this._ensurePoly();let Q=this._currentPoly.points,q=Q[Q.length-2],K=Q[Q.length-1];if(q!==Z||K!==J)Q.push(Z,J);return this}arc(Z,J,Q,q,K,X){this._ensurePoly(!1);let z=this._currentPoly.points;return QY(z,Z,J,Q,q,K,X),this}arcTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly.points;return Sk(X,Z,J,Q,q,K),this}arcToSvg(Z,J,Q,q,K,X,z){let Y=this._currentPoly.points;return Pk(Y,this._currentPoly.lastX,this._currentPoly.lastY,X,z,Z,J,Q,q,K),this}bezierCurveTo(Z,J,Q,q,K,X,z){this._ensurePoly();let Y=this._currentPoly;return JY(this._currentPoly.points,Y.lastX,Y.lastY,Z,J,Q,q,K,X,z),this}quadraticCurveTo(Z,J,Q,q,K){this._ensurePoly();let X=this._currentPoly;return Ik(this._currentPoly.points,X.lastX,X.lastY,Z,J,Q,q,K),this}closePath(){return this.endPoly(!0),this}addPath(Z,J){if(this.endPoly(),J&&!J.isIdentity())Z=Z.clone(!0),Z.transform(J);let Q=this.shapePrimitives,q=Q.length;for(let K=0;K<Z.instructions.length;K++){let X=Z.instructions[K];this[X.action](...X.data)}if(Z.checkForHoles&&Q.length-q>1){let K=null;for(let X=q;X<Q.length;X++){let z=Q[X];if(z.shape.type==="polygon"){let Y=z.shape,O=K?.shape;if(O&&O.containsPolygon(Y))K.holes||(K.holes=[]),K.holes.push(z),Q.copyWithin(X,X+1),Q.length--,X--;else K=z}}}return this}finish(Z=!1){this.endPoly(Z)}rect(Z,J,Q,q,K){return this.drawShape(new $0(Z,J,Q,q),K),this}circle(Z,J,Q,q){return this.drawShape(new oH(Z,J,Q),q),this}poly(Z,J,Q){let q=new iJ(Z);return q.closePath=J,this.drawShape(q,Q),this}regularPoly(Z,J,Q,q,K=0,X){q=Math.max(q|0,3);let z=-1*Math.PI/2+K,Y=Math.PI*2/q,O=[];for(let U=0;U<q;U++){let A=z-U*Y;O.push(Z+Q*Math.cos(A),J+Q*Math.sin(A))}return this.poly(O,!0,X),this}roundPoly(Z,J,Q,q,K,X=0,z){if(q=Math.max(q|0,3),K<=0)return this.regularPoly(Z,J,Q,q,X);let Y=Q*Math.sin(Math.PI/q)-0.001;K=Math.min(K,Y);let O=-1*Math.PI/2+X,U=Math.PI*2/q,A=(q-2)*Math.PI/q/2;for(let B=0;B<q;B++){let _=B*U+O,W=Z+Q*Math.cos(_),F=J+Q*Math.sin(_),C=_+Math.PI+A,L=_-Math.PI-A,G=W+K*Math.cos(C),w=F+K*Math.sin(C),R=W+K*Math.cos(L),T=F+K*Math.sin(L);if(B===0)this.moveTo(G,w);else this.lineTo(G,w);this.quadraticCurveTo(W,F,R,T,z)}return this.closePath()}roundShape(Z,J,Q=!1,q){if(Z.length<3)return this;if(Q)yk(this,Z,J,q);else fk(this,Z,J);return this.closePath()}filletRect(Z,J,Q,q,K){if(K===0)return this.rect(Z,J,Q,q);let X=Math.min(Q,q)/2,z=Math.min(X,Math.max(-X,K)),Y=Z+Q,O=J+q,U=z<0?-z:0,A=Math.abs(z);return this.moveTo(Z,J+A).arcTo(Z+U,J+U,Z+A,J,A).lineTo(Y-A,J).arcTo(Y-U,J+U,Y,J+A,A).lineTo(Y,O-A).arcTo(Y-U,O-U,Z+Q-A,O,A).lineTo(Z+A,O).arcTo(Z+U,O-U,Z,O-A,A).closePath()}chamferRect(Z,J,Q,q,K,X){if(K<=0)return this.rect(Z,J,Q,q);let z=Math.min(K,Math.min(Q,q)/2),Y=Z+Q,O=J+q,U=[Z+z,J,Y-z,J,Y,J+z,Y,O-z,Y-z,O,Z+z,O,Z,O-z,Z,J+z];for(let A=U.length-1;A>=2;A-=2)if(U[A]===U[A-2]&&U[A-1]===U[A-3])U.splice(A-1,2);return this.poly(U,!0,X)}ellipse(Z,J,Q,q,K){return this.drawShape(new tH(Z,J,Q,q),K),this}roundRect(Z,J,Q,q,K,X){return this.drawShape(new eH(Z,J,Q,q,K),X),this}drawShape(Z,J){return this.endPoly(),this.shapePrimitives.push({shape:Z,transform:J}),this}startPoly(Z,J){let Q=this._currentPoly;if(Q)this.endPoly();return Q=new iJ,Q.points.push(Z,J),this._currentPoly=Q,this}endPoly(Z=!1){let J=this._currentPoly;if(J&&J.points.length>2)J.closePath=Z,this.shapePrimitives.push({shape:J});return this._currentPoly=null,this}_ensurePoly(Z=!0){if(this._currentPoly)return;if(this._currentPoly=new iJ,Z){let J=this.shapePrimitives[this.shapePrimitives.length-1];if(J){let Q=J.shape.x,q=J.shape.y;if(J.transform&&!J.transform.isIdentity()){let K=J.transform,X=Q;Q=K.a*Q+K.c*q+K.tx,q=K.b*X+K.d*q+K.ty}this._currentPoly.points.push(Q,q)}else this._currentPoly.points.push(0,0)}}buildPath(){let Z=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let J=0;J<Z.instructions.length;J++){let Q=Z.instructions[J];this[Q.action](...Q.data)}this.finish()}get bounds(){let Z=this._bounds;Z.clear();let J=this.shapePrimitives;for(let Q=0;Q<J.length;Q++){let q=J[Q],K=q.shape.getBounds(Ja);if(q.transform)Z.addRect(K,q.transform);else Z.addRect(K)}return Z}}var Ja;var xk=j(()=>{Fk();jk();Lk();Q5();Rk();O8();tB();Tk();eB();bk();vk();hk();Ja=new $0});class A6{constructor(Z,J=!1){if(this.instructions=[],this.uid=M0("graphicsPath"),this._dirty=!0,this.checkForHoles=J,typeof Z==="string")Wk(Z,this);else this.instructions=Z?.slice()??[]}get shapePath(){if(!this._shapePath)this._shapePath=new Q_(this);if(this._dirty)this._dirty=!1,this._shapePath.buildPath();return this._shapePath}addPath(Z,J){return Z=Z.clone(),this.instructions.push({action:"addPath",data:[Z,J]}),this._dirty=!0,this}arc(...Z){return this.instructions.push({action:"arc",data:Z}),this._dirty=!0,this}arcTo(...Z){return this.instructions.push({action:"arcTo",data:Z}),this._dirty=!0,this}arcToSvg(...Z){return this.instructions.push({action:"arcToSvg",data:Z}),this._dirty=!0,this}bezierCurveTo(...Z){return this.instructions.push({action:"bezierCurveTo",data:Z}),this._dirty=!0,this}bezierCurveToShort(Z,J,Q,q,K){let X=this.instructions[this.instructions.length-1],z=this.getLastPoint(P0.shared),Y=0,O=0;if(!X||X.action!=="bezierCurveTo")Y=z.x,O=z.y;else{Y=X.data[2],O=X.data[3];let{x:U,y:A}=z;Y=U+(U-Y),O=A+(A-O)}return this.instructions.push({action:"bezierCurveTo",data:[Y,O,Z,J,Q,q,K]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...Z){return this.instructions.push({action:"ellipse",data:Z}),this._dirty=!0,this}lineTo(...Z){return this.instructions.push({action:"lineTo",data:Z}),this._dirty=!0,this}moveTo(...Z){return this.instructions.push({action:"moveTo",data:Z}),this}quadraticCurveTo(...Z){return this.instructions.push({action:"quadraticCurveTo",data:Z}),this._dirty=!0,this}quadraticCurveToShort(Z,J,Q){let q=this.instructions[this.instructions.length-1],K=this.getLastPoint(P0.shared),X=0,z=0;if(!q||q.action!=="quadraticCurveTo")X=K.x,z=K.y;else{X=q.data[0],z=q.data[1];let{x:Y,y:O}=K;X=Y+(Y-X),z=O+(O-z)}return this.instructions.push({action:"quadraticCurveTo",data:[X,z,Z,J,Q]}),this._dirty=!0,this}rect(Z,J,Q,q,K){return this.instructions.push({action:"rect",data:[Z,J,Q,q,K]}),this._dirty=!0,this}circle(Z,J,Q,q){return this.instructions.push({action:"circle",data:[Z,J,Q,q]}),this._dirty=!0,this}roundRect(...Z){return this.instructions.push({action:"roundRect",data:Z}),this._dirty=!0,this}poly(...Z){return this.instructions.push({action:"poly",data:Z}),this._dirty=!0,this}regularPoly(...Z){return this.instructions.push({action:"regularPoly",data:Z}),this._dirty=!0,this}roundPoly(...Z){return this.instructions.push({action:"roundPoly",data:Z}),this._dirty=!0,this}roundShape(...Z){return this.instructions.push({action:"roundShape",data:Z}),this._dirty=!0,this}filletRect(...Z){return this.instructions.push({action:"filletRect",data:Z}),this._dirty=!0,this}chamferRect(...Z){return this.instructions.push({action:"chamferRect",data:Z}),this._dirty=!0,this}star(Z,J,Q,q,K,X,z){K||(K=q/2);let Y=-1*Math.PI/2+X,O=Q*2,U=Math.PI*2/O,A=[];for(let B=0;B<O;B++){let _=B%2?K:q,W=B*U+Y;A.push(Z+_*Math.cos(W),J+_*Math.sin(W))}return this.poly(A,!0,z),this}clone(Z=!1){let J=new A6;if(J.checkForHoles=this.checkForHoles,!Z)J.instructions=this.instructions.slice();else for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q];J.instructions.push({action:q.action,data:q.data.slice()})}return J}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(Z){if(Z.isIdentity())return this;let{a:J,b:Q,c:q,d:K,tx:X,ty:z}=Z,Y=0,O=0,U=0,A=0,B=0,_=0,W=0,F=0;for(let C=0;C<this.instructions.length;C++){let L=this.instructions[C],G=L.data;switch(L.action){case"moveTo":case"lineTo":Y=G[0],O=G[1],G[0]=J*Y+q*O+X,G[1]=Q*Y+K*O+z;break;case"bezierCurveTo":U=G[0],A=G[1],B=G[2],_=G[3],Y=G[4],O=G[5],G[0]=J*U+q*A+X,G[1]=Q*U+K*A+z,G[2]=J*B+q*_+X,G[3]=Q*B+K*_+z,G[4]=J*Y+q*O+X,G[5]=Q*Y+K*O+z;break;case"quadraticCurveTo":U=G[0],A=G[1],Y=G[2],O=G[3],G[0]=J*U+q*A+X,G[1]=Q*U+K*A+z,G[2]=J*Y+q*O+X,G[3]=Q*Y+K*O+z;break;case"arcToSvg":Y=G[5],O=G[6],W=G[0],F=G[1],G[0]=J*W+q*F,G[1]=Q*W+K*F,G[5]=J*Y+q*O+X,G[6]=Q*Y+K*O+z;break;case"circle":G[4]=xK(G[3],Z);break;case"rect":G[4]=xK(G[4],Z);break;case"ellipse":G[8]=xK(G[8],Z);break;case"roundRect":G[5]=xK(G[5],Z);break;case"addPath":G[0].transform(Z);break;case"poly":G[2]=xK(G[2],Z);break;default:Z0("unknown transform action",L.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(Z){let J=this.instructions.length-1,Q=this.instructions[J];if(!Q)return Z.x=0,Z.y=0,Z;while(Q.action==="closePath"){if(J--,J<0)return Z.x=0,Z.y=0,Z;Q=this.instructions[J]}switch(Q.action){case"moveTo":case"lineTo":Z.x=Q.data[0],Z.y=Q.data[1];break;case"quadraticCurveTo":Z.x=Q.data[2],Z.y=Q.data[3];break;case"bezierCurveTo":Z.x=Q.data[4],Z.y=Q.data[5];break;case"arc":case"arcToSvg":Z.x=Q.data[5],Z.y=Q.data[6];break;case"addPath":Q.data[0].getLastPoint(Z);break}return Z}}function xK(Z,J){if(Z)return Z.prepend(J);return J.clone()}var qY=j(()=>{T6();J5();i0();Gk();xk()});function j1(Z,J,Q){let q=Z.getAttribute(J);return q?Number(q):Q}var q_=()=>{};function gk(Z,J){let Q=Z.querySelectorAll("defs");for(let q=0;q<Q.length;q++){let K=Q[q];for(let X=0;X<K.children.length;X++){let z=K.children[X];switch(z.nodeName.toLowerCase()){case"lineargradient":J.defs[z.id]=Qa(z);break;case"radialgradient":J.defs[z.id]=qa(z);break;default:break}}}}function Qa(Z){let J=j1(Z,"x1",0),Q=j1(Z,"y1",0),q=j1(Z,"x2",1),K=j1(Z,"y2",0),X=Z.getAttribute("gradientUnits")||"objectBoundingBox",z=new D8(J,Q,q,K,X==="objectBoundingBox"?"local":"global");for(let Y=0;Y<Z.children.length;Y++){let O=Z.children[Y],U=j1(O,"offset",0),A=F0.shared.setValue(O.getAttribute("stop-color")).toNumber();z.addColorStop(U,A)}return z}function qa(Z){return Z0("[SVG Parser] Radial gradients are not yet supported"),new D8(0,0,1,0)}var mk=j(()=>{v5();i0();uJ();q_()});function K_(Z){let J=Z.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return J?J[1]:""}var dk=()=>{};function X_(Z,J){let Q=Z.getAttribute("style"),q={},K={},X={strokeStyle:q,fillStyle:K,useFill:!1,useStroke:!1};for(let z in ck){let Y=Z.getAttribute(z);if(Y)uk(J,X,z,Y.trim())}if(Q){let z=Q.split(";");for(let Y=0;Y<z.length;Y++){let O=z[Y].trim(),[U,A]=O.split(":");if(ck[U])uk(J,X,U,A.trim())}}return{strokeStyle:X.useStroke?q:null,fillStyle:X.useFill?K:null,useFill:X.useFill,useStroke:X.useStroke}}function uk(Z,J,Q,q){switch(Q){case"stroke":if(q!=="none"){if(q.startsWith("url(")){let K=K_(q);J.strokeStyle.fill=Z.defs[K]}else J.strokeStyle.color=F0.shared.setValue(q).toNumber();J.useStroke=!0}break;case"stroke-width":J.strokeStyle.width=Number(q);break;case"fill":if(q!=="none"){if(q.startsWith("url(")){let K=K_(q);J.fillStyle.fill=Z.defs[K]}else J.fillStyle.color=F0.shared.setValue(q).toNumber();J.useFill=!0}break;case"fill-opacity":J.fillStyle.alpha=Number(q);break;case"stroke-opacity":J.strokeStyle.alpha=Number(q);break;case"opacity":J.fillStyle.alpha=Number(q),J.strokeStyle.alpha=Number(q);break}}var ck;var lk=j(()=>{v5();dk();ck={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}}});function pk(Z){if(Z.length<=2)return!0;let J=Z.map((Y)=>Y.area).sort((Y,O)=>O-Y),[Q,q]=J,K=J[J.length-1],X=Q/q,z=q/K;if(X>3&&z<2)return!1;return!0}var ik=()=>{};function ak(Z){return Z.split(/(?=[Mm])/).filter((q)=>q.trim().length>0)}function sk(Z){let J=Z.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!J||J.length<4)return 0;let Q=J.map(Number),q=[],K=[];for(let A=0;A<Q.length;A+=2)if(A+1<Q.length)q.push(Q[A]),K.push(Q[A+1]);if(q.length===0||K.length===0)return 0;let X=Math.min(...q),z=Math.max(...q),Y=Math.min(...K),O=Math.max(...K);return(z-X)*(O-Y)}function N_(Z,J){let Q=new A6(Z,!1);for(let q of Q.instructions)J.instructions.push(q)}var nk=j(()=>{qY()});function ok(Z,J){if(typeof Z==="string"){let z=document.createElement("div");z.innerHTML=Z.trim(),Z=z.querySelector("svg")}let Q={context:J,defs:{},path:new A6};gk(Z,Q);let q=Z.children,{fillStyle:K,strokeStyle:X}=X_(Z,Q);for(let z=0;z<q.length;z++){let Y=q[z];if(Y.nodeName.toLowerCase()==="defs")continue;tk(Y,Q,K,X)}return J}function tk(Z,J,Q,q){let K=Z.children,{fillStyle:X,strokeStyle:z}=X_(Z,J);if(X&&Q)Q={...Q,...X};else if(X)Q=X;if(z&&q)q={...q,...z};else if(z)q=z;let Y=!Q&&!q;if(Y)Q={color:0};let O,U,A,B,_,W,F,C,L,G,w,R,T,h,v,b,m;switch(Z.nodeName.toLowerCase()){case"path":{h=Z.getAttribute("d");let u=Z.getAttribute("fill-rule"),c=ak(h),o=u==="evenodd",z0=c.length>1;if(o&&z0){let g0=c.map((s)=>({path:s,area:sk(s)}));if(g0.sort((s,N0)=>N0.area-s.area),c.length>3||!pk(g0))for(let s=0;s<g0.length;s++){let N0=g0[s],K1=s===0;J.context.beginPath();let V0=new A6(void 0,!0);if(N_(N0.path,V0),J.context.path(V0),K1){if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}else J.context.cut()}else for(let s=0;s<g0.length;s++){let N0=g0[s],K1=s%2===1;J.context.beginPath();let V0=new A6(void 0,!0);if(N_(N0.path,V0),J.context.path(V0),K1)J.context.cut();else{if(Q)J.context.fill(Q);if(q)J.context.stroke(q)}}}else{if(v=new A6(h,u?u==="evenodd":!0),J.context.path(v),Q)J.context.fill(Q);if(q)J.context.stroke(q)}break}case"circle":if(F=j1(Z,"cx",0),C=j1(Z,"cy",0),L=j1(Z,"r",0),J.context.ellipse(F,C,L,L),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"rect":if(O=j1(Z,"x",0),U=j1(Z,"y",0),b=j1(Z,"width",0),m=j1(Z,"height",0),G=j1(Z,"rx",0),w=j1(Z,"ry",0),G||w)J.context.roundRect(O,U,b,m,G||w);else J.context.rect(O,U,b,m);if(Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"ellipse":if(F=j1(Z,"cx",0),C=j1(Z,"cy",0),G=j1(Z,"rx",0),w=j1(Z,"ry",0),J.context.beginPath(),J.context.ellipse(F,C,G,w),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"line":if(A=j1(Z,"x1",0),B=j1(Z,"y1",0),_=j1(Z,"x2",0),W=j1(Z,"y2",0),J.context.beginPath(),J.context.moveTo(A,B),J.context.lineTo(_,W),q)J.context.stroke(q);break;case"polygon":if(T=Z.getAttribute("points"),R=T.match(/\d+/g).map((u)=>parseInt(u,10)),J.context.poly(R,!0),Q)J.context.fill(Q);if(q)J.context.stroke(q);break;case"polyline":if(T=Z.getAttribute("points"),R=T.match(/\d+/g).map((u)=>parseInt(u,10)),J.context.poly(R,!1),q)J.context.stroke(q);break;case"g":case"svg":break;default:{Z0(`[SVG parser] <${Z.nodeName}> elements unsupported`);break}}if(Y)Q=null;for(let u=0;u<K.length;u++)tk(K[u],J,Q,q)}var rk=j(()=>{i0();qY();mk();q_();lk();ik();nk()});function Ka(Z){return F0.isColorLike(Z)}function ek(Z){return Z instanceof j9}function ZP(Z){return Z instanceof D8}function Xa(Z){return Z instanceof p}function Na(Z,J,Q){let q=F0.shared.setValue(J??0);return Z.color=q.toNumber(),Z.alpha=q.alpha===1?Q.alpha:q.alpha,Z.texture=p.WHITE,{...Q,...Z}}function za(Z,J,Q){return Z.texture=J,{...Q,...Z}}function JP(Z,J,Q){return Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,{...Q,...Z}}function QP(Z,J,Q){return J.buildGradient(),Z.fill=J,Z.color=16777215,Z.texture=J.texture,Z.matrix=J.transform,Z.textureSpace=J.textureSpace,{...Q,...Z}}function Ha(Z,J){let Q={...J,...Z},q=F0.shared.setValue(Q.color);return Q.alpha*=q.alpha,Q.color=q.toNumber(),Q}function z7(Z,J){if(Z===void 0||Z===null)return null;let Q={},q=Z;if(Ka(Z))return Na(Q,Z,J);else if(Xa(Z))return za(Q,Z,J);else if(ek(Z))return JP(Q,Z,J);else if(ZP(Z))return QP(Q,Z,J);else if(q.fill&&ek(q.fill))return JP(q,q.fill,J);else if(q.fill&&ZP(q.fill))return QP(q,q.fill,J);return Ha(q,J)}function sJ(Z,J){let{width:Q,alignment:q,miterLimit:K,cap:X,join:z,pixelLine:Y,...O}=J,U=z7(Z,O);if(!U)return null;return{width:Q,alignment:q,miterLimit:K,cap:X,join:z,pixelLine:Y,...U}}var z_=j(()=>{v5();a0();uJ();nH()});var Ya,qP,H_,o5;var KY=j(()=>{C5();v5();S0();T6();a0();J5();M1();O8();qY();rk();z_();Ya=new P0,qP=new a,H_=class Z extends J1{constructor(){super(...arguments);this.uid=M0("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new A6,this._transform=new a,this._fillStyle={...Z.defaultFillStyle},this._strokeStyle={...Z.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new q1,this._boundsDirty=!0}clone(){let J=new Z;return J.batchMode=this.batchMode,J.instructions=this.instructions.slice(),J._activePath=this._activePath.clone(),J._transform=this._transform.clone(),J._fillStyle={...this._fillStyle},J._strokeStyle={...this._strokeStyle},J._stateStack=this._stateStack.slice(),J._bounds=this._bounds.clone(),J._boundsDirty=!0,J}get fillStyle(){return this._fillStyle}set fillStyle(J){this._fillStyle=z7(J,Z.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(J){this._strokeStyle=sJ(J,Z.defaultStrokeStyle)}setFillStyle(J){return this._fillStyle=z7(J,Z.defaultFillStyle),this}setStrokeStyle(J){return this._strokeStyle=z7(J,Z.defaultStrokeStyle),this}texture(J,Q,q,K,X,z){return this.instructions.push({action:"texture",data:{image:J,dx:q||0,dy:K||0,dw:X||J.frame.width,dh:z||J.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:Q?F0.shared.setValue(Q).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new A6,this}fill(J,Q){let q,K=this.instructions[this.instructions.length-1];if(this._tick===0&&K&&K.action==="stroke")q=K.data.path;else q=this._activePath.clone();if(!q)return this;if(J!=null){if(Q!==void 0&&typeof J==="number")q0(Y0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),J={color:J,alpha:Q};this._fillStyle=z7(J,Z.defaultFillStyle)}return this.instructions.push({action:"fill",data:{style:this.fillStyle,path:q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}_initNextPathLocation(){let{x:J,y:Q}=this._activePath.getLastPoint(P0.shared);this._activePath.clear(),this._activePath.moveTo(J,Q)}stroke(J){let Q,q=this.instructions[this.instructions.length-1];if(this._tick===0&&q&&q.action==="fill")Q=q.data.path;else Q=this._activePath.clone();if(!Q)return this;if(J!=null)this._strokeStyle=sJ(J,Z.defaultStrokeStyle);return this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:Q}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this}cut(){for(let J=0;J<2;J++){let Q=this.instructions[this.instructions.length-1-J],q=this._activePath.clone();if(Q){if(Q.action==="stroke"||Q.action==="fill")if(Q.data.hole)Q.data.hole.addPath(q);else{Q.data.hole=q;break}}}return this._initNextPathLocation(),this}arc(J,Q,q,K,X,z){this._tick++;let Y=this._transform;return this._activePath.arc(Y.a*J+Y.c*Q+Y.tx,Y.b*J+Y.d*Q+Y.ty,q,K,X,z),this}arcTo(J,Q,q,K,X){this._tick++;let z=this._transform;return this._activePath.arcTo(z.a*J+z.c*Q+z.tx,z.b*J+z.d*Q+z.ty,z.a*q+z.c*K+z.tx,z.b*q+z.d*K+z.ty,X),this}arcToSvg(J,Q,q,K,X,z,Y){this._tick++;let O=this._transform;return this._activePath.arcToSvg(J,Q,q,K,X,O.a*z+O.c*Y+O.tx,O.b*z+O.d*Y+O.ty),this}bezierCurveTo(J,Q,q,K,X,z,Y){this._tick++;let O=this._transform;return this._activePath.bezierCurveTo(O.a*J+O.c*Q+O.tx,O.b*J+O.d*Q+O.ty,O.a*q+O.c*K+O.tx,O.b*q+O.d*K+O.ty,O.a*X+O.c*z+O.tx,O.b*X+O.d*z+O.ty,Y),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(J,Q,q,K){return this._tick++,this._activePath.ellipse(J,Q,q,K,this._transform.clone()),this}circle(J,Q,q){return this._tick++,this._activePath.circle(J,Q,q,this._transform.clone()),this}path(J){return this._tick++,this._activePath.addPath(J,this._transform.clone()),this}lineTo(J,Q){this._tick++;let q=this._transform;return this._activePath.lineTo(q.a*J+q.c*Q+q.tx,q.b*J+q.d*Q+q.ty),this}moveTo(J,Q){this._tick++;let q=this._transform,K=this._activePath.instructions,X=q.a*J+q.c*Q+q.tx,z=q.b*J+q.d*Q+q.ty;if(K.length===1&&K[0].action==="moveTo")return K[0].data[0]=X,K[0].data[1]=z,this;return this._activePath.moveTo(X,z),this}quadraticCurveTo(J,Q,q,K,X){this._tick++;let z=this._transform;return this._activePath.quadraticCurveTo(z.a*J+z.c*Q+z.tx,z.b*J+z.d*Q+z.ty,z.a*q+z.c*K+z.tx,z.b*q+z.d*K+z.ty,X),this}rect(J,Q,q,K){return this._tick++,this._activePath.rect(J,Q,q,K,this._transform.clone()),this}roundRect(J,Q,q,K,X){return this._tick++,this._activePath.roundRect(J,Q,q,K,X,this._transform.clone()),this}poly(J,Q){return this._tick++,this._activePath.poly(J,Q,this._transform.clone()),this}regularPoly(J,Q,q,K,X=0,z){return this._tick++,this._activePath.regularPoly(J,Q,q,K,X,z),this}roundPoly(J,Q,q,K,X,z){return this._tick++,this._activePath.roundPoly(J,Q,q,K,X,z),this}roundShape(J,Q,q,K){return this._tick++,this._activePath.roundShape(J,Q,q,K),this}filletRect(J,Q,q,K,X){return this._tick++,this._activePath.filletRect(J,Q,q,K,X),this}chamferRect(J,Q,q,K,X,z){return this._tick++,this._activePath.chamferRect(J,Q,q,K,X,z),this}star(J,Q,q,K,X=0,z=0){return this._tick++,this._activePath.star(J,Q,q,K,X,z,this._transform.clone()),this}svg(J){return this._tick++,ok(J,this),this}restore(){let J=this._stateStack.pop();if(J)this._transform=J.transform,this._fillStyle=J.fillStyle,this._strokeStyle=J.strokeStyle;return this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(J){return this._transform.rotate(J),this}scale(J,Q=J){return this._transform.scale(J,Q),this}setTransform(J,Q,q,K,X,z){if(J instanceof a)return this._transform.set(J.a,J.b,J.c,J.d,J.tx,J.ty),this;return this._transform.set(J,Q,q,K,X,z),this}transform(J,Q,q,K,X,z){if(J instanceof a)return this._transform.append(J),this;return qP.set(J,Q,q,K,X,z),this._transform.append(qP),this}translate(J,Q=J){return this._transform.translate(J,Q),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){if(this._boundsDirty=!0,this.dirty)return;this.emit("update",this,16),this.dirty=!0}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;let J=this._bounds;J.clear();for(let Q=0;Q<this.instructions.length;Q++){let q=this.instructions[Q],K=q.action;if(K==="fill"){let X=q.data;J.addBounds(X.path.bounds)}else if(K==="texture"){let X=q.data;J.addFrame(X.dx,X.dy,X.dx+X.dw,X.dy+X.dh,X.transform)}if(K==="stroke"){let X=q.data,z=X.style.alignment,Y=X.style.width*(1-z),O=X.path.bounds;J.addFrame(O.minX-Y,O.minY-Y,O.maxX+Y,O.maxY+Y)}}return J}containsPoint(J){if(!this.bounds.containsPoint(J.x,J.y))return!1;let Q=this.instructions,q=!1;for(let K=0;K<Q.length;K++){let X=Q[K],z=X.data,Y=z.path;if(!X.action||!Y)continue;let O=z.style,U=Y.shapePath.shapePrimitives;for(let A=0;A<U.length;A++){let B=U[A].shape;if(!O||!B)continue;let _=U[A].transform,W=_?_.applyInverse(J,Ya):J;if(X.action==="fill")q=B.contains(W.x,W.y);else{let C=O;q=B.strokeContains(W.x,W.y,C.width,C.alignment)}let F=z.hole;if(F){let C=F.shapePath?.shapePrimitives;if(C){for(let L=0;L<C.length;L++)if(C[L].shape.contains(W.x,W.y))q=!1}}if(q)return!0}}return q}destroy(J=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fillStyle.texture)this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(q);if(this._strokeStyle.texture)this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(q)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};H_.defaultFillStyle={color:16777215,alpha:1,texture:p.WHITE,matrix:null,fill:null,textureSpace:"local"};H_.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:0.5,miterLimit:10,cap:"butt",join:"miter",texture:p.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};o5=H_});function Va(Z){let J=Z;if(typeof J.dropShadow==="boolean"&&J.dropShadow){let Q=B8.defaultDropShadow;Z.dropShadow={alpha:J.dropShadowAlpha??Q.alpha,angle:J.dropShadowAngle??Q.angle,blur:J.dropShadowBlur??Q.blur,color:J.dropShadowColor??Q.color,distance:J.dropShadowDistance??Q.distance}}if(J.strokeThickness!==void 0){q0(Y0,"strokeThickness is now a part of stroke");let Q=J.stroke,q={};if(F0.isColorLike(Q))q.color=Q;else if(Q instanceof D8||Q instanceof j9)q.fill=Q;else if(Object.hasOwnProperty.call(Q,"color")||Object.hasOwnProperty.call(Q,"fill"))q=Q;else throw Error("Invalid stroke value.");Z.stroke={...q,width:J.strokeThickness}}if(Array.isArray(J.fillGradientStops)){if(q0(Y0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(J.fill)||J.fill.length===0)throw Error("Invalid fill value. Expected an array of colors for gradient fill.");if(J.fill.length!==J.fillGradientStops.length)Z0("The number of fill colors must match the number of fill gradient stops.");let Q=new D8({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),q=J.fillGradientStops.slice(),K=J.fill.map((X)=>F0.shared.setValue(X).toNumber());q.forEach((X,z)=>{Q.addColorStop(X,K[z])}),Z.fill={fill:Q}}}var Y_,B8;var gK=j(()=>{C5();v5();J5();M1();i0();uJ();nH();KY();z_();Y_=class Z extends J1{constructor(J={}){super();this.uid=M0("textStyle"),this._tick=0,Va(J);let Q={...Z.defaultTextStyle,...J};for(let q in Q){let K=q;this[K]=Q[q]}this.update(),this._tick=0}get align(){return this._align}set align(J){if(this._align===J)return;this._align=J,this.update()}get breakWords(){return this._breakWords}set breakWords(J){if(this._breakWords===J)return;this._breakWords=J,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(J){if(this._dropShadow===J)return;if(J!==null&&typeof J==="object")this._dropShadow=this._createProxy({...Z.defaultDropShadow,...J});else this._dropShadow=J?this._createProxy({...Z.defaultDropShadow}):null;this.update()}get fontFamily(){return this._fontFamily}set fontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.update()}get fontSize(){return this._fontSize}set fontSize(J){if(this._fontSize===J)return;if(typeof J==="string")this._fontSize=parseInt(J,10);else this._fontSize=J;this.update()}get fontStyle(){return this._fontStyle}set fontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(J){if(this._fontVariant===J)return;this._fontVariant=J,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.update()}get leading(){return this._leading}set leading(J){if(this._leading===J)return;this._leading=J,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(J){if(this._letterSpacing===J)return;this._letterSpacing=J,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(J){if(this._lineHeight===J)return;this._lineHeight=J,this.update()}get padding(){return this._padding}set padding(J){if(this._padding===J)return;this._padding=J,this.update()}get filters(){return this._filters}set filters(J){if(this._filters===J)return;this._filters=Object.freeze(J),this.update()}get trim(){return this._trim}set trim(J){if(this._trim===J)return;this._trim=J,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(J){if(this._textBaseline===J)return;this._textBaseline=J,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(J){if(this._whiteSpace===J)return;this._whiteSpace=J,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(J){if(this._wordWrap===J)return;this._wordWrap=J,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(J){if(this._wordWrapWidth===J)return;this._wordWrapWidth=J,this.update()}get fill(){return this._originalFill}set fill(J){if(J===this._originalFill)return;if(this._originalFill=J,this._isFillStyle(J))this._originalFill=this._createProxy({...o5.defaultFillStyle,...J},()=>{this._fill=z7({...this._originalFill},o5.defaultFillStyle)});this._fill=z7(J===0?"black":J,o5.defaultFillStyle),this.update()}get stroke(){return this._originalStroke}set stroke(J){if(J===this._originalStroke)return;if(this._originalStroke=J,this._isFillStyle(J))this._originalStroke=this._createProxy({...o5.defaultStrokeStyle,...J},()=>{this._stroke=sJ({...this._originalStroke},o5.defaultStrokeStyle)});this._stroke=sJ(J,o5.defaultStrokeStyle),this.update()}update(){this._tick++,this.emit("update",this)}reset(){let J=Z.defaultTextStyle;for(let Q in J)this[Q]=J[Q]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Z({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let J=0;if(this._filters)for(let Q=0;Q<this._filters.length;Q++)J+=this._filters[Q].padding;return Math.max(this._padding,J)}destroy(J=!1){if(this.removeAllListeners(),typeof J==="boolean"?J:J?.texture){let q=typeof J==="boolean"?J:J?.textureSource;if(this._fill?.texture)this._fill.texture.destroy(q);if(this._originalFill?.texture)this._originalFill.texture.destroy(q);if(this._stroke?.texture)this._stroke.texture.destroy(q);if(this._originalStroke?.texture)this._originalStroke.texture.destroy(q)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(J,Q){return new Proxy(J,{set:(q,K,X)=>{if(q[K]===X)return!0;return q[K]=X,Q?.(K,X),this.update(),!0}})}_isFillStyle(J){return(J??null)!==null&&!(F0.isColorLike(J)||J instanceof D8||J instanceof j9)}};Y_.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Y_.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};B8=Y_});function XY(Z,J,Q,q){let K=Oa;K.minX=0,K.minY=0,K.maxX=Z.width/q|0,K.maxY=Z.height/q|0;let X=t0.getOptimalTexture(K.width,K.height,q,!1);return X.source.uploadMethodId="image",X.source.resource=Z,X.source.alphaMode="premultiply-alpha-on-upload",X.frame.width=J/q,X.frame.height=Q/q,X.source.emit("update",X.source),X.updateUvs(),X}var Oa;var V_=j(()=>{q4();O8();Oa=new q1});class KP{constructor(Z){this._canvasPool=Object.create(null),this.canvasOptions=Z||{},this.enableFullScreen=!1}_createCanvasAndContext(Z,J){let Q=K0.get().createCanvas();Q.width=Z,Q.height=J;let q=Q.getContext("2d");return{canvas:Q,context:q}}getOptimalCanvasAndContext(Z,J,Q=1){Z=Math.ceil(Z*Q-0.000001),J=Math.ceil(J*Q-0.000001),Z=r4(Z),J=r4(J);let q=(Z<<17)+(J<<1);if(!this._canvasPool[q])this._canvasPool[q]=[];let K=this._canvasPool[q].pop();if(!K)K=this._createCanvasAndContext(Z,J);return K}returnCanvasAndContext(Z){let J=Z.canvas,{width:Q,height:q}=J,K=(Q<<17)+(q<<1);Z.context.resetTransform(),Z.context.clearRect(0,0,Q,q),this._canvasPool[K].push(Z)}clear(){this._canvasPool={}}}var _8;var nJ=j(()=>{s0();HK();jZ();_8=new KP;O6.register(_8)});function Ua(Z,J){if(!gZ)gZ=K0.get().createCanvas(256,128),H7=gZ.getContext("2d",{willReadFrequently:!0}),H7.globalCompositeOperation="copy",H7.globalAlpha=1;if(gZ.width<Z||gZ.height<J)gZ.width=r4(Z),gZ.height=r4(J)}function XP(Z,J,Q){for(let q=0,K=4*Q*J;q<J;++q,K+=4)if(Z[K+3]!==0)return!1;return!0}function NP(Z,J,Q,q,K){let X=4*J;for(let z=q,Y=q*X+4*Q;z<=K;++z,Y+=X)if(Z[Y+3]!==0)return!1;return!0}function zP(...Z){let J=Z[0];if(!J.canvas)J={canvas:Z[0],resolution:Z[1]};let{canvas:Q}=J,q=Math.min(J.resolution??1,1),K=J.width??Q.width,X=J.height??Q.height,z=J.output;if(Ua(K,X),!H7)throw TypeError("Failed to get canvas 2D context");H7.drawImage(Q,0,0,K,X,0,0,K*q,X*q);let O=H7.getImageData(0,0,K,X).data,U=0,A=0,B=K-1,_=X-1;while(A<X&&XP(O,K,A))++A;if(A===X)return $0.EMPTY;while(XP(O,K,_))--_;while(NP(O,K,U,A,_))++U;while(NP(O,K,B,A,_))--B;return++B,++_,H7.globalCompositeOperation="source-over",H7.strokeRect(U,A,B-U,_-A),H7.globalCompositeOperation="copy",z??(z=new $0),z.set(U/q,A/q,(B-U)/q,(_-A)/q),z}var gZ=null,H7=null;var HP=j(()=>{s0();HK();Q5()});class YP{constructor(Z=0,J=0,Q=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=Z,this.resetTtl=Q,this.size=0,this.ttl=J}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(Z){if(this.has(Z)){let J=this.items[Z];if(delete this.items[Z],this.size--,J.prev!==null)J.prev.next=J.next;if(J.next!==null)J.next.prev=J.prev;if(this.first===J)this.first=J.next;if(this.last===J)this.last=J.prev}return this}entries(Z=this.keys()){return Z.map((J)=>[J,this.get(J)])}evict(Z=!1){if(Z||this.size>0){let J=this.first;if(delete this.items[J.key],--this.size===0)this.first=null,this.last=null;else this.first=J.next,this.first.prev=null}return this}expiresAt(Z){let J;if(this.has(Z))J=this.items[Z].expiry;return J}get(Z){let J=this.items[Z];if(J!==void 0){if(this.ttl>0){if(J.expiry<=Date.now()){this.delete(Z);return}}return this.moveToEnd(J),J.value}return}has(Z){return Z in this.items}moveToEnd(Z){if(this.last===Z)return;if(Z.prev!==null)Z.prev.next=Z.next;if(Z.next!==null)Z.next.prev=Z.prev;if(this.first===Z)this.first=Z.next;if(Z.prev=this.last,Z.next=null,this.last!==null)this.last.next=Z;if(this.last=Z,this.first===null)this.first=Z}keys(){let Z=[],J=this.first;while(J!==null)Z.push(J.key),J=J.next;return Z}setWithEvicted(Z,J,Q=this.resetTtl){let q=null;if(this.has(Z))this.set(Z,J,!0,Q);else{if(this.max>0&&this.size===this.max)q={...this.first},this.evict(!0);let K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J};if(++this.size===1)this.first=K;else this.last.next=K;this.last=K}return q}set(Z,J,Q=!1,q=this.resetTtl){let K=this.items[Z];if(Q||K!==void 0){if(K.value=J,Q===!1&&q)K.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;this.moveToEnd(K)}else{if(this.max>0&&this.size===this.max)this.evict(!0);if(K=this.items[Z]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:Z,prev:this.last,next:null,value:J},++this.size===1)this.first=K;else this.last.next=K;this.last=K}return this}values(Z=this.keys()){return Z.map((J)=>this.get(J))}}function NY(Z=1000,J=0,Q=!1){if(isNaN(Z)||Z<0)throw TypeError("Invalid max value");if(isNaN(J)||J<0)throw TypeError("Invalid ttl value");if(typeof Q!=="boolean")throw TypeError("Invalid resetTtl value");return new YP(Z,J,Q)}var O_=()=>{};function mZ(Z){let J=typeof Z.fontSize==="number"?`${Z.fontSize}px`:Z.fontSize,Q=Z.fontFamily;if(!Array.isArray(Z.fontFamily))Q=Z.fontFamily.split(",");for(let q=Q.length-1;q>=0;q--){let K=Q[q].trim();if(!/([\"\'])[^\'\"]+\1/.test(K)&&!$a.includes(K))K=`"${K}"`;Q[q]=K}return`${Z.fontStyle} ${Z.fontVariant} ${Z.fontWeight} ${J} ${Q.join(",")}`}var $a;var zY=j(()=>{$a=["serif","sans-serif","monospace","cursive","fantasy","system-ui"]});var U_,h6=class Z{static get experimentalLetterSpacingSupported(){let J=Z._experimentalLetterSpacingSupported;if(J===void 0){let Q=K0.get().getCanvasRenderingContext2D().prototype;J=Z._experimentalLetterSpacingSupported="letterSpacing"in Q||"textLetterSpacing"in Q}return J}constructor(J,Q,q,K,X,z,Y,O,U){this.text=J,this.style=Q,this.width=q,this.height=K,this.lines=X,this.lineWidths=z,this.lineHeight=Y,this.maxLineWidth=O,this.fontProperties=U}static measureText(J=" ",Q,q=Z._canvas,K=Q.wordWrap){let X=`${J}-${Q.styleKey}-wordWrap-${K}`;if(Z._measurementCache.has(X))return Z._measurementCache.get(X);let z=mZ(Q),Y=Z.measureFont(z);if(Y.fontSize===0)Y.fontSize=Q.fontSize,Y.ascent=Q.fontSize;let O=Z.__context;O.font=z;let A=(K?Z._wordWrap(J,Q,q):J).split(/(?:\r\n|\r|\n)/),B=Array(A.length),_=0;for(let w=0;w<A.length;w++){let R=Z._measureText(A[w],Q.letterSpacing,O);B[w]=R,_=Math.max(_,R)}let W=Q._stroke?.width||0,F=_+W;if(Q.dropShadow)F+=Q.dropShadow.distance;let C=Q.lineHeight||Y.fontSize,L=Math.max(C,Y.fontSize+W)+(A.length-1)*(C+Q.leading);if(Q.dropShadow)L+=Q.dropShadow.distance;let G=new Z(J,Q,F,L,A,B,C+Q.leading,_,Y);return Z._measurementCache.set(X,G),G}static _measureText(J,Q,q){let K=!1;if(Z.experimentalLetterSpacingSupported)if(Z.experimentalLetterSpacing)q.letterSpacing=`${Q}px`,q.textLetterSpacing=`${Q}px`,K=!0;else q.letterSpacing="0px",q.textLetterSpacing="0px";let X=q.measureText(J),z=X.width,Y=-X.actualBoundingBoxLeft,U=X.actualBoundingBoxRight-Y;if(z>0)if(K)z-=Q,U-=Q;else{let A=(Z.graphemeSegmenter(J).length-1)*Q;z+=A,U+=A}return Math.max(z,U)}static _wordWrap(J,Q,q=Z._canvas){let K=q.getContext("2d",U_),X=0,z="",Y="",O=Object.create(null),{letterSpacing:U,whiteSpace:A}=Q,B=Z._collapseSpaces(A),_=Z._collapseNewlines(A),W=!B,F=Q.wordWrapWidth+U,C=Z._tokenize(J);for(let L=0;L<C.length;L++){let G=C[L];if(Z._isNewline(G)){if(!_){Y+=Z._addLine(z),W=!B,z="",X=0;continue}G=" "}if(B){let R=Z.isBreakingSpace(G),T=Z.isBreakingSpace(z[z.length-1]);if(R&&T)continue}let w=Z._getFromCache(G,U,O,K);if(w>F){if(z!=="")Y+=Z._addLine(z),z="",X=0;if(Z.canBreakWords(G,Q.breakWords)){let R=Z.wordWrapSplit(G);for(let T=0;T<R.length;T++){let h=R[T],v=h,b=1;while(R[T+b]){let u=R[T+b];if(!Z.canBreakChars(v,u,G,T,Q.breakWords))h+=u;else break;v=u,b++}T+=b-1;let m=Z._getFromCache(h,U,O,K);if(m+X>F)Y+=Z._addLine(z),W=!1,z="",X=0;z+=h,X+=m}}else{if(z.length>0)Y+=Z._addLine(z),z="",X=0;let R=L===C.length-1;Y+=Z._addLine(G,!R),W=!1,z="",X=0}}else{if(w+X>F)W=!1,Y+=Z._addLine(z),z="",X=0;if(z.length>0||!Z.isBreakingSpace(G)||W)z+=G,X+=w}}return Y+=Z._addLine(z,!1),Y}static _addLine(J,Q=!0){return J=Z._trimRight(J),J=Q?`${J}
`:J,J}static _getFromCache(J,Q,q,K){let X=q[J];if(typeof X!=="number")X=Z._measureText(J,Q,K)+Q,q[J]=X;return X}static _collapseSpaces(J){return J==="normal"||J==="pre-line"}static _collapseNewlines(J){return J==="normal"}static _trimRight(J){if(typeof J!=="string")return"";for(let Q=J.length-1;Q>=0;Q--){let q=J[Q];if(!Z.isBreakingSpace(q))break;J=J.slice(0,-1)}return J}static _isNewline(J){if(typeof J!=="string")return!1;return Z._newlines.includes(J.charCodeAt(0))}static isBreakingSpace(J,Q){if(typeof J!=="string")return!1;return Z._breakingSpaces.includes(J.charCodeAt(0))}static _tokenize(J){let Q=[],q="";if(typeof J!=="string")return Q;for(let K=0;K<J.length;K++){let X=J[K],z=J[K+1];if(Z.isBreakingSpace(X,z)||Z._isNewline(X)){if(q!=="")Q.push(q),q="";if(X==="\r"&&z===`
`)Q.push(`\r
`),K++;else Q.push(X);continue}q+=X}if(q!=="")Q.push(q);return Q}static canBreakWords(J,Q){return Q}static canBreakChars(J,Q,q,K,X){return!0}static wordWrapSplit(J){return Z.graphemeSegmenter(J)}static measureFont(J){if(Z._fonts[J])return Z._fonts[J];let Q=Z._context;Q.font=J;let q=Q.measureText(Z.METRICS_STRING+Z.BASELINE_SYMBOL),K={ascent:q.actualBoundingBoxAscent,descent:q.actualBoundingBoxDescent,fontSize:q.actualBoundingBoxAscent+q.actualBoundingBoxDescent};return Z._fonts[J]=K,K}static clearMetrics(J=""){if(J)delete Z._fonts[J];else Z._fonts={}}static get _canvas(){if(!Z.__canvas){let J;try{let Q=new OffscreenCanvas(0,0);if(Q.getContext("2d",U_)?.measureText)return Z.__canvas=Q,Q;J=K0.get().createCanvas()}catch(Q){J=K0.get().createCanvas()}J.width=J.height=10,Z.__canvas=J}return Z.__canvas}static get _context(){if(!Z.__context)Z.__context=Z._canvas.getContext("2d",U_);return Z.__context}},M8;var mK=j(()=>{O_();s0();zY();U_={willReadFrequently:!0};h6.METRICS_STRING="|q";h6.BASELINE_SYMBOL="M";h6.BASELINE_MULTIPLIER=1.4;h6.HEIGHT_MULTIPLIER=2;h6.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter==="function"){let Z=new Intl.Segmenter;return(J)=>{let Q=Z.segment(J),q=[],K=0;for(let X of Q)q[K++]=X.segment;return q}}return(Z)=>[...Z]})();h6.experimentalLetterSpacing=!1;h6._fonts={};h6._newlines=[10,13];h6._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];h6._measurementCache=NY(1000);M8=h6});function oJ(Z,J,Q,q=0){if(Z.texture===p.WHITE&&!Z.fill)return F0.shared.setValue(Z.color).setAlpha(Z.alpha??1).toHexa();else if(!Z.fill){let K=J.createPattern(Z.texture.source.resource,"repeat"),X=Z.matrix.copyTo(a.shared);return X.scale(Z.texture.frame.width,Z.texture.frame.height),K.setTransform(X),K}else if(Z.fill instanceof j9){let K=Z.fill,X=J.createPattern(K.texture.source.resource,"repeat"),z=K.transform.copyTo(a.shared);return z.scale(K.texture.frame.width,K.texture.frame.height),X.setTransform(z),X}else if(Z.fill instanceof D8){let K=Z.fill,X=K.type==="linear",z=K.textureSpace==="local",Y=1,O=1;if(z&&Q)Y=Q.width+q,O=Q.height+q;let U,A=!1;if(X){let{start:B,end:_}=K;U=J.createLinearGradient(B.x*Y,B.y*O,_.x*Y,_.y*O),A=Math.abs(_.x-B.x)<Math.abs((_.y-B.y)*0.1)}else{let{center:B,innerRadius:_,outerCenter:W,outerRadius:F}=K;U=J.createRadialGradient(B.x*Y,B.y*O,_*Y,W.x*Y,W.y*O,F*Y)}if(A&&z&&Q){let B=Q.lineHeight/O;for(let _=0;_<Q.lines.length;_++){let W=(_*Q.lineHeight+q/2)/O;K.colorStops.forEach((F)=>{let C=W+F.offset*B;U.addColorStop(Math.floor(C*VP)/VP,F0.shared.setValue(F.color).toHex())})}}else K.colorStops.forEach((B)=>{U.addColorStop(B.offset,F0.shared.setValue(B.color).toHex())});return U}return Z0("FillStyle not recognised",Z),"red"}var VP=1e5;var $_=j(()=>{v5();S0();a0();i0();uJ();nH()});class UP{getCanvasAndContext(Z){let{text:J,style:Q,resolution:q=1}=Z,K=Q._getFinalPadding(),X=M8.measureText(J||" ",Q),z=Math.ceil(Math.ceil(Math.max(1,X.width)+K*2)*q),Y=Math.ceil(Math.ceil(Math.max(1,X.height)+K*2)*q),O=_8.getOptimalCanvasAndContext(z,Y);this._renderTextToCanvas(J,Q,K,q,O);let U=Q.trim?zP({canvas:O.canvas,width:z,height:Y,resolution:1,output:OP}):OP.set(0,0,z,Y);return{canvasAndContext:O,frame:U}}returnCanvasAndContext(Z){_8.returnCanvasAndContext(Z)}_renderTextToCanvas(Z,J,Q,q,K){let{canvas:X,context:z}=K,Y=mZ(J),O=M8.measureText(Z||" ",J),U=O.lines,A=O.lineHeight,B=O.lineWidths,_=O.maxLineWidth,W=O.fontProperties,F=X.height;if(z.resetTransform(),z.scale(q,q),z.textBaseline=J.textBaseline,J._stroke?.width){let w=J._stroke;z.lineWidth=w.width,z.miterLimit=w.miterLimit,z.lineJoin=w.join,z.lineCap=w.cap}z.font=Y;let C,L,G=J.dropShadow?2:1;for(let w=0;w<G;++w){let R=J.dropShadow&&w===0,T=R?Math.ceil(Math.max(1,F)+Q*2):0,h=T*q;if(R){z.fillStyle="black",z.strokeStyle="black";let m=J.dropShadow,u=m.color,c=m.alpha;z.shadowColor=F0.shared.setValue(u).setAlpha(c).toRgbaString();let o=m.blur*q,z0=m.distance*q;z.shadowBlur=o,z.shadowOffsetX=Math.cos(m.angle)*z0,z.shadowOffsetY=Math.sin(m.angle)*z0+h}else{if(z.fillStyle=J._fill?oJ(J._fill,z,O,Q*2):null,J._stroke?.width){let m=J._stroke.width*0.5+Q*2;z.strokeStyle=oJ(J._stroke,z,O,m)}z.shadowColor="black"}let v=(A-W.fontSize)/2;if(A-W.fontSize<0)v=0;let b=J._stroke?.width??0;for(let m=0;m<U.length;m++){if(C=b/2,L=b/2+m*A+W.ascent+v,J.align==="right")C+=_-B[m];else if(J.align==="center")C+=(_-B[m])/2;if(J._stroke?.width)this._drawLetterSpacing(U[m],J,K,C+Q,L+Q-T,!0);if(J._fill!==void 0)this._drawLetterSpacing(U[m],J,K,C+Q,L+Q-T)}}}_drawLetterSpacing(Z,J,Q,q,K,X=!1){let{context:z}=Q,Y=J.letterSpacing,O=!1;if(M8.experimentalLetterSpacingSupported)if(M8.experimentalLetterSpacing)z.letterSpacing=`${Y}px`,z.textLetterSpacing=`${Y}px`,O=!0;else z.letterSpacing="0px",z.textLetterSpacing="0px";if(Y===0||O){if(X)z.strokeText(Z,q,K);else z.fillText(Z,q,K);return}let U=q,A=M8.graphemeSegmenter(Z),B=z.measureText(Z).width,_=0;for(let W=0;W<A.length;++W){let F=A[W];if(X)z.strokeText(F,U,K);else z.fillText(F,U,K);let C="";for(let L=W+1;L<A.length;++L)C+=A[L];_=z.measureText(C).width,U+=B-_+Y,B=_}}}var OP,HY;var $P=j(()=>{v5();Q5();nJ();HP();mK();zY();$_();OP=new $0;HY=new UP});class YY{constructor(Z){this._activeTextures={},this._renderer=Z}getTexture(Z,J,Q,q){if(typeof Z==="string")q0("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),Z={text:Z,style:Q,resolution:J};if(!(Z.style instanceof B8))Z.style=new B8(Z.style);if(!(Z.textureStyle instanceof U8))Z.textureStyle=new U8(Z.textureStyle);if(typeof Z.text!=="string")Z.text=Z.text.toString();let{text:K,style:X,textureStyle:z}=Z,Y=Z.resolution??this._renderer.resolution,{frame:O,canvasAndContext:U}=HY.getCanvasAndContext({text:K,style:X,resolution:Y}),A=XY(U.canvas,O.width,O.height,Y);if(z)A.source.style=z;if(X.trim)O.pad(X.padding),A.frame.copyFrom(O),A.frame.scale(1/Y),A.updateUvs();if(X.filters){let B=this._applyFilters(A,X.filters);return this.returnTexture(A),HY.returnCanvasAndContext(U),B}return this._renderer.texture.initSource(A._source),HY.returnCanvasAndContext(U),A}returnTexture(Z){let J=Z.source;J.resource=null,J.uploadMethodId="unknown",J.alphaMode="no-premultiply-alpha",t0.returnTexture(Z,!0)}renderTextToCanvas(){q0("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}getManagedTexture(Z){Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].texture;let Q=this.getTexture({text:Z.text,style:Z.style,resolution:Z._resolution,textureStyle:Z.textureStyle});return this._activeTextures[J]={texture:Q,usageCount:1},Q}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(J.usageCount--,J.usageCount===0)this.returnTexture(J.texture),this._activeTextures[Z]=null}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??0}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}_applyFilters(Z,J){let Q=this._renderer.renderTarget.renderTarget,q=this._renderer.filter.generateFilteredTexture({texture:Z,filters:J});return this._renderer.renderTarget.bind(Q,!1),q}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexture(this._activeTextures[Z].texture);this._activeTextures=null}}var AP=j(()=>{g();q4();CZ();M1();gK();V_();$P();YY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"canvasText"}});var A_=j(()=>{g();Ak();AP();J0.add(YY);J0.add(sH)});var x6;var D_=j(()=>{M1();sD();KY();x6=class x6 extends BK{constructor(Z){if(Z instanceof o5)Z={context:Z};let{context:J,roundPixels:Q,...q}=Z||{};super({label:"Graphics",...q});if(this.renderPipeId="graphics",!J)this._context=this._ownedContext=new o5;else this._context=J;this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=Q??!1}set context(Z){if(Z===this._context)return;this._context.off("update",this.onViewUpdate,this),this._context=Z,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate()}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(Z){return this._context.containsPoint(Z)}destroy(Z){if(this._ownedContext&&!Z)this._ownedContext.destroy(Z);else if(Z===!0||Z?.context===!0)this._context.destroy(Z);this._ownedContext=null,this._context=null,super.destroy(Z)}_callContextMethod(Z,J){return this.context[Z](...J),this}setFillStyle(...Z){return this._callContextMethod("setFillStyle",Z)}setStrokeStyle(...Z){return this._callContextMethod("setStrokeStyle",Z)}fill(...Z){return this._callContextMethod("fill",Z)}stroke(...Z){return this._callContextMethod("stroke",Z)}texture(...Z){return this._callContextMethod("texture",Z)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...Z){return this._callContextMethod("arc",Z)}arcTo(...Z){return this._callContextMethod("arcTo",Z)}arcToSvg(...Z){return this._callContextMethod("arcToSvg",Z)}bezierCurveTo(...Z){return this._callContextMethod("bezierCurveTo",Z)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...Z){return this._callContextMethod("ellipse",Z)}circle(...Z){return this._callContextMethod("circle",Z)}path(...Z){return this._callContextMethod("path",Z)}lineTo(...Z){return this._callContextMethod("lineTo",Z)}moveTo(...Z){return this._callContextMethod("moveTo",Z)}quadraticCurveTo(...Z){return this._callContextMethod("quadraticCurveTo",Z)}rect(...Z){return this._callContextMethod("rect",Z)}roundRect(...Z){return this._callContextMethod("roundRect",Z)}poly(...Z){return this._callContextMethod("poly",Z)}regularPoly(...Z){return this._callContextMethod("regularPoly",Z)}roundPoly(...Z){return this._callContextMethod("roundPoly",Z)}roundShape(...Z){return this._callContextMethod("roundShape",Z)}filletRect(...Z){return this._callContextMethod("filletRect",Z)}chamferRect(...Z){return this._callContextMethod("chamferRect",Z)}star(...Z){return this._callContextMethod("star",Z)}svg(...Z){return this._callContextMethod("svg",Z)}restore(...Z){return this._callContextMethod("restore",Z)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...Z){return this._callContextMethod("rotate",Z)}scaleTransform(...Z){return this._callContextMethod("scale",Z)}setTransform(...Z){return this._callContextMethod("setTransform",Z)}transform(...Z){return this._callContextMethod("transform",Z)}translateTransform(...Z){return this._callContextMethod("translate",Z)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(Z){this._context.fillStyle=Z}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(Z){this._context.strokeStyle=Z}clone(Z=!1){if(Z)return new x6(this._context.clone());return this._ownedContext=null,new x6(this._context)}lineStyle(Z,J,Q){q0(Y0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");let q={};return Z&&(q.width=Z),J&&(q.color=J),Q&&(q.alpha=Q),this.context.strokeStyle=q,this}beginFill(Z,J){q0(Y0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");let Q={};if(Z!==void 0)Q.color=Z;if(J!==void 0)Q.alpha=J;return this.context.fillStyle=Q,this}endFill(){q0(Y0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();let Z=this.context.strokeStyle;if(Z.width!==o5.defaultStrokeStyle.width||Z.color!==o5.defaultStrokeStyle.color||Z.alpha!==o5.defaultStrokeStyle.alpha)this.context.stroke();return this}drawCircle(...Z){return q0(Y0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",Z)}drawEllipse(...Z){return q0(Y0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",Z)}drawPolygon(...Z){return q0(Y0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",Z)}drawRect(...Z){return q0(Y0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",Z)}drawRoundedRect(...Z){return q0(Y0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",Z)}drawStar(...Z){return q0(Y0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",Z)}}});var DP,BP;var _P=j(()=>{DP={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},BP={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}}});var MP,WP;var GP=j(()=>{MP={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},WP={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}}});var B_,__,M_;var FP=j(()=>{S0();G9();EK();IK();F9();fH();f6();f5();_P();GP();M_=class M_ extends k1{constructor(Z){let J=new n0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});B_??(B_=N4({name:"sdf-shader",bits:[fJ,hJ(Z),DP,MP,H4]})),__??(__=z4({name:"sdf-shader",bits:[yJ,xJ(Z),BP,WP,Y4]}));super({glProgram:__,gpuProgram:B_,resources:{localUniforms:J,batchSamplers:gJ(Z)}})}}});var dK;var W_=j(()=>{C5();M1();dK=class dK extends J1{constructor(){super(...arguments);this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return q0(Y0,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return q0(Y0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return q0(Y0,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return q0(Y0,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return q0(Y0,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(Z=!1){this.emit("destroy",this),this.removeAllListeners();for(let J in this.chars)this.chars[J].texture?.destroy();if(this.chars=null,Z)this.pages.forEach((J)=>J.texture.destroy(!0)),this.pages=null}}});var jP,G_;var wP=j(()=>{v5();Q5();nJ();SJ();a0();CZ();M1();mK();zY();$_();gK();W_();jP=class Z extends dK{constructor(J){super();this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;let Q={...Z.defaultOptions,...J};this._textureSize=Q.textureSize,this._mipmap=Q.mipmap;let q=Q.style.clone();if(Q.overrideFill)q._fill.color=16777215,q._fill.alpha=1,q._fill.texture=p.WHITE,q._fill.fill=null;this.applyFillAsTint=Q.overrideFill;let K=q.fontSize;q.fontSize=this.baseMeasurementFontSize;let X=mZ(q);if(Q.overrideSize){if(q._stroke)q._stroke.width*=this.baseRenderedFontSize/K}else q.fontSize=this.baseRenderedFontSize=K;if(this._style=q,this._skipKerning=Q.skipKerning??!1,this.resolution=Q.resolution??1,this._padding=Q.padding??4,Q.textureStyle)this._textureStyle=Q.textureStyle instanceof U8?Q.textureStyle:new U8(Q.textureStyle);this.fontMetrics=M8.measureFont(X),this.lineHeight=q.lineHeight||this.fontMetrics.fontSize||q.fontSize}ensureCharacters(J){let Q=M8.graphemeSegmenter(J).filter((L)=>!this._currentChars.includes(L)).filter((L,G,w)=>w.indexOf(L)===G);if(!Q.length)return;this._currentChars=[...this._currentChars,...Q];let q;if(this._currentPageIndex===-1)q=this._nextPage();else q=this.pages[this._currentPageIndex];let{canvas:K,context:X}=q.canvasAndContext,z=q.texture.source,Y=this._style,O=this._currentX,U=this._currentY,A=this._currentMaxCharHeight,B=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*B,W=!1,F=K.width/this.resolution,C=K.height/this.resolution;for(let L=0;L<Q.length;L++){let G=Q[L],w=M8.measureText(G,Y,K,!1);w.lineHeight=w.height;let R=w.width*B,T=Math.ceil((Y.fontStyle==="italic"?2:1)*R),h=w.height*B,v=T+_*2,b=h+_*2;if(W=!1,G!==`
`&&G!=="\r"&&G!=="\t"&&G!==" ")W=!0,A=Math.ceil(Math.max(b,A));if(O+v>F){if(U+=A,A=b,O=0,U+A>C){z.update();let u=this._nextPage();K=u.canvasAndContext.canvas,X=u.canvasAndContext.context,z=u.texture.source,O=0,U=0,A=0}}let m=R/B-(Y.dropShadow?.distance??0)-(Y._stroke?.width??0);if(this.chars[G]={id:G.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:m,kerning:{}},W){this._drawGlyph(X,w,O+_,U+_,B,Y);let u=z.width*B,c=z.height*B,o=new $0(O/u*z.width,U/c*z.height,v/u*z.width,b/c*z.height);this.chars[G].texture=new p({source:z,frame:o}),O+=Math.ceil(v)}}z.update(),this._currentX=O,this._currentY=U,this._currentMaxCharHeight=A,this._skipKerning&&this._applyKerning(Q,X)}get pageTextures(){return q0(Y0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(J,Q){let q=this._measureCache;for(let K=0;K<J.length;K++){let X=J[K];for(let z=0;z<this._currentChars.length;z++){let Y=this._currentChars[z],O=q[X];if(!O)O=q[X]=Q.measureText(X).width;let U=q[Y];if(!U)U=q[Y]=Q.measureText(Y).width;let A=Q.measureText(X+Y).width,B=A-(O+U);if(B)this.chars[X].kerning[Y]=B;if(A=Q.measureText(X+Y).width,B=A-(O+U),B)this.chars[Y].kerning[X]=B}}}_nextPage(){this._currentPageIndex++;let J=this.resolution,Q=_8.getOptimalCanvasAndContext(this._textureSize,this._textureSize,J);this._setupContext(Q.context,this._style,J);let q=J*(this.baseRenderedFontSize/this.baseMeasurementFontSize),K=new p({source:new c8({resource:Q.canvas,resolution:q,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});if(this._textureStyle)K.source.style=this._textureStyle;let X={canvasAndContext:Q,texture:K};return this.pages[this._currentPageIndex]=X,X}_setupContext(J,Q,q){Q.fontSize=this.baseRenderedFontSize,J.scale(q,q),J.font=mZ(Q),Q.fontSize=this.baseMeasurementFontSize,J.textBaseline=Q.textBaseline;let K=Q._stroke,X=K?.width??0;if(K)J.lineWidth=X,J.lineJoin=K.join,J.miterLimit=K.miterLimit,J.strokeStyle=oJ(K,J);if(Q._fill)J.fillStyle=oJ(Q._fill,J);if(Q.dropShadow){let z=Q.dropShadow,Y=F0.shared.setValue(z.color).toArray(),O=z.blur*q,U=z.distance*q;J.shadowColor=`rgba(${Y[0]*255},${Y[1]*255},${Y[2]*255},${z.alpha})`,J.shadowBlur=O,J.shadowOffsetX=Math.cos(z.angle)*U,J.shadowOffsetY=Math.sin(z.angle)*U}else J.shadowColor="black",J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0}_drawGlyph(J,Q,q,K,X,z){let{text:Y,fontProperties:O}=Q,A=(z._stroke?.width??0)*X,B=q+A/2,_=K-A/2,W=O.descent*X,F=Q.lineHeight*X,C=!1;if(z.stroke&&A)C=!0,J.strokeText(Y,B,_+F-W);let{shadowBlur:L,shadowOffsetX:G,shadowOffsetY:w}=J;if(z._fill){if(C)J.shadowBlur=0,J.shadowOffsetX=0,J.shadowOffsetY=0;J.fillText(Y,B,_+F-W)}if(C)J.shadowBlur=L,J.shadowOffsetX=G,J.shadowOffsetY=w}destroy(){super.destroy();for(let J=0;J<this.pages.length;J++){let{canvasAndContext:Q,texture:q}=this.pages[J];_8.returnCanvasAndContext(Q),q.destroy(!0)}this.pages=null}};jP.defaultOptions={textureSize:512,style:new B8,mipmap:!0};G_=jP});function VY(Z,J,Q,q){let K={width:0,height:0,offsetY:0,scale:J.fontSize/Q.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};K.offsetY=Q.baseLineOffset;let X=K.lines[0],z=null,Y=!0,O={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},U=Q.baseMeasurementFontSize/J.fontSize,A=J.letterSpacing*U,B=J.wordWrapWidth*U,_=J.lineHeight?J.lineHeight*U:Q.lineHeight,W=J.wordWrap&&J.breakWords,F=(G)=>{let w=X.width;for(let R=0;R<O.index;R++){let T=G.positions[R];X.chars.push(G.chars[R]),X.charPositions.push(T+w)}X.width+=G.width,Y=!1,O.width=0,O.index=0,O.chars.length=0},C=()=>{let G=X.chars.length-1;if(q){let w=X.chars[G];while(w===" ")X.width-=Q.chars[w].xAdvance,w=X.chars[--G]}K.width=Math.max(K.width,X.width),X={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},Y=!0,K.lines.push(X),K.height+=_},L=(G)=>G-A>B;for(let G=0;G<Z.length+1;G++){let w,R=G===Z.length;if(!R)w=Z[G];let T=Q.chars[w]||Q.chars[" "];if(/(?:\s)/.test(w)||w==="\r"||w===`
`||R){if(!Y&&J.wordWrap&&L(X.width+O.width)){if(C(),F(O),!R)X.charPositions.push(0)}else if(O.start=X.width,F(O),!R)X.charPositions.push(0);if(w==="\r"||w===`
`)C();else if(!R){let m=T.xAdvance+(T.kerning[z]||0)+A;X.width+=m,X.spaceWidth=m,X.spacesIndex.push(X.charPositions.length),X.chars.push(w)}}else{let b=T.kerning[z]||0,m=T.xAdvance+b+A;if(W&&L(X.width+O.width+m))F(O),C();O.positions[O.index++]=O.width+b,O.chars.push(w),O.width+=m}z=w}if(C(),J.align==="center")Aa(K);else if(J.align==="right")Da(K);else if(J.align==="justify")Ba(K);return K}function Aa(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width/2-Q.width/2;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function Da(Z){for(let J=0;J<Z.lines.length;J++){let Q=Z.lines[J],q=Z.width-Q.width;for(let K=0;K<Q.charPositions.length;K++)Q.charPositions[K]+=q}}function Ba(Z){let J=Z.width;for(let Q=0;Q<Z.lines.length;Q++){let q=Z.lines[Q],K=0,X=q.spacesIndex[K++],z=0,Y=q.spacesIndex.length,U=(J-q.width)/Y;for(let A=0;A<q.charPositions.length;A++){if(A===X)X=q.spacesIndex[K++],z+=U;q.charPositions[A]+=z}}}var F_=()=>{};function CP(Z){if(Z==="")return[];if(typeof Z==="string")Z=[Z];let J=[];for(let Q=0,q=Z.length;Q<q;Q++){let K=Z[Q];if(Array.isArray(K)){if(K.length!==2)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${K.length}.`);if(K[0].length===0||K[1].length===0)throw Error("[BitmapFont]: Invalid character delimiter.");let X=K[0].charCodeAt(0),z=K[1].charCodeAt(0);if(z<X)throw Error("[BitmapFont]: Invalid character range.");for(let Y=X,O=z;Y<=O;Y++)J.push(String.fromCharCode(Y))}else J.push(...Array.from(K))}if(J.length===0)throw Error("[BitmapFont]: Empty set when resolving characters.");return J}var LP=()=>{};class RP{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=NY(1000)}getFont(Z,J){let Q=`${J.fontFamily}-bitmap`,q=!0;if(J._fill.fill&&!J._stroke)Q+=J._fill.fill.styleKey,q=!1;else if(J._stroke||J.dropShadow)Q=`${J.styleKey}-bitmap`,q=!1;if(!y0.has(Q)){let X=Object.create(J);X.lineHeight=0;let z=new G_({style:X,overrideFill:q,overrideSize:!0,...this.defaultOptions});if(OY++,OY>50)Z0("BitmapText",`You have dynamically created ${OY} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``);z.once("destroy",()=>{OY--,y0.remove(Q)}),y0.set(Q,z)}let K=y0.get(Q);return K.ensureCharacters?.(Z),K}getLayout(Z,J,Q=!0){let q=this.getFont(Z,J),K=`${Z}-${J.styleKey}-${Q}`;if(this.measureCache.has(K))return this.measureCache.get(K);let X=M8.graphemeSegmenter(Z),z=VY(X,J,q,Q);return this.measureCache.set(K,z),z}measureText(Z,J,Q=!0){return this.getLayout(Z,J,Q)}install(...Z){let J=Z[0];if(typeof J==="string")J={name:J,style:Z[1],chars:Z[2]?.chars,resolution:Z[2]?.resolution,padding:Z[2]?.padding,skipKerning:Z[2]?.skipKerning},q0(Y0,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})");let Q=J?.name;if(!Q)throw Error("[BitmapFontManager] Property `name` is required.");J={...this.defaultOptions,...J};let q=J.style,K=q instanceof B8?q:new B8(q),X=J.dynamicFill??this._canUseTintForStyle(K),z=new G_({style:K,overrideFill:X,skipKerning:J.skipKerning,padding:J.padding,resolution:J.resolution,overrideSize:!1,textureStyle:J.textureStyle}),Y=CP(J.chars);return z.ensureCharacters(Y.join("")),y0.set(`${Q}-bitmap`,z),z.once("destroy",()=>y0.remove(`${Q}-bitmap`)),z}uninstall(Z){let J=`${Z}-bitmap`,Q=y0.get(J);if(Q)Q.destroy()}_canUseTintForStyle(Z){return!Z._stroke&&(!Z.dropShadow||Z.dropShadow.color===0)&&!Z._fill.fill&&Z._fill.color===16777215}}var OY=0,cK;var j_=j(()=>{O_();B9();M1();i0();mK();gK();wP();F_();LP();cK=new RP});class UY{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuBitmapText(Z);return this._renderer.renderPipes.graphics.validateRenderable(J)}addRenderable(Z,J){let Q=this._getGpuBitmapText(Z);if(EP(Z,Q),Z._didTextUpdate)Z._didTextUpdate=!1,this._updateContext(Z,Q);if(this._renderer.renderPipes.graphics.addRenderable(Q,J),Q.context.customShader)this._updateDistanceField(Z)}updateRenderable(Z){let J=this._getGpuBitmapText(Z);if(EP(Z,J),this._renderer.renderPipes.graphics.updateRenderable(J),J.context.customShader)this._updateDistanceField(Z)}_updateContext(Z,J){let{context:Q}=J,q=cK.getFont(Z.text,Z._style);if(Q.clear(),q.distanceField.type!=="none"){if(!Q.customShader)Q.customShader=new M_(this._renderer.limits.maxBatchableTextures)}let K=M8.graphemeSegmenter(Z.text),X=Z._style,z=q.baseLineOffset,Y=VY(K,X,q,!0),O=X.padding,U=Y.scale,A=Y.width,B=Y.height+Y.offsetY;if(X._stroke)A+=X._stroke.width/U,B+=X._stroke.width/U;Q.translate(-Z._anchor._x*A-O,-Z._anchor._y*B-O).scale(U,U);let _=q.applyFillAsTint?X._fill.color:16777215,W=q.fontMetrics.fontSize,F=q.lineHeight;if(X.lineHeight)W=X.fontSize/U,F=X.lineHeight/U;let C=(F-W)/2;if(C-q.baseLineOffset<0)C=0;for(let L=0;L<Y.lines.length;L++){let G=Y.lines[L];for(let w=0;w<G.charPositions.length;w++){let R=G.chars[w],T=q.chars[R];if(T?.texture){let h=T.texture;Q.texture(h,_?_:"black",Math.round(G.charPositions[w]+T.xOffset),Math.round(z+T.yOffset+C),h.orig.width,h.orig.height)}}z+=F}}_getGpuBitmapText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new IP;return Z._gpuData[this._renderer.uid]=J,this._updateContext(Z,J),J}_updateDistanceField(Z){let J=this._getGpuBitmapText(Z).context,Q=Z._style.fontFamily,q=y0.get(`${Q}-bitmap`),{a:K,b:X,c:z,d:Y}=Z.groupTransform,O=Math.sqrt(K*K+X*X),U=Math.sqrt(z*z+Y*Y),A=(Math.abs(O)+Math.abs(U))/2,B=q.baseRenderedFontSize/Z._style.fontSize,_=A*q.distanceField.range*(1/B);J.customShader.resources.localUniforms.uniforms.uDistance=_}destroy(){this._renderer=null}}function EP(Z,J){J.groupTransform=Z.groupTransform,J.groupColorAlpha=Z.groupColorAlpha,J.groupColor=Z.groupColor,J.groupBlendMode=Z.groupBlendMode,J.globalDisplayStatus=Z.globalDisplayStatus,J.groupTransform=Z.groupTransform,J.localDisplayStatus=Z.localDisplayStatus,J.groupAlpha=Z.groupAlpha,J._roundPixels=Z._roundPixels}var IP;var TP=j(()=>{B9();g();D_();mK();FP();j_();F_();IP=class IP extends x6{destroy(){if(this.context.customShader)this.context.customShader.destroy();super.destroy()}};UY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"bitmapText"}});var w_=j(()=>{g();TP();J0.add(UY)});var C_;var SP=j(()=>{yK();C_=class C_ extends N7{constructor(Z){super();this.generatingTexture=!1,this.currentKey="--",this._renderer=Z,Z.runners.resolutionChange.add(this)}resolutionChange(){let Z=this.renderable;if(Z._autoResolution)Z.onViewUpdate()}destroy(){let{htmlText:Z}=this._renderer;Z.getReferenceCount(this.currentKey)===null?Z.returnTexturePromise(this.texturePromise):Z.decreaseReferenceCount(this.currentKey),this._renderer.runners.resolutionChange.remove(this),this.texturePromise=null,this._renderer=null}}});class $Y{constructor(Z){this._renderer=Z}validateRenderable(Z){let J=this._getGpuText(Z),Q=Z.styleKey;if(J.currentKey!==Q)return!0;return!1}addRenderable(Z,J){let Q=this._getGpuText(Z);if(Z._didTextUpdate){let q=Z._autoResolution?this._renderer.resolution:Z.resolution;if(Q.currentKey!==Z.styleKey||Z.resolution!==q)this._updateGpuText(Z).catch((K)=>{console.error(K)});Z._didTextUpdate=!1,fK(Q,Z)}this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuText(Z);J._batcher.updateElement(J)}async _updateGpuText(Z){Z._didTextUpdate=!1;let J=this._getGpuText(Z);if(J.generatingTexture)return;let Q=J.texturePromise;J.texturePromise=null,J.generatingTexture=!0,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution;let q=this._renderer.htmlText.getTexturePromise(Z);if(Q)q=q.finally(()=>{this._renderer.htmlText.decreaseReferenceCount(J.currentKey),this._renderer.htmlText.returnTexturePromise(Q)});J.texturePromise=q,J.currentKey=Z.styleKey,J.texture=await q;let K=Z.renderGroup||Z.parentRenderGroup;if(K)K.structureDidChange=!0;J.generatingTexture=!1,fK(J,Z)}_getGpuText(Z){return Z._gpuData[this._renderer.uid]||this.initGpuText(Z)}initGpuText(Z){let J=new C_(this._renderer);return J.renderable=Z,J.transform=Z.groupTransform,J.texture=p.EMPTY,J.bounds={minX:0,maxX:1,minY:0,maxY:0},J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._resolution=Z._autoResolution?this._renderer.resolution:Z.resolution,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var bP=j(()=>{g();a0();iB();SP();$Y.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"htmlText"}});function kP(){let{userAgent:Z}=K0.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(Z)}var PP=j(()=>{s0()});class uK{constructor(){this.svgRoot=document.createElementNS(vP,"svg"),this.foreignObject=document.createElementNS(vP,"foreignObject"),this.domElement=document.createElementNS(fP,"div"),this.styleElement=document.createElementNS(fP,"style");let{foreignObject:Z,svgRoot:J,styleElement:Q,domElement:q}=this;Z.setAttribute("width","10000"),Z.setAttribute("height","10000"),Z.style.overflow="hidden",J.appendChild(Z),Z.appendChild(Q),Z.appendChild(q),this.image=K0.get().createImage()}destroy(){this.svgRoot.remove(),this.foreignObject.remove(),this.styleElement.remove(),this.domElement.remove(),this.image.src="",this.image.remove(),this.svgRoot=null,this.foreignObject=null,this.styleElement=null,this.domElement=null,this.image=null,this.canvasAndContext=null}}var vP="http://www.w3.org/2000/svg",fP="http://www.w3.org/1999/xhtml";var L_=j(()=>{s0()});function yP(Z,J){let Q=J.fontFamily,q=[],K={},X=/font-family:([^;"\s]+)/g,z=Z.match(X);function Y(O){if(!K[O])q.push(O),K[O]=!0}if(Array.isArray(Q))for(let O=0;O<Q.length;O++)Y(Q[O]);else Y(Q);if(z)z.forEach((O)=>{let U=O.split(":")[1].trim();Y(U)});for(let O in J.tagStyles){let U=J.tagStyles[O].fontFamily;Y(U)}return q}var hP=()=>{};async function xP(Z){let Q=await(await K0.get().fetch(Z)).blob(),q=new FileReader;return await new Promise((X,z)=>{q.onloadend=()=>X(q.result),q.onerror=z,q.readAsDataURL(Q)})}var gP=j(()=>{s0()});async function mP(Z,J){let Q=await xP(J);return`@font-face {
        font-family: "${Z.fontFamily}";
        font-weight: ${Z.fontWeight};
        font-style: ${Z.fontStyle};
        src: url('${Q}');
    }`}var dP=j(()=>{gP()});async function cP(Z){let J=Z.filter((Q)=>y0.has(`${Q}-and-url`)).map((Q)=>{if(!R_.has(Q)){let{entries:q}=y0.get(`${Q}-and-url`),K=[];q.forEach((X)=>{let z=X.url,O=X.faces.map((U)=>({weight:U.weight,style:U.style}));K.push(...O.map((U)=>mP({fontWeight:U.weight,fontStyle:U.style,fontFamily:Q},z)))}),R_.set(Q,Promise.all(K).then((X)=>X.join(`
`)))}return R_.get(Q)});return(await Promise.all(J)).join(`
`)}var R_;var uP=j(()=>{B9();dP();R_=new Map});function lP(Z,J,Q,q,K){let{domElement:X,styleElement:z,svgRoot:Y}=K;X.innerHTML=`<style>${J.cssStyle}</style><div style='padding:0;'>${Z}</div>`,X.setAttribute("style",`transform: scale(${Q});transform-origin: top left; display: inline-block`),z.textContent=q;let{width:O,height:U}=K.image;return Y.setAttribute("width",O.toString()),Y.setAttribute("height",U.toString()),new XMLSerializer().serializeToString(Y)}var pP=()=>{};function iP(Z,J){let Q=_8.getOptimalCanvasAndContext(Z.width,Z.height,J),{context:q}=Q;return q.clearRect(0,0,Z.width,Z.height),q.drawImage(Z,0,0),Q}var aP=j(()=>{nJ()});function sP(Z,J,Q){return new Promise(async(q)=>{if(Q)await new Promise((K)=>setTimeout(K,100));Z.onload=()=>{q()},Z.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(J)}`,Z.crossOrigin="anonymous"})}var nP=()=>{};function tP(Z,J,Q,q){q||(q=oP||(oP=new uK));let{domElement:K,styleElement:X,svgRoot:z}=q;if(K.innerHTML=`<style>${J.cssStyle};</style><div style='padding:0'>${Z}</div>`,K.setAttribute("style","transform-origin: top left; display: inline-block"),Q)X.textContent=Q;document.body.appendChild(z);let Y=K.getBoundingClientRect();z.remove();let O=J.padding*2;return{width:Y.width-O,height:Y.height-O}}var oP;var rP=j(()=>{L_()});class AY{constructor(Z){this._activeTextures={},this._renderer=Z,this._createCanvas=Z.type===F1.WEBGPU}getTexture(Z){return this.getTexturePromise(Z)}getManagedTexture(Z){let J=Z.styleKey;if(this._activeTextures[J])return this._increaseReferenceCount(J),this._activeTextures[J].promise;let Q=this._buildTexturePromise(Z).then((q)=>{return this._activeTextures[J].texture=q,q});return this._activeTextures[J]={texture:null,promise:Q,usageCount:1},Q}getReferenceCount(Z){return this._activeTextures[Z]?.usageCount??null}_increaseReferenceCount(Z){this._activeTextures[Z].usageCount++}decreaseReferenceCount(Z){let J=this._activeTextures[Z];if(!J)return;if(J.usageCount--,J.usageCount===0){if(J.texture)this._cleanUp(J.texture);else J.promise.then((Q)=>{J.texture=Q,this._cleanUp(J.texture)}).catch(()=>{Z0("HTMLTextSystem: Failed to clean texture")});this._activeTextures[Z]=null}}getTexturePromise(Z){return this._buildTexturePromise(Z)}async _buildTexturePromise(Z){let{text:J,style:Q,resolution:q,textureStyle:K}=Z,X=Q1.get(uK),z=yP(J,Q),Y=await cP(z),O=tP(J,Q,Y,X),U=Math.ceil(Math.ceil(Math.max(1,O.width)+Q.padding*2)*q),A=Math.ceil(Math.ceil(Math.max(1,O.height)+Q.padding*2)*q),B=X.image,_=2;B.width=(U|0)+2,B.height=(A|0)+2;let W=lP(J,Q,q,Y,X);await sP(B,W,kP()&&z.length>0);let F=B,C;if(this._createCanvas)C=iP(B,q);let L=XY(C?C.canvas:F,B.width-2,B.height-2,q);if(K)L.source.style=K;if(this._createCanvas)this._renderer.texture.initSource(L.source),_8.returnCanvasAndContext(C);return Q1.return(X),L}returnTexturePromise(Z){Z.then((J)=>{this._cleanUp(J)}).catch(()=>{Z0("HTMLTextSystem: Failed to clean texture")})}_cleanUp(Z){t0.returnTexture(Z,!0),Z.source.resource=null,Z.source.uploadMethodId="unknown"}destroy(){this._renderer=null;for(let Z in this._activeTextures)if(this._activeTextures[Z])this.returnTexturePromise(this._activeTextures[Z].promise);this._activeTextures=null}}var eP=j(()=>{g();nJ();q4();$6();PP();i0();Q4();V_();L_();hP();uP();pP();aP();nP();rP();AY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"htmlText"}});var E_=j(()=>{g();bP();eP();J0.add(AY);J0.add($Y)});var Zv,tJ;var DY=j(()=>{M9();q7();PJ();M1();Zv=class Z extends v6{constructor(...J){let Q=J[0]??{};if(Q instanceof Float32Array)q0(Y0,"use new MeshGeometry({ positions, uvs, indices }) instead"),Q={positions:Q,uvs:J[1],indices:J[2]};Q={...Z.defaultOptions,...Q};let q=Q.positions||new Float32Array([0,0,1,0,1,1,0,1]),K=Q.uvs;if(!K)if(Q.positions)K=new Float32Array(q.length);else K=new Float32Array([0,0,1,0,1,1,0,1]);let X=Q.indices||new Uint32Array([0,1,2,0,2,3]),z=Q.shrinkBuffersToFit,Y=new h1({data:q,label:"attribute-mesh-positions",shrinkToFit:z,usage:j0.VERTEX|j0.COPY_DST}),O=new h1({data:K,label:"attribute-mesh-uvs",shrinkToFit:z,usage:j0.VERTEX|j0.COPY_DST}),U=new h1({data:X,label:"index-mesh-buffer",shrinkToFit:z,usage:j0.INDEX|j0.COPY_DST});super({attributes:{aPosition:{buffer:Y,format:"float32x2",stride:8,offset:0},aUV:{buffer:O,format:"float32x2",stride:8,offset:0}},indexBuffer:U,topology:Q.topology});this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(J){this.attributes.aPosition.buffer.data=J}get uvs(){return this.attributes.aUV.buffer.data}set uvs(J){this.attributes.aUV.buffer.data=J}get indices(){return this.indexBuffer.data}set indices(J){this.indexBuffer.data=J}};Zv.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};tJ=Zv});var dZ,Jv,rJ;var eJ=j(()=>{dZ={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},Jv={...dZ,vertex:{...dZ.vertex,header:dZ.vertex.header.replace("group(1)","group(2)")}},rJ={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}}});var Qv,qv;var Kv=j(()=>{Qv={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},qv={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}}});var I_,T_,S_;var Xv=j(()=>{S0();G9();eJ();F9();f6();f5();a0();Kv();S_=class S_ extends k1{constructor(){I_??(I_=N4({name:"tiling-sprite-shader",bits:[dZ,Qv,H4]})),T_??(T_=z4({name:"tiling-sprite-shader",bits:[rJ,qv,Y4]}));let Z=new n0({uMapCoord:{value:new a,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new a,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,0.5,0.5]),type:"vec4<f32>"}});super({glProgram:T_,gpuProgram:I_,resources:{localUniforms:new n0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:Z,uTexture:p.EMPTY.source,uSampler:p.EMPTY.source.style}})}updateUniforms(Z,J,Q,q,K,X){let z=this.resources.tilingUniforms,Y=X.width,O=X.height,U=X.textureMatrix,A=z.uniforms.uTextureTransform;if(A.set(Q.a*Y/Z,Q.b*Y/J,Q.c*O/Z,Q.d*O/J,Q.tx/Z,Q.ty/J),A.invert(),z.uniforms.uMapCoord=U.mapCoord,z.uniforms.uClampFrame=U.uClampFrame,z.uniforms.uClampOffset=U.uClampOffset,z.uniforms.uTextureTransform=A,z.uniforms.uSizeAnchor[0]=Z,z.uniforms.uSizeAnchor[1]=J,z.uniforms.uSizeAnchor[2]=q,z.uniforms.uSizeAnchor[3]=K,X)this.resources.uTexture=X.source,this.resources.uSampler=X.source.style}}});var b_;var Nv=j(()=>{DY();b_=class b_ extends tJ{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}});function zv(Z,J){let Q=Z.anchor.x,q=Z.anchor.y;J[0]=-Q*Z.width,J[1]=-q*Z.height,J[2]=(1-Q)*Z.width,J[3]=-q*Z.height,J[4]=(1-Q)*Z.width,J[5]=(1-q)*Z.height,J[6]=-Q*Z.width,J[7]=(1-q)*Z.height}var Hv=()=>{};function Yv(Z,J,Q,q){let K=0,X=Z.length/(J||2),z=q.a,Y=q.b,O=q.c,U=q.d,A=q.tx,B=q.ty;Q*=J;while(K<X){let _=Z[Q],W=Z[Q+1];Z[Q]=z*_+O*W+A,Z[Q+1]=Y*_+U*W+B,Q+=J,K++}}var Vv=()=>{};function Ov(Z,J){let Q=Z.texture,q=Q.frame.width,K=Q.frame.height,X=0,z=0;if(Z.applyAnchorToTexture)X=Z.anchor.x,z=Z.anchor.y;J[0]=J[6]=-X,J[2]=J[4]=1-X,J[1]=J[3]=-z,J[5]=J[7]=1-z;let Y=a.shared;Y.copyFrom(Z._tileTransform.matrix),Y.tx/=Z.width,Y.ty/=Z.height,Y.invert(),Y.scale(Z.width/q,Z.height/K),Yv(J,2,0,Y)}var Uv=j(()=>{S0();Vv()});class $v{constructor(){this.canBatch=!0,this.geometry=new tJ({indices:BY.indices.slice(),positions:BY.positions.slice(),uvs:BY.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class _Y{constructor(Z){this._state=x1.default2d,this._renderer=Z}validateRenderable(Z){let J=this._getTilingSpriteData(Z),Q=J.canBatch;this._updateCanBatch(Z);let q=J.canBatch;if(q&&q===Q){let{batchableMesh:K}=J;return!K._batcher.checkAndUpdateTexture(K,Z.texture)}return Q!==q}addRenderable(Z,J){let Q=this._renderer.renderPipes.batch;this._updateCanBatch(Z);let q=this._getTilingSpriteData(Z),{geometry:K,canBatch:X}=q;if(X){q.batchableMesh||(q.batchableMesh=new hZ);let z=q.batchableMesh;if(Z.didViewUpdate)this._updateBatchableMesh(Z),z.geometry=K,z.renderable=Z,z.transform=Z.groupTransform,z.setTexture(Z._texture);z.roundPixels=this._renderer._roundPixels|Z._roundPixels,Q.addToBatch(z,J)}else Q.break(J),q.shader||(q.shader=new S_),this.updateRenderable(Z),J.add(Z)}execute(Z){let{shader:J}=this._getTilingSpriteData(Z);J.groups[0]=this._renderer.globalUniforms.bindGroup;let Q=J.resources.localUniforms.uniforms;Q.uTransformMatrix=Z.groupTransform,Q.uRound=this._renderer._roundPixels|Z._roundPixels,V4(Z.groupColorAlpha,Q.uColor,0),this._state.blendMode=Q7(Z.groupBlendMode,Z.texture._source),this._renderer.encoder.draw({geometry:BY,shader:J,state:this._state})}updateRenderable(Z){let J=this._getTilingSpriteData(Z),{canBatch:Q}=J;if(Q){let{batchableMesh:q}=J;if(Z.didViewUpdate)this._updateBatchableMesh(Z);q._batcher.updateElement(q)}else if(Z.didViewUpdate){let{shader:q}=J;q.updateUniforms(Z.width,Z.height,Z._tileTransform.matrix,Z.anchor.x,Z.anchor.y,Z.texture)}}_getTilingSpriteData(Z){return Z._gpuData[this._renderer.uid]||this._initTilingSpriteData(Z)}_initTilingSpriteData(Z){let J=new $v;return J.renderable=Z,Z._gpuData[this._renderer.uid]=J,J}_updateBatchableMesh(Z){let J=this._getTilingSpriteData(Z),{geometry:Q}=J,q=Z.texture.source.style;if(q.addressMode!=="repeat")q.addressMode="repeat",q.update();Ov(Z,Q.uvs),zv(Z,Q.positions)}destroy(){this._renderer=null}_updateCanBatch(Z){let J=this._getTilingSpriteData(Z),Q=Z.texture,q=!0;if(this._renderer.type===F1.WEBGL)q=this._renderer.context.supports.nonPowOf2wrapping;return J.canBatch=Q.textureMatrix.isSimple&&(q||Q.source.isPowerOfTwo),J.canBatch}}var BY;var Av=j(()=>{g();FK();y6();$6();pJ();lH();DY();Xv();Nv();Hv();Uv();BY=new b_;_Y.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"tilingSprite"}});var k_=j(()=>{g();Av();J0.add(_Y)});var Dv,Bv;var _v=j(()=>{M1();DY();Dv=class Z extends tJ{constructor(...J){super({});let Q=J[0]??{};if(typeof Q==="number")q0(Y0,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),Q={width:Q,height:J[1],verticesX:J[2],verticesY:J[3]};this.build(Q)}build(J){J={...Z.defaultOptions,...J},this.verticesX=this.verticesX??J.verticesX,this.verticesY=this.verticesY??J.verticesY,this.width=this.width??J.width,this.height=this.height??J.height;let Q=this.verticesX*this.verticesY,q=[],K=[],X=[],z=this.verticesX-1,Y=this.verticesY-1,O=this.width/z,U=this.height/Y;for(let B=0;B<Q;B++){let _=B%this.verticesX,W=B/this.verticesX|0;q.push(_*O,W*U),K.push(_/z,W/Y)}let A=z*Y;for(let B=0;B<A;B++){let _=B%z,W=B/z|0,F=W*this.verticesX+_,C=W*this.verticesX+_+1,L=(W+1)*this.verticesX+_,G=(W+1)*this.verticesX+_+1;X.push(F,C,L,C,G,L)}this.buffers[0].data=new Float32Array(q),this.buffers[1].data=new Float32Array(K),this.indexBuffer.data=new Uint32Array(X),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};Dv.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};Bv=Dv});var Mv,Wv;var Gv=j(()=>{_v();Mv=class Z extends Bv{constructor(J={}){J={...Z.defaultOptions,...J};super({width:J.width,height:J.height,verticesX:4,verticesY:4});this.update(J)}update(J){this.width=J.width??this.width,this.height=J.height??this.height,this._originalWidth=J.originalWidth??this._originalWidth,this._originalHeight=J.originalHeight??this._originalHeight,this._leftWidth=J.leftWidth??this._leftWidth,this._rightWidth=J.rightWidth??this._rightWidth,this._topHeight=J.topHeight??this._topHeight,this._bottomHeight=J.bottomHeight??this._bottomHeight,this._anchorX=J.anchor?.x,this._anchorY=J.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){let J=this.positions,{width:Q,height:q,_leftWidth:K,_rightWidth:X,_topHeight:z,_bottomHeight:Y,_anchorX:O,_anchorY:U}=this,A=K+X,B=Q>A?1:Q/A,_=z+Y,W=q>_?1:q/_,F=Math.min(B,W),C=O*Q,L=U*q;J[0]=J[8]=J[16]=J[24]=-C,J[2]=J[10]=J[18]=J[26]=K*F-C,J[4]=J[12]=J[20]=J[28]=Q-X*F-C,J[6]=J[14]=J[22]=J[30]=Q-C,J[1]=J[3]=J[5]=J[7]=-L,J[9]=J[11]=J[13]=J[15]=z*F-L,J[17]=J[19]=J[21]=J[23]=q-Y*F-L,J[25]=J[27]=J[29]=J[31]=q-L,this.getBuffer("aPosition").update()}updateUvs(){let J=this.uvs;J[0]=J[8]=J[16]=J[24]=0,J[1]=J[3]=J[5]=J[7]=0,J[6]=J[14]=J[22]=J[30]=1,J[25]=J[27]=J[29]=J[31]=1;let Q=1/this._originalWidth,q=1/this._originalHeight;J[2]=J[10]=J[18]=J[26]=Q*this._leftWidth,J[9]=J[11]=J[13]=J[15]=q*this._topHeight,J[4]=J[12]=J[20]=J[28]=1-Q*this._rightWidth,J[17]=J[19]=J[21]=J[23]=1-q*this._bottomHeight,this.getBuffer("aUV").update()}};Mv.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};Wv=Mv});class MY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.geometry.update(Z),J.setTexture(Z._texture)}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=Z._gpuData[this._renderer.uid]=new Fv,Q=J;if(Q.renderable=Z,Q.transform=Z.groupTransform,Q.texture=Z._texture,Q.roundPixels=this._renderer._roundPixels|Z._roundPixels,!Z.didViewUpdate)this._updateBatchableSprite(Z,Q);return J}destroy(){this._renderer=null}}var Fv;var jv=j(()=>{g();lH();Gv();Fv=class Fv extends hZ{constructor(){super();this.geometry=new Wv}destroy(){this.geometry.destroy()}};MY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"nineSliceSprite"}});var P_=j(()=>{g();jv();J0.add(MY)});class WY{constructor(Z){this._renderer=Z}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:J,filterEffect:Z})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(Z){if(Z.action==="pushFilter")this._renderer.filter.push(Z);else if(Z.action==="popFilter")this._renderer.filter.pop()}destroy(){this._renderer=null}}var wv=j(()=>{g();WY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"filter"}});var Cv,W1;var cZ=j(()=>{X4();X7();f6();y6();Cv=class Z extends k1{constructor(J){J={...Z.defaultOptions,...J};super(J);if(this.enabled=!0,this._state=x1.for2d(),this.blendMode=J.blendMode,this.padding=J.padding,typeof J.antialias==="boolean")this.antialias=J.antialias?"on":"off";else this.antialias=J.antialias;this.resolution=J.resolution,this.blendRequired=J.blendRequired,this.clipToViewport=J.clipToViewport,this.addResource("uTexture",0,1)}apply(J,Q,q,K){J.applyFilter(this,Q,q,K)}get blendMode(){return this._state.blendMode}set blendMode(J){this._state.blendMode=J}static from(J){let{gpu:Q,gl:q,...K}=J,X,z;if(Q)X=A5.from(Q);if(q)z=$5.from(q);return new Z({gpuProgram:X,glProgram:z,...K})}};Cv.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};W1=Cv});var GY=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;var v_=()=>{};var Lv=`in vec2 vTextureCoord;
out vec4 finalColor;
uniform sampler2D uTexture;
void main() {
    finalColor = texture(uTexture, vTextureCoord);
}
`;var Rv=()=>{};var f_=`struct GlobalFilterUniforms {
  uInputSize: vec4<f32>,
  uInputPixel: vec4<f32>,
  uInputClamp: vec4<f32>,
  uOutputFrame: vec4<f32>,
  uGlobalFrame: vec4<f32>,
  uOutputTexture: vec4<f32>,
};

@group(0) @binding(0) var <uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler: sampler;

struct VSOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) uv: vec2<f32>
};

fn filterVertexPosition(aPosition: vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0 * gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord(aPosition: vec2<f32>) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition: vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {
    return textureSample(uTexture, uSampler, uv);
}
`;var Ev=()=>{};var y_;var Iv=j(()=>{X4();X7();cZ();v_();Rv();Ev();y_=class y_ extends W1{constructor(){let Z=A5.from({vertex:{source:f_,entryPoint:"mainVertex"},fragment:{source:f_,entryPoint:"mainFragment"},name:"passthrough-filter"}),J=$5.from({vertex:GY,fragment:Lv,name:"passthrough-filter"});super({gpuProgram:Z,glProgram:J})}}});function Sv(Z,J){J.clear();let Q=J.matrix;for(let q=0;q<Z.length;q++){let K=Z[q];if(K.globalDisplayStatus<7)continue;let X=K.renderGroup??K.parentRenderGroup;if(X?.isCachedAsTexture)J.matrix=Tv.copyFrom(X.textureOffsetInverseTransform).append(K.worldTransform);else if(X?._parentCacheAsTextureRenderGroup)J.matrix=Tv.copyFrom(X._parentCacheAsTextureRenderGroup.inverseWorldTransform).append(K.groupTransform);else J.matrix=K.worldTransform;J.addBounds(K.bounds)}return J.matrix=Q,J}var Tv;var bv=j(()=>{S0();Tv=new a});class kv{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new q1,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0},this.firstEnabledIndex=-1,this.lastEnabledIndex=-1}}class FY{constructor(Z){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new n0({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new R5({}),this.renderer=Z}get activeBackTexture(){return this._activeFilterData?.backTexture}push(Z){let J=this.renderer,Q=Z.filterEffect.filters,q=this._pushFilterData();q.skip=!1,q.filters=Q,q.container=Z.container,q.outputRenderSurface=J.renderTarget.renderSurface;let K=J.renderTarget.renderTarget.colorTexture.source,X=K.resolution,z=K.antialias;if(Q.every((_)=>!_.enabled)){q.skip=!0;return}let Y=q.bounds;if(this._calculateFilterArea(Z,Y),this._calculateFilterBounds(q,J.renderTarget.rootViewPort,z,X,1),q.skip)return;let O=this._getPreviousFilterData(),U=this._findFilterResolution(X),A=0,B=0;if(O)A=O.bounds.minX,B=O.bounds.minY;this._calculateGlobalFrame(q,A,B,U,K.width,K.height),this._setupFilterTextures(q,Y,J,O)}generateFilteredTexture({texture:Z,filters:J}){let Q=this._pushFilterData();this._activeFilterData=Q,Q.skip=!1,Q.filters=J;let q=Z.source,K=q.resolution,X=q.antialias;if(J.every((_)=>!_.enabled))return Q.skip=!0,Z;let z=Q.bounds;if(z.addRect(Z.frame),this._calculateFilterBounds(Q,z.rectangle,X,K,0),Q.skip)return Z;let Y=K,O=0,U=0;this._calculateGlobalFrame(Q,O,U,Y,q.width,q.height),Q.outputRenderSurface=t0.getOptimalTexture(z.width,z.height,Q.resolution,Q.antialias),Q.backTexture=p.EMPTY,Q.inputTexture=Z,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(Q,!0);let B=Q.outputRenderSurface;return B.source.alphaMode="premultiplied-alpha",B}pop(){let Z=this.renderer,J=this._popFilterData();if(J.skip)return;if(Z.globalUniforms.pop(),Z.renderTarget.finishRenderPass(),this._activeFilterData=J,this._applyFiltersToTexture(J,!1),J.blendRequired)t0.returnTexture(J.backTexture);t0.returnTexture(J.inputTexture)}getBackTexture(Z,J,Q){let q=Z.colorTexture.source._resolution,K=t0.getOptimalTexture(J.width,J.height,q,!1),X=J.minX,z=J.minY;if(Q)X-=Q.minX,z-=Q.minY;X=Math.floor(X*q),z=Math.floor(z*q);let Y=Math.ceil(J.width*q),O=Math.ceil(J.height*q);return this.renderer.renderTarget.copyToTexture(Z,K,{x:X,y:z},{width:Y,height:O},{x:0,y:0}),K}applyFilter(Z,J,Q,q){let K=this.renderer,X=this._activeFilterData,Y=X.outputRenderSurface===Q,O=K.renderTarget.rootRenderTarget.colorTexture.source._resolution,U=this._findFilterResolution(O),A=0,B=0;if(Y){let W=this._findPreviousFilterOffset();A=W.x,B=W.y}this._updateFilterUniforms(J,Q,X,A,B,U,Y,q);let _=Z.enabled?Z:this._getPassthroughFilter();this._setupBindGroupsAndRender(_,J,K)}calculateSpriteMatrix(Z,J){let Q=this._activeFilterData,q=Z.set(Q.inputTexture._source.width,0,0,Q.inputTexture._source.height,Q.bounds.minX,Q.bounds.minY),K=J.worldTransform.copyTo(a.shared),X=J.renderGroup||J.parentRenderGroup;if(X&&X.cacheToLocalTransform)K.prepend(X.cacheToLocalTransform);return K.invert(),q.prepend(K),q.scale(1/J.texture.orig.width,1/J.texture.orig.height),q.translate(J.anchor.x,J.anchor.y),q}destroy(){this._passthroughFilter?.destroy(!0),this._passthroughFilter=null}_getPassthroughFilter(){return this._passthroughFilter??(this._passthroughFilter=new y_),this._passthroughFilter}_setupBindGroupsAndRender(Z,J,Q){if(Q.renderPipes.uniformBatch){let q=Q.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(q,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);if(this._globalFilterBindGroup.setResource(J.source,1),this._globalFilterBindGroup.setResource(J.source.style,2),Z.groups[0]=this._globalFilterBindGroup,Q.encoder.draw({geometry:_a,shader:Z,state:Z._state,topology:"triangle-list"}),Q.type===F1.WEBGL)Q.renderTarget.finishRenderPass()}_setupFilterTextures(Z,J,Q,q){if(Z.backTexture=p.EMPTY,Z.inputTexture=t0.getOptimalTexture(J.width,J.height,Z.resolution,Z.antialias),Z.blendRequired){Q.renderTarget.finishRenderPass();let K=Q.renderTarget.getRenderTarget(Z.outputRenderSurface);Z.backTexture=this.getBackTexture(K,J,q?.bounds)}Q.renderTarget.bind(Z.inputTexture,!0),Q.globalUniforms.push({offset:J})}_calculateGlobalFrame(Z,J,Q,q,K,X){let z=Z.globalFrame;z.x=J*q,z.y=Q*q,z.width=K*q,z.height=X*q}_updateFilterUniforms(Z,J,Q,q,K,X,z,Y){let O=this._filterGlobalUniforms.uniforms,U=O.uOutputFrame,A=O.uInputSize,B=O.uInputPixel,_=O.uInputClamp,W=O.uGlobalFrame,F=O.uOutputTexture;if(z)U[0]=Q.bounds.minX-q,U[1]=Q.bounds.minY-K;else U[0]=0,U[1]=0;U[2]=Z.frame.width,U[3]=Z.frame.height,A[0]=Z.source.width,A[1]=Z.source.height,A[2]=1/A[0],A[3]=1/A[1],B[0]=Z.source.pixelWidth,B[1]=Z.source.pixelHeight,B[2]=1/B[0],B[3]=1/B[1],_[0]=0.5*B[2],_[1]=0.5*B[3],_[2]=Z.frame.width*A[2]-0.5*B[2],_[3]=Z.frame.height*A[3]-0.5*B[3];let C=this.renderer.renderTarget.rootRenderTarget.colorTexture;if(W[0]=q*X,W[1]=K*X,W[2]=C.source.width*X,W[3]=C.source.height*X,J instanceof p)J.source.resource=null;let L=this.renderer.renderTarget.getRenderTarget(J);if(this.renderer.renderTarget.bind(J,!!Y),J instanceof p)F[0]=J.frame.width,F[1]=J.frame.height;else F[0]=L.width,F[1]=L.height;F[2]=L.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(Z){let J=this._filterStackIndex-1;while(J>0&&this._filterStack[J].skip)--J;return J>0&&this._filterStack[J].inputTexture?this._filterStack[J].inputTexture.source._resolution:Z}_findPreviousFilterOffset(){let Z=0,J=0,Q=this._filterStackIndex;while(Q>0){Q--;let q=this._filterStack[Q];if(!q.skip){Z=q.bounds.minX,J=q.bounds.minY;break}}return{x:Z,y:J}}_calculateFilterArea(Z,J){if(Z.renderables)Sv(Z.renderables,J);else if(Z.filterEffect.filterArea)J.clear(),J.addRect(Z.filterEffect.filterArea),J.applyMatrix(Z.container.worldTransform);else Z.container.getFastGlobalBounds(!0,J);if(Z.container){let q=(Z.container.renderGroup||Z.container.parentRenderGroup).cacheToLocalTransform;if(q)J.applyMatrix(q)}}_applyFiltersToTexture(Z,J){let{inputTexture:Q,bounds:q,filters:K,firstEnabledIndex:X,lastEnabledIndex:z}=Z;if(this._globalFilterBindGroup.setResource(Q.source.style,2),this._globalFilterBindGroup.setResource(Z.backTexture.source,3),X===z)K[X].apply(this,Q,Z.outputRenderSurface,J);else{let Y=Z.inputTexture,O=t0.getOptimalTexture(q.width,q.height,Y.source._resolution,!1),U=O;for(let A=X;A<z;A++){let B=K[A];if(!B.enabled)continue;B.apply(this,Y,U,!0);let _=Y;Y=U,U=_}K[z].apply(this,Y,Z.outputRenderSurface,J),t0.returnTexture(O)}}_calculateFilterBounds(Z,J,Q,q,K){let X=this.renderer,z=Z.bounds,Y=Z.filters,O=1/0,U=0,A=!0,B=!1,_=!1,W=!0,F=-1,C=-1;for(let L=0;L<Y.length;L++){let G=Y[L];if(!G.enabled)continue;if(F===-1)F=L;if(C=L,O=Math.min(O,G.resolution==="inherit"?q:G.resolution),U+=G.padding,G.antialias==="off")A=!1;else if(G.antialias==="inherit")A&&(A=Q);if(!G.clipToViewport)W=!1;if(!(G.compatibleRenderers&X.type)){_=!1;break}if(G.blendRequired&&!(X.backBuffer?.useBackBuffer??!0)){Z0("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),_=!1;break}_=!0,B||(B=G.blendRequired)}if(!_){Z.skip=!0;return}if(W)z.fitBounds(0,J.width/q,0,J.height/q);if(z.scale(O).ceil().scale(1/O).pad((U|0)*K),!z.isPositive){Z.skip=!0;return}Z.antialias=A,Z.resolution=O,Z.blendRequired=B,Z.firstEnabledIndex=F,Z.lastEnabledIndex=C}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let Z,J=this._filterStackIndex-1;while(J>0)if(J--,Z=this._filterStack[J],!Z.skip)break;return Z}_pushFilterData(){let Z=this._filterStack[this._filterStackIndex];if(!Z)Z=this._filterStack[this._filterStackIndex]=new kv;return this._filterStackIndex++,Z}}var _a;var Pv=j(()=>{g();Iv();S0();_9();PJ();f5();a0();q4();$6();O8();bv();i0();_a=new v6({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});FY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"filter"}});var h_=j(()=>{g();wv();Pv();J0.add(FY);J0.add(WY)});var Ma={};var vv=j(()=>{jT();dD();TT();bT();_H();EH();fB();hB();pB();A_();w_();E_();k_();P_();h_()});var Wa={};var yv=j(()=>{dD();_H();EH();fB();hB();pB();A_();w_();E_();k_();P_();h_()});async function xv(Z){if(Z)return;for(let J=0;J<x_.length;J++){let Q=x_[J];if(Q.value.test()){await Q.value.load();return}}}var x_;var gv=j(()=>{g();x_=[];J0.handleByNamedList(I.Environment,x_)});function jY(){if(typeof lK==="boolean")return lK;try{lK=Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(Z){lK=!1}return lK}var lK;var g_=()=>{};var D5;var ZQ=j(()=>{D5=((Z)=>{return Z[Z.NONE=0]="NONE",Z[Z.COLOR=16384]="COLOR",Z[Z.STENCIL=1024]="STENCIL",Z[Z.DEPTH=256]="DEPTH",Z[Z.COLOR_DEPTH=16640]="COLOR_DEPTH",Z[Z.COLOR_STENCIL=17408]="COLOR_STENCIL",Z[Z.DEPTH_STENCIL=1280]="DEPTH_STENCIL",Z[Z.ALL=17664]="ALL",Z})(D5||{})});class pK{constructor(Z){this.items=[],this._name=Z}emit(Z,J,Q,q,K,X,z,Y){let{name:O,items:U}=this;for(let A=0,B=U.length;A<B;A++)U[A][O](Z,J,Q,q,K,X,z,Y);return this}add(Z){if(Z[this._name])this.remove(Z),this.items.push(Z);return this}remove(Z){let J=this.items.indexOf(Z);if(J!==-1)this.items.splice(J,1);return this}contains(Z){return this.items.indexOf(Z)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}var m_=()=>{};var Ga,mv,w9;var iK=j(()=>{v5();gv();S6();g_();J5();M1();jZ();ZQ();m_();C5();Ga=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],mv=class Z extends J1{constructor(J){super();this.uid=M0("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=J.type,this.name=J.name,this.config=J;let Q=[...Ga,...this.config.runners??[]];this._addRunners(...Q),this._unsafeEvalCheck()}async init(J={}){let Q=J.skipExtensionImports===!0?!0:J.manageImports===!1;await xv(Q),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(let q in this._systemsHash)J={...this._systemsHash[q].constructor.defaultOptions,...J};J={...Z.defaultOptions,...J},this._roundPixels=J.roundPixels?1:0;for(let q=0;q<this.runners.init.items.length;q++)await this.runners.init.items[q].init(J);this._initOptions=J}render(J,Q){let q=J;if(q instanceof f0){if(q={container:q},Q)q0(Y0,"passing a second argument is deprecated, please use render options instead"),q.target=Q.renderTexture}if(q.target||(q.target=this.view.renderTarget),q.target===this.view.renderTarget)this._lastObjectRendered=q.container,q.clearColor??(q.clearColor=this.background.colorRgba),q.clear??(q.clear=this.background.clearBeforeRender);if(q.clearColor){let K=Array.isArray(q.clearColor)&&q.clearColor.length===4;q.clearColor=K?q.clearColor:F0.shared.setValue(q.clearColor).toArray()}if(!q.transform)q.container.updateLocalTransform(),q.transform=q.container.localTransform;if(!q.container.visible)return;q.container.enableRenderGroup(),this.runners.prerender.emit(q),this.runners.renderStart.emit(q),this.runners.render.emit(q),this.runners.renderEnd.emit(q),this.runners.postrender.emit(q)}resize(J,Q,q){let K=this.view.resolution;if(this.view.resize(J,Q,q),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),q!==void 0&&q!==K)this.runners.resolutionChange.emit(q)}clear(J={}){let Q=this;J.target||(J.target=Q.renderTarget.renderTarget),J.clearColor||(J.clearColor=this.background.colorRgba),J.clear??(J.clear=D5.ALL);let{clear:q,clearColor:K,target:X}=J;F0.shared.setValue(K??this.background.colorRgba),Q.renderTarget.clear(X,q,F0.shared.toArray())}get resolution(){return this.view.resolution}set resolution(J){this.view.resolution=J,this.runners.resolutionChange.emit(J)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...J){J.forEach((Q)=>{this.runners[Q]=new pK(Q)})}_addSystems(J){let Q;for(Q in J){let q=J[Q];this._addSystem(q.value,q.name)}}_addSystem(J,Q){let q=new J(this);if(this[Q])throw Error(`Whoops! The name "${Q}" is already in use`);this[Q]=q,this._systemsHash[Q]=q;for(let K in this.runners)this.runners[K].add(q);return this}_addPipes(J,Q){let q=Q.reduce((K,X)=>{return K[X.name]=X.value,K},{});J.forEach((K)=>{let{value:X,name:z}=K,Y=q[z];this.renderPipes[z]=new X(this,Y?new Y:null),this.runners.destroy.add(this.renderPipes[z])})}destroy(J=!1){if(this.runners.destroy.items.reverse(),this.runners.destroy.emit(J),Object.values(this.runners).forEach((Q)=>{Q.destroy()}),J===!0||typeof J==="object"&&J.releaseGlobalResources)O6.release();this._systemsHash=null,this.renderPipes=null}generateTexture(J){return this.textureGenerator.generateTexture(J)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!jY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};mv.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};w9=mv});class LY{constructor(){this._maxTextures=0}contextChange(Z){let J=new n0({uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=Z.limits.maxBatchableTextures;let Q=N4({name:"graphics",bits:[fJ,hJ(this._maxTextures),Jv,H4]});this.shader=new k1({gpuProgram:Q,resources:{localUniforms:J}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:z,instructions:Y}=X.getContextRenderData(Q),O=K.encoder;O.setGeometry(z.geometry,q.gpuProgram);let U=K.globalUniforms.bindGroup;O.setBindGroup(0,U,q.gpuProgram);let A=K.renderPipes.uniformBatch.getUniformBindGroup(q.resources.localUniforms,!0);O.setBindGroup(2,A,q.gpuProgram);let B=Y.instructions,_=null;for(let W=0;W<Y.instructionSize;W++){let F=B[W];if(F.topology!==_)_=F.topology,O.setPipelineFromGeometryProgramAndState(z.geometry,q.gpuProgram,Z.state,F.topology);if(q.groups[1]=F.bindGroup,!F.gpuBindGroup){let C=F.textures;F.bindGroup=bJ(C.textures,C.count,this._maxTextures),F.gpuBindGroup=K.bindGroup.getBindGroup(F.bindGroup,q.gpuProgram,1)}O.setBindGroup(1,F.bindGroup,q.gpuProgram),O.renderPassEncoder.drawIndexed(F.size,1,F.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}var uv=j(()=>{g();S0();IH();G9();EK();IK();eJ();F9();f6();f5();LY.extension={type:[I.WebGPUPipesAdaptor],name:"graphics"}});var lv,pv;var d_=j(()=>{lv={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},pv={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}}});class RY{init(){let Z=N4({name:"mesh",bits:[dZ,lv,H4]});this._shader=new k1({gpuProgram:Z,resources:{uTexture:p.EMPTY._source,uSampler:p.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q)q=this._shader,q.groups[2]=Q.texture.getTextureBindGroup(J.texture);else if(!q.gpuProgram){Z0("Mesh shader has no gpuProgram",J.shader);return}let K=q.gpuProgram;if(K.autoAssignGlobalUniforms)q.groups[0]=Q.globalUniforms.bindGroup;if(K.autoAssignLocalUniforms){let X=Z.localUniforms;q.groups[1]=Q.renderPipes.uniformBatch.getUniformBindGroup(X,!0)}Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var iv=j(()=>{g();S0();G9();eJ();F9();d_();f6();a0();i0();RY.extension={type:[I.WebGPUPipesAdaptor],name:"mesh"}});class IY{start(Z,J,Q){let q=Z.renderer,K=q.encoder,X=Q.gpuProgram;this._shader=Q,this._geometry=J,K.setGeometry(J,X),EY.blendMode="normal",q.pipeline.getPipeline(J,X,EY);let z=q.globalUniforms.bindGroup;K.resetBindGroup(1),K.setBindGroup(0,z,X)}execute(Z,J){let Q=this._shader.gpuProgram,q=Z.renderer,K=q.encoder;if(!J.bindGroup){let Y=J.textures;J.bindGroup=bJ(Y.textures,Y.count,q.limits.maxBatchableTextures)}EY.blendMode=J.blendMode;let X=q.bindGroup.getBindGroup(J.bindGroup,Q,1),z=q.pipeline.getPipeline(this._geometry,Q,EY,J.topology);J.bindGroup._touch(q.textureGC.count),K.setPipeline(z),K.renderPassEncoder.setBindGroup(1,X),K.renderPassEncoder.drawIndexed(J.size,1,J.start)}}var EY;var av=j(()=>{g();y6();IH();EY=x1.for2d();IY.extension={type:[I.WebGPUPipesAdaptor],name:"batch"}});class TY{constructor(Z){this._renderer=Z}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(Z,J){this._renderer.renderPipes.batch.break(J),J.add(Z)}execute(Z){if(!Z.isRenderable)return;Z.render(this._renderer)}destroy(){this._renderer=null}}var sv=j(()=>{g();TY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"customRender"}});function aK(Z,J){let Q=Z.instructionSet,q=Q.instructions;for(let K=0;K<Q.instructionSize;K++){let X=q[K];J[X.renderPipeId].execute(X)}}var c_=()=>{};class SY{constructor(Z){this._renderer=Z}addRenderGroup(Z,J){if(Z.isCachedAsTexture)this._addRenderableCacheAsTexture(Z,J);else this._addRenderableDirect(Z,J)}execute(Z){if(!Z.isRenderable)return;if(Z.isCachedAsTexture)this._executeCacheAsTexture(Z);else this._executeDirect(Z)}destroy(){this._renderer=null}_addRenderableDirect(Z,J){if(this._renderer.renderPipes.batch.break(J),Z._batchableRenderGroup)Q1.return(Z._batchableRenderGroup),Z._batchableRenderGroup=null;J.add(Z)}_addRenderableCacheAsTexture(Z,J){let Q=Z._batchableRenderGroup??(Z._batchableRenderGroup=Q1.get(N7));Q.renderable=Z.root,Q.transform=Z.root.relativeGroupTransform,Q.texture=Z.texture,Q.bounds=Z._textureBounds,J.add(Z),this._renderer.renderPipes.blendMode.pushBlendMode(Z,Z.root.groupBlendMode,J),this._renderer.renderPipes.batch.addToBatch(Q,J),this._renderer.renderPipes.blendMode.popBlendMode(J)}_executeCacheAsTexture(Z){if(Z.textureNeedsUpdate){Z.textureNeedsUpdate=!1;let J=Fa.identity().translate(-Z._textureBounds.x,-Z._textureBounds.y);this._renderer.renderTarget.push(Z.texture,!0,null,Z.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:J,worldColor:4294967295,offset:{x:0,y:0}}),aK(Z,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}Z._batchableRenderGroup._batcher.updateElement(Z._batchableRenderGroup),Z._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(Z){this._renderer.globalUniforms.push({worldTransformMatrix:Z.inverseParentTextureTransform,worldColor:Z.worldColorAlpha}),aK(Z,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}var Fa;var nv=j(()=>{g();S0();Q4();yK();c_();Fa=new a;SY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"renderGroup"}});function sK(Z,J){J||(J=0);for(let Q=J;Q<Z.length;Q++)if(Z[Q])Z[Q]=null;else break}var u_=()=>{};function l_(Z,J=!1){wa(Z);let Q=Z.childrenToUpdate,q=Z.updateTick++;for(let K in Q){let X=Number(K),z=Q[K],Y=z.list,O=z.index;for(let U=0;U<O;U++){let A=Y[U];if(A.parentRenderGroup===Z&&A.relativeRenderGroupDepth===X)rv(A,q,0)}sK(Y,O),z.index=0}if(J)for(let K=0;K<Z.renderGroupChildren.length;K++)l_(Z.renderGroupChildren[K],J)}function wa(Z){let J=Z.root,Q;if(Z.renderGroupParent){let q=Z.renderGroupParent;Z.worldTransform.appendFrom(J.relativeGroupTransform,q.worldTransform),Z.worldColor=FJ(J.groupColor,q.worldColor),Q=J.groupAlpha*q.worldAlpha}else Z.worldTransform.copyFrom(J.localTransform),Z.worldColor=J.localColor,Q=J.localAlpha;Q=Q<0?0:Q>1?1:Q,Z.worldAlpha=Q,Z.worldColorAlpha=Z.worldColor+((Q*255|0)<<24)}function rv(Z,J,Q){if(J===Z.updateTick)return;Z.updateTick=J,Z.didChange=!1;let q=Z.localTransform;Z.updateLocalTransform();let K=Z.parent;if(K&&!K.renderGroup){if(Q|=Z._updateFlags,Z.relativeGroupTransform.appendFrom(q,K.relativeGroupTransform),Q&ov)tv(Z,K,Q)}else if(Q=Z._updateFlags,Z.relativeGroupTransform.copyFrom(q),Q&ov)tv(Z,ja,Q);if(!Z.renderGroup){let X=Z.children,z=X.length;for(let U=0;U<z;U++)rv(X[U],J,Q);let Y=Z.parentRenderGroup,O=Z;if(O.renderPipeId&&!Y.structureDidChange)Y.updateRenderable(O)}}function tv(Z,J,Q){if(Q&LJ){Z.groupColor=FJ(Z.localColor,J.groupColor);let q=Z.localAlpha*J.groupAlpha;q=q<0?0:q>1?1:q,Z.groupAlpha=q,Z.groupColorAlpha=Z.groupColor+((q*255|0)<<24)}if(Q&VK)Z.groupBlendMode=Z.localBlendMode==="inherit"?J.groupBlendMode:Z.localBlendMode;if(Q&TZ)Z.globalDisplayStatus=Z.localDisplayStatus&J.globalDisplayStatus;Z._updateFlags=0}var ja,ov;var ev=j(()=>{S6();u_();wD();ja=new f0,ov=TZ|LJ|VK});function Zf(Z,J){let{list:Q}=Z.childrenRenderablesToUpdate,q=!1;for(let K=0;K<Z.childrenRenderablesToUpdate.index;K++){let X=Q[K];if(q=J[X.renderPipeId].validateRenderable(X),q)break}return Z.structureDidChange=q,q}var Jf=()=>{};class bY{constructor(Z){this._renderer=Z}render({container:Z,transform:J}){let Q=Z.parent,q=Z.renderGroup.renderGroupParent;Z.parent=null,Z.renderGroup.renderGroupParent=null;let K=this._renderer,X=Ca;if(J)X.copyFrom(Z.renderGroup.localTransform),Z.renderGroup.localTransform.copyFrom(J);let z=K.renderPipes;if(this._updateCachedRenderGroups(Z.renderGroup,null),this._updateRenderGroups(Z.renderGroup),K.globalUniforms.start({worldTransformMatrix:J?Z.renderGroup.localTransform:Z.renderGroup.worldTransform,worldColor:Z.renderGroup.worldColorAlpha}),aK(Z.renderGroup,z),z.uniformBatch)z.uniformBatch.renderEnd();if(J)Z.renderGroup.localTransform.copyFrom(X);Z.parent=Q,Z.renderGroup.renderGroupParent=q}destroy(){this._renderer=null}_updateCachedRenderGroups(Z,J){if(Z._parentCacheAsTextureRenderGroup=J,Z.isCachedAsTexture){if(!Z.textureNeedsUpdate)return;J=Z}for(let Q=Z.renderGroupChildren.length-1;Q>=0;Q--)this._updateCachedRenderGroups(Z.renderGroupChildren[Q],J);if(Z.invalidateMatrices(),Z.isCachedAsTexture){if(Z.textureNeedsUpdate){let Q=Z.root.getLocalBounds();Q.ceil();let q=Z.texture;if(Z.texture)t0.returnTexture(Z.texture,!0);let K=this._renderer,X=Z.textureOptions.resolution||K.view.resolution,z=Z.textureOptions.antialias??K.view.antialias,Y=Z.textureOptions.scaleMode??"linear",O=t0.getOptimalTexture(Q.width,Q.height,X,z);if(O._source.style=new U8({scaleMode:Y}),Z.texture=O,Z._textureBounds||(Z._textureBounds=new q1),Z._textureBounds.copyFrom(Q),q!==Z.texture){if(Z.renderGroupParent)Z.renderGroupParent.structureDidChange=!0}}}else if(Z.texture)t0.returnTexture(Z.texture,!0),Z.texture=null}_updateRenderGroups(Z){let J=this._renderer,Q=J.renderPipes;if(Z.runOnRender(J),Z.instructionSet.renderPipes=Q,!Z.structureDidChange)Zf(Z,Q);else sK(Z.childrenRenderablesToUpdate.list,0);if(l_(Z),Z.structureDidChange)Z.structureDidChange=!1,this._buildInstructions(Z,J);else this._updateRenderables(Z);if(Z.childrenRenderablesToUpdate.index=0,J.renderPipes.batch.upload(Z.instructionSet),Z.isCachedAsTexture&&!Z.textureNeedsUpdate)return;for(let q=0;q<Z.renderGroupChildren.length;q++)this._updateRenderGroups(Z.renderGroupChildren[q])}_updateRenderables(Z){let{list:J,index:Q}=Z.childrenRenderablesToUpdate;for(let q=0;q<Q;q++){let K=J[q];if(K.didViewUpdate)Z.updateRenderable(K)}sK(J,Q)}_buildInstructions(Z,J){let{root:Q,instructionSet:q}=Z;q.reset();let K=J.renderPipes?J:J.batch.renderer,X=K.renderPipes;if(X.batch.buildStart(q),X.blendMode.buildStart(),X.colorMask.buildStart(),Q.sortableChildren)Q.sortChildren();Q.collectRenderablesWithEffects(q,K,null),X.batch.buildEnd(q),X.blendMode.buildEnd(q)}}var Ca;var Qf=j(()=>{g();S0();q4();CZ();O8();u_();c_();ev();Jf();Ca=new a;bY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"renderGroup"}});class kY{constructor(Z){this._renderer=Z}addRenderable(Z,J){let Q=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,Q);this._renderer.renderPipes.batch.addToBatch(Q,J)}updateRenderable(Z){let J=this._getGpuSprite(Z);if(Z.didViewUpdate)this._updateBatchableSprite(Z,J);J._batcher.updateElement(J)}validateRenderable(Z){let J=this._getGpuSprite(Z);return!J._batcher.checkAndUpdateTexture(J,Z._texture)}_updateBatchableSprite(Z,J){J.bounds=Z.visualBounds,J.texture=Z._texture}_getGpuSprite(Z){return Z._gpuData[this._renderer.uid]||this._initGPUSprite(Z)}_initGPUSprite(Z){let J=new N7;return J.renderable=Z,J.transform=Z.groupTransform,J.texture=Z._texture,J.bounds=Z.visualBounds,J.roundPixels=this._renderer._roundPixels|Z._roundPixels,Z._gpuData[this._renderer.uid]=J,J}destroy(){this._renderer=null}}var qf=j(()=>{g();yK();kY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"sprite"}});var JQ="8.14.0";var p_=j(()=>{C5()});class PY{static init(){globalThis.__PIXI_APP_INIT__?.(this,JQ)}static destroy(){}}class vY{constructor(Z){this._renderer=Z}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,JQ)}destroy(){this._renderer=null}}var i_=j(()=>{g();p_();PY.extension=I.Application;vY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"initHook",priority:-10}});var a_=class Z{constructor(J,Q){this.state=x1.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=J,this._adaptor=Q,this._adaptor.init?.(this)}static getBatcher(J){return new this._availableBatchers[J]}buildStart(J){let Q=this._batchersByInstructionSet[J.uid];if(!Q)Q=this._batchersByInstructionSet[J.uid]=Object.create(null),Q.default||(Q.default=new TK({maxTextures:this.renderer.limits.maxBatchableTextures}));this._activeBatches=Q,this._activeBatch=this._activeBatches.default;for(let q in this._activeBatches)this._activeBatches[q].begin()}addToBatch(J,Q){if(this._activeBatch.name!==J.batcherName){this._activeBatch.break(Q);let q=this._activeBatches[J.batcherName];if(!q)q=this._activeBatches[J.batcherName]=Z.getBatcher(J.batcherName),q.begin();this._activeBatch=q}this._activeBatch.add(J)}break(J){this._activeBatch.break(J)}buildEnd(J){this._activeBatch.break(J);let Q=this._activeBatches;for(let q in Q){let K=Q[q],X=K.geometry;X.indexBuffer.setDataWithSize(K.indexBuffer,K.indexSize,!0),X.buffers[0].setDataWithSize(K.attributeBuffer.float32View,K.attributeSize,!1)}}upload(J){let Q=this._batchersByInstructionSet[J.uid];for(let q in Q){let K=Q[q],X=K.geometry;if(K.dirty)K.dirty=!1,X.buffers[0].update(K.attributeSize*4)}}execute(J){if(J.action==="startBatch"){let Q=J.batcher,q=Q.geometry,K=Q.shader;this._adaptor.start(this,q,K)}this._adaptor.execute(this,J)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(let J in this._activeBatches)this._activeBatches[J].destroy();this._activeBatches=null}},s_;var Kf=j(()=>{g();y6();CB();a_.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"batch"};a_._availableBatchers=Object.create(null);s_=a_;J0.handleByMap(I.Batcher,s_._availableBatchers);J0.add(TK)});var Xf=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`;var Nf=()=>{};var zf=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`;var Hf=()=>{};var n_=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;var Yf=()=>{};var o_;var Vf=j(()=>{S0();X4();X7();f5();kD();cZ();Nf();Hf();Yf();o_=class o_ extends W1{constructor(Z){let{sprite:J,...Q}=Z,q=new YK(J.texture),K=new n0({uFilterMatrix:{value:new a,type:"mat3x3<f32>"},uMaskClamp:{value:q.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:Z.inverse?1:0,type:"f32"}}),X=A5.from({vertex:{source:n_,entryPoint:"mainVertex"},fragment:{source:n_,entryPoint:"mainFragment"}}),z=$5.from({vertex:zf,fragment:Xf,name:"mask-filter"});super({...Q,gpuProgram:X,glProgram:z,clipToViewport:!1,resources:{filterUniforms:K,uMaskTexture:J.texture.source}});this.sprite=J,this._textureMatrix=q}set inverse(Z){this.resources.filterUniforms.uniforms.uInverse=Z?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(Z,J,Q,q){this._textureMatrix.texture=this.sprite.texture,Z.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,Z.applyFilter(this,J,Q,q)}}});class fY{constructor(Z){this._activeMaskStage=[],this._renderer=Z}push(Z,J,Q){let q=this._renderer;if(q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1,maskedContainer:J}),Z.inverse=J._maskOptions.inverse,Z.renderMaskToTexture){let K=Z.mask;K.includeInBuild=!0,K.collectRenderables(Q,q,null),K.includeInBuild=!1}q.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:Z,maskedContainer:J,inverse:J._maskOptions.inverse,canBundle:!1})}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q),Q.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1})}execute(Z){let J=this._renderer,Q=Z.mask.renderMaskToTexture;if(Z.action==="pushMaskBegin"){let q=Q1.get(Of);if(q.inverse=Z.inverse,Q){Z.mask.mask.measurable=!0;let K=GJ(Z.mask.mask,!0,La);Z.mask.mask.measurable=!1,K.ceil();let X=J.renderTarget.renderTarget.colorTexture.source,z=t0.getOptimalTexture(K.width,K.height,X._resolution,X.antialias);J.renderTarget.push(z,!0),J.globalUniforms.push({offset:K,worldColor:4294967295});let Y=q.sprite;Y.texture=z,Y.worldTransform.tx=K.minX,Y.worldTransform.ty=K.minY,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer,filterTexture:z})}else q.sprite=Z.mask.mask,this._activeMaskStage.push({filterEffect:q,maskedContainer:Z.maskedContainer})}else if(Z.action==="pushMaskEnd"){let q=this._activeMaskStage[this._activeMaskStage.length-1];if(Q){if(J.type===F1.WEBGL)J.renderTarget.finishRenderPass();J.renderTarget.pop(),J.globalUniforms.pop()}J.filter.push({renderPipeId:"filter",action:"pushFilter",container:q.maskedContainer,filterEffect:q.filterEffect,canBundle:!1})}else if(Z.action==="popMaskEnd"){J.filter.pop();let q=this._activeMaskStage.pop();if(Q)t0.returnTexture(q.filterTexture);Q1.return(q.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}var La,Of;var Uf=j(()=>{g();ez();Vf();O8();XK();WH();Q4();a0();q4();$6();La=new q1;Of=class Of extends U9{constructor(){super();this.filters=[new o_({sprite:new P6(p.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(Z){this.filters[0].sprite=Z}get inverse(){return this.filters[0].inverse}set inverse(Z){this.filters[0].inverse=Z}};fY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"alphaMask"}});class yY{constructor(Z){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=Z}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;K[this._colorStackIndex]=K[this._colorStackIndex-1]&Z.mask;let X=this._colorStack[this._colorStackIndex];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1});this._colorStackIndex++}pop(Z,J,Q){this._renderer.renderPipes.batch.break(Q);let K=this._colorStack;this._colorStackIndex--;let X=K[this._colorStackIndex-1];if(X!==this._currentColor)this._currentColor=X,Q.add({renderPipeId:"colorMask",colorMask:X,canBundle:!1})}execute(Z){this._renderer.colorMask.setMask(Z.colorMask)}destroy(){this._renderer=null,this._colorStack=null}}var $f=j(()=>{g();yY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"colorMask"}});class hY{constructor(Z){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=Z}push(Z,J,Q){var q;let K=Z,X=this._renderer;X.renderPipes.batch.break(Q),X.renderPipes.blendMode.setBlendMode(K.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let z=K.mask;if(z.includeInBuild=!0,!this._maskHash.has(K))this._maskHash.set(K,{instructionsStart:0,instructionsLength:0});let Y=this._maskHash.get(K);Y.instructionsStart=Q.instructionSize,z.collectRenderables(Q,X,null),z.includeInBuild=!1,X.renderPipes.batch.break(Q),Q.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:Z,inverse:J._maskOptions.inverse,canBundle:!1});let O=Q.instructionSize-Y.instructionsStart-1;Y.instructionsLength=O;let U=X.renderTarget.renderTarget.uid;(q=this._maskStackHash)[U]??(q[U]=0)}pop(Z,J,Q){let q=Z,K=this._renderer;K.renderPipes.batch.break(Q),K.renderPipes.blendMode.setBlendMode(q.mask,"none",Q),Q.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:J._maskOptions.inverse,canBundle:!1});let X=this._maskHash.get(Z);for(let z=0;z<X.instructionsLength;z++)Q.instructions[Q.instructionSize++]=Q.instructions[X.instructionsStart++];Q.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(Z){var J;let Q=this._renderer,q=Q.renderTarget.renderTarget.uid,K=(J=this._maskStackHash)[q]??(J[q]=0);if(Z.action==="pushMaskBegin")Q.renderTarget.ensureDepthStencil(),Q.stencil.setStencilMode($1.RENDERING_MASK_ADD,K),K++,Q.colorMask.setMask(0);else if(Z.action==="pushMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode($1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode($1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}else if(Z.action==="popMaskBegin"){if(Q.colorMask.setMask(0),K!==0)Q.stencil.setStencilMode($1.RENDERING_MASK_REMOVE,K);else Q.renderTarget.clear(null,D5.STENCIL),Q.stencil.setStencilMode($1.DISABLED,K);K--}else if(Z.action==="popMaskEnd"){if(Z.inverse)Q.stencil.setStencilMode($1.INVERSE_MASK_ACTIVE,K);else Q.stencil.setStencilMode($1.MASK_ACTIVE,K);Q.colorMask.setMask(15)}this._maskStackHash[q]=K}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}var Af=j(()=>{g();ZQ();PZ();hY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"stencilMask"}});var t_=class Z{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new F0(0),this.color=this._backgroundColor,this.alpha=1}init(J){J={...Z.defaultOptions,...J},this.clearBeforeRender=J.clearBeforeRender,this.color=J.background||J.backgroundColor||this._backgroundColor,this.alpha=J.backgroundAlpha,this._backgroundColor.setAlpha(J.backgroundAlpha)}get color(){return this._backgroundColor}set color(J){if(F0.shared.setValue(J).alpha<1&&this._backgroundColor.alpha===1)Z0("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application.");this._backgroundColor.setValue(J)}get alpha(){return this._backgroundColor.alpha}set alpha(J){this._backgroundColor.setAlpha(J)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}},Df;var Bf=j(()=>{v5();g();i0();t_.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"background",priority:0};t_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Df=t_});class xY{constructor(Z){this._blendModeStack=[],this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=Z,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}pushBlendMode(Z,J,Q){this._blendModeStack.push(J),this.setBlendMode(Z,J,Q)}popBlendMode(Z){this._blendModeStack.pop();let J=this._blendModeStack[this._activeBlendMode.length-1]??"normal";this.setBlendMode(null,J,Z)}setBlendMode(Z,J,Q){let q=Z instanceof CJ;if(this._activeBlendMode===J){if(this._isAdvanced&&Z&&!q)this._renderableList?.push(Z);return}if(this._isAdvanced)this._endAdvancedBlendMode(Q);if(this._activeBlendMode=J,!Z)return;if(this._isAdvanced=!!nK[J],this._isAdvanced)this._beginAdvancedBlendMode(Z,Q)}_beginAdvancedBlendMode(Z,J){this._renderer.renderPipes.batch.break(J);let Q=this._activeBlendMode;if(!nK[Q]){Z0(`Unable to assign BlendMode: '${Q}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let q=this._ensureFilterEffect(Q),K=Z instanceof CJ,X={renderPipeId:"filter",action:"pushFilter",filterEffect:q,renderables:K?null:[Z],container:K?Z.root:null,canBundle:!1};this._renderableList=X.renderables,J.add(X)}_ensureFilterEffect(Z){let J=this._filterHash[Z];if(!J)J=this._filterHash[Z]=new U9,J.filters=[new nK[Z]];return J}_endAdvancedBlendMode(Z){this._isAdvanced=!1,this._renderableList=null,this._renderer.renderPipes.batch.break(Z),Z.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(Z){if(!this._isAdvanced)return;this._endAdvancedBlendMode(Z)}destroy(){this._renderer=null,this._renderableList=null;for(let Z in this._filterHash)this._filterHash[Z].destroy();this._filterHash=null}}var nK;var _f=j(()=>{g();ez();PD();i0();nK={};J0.handle(I.BlendMode,(Z)=>{if(!Z.name)throw Error("BlendMode extension must have a name property");nK[Z.name]=Z.ref},(Z)=>{delete nK[Z.name]});xY.extension={type:[I.WebGLPipes,I.WebGPUPipes,I.CanvasPipes],name:"blendMode"}});var r_,e_=class Z{constructor(J){this._renderer=J}_normalizeOptions(J,Q={}){if(J instanceof f0||J instanceof p)return{target:J,...Q};return{...Q,...J}}async image(J){let Q=K0.get().createImage();return Q.src=await this.base64(J),Q}async base64(J){J=this._normalizeOptions(J,Z.defaultImageOptions);let{format:Q,quality:q}=J,K=this.canvas(J);if(K.toBlob!==void 0)return new Promise((X,z)=>{K.toBlob((Y)=>{if(!Y){z(Error("ICanvas.toBlob failed!"));return}let O=new FileReader;O.onload=()=>X(O.result),O.onerror=z,O.readAsDataURL(Y)},r_[Q],q)});if(K.toDataURL!==void 0)return K.toDataURL(r_[Q],q);if(K.convertToBlob!==void 0){let X=await K.convertToBlob({type:r_[Q],quality:q});return new Promise((z,Y)=>{let O=new FileReader;O.onload=()=>z(O.result),O.onerror=Y,O.readAsDataURL(X)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer;if(Q instanceof p)return q.texture.generateCanvas(Q);let K=q.textureGenerator.generateTexture(J),X=q.texture.generateCanvas(K);return K.destroy(!0),X}pixels(J){J=this._normalizeOptions(J);let Q=J.target,q=this._renderer,K=Q instanceof p?Q:q.textureGenerator.generateTexture(J),X=q.texture.getPixels(K);if(Q instanceof f0)K.destroy(!0);return X}texture(J){if(J=this._normalizeOptions(J),J.target instanceof p)return J.target;return this._renderer.textureGenerator.generateTexture(J)}download(J){J=this._normalizeOptions(J);let Q=this.canvas(J),q=document.createElement("a");q.download=J.filename??"image.png",q.href=Q.toDataURL("image/png"),document.body.appendChild(q),q.click(),document.body.removeChild(q)}log(J){let Q=J.width??200;J=this._normalizeOptions(J);let q=this.canvas(J),K=q.toDataURL();console.log(`[Pixi Texture] ${q.width}px ${q.height}px`);let X=["font-size: 1px;",`padding: ${Q}px 300px;`,`background: url(${K}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",X)}destroy(){this._renderer=null}},Mf;var Wf=j(()=>{s0();g();S6();a0();r_={png:"image/png",jpg:"image/jpeg",webp:"image/webp"};e_.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"extract"};e_.defaultImageOptions={format:"png",quality:1};Mf=e_});var gY;var Gf=j(()=>{i5();a0();gY=class gY extends p{static create(Z){return new gY({source:new m0(Z)})}resize(Z,J,Q){return this.source.resize(Z,J,Q),this}}});class mY{constructor(Z){this._renderer=Z}generateTexture(Z){if(Z instanceof f0)Z={target:Z,frame:void 0,textureSourceOptions:{},resolution:void 0};let J=Z.resolution||this._renderer.resolution,Q=Z.antialias||this._renderer.view.antialias,q=Z.target,K=Z.clearColor;if(K)K=Array.isArray(K)&&K.length===4?K:F0.shared.setValue(K).toArray();else K=Ia;let X=Z.frame?.copyTo(Ra)||jJ(q,Ea).rectangle;X.width=Math.max(X.width,1/J)|0,X.height=Math.max(X.height,1/J)|0;let z=gY.create({...Z.textureSourceOptions,width:X.width,height:X.height,resolution:J,antialias:Q}),Y=a.shared.translate(-X.x,-X.y);return this._renderer.render({container:q,transform:Y,target:z,clearColor:K}),z.source.updateMipmaps(),z}destroy(){this._renderer=null}}var Ra,Ea,Ia;var Ff=j(()=>{v5();g();S0();Q5();O8();KH();S6();Gf();Ra=new $0,Ea=new q1,Ia=[0,0,0,0];mY.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"textureGenerator"}});class dY{constructor(Z){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=Z}reset(){this._stackIndex=0;for(let Z=0;Z<this._activeUniforms.length;Z++)this._uniformsPool.push(this._activeUniforms[Z]);for(let Z=0;Z<this._activeBindGroups.length;Z++)this._bindGroupPool.push(this._activeBindGroups[Z]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(Z){this.reset(),this.push(Z)}bind({size:Z,projectionMatrix:J,worldTransformMatrix:Q,worldColor:q,offset:K}){let X=this._renderer.renderTarget.renderTarget,z=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:X,worldTransformMatrix:new a,worldColor:4294967295,offset:new P0},Y={projectionMatrix:J||this._renderer.renderTarget.projectionMatrix,resolution:Z||X.size,worldTransformMatrix:Q||z.worldTransformMatrix,worldColor:q||z.worldColor,offset:K||z.offset,bindGroup:null},O=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(O);let U=O.uniforms;U.uProjectionMatrix=Y.projectionMatrix,U.uResolution=Y.resolution,U.uWorldTransformMatrix.copyFrom(Y.worldTransformMatrix),U.uWorldTransformMatrix.tx-=Y.offset.x,U.uWorldTransformMatrix.ty-=Y.offset.y,V4(Y.worldColor,U.uWorldColorAlpha,0),O.update();let A;if(this._renderer.renderPipes.uniformBatch)A=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(O,!1);else A=this._bindGroupPool.pop()||new R5,this._activeBindGroups.push(A),A.setResource(O,0);Y.bindGroup=A,this._currentGlobalUniformData=Y}push(Z){this.bind(Z),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){if(this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===F1.WEBGL)this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new n0({uProjectionMatrix:{value:new a,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null,this._globalUniformDataStack.length=0,this._uniformsPool.length=0,this._activeUniforms.length=0,this._bindGroupPool.length=0,this._activeBindGroups.length=0,this._currentGlobalUniformData=null}}var jf=j(()=>{g();S0();T6();pJ();_9();$6();f5();dY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"globalUniforms"}});class cY{constructor(){this._tasks=[],this._offset=0}init(){L5.system.add(this._update,this)}repeat(Z,J,Q=!0){let q=Ta++,K=0;if(Q)this._offset+=1000,K=this._offset;return this._tasks.push({func:Z,duration:J,start:performance.now(),offset:K,last:performance.now(),repeat:!0,id:q}),q}cancel(Z){for(let J=0;J<this._tasks.length;J++)if(this._tasks[J].id===Z){this._tasks.splice(J,1);return}}_update(){let Z=performance.now();for(let J=0;J<this._tasks.length;J++){let Q=this._tasks[J];if(Z-Q.offset-Q.last>=Q.duration){let q=Z-Q.start;Q.func(q),Q.last=Z}}}destroy(){L5.system.remove(this._update,this),this._tasks.length=0}}var Ta=1;var wf=j(()=>{g();RJ();cY.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"scheduler",priority:0}});function Lf(Z){if(Cf)return;if(K0.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){let J=[`%c  %c  %c  %c  %c PixiJS %c v${JQ} (${Z}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...J)}else if(globalThis.console)globalThis.console.log(`PixiJS ${JQ} - ${Z} - http://www.pixijs.com/`);Cf=!0}var Cf=!1;var Rf=j(()=>{s0();p_()});class oK{constructor(Z){this._renderer=Z}init(Z){if(Z.hello){let J=this._renderer.name;if(this._renderer.type===F1.WEBGL)J+=` ${this._renderer.context.webGLVersion}`;Lf(J)}}}var Ef=j(()=>{g();Rf();$6();oK.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"hello",priority:-2};oK.defaultOptions={hello:!1}});function If(Z){let J=!1;for(let q in Z)if(Z[q]==null){J=!0;break}if(!J)return Z;let Q=Object.create(null);for(let q in Z){let K=Z[q];if(K)Q[q]=K}return Q}function Tf(Z){let J=0;for(let Q=0;Q<Z.length;Q++)if(Z[Q]==null)J++;else Z[Q-J]=Z[Q];return Z.length-=J,Z}var Sf=()=>{};var Sa=0,ZM=class Z{constructor(J){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=J}init(J){J={...Z.defaultOptions,...J},this.maxUnusedTime=J.renderableGCMaxUnusedTime,this._frequency=J.renderableGCFrequency,this.enabled=J.renderableGCActive}get enabled(){return!!this._handler}set enabled(J){if(this.enabled===J)return;if(J)this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedHashes)Q.context[Q.hash]=If(Q.context[Q.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(let Q of this._managedArrays)Tf(Q.context[Q.hash])},this._frequency);else this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)}addManagedHash(J,Q){this._managedHashes.push({context:J,hash:Q})}addManagedArray(J,Q){this._managedArrays.push({context:J,hash:Q})}prerender({container:J}){this._now=performance.now(),J.renderGroup.gcTick=Sa++,this._updateInstructionGCTick(J.renderGroup,J.renderGroup.gcTick)}addRenderable(J){if(!this.enabled)return;if(J._lastUsed===-1)this._managedRenderables.push(J),J.once("destroyed",this._removeRenderable,this);J._lastUsed=this._now}run(){let J=this._now,Q=this._managedRenderables,q=this._renderer.renderPipes,K=0;for(let X=0;X<Q.length;X++){let z=Q[X];if(z===null){K++;continue}let Y=z.renderGroup??z.parentRenderGroup,O=Y?.instructionSet?.gcTick??-1;if((Y?.gcTick??0)===O)z._lastUsed=J;if(J-z._lastUsed>this.maxUnusedTime){if(!z.destroyed){let U=q;if(Y)Y.structureDidChange=!0;U[z.renderPipeId].destroyRenderable(z)}z._lastUsed=-1,K++,z.off("destroyed",this._removeRenderable,this)}else Q[X-K]=z}Q.length-=K}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(J){let Q=this._managedRenderables.indexOf(J);if(Q>=0)J.off("destroyed",this._removeRenderable,this),this._managedRenderables[Q]=null}_updateInstructionGCTick(J,Q){J.instructionSet.gcTick=Q;for(let q of J.renderGroupChildren)this._updateInstructionGCTick(q,Q)}},bf;var kf=j(()=>{g();Sf();ZM.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"renderableGC",priority:0};ZM.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:60000,renderableGCFrequency:30000};bf=ZM});var JM=class Z{constructor(J){this._renderer=J,this.count=0,this.checkCount=0}init(J){J={...Z.defaultOptions,...J},this.checkCountMax=J.textureGCCheckCountMax,this.maxIdle=J.textureGCAMaxIdle??J.textureGCMaxIdle,this.active=J.textureGCActive}postrender(){if(!this._renderer.renderingToScreen)return;if(this.count++,!this.active)return;if(this.checkCount++,this.checkCount>this.checkCountMax)this.checkCount=0,this.run()}run(){let J=this._renderer.texture.managedTextures;for(let Q=0;Q<J.length;Q++){let q=J[Q];if(q.autoGarbageCollect&&q.resource&&q._touched>-1&&this.count-q._touched>this.maxIdle)q._touched=-1,q.unload()}}destroy(){this._renderer=null}},Pf;var vf=j(()=>{g();JM.extension={type:[I.WebGLSystem,I.WebGPUSystem],name:"textureGC"};JM.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};Pf=JM});var ff=class Z{constructor(J={}){if(this.uid=M0("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,J={...Z.defaultOptions,...J},this.stencil=J.stencil,this.depth=J.depth,this.isRoot=J.isRoot,typeof J.colorTextures==="number"){this._managedColorTextures=!0;for(let Q=0;Q<J.colorTextures;Q++)this.colorTextures.push(new m0({width:J.width,height:J.height,resolution:J.resolution,antialias:J.antialias}))}else{this.colorTextures=[...J.colorTextures.map((q)=>q.source)];let Q=this.colorTexture.source;this.resize(Q.width,Q.height,Q._resolution)}if(this.colorTexture.source.on("resize",this.onSourceResize,this),J.depthStencilTexture||this.stencil)if(J.depthStencilTexture instanceof p||J.depthStencilTexture instanceof m0)this.depthStencilTexture=J.depthStencilTexture.source;else this.ensureDepthStencilTexture()}get size(){let J=this._size;return J[0]=this.pixelWidth,J[1]=this.pixelHeight,J}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(J){this.resize(J.width,J.height,J._resolution,!0)}ensureDepthStencilTexture(){if(!this.depthStencilTexture)this.depthStencilTexture=new m0({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1})}resize(J,Q,q=this.resolution,K=!1){if(this.dirtyId++,this.colorTextures.forEach((X,z)=>{if(K&&z===0)return;X.source.resize(J,Q,q)}),this.depthStencilTexture)this.depthStencilTexture.source.resize(J,Q,q)}destroy(){if(this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures)this.colorTextures.forEach((J)=>{J.destroy()});if(this.depthStencilTexture)this.depthStencilTexture.destroy(),delete this.depthStencilTexture}},tK;var QM=j(()=>{J5();i5();a0();ff.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};tK=ff});function uY(Z,J){if(!QQ.has(Z)){let Q=new p({source:new n5({resource:Z,...J})}),q=()=>{if(QQ.get(Z)===Q)QQ.delete(Z)};Q.once("destroy",q),Q.source.once("destroy",q),QQ.set(Z,Q)}return QQ.get(Z)}var QQ;var qM=j(()=>{jZ();TJ();a0();QQ=new Map;O6.register(QQ)});var KM=class Z{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(J){this.texture.source.autoDensity=J}get resolution(){return this.texture.source._resolution}set resolution(J){this.texture.source.resize(this.texture.source.width,this.texture.source.height,J)}init(J){if(J={...Z.defaultOptions,...J},J.view)q0(Y0,"ViewSystem.view has been renamed to ViewSystem.canvas"),J.canvas=J.view;this.screen=new $0(0,0,J.width,J.height),this.canvas=J.canvas||K0.get().createCanvas(),this.antialias=!!J.antialias,this.texture=uY(this.canvas,J),this.renderTarget=new tK({colorTextures:[this.texture],depth:!!J.depth,isRoot:!0}),this.texture.source.transparent=J.backgroundAlpha<1,this.resolution=J.resolution}resize(J,Q,q){this.texture.source.resize(J,Q,q),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(J=!1){if((typeof J==="boolean"?J:!!J?.removeView)&&this.canvas.parentNode)this.canvas.parentNode.removeChild(this.canvas);this.texture.destroy()}},yf;var hf=j(()=>{s0();g();Q5();M1();QM();qM();KM.extension={type:[I.WebGLSystem,I.WebGPUSystem,I.CanvasSystem],name:"view",priority:0};KM.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};yf=KM});var lY,pY;var XM=j(()=>{sv();nv();Qf();qf();i_();Kf();Uf();$f();Af();Bf();_f();Wf();Ff();jf();wf();Ef();kf();vf();hf();lY=[Df,dY,oK,yf,bY,Pf,mY,Mf,vY,bf,cY],pY=[xY,s_,kY,SY,fY,hY,yY,TY]});class iY{constructor(Z){this._hash=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(Z){this._gpu=Z}getBindGroup(Z,J,Q){return Z._updateKey(),this._hash[Z._key]||this._createBindGroup(Z,J,Q)}_createBindGroup(Z,J,Q){let q=this._gpu.device,K=J.layout[Q],X=[],z=this._renderer;for(let U in K){let A=Z.resources[U]??Z.resources[K[U]],B;if(A._resourceType==="uniformGroup"){let _=A;z.ubo.updateUniformGroup(_);let W=_.buffer;B={buffer:z.buffer.getGPUBuffer(W),offset:0,size:W.descriptor.size}}else if(A._resourceType==="buffer"){let _=A;B={buffer:z.buffer.getGPUBuffer(_),offset:0,size:_.descriptor.size}}else if(A._resourceType==="bufferResource"){let _=A;B={buffer:z.buffer.getGPUBuffer(_.buffer),offset:_.offset,size:_.size}}else if(A._resourceType==="textureSampler"){let _=A;B=z.texture.getGpuSampler(_)}else if(A._resourceType==="textureSource"){let _=A;B=z.texture.getGpuSource(_).createView({})}X.push({binding:K[U],resource:B})}let Y=z.shader.getProgramData(J).bindGroups[Q],O=q.createBindGroup({layout:Y,entries:X});return this._hash[Z._key]=O,O}destroy(){for(let Z of Object.keys(this._hash))this._hash[Z]=null;this._hash=null,this._renderer=null}}var xf=j(()=>{g();iY.extension={type:[I.WebGPUSystem],name:"bindGroup"}});class aY{constructor(Z){this._gpuBuffers=Object.create(null),this._managedBuffers=[],Z.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(Z){this._gpu=Z}getGPUBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z)}updateBuffer(Z){let J=this._gpuBuffers[Z.uid]||this.createGPUBuffer(Z),Q=Z.data;if(Z._updateID&&Q)Z._updateID=0,this._gpu.device.queue.writeBuffer(J,0,Q.buffer,0,(Z._updateSize||Q.byteLength)+3&-4);return J}destroyAll(){for(let Z in this._gpuBuffers)this._gpuBuffers[Z].destroy();this._gpuBuffers={}}createGPUBuffer(Z){if(!this._gpuBuffers[Z.uid])Z.on("update",this.updateBuffer,this),Z.on("change",this.onBufferChange,this),Z.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(Z);let J=this._gpu.device.createBuffer(Z.descriptor);if(Z._updateID=0,Z.data)GK(Z.data.buffer,J.getMappedRange()),J.unmap();return this._gpuBuffers[Z.uid]=J,J}onBufferChange(Z){this._gpuBuffers[Z.uid].destroy(),Z._updateID=0,this._gpuBuffers[Z.uid]=this.createGPUBuffer(Z)}onBufferDestroy(Z){this._managedBuffers.splice(this._managedBuffers.indexOf(Z),1),this._destroyBuffer(Z)}destroy(){this._managedBuffers.forEach((Z)=>this._destroyBuffer(Z)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(Z){this._gpuBuffers[Z.uid].destroy(),Z.off("update",this.updateBuffer,this),Z.off("change",this.onBufferChange,this),Z.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[Z.uid]=null}}var gf=j(()=>{g();NB();aY.extension={type:[I.WebGPUSystem],name:"buffer"}});class sY{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.pipeline.setColorMask(Z)}destroy(){this._renderer=null,this._colorMaskCache=null}}var mf=j(()=>{g();sY.extension={type:[I.WebGPUSystem],name:"colorMask"}});class rK{constructor(Z){this._renderer=Z}async init(Z){if(this._initPromise)return this._initPromise;return this._initPromise=(Z.gpu?Promise.resolve(Z.gpu):this._createDeviceAndAdaptor(Z)).then((J)=>{this.gpu=J,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise}contextChange(Z){this._renderer.gpu=Z}async _createDeviceAndAdaptor(Z){let J=await K0.get().getNavigator().gpu.requestAdapter({powerPreference:Z.powerPreference,forceFallbackAdapter:Z.forceFallbackAdapter}),Q=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter((K)=>J.features.has(K)),q=await J.requestDevice({requiredFeatures:Q});return{adapter:J,device:q}}destroy(){this.gpu=null,this._renderer=null}}var df=j(()=>{s0();g();rK.extension={type:[I.WebGPUSystem],name:"device"};rK.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1}});class nY{constructor(Z){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=Z}renderStart(){this.commandFinished=new Promise((Z)=>{this._resolveCommandFinished=Z}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(Z){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z.descriptor)}endRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end();this.renderPassEncoder=null}setViewport(Z){this.renderPassEncoder.setViewport(Z.x,Z.y,Z.width,Z.height,0,1)}setPipelineFromGeometryProgramAndState(Z,J,Q,q){let K=this._renderer.pipeline.getPipeline(Z,J,Q,q);this.setPipeline(K)}setPipeline(Z){if(this._boundPipeline===Z)return;this._boundPipeline=Z,this.renderPassEncoder.setPipeline(Z)}_setVertexBuffer(Z,J){if(this._boundVertexBuffer[Z]===J)return;this._boundVertexBuffer[Z]=J,this.renderPassEncoder.setVertexBuffer(Z,this._renderer.buffer.updateBuffer(J))}_setIndexBuffer(Z){if(this._boundIndexBuffer===Z)return;this._boundIndexBuffer=Z;let J=Z.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(Z),J)}resetBindGroup(Z){this._boundBindGroup[Z]=null}setBindGroup(Z,J,Q){if(this._boundBindGroup[Z]===J)return;this._boundBindGroup[Z]=J,J._touch(this._renderer.textureGC.count);let q=this._renderer.bindGroup.getBindGroup(J,Q,Z);this.renderPassEncoder.setBindGroup(Z,q)}setGeometry(Z,J){let Q=this._renderer.pipeline.getBufferNamesToBind(Z,J);for(let q in Q)this._setVertexBuffer(parseInt(q,10),Z.attributes[Q[q]].buffer);if(Z.indexBuffer)this._setIndexBuffer(Z.indexBuffer)}_setShaderBindGroups(Z,J){for(let Q in Z.groups){let q=Z.groups[Q];if(!J)this._syncBindGroup(q);this.setBindGroup(Q,q,Z.gpuProgram)}}_syncBindGroup(Z){for(let J in Z.resources){let Q=Z.resources[J];if(Q.isUniformGroup)this._renderer.ubo.updateUniformGroup(Q)}}draw(Z){let{geometry:J,shader:Q,state:q,topology:K,size:X,start:z,instanceCount:Y,skipSync:O}=Z;if(this.setPipelineFromGeometryProgramAndState(J,Q.gpuProgram,q,K),this.setGeometry(J,Q.gpuProgram),this._setShaderBindGroups(Q,O),J.indexBuffer)this.renderPassEncoder.drawIndexed(X||J.indexBuffer.data.length,Y??J.instanceCount,z||0);else this.renderPassEncoder.draw(X||J.getSize(),Y??J.instanceCount,z||0)}finishRenderPass(){if(this.renderPassEncoder)this.renderPassEncoder.end(),this.renderPassEncoder=null}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){let Z=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(Z);let J=this._boundPipeline,Q={...this._boundVertexBuffer},q=this._boundIndexBuffer,K={...this._boundBindGroup};this._clearCache();let X=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(X.x,X.y,X.width,X.height,0,1),this.setPipeline(J);for(let z in Q)this._setVertexBuffer(z,Q[z]);for(let z in K)this.setBindGroup(z,K[z],null);this._setIndexBuffer(q)}_clearCache(){for(let Z=0;Z<16;Z++)this._boundBindGroup[Z]=null,this._boundVertexBuffer[Z]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(Z){this._gpu=Z}}var cf=j(()=>{g();nY.extension={type:[I.WebGPUSystem],name:"encoder",priority:1}});class oY{constructor(Z){this._renderer=Z}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}var uf=j(()=>{g();oY.extension={type:[I.WebGPUSystem],name:"limits"}});class tY{constructor(Z){this._renderTargetStencilState=Object.create(null),this._renderer=Z,Z.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(Z){let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:$1.DISABLED,stencilReference:0};this._activeRenderTarget=Z,this.setStencilMode(J.stencilMode,J.stencilReference)}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid];Q.stencilMode=Z,Q.stencilReference=J;let q=this._renderer;q.pipeline.setStencilMode(Z),q.encoder.renderPassEncoder.setStencilReference(J)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}var lf=j(()=>{g();PZ();tY.extension={type:[I.WebGPUSystem],name:"stencil"}});class eK{constructor(Z){this._syncFunctionHash=Object.create(null),this._adaptor=Z,this._systemCheck()}_systemCheck(){if(!jY())throw Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(Z){let J=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new h1({data:new Float32Array(J.layout.size/4),usage:j0.UNIFORM|j0.COPY_DST}))}getUniformGroupData(Z){return this._syncFunctionHash[Z._signature]||this._initUniformGroup(Z)}_initUniformGroup(Z){let J=Z._signature,Q=this._syncFunctionHash[J];if(!Q){let q=Object.keys(Z.uniformStructures).map((z)=>Z.uniformStructures[z]),K=this._adaptor.createUboElements(q),X=this._generateUboSync(K.uboElements);Q=this._syncFunctionHash[J]={layout:K,syncFunction:X}}return this._syncFunctionHash[J]}_generateUboSync(Z){return this._adaptor.generateUboSync(Z)}syncUniformGroup(Z,J,Q){let q=this.getUniformGroupData(Z);Z.buffer||(Z.buffer=new h1({data:new Float32Array(q.layout.size/4),usage:j0.UNIFORM|j0.COPY_DST}));let K=null;if(!J)J=Z.buffer.data,K=Z.buffer.dataInt32;return Q||(Q=0),q.syncFunction(Z.uniforms,J,K,Q),!0}updateUniformGroup(Z){if(Z.isStatic&&!Z._dirtyId)return!1;Z._dirtyId=0;let J=this.syncUniformGroup(Z);return Z.buffer.update(),J}destroy(){this._syncFunctionHash=null}}var NM=j(()=>{g_();M9();q7()});function pf(Z){let J=Z.map((q)=>({data:q,offset:0,size:0})),Q=0;for(let q=0;q<J.length;q++){let K=J[q],X=ZX[K.data.type].size,z=ZX[K.data.type].align;if(!ZX[K.data.type])throw Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${K.data.type}`);if(K.data.size>1)X=Math.max(X,z)*K.data.size;Q=Math.ceil(Q/z)*z,K.size=X,K.offset=Q,Q+=X}return Q=Math.ceil(Q/16)*16,{uboElements:J,size:Q}}var ZX;var zM=j(()=>{ZX={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}}});var Y7;var HM=j(()=>{Y7=[{type:"mat3x3<f32>",test:(Z)=>{return Z.value.a!==void 0},ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:(Z)=>Z.type==="vec2<f32>"&&Z.size===1&&Z.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:(Z)=>Z.type==="vec4<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:(Z)=>Z.type==="vec3<f32>"&&Z.size===1&&Z.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}]});function rY(Z,J,Q,q){let K=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `],X=0;for(let Y=0;Y<Z.length;Y++){let O=Z[Y],U=O.data.name,A=!1,B=0;for(let _=0;_<Y7.length;_++)if(Y7[_].test(O.data)){B=O.offset/4,K.push(`name = "${U}";`,`offset += ${B-X};`,Y7[_][J]||Y7[_].ubo),A=!0;break}if(!A)if(O.data.size>1)B=O.offset/4,K.push(Q(O,B-X));else{let _=q[O.data.type];B=O.offset/4,K.push(`
                    v = uv.${U};
                    offset += ${B-X};
                    ${_};
                `)}X=B}let z=K.join(`
`);return Function("uv","data","dataInt32","offset",z)}var YM=j(()=>{HM()});function qQ(Z,J){return`
        for (let i = 0; i < ${Z*J}; i++) {
            data[offset + (((i / ${Z})|0) * 4) + (i % ${Z})] = v[i];
        }
    `}var VM,af;var OM=j(()=>{VM={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":qQ(3,2),"mat4x2<f32>":qQ(4,2),"mat2x3<f32>":qQ(2,3),"mat4x3<f32>":qQ(4,3),"mat2x4<f32>":qQ(2,4),"mat3x4<f32>":qQ(3,4)},af={...VM,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `}});function sf(Z,J){let{size:Q,align:q}=ZX[Z.data.type],K=(q-Q)/4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${Z.data.name};
         ${J!==0?`offset += ${J};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${Z.data.size*(Q/4)}; i++)
         {
             for(var j = 0; j < ${Q/4}; j++)
             {
                 ${X}[arrayOffset++] = v[t++];
             }
             ${K!==0?`arrayOffset += ${K};`:""}
         }
     `}var nf=j(()=>{zM()});function of(Z){return rY(Z,"uboWgsl",sf,af)}var tf=j(()=>{YM();OM();nf()});var eY;var rf=j(()=>{g();NM();zM();tf();eY=class eY extends eK{constructor(){super({createUboElements:pf,generateUboSync:of})}};eY.extension={type:[I.WebGPUSystem],name:"ubo"}});var uZ;var ZV=j(()=>{C5();J5();uZ=class uZ extends J1{constructor({buffer:Z,offset:J,size:Q}){super();this.uid=M0("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=M0("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=Z,this.offset=J|0,this.size=Q,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=M0("resource"),this.emit("change",this)}destroy(Z=!1){if(this.destroyed=!0,Z)this.buffer.destroy();this.emit("change",this),this.buffer=null}}});class UM{constructor({minUniformOffsetAlignment:Z}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=Z,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(Z){if(Z>this._minUniformOffsetAlignment/4)throw Error(`UniformBufferBatch: array is too large: ${Z*4}`);let J=this.byteIndex,Q=J+Z*4;if(Q=Math.ceil(Q/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,Q>this.data.length*4)throw Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=Q,J}addGroup(Z){let J=this.addEmptyGroup(Z.length);for(let Q=0;Q<Z.length;Q++)this.data[J/4+Q]=Z[Q];return J}destroy(){this.data=null}}var ef=()=>{};class JV{constructor(Z){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new UM({minUniformOffsetAlignment:C9});let J=256/C9;for(let Q=0;Q<J;Q++){let q=j0.UNIFORM|j0.COPY_DST;if(Q===0)q|=j0.COPY_SRC;this._buffers.push(new h1({data:this._batchBuffer.data,usage:q}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(let Z in this._bindGroupHash)this._bindGroupHash[Z]=null;this._batchBuffer.clear()}getUniformBindGroup(Z,J){if(!J&&this._bindGroupHash[Z.uid])return this._bindGroupHash[Z.uid];this._renderer.ubo.ensureUniformGroup(Z);let Q=Z.buffer.data,q=this._batchBuffer.addEmptyGroup(Q.length);return this._renderer.ubo.syncUniformGroup(Z,this._batchBuffer.data,q/4),this._bindGroupHash[Z.uid]=this._getBindGroup(q/C9),this._bindGroupHash[Z.uid]}getUboResource(Z){this._renderer.ubo.updateUniformGroup(Z);let J=Z.buffer.data,Q=this._batchBuffer.addGroup(J);return this._getBufferResource(Q/C9)}getArrayBindGroup(Z){let J=this._batchBuffer.addGroup(Z);return this._getBindGroup(J/C9)}getArrayBufferResource(Z){let Q=this._batchBuffer.addGroup(Z)/C9;return this._getBufferResource(Q)}_getBufferResource(Z){if(!this._bufferResources[Z]){let J=this._buffers[Z%2];this._bufferResources[Z]=new uZ({buffer:J,offset:(Z/2|0)*256,size:C9})}return this._bufferResources[Z]}_getBindGroup(Z){if(!this._bindGroups[Z]){let J=new R5({0:this._getBufferResource(Z)});this._bindGroups[Z]=J}return this._bindGroups[Z]}_uploadBindGroups(){let Z=this._renderer.buffer,J=this._buffers[0];J.update(this._batchBuffer.byteIndex),Z.updateBuffer(J);let Q=this._renderer.gpu.device.createCommandEncoder();for(let q=1;q<this._buffers.length;q++){let K=this._buffers[q];Q.copyBufferToBuffer(Z.getGPUBuffer(J),C9,Z.getGPUBuffer(K),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([Q.finish()])}destroy(){for(let Z=0;Z<this._bindGroups.length;Z++)this._bindGroups[Z]?.destroy();this._bindGroups=null,this._bindGroupHash=null;for(let Z=0;Z<this._buffers.length;Z++)this._buffers[Z].destroy();this._buffers=null;for(let Z=0;Z<this._bufferResources.length;Z++)this._bufferResources[Z].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}var C9=128;var Zy=j(()=>{g();M9();ZV();q7();ef();_9();JV.extension={type:[I.WebGPUPipes],name:"uniformBatch"}});function QV(Z,J){for(let Q in Z.attributes){let q=Z.attributes[Q],K=J[Q];if(K)q.format??(q.format=K.format),q.offset??(q.offset=K.offset),q.instance??(q.instance=K.instance);else Z0(`Attribute ${Q} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}ba(Z)}function ba(Z){let{buffers:J,attributes:Q}=Z,q={},K={};for(let X in J){let z=J[X];q[z.uid]=0,K[z.uid]=0}for(let X in Q){let z=Q[X];q[z.buffer.uid]+=A8(z.format).stride}for(let X in Q){let z=Q[X];z.stride??(z.stride=q[z.buffer.uid]),z.start??(z.start=K[z.buffer.uid]),K[z.buffer.uid]+=A8(z.format).stride}}var $M=j(()=>{i0();vZ()});var O4;var AM=j(()=>{PZ();O4=[];O4[$1.NONE]=void 0;O4[$1.DISABLED]={stencilWriteMask:0,stencilReadMask:0};O4[$1.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};O4[$1.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};O4[$1.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};O4[$1.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}});function Pa(Z,J,Q,q,K){return Z<<24|J<<16|Q<<10|q<<5|K}function va(Z,J,Q,q){return Q<<6|Z<<3|q<<1|J}class qV{constructor(Z){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=Z}contextChange(Z){this._gpu=Z,this.setStencilMode($1.DISABLED),this._updatePipeHash()}setMultisampleCount(Z){if(this._multisampleCount===Z)return;this._multisampleCount=Z,this._updatePipeHash()}setRenderTarget(Z){this._multisampleCount=Z.msaaSamples,this._depthStencilAttachment=Z.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(Z){if(this._colorMask===Z)return;this._colorMask=Z,this._updatePipeHash()}setStencilMode(Z){if(this._stencilMode===Z)return;this._stencilMode=Z,this._stencilState=O4[Z],this._updatePipeHash()}setPipeline(Z,J,Q,q){let K=this.getPipeline(Z,J,Q);q.setPipeline(K)}getPipeline(Z,J,Q,q){if(!Z._layoutKey)QV(Z,J.attributeData),this._generateBufferKey(Z);q||(q=Z.topology);let K=Pa(Z._layoutKey,J._layoutKey,Q.data,Q._blendModeId,ka[q]);if(this._pipeCache[K])return this._pipeCache[K];return this._pipeCache[K]=this._createPipeline(Z,J,Q,q),this._pipeCache[K]}_createPipeline(Z,J,Q,q){let K=this._gpu.device,X=this._createVertexBufferLayouts(Z,J),z=this._renderer.state.getColorTargets(Q);z[0].writeMask=this._stencilMode===$1.RENDERING_MASK_ADD?0:this._colorMask;let Y=this._renderer.shader.getProgramData(J).pipeline,O={vertex:{module:this._getModule(J.vertex.source),entryPoint:J.vertex.entryPoint,buffers:X},fragment:{module:this._getModule(J.fragment.source),entryPoint:J.fragment.entryPoint,targets:z},primitive:{topology:q,cullMode:Q.cullMode},layout:Y,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};if(this._depthStencilAttachment)O.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:Q.depthTest,depthCompare:Q.depthTest?"less":"always"};return K.createRenderPipeline(O)}_getModule(Z){return this._moduleCache[Z]||this._createModule(Z)}_createModule(Z){let J=this._gpu.device;return this._moduleCache[Z]=J.createShaderModule({code:Z}),this._moduleCache[Z]}_generateBufferKey(Z){let J=[],Q=0,q=Object.keys(Z.attributes).sort();for(let X=0;X<q.length;X++){let z=Z.attributes[q[X]];J[Q++]=z.offset,J[Q++]=z.format,J[Q++]=z.stride,J[Q++]=z.instance}let K=J.join("|");return Z._layoutKey=K7(K,"geometry"),Z._layoutKey}_generateAttributeLocationsKey(Z){let J=[],Q=0,q=Object.keys(Z.attributeData).sort();for(let X=0;X<q.length;X++){let z=Z.attributeData[q[X]];J[Q++]=z.location}let K=J.join("|");return Z._attributeLocationsKey=K7(K,"programAttributes"),Z._attributeLocationsKey}getBufferNamesToBind(Z,J){let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bindingNamesCache[Q])return this._bindingNamesCache[Q];let q=this._createVertexBufferLayouts(Z,J),K=Object.create(null),X=J.attributeData;for(let z=0;z<q.length;z++){let O=Object.values(q[z].attributes)[0].shaderLocation;for(let U in X)if(X[U].location===O){K[z]=U;break}}return this._bindingNamesCache[Q]=K,K}_createVertexBufferLayouts(Z,J){if(!J._attributeLocationsKey)this._generateAttributeLocationsKey(J);let Q=Z._layoutKey<<16|J._attributeLocationsKey;if(this._bufferLayoutsCache[Q])return this._bufferLayoutsCache[Q];let q=[];return Z.buffers.forEach((K)=>{let X={arrayStride:0,stepMode:"vertex",attributes:[]},z=X.attributes;for(let Y in J.attributeData){let O=Z.attributes[Y];if((O.divisor??1)!==1)Z0(`Attribute ${Y} has an invalid divisor value of '${O.divisor}'. WebGPU only supports a divisor value of 1`);if(O.buffer===K)X.arrayStride=O.stride,X.stepMode=O.instance?"instance":"vertex",z.push({shaderLocation:J.attributeData[Y].location,offset:O.offset,format:O.format})}if(z.length)q.push(X)}),this._bufferLayoutsCache[Q]=q,q}_updatePipeHash(){let Z=va(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);if(!this._pipeStateCaches[Z])this._pipeStateCaches[Z]=Object.create(null);this._pipeCache=this._pipeStateCaches[Z]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}var ka;var Jy=j(()=>{g();i0();$M();PZ();CK();AM();ka={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};qV.extension={type:[I.WebGPUSystem],name:"pipeline"}});function Qy(Z,J,Q,q,K,X){let z=X?1:-1;return Z.identity(),Z.a=1/q*2,Z.d=z*(1/K*2),Z.tx=-1-J*Z.a,Z.ty=-z-Q*Z.d,Z}var qy=()=>{};function Ky(Z){let J=Z.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&J instanceof HTMLCanvasElement&&document.body.contains(J)}var Xy=()=>{};class JX{constructor(Z){this.rootViewPort=new $0,this.viewport=new $0,this.onRenderTargetChange=new pK("onRenderTargetChange"),this.projectionMatrix=new a,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:Z,clear:J,clearColor:Q,frame:q}){this._renderTargetStack.length=0,this.push(Z,J,Q,q),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=Ky(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(Z,J=!0,Q,q){let K=this.getRenderTarget(Z),X=this.renderTarget!==K;this.renderTarget=K,this.renderSurface=Z;let z=this.getGpuRenderTarget(K);if(K.pixelWidth!==z.width||K.pixelHeight!==z.height)this.adaptor.resizeGpuRenderTarget(K),z.width=K.pixelWidth,z.height=K.pixelHeight;let Y=K.colorTexture,O=this.viewport,U=Y.pixelWidth,A=Y.pixelHeight;if(!q&&Z instanceof p)q=Z.frame;if(q){let B=Y._resolution;O.x=q.x*B+0.5|0,O.y=q.y*B+0.5|0,O.width=q.width*B+0.5|0,O.height=q.height*B+0.5|0}else O.x=0,O.y=0,O.width=U,O.height=A;if(Qy(this.projectionMatrix,0,0,O.width/Y.resolution,O.height/Y.resolution,!K.isRoot),this.adaptor.startRenderPass(K,J,Q,O),X)this.onRenderTargetChange.emit(K);return K}clear(Z,J=D5.ALL,Q){if(!J)return;if(Z)Z=this.getRenderTarget(Z);this.adaptor.clear(Z||this.renderTarget,J,Q,this.viewport)}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(Z,J=D5.ALL,Q,q){let K=this.bind(Z,J,Q,q);return this._renderTargetStack.push({renderTarget:K,frame:q}),K}pop(){this._renderTargetStack.pop();let Z=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(Z.renderTarget,!1,null,Z.frame)}getRenderTarget(Z){if(Z.isTexture)Z=Z.source;return this._renderSurfaceToRenderTargetHash.get(Z)??this._initRenderTarget(Z)}copyToTexture(Z,J,Q,q,K){if(Q.x<0)q.width+=Q.x,K.x-=Q.x,Q.x=0;if(Q.y<0)q.height+=Q.y,K.y-=Q.y,Q.y=0;let{pixelWidth:X,pixelHeight:z}=Z;return q.width=Math.min(q.width,X-Q.x),q.height=Math.min(q.height,z-Q.y),this.adaptor.copyToTexture(Z,J,Q,q,K)}ensureDepthStencil(){if(!this.renderTarget.stencil)this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport)}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((Z,J)=>{if(Z!==J)Z.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(Z){let J=null;if(n5.test(Z))Z=uY(Z).source;if(Z instanceof tK)J=Z;else if(Z instanceof m0){if(J=new tK({colorTextures:[Z]}),Z.source instanceof n5)J.isRoot=!0;Z.once("destroy",()=>{J.destroy(),this._renderSurfaceToRenderTargetHash.delete(Z);let Q=this._gpuRenderTargetHash[J.uid];if(Q)this._gpuRenderTargetHash[J.uid]=null,this.adaptor.destroyGpuRenderTarget(Q)})}return this._renderSurfaceToRenderTargetHash.set(Z,J),J}getGpuRenderTarget(Z){return this._gpuRenderTargetHash[Z.uid]||(this._gpuRenderTargetHash[Z.uid]=this.adaptor.initGpuRenderTarget(Z))}resetState(){this.renderTarget=null,this.renderSurface=null}}var DM=j(()=>{S0();Q5();ZQ();qy();m_();TJ();i5();a0();qM();Xy();QM()});class BM{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}var Ny=()=>{};class _M{init(Z,J){this._renderer=Z,this._renderTargetSystem=J}copyToTexture(Z,J,Q,q,K){let X=this._renderer,z=this._getGpuColorTexture(Z),Y=X.texture.getGpuSource(J.source);return X.encoder.commandEncoder.copyTextureToTexture({texture:z,origin:Q},{texture:Y,origin:K},q),J}startRenderPass(Z,J=!0,Q,q){let X=this._renderTargetSystem.getGpuRenderTarget(Z),z=this.getDescriptor(Z,J,Q);X.descriptor=z,this._renderer.pipeline.setRenderTarget(X),this._renderer.encoder.beginRenderPass(X),this._renderer.encoder.setViewport(q)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.contexts[0])return J.contexts[0].getCurrentTexture();return this._renderer.texture.getGpuSource(Z.colorTextures[0].source)}getDescriptor(Z,J,Q){if(typeof J==="boolean")J=J?D5.ALL:D5.NONE;let q=this._renderTargetSystem,K=q.getGpuRenderTarget(Z),X=Z.colorTextures.map((O,U)=>{let A=K.contexts[U],B,_;if(A)B=A.getCurrentTexture().createView();else B=this._renderer.texture.getGpuSource(O).createView({mipLevelCount:1});if(K.msaaTextures[U])_=B,B=this._renderer.texture.getTextureView(K.msaaTextures[U]);let W=J&D5.COLOR?"clear":"load";return Q??(Q=q.defaultClearColor),{view:B,resolveTarget:_,clearValue:Q,storeOp:"store",loadOp:W}}),z;if((Z.stencil||Z.depth)&&!Z.depthStencilTexture)Z.ensureDepthStencilTexture(),Z.depthStencilTexture.source.sampleCount=K.msaa?4:1;if(Z.depthStencilTexture){let O=J&D5.STENCIL?"clear":"load",U=J&D5.DEPTH?"clear":"load";z={view:this._renderer.texture.getGpuSource(Z.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:O,depthClearValue:1,depthLoadOp:U,depthStoreOp:"store"}}return{colorAttachments:X,depthStencilAttachment:z}}clear(Z,J=!0,Q,q){if(!J)return;let{gpu:K,encoder:X}=this._renderer,z=K.device;if(X.commandEncoder===null){let O=z.createCommandEncoder(),U=this.getDescriptor(Z,J,Q),A=O.beginRenderPass(U);A.setViewport(q.x,q.y,q.width,q.height,0,1),A.end();let B=O.finish();z.queue.submit([B])}else this.startRenderPass(Z,J,Q,q)}initGpuRenderTarget(Z){Z.isRoot=!0;let J=new BM;if(Z.colorTextures.forEach((Q,q)=>{if(Q instanceof n5){let K=Q.resource.getContext("webgpu"),X=Q.transparent?"premultiplied":"opaque";try{K.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:X})}catch(z){console.error(z)}J.contexts[q]=K}if(J.msaa=Q.source.antialias,Q.source.antialias){let K=new m0({width:0,height:0,sampleCount:4});J.msaaTextures[q]=K}}),J.msaa){if(J.msaaSamples=4,Z.depthStencilTexture)Z.depthStencilTexture.source.sampleCount=4}return J}destroyGpuRenderTarget(Z){Z.contexts.forEach((J)=>{J.unconfigure()}),Z.msaaTextures.forEach((J)=>{J.destroy()}),Z.msaaTextures.length=0,Z.contexts.length=0}ensureDepthStencilTexture(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(Z.depthStencilTexture&&J.msaa)Z.depthStencilTexture.source.sampleCount=4}resizeGpuRenderTarget(Z){let J=this._renderTargetSystem.getGpuRenderTarget(Z);if(J.width=Z.width,J.height=Z.height,J.msaa)Z.colorTextures.forEach((Q,q)=>{J.msaaTextures[q]?.resize(Q.source.width,Q.source.height,Q.source._resolution)})}}var zy=j(()=>{ZQ();TJ();i5();Ny()});var KV;var Hy=j(()=>{g();DM();zy();KV=class KV extends JX{constructor(Z){super(Z);this.adaptor=new _M,this.adaptor.init(Z,this)}};KV.extension={type:[I.WebGPUSystem],name:"renderTarget"}});class XV{constructor(){this._gpuProgramData=Object.create(null)}contextChange(Z){this._gpu=Z}getProgramData(Z){return this._gpuProgramData[Z._layoutKey]||this._createGPUProgramData(Z)}_createGPUProgramData(Z){let J=this._gpu.device,Q=Z.gpuLayout.map((K)=>J.createBindGroupLayout({entries:K})),q={bindGroupLayouts:Q};return this._gpuProgramData[Z._layoutKey]={bindGroups:Q,pipeline:J.createPipelineLayout(q)},this._gpuProgramData[Z._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}var Yy=j(()=>{g();XV.extension={type:[I.WebGPUSystem],name:"shader"}});var t5;var Vy=j(()=>{t5={};t5.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};t5.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};t5.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};t5.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};t5.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};t5.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};t5["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};t5["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};t5["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};t5.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};t5.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};t5.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}}});class NV{constructor(){this.defaultState=new x1,this.defaultState.blend=!0}contextChange(Z){this.gpu=Z}getColorTargets(Z){return[{format:"bgra8unorm",writeMask:0,blend:t5[Z.blendMode]||t5.normal}]}destroy(){this.gpu=null}}var Oy=j(()=>{g();y6();Vy();NV.extension={type:[I.WebGPUSystem],name:"state"}});var Uy;var $y=j(()=>{Uy={type:"image",upload(Z,J,Q){let q=Z.resource,K=(Z.pixelWidth|0)*(Z.pixelHeight|0),X=q.byteLength/K;Q.device.queue.writeTexture({texture:J},q,{offset:0,rowsPerImage:Z.pixelHeight,bytesPerRow:Z.pixelHeight*X},{width:Z.pixelWidth,height:Z.pixelHeight,depthOrArrayLayers:1})}}});var MM,fa,Ay;var Dy=j(()=>{MM={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},fa={blockBytes:4,blockWidth:1,blockHeight:1},Ay={type:"compressed",upload(Z,J,Q){let{pixelWidth:q,pixelHeight:K}=Z,X=MM[Z.format]||fa;for(let z=0;z<Z.resource.length;z++){let Y=Z.resource[z],O=Math.ceil(q/X.blockWidth)*X.blockBytes;Q.device.queue.writeTexture({texture:J,mipLevel:z},Y,{offset:0,bytesPerRow:O},{width:Math.ceil(q/X.blockWidth)*X.blockWidth,height:Math.ceil(K/X.blockHeight)*X.blockHeight,depthOrArrayLayers:1}),q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var zV;var WM=j(()=>{s0();i0();zV={type:"image",upload(Z,J,Q){let q=Z.resource;if(!q)return;if(globalThis.HTMLImageElement&&q instanceof HTMLImageElement){let Y=K0.get().createCanvas(q.width,q.height);Y.getContext("2d").drawImage(q,0,0,q.width,q.height),Z.resource=Y,Z0("ImageSource: Image element passed, converting to canvas and replacing resource.")}let K=Math.min(J.width,Z.resourceWidth||Z.pixelWidth),X=Math.min(J.height,Z.resourceHeight||Z.pixelHeight),z=Z.alphaMode==="premultiply-alpha-on-upload";Q.device.queue.copyExternalImageToTexture({source:q},{texture:J,premultipliedAlpha:z},{width:K,height:X})}}});var By;var _y=j(()=>{WM();By={type:"video",upload(Z,J,Q){zV.upload(Z,J,Q)}}});class GM{constructor(Z){this.device=Z,this.sampler=Z.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(Z){let J=this.pipelines[Z];if(!J){if(!this.mipmapShaderModule)this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `});J=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:Z}]}}),this.pipelines[Z]=J}return J}generateMipmap(Z){let J=this._getMipmapPipeline(Z.format);if(Z.dimension==="3d"||Z.dimension==="1d")throw Error("Generating mipmaps for non-2d textures is currently unsupported!");let Q=Z,q=Z.depthOrArrayLayers||1,K=Z.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!K){let Y={size:{width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q},format:Z.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:Z.mipLevelCount-1};Q=this.device.createTexture(Y)}let X=this.device.createCommandEncoder({}),z=J.getBindGroupLayout(0);for(let Y=0;Y<q;++Y){let O=Z.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),U=K?1:0;for(let A=1;A<Z.mipLevelCount;++A){let B=Q.createView({baseMipLevel:U++,mipLevelCount:1,dimension:"2d",baseArrayLayer:Y,arrayLayerCount:1}),_=X.beginRenderPass({colorAttachments:[{view:B,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),W=this.device.createBindGroup({layout:z,entries:[{binding:0,resource:this.sampler},{binding:1,resource:O}]});_.setPipeline(J),_.setBindGroup(0,W),_.draw(3,1,0,0),_.end(),O=B}}if(!K){let Y={width:Math.ceil(Z.width/2),height:Math.ceil(Z.height/2),depthOrArrayLayers:q};for(let O=1;O<Z.mipLevelCount;++O)X.copyTextureToTexture({texture:Q,mipLevel:O-1},{texture:Z,mipLevel:O},Y),Y.width=Math.ceil(Y.width/2),Y.height=Math.ceil(Y.height/2)}if(this.device.queue.submit([X.finish()]),!K)Q.destroy();return Z}}var My=()=>{};class HV{constructor(Z){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:zV,buffer:Uy,video:By,compressed:Ay},this._renderer=Z,Z.renderableGC.addManagedHash(this,"_gpuSources"),Z.renderableGC.addManagedHash(this,"_gpuSamplers"),Z.renderableGC.addManagedHash(this,"_bindGroupHash"),Z.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(Z){this._gpu=Z}initSource(Z){if(this._gpuSources[Z.uid])return this._gpuSources[Z.uid];return this._initSource(Z)}_initSource(Z){if(Z.autoGenerateMipmaps){let Y=Math.max(Z.pixelWidth,Z.pixelHeight);Z.mipLevelCount=Math.floor(Math.log2(Y))+1}let J=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;if(Z.uploadMethodId!=="compressed")J|=GPUTextureUsage.RENDER_ATTACHMENT,J|=GPUTextureUsage.COPY_SRC;let Q=MM[Z.format]||{blockBytes:4,blockWidth:1,blockHeight:1},q=Math.ceil(Z.pixelWidth/Q.blockWidth)*Q.blockWidth,K=Math.ceil(Z.pixelHeight/Q.blockHeight)*Q.blockHeight,X={label:Z.label,size:{width:q,height:K},format:Z.format,sampleCount:Z.sampleCount,mipLevelCount:Z.mipLevelCount,dimension:Z.dimension,usage:J},z=this._gpuSources[Z.uid]=this._gpu.device.createTexture(X);if(!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceResize,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),z}onSourceUpdate(Z){let J=this.getGpuSource(Z);if(!J)return;if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,J,this._gpu);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z)}onSourceUnload(Z){let J=this._gpuSources[Z.uid];if(J)this._gpuSources[Z.uid]=null,J.destroy()}onUpdateMipmaps(Z){if(!this._mipmapGenerator)this._mipmapGenerator=new GM(this._gpu.device);let J=this.getGpuSource(Z);this._mipmapGenerator.generateMipmap(J)}onSourceDestroy(Z){Z.off("update",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("destroy",this.onSourceDestroy,this),Z.off("resize",this.onSourceResize,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}onSourceResize(Z){let J=this._gpuSources[Z.uid];if(!J)this.initSource(Z);else if(J.width!==Z.pixelWidth||J.height!==Z.pixelHeight)this._textureViewHash[Z.uid]=null,this._bindGroupHash[Z.uid]=null,this.onSourceUnload(Z),this.initSource(Z)}_initSampler(Z){return this._gpuSamplers[Z._resourceId]=this._gpu.device.createSampler(Z),this._gpuSamplers[Z._resourceId]}getGpuSampler(Z){return this._gpuSamplers[Z._resourceId]||this._initSampler(Z)}getGpuSource(Z){return this._gpuSources[Z.uid]||this.initSource(Z)}getTextureBindGroup(Z){return this._bindGroupHash[Z.uid]??this._createTextureBindGroup(Z)}_createTextureBindGroup(Z){let J=Z.source;return this._bindGroupHash[Z.uid]=new R5({0:J,1:J.style,2:new n0({uTextureMatrix:{type:"mat3x3<f32>",value:Z.textureMatrix.mapCoord}})}),this._bindGroupHash[Z.uid]}getTextureView(Z){let J=Z.source;return this._textureViewHash[J.uid]??this._createTextureView(J)}_createTextureView(Z){return this._textureViewHash[Z.uid]=this.getGpuSource(Z).createView(),this._textureViewHash[Z.uid]}generateCanvas(Z){let J=this._renderer,Q=J.gpu.device.createCommandEncoder(),q=K0.get().createCanvas();q.width=Z.source.pixelWidth,q.height=Z.source.pixelHeight;let K=q.getContext("webgpu");return K.configure({device:J.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:K0.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),Q.copyTextureToTexture({texture:J.texture.getGpuSource(Z.source),origin:{x:0,y:0}},{texture:K.getCurrentTexture()},{width:q.width,height:q.height}),J.gpu.device.queue.submit([Q.finish()]),q}getPixels(Z){let J=this.generateCanvas(Z),Q=_8.getOptimalCanvasAndContext(J.width,J.height),q=Q.context;q.drawImage(J,0,0);let{width:K,height:X}=J,z=q.getImageData(0,0,K,X),Y=new Uint8ClampedArray(z.data.buffer);return _8.returnCanvasAndContext(Q),{pixels:Y,width:K,height:X}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null;for(let Z of Object.keys(this._bindGroupHash)){let J=Number(Z);this._bindGroupHash[J]?.destroy(),this._bindGroupHash[J]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}var Wy=j(()=>{s0();g();f5();nJ();_9();$y();Dy();WM();_y();My();HV.extension={type:[I.WebGPUSystem],name:"texture"}});var Cy={};JN(Cy,{WebGPURenderer:()=>wy});var ya,ha,xa,Gy,Fy,jy,wy;var Ly=j(()=>{g();uv();iv();av();iK();XM();$6();xf();gf();mf();df();cf();uf();lf();rf();Zy();Jy();Hy();Yy();Oy();Wy();ya=[...lY,eY,nY,rK,oY,aY,HV,KV,XV,NV,qV,sY,tY,iY],ha=[...pY,JV],xa=[IY,RY,LY],Gy=[],Fy=[],jy=[];J0.handleByNamedList(I.WebGPUSystem,Gy);J0.handleByNamedList(I.WebGPUPipes,Fy);J0.handleByNamedList(I.WebGPUPipesAdaptor,jy);J0.add(...ya,...ha,...xa);wy=class wy extends w9{constructor(){let Z={name:"webgpu",type:F1.WEBGPU,systems:Gy,renderPipes:Fy,renderPipeAdaptors:jy};super(Z)}}});class YV{contextChange(Z){let J=new n0({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),Q=Z.limits.maxBatchableTextures,q=z4({name:"graphics",bits:[yJ,xJ(Q),rJ,Y4]});this.shader=new k1({glProgram:q,resources:{localUniforms:J,batchSamplers:gJ(Q)}})}execute(Z,J){let Q=J.context,q=Q.customShader||this.shader,K=Z.renderer,X=K.graphicsContext,{batcher:z,instructions:Y}=X.getContextRenderData(Q);q.groups[0]=K.globalUniforms.bindGroup,K.state.set(Z.state),K.shader.bind(q),K.geometry.bind(z.geometry,q.glProgram);let O=Y.instructions;for(let U=0;U<Y.instructionSize;U++){let A=O[U];if(A.size){for(let B=0;B<A.textures.count;B++)K.texture.bind(A.textures.textures[B],B);K.geometry.draw(A.topology,A.size,A.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}var Ry=j(()=>{g();S0();G9();EK();IK();eJ();F9();fH();f6();f5();YV.extension={type:[I.WebGLPipesAdaptor],name:"graphics"}});class VV{init(){let Z=z4({name:"mesh",bits:[rJ,pv,Y4]});this._shader=new k1({glProgram:Z,resources:{uTexture:p.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new a}}}})}execute(Z,J){let Q=Z.renderer,q=J._shader;if(!q){q=this._shader;let K=J.texture,X=K.source;q.resources.uTexture=X,q.resources.uSampler=X.style,q.resources.textureUniforms.uniforms.uTextureMatrix=K.textureMatrix.mapCoord}else if(!q.glProgram){Z0("Mesh shader has no glProgram",J.shader);return}q.groups[100]=Q.globalUniforms.bindGroup,q.groups[101]=Z.localUniformsBindGroup,Q.encoder.draw({geometry:J._geometry,shader:q,state:J.state})}destroy(){this._shader.destroy(!0),this._shader=null}}var Ey=j(()=>{g();S0();G9();eJ();F9();d_();f6();a0();i0();VV.extension={type:[I.WebGLPipesAdaptor],name:"mesh"}});class OV{constructor(){this._tempState=x1.for2d(),this._didUploadHash={}}init(Z){Z.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(Z,J,Q){let q=Z.renderer,K=this._didUploadHash[Q.uid];if(q.shader.bind(Q,K),!K)this._didUploadHash[Q.uid]=!0;q.shader.updateUniformGroup(q.globalUniforms.uniformGroup),q.geometry.bind(J,Q.glProgram)}execute(Z,J){let Q=Z.renderer;this._tempState.blendMode=J.blendMode,Q.state.set(this._tempState);let q=J.textures.textures;for(let K=0;K<J.textures.count;K++)Q.texture.bind(q[K],K);Q.geometry.draw(J.topology,J.size,J.start)}}var Iy=j(()=>{g();y6();OV.extension={type:[I.WebGLPipesAdaptor],name:"batch"}});var QX;var Ty=j(()=>{QX=((Z)=>{return Z[Z.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Z[Z.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Z[Z.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Z})(QX||{})});class FM{constructor(Z,J){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=Z||null,this.updateID=-1,this.byteLength=-1,this.type=J}}var Sy=()=>{};class UV{constructor(Z){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(Z){return this._gpuBuffers[Z.uid]||this.createGLBuffer(Z)}bind(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);J.bindBuffer(Q.type,Q.buffer)}bindBufferBase(Z,J){let{_gl:Q}=this;if(this._boundBufferBases[J]!==Z)this._boundBufferBases[J]=Z,Z._lastBindBaseLocation=J,Q.bindBufferBase(Q.UNIFORM_BUFFER,J,Z.buffer)}nextBindBase(Z){if(this._bindCallId++,this._minBaseLocation=0,Z){if(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1)this._nextBindBaseIndex=1}}freeLocationForBufferBase(Z){let J=this.getLastBindBaseLocation(Z);if(J>=this._minBaseLocation)return Z._lastBindCallId=this._bindCallId,J;let Q=0,q=this._nextBindBaseIndex;while(Q<2){if(q>=this._maxBindings)q=this._minBaseLocation,Q++;let K=this._boundBufferBases[q];if(K&&K._lastBindCallId===this._bindCallId){q++;continue}break}if(J=q,this._nextBindBaseIndex=q+1,Q>=2)return-1;return Z._lastBindCallId=this._bindCallId,this._boundBufferBases[J]=null,J}getLastBindBaseLocation(Z){let J=Z._lastBindBaseLocation;if(this._boundBufferBases[J]===Z)return J;return-1}bindBufferRange(Z,J,Q,q){let{_gl:K}=this;Q||(Q=0),J||(J=0),this._boundBufferBases[J]=null,K.bindBufferRange(K.UNIFORM_BUFFER,J||0,Z.buffer,Q*256,q||256)}updateBuffer(Z){let{_gl:J}=this,Q=this.getGlBuffer(Z);if(Z._updateID===Q.updateID)return Q;Q.updateID=Z._updateID,J.bindBuffer(Q.type,Q.buffer);let q=Z.data,K=Z.descriptor.usage&j0.STATIC?J.STATIC_DRAW:J.DYNAMIC_DRAW;if(q)if(Q.byteLength>=q.byteLength)J.bufferSubData(Q.type,0,q,0,Z._updateSize/q.BYTES_PER_ELEMENT);else Q.byteLength=q.byteLength,J.bufferData(Q.type,q,K);else Q.byteLength=Z.descriptor.size,J.bufferData(Q.type,Q.byteLength,K);return Q}destroyAll(){let Z=this._gl;for(let J in this._gpuBuffers)Z.deleteBuffer(this._gpuBuffers[J].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(Z,J){let Q=this._gpuBuffers[Z.uid],q=this._gl;if(!J)q.deleteBuffer(Q.buffer);this._gpuBuffers[Z.uid]=null}createGLBuffer(Z){let{_gl:J}=this,Q=QX.ARRAY_BUFFER;if(Z.descriptor.usage&j0.INDEX)Q=QX.ELEMENT_ARRAY_BUFFER;else if(Z.descriptor.usage&j0.UNIFORM)Q=QX.UNIFORM_BUFFER;let q=new FM(J.createBuffer(),Q);return this._gpuBuffers[Z.uid]=q,Z.on("destroy",this.onBufferDestroy,this),q}resetState(){this._boundBufferBases=Object.create(null)}}var by=j(()=>{g();q7();Ty();Sy();UV.extension={type:[I.WebGLSystem],name:"buffer"}});var jM=class Z{constructor(J){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=J,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(J){this.gl=J,this._renderer.gl=J}init(J){J={...Z.defaultOptions,...J};let Q=this.multiView=J.multiView;if(J.context&&Q)Z0("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),Q=!1;if(Q)this.canvas=K0.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height);else this.canvas=this._renderer.view.canvas;if(J.context)this.initFromContext(J.context);else{let q=this._renderer.background.alpha<1,K=J.premultipliedAlpha??!0,X=J.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(J.preferWebGLVersion,{alpha:q,premultipliedAlpha:K,antialias:X,stencil:!0,preserveDrawingBuffer:J.preserveDrawingBuffer,powerPreference:J.powerPreference??"default"})}}ensureCanvasSize(J){if(!this.multiView){if(J!==this.canvas)Z0("multiView is disabled, but targetCanvas is not the main canvas");return}let{canvas:Q}=this;if(Q.width<J.width||Q.height<J.height)Q.width=Math.max(J.width,J.width),Q.height=Math.max(J.height,J.height)}initFromContext(J){this.gl=J,this.webGLVersion=J instanceof K0.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(J),this._renderer.runners.contextChange.emit(J);let Q=this._renderer.view.canvas;Q.addEventListener("webglcontextlost",this.handleContextLost,!1),Q.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(J,Q){let q,K=this.canvas;if(J===2)q=K.getContext("webgl2",Q);if(!q){if(q=K.getContext("webgl",Q),!q)throw Error("This browser does not support WebGL. Try using the canvas renderer")}this.gl=q,this.initFromContext(this.gl)}getExtensions(){let{gl:J}=this,Q={anisotropicFiltering:J.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),s3tc:J.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:J.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:J.getExtension("WEBGL_compressed_texture_etc"),etc1:J.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:J.getExtension("WEBGL_compressed_texture_pvrtc")||J.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:J.getExtension("WEBGL_compressed_texture_atc"),astc:J.getExtension("WEBGL_compressed_texture_astc"),bptc:J.getExtension("EXT_texture_compression_bptc"),rgtc:J.getExtension("EXT_texture_compression_rgtc"),loseContext:J.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...Q,drawBuffers:J.getExtension("WEBGL_draw_buffers"),depthTexture:J.getExtension("WEBGL_depth_texture"),vertexArrayObject:J.getExtension("OES_vertex_array_object")||J.getExtension("MOZ_OES_vertex_array_object")||J.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:J.getExtension("OES_element_index_uint"),floatTexture:J.getExtension("OES_texture_float"),floatTextureLinear:J.getExtension("OES_texture_float_linear"),textureHalfFloat:J.getExtension("OES_texture_half_float"),textureHalfFloatLinear:J.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:J.getExtension("ANGLE_instanced_arrays"),srgb:J.getExtension("EXT_sRGB")};else{this.extensions={...Q,colorBufferFloat:J.getExtension("EXT_color_buffer_float")};let q=J.getExtension("WEBGL_provoking_vertex");if(q)q.provokingVertexWEBGL(q.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(J){if(J.preventDefault(),this._contextLossForced)this._contextLossForced=!1,setTimeout(()=>{if(this.gl.isContextLost())this.extensions.loseContext?.restoreContext()},0)}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){let J=this._renderer.view.canvas;this._renderer=null,J.removeEventListener("webglcontextlost",this.handleContextLost),J.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext?.loseContext()}forceContextLoss(){this.extensions.loseContext?.loseContext(),this._contextLossForced=!0}validateContext(J){let Q=J.getContextAttributes();if(Q&&!Q.stencil)Z0("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let q=this.supports,K=this.webGLVersion===2,X=this.extensions;if(q.uint32Indices=K||!!X.uint32ElementIndex,q.uniformBufferObject=K,q.vertexArrayObject=K||!!X.vertexArrayObject,q.srgbTextures=K||!!X.srgb,q.nonPowOf2wrapping=K,q.nonPowOf2mipmaps=K,q.msaa=K,!q.uint32Indices)Z0("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}},ky;var Py=j(()=>{s0();g();i0();jM.extension={type:[I.WebGLSystem],name:"context"};jM.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};ky=jM});var $V,wM,x0;var CM=j(()=>{$V=((Z)=>{return Z[Z.RGBA=6408]="RGBA",Z[Z.RGB=6407]="RGB",Z[Z.RG=33319]="RG",Z[Z.RED=6403]="RED",Z[Z.RGBA_INTEGER=36249]="RGBA_INTEGER",Z[Z.RGB_INTEGER=36248]="RGB_INTEGER",Z[Z.RG_INTEGER=33320]="RG_INTEGER",Z[Z.RED_INTEGER=36244]="RED_INTEGER",Z[Z.ALPHA=6406]="ALPHA",Z[Z.LUMINANCE=6409]="LUMINANCE",Z[Z.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Z[Z.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Z[Z.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Z})($V||{}),wM=((Z)=>{return Z[Z.TEXTURE_2D=3553]="TEXTURE_2D",Z[Z.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Z[Z.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Z[Z.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Z[Z.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Z})(wM||{}),x0=((Z)=>{return Z[Z.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Z[Z.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Z[Z.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Z[Z.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Z[Z.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Z[Z.UNSIGNED_INT=5125]="UNSIGNED_INT",Z[Z.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",Z[Z.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",Z[Z.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",Z[Z.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",Z[Z.BYTE=5120]="BYTE",Z[Z.SHORT=5122]="SHORT",Z[Z.INT=5124]="INT",Z[Z.FLOAT=5126]="FLOAT",Z[Z.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",Z[Z.HALF_FLOAT=36193]="HALF_FLOAT",Z})(x0||{})});function fy(Z){return vy[Z]??vy.float32}var vy;var yy=j(()=>{CM();vy={uint8x2:x0.UNSIGNED_BYTE,uint8x4:x0.UNSIGNED_BYTE,sint8x2:x0.BYTE,sint8x4:x0.BYTE,unorm8x2:x0.UNSIGNED_BYTE,unorm8x4:x0.UNSIGNED_BYTE,snorm8x2:x0.BYTE,snorm8x4:x0.BYTE,uint16x2:x0.UNSIGNED_SHORT,uint16x4:x0.UNSIGNED_SHORT,sint16x2:x0.SHORT,sint16x4:x0.SHORT,unorm16x2:x0.UNSIGNED_SHORT,unorm16x4:x0.UNSIGNED_SHORT,snorm16x2:x0.SHORT,snorm16x4:x0.SHORT,float16x2:x0.HALF_FLOAT,float16x4:x0.HALF_FLOAT,float32:x0.FLOAT,float32x2:x0.FLOAT,float32x3:x0.FLOAT,float32x4:x0.FLOAT,uint32:x0.UNSIGNED_INT,uint32x2:x0.UNSIGNED_INT,uint32x3:x0.UNSIGNED_INT,uint32x4:x0.UNSIGNED_INT,sint32:x0.INT,sint32x2:x0.INT,sint32x3:x0.INT,sint32x4:x0.INT}});class AV{constructor(Z){this._geometryVaoHash=Object.create(null),this._renderer=Z,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){let Z=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw Error("[PixiJS] Vertex Array Objects are not supported on this device");let J=this._renderer.context.extensions.vertexArrayObject;if(J)Z.createVertexArray=()=>J.createVertexArrayOES(),Z.bindVertexArray=(q)=>J.bindVertexArrayOES(q),Z.deleteVertexArray=(q)=>J.deleteVertexArrayOES(q);let Q=this._renderer.context.extensions.vertexAttribDivisorANGLE;if(Q)Z.drawArraysInstanced=(q,K,X,z)=>{Q.drawArraysInstancedANGLE(q,K,X,z)},Z.drawElementsInstanced=(q,K,X,z,Y)=>{Q.drawElementsInstancedANGLE(q,K,X,z,Y)},Z.vertexAttribDivisor=(q,K)=>Q.vertexAttribDivisorANGLE(q,K);this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(Z,J){let Q=this.gl;this._activeGeometry=Z;let q=this.getVao(Z,J);if(this._activeVao!==q)this._activeVao=q,Q.bindVertexArray(q);this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){let Z=this._activeGeometry,J=this._renderer.buffer;for(let Q=0;Q<Z.buffers.length;Q++){let q=Z.buffers[Q];J.updateBuffer(q)}}checkCompatibility(Z,J){let Q=Z.attributes,q=J._attributeData;for(let K in q)if(!Q[K])throw Error(`shader and geometry incompatible, geometry missing the "${K}" attribute`)}getSignature(Z,J){let Q=Z.attributes,q=J._attributeData,K=["g",Z.uid];for(let X in Q)if(q[X])K.push(X,q[X].location);return K.join("-")}getVao(Z,J){return this._geometryVaoHash[Z.uid]?.[J._key]||this.initGeometryVao(Z,J)}initGeometryVao(Z,J,Q=!0){let q=this._renderer.gl,K=this._renderer.buffer;this._renderer.shader._getProgramData(J),this.checkCompatibility(Z,J);let X=this.getSignature(Z,J);if(!this._geometryVaoHash[Z.uid])this._geometryVaoHash[Z.uid]=Object.create(null),Z.on("destroy",this.onGeometryDestroy,this);let z=this._geometryVaoHash[Z.uid],Y=z[X];if(Y)return z[J._key]=Y,Y;QV(Z,J._attributeData);let O=Z.buffers;Y=q.createVertexArray(),q.bindVertexArray(Y);for(let U=0;U<O.length;U++){let A=O[U];K.bind(A)}return this.activateVao(Z,J),z[J._key]=Y,z[X]=Y,q.bindVertexArray(null),Y}onGeometryDestroy(Z,J){let Q=this._geometryVaoHash[Z.uid],q=this.gl;if(Q){if(J)for(let K in Q){if(this._activeVao!==Q[K])this.unbind();q.deleteVertexArray(Q[K])}this._geometryVaoHash[Z.uid]=null}}destroyAll(Z=!1){let J=this.gl;for(let Q in this._geometryVaoHash){if(Z)for(let q in this._geometryVaoHash[Q]){let K=this._geometryVaoHash[Q];if(this._activeVao!==K)this.unbind();J.deleteVertexArray(K[q])}this._geometryVaoHash[Q]=null}}activateVao(Z,J){let Q=this._renderer.gl,q=this._renderer.buffer,K=Z.attributes;if(Z.indexBuffer)q.bind(Z.indexBuffer);let X=null;for(let z in K){let Y=K[z],O=Y.buffer,U=q.getGlBuffer(O),A=J._attributeData[z];if(A){if(X!==U)q.bind(O),X=U;let B=A.location;Q.enableVertexAttribArray(B);let _=A8(Y.format),W=fy(Y.format);if(A.format?.substring(1,4)==="int")Q.vertexAttribIPointer(B,_.size,W,Y.stride,Y.offset);else Q.vertexAttribPointer(B,_.size,W,_.normalised,Y.stride,Y.offset);if(Y.instance)if(this.hasInstance){let F=Y.divisor??1;Q.vertexAttribDivisor(B,F)}else throw Error("geometry error, GPU Instancing is not supported on this device")}}}draw(Z,J,Q,q){let{gl:K}=this._renderer,X=this._activeGeometry,z=ga[Z||X.topology];if(q??(q=X.instanceCount),X.indexBuffer){let Y=X.indexBuffer.data.BYTES_PER_ELEMENT,O=Y===2?K.UNSIGNED_SHORT:K.UNSIGNED_INT;if(q!==1)K.drawElementsInstanced(z,J||X.indexBuffer.data.length,O,(Q||0)*Y,q);else K.drawElements(z,J||X.indexBuffer.data.length,O,(Q||0)*Y)}else if(q!==1)K.drawArraysInstanced(z,Q||0,J||X.getSize(),q);else K.drawArrays(z,Q||0,J||X.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null,this._geometryVaoHash=null}}var ga;var hy=j(()=>{g();vZ();$M();yy();ga={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};AV.extension={type:[I.WebGLSystem],name:"geometry"}});var ma,LM=class Z{constructor(J){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=J}init(J={}){let{useBackBuffer:Q,antialias:q}={...Z.defaultOptions,...J};if(this.useBackBuffer=Q,this._antialias=q,!this._renderer.context.supports.msaa)Z0("antialiasing, is not supported on when using the back buffer"),this._antialias=!1;this._state=x1.for2d();let K=new $5({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new k1({glProgram:K,resources:{uTexture:p.WHITE.source}})}renderStart(J){let Q=this._renderer.renderTarget.getRenderTarget(J.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!Q.isRoot,this._useBackBufferThisRender){let q=this._renderer.renderTarget.getRenderTarget(J.target);this._targetTexture=q.colorTexture,J.target=this._getBackBufferTexture(q.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){let J=this._renderer;if(J.renderTarget.finishRenderPass(),!this._useBackBufferThisRender)return;J.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,J.encoder.draw({geometry:ma,shader:this._bigTriangleShader,state:this._state})}_getBackBufferTexture(J){return this._backBufferTexture=this._backBufferTexture||new p({source:new m0({width:J.width,height:J.height,resolution:J._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(J.width,J.height,J._resolution),this._backBufferTexture}destroy(){if(this._backBufferTexture)this._backBufferTexture.destroy(),this._backBufferTexture=null}},xy;var gy=j(()=>{g();i0();PJ();f6();y6();i5();a0();X4();ma=new v6({attributes:{aPosition:[-1,-1,3,-1,-1,3]}});LM.extension={type:[I.WebGLSystem],name:"backBuffer",priority:1};LM.defaultOptions={useBackBuffer:!1};xy=LM});class DV{constructor(Z){this._colorMaskCache=15,this._renderer=Z}setMask(Z){if(this._colorMaskCache===Z)return;this._colorMaskCache=Z,this._renderer.gl.colorMask(!!(Z&8),!!(Z&4),!!(Z&2),!!(Z&1))}}var my=j(()=>{g();DV.extension={type:[I.WebGLSystem],name:"colorMask"}});class BV{constructor(Z){this.commandFinished=Promise.resolve(),this._renderer=Z}setGeometry(Z,J){this._renderer.geometry.bind(Z,J.glProgram)}finishRenderPass(){}draw(Z){let J=this._renderer,{geometry:Q,shader:q,state:K,skipSync:X,topology:z,size:Y,start:O,instanceCount:U}=Z;if(J.shader.bind(q,X),J.geometry.bind(Q,J.shader._activeProgram),K)J.state.set(K);J.geometry.draw(z,Y,O,U??Q.instanceCount)}destroy(){this._renderer=null}}var dy=j(()=>{g();BV.extension={type:[I.WebGLSystem],name:"encoder"}});class _V{constructor(Z){this._renderer=Z}contextChange(){let Z=this._renderer.gl;this.maxTextures=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=bH(this.maxTextures,Z);let J=this._renderer.context.webGLVersion===2;this.maxUniformBindings=J?Z.getParameter(Z.MAX_UNIFORM_BUFFER_BINDINGS):0}destroy(){}}var cy=j(()=>{g();HB();_V.extension={type:[I.WebGLSystem],name:"limits"}});class MV{constructor(Z){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:$1.NONE},this._renderTargetStencilState=Object.create(null),Z.renderTarget.onRenderTargetChange.add(this)}contextChange(Z){this._gl=Z,this._comparisonFuncMapping={always:Z.ALWAYS,never:Z.NEVER,equal:Z.EQUAL,"not-equal":Z.NOTEQUAL,less:Z.LESS,"less-equal":Z.LEQUAL,greater:Z.GREATER,"greater-equal":Z.GEQUAL},this._stencilOpsMapping={keep:Z.KEEP,zero:Z.ZERO,replace:Z.REPLACE,invert:Z.INVERT,"increment-clamp":Z.INCR,"decrement-clamp":Z.DECR,"increment-wrap":Z.INCR_WRAP,"decrement-wrap":Z.DECR_WRAP},this.resetState()}onRenderTargetChange(Z){if(this._activeRenderTarget===Z)return;this._activeRenderTarget=Z;let J=this._renderTargetStencilState[Z.uid];if(!J)J=this._renderTargetStencilState[Z.uid]={stencilMode:$1.DISABLED,stencilReference:0};this.setStencilMode(J.stencilMode,J.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=$1.NONE,this._stencilCache.stencilReference=0}setStencilMode(Z,J){let Q=this._renderTargetStencilState[this._activeRenderTarget.uid],q=this._gl,K=O4[Z],X=this._stencilCache;if(Q.stencilMode=Z,Q.stencilReference=J,Z===$1.DISABLED){if(this._stencilCache.enabled)this._stencilCache.enabled=!1,q.disable(q.STENCIL_TEST);return}if(!this._stencilCache.enabled)this._stencilCache.enabled=!0,q.enable(q.STENCIL_TEST);if(Z!==X.stencilMode||X.stencilReference!==J)X.stencilMode=Z,X.stencilReference=J,q.stencilFunc(this._comparisonFuncMapping[K.stencilBack.compare],J,255),q.stencilOp(q.KEEP,q.KEEP,this._stencilOpsMapping[K.stencilBack.passOp])}}var uy=j(()=>{g();AM();PZ();MV.extension={type:[I.WebGLSystem],name:"stencil"}});function ly(Z){let J=Z.map((X)=>({data:X,offset:0,size:0})),Q=16,q=0,K=0;for(let X=0;X<J.length;X++){let z=J[X];if(q=RM[z.data.type],!q)throw Error(`Unknown type ${z.data.type}`);if(z.data.size>1)q=Math.max(q,16)*z.data.size;let Y=q===12?16:q;z.size=q;let O=K%16;if(O>0&&16-O<Y)K+=(16-O)%16;else K+=(q-O%q)%q;z.offset=K,K+=q}return K=Math.ceil(K/16)*16,{uboElements:J,size:K}}var RM;var EM=j(()=>{RM={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":32,"mat3x3<f32>":48,"mat4x4<f32>":64}});function py(Z,J){let Q=Math.max(RM[Z.data.type]/16,1),q=Z.data.value.length/Z.data.size,K=(4-q%4)%4,X=Z.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${Z.data.name};
        offset += ${J};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${Z.data.size*Q}; i++)
        {
            for(var j = 0; j < ${q}; j++)
            {
                ${X}[arrayOffset++] = v[t++];
            }
            ${K!==0?`arrayOffset += ${K};`:""}
        }
    `}var iy=j(()=>{EM()});function ay(Z){return rY(Z,"uboStd40",py,VM)}var sy=j(()=>{YM();OM();iy()});var WV;var ny=j(()=>{g();NM();EM();sy();WV=class WV extends eK{constructor(){super({createUboElements:ly,generateUboSync:ay})}};WV.extension={type:[I.WebGLSystem],name:"ubo"}});class IM{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}var oy=()=>{};class TM{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new $0}init(Z,J){this._renderer=Z,this._renderTargetSystem=J,Z.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new $0}copyToTexture(Z,J,Q,q,K){let X=this._renderTargetSystem,z=this._renderer,Y=X.getGpuRenderTarget(Z),O=z.gl;return this.finishRenderPass(Z),O.bindFramebuffer(O.FRAMEBUFFER,Y.resolveTargetFramebuffer),z.texture.bind(J,0),O.copyTexSubImage2D(O.TEXTURE_2D,0,K.x,K.y,Q.x,Q.y,q.width,q.height),J}startRenderPass(Z,J=!0,Q,q){let K=this._renderTargetSystem,X=Z.colorTexture,z=K.getGpuRenderTarget(Z),Y=q.y;if(Z.isRoot)Y=X.pixelHeight-q.height;Z.colorTextures.forEach((A)=>{this._renderer.texture.unbind(A)});let O=this._renderer.gl;O.bindFramebuffer(O.FRAMEBUFFER,z.framebuffer);let U=this._viewPortCache;if(U.x!==q.x||U.y!==Y||U.width!==q.width||U.height!==q.height)U.x=q.x,U.y=Y,U.width=q.width,U.height=q.height,O.viewport(q.x,Y,q.width,q.height);if(!z.depthStencilRenderBuffer&&(Z.stencil||Z.depth))this._initStencil(z);this.clear(Z,J,Q)}finishRenderPass(Z){let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(!Q.msaa)return;let q=this._renderer.gl;q.bindFramebuffer(q.FRAMEBUFFER,Q.resolveTargetFramebuffer),q.bindFramebuffer(q.READ_FRAMEBUFFER,Q.framebuffer),q.blitFramebuffer(0,0,Q.width,Q.height,0,0,Q.width,Q.height,q.COLOR_BUFFER_BIT,q.NEAREST),q.bindFramebuffer(q.FRAMEBUFFER,Q.framebuffer)}initGpuRenderTarget(Z){let Q=this._renderer.gl,q=new IM;if(Z.colorTexture instanceof n5)return this._renderer.context.ensureCanvasSize(Z.colorTexture.resource),q.framebuffer=null,q;return this._initColor(Z,q),Q.bindFramebuffer(Q.FRAMEBUFFER,null),q}destroyGpuRenderTarget(Z){let J=this._renderer.gl;if(Z.framebuffer)J.deleteFramebuffer(Z.framebuffer),Z.framebuffer=null;if(Z.resolveTargetFramebuffer)J.deleteFramebuffer(Z.resolveTargetFramebuffer),Z.resolveTargetFramebuffer=null;if(Z.depthStencilRenderBuffer)J.deleteRenderbuffer(Z.depthStencilRenderBuffer),Z.depthStencilRenderBuffer=null;Z.msaaRenderBuffer.forEach((Q)=>{J.deleteRenderbuffer(Q)}),Z.msaaRenderBuffer=null}clear(Z,J,Q){if(!J)return;let q=this._renderTargetSystem;if(typeof J==="boolean")J=J?D5.ALL:D5.NONE;let K=this._renderer.gl;if(J&D5.COLOR){Q??(Q=q.defaultClearColor);let X=this._clearColorCache,z=Q;if(X[0]!==z[0]||X[1]!==z[1]||X[2]!==z[2]||X[3]!==z[3])X[0]=z[0],X[1]=z[1],X[2]=z[2],X[3]=z[3],K.clearColor(z[0],z[1],z[2],z[3])}K.clear(J)}resizeGpuRenderTarget(Z){if(Z.isRoot)return;let Q=this._renderTargetSystem.getGpuRenderTarget(Z);if(this._resizeColor(Z,Q),Z.stencil||Z.depth)this._resizeStencil(Q)}_initColor(Z,J){let Q=this._renderer,q=Q.gl,K=q.createFramebuffer();if(J.resolveTargetFramebuffer=K,q.bindFramebuffer(q.FRAMEBUFFER,K),J.width=Z.colorTexture.source.pixelWidth,J.height=Z.colorTexture.source.pixelHeight,Z.colorTextures.forEach((X,z)=>{let Y=X.source;if(Y.antialias)if(Q.context.supports.msaa)J.msaa=!0;else Z0("[RenderTexture] Antialiasing on textures is not supported in WebGL1");Q.texture.bindSource(Y,0);let U=Q.texture.getGlSource(Y).texture;q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+z,3553,U,0)}),J.msaa){let X=q.createFramebuffer();J.framebuffer=X,q.bindFramebuffer(q.FRAMEBUFFER,X),Z.colorTextures.forEach((z,Y)=>{let O=q.createRenderbuffer();J.msaaRenderBuffer[Y]=O})}else J.framebuffer=K;this._resizeColor(Z,J)}_resizeColor(Z,J){let Q=Z.colorTexture.source;if(J.width=Q.pixelWidth,J.height=Q.pixelHeight,Z.colorTextures.forEach((q,K)=>{if(K===0)return;q.source.resize(Q.width,Q.height,Q._resolution)}),J.msaa){let q=this._renderer,K=q.gl,X=J.framebuffer;K.bindFramebuffer(K.FRAMEBUFFER,X),Z.colorTextures.forEach((z,Y)=>{let O=z.source;q.texture.bindSource(O,0);let A=q.texture.getGlSource(O).internalFormat,B=J.msaaRenderBuffer[Y];K.bindRenderbuffer(K.RENDERBUFFER,B),K.renderbufferStorageMultisample(K.RENDERBUFFER,4,A,O.pixelWidth,O.pixelHeight),K.framebufferRenderbuffer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+Y,K.RENDERBUFFER,B)})}}_initStencil(Z){if(Z.framebuffer===null)return;let J=this._renderer.gl,Q=J.createRenderbuffer();Z.depthStencilRenderBuffer=Q,J.bindRenderbuffer(J.RENDERBUFFER,Q),J.framebufferRenderbuffer(J.FRAMEBUFFER,J.DEPTH_STENCIL_ATTACHMENT,J.RENDERBUFFER,Q),this._resizeStencil(Z)}_resizeStencil(Z){let J=this._renderer.gl;if(J.bindRenderbuffer(J.RENDERBUFFER,Z.depthStencilRenderBuffer),Z.msaa)J.renderbufferStorageMultisample(J.RENDERBUFFER,4,J.DEPTH24_STENCIL8,Z.width,Z.height);else J.renderbufferStorage(J.RENDERBUFFER,this._renderer.context.webGLVersion===2?J.DEPTH24_STENCIL8:J.DEPTH_STENCIL,Z.width,Z.height)}prerender(Z){let J=Z.colorTexture.resource;if(this._renderer.context.multiView&&n5.test(J))this._renderer.context.ensureCanvasSize(J)}postrender(Z){if(!this._renderer.context.multiView)return;if(n5.test(Z.colorTexture.resource)){let J=this._renderer.context.canvas,Q=Z.colorTexture;Q.context2D.drawImage(J,0,Q.pixelHeight-J.height)}}}var ty=j(()=>{Q5();i0();TJ();ZQ();oy()});var GV;var ry=j(()=>{g();DM();ty();GV=class GV extends JX{constructor(Z){super(Z);this.adaptor=new TM,this.adaptor.init(Z,this)}};GV.extension={type:[I.WebGLSystem],name:"renderTarget"}});function ey(Z,J){let Q=[],q=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `],K=!1,X=0,z=J._getProgramData(Z.glProgram);for(let O in Z.groups){let U=Z.groups[O];Q.push(`
            resources = g[${O}].resources;
        `);for(let A in U.resources){let B=U.resources[A];if(B instanceof n0)if(B.ubo){let _=Z._uniformBindMap[O][Number(A)];Q.push(`
                        sS.bindUniformBlock(
                            resources[${A}],
                            '${_}',
                            ${Z.glProgram._uniformBlockData[_].index}
                        );
                    `)}else Q.push(`
                        ugS.updateUniformGroup(resources[${A}], p, sD);
                    `);else if(B instanceof uZ){let _=Z._uniformBindMap[O][Number(A)];Q.push(`
                    sS.bindUniformBlock(
                        resources[${A}],
                        '${_}',
                        ${Z.glProgram._uniformBlockData[_].index}
                    );
                `)}else if(B instanceof m0){let _=Z._uniformBindMap[O][A],W=z.uniformData[_];if(W){if(!K)K=!0,q.push(`
                        var tS = r.texture;
                        `);J._gl.uniform1i(W.location,X),Q.push(`
                        tS.bind(resources[${A}], ${X});
                    `),X++}}}}let Y=[...q,...Q].join(`
`);return Function("r","s","sD",Y)}var Zh=j(()=>{ZV();f5();i5()});class SM{constructor(Z,J){this.program=Z,this.uniformData=J,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}var Jh=()=>{};function bM(Z,J,Q){let q=Z.createShader(J);return Z.shaderSource(q,Q),Z.compileShader(q),q}var Qh=()=>{};function kM(Z){let J=Array(Z);for(let Q=0;Q<J.length;Q++)J[Q]=!1;return J}function FV(Z,J){switch(Z){case"float":return 0;case"vec2":return new Float32Array(2*J);case"vec3":return new Float32Array(3*J);case"vec4":return new Float32Array(4*J);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*J);case"ivec3":return new Int32Array(3*J);case"ivec4":return new Int32Array(4*J);case"uvec2":return new Uint32Array(2*J);case"uvec3":return new Uint32Array(3*J);case"uvec4":return new Uint32Array(4*J);case"bool":return!1;case"bvec2":return kM(2*J);case"bvec3":return kM(3*J);case"bvec4":return kM(4*J);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var PM=()=>{};function vM(Z,J){if(!jV){let Q=Object.keys(qh);jV={};for(let q=0;q<Q.length;++q){let K=Q[q];jV[Z[K]]=qh[K]}}return jV[J]}function Kh(Z,J){let Q=vM(Z,J);return da[Q]||"float32"}var jV=null,qh,da;var fM=j(()=>{qh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},da={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"}});function Xh(Z,J,Q=!1){let q={},K=J.getProgramParameter(Z,J.ACTIVE_ATTRIBUTES);for(let z=0;z<K;z++){let Y=J.getActiveAttrib(Z,z);if(Y.name.startsWith("gl_"))continue;let O=Kh(J,Y.type);q[Y.name]={location:0,format:O,stride:A8(O).stride,offset:0,instance:!1,start:0}}let X=Object.keys(q);if(Q){X.sort((z,Y)=>z>Y?1:-1);for(let z=0;z<X.length;z++)q[X[z]].location=z,J.bindAttribLocation(Z,z,X[z]);J.linkProgram(Z)}else for(let z=0;z<X.length;z++)q[X[z]].location=J.getAttribLocation(Z,X[z]);return q}var Nh=j(()=>{vZ();fM()});function zh(Z,J){if(!J.ACTIVE_UNIFORM_BLOCKS)return{};let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORM_BLOCKS);for(let K=0;K<q;K++){let X=J.getActiveUniformBlockName(Z,K),z=J.getUniformBlockIndex(Z,X),Y=J.getActiveUniformBlockParameter(Z,K,J.UNIFORM_BLOCK_DATA_SIZE);Q[X]={name:X,index:z,size:Y}}return Q}var Hh=()=>{};function Yh(Z,J){let Q={},q=J.getProgramParameter(Z,J.ACTIVE_UNIFORMS);for(let K=0;K<q;K++){let X=J.getActiveUniform(Z,K),z=X.name.replace(/\[.*?\]$/,""),Y=!!X.name.match(/\[.*?\]$/),O=vM(J,X.type);Q[z]={name:z,index:K,type:O,size:X.size,isArray:Y,value:FV(O,X.size)}}return Q}var Vh=j(()=>{PM();fM()});function Oh(Z,J){let Q=Z.getShaderSource(J).split(`
`).map((U,A)=>`${A}: ${U}`),q=Z.getShaderInfoLog(J),K=q.split(`
`),X={},z=K.map((U)=>parseFloat(U.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter((U)=>{if(U&&!X[U])return X[U]=!0,!0;return!1}),Y=[""];z.forEach((U)=>{Q[U-1]=`%c${Q[U-1]}%c`,Y.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let O=Q.join(`
`);Y[0]=O,console.error(q),console.groupCollapsed("click to view full shader code"),console.warn(...Y),console.groupEnd()}function Uh(Z,J,Q,q){if(!Z.getProgramParameter(J,Z.LINK_STATUS)){if(!Z.getShaderParameter(Q,Z.COMPILE_STATUS))Oh(Z,Q);if(!Z.getShaderParameter(q,Z.COMPILE_STATUS))Oh(Z,q);if(console.error("PixiJS Error: Could not initialize shader."),Z.getProgramInfoLog(J)!=="")console.warn("PixiJS Warning: gl.getProgramInfoLog()",Z.getProgramInfoLog(J))}}var $h=()=>{};function Ah(Z,J){let Q=bM(Z,Z.VERTEX_SHADER,J.vertex),q=bM(Z,Z.FRAGMENT_SHADER,J.fragment),K=Z.createProgram();Z.attachShader(K,Q),Z.attachShader(K,q);let X=J.transformFeedbackVaryings;if(X)if(typeof Z.transformFeedbackVaryings!=="function")Z0("TransformFeedback is not supported but TransformFeedbackVaryings are given.");else Z.transformFeedbackVaryings(K,X.names,X.bufferMode==="separate"?Z.SEPARATE_ATTRIBS:Z.INTERLEAVED_ATTRIBS);if(Z.linkProgram(K),!Z.getProgramParameter(K,Z.LINK_STATUS))Uh(Z,K,Q,q);J._attributeData=Xh(K,Z,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(J.vertex)),J._uniformData=Yh(K,Z),J._uniformBlockData=zh(K,Z),Z.deleteShader(Q),Z.deleteShader(q);let z={};for(let O in J._uniformData){let U=J._uniformData[O];z[O]={location:Z.getUniformLocation(K,O),value:FV(U.type,U.size)}}return new SM(K,z)}var Dh=j(()=>{i0();Jh();Qh();PM();Nh();Hh();Vh();$h()});class CV{constructor(Z){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(Z){this._gl=Z,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(Z,J){if(this._setProgram(Z.glProgram),J)return;wV.textureCount=0,wV.blockIndex=0;let Q=this._shaderSyncFunctions[Z.glProgram._key];if(!Q)Q=this._shaderSyncFunctions[Z.glProgram._key]=this._generateShaderSync(Z,this);this._renderer.buffer.nextBindBase(!!Z.glProgram.transformFeedbackVaryings),Q(this._renderer,Z,wV)}updateUniformGroup(Z){this._renderer.uniformGroup.updateUniformGroup(Z,this._activeProgram,wV)}bindUniformBlock(Z,J,Q=0){let q=this._renderer.buffer,K=this._getProgramData(this._activeProgram),X=Z._bufferResource;if(!X)this._renderer.ubo.updateUniformGroup(Z);let z=Z.buffer,Y=q.updateBuffer(z),O=q.freeLocationForBufferBase(Y);if(X){let{offset:A,size:B}=Z;if(A===0&&B===z.data.byteLength)q.bindBufferBase(Y,O);else q.bindBufferRange(Y,O,A)}else if(q.getLastBindBaseLocation(Y)!==O)q.bindBufferBase(Y,O);let U=this._activeProgram._uniformBlockData[J].index;if(K.uniformBlockBindings[Q]===O)return;K.uniformBlockBindings[Q]=O,this._renderer.gl.uniformBlockBinding(K.program,U,O)}_setProgram(Z){if(this._activeProgram===Z)return;this._activeProgram=Z;let J=this._getProgramData(Z);this._gl.useProgram(J.program)}_getProgramData(Z){return this._programDataHash[Z._key]||this._createProgramData(Z)}_createProgramData(Z){let J=Z._key;return this._programDataHash[J]=Ah(this._gl,Z),this._programDataHash[J]}destroy(){for(let Z of Object.keys(this._programDataHash))this._programDataHash[Z].destroy(),this._programDataHash[Z]=null;this._programDataHash=null,this._shaderSyncFunctions=null,this._activeProgram=null,this._renderer=null,this._gl=null}_generateShaderSync(Z,J){return ey(Z,J)}resetState(){this._activeProgram=null}}var wV;var Bh=j(()=>{g();Zh();Dh();wV={textureCount:0,blockIndex:0};CV.extension={type:[I.WebGLSystem],name:"shader"}});var _h,Mh;var Wh=j(()=>{_h={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},Mh={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"}});function Gh(Z,J){let Q=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(let q in Z.uniforms){if(!J[q]){if(Z.uniforms[q]instanceof n0)if(Z.uniforms[q].ubo)Q.push(`
                        renderer.shader.bindUniformBlock(uv.${q}, "${q}");
                    `);else Q.push(`
                        renderer.shader.updateUniformGroup(uv.${q});
                    `);else if(Z.uniforms[q]instanceof uZ)Q.push(`
                        renderer.shader.bindBufferResource(uv.${q}, "${q}");
                    `);continue}let K=Z.uniformStructures[q],X=!1;for(let z=0;z<Y7.length;z++){let Y=Y7[z];if(K.type===Y.type&&Y.test(K)){Q.push(`name = "${q}";`,Y7[z].uniform),X=!0;break}}if(!X){let Y=(K.size===1?_h:Mh)[K.type].replace("location",`ud["${q}"].location`);Q.push(`
            cu = ud["${q}"];
            cv = cu.value;
            v = uv["${q}"];
            ${Y};`)}}return Function("ud","uv","renderer","syncData",Q.join(`
`))}var Fh=j(()=>{ZV();f5();HM();Wh()});class LV{constructor(Z){this._cache={},this._uniformGroupSyncHash={},this._renderer=Z,this.gl=null,this._cache={}}contextChange(Z){this.gl=Z}updateUniformGroup(Z,J,Q){let q=this._renderer.shader._getProgramData(J);if(!Z.isStatic||Z._dirtyId!==q.uniformDirtyGroups[Z.uid])q.uniformDirtyGroups[Z.uid]=Z._dirtyId,this._getUniformSyncFunction(Z,J)(q.uniformData,Z.uniforms,this._renderer,Q)}_getUniformSyncFunction(Z,J){return this._uniformGroupSyncHash[Z._signature]?.[J._key]||this._createUniformSyncFunction(Z,J)}_createUniformSyncFunction(Z,J){let Q=this._uniformGroupSyncHash[Z._signature]||(this._uniformGroupSyncHash[Z._signature]={}),q=this._getSignature(Z,J._uniformData,"u");if(!this._cache[q])this._cache[q]=this._generateUniformsSync(Z,J._uniformData);return Q[J._key]=this._cache[q],Q[J._key]}_generateUniformsSync(Z,J){return Gh(Z,J)}_getSignature(Z,J,Q){let q=Z.uniforms,K=[`${Q}-`];for(let X in q)if(K.push(X),J[X])K.push(J[X].type);return K.join("-")}destroy(){this._renderer=null,this._cache=null}}var jh=j(()=>{g();Fh();LV.extension={type:[I.WebGLSystem],name:"uniformGroup"}});function wh(Z){let J={};if(J.normal=[Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.add=[Z.ONE,Z.ONE],J.multiply=[Z.DST_COLOR,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.screen=[Z.ONE,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.none=[0,0],J["normal-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J["add-npm"]=[Z.SRC_ALPHA,Z.ONE,Z.ONE,Z.ONE],J["screen-npm"]=[Z.SRC_ALPHA,Z.ONE_MINUS_SRC_COLOR,Z.ONE,Z.ONE_MINUS_SRC_ALPHA],J.erase=[Z.ZERO,Z.ONE_MINUS_SRC_ALPHA],!(Z instanceof K0.get().getWebGLRenderingContext()))J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MIN,Z.MIN],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,Z.MAX,Z.MAX];else{let q=Z.getExtension("EXT_blend_minmax");if(q)J.min=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MIN_EXT,q.MIN_EXT],J.max=[Z.ONE,Z.ONE,Z.ONE,Z.ONE,q.MAX_EXT,q.MAX_EXT]}return J}var Ch=j(()=>{s0()});var ca=0,ua=1,la=2,pa=3,ia=4,aa=5,Lh=class Z{constructor(J){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[ca]=this.setBlend,this.map[ua]=this.setOffset,this.map[la]=this.setCullFace,this.map[pa]=this.setDepthTest,this.map[ia]=this.setFrontFace,this.map[aa]=this.setDepthMask,this.checks=[],this.defaultState=x1.for2d(),J.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(J){if(this._invertFrontFace=!J.isRoot,this._cullFace)this.setFrontFace(this._frontFace);else this._frontFaceDirty=!0}contextChange(J){this.gl=J,this.blendModesMap=wh(J),this.resetState()}set(J){if(J||(J=this.defaultState),this.stateId!==J.data){let Q=this.stateId^J.data,q=0;while(Q){if(Q&1)this.map[q].call(this,!!(J.data&1<<q));Q>>=1,q++}this.stateId=J.data}for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J)}forceState(J){J||(J=this.defaultState);for(let Q=0;Q<this.map.length;Q++)this.map[Q].call(this,!!(J.data&1<<Q));for(let Q=0;Q<this.checks.length;Q++)this.checks[Q](this,J);this.stateId=J.data}setBlend(J){this._updateCheck(Z._checkBlendMode,J),this.gl[J?"enable":"disable"](this.gl.BLEND)}setOffset(J){this._updateCheck(Z._checkPolygonOffset,J),this.gl[J?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(J){this.gl[J?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(J){this.gl.depthMask(J)}setCullFace(J){if(this._cullFace=J,this.gl[J?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty)this.setFrontFace(this._frontFace)}setFrontFace(J){this._frontFace=J,this._frontFaceDirty=!1;let Q=this._invertFrontFace?!J:J;if(this._glFrontFace!==Q)this._glFrontFace=Q,this.gl.frontFace(this.gl[Q?"CW":"CCW"])}setBlendMode(J){if(!this.blendModesMap[J])J="normal";if(J===this.blendMode)return;this.blendMode=J;let Q=this.blendModesMap[J],q=this.gl;if(Q.length===2)q.blendFunc(Q[0],Q[1]);else q.blendFuncSeparate(Q[0],Q[1],Q[2],Q[3]);if(Q.length===6)this._blendEq=!0,q.blendEquationSeparate(Q[4],Q[5]);else if(this._blendEq)this._blendEq=!1,q.blendEquationSeparate(q.FUNC_ADD,q.FUNC_ADD)}setPolygonOffset(J,Q){this.gl.polygonOffset(J,Q)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(J,Q){let q=this.checks.indexOf(J);if(Q&&q===-1)this.checks.push(J);else if(!Q&&q!==-1)this.checks.splice(q,1)}static _checkBlendMode(J,Q){J.setBlendMode(Q.blendMode)}static _checkPolygonOffset(J,Q){J.setPolygonOffset(1,Q.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}},Rh;var Eh=j(()=>{g();y6();Ch();Lh.extension={type:[I.WebGLSystem],name:"state"};Rh=Lh});class yM{constructor(Z){this.target=wM.TEXTURE_2D,this.texture=Z,this.width=-1,this.height=-1,this.type=x0.UNSIGNED_BYTE,this.internalFormat=$V.RGBA,this.format=$V.RGBA,this.samplerType=0}}var Ih=j(()=>{CM()});var Th;var Sh=j(()=>{Th={id:"buffer",upload(Z,J,Q){if(J.width===Z.width||J.height===Z.height)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,Z.width,Z.height,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,Z.width,Z.height,0,J.format,J.type,Z.resource);J.width=Z.width,J.height=Z.height}}});var sa,bh;var kh=j(()=>{sa={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},bh={id:"compressed",upload(Z,J,Q){Q.pixelStorei(Q.UNPACK_ALIGNMENT,4);let{pixelWidth:q,pixelHeight:K}=Z,X=!!sa[Z.format];for(let z=0;z<Z.resource.length;z++){let Y=Z.resource[z];if(X)Q.compressedTexImage2D(Q.TEXTURE_2D,z,J.internalFormat,q,K,0,Y);else Q.texImage2D(Q.TEXTURE_2D,z,J.internalFormat,q,K,0,J.format,J.type,Y);q=Math.max(q>>1,1),K=Math.max(K>>1,1)}}}});var RV;var hM=j(()=>{RV={id:"image",upload(Z,J,Q,q){let{width:K,height:X}=J,z=Z.pixelWidth,Y=Z.pixelHeight,O=Z.resourceWidth,U=Z.resourceHeight;if(O<z||U<Y){if(K!==z||X!==Y)Q.texImage2D(J.target,0,J.internalFormat,z,Y,0,J.format,J.type,null);if(q===2)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,O,U,J.format,J.type,Z.resource);else Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource)}else if(K===z&&X===Y)Q.texSubImage2D(Q.TEXTURE_2D,0,0,0,J.format,J.type,Z.resource);else if(q===2)Q.texImage2D(J.target,0,J.internalFormat,z,Y,0,J.format,J.type,Z.resource);else Q.texImage2D(J.target,0,J.internalFormat,J.format,J.type,Z.resource);J.width=z,J.height=Y}}});var Ph;var vh=j(()=>{hM();Ph={id:"video",upload(Z,J,Q,q){if(!Z.isValid){Q.texImage2D(J.target,0,J.internalFormat,1,1,0,J.format,J.type,null);return}RV.upload(Z,J,Q,q)}}});var xM,fh,EV,yh;var hh=j(()=>{xM={linear:9729,nearest:9728},fh={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},EV={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},yh={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519}});function gM(Z,J,Q,q,K,X,z,Y){let O=X;if(!Y||Z.addressModeU!=="repeat"||Z.addressModeV!=="repeat"||Z.addressModeW!=="repeat"){let U=EV[z?"clamp-to-edge":Z.addressModeU],A=EV[z?"clamp-to-edge":Z.addressModeV],B=EV[z?"clamp-to-edge":Z.addressModeW];if(J[K](O,J.TEXTURE_WRAP_S,U),J[K](O,J.TEXTURE_WRAP_T,A),J.TEXTURE_WRAP_R)J[K](O,J.TEXTURE_WRAP_R,B)}if(!Y||Z.magFilter!=="linear")J[K](O,J.TEXTURE_MAG_FILTER,xM[Z.magFilter]);if(Q){if(!Y||Z.mipmapFilter!=="linear"){let U=fh[Z.minFilter][Z.mipmapFilter];J[K](O,J.TEXTURE_MIN_FILTER,U)}}else J[K](O,J.TEXTURE_MIN_FILTER,xM[Z.minFilter]);if(q&&Z.maxAnisotropy>1){let U=Math.min(Z.maxAnisotropy,J.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT));J[K](O,q.TEXTURE_MAX_ANISOTROPY_EXT,U)}if(Z.compare)J[K](O,J.TEXTURE_COMPARE_FUNC,yh[Z.compare])}var xh=j(()=>{hh()});function gh(Z){return{r8unorm:Z.RED,r8snorm:Z.RED,r8uint:Z.RED,r8sint:Z.RED,r16uint:Z.RED,r16sint:Z.RED,r16float:Z.RED,rg8unorm:Z.RG,rg8snorm:Z.RG,rg8uint:Z.RG,rg8sint:Z.RG,r32uint:Z.RED,r32sint:Z.RED,r32float:Z.RED,rg16uint:Z.RG,rg16sint:Z.RG,rg16float:Z.RG,rgba8unorm:Z.RGBA,"rgba8unorm-srgb":Z.RGBA,rgba8snorm:Z.RGBA,rgba8uint:Z.RGBA,rgba8sint:Z.RGBA,bgra8unorm:Z.RGBA,"bgra8unorm-srgb":Z.RGBA,rgb9e5ufloat:Z.RGB,rgb10a2unorm:Z.RGBA,rg11b10ufloat:Z.RGB,rg32uint:Z.RG,rg32sint:Z.RG,rg32float:Z.RG,rgba16uint:Z.RGBA,rgba16sint:Z.RGBA,rgba16float:Z.RGBA,rgba32uint:Z.RGBA,rgba32sint:Z.RGBA,rgba32float:Z.RGBA,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT,depth24plus:Z.DEPTH_COMPONENT,"depth24plus-stencil8":Z.DEPTH_STENCIL,depth32float:Z.DEPTH_COMPONENT,"depth32float-stencil8":Z.DEPTH_STENCIL}}var mh=()=>{};function dh(Z,J){let Q={},q=Z.RGBA;if(!(Z instanceof K0.get().getWebGLRenderingContext()))Q={"rgba8unorm-srgb":Z.SRGB8_ALPHA8,"bgra8unorm-srgb":Z.SRGB8_ALPHA8},q=Z.RGBA8;else if(J.srgb)Q={"rgba8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":J.srgb.SRGB8_ALPHA8_EXT};return{r8unorm:Z.R8,r8snorm:Z.R8_SNORM,r8uint:Z.R8UI,r8sint:Z.R8I,r16uint:Z.R16UI,r16sint:Z.R16I,r16float:Z.R16F,rg8unorm:Z.RG8,rg8snorm:Z.RG8_SNORM,rg8uint:Z.RG8UI,rg8sint:Z.RG8I,r32uint:Z.R32UI,r32sint:Z.R32I,r32float:Z.R32F,rg16uint:Z.RG16UI,rg16sint:Z.RG16I,rg16float:Z.RG16F,rgba8unorm:Z.RGBA,...Q,rgba8snorm:Z.RGBA8_SNORM,rgba8uint:Z.RGBA8UI,rgba8sint:Z.RGBA8I,bgra8unorm:q,rgb9e5ufloat:Z.RGB9_E5,rgb10a2unorm:Z.RGB10_A2,rg11b10ufloat:Z.R11F_G11F_B10F,rg32uint:Z.RG32UI,rg32sint:Z.RG32I,rg32float:Z.RG32F,rgba16uint:Z.RGBA16UI,rgba16sint:Z.RGBA16I,rgba16float:Z.RGBA16F,rgba32uint:Z.RGBA32UI,rgba32sint:Z.RGBA32I,rgba32float:Z.RGBA32F,stencil8:Z.STENCIL_INDEX8,depth16unorm:Z.DEPTH_COMPONENT16,depth24plus:Z.DEPTH_COMPONENT24,"depth24plus-stencil8":Z.DEPTH24_STENCIL8,depth32float:Z.DEPTH_COMPONENT32F,"depth32float-stencil8":Z.DEPTH32F_STENCIL8,...J.s3tc?{"bc1-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":J.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...J.s3tc_sRGB?{"bc1-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":J.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...J.rgtc?{"bc4-r-unorm":J.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":J.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":J.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":J.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...J.bptc?{"bc6h-rgb-float":J.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":J.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":J.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":J.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...J.etc?{"etc2-rgb8unorm":J.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":J.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":J.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":J.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":J.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":J.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":J.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":J.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...J.astc?{"astc-4x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":J.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":J.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}var ch=j(()=>{s0()});function uh(Z){return{r8unorm:Z.UNSIGNED_BYTE,r8snorm:Z.BYTE,r8uint:Z.UNSIGNED_BYTE,r8sint:Z.BYTE,r16uint:Z.UNSIGNED_SHORT,r16sint:Z.SHORT,r16float:Z.HALF_FLOAT,rg8unorm:Z.UNSIGNED_BYTE,rg8snorm:Z.BYTE,rg8uint:Z.UNSIGNED_BYTE,rg8sint:Z.BYTE,r32uint:Z.UNSIGNED_INT,r32sint:Z.INT,r32float:Z.FLOAT,rg16uint:Z.UNSIGNED_SHORT,rg16sint:Z.SHORT,rg16float:Z.HALF_FLOAT,rgba8unorm:Z.UNSIGNED_BYTE,"rgba8unorm-srgb":Z.UNSIGNED_BYTE,rgba8snorm:Z.BYTE,rgba8uint:Z.UNSIGNED_BYTE,rgba8sint:Z.BYTE,bgra8unorm:Z.UNSIGNED_BYTE,"bgra8unorm-srgb":Z.UNSIGNED_BYTE,rgb9e5ufloat:Z.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:Z.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:Z.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:Z.UNSIGNED_INT,rg32sint:Z.INT,rg32float:Z.FLOAT,rgba16uint:Z.UNSIGNED_SHORT,rgba16sint:Z.SHORT,rgba16float:Z.HALF_FLOAT,rgba32uint:Z.UNSIGNED_INT,rgba32sint:Z.INT,rgba32float:Z.FLOAT,stencil8:Z.UNSIGNED_BYTE,depth16unorm:Z.UNSIGNED_SHORT,depth24plus:Z.UNSIGNED_INT,"depth24plus-stencil8":Z.UNSIGNED_INT_24_8,depth32float:Z.FLOAT,"depth32float-stencil8":Z.FLOAT_32_UNSIGNED_INT_24_8_REV}}var lh=()=>{};class IV{constructor(Z){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:RV,buffer:Th,video:Ph,compressed:bh},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=Z,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(Z){if(this._gl=Z,!this._mapFormatToInternalFormat)this._mapFormatToInternalFormat=dh(Z,this._renderer.context.extensions),this._mapFormatToType=uh(Z),this._mapFormatToFormat=gh(Z);this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let J=0;J<16;J++)this.bind(p.EMPTY,J)}initSource(Z){this.bind(Z)}bind(Z,J=0){let Q=Z.source;if(Z){if(this.bindSource(Q,J),this._useSeparateSamplers)this._bindSampler(Q.style,J)}else if(this.bindSource(null,J),this._useSeparateSamplers)this._bindSampler(null,J)}bindSource(Z,J=0){let Q=this._gl;if(Z._touched=this._renderer.textureGC.count,this._boundTextures[J]!==Z){this._boundTextures[J]=Z,this._activateLocation(J),Z||(Z=p.EMPTY.source);let q=this.getGlSource(Z);Q.bindTexture(q.target,q.texture)}}_bindSampler(Z,J=0){let Q=this._gl;if(!Z){this._boundSamplers[J]=null,Q.bindSampler(J,null);return}let q=this._getGlSampler(Z);if(this._boundSamplers[J]!==q)this._boundSamplers[J]=q,Q.bindSampler(J,q)}unbind(Z){let J=Z.source,Q=this._boundTextures,q=this._gl;for(let K=0;K<Q.length;K++)if(Q[K]===J){this._activateLocation(K);let X=this.getGlSource(J);q.bindTexture(X.target,null),Q[K]=null}}_activateLocation(Z){if(this._activeTextureLocation!==Z)this._activeTextureLocation=Z,this._gl.activeTexture(this._gl.TEXTURE0+Z)}_initSource(Z){let J=this._gl,Q=new yM(J.createTexture());if(Q.type=this._mapFormatToType[Z.format],Q.internalFormat=this._mapFormatToInternalFormat[Z.format],Q.format=this._mapFormatToFormat[Z.format],Z.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||Z.isPowerOfTwo)){let q=Math.max(Z.width,Z.height);Z.mipLevelCount=Math.floor(Math.log2(q))+1}if(this._glTextures[Z.uid]=Q,!this.managedTextures.includes(Z))Z.on("update",this.onSourceUpdate,this),Z.on("resize",this.onSourceUpdate,this),Z.on("styleChange",this.onStyleChange,this),Z.on("destroy",this.onSourceDestroy,this),Z.on("unload",this.onSourceUnload,this),Z.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(Z);return this.onSourceUpdate(Z),this.updateStyle(Z,!1),Q}onStyleChange(Z){this.updateStyle(Z,!1)}updateStyle(Z,J){let Q=this._gl,q=this.getGlSource(Z);Q.bindTexture(Q.TEXTURE_2D,q.texture),this._boundTextures[this._activeTextureLocation]=Z,gM(Z.style,Q,Z.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",Q.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!Z.isPowerOfTwo,J)}onSourceUnload(Z){let J=this._glTextures[Z.uid];if(!J)return;this.unbind(Z),this._glTextures[Z.uid]=null,this._gl.deleteTexture(J.texture)}onSourceUpdate(Z){let J=this._gl,Q=this.getGlSource(Z);J.bindTexture(J.TEXTURE_2D,Q.texture),this._boundTextures[this._activeTextureLocation]=Z;let q=Z.alphaMode==="premultiply-alpha-on-upload";if(this._premultiplyAlpha!==q)this._premultiplyAlpha=q,J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q);if(this._uploads[Z.uploadMethodId])this._uploads[Z.uploadMethodId].upload(Z,Q,J,this._renderer.context.webGLVersion);else J.texImage2D(J.TEXTURE_2D,0,J.RGBA,Z.pixelWidth,Z.pixelHeight,0,J.RGBA,J.UNSIGNED_BYTE,null);if(Z.autoGenerateMipmaps&&Z.mipLevelCount>1)this.onUpdateMipmaps(Z,!1)}onUpdateMipmaps(Z,J=!0){if(J)this.bindSource(Z,0);let Q=this.getGlSource(Z);this._gl.generateMipmap(Q.target)}onSourceDestroy(Z){Z.off("destroy",this.onSourceDestroy,this),Z.off("update",this.onSourceUpdate,this),Z.off("resize",this.onSourceUpdate,this),Z.off("unload",this.onSourceUnload,this),Z.off("styleChange",this.onStyleChange,this),Z.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(Z),1),this.onSourceUnload(Z)}_initSampler(Z){let J=this._gl,Q=this._gl.createSampler();return this._glSamplers[Z._resourceId]=Q,gM(Z,J,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",Q,!1,!0),this._glSamplers[Z._resourceId]}_getGlSampler(Z){return this._glSamplers[Z._resourceId]||this._initSampler(Z)}getGlSource(Z){return this._glTextures[Z.uid]||this._initSource(Z)}generateCanvas(Z){let{pixels:J,width:Q,height:q}=this.getPixels(Z),K=K0.get().createCanvas();K.width=Q,K.height=q;let X=K.getContext("2d");if(X){let z=X.createImageData(Q,q);z.data.set(J),X.putImageData(z,0,0)}return K}getPixels(Z){let J=Z.source.resolution,Q=Z.frame,q=Math.max(Math.round(Q.width*J),1),K=Math.max(Math.round(Q.height*J),1),X=new Uint8Array(na*q*K),z=this._renderer,Y=z.renderTarget.getRenderTarget(Z),O=z.renderTarget.getGpuRenderTarget(Y),U=z.gl;return U.bindFramebuffer(U.FRAMEBUFFER,O.resolveTargetFramebuffer),U.readPixels(Math.round(Q.x*J),Math.round(Q.y*J),q,K,U.RGBA,U.UNSIGNED_BYTE,X),{pixels:new Uint8ClampedArray(X.buffer),width:q,height:K}}destroy(){this.managedTextures.slice().forEach((Z)=>this.onSourceDestroy(Z)),this.managedTextures=null,this._glTextures=null,this._glSamplers=null,this._boundTextures=null,this._boundSamplers=null,this._mapFormatToInternalFormat=null,this._mapFormatToType=null,this._mapFormatToFormat=null,this._uploads=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(p.EMPTY.source),this._boundSamplers=Object.create(null);let Z=this._gl;this._premultiplyAlpha=!1,Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}var na=4;var ph=j(()=>{s0();g();a0();Ih();Sh();kh();hM();vh();xh();mh();ch();lh();IV.extension={type:[I.WebGLSystem],name:"texture"}});var oh={};JN(oh,{WebGLRenderer:()=>nh});var oa,ta,ra,ih,ah,sh,nh;var th=j(()=>{g();Ry();Ey();Iy();iK();XM();$6();by();Py();hy();gy();my();dy();cy();uy();ny();ry();Bh();jh();Eh();ph();oa=[...lY,WV,xy,ky,_V,UV,IV,GV,AV,LV,CV,BV,Rh,MV,DV],ta=[...pY],ra=[OV,VV,YV],ih=[],ah=[],sh=[];J0.handleByNamedList(I.WebGLSystem,ih);J0.handleByNamedList(I.WebGLPipes,ah);J0.handleByNamedList(I.WebGLPipesAdaptor,sh);J0.add(...oa,...ta,...ra);nh=class nh extends w9{constructor(){let Z={name:"webgl",type:F1.WEBGL,systems:ih,renderPipes:ah,renderPipeAdaptors:sh};super(Z)}}});function qW(Z,J){var Q=Z.length;Z.push(J);Z:for(;0<Q;){var q=Q-1>>>1,K=Z[q];if(0<uV(K,J))Z[q]=J,Z[Q]=K,Q=q;else break Z}}function U4(Z){return Z.length===0?null:Z[0]}function aV(Z){if(Z.length===0)return null;var J=Z[0],Q=Z.pop();if(Q!==J){Z[0]=Q;Z:for(var q=0,K=Z.length,X=K>>>1;q<X;){var z=2*(q+1)-1,Y=Z[z],O=z+1,U=Z[O];if(0>uV(Y,Q))O<K&&0>uV(U,Y)?(Z[q]=U,Z[O]=Q,q=O):(Z[q]=Y,Z[z]=Q,q=z);else if(O<K&&0>uV(U,Q))Z[q]=U,Z[O]=Q,q=O;else break Z}}return J}function uV(Z,J){var Q=Z.sortIndex-J.sortIndex;return Q!==0?Q:Z.id-J.id}function pV(Z){for(var J=U4(R9);J!==null;){if(J.callback===null)aV(R9);else if(J.startTime<=Z)aV(R9),J.sortIndex=J.expirationTime,qW(V7,J);else break;J=U4(R9)}}function HW(Z){if(VX=!1,pV(Z),!YX)if(U4(V7)!==null)YX=!0,ex();else{var J=U4(R9);J!==null&&YW(HW,J.startTime-Z)}}function rx(){return $4()-tx<Zn?!1:!0}function QW(){if(sV){var Z=$4();tx=Z;var J=!0;try{Z:{YX=!1,VX&&(VX=!1,ox(OX),OX=-1),NW=!0;var Q=JW;try{J:{pV(Z);for(_6=U4(V7);_6!==null&&!(_6.expirationTime>Z&&rx());){var q=_6.callback;if(typeof q==="function"){_6.callback=null,JW=_6.priorityLevel;var K=q(_6.expirationTime<=Z);if(Z=$4(),typeof K==="function"){_6.callback=K,pV(Z),J=!0;break J}_6===U4(V7)&&aV(V7),pV(Z)}else aV(V7);_6=U4(V7)}if(_6!==null)J=!0;else{var X=U4(R9);X!==null&&YW(HW,X.startTime-Z),J=!1}}break Z}finally{_6=null,JW=Q,NW=!1}J=void 0}}finally{J?HX():sV=!1}}}function ex(){sV||(sV=!0,HX())}function YW(Z,J){OX=nx(function(){Z($4())},J)}var $4=void 0,KW,lV,XW,V7,R9,es=1,_6=null,JW=3,NW=!1,YX=!1,VX=!1,nx,ox,sx,sV=!1,OX=-1,Zn=5,tx=-1,HX,iV,zW,VW=5,OW=1,nV=3,UW=2,$W=function(Z){Z.callback=null},AW=function(){},oV=function(Z,J,Q){var q=$4();switch(typeof Q==="object"&&Q!==null?(Q=Q.delay,Q=typeof Q==="number"&&0<Q?q+Q:q):Q=q,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5000}return K=Q+K,Z={id:es++,callback:J,priorityLevel:Z,startTime:Q,expirationTime:K,sortIndex:-1},Q>q?(Z.sortIndex=Q,qW(R9,Z),U4(V7)===null&&Z===U4(R9)&&(VX?(ox(OX),OX=-1):VX=!0,YW(HW,Q-q))):(Z.sortIndex=K,qW(V7,Z),YX||NW||(YX=!0,ex())),Z},DW;var Jg=j(()=>{if(typeof performance==="object"&&typeof performance.now==="function")KW=performance,$4=function(){return KW.now()};else lV=Date,XW=lV.now(),$4=function(){return lV.now()-XW};V7=[],R9=[],nx=typeof setTimeout==="function"?setTimeout:null,ox=typeof clearTimeout==="function"?clearTimeout:null,sx=typeof setImmediate<"u"?setImmediate:null;if(typeof sx==="function")HX=function(){sx(QW)};else if(typeof MessageChannel<"u")iV=new MessageChannel,zW=iV.port2,iV.port1.onmessage=QW,HX=function(){zW.postMessage(null)};else HX=function(){nx(QW,0)};DW=rx});var Qg=cQ((u_0,UX)=>{m5();Jg();UX.exports=function(Z){function J(N,H,V,$){return new Am(N,H,V,$)}function Q(){}function q(N){var H="https://react.dev/errors/"+N;if(1<arguments.length){H+="?args[]="+encodeURIComponent(arguments[1]);for(var V=2;V<arguments.length;V++)H+="&args[]="+encodeURIComponent(arguments[V])}return"Minified React error #"+N+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K(N){if(N===null||typeof N!=="object")return null;return N=LF&&N[LF]||N["@@iterator"],typeof N==="function"?N:null}function X(N){if(N==null)return null;if(typeof N==="function")return N.$$typeof===Wm?null:N.displayName||N.name||null;if(typeof N==="string")return N;switch(N){case eZ:return"Fragment";case rZ:return"Portal";case NU:return"Profiler";case jF:return"StrictMode";case HU:return"Suspense";case YU:return"SuspenseList"}if(typeof N==="object")switch(N.$$typeof){case G7:return(N.displayName||"Context")+".Provider";case wF:return(N._context.displayName||"Context")+".Consumer";case zU:var H=N.render;return N=N.displayName,N||(N=H.displayName||H.name||"",N=N!==""?"ForwardRef("+N+")":"ForwardRef"),N;case VU:return H=N.displayName||null,H!==null?H:X(N.type)||"Memo";case F7:H=N._payload,N=N._init;try{return X(N(H))}catch(V){}}return null}function z(N){if(OU===void 0)try{throw Error()}catch(V){var H=V.stack.trim().match(/\n( *(at )?)/);OU=H&&H[1]||"",RF=-1<V.stack.indexOf(`
    at`)?" (<anonymous>)":-1<V.stack.indexOf("@")?"@unknown:0:0":""}return`
`+OU+N+RF}function Y(N,H){if(!N||UU)return"";UU=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var $={DetermineComponentFrameRoot:function(){try{if(H){var Q0=function(){throw Error()};if(Object.defineProperty(Q0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(Q0,[])}catch(W0){var X0=W0}Reflect.construct(N,[],Q0)}else{try{Q0.call()}catch(W0){X0=W0}N.call(Q0.prototype)}}else{try{throw Error()}catch(W0){X0=W0}(Q0=N())&&typeof Q0.catch==="function"&&Q0.catch(function(){})}}catch(W0){if(W0&&X0&&typeof W0.stack==="string")return[W0.stack,X0.stack]}return[null,null]}};$.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor($.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty($.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=$.DetermineComponentFrameRoot(),E=M[0],S=M[1];if(E&&S){var P=E.split(`
`),d=S.split(`
`);for(D=$=0;$<P.length&&!P[$].includes("DetermineComponentFrameRoot");)$++;for(;D<d.length&&!d[D].includes("DetermineComponentFrameRoot");)D++;if($===P.length||D===d.length)for($=P.length-1,D=d.length-1;1<=$&&0<=D&&P[$]!==d[D];)D--;for(;1<=$&&0<=D;$--,D--)if(P[$]!==d[D]){if($!==1||D!==1)do if($--,D--,0>D||P[$]!==d[D]){var t=`
`+P[$].replace(" at new "," at ");return N.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",N.displayName)),t}while(1<=$&&0<=D);break}}}finally{UU=!1,Error.prepareStackTrace=V}return(V=N?N.displayName||N.name:"")?z(V):""}function O(N){switch(N.tag){case 26:case 27:case 5:return z(N.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return N=Y(N.type,!1),N;case 11:return N=Y(N.type.render,!1),N;case 1:return N=Y(N.type,!0),N;default:return""}}function U(N){try{var H="";do H+=O(N),N=N.return;while(N);return H}catch(V){return`
Error generating stack: `+V.message+`
`+V.stack}}function A(N){var H=N,V=N;if(N.alternate)for(;H.return;)H=H.return;else{N=H;do H=N,(H.flags&4098)!==0&&(V=H.return),N=H.return;while(N)}return H.tag===3?V:null}function B(N){if(A(N)!==N)throw Error(q(188))}function _(N){var H=N.alternate;if(!H){if(H=A(N),H===null)throw Error(q(188));return H!==N?null:N}for(var V=N,$=H;;){var D=V.return;if(D===null)break;var M=D.alternate;if(M===null){if($=D.return,$!==null){V=$;continue}break}if(D.child===M.child){for(M=D.child;M;){if(M===V)return B(D),N;if(M===$)return B(D),H;M=M.sibling}throw Error(q(188))}if(V.return!==$.return)V=D,$=M;else{for(var E=!1,S=D.child;S;){if(S===V){E=!0,V=D,$=M;break}if(S===$){E=!0,$=D,V=M;break}S=S.sibling}if(!E){for(S=M.child;S;){if(S===V){E=!0,V=M,$=D;break}if(S===$){E=!0,$=M,V=D;break}S=S.sibling}if(!E)throw Error(q(189))}}if(V.alternate!==$)throw Error(q(190))}if(V.tag!==3)throw Error(q(188));return V.stateNode.current===V?N:H}function W(N){var H=N.tag;if(H===5||H===26||H===27||H===6)return N;for(N=N.child;N!==null;){if(H=W(N),H!==null)return H;N=N.sibling}return null}function F(N){var H=N.tag;if(H===5||H===26||H===27||H===6)return N;for(N=N.child;N!==null;){if(N.tag!==4&&(H=F(N),H!==null))return H;N=N.sibling}return null}function C(N){return{current:N}}function L(N){0>J2||(N.current=MU[J2],MU[J2]=null,J2--)}function G(N,H){J2++,MU[J2]=N.current,N.current=H}function w(N){return N>>>=0,N===0?32:31-(vd(N)/fd|0)|0}function R(N){var H=N&42;if(H!==0)return H;switch(N&-N){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return N&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return N&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return N}}function T(N,H){var V=N.pendingLanes;if(V===0)return 0;var $=0,D=N.suspendedLanes,M=N.pingedLanes,E=N.warmLanes;N=N.finishedLanes!==0;var S=V&134217727;return S!==0?(V=S&~D,V!==0?$=R(V):(M&=S,M!==0?$=R(M):N||(E=S&~E,E!==0&&($=R(E))))):(S=V&~D,S!==0?$=R(S):M!==0?$=R(M):N||(E=V&~E,E!==0&&($=R(E)))),$===0?0:H!==0&&H!==$&&(H&D)===0&&(D=$&-$,E=H&-H,D>=E||D===32&&(E&4194176)!==0)?H:$}function h(N,H){return(N.pendingLanes&~(N.suspendedLanes&~N.pingedLanes)&H)===0}function v(N,H){switch(N){case 1:case 2:case 4:case 8:return H+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b(){var N=fX;return fX<<=1,(fX&4194176)===0&&(fX=128),N}function m(){var N=yX;return yX<<=1,(yX&62914560)===0&&(yX=4194304),N}function u(N){for(var H=[],V=0;31>V;V++)H.push(N);return H}function c(N,H){N.pendingLanes|=H,H!==268435456&&(N.suspendedLanes=0,N.pingedLanes=0,N.warmLanes=0)}function o(N,H,V,$,D,M){var E=N.pendingLanes;N.pendingLanes=V,N.suspendedLanes=0,N.pingedLanes=0,N.warmLanes=0,N.expiredLanes&=V,N.entangledLanes&=V,N.errorRecoveryDisabledLanes&=V,N.shellSuspendCounter=0;var{entanglements:S,expirationTimes:P,hiddenUpdates:d}=N;for(V=E&~V;0<V;){var t=31-R8(V),Q0=1<<t;S[t]=0,P[t]=-1;var X0=d[t];if(X0!==null)for(d[t]=null,t=0;t<X0.length;t++){var W0=X0[t];W0!==null&&(W0.lane&=-536870913)}V&=~Q0}$!==0&&z0(N,$,0),M!==0&&D===0&&N.tag!==0&&(N.suspendedLanes|=M&~(E&~H))}function z0(N,H,V){N.pendingLanes|=H,N.suspendedLanes&=~H;var $=31-R8(H);N.entangledLanes|=H,N.entanglements[$]=N.entanglements[$]|1073741824|V&4194218}function D0(N,H){var V=N.entangledLanes|=H;for(N=N.entanglements;V;){var $=31-R8(V),D=1<<$;D&H|N[$]&H&&(N[$]|=H),V&=~D}}function g0(N){return N&=-N,2<N?8<N?(N&134217727)!==0?32:268435456:8:2}function _0(N){if(E8&&typeof E8.onCommitFiberRoot==="function")try{E8.onCommitFiberRoot(TQ,N,void 0,(N.current.flags&128)===128)}catch(H){}}function s(N){if(typeof md==="function"&&dd(N),E8&&typeof E8.setStrictMode==="function")try{E8.setStrictMode(TQ,N)}catch(H){}}function N0(N,H){return N===H&&(N!==0||1/N===1/H)||N!==N&&H!==H}function K1(N,H){if(typeof N==="object"&&N!==null){var V=rF.get(N);if(V!==void 0)return V;return H={value:N,source:H,stack:U(H)},rF.set(N,H),H}return{value:N,source:H,stack:U(H)}}function V0(N,H){q2[K2++]=gX,q2[K2++]=xX,xX=N,gX=H}function g1(N,H,V){p8[i8++]=w4,p8[i8++]=C4,p8[i8++]=y9,y9=N;var $=w4;N=C4;var D=32-R8($)-1;$&=~(1<<D),V+=1;var M=32-R8(H)+D;if(30<M){var E=D-D%5;M=($&(1<<E)-1).toString(32),$>>=E,D-=E,w4=1<<32-R8(H)+D|V<<D|$,C4=M+N}else w4=1<<M|V<<D|$,C4=N}function I5(N){N.return!==null&&(V0(N,1),g1(N,1,0))}function w1(N){for(;N===xX;)xX=q2[--K2],q2[K2]=null,gX=q2[--K2],q2[K2]=null;for(;N===y9;)y9=p8[--i8],p8[i8]=null,C4=p8[--i8],p8[i8]=null,w4=p8[--i8],p8[i8]=null}function B5(N,H){G(w7,H),G(SQ,N),G(M5,null),N=jm(H),L(M5),G(M5,N)}function r5(){L(M5),L(SQ),L(w7)}function W8(N){N.memoizedState!==null&&G(mX,N);var H=M5.current,V=wm(H,N.type);H!==V&&(G(SQ,N),G(M5,V))}function m1(N){SQ.current===N&&(L(M5),L(SQ)),mX.current===N&&(L(mX),j4?f9._currentValue=Z2:f9._currentValue2=Z2)}function y5(N){var H=Error(q(418,""));throw e5(K1(H,N)),FU}function E9(N,H){if(!u8)throw Error(q(175));Bd(N.stateNode,N.type,N.memoizedProps,H,N)||y5(N)}function A4(N){for(g5=N.return;g5;)switch(g5.tag){case 3:case 27:d6=!0;return;case 5:case 13:d6=!1;return;default:g5=g5.return}}function M6(N){if(!u8||N!==g5)return!1;if(!d0)return A4(N),d0=!0,!1;var H=!1;if(b5?N.tag!==3&&N.tag!==27&&(N.tag!==5||dF(N.type)&&!vX(N.type,N.memoizedProps))&&(H=!0):N.tag!==3&&(N.tag!==5||dF(N.type)&&!vX(N.type,N.memoizedProps))&&(H=!0),H&&k5&&y5(N),A4(N),N.tag===13){if(!u8)throw Error(q(316));if(N=N.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(q(317));k5=Wd(N)}else k5=g5?gF(N.stateNode):null;return!0}function m6(){u8&&(k5=g5=null,d0=!1)}function e5(N){F6===null?F6=[N]:F6.push(N)}function G8(){for(var N=X2,H=jU=X2=0;H<N;){var V=a8[H];a8[H++]=null;var $=a8[H];a8[H++]=null;var D=a8[H];a8[H++]=null;var M=a8[H];if(a8[H++]=null,$!==null&&D!==null){var E=$.pending;E===null?D.next=D:(D.next=E.next,E.next=D),$.pending=D}M!==0&&d1(V,D,M)}}function F8(N,H,V,$){a8[X2++]=N,a8[X2++]=H,a8[X2++]=V,a8[X2++]=$,jU|=$,N.lanes|=$,N=N.alternate,N!==null&&(N.lanes|=$)}function w0(N,H,V,$){return F8(N,H,V,$),h5(N)}function b0(N,H){return F8(N,null,null,H),h5(N)}function d1(N,H,V){N.lanes|=V;var $=N.alternate;$!==null&&($.lanes|=V);for(var D=!1,M=N.return;M!==null;)M.childLanes|=V,$=M.alternate,$!==null&&($.childLanes|=V),M.tag===22&&(N=M.stateNode,N===null||N._visibility&1||(D=!0)),N=M,M=M.return;D&&H!==null&&N.tag===3&&(M=N.stateNode,D=31-R8(V),M=M.hiddenUpdates,N=M[D],N===null?M[D]=[H]:N.push(H),H.lane=V|536870912)}function h5(N){if(50<gQ)throw gQ=0,xU=null,Error(q(185));for(var H=N.return;H!==null;)N=H,H=N.return;return N.tag===3?N.stateNode:null}function c1(N){N!==N2&&N.next===null&&(N2===null?dX=N2=N:N2=N2.next=N),cX=!0,wU||(wU=!0,pg(UQ))}function D4(N,H){if(!CU&&cX){CU=!0;do{var V=!1;for(var $=dX;$!==null;){if(!H)if(N!==0){var D=$.pendingLanes;if(D===0)var M=0;else{var{suspendedLanes:E,pingedLanes:S}=$;M=(1<<31-R8(42|N)+1)-1,M&=D&~(E&~S),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(V=!0,jW($,M))}else M=h0,M=T($,$===V1?M:0),(M&3)===0||h($,M)||(V=!0,jW($,M));$=$.next}}while(V);CU=!1}}function UQ(){cX=wU=!1;var N=0;z2!==0&&(bm()&&(N=z2),z2=0);for(var H=G6(),V=null,$=dX;$!==null;){var D=$.next,M=GW($,H);if(M===0)$.next=null,V===null?dX=D:V.next=D,D===null&&(N2=V);else if(V=$,N!==0||(M&3)!==0)cX=!0;$=D}D4(N,!1)}function GW(N,H){for(var{suspendedLanes:V,pingedLanes:$,expirationTimes:D}=N,M=N.pendingLanes&-62914561;0<M;){var E=31-R8(M),S=1<<E,P=D[E];if(P===-1){if((S&V)===0||(S&$)!==0)D[E]=v(S,H)}else P<=H&&(N.expiredLanes|=S);M&=~S}if(H=V1,V=h0,V=T(N,N===H?V:0),$=N.callbackNode,V===0||N===H&&O1===2||N.cancelPendingCommit!==null)return $!==null&&$!==null&&WU($),N.callbackNode=null,N.callbackPriority=0;if((V&3)===0||h(N,V)){if(H=V&-V,H===N.callbackPriority)return H;switch($!==null&&WU($),g0(V)){case 2:case 8:V=xd;break;case 32:V=GU;break;case 268435456:V=gd;break;default:V=GU}return $=FW.bind(null,N),V=hX(V,$),N.callbackPriority=H,N.callbackNode=V,H}return $!==null&&$!==null&&WU($),N.callbackPriority=2,N.callbackNode=null,2}function FW(N,H){var V=N.callbackNode;if(k9()&&N.callbackNode!==V)return null;var $=h0;if($=T(N,N===V1?$:0),$===0)return null;return JF(N,$,H),GW(N,G6()),N.callbackNode!=null&&N.callbackNode===V?FW.bind(null,N):null}function jW(N,H){if(k9())return null;JF(N,H,!0)}function pg(N){hm?xm(function(){(N1&6)!==0?hX(tF,N):N()}):hX(tF,N)}function QO(){return z2===0&&(z2=b()),z2}function ig(N,H){if(bQ===null){var V=bQ=[];LU=0,H2=QO(),Y2={status:"pending",value:void 0,then:function($){V.push($)}}}return LU++,H.then(wW,wW),H}function wW(){if(--LU===0&&bQ!==null){Y2!==null&&(Y2.status="fulfilled");var N=bQ;bQ=null,H2=0,Y2=null;for(var H=0;H<N.length;H++)(0,N[H])()}}function ag(N,H){var V=[],$={status:"pending",value:null,reason:null,then:function(D){V.push(D)}};return N.then(function(){$.status="fulfilled",$.value=H;for(var D=0;D<V.length;D++)(0,V[D])(H)},function(D){$.status="rejected",$.reason=D;for(D=0;D<V.length;D++)(0,V[D])(void 0)}),$}function qO(N){N.updateQueue={baseState:N.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function KO(N,H){N=N.updateQueue,H.updateQueue===N&&(H.updateQueue={baseState:N.baseState,firstBaseUpdate:N.firstBaseUpdate,lastBaseUpdate:N.lastBaseUpdate,shared:N.shared,callbacks:null})}function O7(N){return{lane:N,tag:0,payload:null,callback:null,next:null}}function U7(N,H,V){var $=N.updateQueue;if($===null)return null;if($=$.shared,(N1&2)!==0){var D=$.pending;return D===null?H.next=H:(H.next=D.next,D.next=H),$.pending=H,H=h5(N),d1(N,null,V),H}return F8(N,$,H,V),h5(N)}function $Q(N,H,V){if(H=H.updateQueue,H!==null&&(H=H.shared,(V&4194176)!==0)){var $=H.lanes;$&=N.pendingLanes,V|=$,H.lanes=V,D0(N,V)}}function XO(N,H){var{updateQueue:V,alternate:$}=N;if($!==null&&($=$.updateQueue,V===$)){var D=null,M=null;if(V=V.firstBaseUpdate,V!==null){do{var E={lane:V.lane,tag:V.tag,payload:V.payload,callback:null,next:null};M===null?D=M=E:M=M.next=E,V=V.next}while(V!==null);M===null?D=M=H:M=M.next=H}else D=M=H;V={baseState:$.baseState,firstBaseUpdate:D,lastBaseUpdate:M,shared:$.shared,callbacks:$.callbacks},N.updateQueue=V;return}N=V.lastBaseUpdate,N===null?V.firstBaseUpdate=H:N.next=H,V.lastBaseUpdate=H}function AQ(){if(RU){var N=Y2;if(N!==null)throw N}}function DQ(N,H,V,$){RU=!1;var D=N.updateQueue;C7=!1;var{firstBaseUpdate:M,lastBaseUpdate:E}=D,S=D.shared.pending;if(S!==null){D.shared.pending=null;var P=S,d=P.next;P.next=null,E===null?M=d:E.next=d,E=P;var t=N.alternate;t!==null&&(t=t.updateQueue,S=t.lastBaseUpdate,S!==E&&(S===null?t.firstBaseUpdate=d:S.next=d,t.lastBaseUpdate=P))}if(M!==null){var Q0=D.baseState;E=0,t=d=P=null,S=M;do{var X0=S.lane&-536870913,W0=X0!==S.lane;if(W0?(h0&X0)===X0:($&X0)===X0){X0!==0&&X0===H2&&(RU=!0),t!==null&&(t=t.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});Z:{var o8=N,mQ=S;X0=H;var p9=V;switch(mQ.tag){case 1:if(o8=mQ.payload,typeof o8==="function"){Q0=o8.call(p9,Q0,X0);break Z}Q0=o8;break Z;case 3:o8.flags=o8.flags&-65537|128;case 0:if(o8=mQ.payload,X0=typeof o8==="function"?o8.call(p9,Q0,X0):o8,X0===null||X0===void 0)break Z;Q0=XU({},Q0,X0);break Z;case 2:C7=!0}}X0=S.callback,X0!==null&&(N.flags|=64,W0&&(N.flags|=8192),W0=D.callbacks,W0===null?D.callbacks=[X0]:W0.push(X0))}else W0={lane:X0,tag:S.tag,payload:S.payload,callback:S.callback,next:null},t===null?(d=t=W0,P=Q0):t=t.next=W0,E|=X0;if(S=S.next,S===null)if(S=D.shared.pending,S===null)break;else W0=S,S=W0.next,W0.next=null,D.lastBaseUpdate=W0,D.shared.pending=null}while(1);t===null&&(P=Q0),D.baseState=P,D.firstBaseUpdate=d,D.lastBaseUpdate=t,M===null&&(D.shared.lanes=0),E7|=E,N.lanes=E,N.memoizedState=Q0}}function CW(N,H){if(typeof N!=="function")throw Error(q(191,N));N.call(H)}function LW(N,H){var V=N.callbacks;if(V!==null)for(N.callbacks=null,N=0;N<V.length;N++)CW(V[N],H)}function $X(N,H){if(I8(N,H))return!0;if(typeof N!=="object"||N===null||typeof H!=="object"||H===null)return!1;var V=Object.keys(N),$=Object.keys(H);if(V.length!==$.length)return!1;for($=0;$<V.length;$++){var D=V[$];if(!cd.call(H,D)||!I8(N[D],H[D]))return!1}return!0}function RW(N){return N=N.status,N==="fulfilled"||N==="rejected"}function AX(){}function EW(N,H,V){switch(V=N[V],V===void 0?N.push(H):V!==H&&(H.then(AX,AX),H=V),H.status){case"fulfilled":return H.value;case"rejected":if(N=H.reason,N===kQ)throw Error(q(483));throw N;default:if(typeof H.status==="string")H.then(AX,AX);else{if(N=V1,N!==null&&100<N.shellSuspendCounter)throw Error(q(482));N=H,N.status="pending",N.then(function($){if(H.status==="pending"){var D=H;D.status="fulfilled",D.value=$}},function($){if(H.status==="pending"){var D=H;D.status="rejected",D.reason=$}})}switch(H.status){case"fulfilled":return H.value;case"rejected":if(N=H.reason,N===kQ)throw Error(q(483));throw N}throw V2=H,kQ}}function IW(){if(V2===null)throw Error(q(459));var N=V2;return V2=null,N}function DX(N){var H=PQ;return PQ+=1,O2===null&&(O2=[]),EW(O2,N,H)}function BQ(N,H){H=H.props.ref,N.ref=H!==void 0?H:null}function BX(N,H){if(H.$$typeof===Bm)throw Error(q(525));throw N=Object.prototype.toString.call(H),Error(q(31,N==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":N))}function TW(N){var H=N._init;return H(N._payload)}function SW(N){function H(y,k){if(N){var x=y.deletions;x===null?(y.deletions=[k],y.flags|=16):x.push(k)}}function V(y,k){if(!N)return null;for(;k!==null;)H(y,k),k=k.sibling;return null}function $(y){for(var k=new Map;y!==null;)y.key!==null?k.set(y.key,y):k.set(y.index,y),y=y.sibling;return k}function D(y,k){return y=W7(y,k),y.index=0,y.sibling=null,y}function M(y,k,x){if(y.index=x,!N)return y.flags|=1048576,k;if(x=y.alternate,x!==null)return x=x.index,x<k?(y.flags|=33554434,k):x;return y.flags|=33554434,k}function E(y){return N&&y.alternate===null&&(y.flags|=33554434),y}function S(y,k,x,n){if(k===null||k.tag!==6)return k=QU(x,y.mode,n),k.return=y,k;return k=D(k,x),k.return=y,k}function P(y,k,x,n){var H0=x.type;if(H0===eZ)return t(y,k,x.props.children,n,x.key);if(k!==null&&(k.elementType===H0||typeof H0==="object"&&H0!==null&&H0.$$typeof===F7&&TW(H0)===k.type))return k=D(k,x.props),BQ(k,x),k.return=y,k;return k=bX(x.type,x.key,x.props,null,y.mode,n),BQ(k,x),k.return=y,k}function d(y,k,x,n){if(k===null||k.tag!==4||k.stateNode.containerInfo!==x.containerInfo||k.stateNode.implementation!==x.implementation)return k=qU(x,y.mode,n),k.return=y,k;return k=D(k,x.children||[]),k.return=y,k}function t(y,k,x,n,H0){if(k===null||k.tag!==7)return k=P9(x,y.mode,n,H0),k.return=y,k;return k=D(k,x),k.return=y,k}function Q0(y,k,x){if(typeof k==="string"&&k!==""||typeof k==="number"||typeof k==="bigint")return k=QU(""+k,y.mode,x),k.return=y,k;if(typeof k==="object"&&k!==null){switch(k.$$typeof){case kX:return x=bX(k.type,k.key,k.props,null,y.mode,x),BQ(x,k),x.return=y,x;case rZ:return k=qU(k,y.mode,x),k.return=y,k;case F7:var n=k._init;return k=n(k._payload),Q0(y,k,x)}if(PX(k)||K(k))return k=P9(k,y.mode,x,null),k.return=y,k;if(typeof k.then==="function")return Q0(y,DX(k),x);if(k.$$typeof===G7)return Q0(y,LX(y,k),x);BX(y,k)}return null}function X0(y,k,x,n){var H0=k!==null?k.key:null;if(typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint")return H0!==null?null:S(y,k,""+x,n);if(typeof x==="object"&&x!==null){switch(x.$$typeof){case kX:return x.key===H0?P(y,k,x,n):null;case rZ:return x.key===H0?d(y,k,x,n):null;case F7:return H0=x._init,x=H0(x._payload),X0(y,k,x,n)}if(PX(x)||K(x))return H0!==null?null:t(y,k,x,n,null);if(typeof x.then==="function")return X0(y,k,DX(x),n);if(x.$$typeof===G7)return X0(y,k,LX(y,x),n);BX(y,x)}return null}function W0(y,k,x,n,H0){if(typeof n==="string"&&n!==""||typeof n==="number"||typeof n==="bigint")return y=y.get(x)||null,S(k,y,""+n,H0);if(typeof n==="object"&&n!==null){switch(n.$$typeof){case kX:return y=y.get(n.key===null?x:n.key)||null,P(k,y,n,H0);case rZ:return y=y.get(n.key===null?x:n.key)||null,d(k,y,n,H0);case F7:var A1=n._init;return n=A1(n._payload),W0(y,k,x,n,H0)}if(PX(n)||K(n))return y=y.get(x)||null,t(k,y,n,H0,null);if(typeof n.then==="function")return W0(y,k,x,DX(n),H0);if(n.$$typeof===G7)return W0(y,k,x,LX(k,n),H0);BX(k,n)}return null}function o8(y,k,x,n){for(var H0=null,A1=null,A0=k,c0=k=0,N5=null;A0!==null&&c0<x.length;c0++){A0.index>c0?(N5=A0,A0=null):N5=A0.sibling;var u0=X0(y,A0,x[c0],n);if(u0===null){A0===null&&(A0=N5);break}N&&A0&&u0.alternate===null&&H(y,A0),k=M(u0,k,c0),A1===null?H0=u0:A1.sibling=u0,A1=u0,A0=N5}if(c0===x.length)return V(y,A0),d0&&V0(y,c0),H0;if(A0===null){for(;c0<x.length;c0++)A0=Q0(y,x[c0],n),A0!==null&&(k=M(A0,k,c0),A1===null?H0=A0:A1.sibling=A0,A1=A0);return d0&&V0(y,c0),H0}for(A0=$(A0);c0<x.length;c0++)N5=W0(A0,y,c0,x[c0],n),N5!==null&&(N&&N5.alternate!==null&&A0.delete(N5.key===null?c0:N5.key),k=M(N5,k,c0),A1===null?H0=N5:A1.sibling=N5,A1=N5);return N&&A0.forEach(function(T7){return H(y,T7)}),d0&&V0(y,c0),H0}function mQ(y,k,x,n){if(x==null)throw Error(q(151));for(var H0=null,A1=null,A0=k,c0=k=0,N5=null,u0=x.next();A0!==null&&!u0.done;c0++,u0=x.next()){A0.index>c0?(N5=A0,A0=null):N5=A0.sibling;var T7=X0(y,A0,u0.value,n);if(T7===null){A0===null&&(A0=N5);break}N&&A0&&T7.alternate===null&&H(y,A0),k=M(T7,k,c0),A1===null?H0=T7:A1.sibling=T7,A1=T7,A0=N5}if(u0.done)return V(y,A0),d0&&V0(y,c0),H0;if(A0===null){for(;!u0.done;c0++,u0=x.next())u0=Q0(y,u0.value,n),u0!==null&&(k=M(u0,k,c0),A1===null?H0=u0:A1.sibling=u0,A1=u0);return d0&&V0(y,c0),H0}for(A0=$(A0);!u0.done;c0++,u0=x.next())u0=W0(A0,y,c0,u0.value,n),u0!==null&&(N&&u0.alternate!==null&&A0.delete(u0.key===null?c0:u0.key),k=M(u0,k,c0),A1===null?H0=u0:A1.sibling=u0,A1=u0);return N&&A0.forEach(function(nd){return H(y,nd)}),d0&&V0(y,c0),H0}function p9(y,k,x,n){if(typeof x==="object"&&x!==null&&x.type===eZ&&x.key===null&&(x=x.props.children),typeof x==="object"&&x!==null){switch(x.$$typeof){case kX:Z:{for(var H0=x.key;k!==null;){if(k.key===H0){if(H0=x.type,H0===eZ){if(k.tag===7){V(y,k.sibling),n=D(k,x.props.children),n.return=y,y=n;break Z}}else if(k.elementType===H0||typeof H0==="object"&&H0!==null&&H0.$$typeof===F7&&TW(H0)===k.type){V(y,k.sibling),n=D(k,x.props),BQ(n,x),n.return=y,y=n;break Z}V(y,k);break}else H(y,k);k=k.sibling}x.type===eZ?(n=P9(x.props.children,y.mode,n,x.key),n.return=y,y=n):(n=bX(x.type,x.key,x.props,null,y.mode,n),BQ(n,x),n.return=y,y=n)}return E(y);case rZ:Z:{for(H0=x.key;k!==null;){if(k.key===H0)if(k.tag===4&&k.stateNode.containerInfo===x.containerInfo&&k.stateNode.implementation===x.implementation){V(y,k.sibling),n=D(k,x.children||[]),n.return=y,y=n;break Z}else{V(y,k);break}else H(y,k);k=k.sibling}n=qU(x,y.mode,n),n.return=y,y=n}return E(y);case F7:return H0=x._init,x=H0(x._payload),p9(y,k,x,n)}if(PX(x))return o8(y,k,x,n);if(K(x)){if(H0=K(x),typeof H0!=="function")throw Error(q(150));return x=H0.call(x),mQ(y,k,x,n)}if(typeof x.then==="function")return p9(y,k,DX(x),n);if(x.$$typeof===G7)return p9(y,k,LX(y,x),n);BX(y,x)}return typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint"?(x=""+x,k!==null&&k.tag===6?(V(y,k.sibling),n=D(k,x),n.return=y,y=n):(V(y,k),n=QU(x,y.mode,n),n.return=y,y=n),E(y)):V(y,k)}return function(y,k,x,n){try{PQ=0;var H0=p9(y,k,x,n);return O2=null,H0}catch(A0){if(A0===kQ)throw A0;var A1=J(29,A0,null,y.mode);return A1.lanes=n,A1.return=y,A1}finally{}}}function bW(N,H){N=I4,G(lX,N),G(U2,H),I4=N|H.baseLanes}function NO(){G(lX,I4),G(U2,U2.current)}function zO(){I4=lX.current,L(U2),L(lX)}function $7(N){var H=N.alternate;G(e1,e1.current&1),G(s8,N),c6===null&&(H===null||U2.current!==null?c6=N:H.memoizedState!==null&&(c6=N))}function kW(N){if(N.tag===22){if(G(e1,e1.current),G(s8,N),c6===null){var H=N.alternate;H!==null&&H.memoizedState!==null&&(c6=N)}}else A7(N)}function A7(){G(e1,e1.current),G(s8,s8.current)}function B4(N){L(s8),c6===N&&(c6=null),L(e1)}function _X(N){for(var H=N;H!==null;){if(H.tag===13){var V=H.memoizedState;if(V!==null&&(V=V.dehydrated,V===null||DU(V)||BU(V)))return H}else if(H.tag===19&&H.memoizedProps.revealOrder!==void 0){if((H.flags&128)!==0)return H}else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return null;H=H.return}H.sibling.return=H.return,H=H.sibling}return null}function P1(){throw Error(q(321))}function HO(N,H){if(H===null)return!1;for(var V=0;V<H.length&&V<N.length;V++)if(!I8(N[V],H[V]))return!1;return!0}function YO(N,H,V,$,D,M){return L7=M,L0=H,H.memoizedState=null,H.updateQueue=null,H.lanes=0,B0.H=N===null||N.memoizedState===null?g9:R7,x9=!1,M=V($,D),x9=!1,$2&&(M=vW(H,V,$,D)),PW(N),M}function PW(N){B0.H=u6;var H=X1!==null&&X1.next!==null;if(L7=0,l1=X1=L0=null,pX=!1,vQ=0,A2=null,H)throw Error(q(300));N===null||K5||(N=N.dependencies,N!==null&&CX(N)&&(K5=!0))}function vW(N,H,V,$){L0=N;var D=0;do{if($2&&(A2=null),vQ=0,$2=!1,25<=D)throw Error(q(301));if(D+=1,l1=X1=null,N.updateQueue!=null){var M=N.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}B0.H=m9,M=H(V,$)}while($2);return M}function sg(){var N=B0.H,H=N.useState()[0];return H=typeof H.then==="function"?_Q(H):H,N=N.useState()[0],(X1!==null?X1.memoizedState:null)!==N&&(L0.flags|=1024),H}function VO(){var N=iX!==0;return iX=0,N}function OO(N,H,V){H.updateQueue=N.updateQueue,H.flags&=-2053,N.lanes&=~V}function UO(N){if(pX){for(N=N.memoizedState;N!==null;){var H=N.queue;H!==null&&(H.pending=null),N=N.next}pX=!1}L7=0,l1=X1=L0=null,$2=!1,vQ=iX=0,A2=null}function Z8(){var N={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return l1===null?L0.memoizedState=l1=N:l1=l1.next=N,l1}function u1(){if(X1===null){var N=L0.alternate;N=N!==null?N.memoizedState:null}else N=X1.next;var H=l1===null?L0.memoizedState:l1.next;if(H!==null)l1=H,X1=N;else{if(N===null){if(L0.alternate===null)throw Error(q(467));throw Error(q(310))}X1=N,N={memoizedState:X1.memoizedState,baseState:X1.baseState,baseQueue:X1.baseQueue,queue:X1.queue,next:null},l1===null?L0.memoizedState=l1=N:l1=l1.next=N}return l1}function _Q(N){var H=vQ;return vQ+=1,A2===null&&(A2=[]),N=EW(A2,N,H),H=L0,(l1===null?H.memoizedState:l1.next)===null&&(H=H.alternate,B0.H=H===null||H.memoizedState===null?g9:R7),N}function MX(N){if(N!==null&&typeof N==="object"){if(typeof N.then==="function")return _Q(N);if(N.$$typeof===G7)return T5(N)}throw Error(q(438,String(N)))}function $O(N){var H=null,V=L0.updateQueue;if(V!==null&&(H=V.memoCache),H==null){var $=L0.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(H={data:$.data.map(function(D){return D.slice()}),index:0})))}if(H==null&&(H={data:[],index:0}),V===null&&(V=IU(),L0.updateQueue=V),V.memoCache=H,V=H.data[H.index],V===void 0)for(V=H.data[H.index]=Array(N),$=0;$<N;$++)V[$]=Mm;return H.index++,V}function _4(N,H){return typeof H==="function"?H(N):H}function WX(N){var H=u1();return AO(H,X1,N)}function AO(N,H,V){var $=N.queue;if($===null)throw Error(q(311));$.lastRenderedReducer=V;var D=N.baseQueue,M=$.pending;if(M!==null){if(D!==null){var E=D.next;D.next=M.next,M.next=E}H.baseQueue=D=M,$.pending=null}if(M=N.baseState,D===null)N.memoizedState=M;else{H=D.next;var S=E=null,P=null,d=H,t=!1;do{var Q0=d.lane&-536870913;if(Q0!==d.lane?(h0&Q0)===Q0:(L7&Q0)===Q0){var X0=d.revertLane;if(X0===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),Q0===H2&&(t=!0);else if((L7&X0)===X0){d=d.next,X0===H2&&(t=!0);continue}else Q0={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=Q0,E=M):P=P.next=Q0,L0.lanes|=X0,E7|=X0;Q0=d.action,x9&&V(M,Q0),M=d.hasEagerState?d.eagerState:V(M,Q0)}else X0={lane:Q0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},P===null?(S=P=X0,E=M):P=P.next=X0,L0.lanes|=Q0,E7|=Q0;d=d.next}while(d!==null&&d!==H);if(P===null?E=M:P.next=S,!I8(M,N.memoizedState)&&(K5=!0,t&&(V=Y2,V!==null)))throw V;N.memoizedState=M,N.baseState=E,N.baseQueue=P,$.lastRenderedState=M}return D===null&&($.lanes=0),[N.memoizedState,$.dispatch]}function DO(N){var H=u1(),V=H.queue;if(V===null)throw Error(q(311));V.lastRenderedReducer=N;var{dispatch:$,pending:D}=V,M=H.memoizedState;if(D!==null){V.pending=null;var E=D=D.next;do M=N(M,E.action),E=E.next;while(E!==D);I8(M,H.memoizedState)||(K5=!0),H.memoizedState=M,H.baseQueue===null&&(H.baseState=M),V.lastRenderedState=M}return[M,$]}function fW(N,H,V){var $=L0,D=u1(),M=d0;if(M){if(V===void 0)throw Error(q(407));V=V()}else V=H();var E=!I8((X1||D).memoizedState,V);if(E&&(D.memoizedState=V,K5=!0),D=D.queue,MO(xW.bind(null,$,D,N),[N]),D.getSnapshot!==H||E||l1!==null&&l1.memoizedState.tag&1){if($.flags|=2048,aZ(9,hW.bind(null,$,D,V,H),{destroy:void 0},null),V1===null)throw Error(q(349));M||(L7&60)!==0||yW($,H,V)}return V}function yW(N,H,V){N.flags|=16384,N={getSnapshot:H,value:V},H=L0.updateQueue,H===null?(H=IU(),L0.updateQueue=H,H.stores=[N]):(V=H.stores,V===null?H.stores=[N]:V.push(N))}function hW(N,H,V,$){H.value=V,H.getSnapshot=$,gW(H)&&mW(N)}function xW(N,H,V){return V(function(){gW(H)&&mW(N)})}function gW(N){var H=N.getSnapshot;N=N.value;try{var V=H();return!I8(N,V)}catch($){return!0}}function mW(N){var H=b0(N,2);H!==null&&x5(H,N,2)}function BO(N){var H=Z8();if(typeof N==="function"){var V=N;if(N=V(),x9){s(!0);try{V()}finally{s(!1)}}}return H.memoizedState=H.baseState=N,H.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_4,lastRenderedState:N},H}function dW(N,H,V,$){return N.baseState=V,AO(N,X1,typeof $==="function"?$:_4)}function ng(N,H,V,$,D){if(jX(N))throw Error(q(485));if(N=H.action,N!==null){var M={payload:D,action:N,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){M.listeners.push(E)}};B0.T!==null?V(!0):M.isTransition=!1,$(M),V=H.pending,V===null?(M.next=H.pending=M,cW(H,M)):(M.next=V.next,H.pending=V.next=M)}}function cW(N,H){var{action:V,payload:$}=H,D=N.state;if(H.isTransition){var M=B0.T,E={};B0.T=E;try{var S=V(D,$),P=B0.S;P!==null&&P(E,S),uW(N,H,S)}catch(d){_O(N,H,d)}finally{B0.T=M}}else try{M=V(D,$),uW(N,H,M)}catch(d){_O(N,H,d)}}function uW(N,H,V){V!==null&&typeof V==="object"&&typeof V.then==="function"?V.then(function($){lW(N,H,$)},function($){return _O(N,H,$)}):lW(N,H,V)}function lW(N,H,V){H.status="fulfilled",H.value=V,pW(H),N.state=V,H=N.pending,H!==null&&(V=H.next,V===H?N.pending=null:(V=V.next,H.next=V,cW(N,V)))}function _O(N,H,V){var $=N.pending;if(N.pending=null,$!==null){$=$.next;do H.status="rejected",H.reason=V,pW(H),H=H.next;while(H!==$)}N.action=null}function pW(N){N=N.listeners;for(var H=0;H<N.length;H++)(0,N[H])()}function iW(N,H){return H}function aW(N,H){if(d0){var V=V1.formState;if(V!==null){Z:{var $=L0;if(d0){if(k5){var D=Yd(k5,d6);if(D){k5=gF(D),$=Vd(D);break Z}}y5($)}$=!1}$&&(H=V[0])}}V=Z8(),V.memoizedState=V.baseState=H,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iW,lastRenderedState:H},V.queue=$,V=VG.bind(null,L0,$),$.dispatch=V,$=BO(!1);var M=jO.bind(null,L0,!1,$.queue);return $=Z8(),D={state:H,dispatch:null,action:N,pending:null},$.queue=D,V=ng.bind(null,L0,D,M,V),D.dispatch=V,$.memoizedState=N,[H,V,!1]}function sW(N){var H=u1();return nW(H,X1,N)}function nW(N,H,V){H=AO(N,H,iW)[0],N=WX(_4)[0],H=typeof H==="object"&&H!==null&&typeof H.then==="function"?_Q(H):H;var $=u1(),D=$.queue,M=D.dispatch;return V!==$.memoizedState&&(L0.flags|=2048,aZ(9,og.bind(null,D,V),{destroy:void 0},null)),[H,M,N]}function og(N,H){N.action=H}function oW(N){var H=u1(),V=X1;if(V!==null)return nW(H,V,N);u1(),H=H.memoizedState,V=u1();var $=V.queue.dispatch;return V.memoizedState=N,[H,$,!1]}function aZ(N,H,V,$){return N={tag:N,create:H,inst:V,deps:$,next:null},H=L0.updateQueue,H===null&&(H=IU(),L0.updateQueue=H),V=H.lastEffect,V===null?H.lastEffect=N.next=N:($=V.next,V.next=N,N.next=$,H.lastEffect=N),N}function tW(){return u1().memoizedState}function GX(N,H,V,$){var D=Z8();L0.flags|=N,D.memoizedState=aZ(1|H,V,{destroy:void 0},$===void 0?null:$)}function FX(N,H,V,$){var D=u1();$=$===void 0?null:$;var M=D.memoizedState.inst;X1!==null&&$!==null&&HO($,X1.memoizedState.deps)?D.memoizedState=aZ(H,V,M,$):(L0.flags|=N,D.memoizedState=aZ(1|H,V,M,$))}function rW(N,H){GX(8390656,8,N,H)}function MO(N,H){FX(2048,8,N,H)}function eW(N,H){return FX(4,2,N,H)}function ZG(N,H){return FX(4,4,N,H)}function JG(N,H){if(typeof H==="function"){N=N();var V=H(N);return function(){typeof V==="function"?V():H(null)}}if(H!==null&&H!==void 0)return N=N(),H.current=N,function(){H.current=null}}function QG(N,H,V){V=V!==null&&V!==void 0?V.concat([N]):null,FX(4,4,JG.bind(null,H,N),V)}function WO(){}function qG(N,H){var V=u1();H=H===void 0?null:H;var $=V.memoizedState;if(H!==null&&HO(H,$[1]))return $[0];return V.memoizedState=[N,H],N}function KG(N,H){var V=u1();H=H===void 0?null:H;var $=V.memoizedState;if(H!==null&&HO(H,$[1]))return $[0];if($=N(),x9){s(!0);try{N()}finally{s(!1)}}return V.memoizedState=[$,H],$}function GO(N,H,V){if(V===void 0||(L7&1073741824)!==0)return N.memoizedState=H;return N.memoizedState=V,N=ZF(),L0.lanes|=N,E7|=N,V}function XG(N,H,V,$){if(I8(V,H))return V;if(U2.current!==null)return N=GO(N,V,$),I8(N,H)||(K5=!0),N;if((L7&42)===0)return K5=!0,N.memoizedState=V;return N=ZF(),L0.lanes|=N,E7|=N,H}function NG(N,H,V,$,D){var M=v9();Q8(M!==0&&8>M?M:8);var E=B0.T,S={};B0.T=S,jO(N,!1,H,V);try{var P=D(),d=B0.S;if(d!==null&&d(S,P),P!==null&&typeof P==="object"&&typeof P.then==="function"){var t=ag(P,$);MQ(N,H,t,L8(N))}else MQ(N,H,$,L8(N))}catch(Q0){MQ(N,H,{then:function(){},status:"rejected",reason:Q0},L8())}finally{Q8(M),B0.T=E}}function zG(N){var H=N.memoizedState;if(H!==null)return H;H={memoizedState:Z2,baseState:Z2,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_4,lastRenderedState:Z2},next:null};var V={};return H.next={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_4,lastRenderedState:V},next:null},N.memoizedState=H,N=N.alternate,N!==null&&(N.memoizedState=H),H}function FO(){return T5(f9)}function HG(){return u1().memoizedState}function YG(){return u1().memoizedState}function tg(N){for(var H=N.return;H!==null;){switch(H.tag){case 24:case 3:var V=L8();N=O7(V);var $=U7(H,N,V);$!==null&&(x5($,H,V),$Q($,H,V)),H={cache:fO()},N.payload=H;return}H=H.return}}function rg(N,H,V){var $=L8();V={lane:$,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null},jX(N)?OG(H,V):(V=w0(N,H,V,$),V!==null&&(x5(V,N,$),UG(V,H,$)))}function VG(N,H,V){var $=L8();MQ(N,H,V,$)}function MQ(N,H,V,$){var D={lane:$,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};if(jX(N))OG(H,D);else{var M=N.alternate;if(N.lanes===0&&(M===null||M.lanes===0)&&(M=H.lastRenderedReducer,M!==null))try{var E=H.lastRenderedState,S=M(E,V);if(D.hasEagerState=!0,D.eagerState=S,I8(S,E))return F8(N,H,D,0),V1===null&&G8(),!1}catch(P){}finally{}if(V=w0(N,H,D,$),V!==null)return x5(V,N,$),UG(V,H,$),!0}return!1}function jO(N,H,V,$){if($={lane:2,revertLane:QO(),action:$,hasEagerState:!1,eagerState:null,next:null},jX(N)){if(H)throw Error(q(479))}else H=w0(N,V,$,2),H!==null&&x5(H,N,2)}function jX(N){var H=N.alternate;return N===L0||H!==null&&H===L0}function OG(N,H){$2=pX=!0;var V=N.pending;V===null?H.next=H:(H.next=V.next,V.next=H),N.pending=H}function UG(N,H,V){if((V&4194176)!==0){var $=H.lanes;$&=N.pendingLanes,V|=$,H.lanes=V,D0(N,V)}}function wO(N,H,V,$){H=N.memoizedState,V=V($,H),V=V===null||V===void 0?H:XU({},H,V),N.memoizedState=V,N.lanes===0&&(N.updateQueue.baseState=V)}function $G(N,H,V,$,D,M,E){return N=N.stateNode,typeof N.shouldComponentUpdate==="function"?N.shouldComponentUpdate($,M,E):H.prototype&&H.prototype.isPureReactComponent?!$X(V,$)||!$X(D,M):!0}function AG(N,H,V,$){N=H.state,typeof H.componentWillReceiveProps==="function"&&H.componentWillReceiveProps(V,$),typeof H.UNSAFE_componentWillReceiveProps==="function"&&H.UNSAFE_componentWillReceiveProps(V,$),H.state!==N&&TU.enqueueReplaceState(H,H.state,null)}function I9(N,H){var V=H;if("ref"in H){V={};for(var $ in H)$!=="ref"&&(V[$]=H[$])}if(N=N.defaultProps){V===H&&(V=XU({},V));for(var D in N)V[D]===void 0&&(V[D]=N[D])}return V}function wX(N,H){try{var V=N.onUncaughtError;V(H.value,{componentStack:H.stack})}catch($){setTimeout(function(){throw $})}}function DG(N,H,V){try{var $=N.onCaughtError;$(V.value,{componentStack:V.stack,errorBoundary:H.tag===1?H.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function CO(N,H,V){return V=O7(V),V.tag=3,V.payload={element:null},V.callback=function(){wX(N,H)},V}function BG(N){return N=O7(N),N.tag=3,N}function _G(N,H,V,$){var D=V.type.getDerivedStateFromError;if(typeof D==="function"){var M=$.value;N.payload=function(){return D(M)},N.callback=function(){DG(H,V,$)}}var E=V.stateNode;E!==null&&typeof E.componentDidCatch==="function"&&(N.callback=function(){DG(H,V,$),typeof D!=="function"&&(I7===null?I7=new Set([this]):I7.add(this));var S=$.stack;this.componentDidCatch($.value,{componentStack:S!==null?S:""})})}function eg(N,H,V,$,D){if(V.flags|=32768,$!==null&&typeof $==="object"&&typeof $.then==="function"){if(H=V.alternate,H!==null&&GQ(H,V,D,!0),V=s8.current,V!==null){switch(V.tag){case 13:return c6===null?rO():V.alternate===null&&I1===0&&(I1=3),V.flags&=-257,V.flags|=65536,V.lanes=D,$===uX?V.flags|=16384:(H=V.updateQueue,H===null?V.updateQueue=new Set([$]):H.add($),ZU(N,$,D)),!1;case 22:return V.flags|=65536,$===uX?V.flags|=16384:(H=V.updateQueue,H===null?(H={transitions:null,markerInstances:null,retryQueue:new Set([$])},V.updateQueue=H):(V=H.retryQueue,V===null?H.retryQueue=new Set([$]):V.add($)),ZU(N,$,D)),!1}throw Error(q(435,V.tag))}return ZU(N,$,D),rO(),!1}if(d0)return H=s8.current,H!==null?((H.flags&65536)===0&&(H.flags|=256),H.flags|=65536,H.lanes=D,$!==FU&&(N=Error(q(422),{cause:$}),e5(K1(N,V)))):($!==FU&&(H=Error(q(423),{cause:$}),e5(K1(H,V))),N=N.current.alternate,N.flags|=65536,D&=-D,N.lanes|=D,$=K1($,V),D=CO(N.stateNode,$,D),XO(N,D),I1!==4&&(I1=2)),!1;var M=Error(q(520),{cause:$});if(M=K1(M,V),yQ===null?yQ=[M]:yQ.push(M),I1!==4&&(I1=2),H===null)return!0;$=K1($,V),V=H;do{switch(V.tag){case 3:return V.flags|=65536,N=D&-D,V.lanes|=N,N=CO(V.stateNode,$,N),XO(V,N),!1;case 1:if(H=V.type,M=V.stateNode,(V.flags&128)===0&&(typeof H.getDerivedStateFromError==="function"||M!==null&&typeof M.componentDidCatch==="function"&&(I7===null||!I7.has(M))))return V.flags|=65536,D&=-D,V.lanes|=D,D=BG(D),_G(D,N,V,$),XO(V,D),!1}V=V.return}while(V!==null);return!1}function _5(N,H,V,$){H.child=N===null?eF(H,null,V,$):h9(H,N.child,V,$)}function MG(N,H,V,$,D){V=V.render;var M=H.ref;if("ref"in $){var E={};for(var S in $)S!=="ref"&&(E[S]=$[S])}else E=$;if(T9(H),$=YO(N,H,V,E,M,D),S=VO(),N!==null&&!K5)return OO(N,H,D),M4(N,H,D);return d0&&S&&I5(H),H.flags|=1,_5(N,H,$,D),H.child}function WG(N,H,V,$,D){if(N===null){var M=V.type;if(typeof M==="function"&&!JU(M)&&M.defaultProps===void 0&&V.compare===null)return H.tag=15,H.type=M,GG(N,H,M,$,D);return N=bX(V.type,null,$,H,H.mode,D),N.ref=H.ref,N.return=H,H.child=N}if(M=N.child,!kO(N,D)){var E=M.memoizedProps;if(V=V.compare,V=V!==null?V:$X,V(E,$)&&N.ref===H.ref)return M4(N,H,D)}return H.flags|=1,N=W7(M,$),N.ref=H.ref,N.return=H,H.child=N}function GG(N,H,V,$,D){if(N!==null){var M=N.memoizedProps;if($X(M,$)&&N.ref===H.ref)if(K5=!1,H.pendingProps=$=M,kO(N,D))(N.flags&131072)!==0&&(K5=!0);else return H.lanes=N.lanes,M4(N,H,D)}return LO(N,H,V,$,D)}function FG(N,H,V){var $=H.pendingProps,D=$.children,M=(H.stateNode._pendingVisibility&2)!==0,E=N!==null?N.memoizedState:null;if(WQ(N,H),$.mode==="hidden"||M){if((H.flags&128)!==0){if($=E!==null?E.baseLanes|V:V,N!==null){D=H.child=N.child;for(M=0;D!==null;)M=M|D.lanes|D.childLanes,D=D.sibling;H.childLanes=M&~$}else H.childLanes=0,H.child=null;return jG(N,H,$,V)}if((V&536870912)!==0)H.memoizedState={baseLanes:0,cachePool:null},N!==null&&RX(H,E!==null?E.cachePool:null),E!==null?bW(H,E):NO(),kW(H);else return H.lanes=H.childLanes=536870912,jG(N,H,E!==null?E.baseLanes|V:V,V)}else E!==null?(RX(H,E.cachePool),bW(H,E),A7(H),H.memoizedState=null):(N!==null&&RX(H,null),NO(),A7(H));return _5(N,H,D,V),H.child}function jG(N,H,V,$){var D=yO();return D=D===null?null:{parent:j4?R1._currentValue:R1._currentValue2,pool:D},H.memoizedState={baseLanes:V,cachePool:D},N!==null&&RX(H,null),NO(),kW(H),N!==null&&GQ(N,H,$,!0),null}function WQ(N,H){var V=H.ref;if(V===null)N!==null&&N.ref!==null&&(H.flags|=2097664);else{if(typeof V!=="function"&&typeof V!=="object")throw Error(q(284));if(N===null||N.ref!==V)H.flags|=2097664}}function LO(N,H,V,$,D){if(T9(H),V=YO(N,H,V,$,void 0,D),$=VO(),N!==null&&!K5)return OO(N,H,D),M4(N,H,D);return d0&&$&&I5(H),H.flags|=1,_5(N,H,V,D),H.child}function wG(N,H,V,$,D,M){if(T9(H),H.updateQueue=null,V=vW(H,$,V,D),PW(N),$=VO(),N!==null&&!K5)return OO(N,H,M),M4(N,H,M);return d0&&$&&I5(H),H.flags|=1,_5(N,H,V,M),H.child}function CG(N,H,V,$,D){if(T9(H),H.stateNode===null){var M=Q2,E=V.contextType;typeof E==="object"&&E!==null&&(M=T5(E)),M=new V($,M),H.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=TU,H.stateNode=M,M._reactInternals=H,M=H.stateNode,M.props=$,M.state=H.memoizedState,M.refs={},qO(H),E=V.contextType,M.context=typeof E==="object"&&E!==null?T5(E):Q2,M.state=H.memoizedState,E=V.getDerivedStateFromProps,typeof E==="function"&&(wO(H,V,E,$),M.state=H.memoizedState),typeof V.getDerivedStateFromProps==="function"||typeof M.getSnapshotBeforeUpdate==="function"||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(E=M.state,typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount(),E!==M.state&&TU.enqueueReplaceState(M,M.state,null),DQ(H,$,M,D),AQ(),M.state=H.memoizedState),typeof M.componentDidMount==="function"&&(H.flags|=4194308),$=!0}else if(N===null){M=H.stateNode;var S=H.memoizedProps,P=I9(V,S);M.props=P;var d=M.context,t=V.contextType;E=Q2,typeof t==="object"&&t!==null&&(E=T5(t));var Q0=V.getDerivedStateFromProps;t=typeof Q0==="function"||typeof M.getSnapshotBeforeUpdate==="function",S=H.pendingProps!==S,t||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(S||d!==E)&&AG(H,M,$,E),C7=!1;var X0=H.memoizedState;M.state=X0,DQ(H,$,M,D),AQ(),d=H.memoizedState,S||X0!==d||C7?(typeof Q0==="function"&&(wO(H,V,Q0,$),d=H.memoizedState),(P=C7||$G(H,V,P,$,X0,d,E))?(t||typeof M.UNSAFE_componentWillMount!=="function"&&typeof M.componentWillMount!=="function"||(typeof M.componentWillMount==="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount==="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount==="function"&&(H.flags|=4194308)):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),H.memoizedProps=$,H.memoizedState=d),M.props=$,M.state=d,M.context=E,$=P):(typeof M.componentDidMount==="function"&&(H.flags|=4194308),$=!1)}else{M=H.stateNode,KO(N,H),E=H.memoizedProps,t=I9(V,E),M.props=t,Q0=H.pendingProps,X0=M.context,d=V.contextType,P=Q2,typeof d==="object"&&d!==null&&(P=T5(d)),S=V.getDerivedStateFromProps,(d=typeof S==="function"||typeof M.getSnapshotBeforeUpdate==="function")||typeof M.UNSAFE_componentWillReceiveProps!=="function"&&typeof M.componentWillReceiveProps!=="function"||(E!==Q0||X0!==P)&&AG(H,M,$,P),C7=!1,X0=H.memoizedState,M.state=X0,DQ(H,$,M,D),AQ();var W0=H.memoizedState;E!==Q0||X0!==W0||C7||N!==null&&N.dependencies!==null&&CX(N.dependencies)?(typeof S==="function"&&(wO(H,V,S,$),W0=H.memoizedState),(t=C7||$G(H,V,t,$,X0,W0,P)||N!==null&&N.dependencies!==null&&CX(N.dependencies))?(d||typeof M.UNSAFE_componentWillUpdate!=="function"&&typeof M.componentWillUpdate!=="function"||(typeof M.componentWillUpdate==="function"&&M.componentWillUpdate($,W0,P),typeof M.UNSAFE_componentWillUpdate==="function"&&M.UNSAFE_componentWillUpdate($,W0,P)),typeof M.componentDidUpdate==="function"&&(H.flags|=4),typeof M.getSnapshotBeforeUpdate==="function"&&(H.flags|=1024)):(typeof M.componentDidUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=1024),H.memoizedProps=$,H.memoizedState=W0),M.props=$,M.state=W0,M.context=P,$=t):(typeof M.componentDidUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=4),typeof M.getSnapshotBeforeUpdate!=="function"||E===N.memoizedProps&&X0===N.memoizedState||(H.flags|=1024),$=!1)}return M=$,WQ(N,H),$=(H.flags&128)!==0,M||$?(M=H.stateNode,V=$&&typeof V.getDerivedStateFromError!=="function"?null:M.render(),H.flags|=1,N!==null&&$?(H.child=h9(H,N.child,null,D),H.child=h9(H,null,V,D)):_5(N,H,V,D),H.memoizedState=M.state,N=H.child):N=M4(N,H,D),N}function LG(N,H,V,$){return m6(),H.flags|=256,_5(N,H,V,$),H.child}function RO(N){return{baseLanes:N,cachePool:bG()}}function EO(N,H,V){return N=N!==null?N.childLanes&~V:0,H&&(N|=n8),N}function RG(N,H,V){var $=H.pendingProps,D=!1,M=(H.flags&128)!==0,E;if((E=M)||(E=N!==null&&N.memoizedState===null?!1:(e1.current&2)!==0),E&&(D=!0,H.flags&=-129),E=(H.flags&32)!==0,H.flags&=-33,N===null){if(d0){if(D?$7(H):A7(H),d0){var S=k5,P;if(P=S)S=Dd(S,d6),S!==null?(H.memoizedState={dehydrated:S,treeContext:y9!==null?{id:w4,overflow:C4}:null,retryLane:536870912},P=J(18,null,null,0),P.stateNode=S,P.return=H,H.child=P,g5=H,k5=null,P=!0):P=!1;P||y5(H)}if(S=H.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return BU(S)?H.lanes=16:H.lanes=536870912,null;B4(H)}if(S=$.children,$=$.fallback,D)return A7(H),D=H.mode,S=TO({mode:"hidden",children:S},D),$=P9($,D,V,null),S.return=H,$.return=H,S.sibling=$,H.child=S,D=H.child,D.memoizedState=RO(V),D.childLanes=EO(N,E,V),H.memoizedState=SU,$;return $7(H),IO(H,S)}if(P=N.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(M)H.flags&256?($7(H),H.flags&=-257,H=SO(N,H,V)):H.memoizedState!==null?(A7(H),H.child=N.child,H.flags|=128,H=null):(A7(H),D=$.fallback,S=H.mode,$=TO({mode:"visible",children:$.children},S),D=P9(D,S,V,null),D.flags|=2,$.return=H,D.return=H,$.sibling=D,H.child=$,h9(H,N.child,null,V),$=H.child,$.memoizedState=RO(V),$.childLanes=EO(N,E,V),H.memoizedState=SU,H=D);else if($7(H),BU(S))E=zd(S).digest,$=Error(q(419)),$.stack="",$.digest=E,e5({value:$,source:null,stack:null}),H=SO(N,H,V);else if(K5||GQ(N,H,V,!1),E=(V&N.childLanes)!==0,K5||E){if(E=V1,E!==null){if($=V&-V,($&42)!==0)$=1;else switch($){case 2:$=1;break;case 8:$=4;break;case 32:$=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:$=64;break;case 268435456:$=134217728;break;default:$=0}if($=($&(E.suspendedLanes|V))!==0?0:$,$!==0&&$!==P.retryLane)throw P.retryLane=$,b0(N,$),x5(E,N,$),Jj}DU(S)||rO(),H=SO(N,H,V)}else DU(S)?(H.flags|=128,H.child=N.child,H=Om.bind(null,N),Hd(S,H),H=null):(N=P.treeContext,u8&&(k5=Ud(S),g5=H,d0=!0,F6=null,d6=!1,N!==null&&(p8[i8++]=w4,p8[i8++]=C4,p8[i8++]=y9,w4=N.id,C4=N.overflow,y9=H)),H=IO(H,$.children),H.flags|=4096);return H}if(D)return A7(H),D=$.fallback,S=H.mode,P=N.child,M=P.sibling,$=W7(P,{mode:"hidden",children:$.children}),$.subtreeFlags=P.subtreeFlags&31457280,M!==null?D=W7(M,D):(D=P9(D,S,V,null),D.flags|=2),D.return=H,$.return=H,$.sibling=D,H.child=$,$=D,D=H.child,S=N.child.memoizedState,S===null?S=RO(V):(P=S.cachePool,P!==null?(M=j4?R1._currentValue:R1._currentValue2,P=P.parent!==M?{parent:M,pool:M}:P):P=bG(),S={baseLanes:S.baseLanes|V,cachePool:P}),D.memoizedState=S,D.childLanes=EO(N,E,V),H.memoizedState=SU,$;return $7(H),V=N.child,N=V.sibling,V=W7(V,{mode:"visible",children:$.children}),V.return=H,V.sibling=null,N!==null&&(E=H.deletions,E===null?(H.deletions=[N],H.flags|=16):E.push(N)),H.child=V,H.memoizedState=null,V}function IO(N,H){return H=TO({mode:"visible",children:H},N.mode),H.return=N,N.child=H}function TO(N,H){return BF(N,H,0,null)}function SO(N,H,V){return h9(H,N.child,null,V),N=IO(H,H.pendingProps.children),N.flags|=2,H.memoizedState=null,N}function EG(N,H,V){N.lanes|=H;var $=N.alternate;$!==null&&($.lanes|=H),PO(N.return,H,V)}function bO(N,H,V,$,D){var M=N.memoizedState;M===null?N.memoizedState={isBackwards:H,rendering:null,renderingStartTime:0,last:$,tail:V,tailMode:D}:(M.isBackwards=H,M.rendering=null,M.renderingStartTime=0,M.last=$,M.tail=V,M.tailMode=D)}function IG(N,H,V){var $=H.pendingProps,D=$.revealOrder,M=$.tail;if(_5(N,H,$.children,V),$=e1.current,($&2)!==0)$=$&1|2,H.flags|=128;else{if(N!==null&&(N.flags&128)!==0)Z:for(N=H.child;N!==null;){if(N.tag===13)N.memoizedState!==null&&EG(N,V,H);else if(N.tag===19)EG(N,V,H);else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===H)break Z;for(;N.sibling===null;){if(N.return===null||N.return===H)break Z;N=N.return}N.sibling.return=N.return,N=N.sibling}$&=1}switch(G(e1,$),D){case"forwards":V=H.child;for(D=null;V!==null;)N=V.alternate,N!==null&&_X(N)===null&&(D=V),V=V.sibling;V=D,V===null?(D=H.child,H.child=null):(D=V.sibling,V.sibling=null),bO(H,!1,D,V,M);break;case"backwards":V=null,D=H.child;for(H.child=null;D!==null;){if(N=D.alternate,N!==null&&_X(N)===null){H.child=D;break}N=D.sibling,D.sibling=V,V=D,D=N}bO(H,!0,V,null,M);break;case"together":bO(H,!1,null,null,void 0);break;default:H.memoizedState=null}return H.child}function M4(N,H,V){if(N!==null&&(H.dependencies=N.dependencies),E7|=H.lanes,(V&H.childLanes)===0)if(N!==null){if(GQ(N,H,V,!1),(V&H.childLanes)===0)return null}else return null;if(N!==null&&H.child!==N.child)throw Error(q(153));if(H.child!==null){N=H.child,V=W7(N,N.pendingProps),H.child=V;for(V.return=H;N.sibling!==null;)N=N.sibling,V=V.sibling=W7(N,N.pendingProps),V.return=H;V.sibling=null}return H.child}function kO(N,H){if((N.lanes&H)!==0)return!0;return N=N.dependencies,N!==null&&CX(N)?!0:!1}function Zm(N,H,V){switch(H.tag){case 3:B5(H,H.stateNode.containerInfo),D7(H,R1,N.memoizedState.cache),m6();break;case 27:case 5:W8(H);break;case 4:B5(H,H.stateNode.containerInfo);break;case 10:D7(H,H.type,H.memoizedProps.value);break;case 13:var $=H.memoizedState;if($!==null){if($.dehydrated!==null)return $7(H),H.flags|=128,null;if((V&H.child.childLanes)!==0)return RG(N,H,V);return $7(H),N=M4(N,H,V),N!==null?N.sibling:null}$7(H);break;case 19:var D=(N.flags&128)!==0;if($=(V&H.childLanes)!==0,$||(GQ(N,H,V,!1),$=(V&H.childLanes)!==0),D){if($)return IG(N,H,V);H.flags|=128}if(D=H.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),G(e1,e1.current),$)break;else return null;case 22:case 23:return H.lanes=0,FG(N,H,V);case 24:D7(H,R1,N.memoizedState.cache)}return M4(N,H,V)}function TG(N,H,V){if(N!==null)if(N.memoizedProps!==H.pendingProps)K5=!0;else{if(!kO(N,V)&&(H.flags&128)===0)return K5=!1,Zm(N,H,V);K5=(N.flags&131072)!==0?!0:!1}else K5=!1,d0&&(H.flags&1048576)!==0&&g1(H,gX,H.index);switch(H.lanes=0,H.tag){case 16:Z:{N=H.pendingProps;var $=H.elementType,D=$._init;if($=D($._payload),H.type=$,typeof $==="function")JU($)?(N=I9($,N),H.tag=1,H=CG(null,H,$,N,V)):(H.tag=0,H=LO(null,H,$,N,V));else{if($!==void 0&&$!==null){if(D=$.$$typeof,D===zU){H.tag=11,H=MG(null,H,$,N,V);break Z}else if(D===VU){H.tag=14,H=WG(null,H,$,N,V);break Z}}throw H=X($)||$,Error(q(306,H,""))}}return H;case 0:return LO(N,H,H.type,H.pendingProps,V);case 1:return $=H.type,D=I9($,H.pendingProps),CG(N,H,$,D,V);case 3:Z:{if(B5(H,H.stateNode.containerInfo),N===null)throw Error(q(387));var M=H.pendingProps;D=H.memoizedState,$=D.element,KO(N,H),DQ(H,M,null,V);var E=H.memoizedState;if(M=E.cache,D7(H,R1,M),M!==D.cache&&vO(H,[R1],V,!0),AQ(),M=E.element,u8&&D.isDehydrated)if(D={element:M,isDehydrated:!1,cache:E.cache},H.updateQueue.baseState=D,H.memoizedState=D,H.flags&256){H=LG(N,H,M,V);break Z}else if(M!==$){$=K1(Error(q(424)),H),e5($),H=LG(N,H,M,V);break Z}else for(u8&&(k5=Od(H.stateNode.containerInfo),g5=H,d0=!0,F6=null,d6=!0),V=eF(H,null,M,V),H.child=V;V;)V.flags=V.flags&-3|4096,V=V.sibling;else{if(m6(),M===$){H=M4(N,H,V);break Z}_5(N,H,M,V)}H=H.child}return H;case 26:if(l8)return WQ(N,H),N===null?(V=uF(H.type,null,H.pendingProps,null))?H.memoizedState=V:d0||(H.stateNode=Ed(H.type,H.pendingProps,w7.current,H)):H.memoizedState=uF(H.type,N.memoizedProps,H.pendingProps,N.memoizedState),null;case 27:if(b5)return W8(H),N===null&&b5&&d0&&($=H.stateNode=nF(H.type,H.pendingProps,w7.current,M5.current,!1),g5=H,d6=!0,k5=mF($)),$=H.pendingProps.children,N!==null||d0?_5(N,H,$,V):H.child=h9(H,null,$,V),WQ(N,H),H.child;case 5:if(N===null&&d0){if(Cd(H.type,H.pendingProps,M5.current),D=$=k5)$=$d($,H.type,H.pendingProps,d6),$!==null?(H.stateNode=$,g5=H,k5=mF($),d6=!1,D=!0):D=!1;D||y5(H)}return W8(H),D=H.type,M=H.pendingProps,E=N!==null?N.memoizedProps:null,$=M.children,vX(D,M)?$=null:E!==null&&vX(D,E)&&(H.flags|=32),H.memoizedState!==null&&(D=YO(N,H,sg,null,null,V),j4?f9._currentValue=D:f9._currentValue2=D),WQ(N,H),_5(N,H,$,V),H.child;case 6:if(N===null&&d0){if(Ld(H.pendingProps,M5.current),N=V=k5)V=Ad(V,H.pendingProps,d6),V!==null?(H.stateNode=V,g5=H,k5=null,N=!0):N=!1;N||y5(H)}return null;case 13:return RG(N,H,V);case 4:return B5(H,H.stateNode.containerInfo),$=H.pendingProps,N===null?H.child=h9(H,null,$,V):_5(N,H,$,V),H.child;case 11:return MG(N,H,H.type,H.pendingProps,V);case 7:return _5(N,H,H.pendingProps,V),H.child;case 8:return _5(N,H,H.pendingProps.children,V),H.child;case 12:return _5(N,H,H.pendingProps.children,V),H.child;case 10:return $=H.pendingProps,D7(H,H.type,$.value),_5(N,H,$.children,V),H.child;case 9:return D=H.type._context,$=H.pendingProps.children,T9(H),D=T5(D),$=$(D),H.flags|=1,_5(N,H,$,V),H.child;case 14:return WG(N,H,H.type,H.pendingProps,V);case 15:return GG(N,H,H.type,H.pendingProps,V);case 19:return IG(N,H,V);case 22:return FG(N,H,V);case 24:return T9(H),$=T5(R1),N===null?(D=yO(),D===null&&(D=V1,M=fO(),D.pooledCache=M,M.refCount++,M!==null&&(D.pooledCacheLanes|=V),D=M),H.memoizedState={parent:$,cache:D},qO(H),D7(H,R1,D)):((N.lanes&V)!==0&&(KO(N,H),DQ(H,null,null,V),AQ()),D=N.memoizedState,M=H.memoizedState,D.parent!==$?(D={parent:$,cache:$},H.memoizedState=D,H.lanes===0&&(H.memoizedState=H.updateQueue.baseState=D),D7(H,R1,$)):($=M.cache,D7(H,R1,$),$!==D.cache&&vO(H,[R1],V,!0))),_5(N,H,H.pendingProps.children,V),H.child;case 29:throw H.pendingProps}throw Error(q(156,H.tag))}function D7(N,H,V){j4?(G(aX,H._currentValue),H._currentValue=V):(G(aX,H._currentValue2),H._currentValue2=V)}function W4(N){var H=aX.current;j4?N._currentValue=H:N._currentValue2=H,L(aX)}function PO(N,H,V){for(;N!==null;){var $=N.alternate;if((N.childLanes&H)!==H?(N.childLanes|=H,$!==null&&($.childLanes|=H)):$!==null&&($.childLanes&H)!==H&&($.childLanes|=H),N===V)break;N=N.return}}function vO(N,H,V,$){var D=N.child;D!==null&&(D.return=N);for(;D!==null;){var M=D.dependencies;if(M!==null){var E=D.child;M=M.firstContext;Z:for(;M!==null;){var S=M;M=D;for(var P=0;P<H.length;P++)if(S.context===H[P]){M.lanes|=V,S=M.alternate,S!==null&&(S.lanes|=V),PO(M.return,V,N),$||(E=null);break Z}M=S.next}}else if(D.tag===18){if(E=D.return,E===null)throw Error(q(341));E.lanes|=V,M=E.alternate,M!==null&&(M.lanes|=V),PO(E,V,N),E=null}else E=D.child;if(E!==null)E.return=D;else for(E=D;E!==null;){if(E===N){E=null;break}if(D=E.sibling,D!==null){D.return=E.return,E=D;break}E=E.return}D=E}}function GQ(N,H,V,$){N=null;for(var D=H,M=!1;D!==null;){if(!M){if((D.flags&524288)!==0)M=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var E=D.alternate;if(E===null)throw Error(q(387));if(E=E.memoizedProps,E!==null){var S=D.type;I8(D.pendingProps.value,E.value)||(N!==null?N.push(S):N=[S])}}else if(D===mX.current){if(E=D.alternate,E===null)throw Error(q(387));E.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(N!==null?N.push(f9):N=[f9])}D=D.return}N!==null&&vO(H,N,V,$),H.flags|=262144}function CX(N){for(N=N.firstContext;N!==null;){var H=N.context;if(!I8(j4?H._currentValue:H._currentValue2,N.memoizedValue))return!0;N=N.next}return!1}function T9(N){d9=N,L4=null,N=N.dependencies,N!==null&&(N.firstContext=null)}function T5(N){return SG(d9,N)}function LX(N,H){return d9===null&&T9(N),SG(N,H)}function SG(N,H){var V=j4?H._currentValue:H._currentValue2;if(H={context:H,memoizedValue:V,next:null},L4===null){if(N===null)throw Error(q(308));L4=H,N.dependencies={lanes:0,firstContext:H},N.flags|=524288}else L4=L4.next=H;return V}function fO(){return{controller:new ld,data:new Map,refCount:0}}function FQ(N){N.refCount--,N.refCount===0&&pd(id,function(){N.controller.abort()})}function yO(){var N=c9.current;return N!==null?N:V1.pooledCache}function RX(N,H){H===null?G(c9,c9.current):G(c9,H.pool)}function bG(){var N=yO();return N===null?null:{parent:j4?R1._currentValue:R1._currentValue2,pool:N}}function j8(N){N.flags|=4}function kG(N,H){if(N!==null&&N.child===H.child)return!1;if((H.flags&16)!==0)return!0;for(N=H.child;N!==null;){if((N.flags&13878)!==0||(N.subtreeFlags&13878)!==0)return!0;N=N.sibling}return!1}function hO(N,H,V,$){if(S5)for(V=H.child;V!==null;){if(V.tag===5||V.tag===6)$U(N,V.stateNode);else if(!(V.tag===4||b5&&V.tag===27)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===H)break;for(;V.sibling===null;){if(V.return===null||V.return===H)return;V=V.return}V.sibling.return=V.return,V=V.sibling}else if(j7)for(var D=H.child;D!==null;){if(D.tag===5){var M=D.stateNode;V&&$&&(M=hF(M,D.type,D.memoizedProps)),$U(N,M)}else if(D.tag===6)M=D.stateNode,V&&$&&(M=xF(M,D.memoizedProps)),$U(N,M);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)M=D.child,M!==null&&(M.return=D),hO(N,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===H)break;for(;D.sibling===null;){if(D.return===null||D.return===H)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function PG(N,H,V,$){if(j7)for(var D=H.child;D!==null;){if(D.tag===5){var M=D.stateNode;V&&$&&(M=hF(M,D.type,D.memoizedProps)),fF(N,M)}else if(D.tag===6)M=D.stateNode,V&&$&&(M=xF(M,D.memoizedProps)),fF(N,M);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)M=D.child,M!==null&&(M.return=D),PG(N,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===H)break;for(;D.sibling===null;){if(D.return===null||D.return===H)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function vG(N,H){if(j7&&kG(N,H)){N=H.stateNode;var V=N.containerInfo,$=vF();PG($,H,!1,!1),N.pendingChildren=$,j8(H),Nd(V,$)}}function xO(N,H,V,$){if(S5)N.memoizedProps!==$&&j8(H);else if(j7){var{stateNode:D,memoizedProps:M}=N;if((N=kG(N,H))||M!==$){var E=M5.current;M=Xd(D,V,M,$,!N,null),M===D?H.stateNode=D:(IF(M,V,$,E)&&j8(H),H.stateNode=M,N?hO(M,H,!1,!1):j8(H))}else H.stateNode=D}}function gO(N,H,V){if(Pm(H,V)){if(N.flags|=16777216,!bF(H,V))if(XF())N.flags|=8192;else throw V2=uX,EU}else N.flags&=-16777217}function fG(N,H){if(Td(H)){if(N.flags|=16777216,!sF(H))if(XF())N.flags|=8192;else throw V2=uX,EU}else N.flags&=-16777217}function EX(N,H){H!==null&&(N.flags|=4),N.flags&16384&&(H=N.tag!==22?m():536870912,N.lanes|=H,_2|=H)}function jQ(N,H){if(!d0)switch(N.tailMode){case"hidden":H=N.tail;for(var V=null;H!==null;)H.alternate!==null&&(V=H),H=H.sibling;V===null?N.tail=null:V.sibling=null;break;case"collapsed":V=N.tail;for(var $=null;V!==null;)V.alternate!==null&&($=V),V=V.sibling;$===null?H||N.tail===null?N.tail=null:N.tail.sibling=null:$.sibling=null}}function C1(N){var H=N.alternate!==null&&N.alternate.child===N.child,V=0,$=0;if(H)for(var D=N.child;D!==null;)V|=D.lanes|D.childLanes,$|=D.subtreeFlags&31457280,$|=D.flags&31457280,D.return=N,D=D.sibling;else for(D=N.child;D!==null;)V|=D.lanes|D.childLanes,$|=D.subtreeFlags,$|=D.flags,D.return=N,D=D.sibling;return N.subtreeFlags|=$,N.childLanes=V,H}function Jm(N,H,V){var $=H.pendingProps;switch(w1(H),H.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return C1(H),null;case 1:return C1(H),null;case 3:if(V=H.stateNode,$=null,N!==null&&($=N.memoizedState.cache),H.memoizedState.cache!==$&&(H.flags|=2048),W4(R1),r5(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),N===null||N.child===null)M6(H)?j8(H):N===null||N.memoizedState.isDehydrated&&(H.flags&256)===0||(H.flags|=1024,F6!==null&&(oO(F6),F6=null));return vG(N,H),C1(H),null;case 26:if(l8){V=H.type;var D=H.memoizedState;return N===null?(j8(H),D!==null?(C1(H),fG(H,D)):(C1(H),gO(H,V,$))):D?D!==N.memoizedState?(j8(H),C1(H),fG(H,D)):(C1(H),H.flags&=-16777217):(S5?N.memoizedProps!==$&&j8(H):xO(N,H,V,$),C1(H),gO(H,V,$)),null}case 27:if(b5){if(m1(H),V=w7.current,D=H.type,N!==null&&H.stateNode!=null)S5?N.memoizedProps!==$&&j8(H):xO(N,H,D,$);else{if(!$){if(H.stateNode===null)throw Error(q(166));return C1(H),null}N=M5.current,M6(H)?E9(H,N):(N=nF(D,$,V,N,!0),H.stateNode=N,j8(H))}return C1(H),null}case 5:if(m1(H),V=H.type,N!==null&&H.stateNode!=null)xO(N,H,V,$);else{if(!$){if(H.stateNode===null)throw Error(q(166));return C1(H),null}N=M5.current,M6(H)?E9(H,N):(D=Rm(V,$,w7.current,N,H),hO(D,H,!1,!1),H.stateNode=D,IF(D,V,$,N)&&j8(H))}return C1(H),gO(H,H.type,H.pendingProps),null;case 6:if(N&&H.stateNode!=null)V=N.memoizedProps,S5?V!==$&&j8(H):j7&&(V!==$?(H.stateNode=TF($,w7.current,M5.current,H),j8(H)):H.stateNode=N.stateNode);else{if(typeof $!=="string"&&H.stateNode===null)throw Error(q(166));if(N=w7.current,V=M5.current,M6(H)){if(!u8)throw Error(q(176));if(N=H.stateNode,V=H.memoizedProps,$=null,D=g5,D!==null)switch(D.tag){case 27:case 5:$=D.memoizedProps}_d(N,V,H,$)||y5(H)}else H.stateNode=TF($,N,V,H)}return C1(H),null;case 13:if($=H.memoizedState,N===null||N.memoizedState!==null&&N.memoizedState.dehydrated!==null){if(D=M6(H),$!==null&&$.dehydrated!==null){if(N===null){if(!D)throw Error(q(318));if(!u8)throw Error(q(344));if(D=H.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(q(317));Md(D,H)}else m6(),(H.flags&128)===0&&(H.memoizedState=null),H.flags|=4;C1(H),D=!1}else F6!==null&&(oO(F6),F6=null),D=!0;if(!D){if(H.flags&256)return B4(H),H;return B4(H),null}}if(B4(H),(H.flags&128)!==0)return H.lanes=V,H;if(V=$!==null,N=N!==null&&N.memoizedState!==null,V){$=H.child,D=null,$.alternate!==null&&$.alternate.memoizedState!==null&&$.alternate.memoizedState.cachePool!==null&&(D=$.alternate.memoizedState.cachePool.pool);var M=null;$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(M=$.memoizedState.cachePool.pool),M!==D&&($.flags|=2048)}return V!==N&&V&&(H.child.flags|=8192),EX(H,H.updateQueue),C1(H),null;case 4:return r5(),vG(N,H),N===null&&Tm(H.stateNode.containerInfo),C1(H),null;case 10:return W4(H.type),C1(H),null;case 19:if(L(e1),D=H.memoizedState,D===null)return C1(H),null;if($=(H.flags&128)!==0,M=D.rendering,M===null)if($)jQ(D,!1);else{if(I1!==0||N!==null&&(N.flags&128)!==0)for(N=H.child;N!==null;){if(M=_X(N),M!==null){H.flags|=128,jQ(D,!1),N=M.updateQueue,H.updateQueue=N,EX(H,N),H.subtreeFlags=0,N=V;for(V=H.child;V!==null;)DF(V,N),V=V.sibling;return G(e1,e1.current&1|2),H.child}N=N.sibling}D.tail!==null&&G6()>hQ&&(H.flags|=128,$=!0,jQ(D,!1),H.lanes=4194304)}else{if(!$)if(N=_X(M),N!==null){if(H.flags|=128,$=!0,N=N.updateQueue,H.updateQueue=N,EX(H,N),jQ(D,!0),D.tail===null&&D.tailMode==="hidden"&&!M.alternate&&!d0)return C1(H),null}else 2*G6()-D.renderingStartTime>hQ&&V!==536870912&&(H.flags|=128,$=!0,jQ(D,!1),H.lanes=4194304);D.isBackwards?(M.sibling=H.child,H.child=M):(N=D.last,N!==null?N.sibling=M:H.child=M,D.last=M)}if(D.tail!==null)return H=D.tail,D.rendering=H,D.tail=H.sibling,D.renderingStartTime=G6(),H.sibling=null,N=e1.current,G(e1,$?N&1|2:N&1),H;return C1(H),null;case 22:case 23:return B4(H),zO(),$=H.memoizedState!==null,N!==null?N.memoizedState!==null!==$&&(H.flags|=8192):$&&(H.flags|=8192),$?(V&536870912)!==0&&(H.flags&128)===0&&(C1(H),H.subtreeFlags&6&&(H.flags|=8192)):C1(H),V=H.updateQueue,V!==null&&EX(H,V.retryQueue),V=null,N!==null&&N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(V=N.memoizedState.cachePool.pool),$=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&($=H.memoizedState.cachePool.pool),$!==V&&(H.flags|=2048),N!==null&&L(c9),null;case 24:return V=null,N!==null&&(V=N.memoizedState.cache),H.memoizedState.cache!==V&&(H.flags|=2048),W4(R1),C1(H),null;case 25:return null}throw Error(q(156,H.tag))}function Qm(N,H){switch(w1(H),H.tag){case 1:return N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 3:return W4(R1),r5(),N=H.flags,(N&65536)!==0&&(N&128)===0?(H.flags=N&-65537|128,H):null;case 26:case 27:case 5:return m1(H),null;case 13:if(B4(H),N=H.memoizedState,N!==null&&N.dehydrated!==null){if(H.alternate===null)throw Error(q(340));m6()}return N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 19:return L(e1),null;case 4:return r5(),null;case 10:return W4(H.type),null;case 22:case 23:return B4(H),zO(),N!==null&&L(c9),N=H.flags,N&65536?(H.flags=N&-65537|128,H):null;case 24:return W4(R1),null;case 25:return null;default:return null}}function yG(N,H){switch(w1(H),H.tag){case 3:W4(R1),r5();break;case 26:case 27:case 5:m1(H);break;case 4:r5();break;case 13:B4(H);break;case 19:L(e1);break;case 10:W4(H.type);break;case 22:case 23:B4(H),zO(),N!==null&&L(c9);break;case 24:W4(R1)}}function wQ(N,H){try{var V=H.updateQueue,$=V!==null?V.lastEffect:null;if($!==null){var D=$.next;V=D;do{if((V.tag&N)===N){$=void 0;var{create:M,inst:E}=V;$=M(),E.destroy=$}V=V.next}while(V!==D)}}catch(S){r0(H,H.return,S)}}function B7(N,H,V){try{var $=H.updateQueue,D=$!==null?$.lastEffect:null;if(D!==null){var M=D.next;$=M;do{if(($.tag&N)===N){var E=$.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,D=H;var P=V;try{S()}catch(d){r0(D,P,d)}}}$=$.next}while($!==M)}}catch(d){r0(H,H.return,d)}}function hG(N){var H=N.updateQueue;if(H!==null){var V=N.stateNode;try{LW(H,V)}catch($){r0(N,N.return,$)}}}function xG(N,H,V){V.props=I9(N.type,N.memoizedProps),V.state=N.memoizedState;try{V.componentWillUnmount()}catch($){r0(N,H,$)}}function S9(N,H){try{var V=N.ref;if(V!==null){var $=N.stateNode;switch(N.tag){case 26:case 27:case 5:var D=RQ($);break;default:D=$}typeof V==="function"?N.refCleanup=V(D):V.current=D}}catch(M){r0(N,H,M)}}function w8(N,H){var{ref:V,refCleanup:$}=N;if(V!==null)if(typeof $==="function")try{$()}catch(D){r0(N,H,D)}finally{N.refCleanup=null,N=N.alternate,N!=null&&(N.refCleanup=null)}else if(typeof V==="function")try{V(null)}catch(D){r0(N,H,D)}else V.current=null}function gG(N){var{type:H,memoizedProps:V,stateNode:$}=N;try{sm($,H,V,N)}catch(D){r0(N,N.return,D)}}function mG(N,H,V){try{nm(N.stateNode,N.type,V,H,N)}catch($){r0(N,N.return,$)}}function dG(N){return N.tag===5||N.tag===3||(l8?N.tag===26:!1)||(b5?N.tag===27:!1)||N.tag===4}function mO(N){Z:for(;;){for(;N.sibling===null;){if(N.return===null||dG(N.return))return null;N=N.return}N.sibling.return=N.return;for(N=N.sibling;N.tag!==5&&N.tag!==6&&(b5?N.tag!==27:1)&&N.tag!==18;){if(N.flags&2)continue Z;if(N.child===null||N.tag===4)continue Z;else N.child.return=N,N=N.child}if(!(N.flags&2))return N.stateNode}}function dO(N,H,V){var $=N.tag;if($===5||$===6)N=N.stateNode,H?tm(V,N,H):im(V,N);else if(!($===4||b5&&$===27)&&(N=N.child,N!==null))for(dO(N,H,V),N=N.sibling;N!==null;)dO(N,H,V),N=N.sibling}function IX(N,H,V){var $=N.tag;if($===5||$===6)N=N.stateNode,H?om(V,N,H):pm(V,N);else if(!($===4||b5&&$===27)&&(N=N.child,N!==null))for(IX(N,H,V),N=N.sibling;N!==null;)IX(N,H,V),N=N.sibling}function cG(N,H,V){N=N.containerInfo;try{yF(N,V)}catch($){r0(H,H.return,$)}}function qm(N,H){Cm(N.containerInfo);for(X5=H;X5!==null;)if(N=X5,H=N.child,(N.subtreeFlags&1028)!==0&&H!==null)H.return=N,X5=H;else for(;X5!==null;){N=X5;var V=N.alternate;switch(H=N.flags,N.tag){case 0:break;case 11:case 15:break;case 1:if((H&1024)!==0&&V!==null){H=void 0;var $=N,D=V.memoizedProps;V=V.memoizedState;var M=$.stateNode;try{var E=I9($.type,D,$.elementType===$.type);H=M.getSnapshotBeforeUpdate(E,V),M.__reactInternalSnapshotBeforeUpdate=H}catch(S){r0($,$.return,S)}}break;case 3:(H&1024)!==0&&S5&&Kd(N.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((H&1024)!==0)throw Error(q(163))}if(H=N.sibling,H!==null){H.return=N.return,X5=H;break}X5=N.return}return E=Kj,Kj=!1,E}function uG(N,H,V){var $=V.flags;switch(V.tag){case 0:case 11:case 15:G4(N,V),$&4&&wQ(5,V);break;case 1:if(G4(N,V),$&4)if(N=V.stateNode,H===null)try{N.componentDidMount()}catch(S){r0(V,V.return,S)}else{var D=I9(V.type,H.memoizedProps);H=H.memoizedState;try{N.componentDidUpdate(D,H,N.__reactInternalSnapshotBeforeUpdate)}catch(S){r0(V,V.return,S)}}$&64&&hG(V),$&512&&S9(V,V.return);break;case 3:if(G4(N,V),$&64&&($=V.updateQueue,$!==null)){if(N=null,V.child!==null)switch(V.child.tag){case 27:case 5:N=RQ(V.child.stateNode);break;case 1:N=V.child.stateNode}try{LW($,N)}catch(S){r0(V,V.return,S)}}break;case 26:if(l8){G4(N,V),$&512&&S9(V,V.return);break}case 27:case 5:G4(N,V),H===null&&$&4&&gG(V),$&512&&S9(V,V.return);break;case 12:G4(N,V);break;case 13:G4(N,V),$&4&&pG(N,V);break;case 22:if(D=V.memoizedState!==null||R4,!D){H=H!==null&&H.memoizedState!==null||E1;var M=R4,E=E1;R4=D,(E1=H)&&!E?_7(N,V,(V.subtreeFlags&8772)!==0):G4(N,V),R4=M,E1=E}$&512&&(V.memoizedProps.mode==="manual"?S9(V,V.return):w8(V,V.return));break;default:G4(N,V)}}function lG(N){var H=N.alternate;H!==null&&(N.alternate=null,lG(H)),N.child=null,N.deletions=null,N.sibling=null,N.tag===5&&(H=N.stateNode,H!==null&&km(H)),N.stateNode=null,N.return=null,N.dependencies=null,N.memoizedProps=null,N.memoizedState=null,N.pendingProps=null,N.stateNode=null,N.updateQueue=null}function W6(N,H,V){for(V=V.child;V!==null;)cO(N,H,V),V=V.sibling}function cO(N,H,V){if(E8&&typeof E8.onCommitFiberUnmount==="function")try{E8.onCommitFiberUnmount(TQ,V)}catch(M){}switch(V.tag){case 26:if(l8){E1||w8(V,H),W6(N,H,V),V.memoizedState?pF(V.memoizedState):V.stateNode&&aF(V.stateNode);break}case 27:if(b5){E1||w8(V,H);var $=p1,D=T8;p1=V.stateNode,W6(N,H,V),Pd(V.stateNode),p1=$,T8=D;break}case 5:E1||w8(V,H);case 6:if(S5){if($=p1,D=T8,p1=null,W6(N,H,V),p1=$,T8=D,p1!==null)if(T8)try{em(p1,V.stateNode)}catch(M){r0(V,H,M)}else try{rm(p1,V.stateNode)}catch(M){r0(V,H,M)}}else W6(N,H,V);break;case 18:S5&&p1!==null&&(T8?wd(p1,V.stateNode):jd(p1,V.stateNode));break;case 4:S5?($=p1,D=T8,p1=V.stateNode.containerInfo,T8=!0,W6(N,H,V),p1=$,T8=D):(j7&&cG(V.stateNode,V,vF()),W6(N,H,V));break;case 0:case 11:case 14:case 15:E1||B7(2,V,H),E1||B7(4,V,H),W6(N,H,V);break;case 1:E1||(w8(V,H),$=V.stateNode,typeof $.componentWillUnmount==="function"&&xG(V,H,$)),W6(N,H,V);break;case 21:W6(N,H,V);break;case 22:E1||w8(V,H),E1=($=E1)||V.memoizedState!==null,W6(N,H,V),E1=$;break;default:W6(N,H,V)}}function pG(N,H){if(u8&&H.memoizedState===null&&(N=H.alternate,N!==null&&(N=N.memoizedState,N!==null&&(N=N.dehydrated,N!==null))))try{Fd(N)}catch(V){r0(H,H.return,V)}}function Km(N){switch(N.tag){case 13:case 19:var H=N.stateNode;return H===null&&(H=N.stateNode=new qj),H;case 22:return N=N.stateNode,H=N._retryCache,H===null&&(H=N._retryCache=new qj),H;default:throw Error(q(435,N.tag))}}function uO(N,H){var V=Km(N);H.forEach(function($){var D=Um.bind(null,N,$);V.has($)||(V.add($),$.then(D,D))})}function J8(N,H){var V=H.deletions;if(V!==null)for(var $=0;$<V.length;$++){var D=V[$],M=N,E=H;if(S5){var S=E;Z:for(;S!==null;){switch(S.tag){case 27:case 5:p1=S.stateNode,T8=!1;break Z;case 3:p1=S.stateNode.containerInfo,T8=!0;break Z;case 4:p1=S.stateNode.containerInfo,T8=!0;break Z}S=S.return}if(p1===null)throw Error(q(160));cO(M,E,D),p1=null,T8=!1}else cO(M,E,D);M=D.alternate,M!==null&&(M.return=null),D.return=null}if(H.subtreeFlags&13878)for(H=H.child;H!==null;)iG(H,N),H=H.sibling}function iG(N,H){var{alternate:V,flags:$}=N;switch(N.tag){case 0:case 11:case 14:case 15:J8(H,N),C8(N),$&4&&(B7(3,N,N.return),wQ(3,N),B7(5,N,N.return));break;case 1:J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),$&64&&R4&&(N=N.updateQueue,N!==null&&($=N.callbacks,$!==null&&(V=N.shared.hiddenCallbacks,N.shared.hiddenCallbacks=V===null?$:V.concat($))));break;case 26:if(l8){var D=j6;J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),$&4&&($=V!==null?V.memoizedState:null,H=N.memoizedState,V===null?H===null?N.stateNode===null?N.stateNode=Rd(D,N.type,N.memoizedProps,N):iF(D,N.type,N.stateNode):N.stateNode=lF(D,H,N.memoizedProps):$!==H?($===null?V.stateNode!==null&&aF(V.stateNode):pF($),H===null?iF(D,N.type,N.stateNode):lF(D,H,N.memoizedProps)):H===null&&N.stateNode!==null&&mG(N,N.memoizedProps,V.memoizedProps));break}case 27:if(b5&&$&4&&N.alternate===null){D=N.stateNode;var M=N.memoizedProps;try{bd(D),kd(N.type,M,D,N)}catch(t){r0(N,N.return,t)}}case 5:if(J8(H,N),C8(N),$&512&&(E1||V===null||w8(V,V.return)),S5){if(N.flags&32){H=N.stateNode;try{PF(H)}catch(t){r0(N,N.return,t)}}$&4&&N.stateNode!=null&&(H=N.memoizedProps,mG(N,H,V!==null?V.memoizedProps:H)),$&1024&&(bU=!0)}break;case 6:if(J8(H,N),C8(N),$&4&&S5){if(N.stateNode===null)throw Error(q(162));$=N.memoizedProps,V=V!==null?V.memoizedProps:$,H=N.stateNode;try{am(H,V,$)}catch(t){r0(N,N.return,t)}}break;case 3:if(l8?(Id(),D=j6,j6=_U(H.containerInfo),J8(H,N),j6=D):J8(H,N),C8(N),$&4){if(S5&&u8&&V!==null&&V.memoizedState.isDehydrated)try{Gd(H.containerInfo)}catch(t){r0(N,N.return,t)}if(j7){$=H.containerInfo,V=H.pendingChildren;try{yF($,V)}catch(t){r0(N,N.return,t)}}}bU&&(bU=!1,aG(N));break;case 4:l8?(V=j6,j6=_U(N.stateNode.containerInfo),J8(H,N),C8(N),j6=V):(J8(H,N),C8(N)),$&4&&j7&&cG(N.stateNode,N,N.stateNode.pendingChildren);break;case 12:J8(H,N),C8(N);break;case 13:J8(H,N),C8(N),N.child.flags&8192&&N.memoizedState!==null!==(V!==null&&V.memoizedState!==null)&&(fU=G6()),$&4&&($=N.updateQueue,$!==null&&(N.updateQueue=null,uO(N,$)));break;case 22:$&512&&(E1||V===null||w8(V,V.return)),D=N.memoizedState!==null;var E=V!==null&&V.memoizedState!==null,S=R4,P=E1;if(R4=S||D,E1=P||E,J8(H,N),E1=P,R4=S,C8(N),H=N.stateNode,H._current=N,H._visibility&=-3,H._visibility|=H._pendingVisibility&2,$&8192&&(H._visibility=D?H._visibility&-2:H._visibility|1,D&&(H=R4||E1,V===null||E||H||sZ(N)),S5&&(N.memoizedProps===null||N.memoizedProps.mode!=="manual")))Z:if(V=null,S5)for(H=N;;){if(H.tag===5||l8&&H.tag===26||b5&&H.tag===27){if(V===null){E=V=H;try{M=E.stateNode,D?Zd(M):Qd(E.stateNode,E.memoizedProps)}catch(t){r0(E,E.return,t)}}}else if(H.tag===6){if(V===null){E=H;try{var d=E.stateNode;D?Jd(d):qd(d,E.memoizedProps)}catch(t){r0(E,E.return,t)}}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===N)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===N)break Z;for(;H.sibling===null;){if(H.return===null||H.return===N)break Z;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}$&4&&($=N.updateQueue,$!==null&&(V=$.retryQueue,V!==null&&($.retryQueue=null,uO(N,V))));break;case 19:J8(H,N),C8(N),$&4&&($=N.updateQueue,$!==null&&(N.updateQueue=null,uO(N,$)));break;case 21:break;default:J8(H,N),C8(N)}}function C8(N){var H=N.flags;if(H&2){try{if(S5&&(!b5||N.tag!==27)){Z:{for(var V=N.return;V!==null;){if(dG(V)){var $=V;break Z}V=V.return}throw Error(q(160))}switch($.tag){case 27:if(b5){var D=$.stateNode,M=mO(N);IX(N,M,D);break}case 5:var E=$.stateNode;$.flags&32&&(PF(E),$.flags&=-33);var S=mO(N);IX(N,S,E);break;case 3:case 4:var P=$.stateNode.containerInfo,d=mO(N);dO(N,d,P);break;default:throw Error(q(161))}}}catch(t){r0(N,N.return,t)}N.flags&=-3}H&4096&&(N.flags&=-4097)}function aG(N){if(N.subtreeFlags&1024)for(N=N.child;N!==null;){var H=N;aG(H),H.tag===5&&H.flags&1024&&ym(H.stateNode),N=N.sibling}}function G4(N,H){if(H.subtreeFlags&8772)for(H=H.child;H!==null;)uG(N,H.alternate,H),H=H.sibling}function sZ(N){for(N=N.child;N!==null;){var H=N;switch(H.tag){case 0:case 11:case 14:case 15:B7(4,H,H.return),sZ(H);break;case 1:w8(H,H.return);var V=H.stateNode;typeof V.componentWillUnmount==="function"&&xG(H,H.return,V),sZ(H);break;case 26:case 27:case 5:w8(H,H.return),sZ(H);break;case 22:w8(H,H.return),H.memoizedState===null&&sZ(H);break;default:sZ(H)}N=N.sibling}}function _7(N,H,V){V=V&&(H.subtreeFlags&8772)!==0;for(H=H.child;H!==null;){var $=H.alternate,D=N,M=H,E=M.flags;switch(M.tag){case 0:case 11:case 15:_7(D,M,V),wQ(4,M);break;case 1:if(_7(D,M,V),$=M,D=$.stateNode,typeof D.componentDidMount==="function")try{D.componentDidMount()}catch(d){r0($,$.return,d)}if($=M,D=$.updateQueue,D!==null){var S=$.stateNode;try{var P=D.shared.hiddenCallbacks;if(P!==null)for(D.shared.hiddenCallbacks=null,D=0;D<P.length;D++)CW(P[D],S)}catch(d){r0($,$.return,d)}}V&&E&64&&hG(M),S9(M,M.return);break;case 26:case 27:case 5:_7(D,M,V),V&&$===null&&E&4&&gG(M),S9(M,M.return);break;case 12:_7(D,M,V);break;case 13:_7(D,M,V),V&&E&4&&pG(D,M);break;case 22:M.memoizedState===null&&_7(D,M,V),S9(M,M.return);break;default:_7(D,M,V)}H=H.sibling}}function lO(N,H){var V=null;N!==null&&N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(V=N.memoizedState.cachePool.pool),N=null,H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(N=H.memoizedState.cachePool.pool),N!==V&&(N!=null&&N.refCount++,V!=null&&FQ(V))}function pO(N,H){N=null,H.alternate!==null&&(N=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==N&&(H.refCount++,N!=null&&FQ(N))}function M7(N,H,V,$){if(H.subtreeFlags&10256)for(H=H.child;H!==null;)sG(N,H,V,$),H=H.sibling}function sG(N,H,V,$){var D=H.flags;switch(H.tag){case 0:case 11:case 15:M7(N,H,V,$),D&2048&&wQ(9,H);break;case 3:M7(N,H,V,$),D&2048&&(N=null,H.alternate!==null&&(N=H.alternate.memoizedState.cache),H=H.memoizedState.cache,H!==N&&(H.refCount++,N!=null&&FQ(N)));break;case 12:if(D&2048){M7(N,H,V,$),N=H.stateNode;try{var M=H.memoizedProps,E=M.id,S=M.onPostCommit;typeof S==="function"&&S(E,H.alternate===null?"mount":"update",N.passiveEffectDuration,-0)}catch(P){r0(H,H.return,P)}}else M7(N,H,V,$);break;case 23:break;case 22:M=H.stateNode,H.memoizedState!==null?M._visibility&4?M7(N,H,V,$):CQ(N,H):M._visibility&4?M7(N,H,V,$):(M._visibility|=4,nZ(N,H,V,$,(H.subtreeFlags&10256)!==0)),D&2048&&lO(H.alternate,H);break;case 24:M7(N,H,V,$),D&2048&&pO(H.alternate,H);break;default:M7(N,H,V,$)}}function nZ(N,H,V,$,D){D=D&&(H.subtreeFlags&10256)!==0;for(H=H.child;H!==null;){var M=N,E=H,S=V,P=$,d=E.flags;switch(E.tag){case 0:case 11:case 15:nZ(M,E,S,P,D),wQ(8,E);break;case 23:break;case 22:var t=E.stateNode;E.memoizedState!==null?t._visibility&4?nZ(M,E,S,P,D):CQ(M,E):(t._visibility|=4,nZ(M,E,S,P,D)),D&&d&2048&&lO(E.alternate,E);break;case 24:nZ(M,E,S,P,D),D&&d&2048&&pO(E.alternate,E);break;default:nZ(M,E,S,P,D)}H=H.sibling}}function CQ(N,H){if(H.subtreeFlags&10256)for(H=H.child;H!==null;){var V=N,$=H,D=$.flags;switch($.tag){case 22:CQ(V,$),D&2048&&lO($.alternate,$);break;case 24:CQ(V,$),D&2048&&pO($.alternate,$);break;default:CQ(V,$)}H=H.sibling}}function b9(N){if(N.subtreeFlags&D2)for(N=N.child;N!==null;)nG(N),N=N.sibling}function nG(N){switch(N.tag){case 26:b9(N),N.flags&D2&&(N.memoizedState!==null?Sd(j6,N.memoizedState,N.memoizedProps):kF(N.type,N.memoizedProps));break;case 5:b9(N),N.flags&D2&&kF(N.type,N.memoizedProps);break;case 3:case 4:if(l8){var H=j6;j6=_U(N.stateNode.containerInfo),b9(N),j6=H}else b9(N);break;case 22:N.memoizedState===null&&(H=N.alternate,H!==null&&H.memoizedState!==null?(H=D2,D2=16777216,b9(N),D2=H):b9(N));break;default:b9(N)}}function oG(N){var H=N.alternate;if(H!==null&&(N=H.child,N!==null)){H.child=null;do H=N.sibling,N.sibling=null,N=H;while(N!==null)}}function LQ(N){var H=N.deletions;if((N.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var $=H[V];X5=$,rG($,N)}oG(N)}if(N.subtreeFlags&10256)for(N=N.child;N!==null;)tG(N),N=N.sibling}function tG(N){switch(N.tag){case 0:case 11:case 15:LQ(N),N.flags&2048&&B7(9,N,N.return);break;case 3:LQ(N);break;case 12:LQ(N);break;case 22:var H=N.stateNode;N.memoizedState!==null&&H._visibility&4&&(N.return===null||N.return.tag!==13)?(H._visibility&=-5,TX(N)):LQ(N);break;default:LQ(N)}}function TX(N){var H=N.deletions;if((N.flags&16)!==0){if(H!==null)for(var V=0;V<H.length;V++){var $=H[V];X5=$,rG($,N)}oG(N)}for(N=N.child;N!==null;){switch(H=N,H.tag){case 0:case 11:case 15:B7(8,H,H.return),TX(H);break;case 22:V=H.stateNode,V._visibility&4&&(V._visibility&=-5,TX(H));break;default:TX(H)}N=N.sibling}}function rG(N,H){for(;X5!==null;){var V=X5;switch(V.tag){case 0:case 11:case 15:B7(8,V,H);break;case 23:case 22:if(V.memoizedState!==null&&V.memoizedState.cachePool!==null){var $=V.memoizedState.cachePool.pool;$!=null&&$.refCount++}break;case 24:FQ(V.memoizedState.cache)}if($=V.child,$!==null)$.return=V,X5=$;else Z:for(V=N;X5!==null;){$=X5;var{sibling:D,return:M}=$;if(lG($),$===V){X5=null;break Z}if(D!==null){D.return=M,X5=D;break Z}X5=M}}}function iO(N){var H=SF(N);if(H!=null){if(typeof H.memoizedProps["data-testname"]!=="string")throw Error(q(364));return H}if(N=gm(N),N===null)throw Error(q(362));return N.stateNode.current}function aO(N,H){var V=N.tag;switch(H.$$typeof){case sX:if(N.type===H.value)return!0;break;case nX:Z:{H=H.value,N=[N,0];for(V=0;V<N.length;){var $=N[V++],D=$.tag,M=N[V++],E=H[M];if(D!==5&&D!==26&&D!==27||!IQ($)){for(;E!=null&&aO($,E);)M++,E=H[M];if(M===H.length){H=!0;break Z}else for($=$.child;$!==null;)N.push($,M),$=$.sibling}}H=!1}return H;case oX:if((V===5||V===26||V===27)&&cm(N.stateNode,H.value))return!0;break;case rX:if(V===5||V===6||V===26||V===27){if(N=dm(N),N!==null&&0<=N.indexOf(H.value))return!0}break;case tX:if(V===5||V===26||V===27){if(N=N.memoizedProps["data-testname"],typeof N==="string"&&N.toLowerCase()===H.value.toLowerCase())return!0}break;default:throw Error(q(365))}return!1}function sO(N){switch(N.$$typeof){case sX:return"<"+(X(N.value)||"Unknown")+">";case nX:return":has("+(sO(N)||"")+")";case oX:return'[role="'+N.value+'"]';case rX:return'"'+N.value+'"';case tX:return'[data-testname="'+N.value+'"]';default:throw Error(q(365))}}function eG(N,H){var V=[];N=[N,0];for(var $=0;$<N.length;){var D=N[$++],M=D.tag,E=N[$++],S=H[E];if(M!==5&&M!==26&&M!==27||!IQ(D)){for(;S!=null&&aO(D,S);)E++,S=H[E];if(E===H.length)V.push(D);else for(D=D.child;D!==null;)N.push(D,E),D=D.sibling}}return V}function nO(N,H){if(!EQ)throw Error(q(363));N=iO(N),N=eG(N,H),H=[],N=Array.from(N);for(var V=0;V<N.length;){var $=N[V++],D=$.tag;if(D===5||D===26||D===27)IQ($)||H.push($.stateNode);else for($=$.child;$!==null;)N.push($),$=$.sibling}return H}function L8(){if((N1&2)!==0&&h0!==0)return h0&-h0;if(B0.T!==null){var N=H2;return N!==0?N:QO()}return Sm()}function ZF(){n8===0&&(n8=(h0&536870912)===0||d0?b():536870912);var N=s8.current;return N!==null&&(N.flags|=32),n8}function x5(N,H,V){if(N===V1&&O1===2||N.cancelPendingCommit!==null)oZ(N,0),F4(N,h0,n8,!1);if(c(N,V),(N1&2)===0||N!==V1)N===V1&&((N1&2)===0&&(u9|=V),I1===4&&F4(N,h0,n8,!1)),c1(N)}function JF(N,H,V){if((N1&6)!==0)throw Error(q(327));var $=!V&&(H&60)===0&&(H&N.expiredLanes)===0||h(N,H),D=$?zm(N,H):eO(N,H,!0),M=$;do{if(D===0){B2&&!$&&F4(N,H,0,!1);break}else if(D===6)F4(N,H,0,!E4);else{if(V=N.current.alternate,M&&!Xm(V)){D=eO(N,H,!1),M=!1;continue}if(D===2){if(M=H,N.errorRecoveryDisabledLanes&M)var E=0;else E=N.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){H=E;Z:{var S=N;D=yQ;var P=u8&&S.current.memoizedState.isDehydrated;if(P&&(oZ(S,E).flags|=256),E=eO(S,E,!1),E!==2){if(kU&&!P){S.errorRecoveryDisabledLanes|=M,u9|=M,D=4;break Z}M=l6,l6=D,M!==null&&oO(M)}D=E}if(M=!1,D!==2)continue}}if(D===1){oZ(N,0),F4(N,H,0,!0);break}Z:{switch($=N,D){case 0:case 1:throw Error(q(345));case 4:if((H&4194176)===H){F4($,H,n8,!E4);break Z}break;case 2:l6=null;break;case 3:case 5:break;default:throw Error(q(329))}if($.finishedWork=V,$.finishedLanes=H,(H&62914560)===H&&(M=fU+300-G6(),10<M)){if(F4($,H,n8,!E4),T($,0)!==0)break Z;$.timeoutHandle=Em(QF.bind(null,$,V,l6,eX,vU,H,n8,u9,_2,E4,2,-0,0),M);break Z}QF($,V,l6,eX,vU,H,n8,u9,_2,E4,0,-0,0)}}break}while(1);c1(N)}function oO(N){l6===null?l6=N:l6.push.apply(l6,N)}function QF(N,H,V,$,D,M,E,S,P,d,t,Q0,X0){var W0=H.subtreeFlags;if(W0&8192||(W0&16785408)===16785408){if(vm(),nG(H),H=fm(),H!==null){N.cancelPendingCommit=H(OF.bind(null,N,V,$,D,E,S,P,1,Q0,X0)),F4(N,M,E,!d);return}}OF(N,V,$,D,E,S,P,t,Q0,X0)}function Xm(N){for(var H=N;;){var V=H.tag;if((V===0||V===11||V===15)&&H.flags&16384&&(V=H.updateQueue,V!==null&&(V=V.stores,V!==null)))for(var $=0;$<V.length;$++){var D=V[$],M=D.getSnapshot;D=D.value;try{if(!I8(M(),D))return!1}catch(E){return!1}}if(V=H.child,H.subtreeFlags&16384&&V!==null)V.return=H,H=V;else{if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}function F4(N,H,V,$){H&=~PU,H&=~u9,N.suspendedLanes|=H,N.pingedLanes&=~H,$&&(N.warmLanes|=H),$=N.expirationTimes;for(var D=H;0<D;){var M=31-R8(D),E=1<<M;$[M]=-1,D&=~E}V!==0&&z0(N,V,H)}function qF(){return(N1&6)===0?(D4(0,!1),!1):!0}function tO(){if(E0!==null){if(O1===0)var N=E0.return;else N=E0,L4=d9=null,UO(N),O2=null,PQ=0,N=E0;for(;N!==null;)yG(N.alternate,N),N=N.return;E0=null}}function oZ(N,H){N.finishedWork=null,N.finishedLanes=0;var V=N.timeoutHandle;V!==AU&&(N.timeoutHandle=AU,Im(V)),V=N.cancelPendingCommit,V!==null&&(N.cancelPendingCommit=null,V()),tO(),V1=N,E0=V=W7(N.current,null),h0=H,O1=0,S8=null,E4=!1,B2=h(N,H),kU=!1,_2=n8=PU=u9=E7=I1=0,l6=yQ=null,vU=!1,(H&8)!==0&&(H|=H&32);var $=N.entangledLanes;if($!==0)for(N=N.entanglements,$&=H;0<$;){var D=31-R8($),M=1<<D;H|=N[D],$&=~M}return I4=H,G8(),V}function KF(N,H){L0=null,B0.H=u6,H===kQ?(H=IW(),O1=3):H===EU?(H=IW(),O1=4):O1=H===Jj?8:H!==null&&typeof H==="object"&&typeof H.then==="function"?6:1,S8=H,E0===null&&(I1=1,wX(N,K1(H,N.current)))}function XF(){var N=s8.current;return N===null?!0:(h0&4194176)===h0?c6===null?!0:!1:(h0&62914560)===h0||(h0&536870912)!==0?N===c6:!1}function NF(){var N=B0.H;return B0.H=u6,N===null?u6:N}function zF(){var N=B0.A;return B0.A=ad,N}function rO(){I1=4,E4||(h0&4194176)!==h0&&s8.current!==null||(B2=!0),(E7&134217727)===0&&(u9&134217727)===0||V1===null||F4(V1,h0,n8,!1)}function eO(N,H,V){var $=N1;N1|=2;var D=NF(),M=zF();if(V1!==N||h0!==H)eX=null,oZ(N,H);H=!1;var E=I1;Z:do try{if(O1!==0&&E0!==null){var S=E0,P=S8;switch(O1){case 8:tO(),E=6;break Z;case 3:case 2:case 6:s8.current===null&&(H=!0);var d=O1;if(O1=0,S8=null,tZ(N,S,P,d),V&&B2){E=0;break Z}break;default:d=O1,O1=0,S8=null,tZ(N,S,P,d)}}Nm(),E=I1;break}catch(t){KF(N,t)}while(1);return H&&N.shellSuspendCounter++,L4=d9=null,N1=$,B0.H=D,B0.A=M,E0===null&&(V1=null,h0=0,G8()),E}function Nm(){for(;E0!==null;)HF(E0)}function zm(N,H){var V=N1;N1|=2;var $=NF(),D=zF();V1!==N||h0!==H?(eX=null,hQ=G6()+500,oZ(N,H)):B2=h(N,H);Z:do try{if(O1!==0&&E0!==null){H=E0;var M=S8;J:switch(O1){case 1:O1=0,S8=null,tZ(N,H,M,1);break;case 2:if(RW(M)){O1=0,S8=null,YF(H);break}H=function(){O1===2&&V1===N&&(O1=7),c1(N)},M.then(H,H);break Z;case 3:O1=7;break Z;case 4:O1=5;break Z;case 7:RW(M)?(O1=0,S8=null,YF(H)):(O1=0,S8=null,tZ(N,H,M,7));break;case 5:var E=null;switch(E0.tag){case 26:E=E0.memoizedState;case 5:case 27:var S=E0,P=S.type,d=S.pendingProps;if(E?sF(E):bF(P,d)){O1=0,S8=null;var t=S.sibling;if(t!==null)E0=t;else{var Q0=S.return;Q0!==null?(E0=Q0,SX(Q0)):E0=null}break J}}O1=0,S8=null,tZ(N,H,M,5);break;case 6:O1=0,S8=null,tZ(N,H,M,6);break;case 8:tO(),I1=6;break Z;default:throw Error(q(462))}}Hm();break}catch(X0){KF(N,X0)}while(1);if(L4=d9=null,B0.H=$,B0.A=D,N1=V,E0!==null)return 0;return V1=null,h0=0,G8(),I1}function Hm(){for(;E0!==null&&!yd();)HF(E0)}function HF(N){var H=TG(N.alternate,N,I4);N.memoizedProps=N.pendingProps,H===null?SX(N):E0=H}function YF(N){var H=N,V=H.alternate;switch(H.tag){case 15:case 0:H=wG(V,H,H.pendingProps,H.type,void 0,h0);break;case 11:H=wG(V,H,H.pendingProps,H.type.render,H.ref,h0);break;case 5:UO(H);default:yG(V,H),H=E0=DF(H,I4),H=TG(V,H,I4)}N.memoizedProps=N.pendingProps,H===null?SX(N):E0=H}function tZ(N,H,V,$){L4=d9=null,UO(H),O2=null,PQ=0;var D=H.return;try{if(eg(N,D,H,V,h0)){I1=1,wX(N,K1(V,N.current)),E0=null;return}}catch(M){if(D!==null)throw E0=D,M;I1=1,wX(N,K1(V,N.current)),E0=null;return}if(H.flags&32768){if(d0||$===1)N=!0;else if(B2||(h0&536870912)!==0)N=!1;else if(E4=N=!0,$===2||$===3||$===6)$=s8.current,$!==null&&$.tag===13&&($.flags|=16384);VF(H,N)}else SX(H)}function SX(N){var H=N;do{if((H.flags&32768)!==0){VF(H,E4);return}N=H.return;var V=Jm(H.alternate,H,I4);if(V!==null){E0=V;return}if(H=H.sibling,H!==null){E0=H;return}E0=H=N}while(H!==null);I1===0&&(I1=5)}function VF(N,H){do{var V=Qm(N.alternate,N);if(V!==null){V.flags&=32767,E0=V;return}if(V=N.return,V!==null&&(V.flags|=32768,V.subtreeFlags=0,V.deletions=null),!H&&(N=N.sibling,N!==null)){E0=N;return}E0=N=V}while(N!==null);I1=6,E0=null}function OF(N,H,V,$,D,M,E,S,P,d){var t=B0.T,Q0=v9();try{Q8(2),B0.T=null,Ym(N,H,V,$,Q0,D,M,E,S,P,d)}finally{B0.T=t,Q8(Q0)}}function Ym(N,H,V,$,D,M,E,S){do k9();while(l9!==null);if((N1&6)!==0)throw Error(q(327));var P=N.finishedWork;if($=N.finishedLanes,P===null)return null;if(N.finishedWork=null,N.finishedLanes=0,P===N.current)throw Error(q(177));N.callbackNode=null,N.callbackPriority=0,N.cancelPendingCommit=null;var d=P.lanes|P.childLanes;if(d|=jU,o(N,$,d,M,E,S),N===V1&&(E0=V1=null,h0=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||ZN||(ZN=!0,yU=d,hU=V,$m(GU,function(){return k9(!0),null})),V=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||V?(V=B0.T,B0.T=null,M=v9(),Q8(2),E=N1,N1|=4,qm(N,P),iG(P,N),Lm(N.containerInfo),N.current=P,uG(N,P.alternate,P),hd(),N1=E,Q8(M),B0.T=V):N.current=P,ZN?(ZN=!1,l9=N,xQ=$):UF(N,d),d=N.pendingLanes,d===0&&(I7=null),_0(P.stateNode,D),c1(N),H!==null)for(D=N.onRecoverableError,P=0;P<H.length;P++)d=H[P],D(d.value,{componentStack:d.stack});return(xQ&3)!==0&&k9(),d=N.pendingLanes,($&4194218)!==0&&(d&42)!==0?N===xU?gQ++:(gQ=0,xU=N):gQ=0,D4(0,!1),null}function UF(N,H){(N.pooledCacheLanes&=H)===0&&(H=N.pooledCache,H!=null&&(N.pooledCache=null,FQ(H)))}function k9(){if(l9!==null){var N=l9,H=yU;yU=0;var V=g0(xQ),$=32>V?32:V;V=B0.T;var D=v9();try{if(Q8($),B0.T=null,l9===null)var M=!1;else{$=hU,hU=null;var E=l9,S=xQ;if(l9=null,xQ=0,(N1&6)!==0)throw Error(q(331));var P=N1;if(N1|=4,tG(E.current),sG(E,E.current,S,$),N1=P,D4(0,!1),E8&&typeof E8.onPostCommitFiberRoot==="function")try{E8.onPostCommitFiberRoot(TQ,E)}catch(d){}M=!0}return M}finally{Q8(D),B0.T=V,UF(N,H)}}return!1}function $F(N,H,V){H=K1(V,H),H=CO(N.stateNode,H,2),N=U7(N,H,2),N!==null&&(c(N,2),c1(N))}function r0(N,H,V){if(N.tag===3)$F(N,N,V);else for(;H!==null;){if(H.tag===3){$F(H,N,V);break}else if(H.tag===1){var $=H.stateNode;if(typeof H.type.getDerivedStateFromError==="function"||typeof $.componentDidCatch==="function"&&(I7===null||!I7.has($))){N=K1(V,N),V=BG(2),$=U7(H,V,2),$!==null&&(_G(V,$,H,N),c($,2),c1($));break}}H=H.return}}function ZU(N,H,V){var $=N.pingCache;if($===null){$=N.pingCache=new sd;var D=new Set;$.set(H,D)}else D=$.get(H),D===void 0&&(D=new Set,$.set(H,D));D.has(V)||(kU=!0,D.add(V),N=Vm.bind(null,N,H,V),H.then(N,N))}function Vm(N,H,V){var $=N.pingCache;$!==null&&$.delete(H),N.pingedLanes|=N.suspendedLanes&V,N.warmLanes&=~V,V1===N&&(h0&V)===V&&(I1===4||I1===3&&(h0&62914560)===h0&&300>G6()-fU?(N1&2)===0&&oZ(N,0):PU|=V,_2===h0&&(_2=0)),c1(N)}function AF(N,H){H===0&&(H=m()),N=b0(N,H),N!==null&&(c(N,H),c1(N))}function Om(N){var H=N.memoizedState,V=0;H!==null&&(V=H.retryLane),AF(N,V)}function Um(N,H){var V=0;switch(N.tag){case 13:var{stateNode:$,memoizedState:D}=N;D!==null&&(V=D.retryLane);break;case 19:$=N.stateNode;break;case 22:$=N.stateNode._retryCache;break;default:throw Error(q(314))}$!==null&&$.delete(H),AF(N,V)}function $m(N,H){return hX(N,H)}function Am(N,H,V,$){this.tag=N,this.key=V,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=H,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function JU(N){return N=N.prototype,!(!N||!N.isReactComponent)}function W7(N,H){var V=N.alternate;return V===null?(V=J(N.tag,H,N.key,N.mode),V.elementType=N.elementType,V.type=N.type,V.stateNode=N.stateNode,V.alternate=N,N.alternate=V):(V.pendingProps=H,V.type=N.type,V.flags=0,V.subtreeFlags=0,V.deletions=null),V.flags=N.flags&31457280,V.childLanes=N.childLanes,V.lanes=N.lanes,V.child=N.child,V.memoizedProps=N.memoizedProps,V.memoizedState=N.memoizedState,V.updateQueue=N.updateQueue,H=N.dependencies,V.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext},V.sibling=N.sibling,V.index=N.index,V.ref=N.ref,V.refCleanup=N.refCleanup,V}function DF(N,H){N.flags&=31457282;var V=N.alternate;return V===null?(N.childLanes=0,N.lanes=H,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=V.childLanes,N.lanes=V.lanes,N.child=V.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=V.memoizedProps,N.memoizedState=V.memoizedState,N.updateQueue=V.updateQueue,N.type=V.type,H=V.dependencies,N.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),N}function bX(N,H,V,$,D,M){var E=0;if($=N,typeof N==="function")JU(N)&&(E=1);else if(typeof N==="string")E=l8&&b5?cF(N,V,M5.current)?26:oF(N)?27:5:l8?cF(N,V,M5.current)?26:5:b5?oF(N)?27:5:5;else Z:switch(N){case eZ:return P9(V.children,D,M,H);case jF:E=8,D|=24;break;case NU:return N=J(12,V,H,D|2),N.elementType=NU,N.lanes=M,N;case HU:return N=J(13,V,H,D),N.elementType=HU,N.lanes=M,N;case YU:return N=J(19,V,H,D),N.elementType=YU,N.lanes=M,N;case CF:return BF(V,D,M,H);default:if(typeof N==="object"&&N!==null)switch(N.$$typeof){case _m:case G7:E=10;break Z;case wF:E=9;break Z;case zU:E=11;break Z;case VU:E=14;break Z;case F7:E=16,$=null;break Z}E=29,V=Error(q(130,N===null?"null":typeof N,"")),$=null}return H=J(E,V,H,D),H.elementType=N,H.type=$,H.lanes=M,H}function P9(N,H,V,$){return N=J(7,N,$,H),N.lanes=V,N}function BF(N,H,V,$){N=J(22,N,$,H),N.elementType=CF,N.lanes=V;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=D._current;if(M===null)throw Error(q(456));if((D._pendingVisibility&2)===0){var E=b0(M,2);E!==null&&(D._pendingVisibility|=2,x5(E,M,2))}},attach:function(){var M=D._current;if(M===null)throw Error(q(456));if((D._pendingVisibility&2)!==0){var E=b0(M,2);E!==null&&(D._pendingVisibility&=-3,x5(E,M,2))}}};return N.stateNode=D,N}function QU(N,H,V){return N=J(6,N,null,H),N.lanes=V,N}function qU(N,H,V){return H=J(4,N.children!==null?N.children:[],N.key,H),H.lanes=V,H.stateNode={containerInfo:N.containerInfo,pendingChildren:null,implementation:N.implementation},H}function Dm(N,H,V,$,D,M,E,S){this.tag=1,this.containerInfo=N,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=AU,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u(0),this.hiddenUpdates=u(null),this.identifierPrefix=$,this.onUncaughtError=D,this.onCaughtError=M,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _F(N,H,V,$,D,M,E,S,P,d,t,Q0){return N=new Dm(N,H,V,E,S,P,d,Q0),H=1,M===!0&&(H|=24),M=J(3,null,null,H),N.current=M,M.stateNode=N,H=fO(),H.refCount++,N.pooledCache=H,H.refCount++,M.memoizedState={element:$,isDehydrated:V,cache:H},qO(M),N}function MF(N){if(!N)return Q2;return N=Q2,N}function WF(N){var H=N._reactInternals;if(H===void 0){if(typeof N.render==="function")throw Error(q(188));throw N=Object.keys(N).join(","),Error(q(268,N))}return N=_(H),N=N!==null?W(N):null,N===null?null:RQ(N.stateNode)}function GF(N,H,V,$,D,M){D=MF(D),$.context===null?$.context=D:$.pendingContext=D,$=O7(H),$.payload={element:V},M=M===void 0?null:M,M!==null&&($.callback=M),V=U7(N,$,H),V!==null&&(x5(V,N,H),$Q(V,N,H))}function FF(N,H){if(N=N.memoizedState,N!==null&&N.dehydrated!==null){var V=N.retryLane;N.retryLane=V!==0&&V<H?V:H}}function KU(N,H){FF(N,H),(N=N.alternate)&&FF(N,H)}var R0={},XU=Object.assign,Bm=Symbol.for("react.element"),kX=Symbol.for("react.transitional.element"),rZ=Symbol.for("react.portal"),eZ=Symbol.for("react.fragment"),jF=Symbol.for("react.strict_mode"),NU=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),wF=Symbol.for("react.consumer"),G7=Symbol.for("react.context"),zU=Symbol.for("react.forward_ref"),HU=Symbol.for("react.suspense"),YU=Symbol.for("react.suspense_list"),VU=Symbol.for("react.memo"),F7=Symbol.for("react.lazy"),CF=Symbol.for("react.offscreen"),Mm=Symbol.for("react.memo_cache_sentinel"),LF=Symbol.iterator,Wm=Symbol.for("react.client.reference"),B0=i9,OU,RF,UU=!1,PX=Array.isArray,Gm=Z.rendererVersion,Fm=Z.rendererPackageName,EF=Z.extraDevToolsConfig,RQ=Z.getPublicInstance,jm=Z.getRootHostContext,wm=Z.getChildHostContext,Cm=Z.prepareForCommit,Lm=Z.resetAfterCommit,Rm=Z.createInstance,$U=Z.appendInitialChild,IF=Z.finalizeInitialChildren,vX=Z.shouldSetTextContent,TF=Z.createTextInstance,Em=Z.scheduleTimeout,Im=Z.cancelTimeout,AU=Z.noTimeout,j4=Z.isPrimaryRenderer;Z.warnsIfNotActing;var{supportsMutation:S5,supportsPersistence:j7,supportsHydration:u8,getInstanceFromNode:SF}=Z;Z.beforeActiveInstanceBlur,Z.afterActiveInstanceBlur;var Tm=Z.preparePortalMount;Z.prepareScopeUpdate,Z.getInstanceFromScope;var{setCurrentUpdatePriority:Q8,getCurrentUpdatePriority:v9,resolveUpdatePriority:Sm}=Z;Z.resolveEventType,Z.resolveEventTimeStamp;var{shouldAttemptEagerTransition:bm,detachDeletedInstance:km}=Z;Z.requestPostPaintCallback;var{maySuspendCommit:Pm,preloadInstance:bF,startSuspendingCommit:vm,suspendInstance:kF,waitForCommitToBeReady:fm,NotPendingTransition:Z2,HostTransitionContext:f9,resetFormInstance:ym}=Z;Z.bindToConsole;var{supportsMicrotasks:hm,scheduleMicrotask:xm,supportsTestSelectors:EQ,findFiberRoot:gm,getBoundingRect:mm,getTextContent:dm,isHiddenSubtree:IQ,matchAccessibilityRole:cm,setFocusIfFocusable:um,setupIntersectionObserver:lm,appendChild:pm,appendChildToContainer:im,commitTextUpdate:am,commitMount:sm,commitUpdate:nm,insertBefore:om,insertInContainerBefore:tm,removeChild:rm,removeChildFromContainer:em,resetTextContent:PF,hideInstance:Zd,hideTextInstance:Jd,unhideInstance:Qd,unhideTextInstance:qd,clearContainer:Kd,cloneInstance:Xd,createContainerChildSet:vF,appendChildToContainerChildSet:fF,finalizeContainerChildren:Nd,replaceContainerChildren:yF,cloneHiddenInstance:hF,cloneHiddenTextInstance:xF,isSuspenseInstancePending:DU,isSuspenseInstanceFallback:BU,getSuspenseInstanceFallbackErrorDetails:zd,registerSuspenseInstanceRetry:Hd,canHydrateFormStateMarker:Yd,isFormStateMarkerMatching:Vd,getNextHydratableSibling:gF,getFirstHydratableChild:mF,getFirstHydratableChildWithinContainer:Od,getFirstHydratableChildWithinSuspenseInstance:Ud,canHydrateInstance:$d,canHydrateTextInstance:Ad,canHydrateSuspenseInstance:Dd,hydrateInstance:Bd,hydrateTextInstance:_d,hydrateSuspenseInstance:Md,getNextHydratableInstanceAfterSuspenseInstance:Wd,commitHydratedContainer:Gd,commitHydratedSuspenseInstance:Fd,clearSuspenseBoundary:jd,clearSuspenseBoundaryFromContainer:wd,shouldDeleteUnhydratedTailInstances:dF}=Z;Z.diffHydratedPropsForDevWarnings,Z.diffHydratedTextForDevWarnings,Z.describeHydratableInstanceForDevWarnings;var{validateHydratableInstance:Cd,validateHydratableTextInstance:Ld,supportsResources:l8,isHostHoistableType:cF,getHoistableRoot:_U,getResource:uF,acquireResource:lF,releaseResource:pF,hydrateHoistable:Rd,mountHoistable:iF,unmountHoistable:aF,createHoistableInstance:Ed,prepareToCommitHoistables:Id,mayResourceSuspendCommit:Td,preloadResource:sF,suspendResource:Sd,supportsSingletons:b5,resolveSingletonInstance:nF,clearSingleton:bd,acquireSingletonInstance:kd,releaseSingletonInstance:Pd,isHostSingletonType:oF}=Z,MU=[],J2=-1,Q2={},R8=Math.clz32?Math.clz32:w,vd=Math.log,fd=Math.LN2,fX=128,yX=4194304,hX=oV,WU=$W,yd=DW,hd=AW,G6=$4,tF=OW,xd=UW,GU=nV,gd=VW,md=void 0,dd=void 0,TQ=null,E8=null,I8=typeof Object.is==="function"?Object.is:N0,rF=new WeakMap,q2=[],K2=0,xX=null,gX=0,p8=[],i8=0,y9=null,w4=1,C4="",M5=C(null),SQ=C(null),w7=C(null),mX=C(null),g5=null,k5=null,d0=!1,F6=null,d6=!1,FU=Error(q(519)),a8=[],X2=0,jU=0,dX=null,N2=null,wU=!1,cX=!1,CU=!1,z2=0,bQ=null,LU=0,H2=0,Y2=null,C7=!1,RU=!1,cd=Object.prototype.hasOwnProperty,kQ=Error(q(460)),EU=Error(q(474)),uX={then:function(){}},V2=null,O2=null,PQ=0,h9=SW(!0),eF=SW(!1),U2=C(null),lX=C(0),s8=C(null),c6=null,e1=C(0),L7=0,L0=null,X1=null,l1=null,pX=!1,$2=!1,x9=!1,iX=0,vQ=0,A2=null,ud=0,IU=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},u6={readContext:T5,use:MX,useCallback:P1,useContext:P1,useEffect:P1,useImperativeHandle:P1,useLayoutEffect:P1,useInsertionEffect:P1,useMemo:P1,useReducer:P1,useRef:P1,useState:P1,useDebugValue:P1,useDeferredValue:P1,useTransition:P1,useSyncExternalStore:P1,useId:P1};u6.useCacheRefresh=P1,u6.useMemoCache=P1,u6.useHostTransitionStatus=P1,u6.useFormState=P1,u6.useActionState=P1,u6.useOptimistic=P1;var g9={readContext:T5,use:MX,useCallback:function(N,H){return Z8().memoizedState=[N,H===void 0?null:H],N},useContext:T5,useEffect:rW,useImperativeHandle:function(N,H,V){V=V!==null&&V!==void 0?V.concat([N]):null,GX(4194308,4,JG.bind(null,H,N),V)},useLayoutEffect:function(N,H){return GX(4194308,4,N,H)},useInsertionEffect:function(N,H){GX(4,2,N,H)},useMemo:function(N,H){var V=Z8();H=H===void 0?null:H;var $=N();if(x9){s(!0);try{N()}finally{s(!1)}}return V.memoizedState=[$,H],$},useReducer:function(N,H,V){var $=Z8();if(V!==void 0){var D=V(H);if(x9){s(!0);try{V(H)}finally{s(!1)}}}else D=H;return $.memoizedState=$.baseState=D,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N,lastRenderedState:D},$.queue=N,N=N.dispatch=rg.bind(null,L0,N),[$.memoizedState,N]},useRef:function(N){var H=Z8();return N={current:N},H.memoizedState=N},useState:function(N){N=BO(N);var H=N.queue,V=VG.bind(null,L0,H);return H.dispatch=V,[N.memoizedState,V]},useDebugValue:WO,useDeferredValue:function(N,H){var V=Z8();return GO(V,N,H)},useTransition:function(){var N=BO(!1);return N=NG.bind(null,L0,N.queue,!0,!1),Z8().memoizedState=N,[!1,N]},useSyncExternalStore:function(N,H,V){var $=L0,D=Z8();if(d0){if(V===void 0)throw Error(q(407));V=V()}else{if(V=H(),V1===null)throw Error(q(349));(h0&60)!==0||yW($,H,V)}D.memoizedState=V;var M={value:V,getSnapshot:H};return D.queue=M,rW(xW.bind(null,$,M,N),[N]),$.flags|=2048,aZ(9,hW.bind(null,$,M,V,H),{destroy:void 0},null),V},useId:function(){var N=Z8(),H=V1.identifierPrefix;if(d0){var V=C4,$=w4;V=($&~(1<<32-R8($)-1)).toString(32)+V,H=":"+H+"R"+V,V=iX++,0<V&&(H+="H"+V.toString(32)),H+=":"}else V=ud++,H=":"+H+"r"+V.toString(32)+":";return N.memoizedState=H},useCacheRefresh:function(){return Z8().memoizedState=tg.bind(null,L0)}};g9.useMemoCache=$O,g9.useHostTransitionStatus=FO,g9.useFormState=aW,g9.useActionState=aW,g9.useOptimistic=function(N){var H=Z8();H.memoizedState=H.baseState=N;var V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return H.queue=V,H=jO.bind(null,L0,!0,V),V.dispatch=H,[N,H]};var R7={readContext:T5,use:MX,useCallback:qG,useContext:T5,useEffect:MO,useImperativeHandle:QG,useInsertionEffect:eW,useLayoutEffect:ZG,useMemo:KG,useReducer:WX,useRef:tW,useState:function(){return WX(_4)},useDebugValue:WO,useDeferredValue:function(N,H){var V=u1();return XG(V,X1.memoizedState,N,H)},useTransition:function(){var N=WX(_4)[0],H=u1().memoizedState;return[typeof N==="boolean"?N:_Q(N),H]},useSyncExternalStore:fW,useId:HG};R7.useCacheRefresh=YG,R7.useMemoCache=$O,R7.useHostTransitionStatus=FO,R7.useFormState=sW,R7.useActionState=sW,R7.useOptimistic=function(N,H){var V=u1();return dW(V,X1,N,H)};var m9={readContext:T5,use:MX,useCallback:qG,useContext:T5,useEffect:MO,useImperativeHandle:QG,useInsertionEffect:eW,useLayoutEffect:ZG,useMemo:KG,useReducer:DO,useRef:tW,useState:function(){return DO(_4)},useDebugValue:WO,useDeferredValue:function(N,H){var V=u1();return X1===null?GO(V,N,H):XG(V,X1.memoizedState,N,H)},useTransition:function(){var N=DO(_4)[0],H=u1().memoizedState;return[typeof N==="boolean"?N:_Q(N),H]},useSyncExternalStore:fW,useId:HG};m9.useCacheRefresh=YG,m9.useMemoCache=$O,m9.useHostTransitionStatus=FO,m9.useFormState=oW,m9.useActionState=oW,m9.useOptimistic=function(N,H){var V=u1();if(X1!==null)return dW(V,X1,N,H);return V.baseState=N,[N,V.queue.dispatch]};var TU={isMounted:function(N){return(N=N._reactInternals)?A(N)===N:!1},enqueueSetState:function(N,H,V){N=N._reactInternals;var $=L8(),D=O7($);D.payload=H,V!==void 0&&V!==null&&(D.callback=V),H=U7(N,D,$),H!==null&&(x5(H,N,$),$Q(H,N,$))},enqueueReplaceState:function(N,H,V){N=N._reactInternals;var $=L8(),D=O7($);D.tag=1,D.payload=H,V!==void 0&&V!==null&&(D.callback=V),H=U7(N,D,$),H!==null&&(x5(H,N,$),$Q(H,N,$))},enqueueForceUpdate:function(N,H){N=N._reactInternals;var V=L8(),$=O7(V);$.tag=2,H!==void 0&&H!==null&&($.callback=H),H=U7(N,$,V),H!==null&&(x5(H,N,V),$Q(H,N,V))}},Zj=typeof reportError==="function"?reportError:function(N){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N==="object"&&N!==null&&typeof N.message==="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",N);return}console.error(N)},Jj=Error(q(461)),K5=!1,SU={dehydrated:null,treeContext:null,retryLane:0},aX=C(null),d9=null,L4=null,ld=typeof AbortController<"u"?AbortController:function(){var N=[],H=this.signal={aborted:!1,addEventListener:function(V,$){N.push($)}};this.abort=function(){H.aborted=!0,N.forEach(function(V){return V()})}},pd=oV,id=nV,R1={$$typeof:G7,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Qj=B0.S;B0.S=function(N,H){typeof H==="object"&&H!==null&&typeof H.then==="function"&&ig(N,H),Qj!==null&&Qj(N,H)};var c9=C(null),R4=!1,E1=!1,bU=!1,qj=typeof WeakSet==="function"?WeakSet:Set,X5=null,Kj=!1,p1=null,T8=!1,j6=null,D2=8192,ad={getCacheForType:function(N){var H=T5(R1),V=H.data.get(N);return V===void 0&&(V=N(),H.data.set(N,V)),V}},sX=0,nX=1,oX=2,tX=3,rX=4;if(typeof Symbol==="function"&&Symbol.for){var fQ=Symbol.for;sX=fQ("selector.component"),nX=fQ("selector.has_pseudo_class"),oX=fQ("selector.role"),tX=fQ("selector.test_id"),rX=fQ("selector.text")}var sd=typeof WeakMap==="function"?WeakMap:Map,N1=0,V1=null,E0=null,h0=0,O1=0,S8=null,E4=!1,B2=!1,kU=!1,I4=0,I1=0,E7=0,u9=0,PU=0,n8=0,_2=0,yQ=null,l6=null,vU=!1,fU=0,hQ=1/0,eX=null,I7=null,ZN=!1,l9=null,xQ=0,yU=0,hU=null,gQ=0,xU=null;return R0.attemptContinuousHydration=function(N){if(N.tag===13){var H=b0(N,67108864);H!==null&&x5(H,N,67108864),KU(N,67108864)}},R0.attemptHydrationAtCurrentPriority=function(N){if(N.tag===13){var H=L8(),V=b0(N,H);V!==null&&x5(V,N,H),KU(N,H)}},R0.attemptSynchronousHydration=function(N){switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var H=R(N.pendingLanes);if(H!==0){N.pendingLanes|=2;for(N.entangledLanes|=2;H;){var V=1<<31-R8(H);N.entanglements[1]|=V,H&=~V}c1(N),(N1&6)===0&&(hQ=G6()+500,D4(0,!1))}}break;case 13:H=b0(N,2),H!==null&&x5(H,N,2),qF(),KU(N,2)}},R0.batchedUpdates=function(N,H){return N(H)},R0.createComponentSelector=function(N){return{$$typeof:sX,value:N}},R0.createContainer=function(N,H,V,$,D,M,E,S,P,d){return _F(N,H,!1,null,V,$,M,E,S,P,d,null)},R0.createHasPseudoClassSelector=function(N){return{$$typeof:nX,value:N}},R0.createHydrationContainer=function(N,H,V,$,D,M,E,S,P,d,t,Q0,X0){return N=_F(V,$,!0,N,D,M,S,P,d,t,Q0,X0),N.context=MF(null),V=N.current,$=L8(),D=O7($),D.callback=H!==void 0&&H!==null?H:null,U7(V,D,$),N.current.lanes=$,c(N,$),c1(N),N},R0.createPortal=function(N,H,V){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rZ,key:$==null?null:""+$,children:N,containerInfo:H,implementation:V}},R0.createRoleSelector=function(N){return{$$typeof:oX,value:N}},R0.createTestNameSelector=function(N){return{$$typeof:tX,value:N}},R0.createTextSelector=function(N){return{$$typeof:rX,value:N}},R0.defaultOnCaughtError=function(N){console.error(N)},R0.defaultOnRecoverableError=function(N){Zj(N)},R0.defaultOnUncaughtError=function(N){Zj(N)},R0.deferredUpdates=function(N){var H=B0.T,V=v9();try{return Q8(32),B0.T=null,N()}finally{Q8(V),B0.T=H}},R0.discreteUpdates=function(N,H,V,$,D){var M=B0.T,E=v9();try{return Q8(2),B0.T=null,N(H,V,$,D)}finally{Q8(E),B0.T=M,N1===0&&(hQ=G6()+500)}},R0.findAllNodes=nO,R0.findBoundingRects=function(N,H){if(!EQ)throw Error(q(363));H=nO(N,H),N=[];for(var V=0;V<H.length;V++)N.push(mm(H[V]));for(H=N.length-1;0<H;H--){V=N[H];for(var $=V.x,D=$+V.width,M=V.y,E=M+V.height,S=H-1;0<=S;S--)if(H!==S){var P=N[S],d=P.x,t=d+P.width,Q0=P.y,X0=Q0+P.height;if($>=d&&M>=Q0&&D<=t&&E<=X0){N.splice(H,1);break}else if(!($!==d||V.width!==P.width||X0<M||Q0>E)){Q0>M&&(P.height+=Q0-M,P.y=M),X0<E&&(P.height=E-Q0),N.splice(H,1);break}else if(!(M!==Q0||V.height!==P.height||t<$||d>D)){d>$&&(P.width+=d-$,P.x=$),t<D&&(P.width=D-d),N.splice(H,1);break}}}return N},R0.findHostInstance=WF,R0.findHostInstanceWithNoPortals=function(N){return N=_(N),N=N!==null?F(N):null,N===null?null:RQ(N.stateNode)},R0.findHostInstanceWithWarning=function(N){return WF(N)},R0.flushPassiveEffects=k9,R0.flushSyncFromReconciler=function(N){var H=N1;N1|=1;var V=B0.T,$=v9();try{if(Q8(2),B0.T=null,N)return N()}finally{Q8($),B0.T=V,N1=H,(N1&6)===0&&D4(0,!1)}},R0.flushSyncWork=qF,R0.focusWithin=function(N,H){if(!EQ)throw Error(q(363));N=iO(N),H=eG(N,H),H=Array.from(H);for(N=0;N<H.length;){var V=H[N++],$=V.tag;if(!IQ(V)){if(($===5||$===26||$===27)&&um(V.stateNode))return!0;for(V=V.child;V!==null;)H.push(V),V=V.sibling}}return!1},R0.getFindAllNodesFailureDescription=function(N,H){if(!EQ)throw Error(q(363));var V=0,$=[];N=[iO(N),0];for(var D=0;D<N.length;){var M=N[D++],E=M.tag,S=N[D++],P=H[S];if(E!==5&&E!==26&&E!==27||!IQ(M)){if(aO(M,P)&&($.push(sO(P)),S++,S>V&&(V=S)),S<H.length)for(M=M.child;M!==null;)N.push(M,S),M=M.sibling}}if(V<H.length){for(N=[];V<H.length;V++)N.push(sO(H[V]));return`findAllNodes was able to match part of the selector:
  `+($.join(" > ")+`

No matching component was found for:
  `)+N.join(" > ")}return null},R0.getPublicRootInstance=function(N){if(N=N.current,!N.child)return null;switch(N.child.tag){case 27:case 5:return RQ(N.child.stateNode);default:return N.child.stateNode}},R0.injectIntoDevTools=function(){var N={bundleType:0,version:Gm,rendererPackageName:Fm,currentDispatcherRef:B0,findFiberByHostInstance:SF,reconcilerVersion:"19.0.0"};if(EF!==null&&(N.rendererConfig=EF),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")N=!1;else{var H=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(H.isDisabled||!H.supportsFiber)N=!0;else{try{TQ=H.inject(N),E8=H}catch(V){}N=H.checkDCE?!0:!1}}return N},R0.isAlreadyRendering=function(){return!1},R0.observeVisibleRects=function(N,H,V,$){if(!EQ)throw Error(q(363));N=nO(N,H);var D=lm(N,V,$).disconnect;return{disconnect:function(){D()}}},R0.shouldError=function(){return null},R0.shouldSuspend=function(){return!1},R0.startHostTransition=function(N,H,V,$){if(N.tag!==5)throw Error(q(476));var D=zG(N).queue;NG(N,D,H,Z2,V===null?Q:function(){var M=zG(N).next.queue;return MQ(N,M,{},L8()),V($)})},R0.updateContainer=function(N,H,V,$){var D=H.current,M=L8();return GF(D,M,N,H,V,$),M},R0.updateContainerSync=function(N,H,V,$){return H.tag===0&&k9(),GF(H.current,2,N,H,V,$),2},R0};UX.exports.default=UX.exports;Object.defineProperty(UX.exports,"__esModule",{value:!0})});var lg=dQ(oR(),1);m5();var uz=typeof self<"u"?self:global,eq=typeof navigator<"u",xl=eq&&typeof HTMLImageElement>"u",xz=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),lz=uz.Buffer,Pz=uz.BigInt,pz=!!lz,gl=(Z)=>Z;function gz(Z,J=gl){if(xz)try{return Promise.resolve(J(Xj(Z)))}catch(Q){console.warn(`Couldn't load ${Z}`)}}var n3=uz.fetch,ml=(Z)=>n3=Z;if(!uz.fetch){let Z=gz("http",(q)=>q),J=gz("https",(q)=>q),Q=(q,{headers:K}={})=>new Promise(async(X,z)=>{let{port:Y,hostname:O,pathname:U,protocol:A,search:B}=new URL(q),_={method:"GET",hostname:O,path:encodeURI(U)+B,headers:K};Y!==""&&(_.port=Number(Y));let W=(A==="https:"?await J:await Z).request(_,(F)=>{if(F.statusCode===301||F.statusCode===302){let C=new URL(F.headers.location,q).toString();return Q(C,{headers:K}).then(X).catch(z)}X({status:F.statusCode,arrayBuffer:()=>new Promise((C)=>{let L=[];F.on("data",(G)=>L.push(G)),F.on("end",()=>C(Buffer.concat(L)))})})});W.on("error",z),W.end()});ml(Q)}function U0(Z,J,Q){return J in Z?Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[J]=Q,Z}var mz=(Z)=>VE(Z)?void 0:Z,dl=(Z)=>Z!==void 0;function VE(Z){return Z===void 0||(Z instanceof Map?Z.size===0:Object.values(Z).filter(dl).length===0)}function t1(Z){let J=Error(Z);throw delete J.stack,J}function AZ(Z){return(Z=function(J){for(;J.endsWith("\x00");)J=J.slice(0,-1);return J}(Z).trim())===""?void 0:Z}function g3(Z){let J=function(Q){let q=0;return Q.ifd0.enabled&&(q+=1024),Q.exif.enabled&&(q+=2048),Q.makerNote&&(q+=2048),Q.userComment&&(q+=1024),Q.gps.enabled&&(q+=512),Q.interop.enabled&&(q+=100),Q.ifd1.enabled&&(q+=1024),q+2048}(Z);return Z.jfif.enabled&&(J+=50),Z.xmp.enabled&&(J+=20000),Z.iptc.enabled&&(J+=14000),Z.icc.enabled&&(J+=6000),J}var m3=(Z)=>String.fromCharCode.apply(null,Z),tR=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function OE(Z){return tR?tR.decode(Z):pz?Buffer.from(Z).toString("utf8"):decodeURIComponent(escape(m3(Z)))}class V8{static from(Z,J){return Z instanceof this&&Z.le===J?Z:new V8(Z,void 0,void 0,J)}constructor(Z,J=0,Q,q){if(typeof q=="boolean"&&(this.le=q),Array.isArray(Z)&&(Z=new Uint8Array(Z)),Z===0)this.byteOffset=0,this.byteLength=0;else if(Z instanceof ArrayBuffer){Q===void 0&&(Q=Z.byteLength-J);let K=new DataView(Z,J,Q);this._swapDataView(K)}else if(Z instanceof Uint8Array||Z instanceof DataView||Z instanceof V8){Q===void 0&&(Q=Z.byteLength-J),(J+=Z.byteOffset)+Q>Z.byteOffset+Z.byteLength&&t1("Creating view outside of available memory in ArrayBuffer");let K=new DataView(Z.buffer,J,Q);this._swapDataView(K)}else if(typeof Z=="number"){let K=new DataView(new ArrayBuffer(Z));this._swapDataView(K)}else t1("Invalid input argument for BufferView: "+Z)}_swapArrayBuffer(Z){this._swapDataView(new DataView(Z))}_swapBuffer(Z){this._swapDataView(new DataView(Z.buffer,Z.byteOffset,Z.byteLength))}_swapDataView(Z){this.dataView=Z,this.buffer=Z.buffer,this.byteOffset=Z.byteOffset,this.byteLength=Z.byteLength}_lengthToEnd(Z){return this.byteLength-Z}set(Z,J,Q=V8){return Z instanceof DataView||Z instanceof V8?Z=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength):Z instanceof ArrayBuffer&&(Z=new Uint8Array(Z)),Z instanceof Uint8Array||t1("BufferView.set(): Invalid data argument."),this.toUint8().set(Z,J),new Q(this,J,Z.byteLength)}subarray(Z,J){return J=J||this._lengthToEnd(Z),new V8(this,Z,J)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(Z,J){return new Uint8Array(this.buffer,this.byteOffset+Z,J)}getString(Z=0,J=this.byteLength){return OE(this.getUint8Array(Z,J))}getLatin1String(Z=0,J=this.byteLength){let Q=this.getUint8Array(Z,J);return m3(Q)}getUnicodeString(Z=0,J=this.byteLength){let Q=[];for(let q=0;q<J&&Z+q<this.byteLength;q+=2)Q.push(this.getUint16(Z+q));return m3(Q)}getInt8(Z){return this.dataView.getInt8(Z)}getUint8(Z){return this.dataView.getUint8(Z)}getInt16(Z,J=this.le){return this.dataView.getInt16(Z,J)}getInt32(Z,J=this.le){return this.dataView.getInt32(Z,J)}getUint16(Z,J=this.le){return this.dataView.getUint16(Z,J)}getUint32(Z,J=this.le){return this.dataView.getUint32(Z,J)}getFloat32(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getFloat64(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getFloat(Z,J=this.le){return this.dataView.getFloat32(Z,J)}getDouble(Z,J=this.le){return this.dataView.getFloat64(Z,J)}getUintBytes(Z,J,Q){switch(J){case 1:return this.getUint8(Z,Q);case 2:return this.getUint16(Z,Q);case 4:return this.getUint32(Z,Q);case 8:return this.getUint64&&this.getUint64(Z,Q)}}getUint(Z,J,Q){switch(J){case 8:return this.getUint8(Z,Q);case 16:return this.getUint16(Z,Q);case 32:return this.getUint32(Z,Q);case 64:return this.getUint64&&this.getUint64(Z,Q)}}toString(Z){return this.dataView.toString(Z,this.constructor.name)}ensureChunk(){}}function d3(Z,J){t1(`${Z} '${J}' was not loaded, try using full build of exifr.`)}class iz extends Map{constructor(Z){super(),this.kind=Z}get(Z,J){return this.has(Z)||d3(this.kind,Z),J&&((Z in J)||function(Q,q){t1(`Unknown ${Q} '${q}'.`)}(this.kind,Z),J[Z].enabled||d3(this.kind,Z)),super.get(Z)}keyList(){return Array.from(this.keys())}}var Z4=new iz("file parser"),o1=new iz("segment parser"),J4=new iz("file reader");function cl(Z,J){return typeof Z=="string"?rR(Z,J):eq&&!xl&&Z instanceof HTMLImageElement?rR(Z.src,J):Z instanceof Uint8Array||Z instanceof ArrayBuffer||Z instanceof DataView?new V8(Z):eq&&Z instanceof Blob?c3(Z,J,"blob",MZ):void t1("Invalid input argument")}function rR(Z,J){return(Q=Z).startsWith("data:")||Q.length>1e4?u3(Z,J,"base64"):xz&&Z.includes("://")?c3(Z,J,"url",_Z):xz?u3(Z,J,"fs"):eq?c3(Z,J,"url",_Z):void t1("Invalid input argument");var Q}async function c3(Z,J,Q,q){return J4.has(Q)?u3(Z,J,Q):q?async function(K,X){let z=await X(K);return new V8(z)}(Z,q):void t1(`Parser ${Q} is not loaded`)}async function u3(Z,J,Q){let q=new(J4.get(Q))(Z,J);return await q.read(),q}var _Z=(Z)=>n3(Z).then((J)=>J.arrayBuffer()),MZ=(Z)=>new Promise((J,Q)=>{let q=new FileReader;q.onloadend=()=>J(q.result||new ArrayBuffer),q.onerror=Q,q.readAsArrayBuffer(Z)});class UE extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function y1(Z,J,Q){let q=new UE;for(let[K,X]of Q)q.set(K,X);if(Array.isArray(J))for(let K of J)Z.set(K,q);else Z.set(J,q);return q}function WZ(Z,J,Q){let q,K=Z.get(J);for(q of Q)K.set(q[0],q[1])}var V5=new Map,E6=new Map,V9=new Map,N9=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],AJ=["jfif","xmp","icc","iptc","ihdr"],GZ=["tiff",...AJ],b1=["ifd0","ifd1","exif","gps","interop"],z9=[...GZ,...b1],H9=["makerNote","userComment"],DJ=["translateKeys","translateValues","reviveValues","multiSegment"],Y9=[...DJ,"sanitize","mergeOutput","silentErrors"];class o3{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class UJ extends o3{get needed(){return this.enabled||this.deps.size>0}constructor(Z,J,Q,q){if(super(),U0(this,"enabled",!1),U0(this,"skip",new Set),U0(this,"pick",new Set),U0(this,"deps",new Set),U0(this,"translateKeys",!1),U0(this,"translateValues",!1),U0(this,"reviveValues",!1),this.key=Z,this.enabled=J,this.parse=this.enabled,this.applyInheritables(q),this.canBeFiltered=b1.includes(Z),this.canBeFiltered&&(this.dict=V5.get(Z)),Q!==void 0)if(Array.isArray(Q))this.parse=this.enabled=!0,this.canBeFiltered&&Q.length>0&&this.translateTagSet(Q,this.pick);else if(typeof Q=="object"){if(this.enabled=!0,this.parse=Q.parse!==!1,this.canBeFiltered){let{pick:K,skip:X}=Q;K&&K.length>0&&this.translateTagSet(K,this.pick),X&&X.length>0&&this.translateTagSet(X,this.skip)}this.applyInheritables(Q)}else Q===!0||Q===!1?this.parse=this.enabled=Q:t1(`Invalid options argument: ${Q}`)}applyInheritables(Z){let J,Q;for(J of DJ)Q=Z[J],Q!==void 0&&(this[J]=Q)}translateTagSet(Z,J){if(this.dict){let Q,q,{tagKeys:K,tagValues:X}=this.dict;for(Q of Z)typeof Q=="string"?(q=X.indexOf(Q),q===-1&&(q=K.indexOf(Number(Q))),q!==-1&&J.add(Number(K[q]))):J.add(Q)}else for(let Q of Z)J.add(Q)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,dz(this.pick,this.deps)):this.enabled&&this.pick.size>0&&dz(this.pick,this.deps)}}var u5={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},eR=new Map;class O9 extends o3{static useCached(Z){let J=eR.get(Z);return J!==void 0||(J=new this(Z),eR.set(Z,J)),J}constructor(Z){super(),Z===!0?this.setupFromTrue():Z===void 0?this.setupFromUndefined():Array.isArray(Z)?this.setupFromArray(Z):typeof Z=="object"?this.setupFromObject(Z):t1(`Invalid options argument ${Z}`),this.firstChunkSize===void 0&&(this.firstChunkSize=eq?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let Z;for(Z of N9)this[Z]=u5[Z];for(Z of Y9)this[Z]=u5[Z];for(Z of H9)this[Z]=u5[Z];for(Z of z9)this[Z]=new UJ(Z,u5[Z],void 0,this)}setupFromTrue(){let Z;for(Z of N9)this[Z]=u5[Z];for(Z of Y9)this[Z]=u5[Z];for(Z of H9)this[Z]=!0;for(Z of z9)this[Z]=new UJ(Z,!0,void 0,this)}setupFromArray(Z){let J;for(J of N9)this[J]=u5[J];for(J of Y9)this[J]=u5[J];for(J of H9)this[J]=u5[J];for(J of z9)this[J]=new UJ(J,!1,void 0,this);this.setupGlobalFilters(Z,void 0,b1)}setupFromObject(Z){let J;for(J of(b1.ifd0=b1.ifd0||b1.image,b1.ifd1=b1.ifd1||b1.thumbnail,Object.assign(this,Z),N9))this[J]=y3(Z[J],u5[J]);for(J of Y9)this[J]=y3(Z[J],u5[J]);for(J of H9)this[J]=y3(Z[J],u5[J]);for(J of GZ)this[J]=new UJ(J,u5[J],Z[J],this);for(J of b1)this[J]=new UJ(J,u5[J],Z[J],this.tiff);this.setupGlobalFilters(Z.pick,Z.skip,b1,z9),Z.tiff===!0?this.batchEnableWithBool(b1,!0):Z.tiff===!1?this.batchEnableWithUserValue(b1,Z):Array.isArray(Z.tiff)?this.setupGlobalFilters(Z.tiff,void 0,b1):typeof Z.tiff=="object"&&this.setupGlobalFilters(Z.tiff.pick,Z.tiff.skip,b1)}batchEnableWithBool(Z,J){for(let Q of Z)this[Q].enabled=J}batchEnableWithUserValue(Z,J){for(let Q of Z){let q=J[Q];this[Q].enabled=q!==!1&&q!==void 0}}setupGlobalFilters(Z,J,Q,q=Q){if(Z&&Z.length){for(let X of q)this[X].enabled=!1;let K=ZE(Z,Q);for(let[X,z]of K)dz(this[X].pick,z),this[X].enabled=!0}else if(J&&J.length){let K=ZE(J,Q);for(let[X,z]of K)dz(this[X].skip,z)}}filterNestedSegmentTags(){let{ifd0:Z,exif:J,xmp:Q,iptc:q,icc:K}=this;this.makerNote?J.deps.add(37500):J.skip.add(37500),this.userComment?J.deps.add(37510):J.skip.add(37510),Q.enabled||Z.skip.add(700),q.enabled||Z.skip.add(33723),K.enabled||Z.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:Z,exif:J,gps:Q,interop:q}=this;q.needed&&(J.deps.add(40965),Z.deps.add(40965)),J.needed&&Z.deps.add(34665),Q.needed&&Z.deps.add(34853),this.tiff.enabled=b1.some((K)=>this[K].enabled===!0)||this.makerNote||this.userComment;for(let K of b1)this[K].finalizeFilters()}get onlyTiff(){return!AJ.map((Z)=>this[Z].enabled).some((Z)=>Z===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let Z of GZ)this[Z].enabled&&!o1.has(Z)&&d3("segment parser",Z)}}function ZE(Z,J){let Q,q,K,X,z=[];for(K of J){for(X of(Q=V5.get(K),q=[],Q))(Z.includes(X[0])||Z.includes(X[1]))&&q.push(X[0]);q.length&&z.push([K,q])}return z}function y3(Z,J){return Z!==void 0?Z:J!==void 0?J:void 0}function dz(Z,J){for(let Q of J)Z.add(Q)}U0(O9,"default",u5);class o4{constructor(Z){U0(this,"parsers",{}),U0(this,"output",{}),U0(this,"errors",[]),U0(this,"pushToErrors",(J)=>this.errors.push(J)),this.options=O9.useCached(Z)}async read(Z){this.file=await cl(Z,this.options)}setup(){if(this.fileParser)return;let{file:Z}=this,J=Z.getUint16(0);for(let[Q,q]of Z4)if(q.canHandle(Z,J))return this.fileParser=new q(this.options,this.file,this.parsers),Z[Q]=!0;this.file.close&&this.file.close(),t1("Unknown file format")}async parse(){let{output:Z,errors:J}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),J.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&J.length>0&&(Z.errors=J),mz(Z)}async executeParsers(){let{output:Z}=this;await this.fileParser.parse();let J=Object.values(this.parsers).map(async(Q)=>{let q=await Q.parse();Q.assignToOutput(Z,q)});this.options.silentErrors&&(J=J.map((Q)=>Q.catch(this.pushToErrors))),await Promise.all(J)}async extractThumbnail(){this.setup();let{options:Z,file:J}=this,Q=o1.get("tiff",Z);var q;if(J.tiff?q={start:0,type:"tiff"}:J.jpeg&&(q=await this.fileParser.getOrFindSegment("tiff")),q===void 0)return;let K=await this.fileParser.ensureSegmentChunk(q),X=this.parsers.tiff=new Q(K,Z,J),z=await X.extractThumbnail();return J.close&&J.close(),z}}async function BJ(Z,J){let Q=new o4(J);return await Q.read(Z),Q.parse()}var ul=Object.freeze({__proto__:null,parse:BJ,Exifr:o4,fileParsers:Z4,segmentParsers:o1,fileReaders:J4,tagKeys:V5,tagValues:E6,tagRevivers:V9,createDictionary:y1,extendDictionary:WZ,fetchUrlAsArrayBuffer:_Z,readBlobAsArrayBuffer:MZ,chunkedProps:N9,otherSegments:AJ,segments:GZ,tiffBlocks:b1,segmentsAndBlocks:z9,tiffExtractables:H9,inheritables:DJ,allFormatters:Y9,Options:O9});class ZK{constructor(Z,J,Q){U0(this,"errors",[]),U0(this,"ensureSegmentChunk",async(q)=>{let K=q.start,X=q.size||65536;if(this.file.chunked)if(this.file.available(K,X))q.chunk=this.file.subarray(K,X);else try{q.chunk=await this.file.readChunk(K,X)}catch(z){t1(`Couldn't read segment: ${JSON.stringify(q)}. ${z.message}`)}else this.file.byteLength>K+X?q.chunk=this.file.subarray(K,X):q.size===void 0?q.chunk=this.file.subarray(K):t1("Segment unreachable: "+JSON.stringify(q));return q.chunk}),this.extendOptions&&this.extendOptions(Z),this.options=Z,this.file=J,this.parsers=Q}injectSegment(Z,J){this.options[Z].enabled&&this.createParser(Z,J)}createParser(Z,J){let Q=new(o1.get(Z))(J,this.options,this.file);return this.parsers[Z]=Q}createParsers(Z){for(let J of Z){let{type:Q,chunk:q}=J,K=this.options[Q];if(K&&K.enabled){let X=this.parsers[Q];X&&X.append||X||this.createParser(Q,q)}}}async readSegments(Z){let J=Z.map(this.ensureSegmentChunk);await Promise.all(J)}}class Y6{static findPosition(Z,J){let Q=Z.getUint16(J+2)+2,q=typeof this.headerLength=="function"?this.headerLength(Z,J,Q):this.headerLength,K=J+q,X=Q-q;return{offset:J,length:Q,headerLength:q,start:K,size:X,end:K+X}}static parse(Z,J={}){return new this(Z,new O9({[this.type]:J}),Z).parse()}normalizeInput(Z){return Z instanceof V8?Z:new V8(Z)}constructor(Z,J={},Q){U0(this,"errors",[]),U0(this,"raw",new Map),U0(this,"handleError",(q)=>{if(!this.options.silentErrors)throw q;this.errors.push(q.message)}),this.chunk=this.normalizeInput(Z),this.file=Q,this.type=this.constructor.type,this.globalOptions=this.options=J,this.localOptions=J[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(Z,J){let Q=V9.get(J),q=E6.get(J),K=V5.get(J),X=this.options[J],z=X.reviveValues&&!!Q,Y=X.translateValues&&!!q,O=X.translateKeys&&!!K,U={};for(let[A,B]of Z)z&&Q.has(A)?B=Q.get(A)(B):Y&&q.has(A)&&(B=this.translateValue(B,q.get(A))),O&&K.has(A)&&(A=K.get(A)||A),U[A]=B;return U}translateValue(Z,J){return J[Z]||J.DEFAULT||Z}assignToOutput(Z,J){this.assignObjectToOutput(Z,this.constructor.type,J)}assignObjectToOutput(Z,J,Q){if(this.globalOptions.mergeOutput)return Object.assign(Z,Q);Z[J]?Object.assign(Z[J],Q):Z[J]=Q}}U0(Y6,"headerLength",4),U0(Y6,"type",void 0),U0(Y6,"multiSegment",!1),U0(Y6,"canHandle",()=>!1);function ll(Z){return Z===192||Z===194||Z===196||Z===219||Z===221||Z===218||Z===254}function pl(Z){return Z>=224&&Z<=239}function il(Z,J,Q){for(let[q,K]of o1)if(K.canHandle(Z,J,Q))return q}class l3 extends ZK{constructor(...Z){super(...Z),U0(this,"appSegments",[]),U0(this,"jpegSegments",[]),U0(this,"unknownSegments",[])}static canHandle(Z,J){return J===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(Z){Z===!0?(this.findAll=!0,this.wanted=new Set(o1.keyList())):(Z=Z===void 0?o1.keyList().filter((J)=>this.options[J].enabled):Z.filter((J)=>this.options[J].enabled&&o1.has(J)),this.findAll=!1,this.remaining=new Set(Z),this.wanted=new Set(Z)),this.unfinishedMultiSegment=!1}async findAppSegments(Z=0,J){this.setupSegmentFinderArgs(J);let{file:Q,findAll:q,wanted:K,remaining:X}=this;if(!q&&this.file.chunked&&(q=Array.from(K).some((z)=>{let Y=o1.get(z),O=this.options[z];return Y.multiSegment&&O.multiSegment}),q&&await this.file.readWhole()),Z=this.findAppSegmentsInRange(Z,Q.byteLength),!this.options.onlyTiff&&Q.chunked){let z=!1;for(;X.size>0&&!z&&(Q.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:Y}=Q,O=this.appSegments.some((U)=>!this.file.available(U.offset||U.start,U.length||U.size));if(z=Z>Y&&!O?!await Q.readNextChunk(Z):!await Q.readNextChunk(Y),(Z=this.findAppSegmentsInRange(Z,Q.byteLength))===void 0)return}}}findAppSegmentsInRange(Z,J){J-=2;let Q,q,K,X,z,Y,{file:O,findAll:U,wanted:A,remaining:B,options:_}=this;for(;Z<J;Z++)if(O.getUint8(Z)===255){if(Q=O.getUint8(Z+1),pl(Q)){if(q=O.getUint16(Z+2),K=il(O,Z,q),K&&A.has(K)&&(X=o1.get(K),z=X.findPosition(O,Z),Y=_[K],z.type=K,this.appSegments.push(z),!U&&(X.multiSegment&&Y.multiSegment?(this.unfinishedMultiSegment=z.chunkNumber<z.chunkCount,this.unfinishedMultiSegment||B.delete(K)):B.delete(K),B.size===0)))break;_.recordUnknownSegments&&(z=Y6.findPosition(O,Z),z.marker=Q,this.unknownSegments.push(z)),Z+=q+1}else if(ll(Q)){if(q=O.getUint16(Z+2),Q===218&&_.stopAfterSos!==!1)return;_.recordJpegSegments&&this.jpegSegments.push({offset:Z,length:q,marker:Q}),Z+=q+1}}return Z}mergeMultiSegments(){if(!this.appSegments.some((J)=>J.multiSegment))return;let Z=function(J,Q){let q,K,X,z=new Map;for(let Y=0;Y<J.length;Y++)q=J[Y],K=q[Q],z.has(K)?X=z.get(K):z.set(K,X=[]),X.push(q);return Array.from(z)}(this.appSegments,"type");this.mergedAppSegments=Z.map(([J,Q])=>{let q=o1.get(J,this.options);if(q.handleMultiSegments)return{type:J,chunk:q.handleMultiSegments(Q)};return Q[0]})}getSegment(Z){return this.appSegments.find((J)=>J.type===Z)}async getOrFindSegment(Z){let J=this.getSegment(Z);return J===void 0&&(await this.findAppSegments(0,[Z]),J=this.getSegment(Z)),J}}U0(l3,"type","jpeg"),Z4.set("jpeg",l3);var al=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class $E extends Y6{parseHeader(){var Z=this.chunk.getUint16();Z===18761?this.le=!0:Z===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(Z,J,Q=new Map){let{pick:q,skip:K}=this.options[J];q=new Set(q);let X=q.size>0,z=K.size===0,Y=this.chunk.getUint16(Z);Z+=2;for(let O=0;O<Y;O++){let U=this.chunk.getUint16(Z);if(X){if(q.has(U)&&(Q.set(U,this.parseTag(Z,U,J)),q.delete(U),q.size===0))break}else!z&&K.has(U)||Q.set(U,this.parseTag(Z,U,J));Z+=12}return Q}parseTag(Z,J,Q){let{chunk:q}=this,K=q.getUint16(Z+2),X=q.getUint32(Z+4),z=al[K];if(z*X<=4?Z+=8:Z=q.getUint32(Z+8),(K<1||K>13)&&t1(`Invalid TIFF value type. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z}`),Z>q.byteLength&&t1(`Invalid TIFF value offset. block: ${Q.toUpperCase()}, tag: ${J.toString(16)}, type: ${K}, offset ${Z} is outside of chunk size ${q.byteLength}`),K===1)return q.getUint8Array(Z,X);if(K===2)return AZ(q.getString(Z,X));if(K===7)return q.getUint8Array(Z,X);if(X===1)return this.parseTagValue(K,Z);{let Y=new(function(U){switch(U){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(K))(X),O=z;for(let U=0;U<X;U++)Y[U]=this.parseTagValue(K,Z),Z+=O;return Y}}parseTagValue(Z,J){let{chunk:Q}=this;switch(Z){case 1:return Q.getUint8(J);case 3:return Q.getUint16(J);case 4:return Q.getUint32(J);case 5:return Q.getUint32(J)/Q.getUint32(J+4);case 6:return Q.getInt8(J);case 8:return Q.getInt16(J);case 9:return Q.getInt32(J);case 10:return Q.getInt32(J)/Q.getInt32(J+4);case 11:return Q.getFloat(J);case 12:return Q.getDouble(J);case 13:return Q.getUint32(J);default:t1(`Invalid tiff type ${Z}`)}}}class fz extends $E{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1165519206&&Z.getUint16(J+8)===0}async parse(){this.parseHeader();let{options:Z}=this;return Z.ifd0.enabled&&await this.parseIfd0Block(),Z.exif.enabled&&await this.safeParse("parseExifBlock"),Z.gps.enabled&&await this.safeParse("parseGpsBlock"),Z.interop.enabled&&await this.safeParse("parseInteropBlock"),Z.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(Z){let J=this[Z]();return J.catch!==void 0&&(J=J.catch(this.handleError)),J}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let Z=this.chunk.getUint16(this.ifd0Offset),J=this.ifd0Offset+2+12*Z;this.ifd1Offset=this.chunk.getUint32(J)}}parseBlock(Z,J){let Q=new Map;return this[J]=Q,this.parseTags(Z,J,Q),Q}async parseIfd0Block(){if(this.ifd0)return;let{file:Z}=this;this.findIfd0Offset(),this.ifd0Offset<8&&t1("Malformed EXIF data"),!Z.chunked&&this.ifd0Offset>Z.byteLength&&t1(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${Z.byteLength}`),Z.tiff&&await Z.ensureChunk(this.ifd0Offset,g3(this.options));let J=this.parseBlock(this.ifd0Offset,"ifd0");return J.size!==0?(this.exifOffset=J.get(34665),this.interopOffset=J.get(40965),this.gpsOffset=J.get(34853),this.xmp=J.get(700),this.iptc=J.get(33723),this.icc=J.get(34675),this.options.sanitize&&(J.delete(34665),J.delete(40965),J.delete(34853),J.delete(700),J.delete(33723),J.delete(34675)),J):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,g3(this.options));let Z=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=Z.get(40965)),this.makerNote=Z.get(37500),this.userComment=Z.get(37510),this.options.sanitize&&(Z.delete(40965),Z.delete(37500),Z.delete(37510)),this.unpack(Z,41728),this.unpack(Z,41729),Z}unpack(Z,J){let Q=Z.get(J);Q&&Q.length===1&&Z.set(J,Q[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0)return;let Z=this.parseBlock(this.gpsOffset,"gps");return Z&&Z.has(2)&&Z.has(4)&&(Z.set("latitude",JE(...Z.get(2),Z.get(1))),Z.set("longitude",JE(...Z.get(4),Z.get(3)))),Z}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(Z=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||Z))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let Z=this.ifd1.get(513),J=this.ifd1.get(514);return this.chunk.getUint8Array(Z,J)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let Z,J,Q,q={};for(J of b1)if(Z=this[J],!VE(Z))if(Q=this.canTranslate?this.translateBlock(Z,J):Object.fromEntries(Z),this.options.mergeOutput){if(J==="ifd1")continue;Object.assign(q,Q)}else q[J]=Q;return this.makerNote&&(q.makerNote=this.makerNote),this.userComment&&(q.userComment=this.userComment),q}assignToOutput(Z,J){if(this.globalOptions.mergeOutput)Object.assign(Z,J);else for(let[Q,q]of Object.entries(J))this.assignObjectToOutput(Z,Q,q)}}function JE(Z,J,Q,q){var K=Z+J/60+Q/3600;return q!=="S"&&q!=="W"||(K*=-1),K}U0(fz,"type","tiff"),U0(fz,"headerLength",10),o1.set("tiff",fz);var sl=Object.freeze({__proto__:null,default:ul,Exifr:o4,fileParsers:Z4,segmentParsers:o1,fileReaders:J4,tagKeys:V5,tagValues:E6,tagRevivers:V9,createDictionary:y1,extendDictionary:WZ,fetchUrlAsArrayBuffer:_Z,readBlobAsArrayBuffer:MZ,chunkedProps:N9,otherSegments:AJ,segments:GZ,tiffBlocks:b1,segmentsAndBlocks:z9,tiffExtractables:H9,inheritables:DJ,allFormatters:Y9,Options:O9,parse:BJ}),t3={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},r3=Object.assign({},t3,{firstChunkSize:40000,gps:[1,2,3,4]});async function AE(Z){let J=new o4(r3);await J.read(Z);let Q=await J.parse();if(Q&&Q.gps){let{latitude:q,longitude:K}=Q.gps;return{latitude:q,longitude:K}}}var e3=Object.assign({},t3,{tiff:!1,ifd1:!0,mergeOutput:!1});async function DE(Z){let J=new o4(e3);await J.read(Z);let Q=await J.extractThumbnail();return Q&&pz?lz.from(Q):Q}async function BE(Z){let J=await this.thumbnail(Z);if(J!==void 0){let Q=new Blob([J]);return URL.createObjectURL(Q)}}var ZD=Object.assign({},t3,{firstChunkSize:40000,ifd0:[274]});async function JD(Z){let J=new o4(ZD);await J.read(Z);let Q=await J.parse();if(Q&&Q.ifd0)return Q.ifd0[274]}var QD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),DZ=!0,BZ=!0;if(typeof navigator=="object"){let Z=navigator.userAgent;if(Z.includes("iPad")||Z.includes("iPhone")){let J=Z.match(/OS (\d+)_(\d+)/);if(J){let[,Q,q]=J;DZ=Number(Q)+0.1*Number(q)<13.4,BZ=!1}}else if(Z.includes("OS X 10")){let[,J]=Z.match(/OS X 10[_.](\d+)/);DZ=BZ=Number(J)<15}if(Z.includes("Chrome/")){let[,J]=Z.match(/Chrome\/(\d+)/);DZ=BZ=Number(J)<81}else if(Z.includes("Firefox/")){let[,J]=Z.match(/Firefox\/(\d+)/);DZ=BZ=Number(J)<77}}async function _E(Z){let J=await JD(Z);return Object.assign({canvas:DZ,css:BZ},QD[J])}class ME extends V8{constructor(...Z){super(...Z),U0(this,"ranges",new WE),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(Z,J,Q){if(Z===0&&this.byteLength===0&&Q){let q=new DataView(Q.buffer||Q,Q.byteOffset,Q.byteLength);this._swapDataView(q)}else{let q=Z+J;if(q>this.byteLength){let{dataView:K}=this._extend(q);this._swapDataView(K)}}}_extend(Z){let J;J=pz?lz.allocUnsafe(Z):new Uint8Array(Z);let Q=new DataView(J.buffer,J.byteOffset,J.byteLength);return J.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:J,dataView:Q}}subarray(Z,J,Q=!1){return J=J||this._lengthToEnd(Z),Q&&this._tryExtend(Z,J),this.ranges.add(Z,J),super.subarray(Z,J)}set(Z,J,Q=!1){Q&&this._tryExtend(J,Z.byteLength,Z);let q=super.set(Z,J);return this.ranges.add(J,q.byteLength),q}async ensureChunk(Z,J){this.chunked&&(this.ranges.available(Z,J)||await this.readChunk(Z,J))}available(Z,J){return this.ranges.available(Z,J)}}class WE{constructor(){U0(this,"list",[])}get length(){return this.list.length}add(Z,J,Q=0){let q=Z+J,K=this.list.filter((X)=>QE(Z,X.offset,q)||QE(Z,X.end,q));if(K.length>0){Z=Math.min(Z,...K.map((z)=>z.offset)),q=Math.max(q,...K.map((z)=>z.end)),J=q-Z;let X=K.shift();X.offset=Z,X.length=J,X.end=q,this.list=this.list.filter((z)=>!K.includes(z))}else this.list.push({offset:Z,length:J,end:q})}available(Z,J){let Q=Z+J;return this.list.some((q)=>q.offset<=Z&&Q<=q.end)}}function QE(Z,J,Q){return Z<=J&&J<=Q}class JK extends ME{constructor(Z,J){super(0),U0(this,"chunksRead",0),this.input=Z,this.options=J}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(Z=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let J=this.options.chunkSize,Q=await this.readChunk(Z,J);return!!Q&&Q.byteLength===J}async readChunk(Z,J){if(this.chunksRead++,(J=this.safeWrapAddress(Z,J))!==0)return this._readChunk(Z,J)}safeWrapAddress(Z,J){return this.size!==void 0&&Z+J>this.size?Math.max(0,this.size-Z):J}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}J4.set("blob",class extends JK{async readWhole(){this.chunked=!1;let Z=await MZ(this.input);this._swapArrayBuffer(Z)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(Z,J){let Q=J?Z+J:void 0,q=this.input.slice(Z,Q),K=await MZ(q);return this.set(K,Z,!0)}});var nl=Object.freeze({__proto__:null,default:sl,Exifr:o4,fileParsers:Z4,segmentParsers:o1,fileReaders:J4,tagKeys:V5,tagValues:E6,tagRevivers:V9,createDictionary:y1,extendDictionary:WZ,fetchUrlAsArrayBuffer:_Z,readBlobAsArrayBuffer:MZ,chunkedProps:N9,otherSegments:AJ,segments:GZ,tiffBlocks:b1,segmentsAndBlocks:z9,tiffExtractables:H9,inheritables:DJ,allFormatters:Y9,Options:O9,parse:BJ,gpsOnlyOptions:r3,gps:AE,thumbnailOnlyOptions:e3,thumbnail:DE,thumbnailUrl:BE,orientationOnlyOptions:ZD,orientation:JD,rotations:QD,get rotateCanvas(){return DZ},get rotateCss(){return BZ},rotation:_E});J4.set("url",class extends JK{async readWhole(){this.chunked=!1;let Z=await _Z(this.input);Z instanceof ArrayBuffer?this._swapArrayBuffer(Z):Z instanceof Uint8Array&&this._swapBuffer(Z)}async _readChunk(Z,J){let Q=J?Z+J-1:void 0,q=this.options.httpHeaders||{};(Z||Q)&&(q.range=`bytes=${[Z,Q].join("-")}`);let K=await n3(this.input,{headers:q}),X=await K.arrayBuffer(),z=X.byteLength;if(K.status!==416)return z!==J&&(this.size=Z+z),this.set(X,Z,!0)}});V8.prototype.getUint64=function(Z){let J=this.getUint32(Z),Q=this.getUint32(Z+4);return J<1048575?J<<32|Q:typeof Pz!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Pz(J)<<Pz(32)|Pz(Q)):void t1("Trying to read 64b value but JS can only handle 53b numbers.")};class GE extends ZK{parseBoxes(Z=0){let J=[];for(;Z<this.file.byteLength-4;){let Q=this.parseBoxHead(Z);if(J.push(Q),Q.length===0)break;Z+=Q.length}return J}parseSubBoxes(Z){Z.boxes=this.parseBoxes(Z.start)}findBox(Z,J){return Z.boxes===void 0&&this.parseSubBoxes(Z),Z.boxes.find((Q)=>Q.kind===J)}parseBoxHead(Z){let J=this.file.getUint32(Z),Q=this.file.getString(Z+4,4),q=Z+8;return J===1&&(J=this.file.getUint64(Z+8),q+=8),{offset:Z,length:J,kind:Q,start:q}}parseBoxFullHead(Z){if(Z.version!==void 0)return;let J=this.file.getUint32(Z.start);Z.version=J>>24,Z.start+=4}}class qD extends GE{static canHandle(Z,J){if(J!==0)return!1;let Q=Z.getUint16(2);if(Q>50)return!1;let q=16,K=[];for(;q<Q;)K.push(Z.getString(q,4)),q+=4;return K.includes(this.type)}async parse(){let Z=this.file.getUint32(0),J=this.parseBoxHead(Z);for(;J.kind!=="meta";)Z+=J.length,await this.file.ensureChunk(Z,16),J=this.parseBoxHead(Z);await this.file.ensureChunk(J.offset,J.length),this.parseBoxFullHead(J),this.parseSubBoxes(J),this.options.icc.enabled&&await this.findIcc(J),this.options.tiff.enabled&&await this.findExif(J)}async registerSegment(Z,J,Q){await this.file.ensureChunk(J,Q);let q=this.file.subarray(J,Q);this.createParser(Z,q)}async findIcc(Z){let J=this.findBox(Z,"iprp");if(J===void 0)return;let Q=this.findBox(J,"ipco");if(Q===void 0)return;let q=this.findBox(Q,"colr");q!==void 0&&await this.registerSegment("icc",q.offset+12,q.length)}async findExif(Z){let J=this.findBox(Z,"iinf");if(J===void 0)return;let Q=this.findBox(Z,"iloc");if(Q===void 0)return;let q=this.findExifLocIdInIinf(J),K=this.findExtentInIloc(Q,q);if(K===void 0)return;let[X,z]=K;await this.file.ensureChunk(X,z);let Y=4+this.file.getUint32(X);X+=Y,z-=Y,await this.registerSegment("tiff",X,z)}findExifLocIdInIinf(Z){this.parseBoxFullHead(Z);let J,Q,q,K,X=Z.start,z=this.file.getUint16(X);for(X+=2;z--;){if(J=this.parseBoxHead(X),this.parseBoxFullHead(J),Q=J.start,J.version>=2&&(q=J.version===3?4:2,K=this.file.getString(Q+q+2,4),K==="Exif"))return this.file.getUintBytes(Q,q);X+=J.length}}get8bits(Z){let J=this.file.getUint8(Z);return[J>>4,15&J]}findExtentInIloc(Z,J){this.parseBoxFullHead(Z);let Q=Z.start,[q,K]=this.get8bits(Q++),[X,z]=this.get8bits(Q++),Y=Z.version===2?4:2,O=Z.version===1||Z.version===2?2:0,U=z+q+K,A=Z.version===2?4:2,B=this.file.getUintBytes(Q,A);for(Q+=A;B--;){let _=this.file.getUintBytes(Q,Y);Q+=Y+O+2+X;let W=this.file.getUint16(Q);if(Q+=2,_===J)return W>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(Q+z,q),this.file.getUintBytes(Q+z+q,K)];Q+=W*U}}}class KD extends qD{}U0(KD,"type","heic");class p3 extends qD{}U0(p3,"type","avif"),Z4.set("heic",KD),Z4.set("avif",p3),y1(V5,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),y1(V5,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65000,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),y1(V5,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),y1(E6,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var tq=y1(E6,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),qE={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};tq.set(37392,qE),tq.set(41488,qE);var h3={0:"Normal",1:"Low",2:"High"};function KE(Z){return typeof Z=="object"&&Z.length!==void 0?Z[0]:Z}function XE(Z){let J=Array.from(Z).slice(1);return J[1]>15&&(J=J.map((Q)=>String.fromCharCode(Q))),J[2]!=="0"&&J[2]!==0||J.pop(),J.join(".")}function x3(Z){if(typeof Z=="string"){var[J,Q,q,K,X,z]=Z.trim().split(/[-: ]/g).map(Number),Y=new Date(J,Q-1,q);return Number.isNaN(K)||Number.isNaN(X)||Number.isNaN(z)||(Y.setHours(K),Y.setMinutes(X),Y.setSeconds(z)),Number.isNaN(+Y)?Z:Y}}function nq(Z){if(typeof Z=="string")return Z;let J=[];if(Z[1]===0&&Z[Z.length-1]===0)for(let Q=0;Q<Z.length;Q+=2)J.push(NE(Z[Q+1],Z[Q]));else for(let Q=0;Q<Z.length;Q+=2)J.push(NE(Z[Q],Z[Q+1]));return AZ(String.fromCodePoint(...J))}function NE(Z,J){return Z<<8|J}tq.set(41992,h3),tq.set(41993,h3),tq.set(41994,h3),y1(V9,["ifd0","ifd1"],[[50827,function(Z){return typeof Z!="string"?OE(Z):Z}],[306,x3],[40091,nq],[40092,nq],[40093,nq],[40094,nq],[40095,nq]]),y1(V9,"exif",[[40960,XE],[36864,XE],[36867,x3],[36868,x3],[40962,KE],[40963,KE]]),y1(V9,"gps",[[0,(Z)=>Array.from(Z).join(".")],[7,(Z)=>Array.from(Z).join(":")]]);class yz extends Y6{static canHandle(Z,J){return Z.getUint8(J+1)===225&&Z.getUint32(J+4)===1752462448&&Z.getString(J+4,20)==="http://ns.adobe.com/"}static headerLength(Z,J){return Z.getString(J+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.multiSegment=Q.extended=Q.headerLength===79,Q.multiSegment?(Q.chunkCount=Z.getUint8(J+72),Q.chunkNumber=Z.getUint8(J+76),Z.getUint8(J+77)!==0&&Q.chunkNumber++):(Q.chunkCount=1/0,Q.chunkNumber=-1),Q}static handleMultiSegments(Z){return Z.map((J)=>J.chunk.getString()).join("")}normalizeInput(Z){return typeof Z=="string"?Z:V8.from(Z).getString()}parse(Z=this.chunk){if(!this.localOptions.parse)return Z;Z=function(K){let X={},z={};for(let Y of CE)X[Y]=[],z[Y]=0;return K.replace(el,(Y,O,U)=>{if(O==="<"){let A=++z[U];return X[U].push(A),`${Y}#${A}`}return`${Y}#${X[U].pop()}`})}(Z);let J=$J.findAll(Z,"rdf","Description");J.length===0&&J.push(new $J("rdf","Description",void 0,Z));let Q,q={};for(let K of J)for(let X of K.properties)Q=rl(X.ns,q),FE(X,Q);return function(K){let X;for(let z in K)X=K[z]=mz(K[z]),X===void 0&&delete K[z];return mz(K)}(q)}assignToOutput(Z,J){if(this.localOptions.parse)for(let[Q,q]of Object.entries(J))switch(Q){case"tiff":this.assignObjectToOutput(Z,"ifd0",q);break;case"exif":this.assignObjectToOutput(Z,"exif",q);break;case"xmlns":break;default:this.assignObjectToOutput(Z,Q,q)}else Z.xmp=J}}U0(yz,"type","xmp"),U0(yz,"multiSegment",!0),o1.set("xmp",yz);class cz{static findAll(Z){return jE(Z,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(cz.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[3].slice(1,-1);return q=wE(q),new cz(J,Q,q)}constructor(Z,J,Q){this.ns=Z,this.name=J,this.value=Q}serialize(){return this.value}}class $J{static findAll(Z,J,Q){if(J!==void 0||Q!==void 0){J=J||"[\\w\\d-]+",Q=Q||"[\\w\\d-]+";var q=new RegExp(`<(${J}):(${Q})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else q=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return jE(Z,q).map($J.unpackMatch)}static unpackMatch(Z){let J=Z[1],Q=Z[2],q=Z[4],K=Z[8];return new $J(J,Q,q,K)}constructor(Z,J,Q,q){this.ns=Z,this.name=J,this.attrString=Q,this.innerXml=q,this.attrs=cz.findAll(Q),this.children=$J.findAll(q),this.value=this.children.length===0?wE(q):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:Z,name:J}=this;return Z==="rdf"&&(J==="Seq"||J==="Bag"||J==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return tl(this.children.map(ol));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let Z={};for(let J of this.properties)FE(J,Z);return this.value!==void 0&&(Z.value=this.value),mz(Z)}}function FE(Z,J){let Q=Z.serialize();Q!==void 0&&(J[Z.name]=Q)}var ol=(Z)=>Z.serialize(),tl=(Z)=>Z.length===1?Z[0]:Z,rl=(Z,J)=>J[Z]?J[Z]:J[Z]={};function jE(Z,J){let Q,q=[];if(!Z)return q;for(;(Q=J.exec(Z))!==null;)q.push(Q);return q}function wE(Z){if(function(q){return q==null||q==="null"||q==="undefined"||q===""||q.trim()===""}(Z))return;let J=Number(Z);if(!Number.isNaN(J))return J;let Q=Z.toLowerCase();return Q==="true"||Q!=="false"&&Z.trim()}var CE=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],el=new RegExp(`(<|\\/)(${CE.join("|")})`,"g"),Vn=Object.freeze({__proto__:null,default:nl,Exifr:o4,fileParsers:Z4,segmentParsers:o1,fileReaders:J4,tagKeys:V5,tagValues:E6,tagRevivers:V9,createDictionary:y1,extendDictionary:WZ,fetchUrlAsArrayBuffer:_Z,readBlobAsArrayBuffer:MZ,chunkedProps:N9,otherSegments:AJ,segments:GZ,tiffBlocks:b1,segmentsAndBlocks:z9,tiffExtractables:H9,inheritables:DJ,allFormatters:Y9,Options:O9,parse:BJ,gpsOnlyOptions:r3,gps:AE,thumbnailOnlyOptions:e3,thumbnail:DE,thumbnailUrl:BE,orientationOnlyOptions:ZD,orientation:JD,rotations:QD,get rotateCanvas(){return DZ},get rotateCss(){return BZ},rotation:_E});var zE=gz("fs",(Z)=>Z.promises);J4.set("fs",class extends JK{async readWhole(){this.chunked=!1,this.fs=await zE;let Z=await this.fs.readFile(this.input);this._swapBuffer(Z)}async readChunked(){this.chunked=!0,this.fs=await zE,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(Z,J){this.fh===void 0&&await this.open(),Z+J>this.size&&(J=this.size-Z);var Q=this.subarray(Z,J,!0);return await this.fh.read(Q.dataView,0,J,Z),Q}async close(){if(this.fh){let Z=this.fh;this.fh=void 0,await Z.close()}}});J4.set("base64",class extends JK{constructor(...Z){super(...Z),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(Z,J){let Q,q,K=this.input;Z===void 0?(Z=0,Q=0,q=0):(Q=4*Math.floor(Z/3),q=Z-Q/4*3),J===void 0&&(J=this.size);let X=Z+J,z=Q+4*Math.ceil(X/3);K=K.slice(Q,z);let Y=Math.min(J,this.size-Z);if(pz){let O=lz.from(K,"base64").slice(q,q+Y);return this.set(O,Z,!0)}{let O=this.subarray(Z,Y,!0),U=atob(K),A=O.toUint8();for(let B=0;B<Y;B++)A[B]=U.charCodeAt(q+B);return O}}});class i3 extends ZK{static canHandle(Z,J){return J===18761||J===19789}extendOptions(Z){let{ifd0:J,xmp:Q,iptc:q,icc:K}=Z;Q.enabled&&J.deps.add(700),q.enabled&&J.deps.add(33723),K.enabled&&J.deps.add(34675),J.finalizeFilters()}async parse(){let{tiff:Z,xmp:J,iptc:Q,icc:q}=this.options;if(Z.enabled||J.enabled||Q.enabled||q.enabled){let K=Math.max(g3(this.options),this.options.chunkSize);await this.file.ensureChunk(0,K),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(Z){if(this.parsers.tiff[Z]){let J=this.parsers.tiff[Z];this.injectSegment(Z,J)}}}U0(i3,"type","tiff"),Z4.set("tiff",i3);var Zp=gz("zlib"),Jp=["ihdr","iccp","text","itxt","exif"];class a3 extends ZK{constructor(...Z){super(...Z),U0(this,"catchError",(J)=>this.errors.push(J)),U0(this,"metaChunks",[]),U0(this,"unknownChunks",[])}static canHandle(Z,J){return J===35152&&Z.getUint32(0)===2303741511&&Z.getUint32(4)===218765834}async parse(){let{file:Z}=this;await this.findPngChunksInRange(8,Z.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(Z,J){let{file:Q}=this;for(;Z<J;){let q=Q.getUint32(Z),K=Q.getUint32(Z+4),X=Q.getString(Z+4,4).toLowerCase(),z=q+4+4+4,Y={type:X,offset:Z,length:z,start:Z+4+4,size:q,marker:K};Jp.includes(X)?this.metaChunks.push(Y):this.unknownChunks.push(Y),Z+=z}}parseTextChunks(){let Z=this.metaChunks.filter((J)=>J.type==="text");for(let J of Z){let[Q,q]=this.file.getString(J.start,J.size).split("\x00");this.injectKeyValToIhdr(Q,q)}}injectKeyValToIhdr(Z,J){let Q=this.parsers.ihdr;Q&&Q.raw.set(Z,J)}findIhdr(){let Z=this.metaChunks.find((J)=>J.type==="ihdr");Z&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",Z.chunk)}async findExif(){let Z=this.metaChunks.find((J)=>J.type==="exif");Z&&this.injectSegment("tiff",Z.chunk)}async findXmp(){let Z=this.metaChunks.filter((J)=>J.type==="itxt");for(let J of Z)J.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",J.chunk)}async findIcc(){let Z=this.metaChunks.find((z)=>z.type==="iccp");if(!Z)return;let{chunk:J}=Z,Q=J.getUint8Array(0,81),q=0;for(;q<80&&Q[q]!==0;)q++;let K=q+2,X=J.getString(0,q);if(this.injectKeyValToIhdr("ProfileName",X),xz){let z=await Zp,Y=J.getUint8Array(K);Y=z.inflateSync(Y),this.injectSegment("icc",Y)}}}U0(a3,"type","png"),Z4.set("png",a3),y1(V5,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),WZ(V5,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var HE=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];WZ(V5,"ifd0",HE),WZ(V5,"exif",HE),y1(E6,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class hz extends Y6{static canHandle(Z,J){return Z.getUint8(J+1)===224&&Z.getUint32(J+4)===1246120262&&Z.getUint8(J+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}U0(hz,"type","jfif"),U0(hz,"headerLength",9),o1.set("jfif",hz),y1(V5,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class s3 extends Y6{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}U0(s3,"type","ihdr"),o1.set("ihdr",s3),y1(V5,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),y1(E6,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class rq extends Y6{static canHandle(Z,J){return Z.getUint8(J+1)===226&&Z.getUint32(J+4)===1229144927}static findPosition(Z,J){let Q=super.findPosition(Z,J);return Q.chunkNumber=Z.getUint8(J+16),Q.chunkCount=Z.getUint8(J+17),Q.multiSegment=Q.chunkCount>1,Q}static handleMultiSegments(Z){return function(J){let Q=function(q){let K=q[0].constructor,X=0;for(let O of q)X+=O.length;let z=new K(X),Y=0;for(let O of q)z.set(O,Y),Y+=O.length;return z}(J.map((q)=>q.chunk.toUint8()));return new V8(Q)}(Z)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:Z}=this;this.chunk.byteLength<84&&t1("ICC header is too short");for(let[J,Q]of Object.entries(Qp)){J=parseInt(J,10);let q=Q(this.chunk,J);q!=="\x00\x00\x00\x00"&&Z.set(J,q)}}parseTags(){let Z,J,Q,q,K,{raw:X}=this,z=this.chunk.getUint32(128),Y=132,O=this.chunk.byteLength;for(;z--;){if(Z=this.chunk.getString(Y,4),J=this.chunk.getUint32(Y+4),Q=this.chunk.getUint32(Y+8),q=this.chunk.getString(J,4),J+Q>O)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");K=this.parseTag(q,J,Q),K!==void 0&&K!=="\x00\x00\x00\x00"&&X.set(Z,K),Y+=12}}parseTag(Z,J,Q){switch(Z){case"desc":return this.parseDesc(J);case"mluc":return this.parseMluc(J);case"text":return this.parseText(J,Q);case"sig ":return this.parseSig(J)}if(!(J+Q>this.chunk.byteLength))return this.chunk.getUint8Array(J,Q)}parseDesc(Z){let J=this.chunk.getUint32(Z+8)-1;return AZ(this.chunk.getString(Z+12,J))}parseText(Z,J){return AZ(this.chunk.getString(Z+8,J-8))}parseSig(Z){return AZ(this.chunk.getString(Z+8,4))}parseMluc(Z){let{chunk:J}=this,Q=J.getUint32(Z+8),q=J.getUint32(Z+12),K=Z+16,X=[];for(let z=0;z<Q;z++){let Y=J.getString(K+0,2),O=J.getString(K+2,2),U=J.getUint32(K+4),A=J.getUint32(K+8)+Z,B=AZ(J.getUnicodeString(A,U));X.push({lang:Y,country:O,text:B}),K+=q}return Q===1?X[0].text:X}translateValue(Z,J){return typeof Z=="string"?J[Z]||J[Z.toLowerCase()]||Z:J[Z]||Z}}U0(rq,"type","icc"),U0(rq,"multiSegment",!0),U0(rq,"headerLength",18);var Qp={4:n4,8:function(Z,J){return[Z.getUint8(J),Z.getUint8(J+1)>>4,Z.getUint8(J+1)%16].map((Q)=>Q.toString(10)).join(".")},12:n4,16:n4,20:n4,24:function(Z,J){let Q=Z.getUint16(J),q=Z.getUint16(J+2)-1,K=Z.getUint16(J+4),X=Z.getUint16(J+6),z=Z.getUint16(J+8),Y=Z.getUint16(J+10);return new Date(Date.UTC(Q,q,K,X,z,Y))},36:n4,40:n4,48:n4,52:n4,64:(Z,J)=>Z.getUint32(J),80:n4};function n4(Z,J){return AZ(Z.getString(J,4))}o1.set("icc",rq),y1(V5,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var vz={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},YE={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};y1(E6,"icc",[[4,vz],[12,YE],[40,Object.assign({},vz,YE)],[48,vz],[80,vz],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class oq extends Y6{static canHandle(Z,J,Q){return Z.getUint8(J+1)===237&&Z.getString(J+4,9)==="Photoshop"&&this.containsIptc8bim(Z,J,Q)!==void 0}static headerLength(Z,J,Q){let q,K=this.containsIptc8bim(Z,J,Q);if(K!==void 0)return q=Z.getUint8(J+K+7),q%2!=0&&(q+=1),q===0&&(q=4),K+8+q}static containsIptc8bim(Z,J,Q){for(let q=0;q<Q;q++)if(this.isIptcSegmentHead(Z,J+q))return q}static isIptcSegmentHead(Z,J){return Z.getUint8(J)===56&&Z.getUint32(J)===943868237&&Z.getUint16(J+4)===1028}parse(){let{raw:Z}=this,J=this.chunk.byteLength-1,Q=!1;for(let q=0;q<J;q++)if(this.chunk.getUint8(q)===28&&this.chunk.getUint8(q+1)===2){Q=!0;let K=this.chunk.getUint16(q+3),X=this.chunk.getUint8(q+2),z=this.chunk.getLatin1String(q+5,K);Z.set(X,this.pluralizeValue(Z.get(X),z)),q+=4+K}else if(Q)break;return this.translate(),this.output}pluralizeValue(Z,J){return Z!==void 0?Z instanceof Array?(Z.push(J),Z):[Z,J]:J}}U0(oq,"type","iptc"),U0(oq,"translateValues",!1),U0(oq,"reviveValues",!1),o1.set("iptc",oq),y1(V5,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),y1(E6,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var az=function(Z,J){return Z<J?-1:Z>J?1:0},LE=function(Z){return Z.reduce(function(J,Q){return J+Q},0)},qp=function(){function Z(Q){this.colors=Q}var J=Z.prototype;return J.palette=function(){return this.colors},J.map=function(Q){return Q},Z}(),Kp=function(){function Z(X,z,Y){return(X<<10)+(z<<5)+Y}function J(X){var z=[],Y=!1;function O(){z.sort(X),Y=!0}return{push:function(U){z.push(U),Y=!1},peek:function(U){return Y||O(),U===void 0&&(U=z.length-1),z[U]},pop:function(){return Y||O(),z.pop()},size:function(){return z.length},map:function(U){return z.map(U)},debug:function(){return Y||O(),z}}}function Q(X,z,Y,O,U,A,B){var _=this;_.r1=X,_.r2=z,_.g1=Y,_.g2=O,_.b1=U,_.b2=A,_.histo=B}function q(){this.vboxes=new J(function(X,z){return az(X.vbox.count()*X.vbox.volume(),z.vbox.count()*z.vbox.volume())})}function K(X,z){if(z.count()){var Y=z.r2-z.r1+1,O=z.g2-z.g1+1,U=Math.max.apply(null,[Y,O,z.b2-z.b1+1]);if(z.count()==1)return[z.copy()];var A,B,_,W,F=0,C=[],L=[];if(U==Y)for(A=z.r1;A<=z.r2;A++){for(W=0,B=z.g1;B<=z.g2;B++)for(_=z.b1;_<=z.b2;_++)W+=X[Z(A,B,_)]||0;C[A]=F+=W}else if(U==O)for(A=z.g1;A<=z.g2;A++){for(W=0,B=z.r1;B<=z.r2;B++)for(_=z.b1;_<=z.b2;_++)W+=X[Z(B,A,_)]||0;C[A]=F+=W}else for(A=z.b1;A<=z.b2;A++){for(W=0,B=z.r1;B<=z.r2;B++)for(_=z.g1;_<=z.g2;_++)W+=X[Z(B,_,A)]||0;C[A]=F+=W}return C.forEach(function(G,w){L[w]=F-G}),function(G){var w,R,T,h,v,b=G+"1",m=G+"2",u=0;for(A=z[b];A<=z[m];A++)if(C[A]>F/2){for(T=z.copy(),h=z.copy(),v=(w=A-z[b])<=(R=z[m]-A)?Math.min(z[m]-1,~~(A+R/2)):Math.max(z[b],~~(A-1-w/2));!C[v];)v++;for(u=L[v];!u&&C[v-1];)u=L[--v];return T[m]=v,h[b]=T[m]+1,[T,h]}}(U==Y?"r":U==O?"g":"b")}}return Q.prototype={volume:function(X){var z=this;return z._volume&&!X||(z._volume=(z.r2-z.r1+1)*(z.g2-z.g1+1)*(z.b2-z.b1+1)),z._volume},count:function(X){var z=this,Y=z.histo;if(!z._count_set||X){var O,U,A,B=0;for(O=z.r1;O<=z.r2;O++)for(U=z.g1;U<=z.g2;U++)for(A=z.b1;A<=z.b2;A++)B+=Y[Z(O,U,A)]||0;z._count=B,z._count_set=!0}return z._count},copy:function(){var X=this;return new Q(X.r1,X.r2,X.g1,X.g2,X.b1,X.b2,X.histo)},avg:function(X){var z=this,Y=z.histo;if(!z._avg||X){var O,U,A,B,_=0,W=0,F=0,C=0;if(z.r1===z.r2&&z.g1===z.g2&&z.b1===z.b2)z._avg=[z.r1<<3,z.g1<<3,z.b1<<3];else{for(U=z.r1;U<=z.r2;U++)for(A=z.g1;A<=z.g2;A++)for(B=z.b1;B<=z.b2;B++)_+=O=Y[Z(U,A,B)]||0,W+=O*(U+0.5)*8,F+=O*(A+0.5)*8,C+=O*(B+0.5)*8;z._avg=_?[~~(W/_),~~(F/_),~~(C/_)]:[~~(8*(z.r1+z.r2+1)/2),~~(8*(z.g1+z.g2+1)/2),~~(8*(z.b1+z.b2+1)/2)]}}return z._avg},contains:function(X){var z=this,Y=X[0]>>3;return gval=X[1]>>3,bval=X[2]>>3,Y>=z.r1&&Y<=z.r2&&gval>=z.g1&&gval<=z.g2&&bval>=z.b1&&bval<=z.b2}},q.prototype={push:function(X){this.vboxes.push({vbox:X,color:X.avg()})},palette:function(){return this.vboxes.map(function(X){return X.color})},size:function(){return this.vboxes.size()},map:function(X){for(var z=this.vboxes,Y=0;Y<z.size();Y++)if(z.peek(Y).vbox.contains(X))return z.peek(Y).color;return this.nearest(X)},nearest:function(X){for(var z,Y,O,U=this.vboxes,A=0;A<U.size();A++)((Y=Math.sqrt(Math.pow(X[0]-U.peek(A).color[0],2)+Math.pow(X[1]-U.peek(A).color[1],2)+Math.pow(X[2]-U.peek(A).color[2],2)))<z||z===void 0)&&(z=Y,O=U.peek(A).color);return O},forcebw:function(){var X=this.vboxes;X.sort(function(U,A){return az(LE(U.color),LE(A.color))});var z=X[0].color;z[0]<5&&z[1]<5&&z[2]<5&&(X[0].color=[0,0,0]);var Y=X.length-1,O=X[Y].color;O[0]>251&&O[1]>251&&O[2]>251&&(X[Y].color=[255,255,255])}},{quantize:function(X,z){if(!Number.isInteger(z)||z<1||z>256)throw Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!X.length||z<2||z>256)return!1;if(!X.length||z<2||z>256)return!1;for(var Y=[],O=new Set,U=0;U<X.length;U++){var A=X[U],B=A.join(",");O.has(B)||(O.add(B),Y.push(A))}if(Y.length<=z)return new qp(Y);var _=function(w){var R,T=Array(32768);return w.forEach(function(h){R=Z(h[0]>>3,h[1]>>3,h[2]>>3),T[R]=(T[R]||0)+1}),T}(X);_.forEach(function(){});var W=function(w,R){var T,h,v,b=1e6,m=0,u=1e6,c=0,o=1e6,z0=0;return w.forEach(function(D0){(T=D0[0]>>3)<b?b=T:T>m&&(m=T),(h=D0[1]>>3)<u?u=h:h>c&&(c=h),(v=D0[2]>>3)<o?o=v:v>z0&&(z0=v)}),new Q(b,m,u,c,o,z0,R)}(X,_),F=new J(function(w,R){return az(w.count(),R.count())});function C(w,R){for(var T,h=w.size(),v=0;v<1000;){if(h>=R)return;if(v++>1000)return;if((T=w.pop()).count()){var b=K(_,T),m=b[0],u=b[1];if(!m)return;w.push(m),u&&(w.push(u),h++)}else w.push(T),v++}}F.push(W),C(F,0.75*z);for(var L=new J(function(w,R){return az(w.count()*w.volume(),R.count()*R.volume())});F.size();)L.push(F.pop());C(L,z);for(var G=new q;L.size();)G.push(L.pop());return G}}}().quantize,RE=function(Z){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=Z.naturalWidth,this.height=this.canvas.height=Z.naturalHeight,this.context.drawImage(Z,0,0,this.width,this.height)};RE.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var FZ=function(){};FZ.prototype.getColor=function(Z,J){return J===void 0&&(J=10),this.getPalette(Z,5,J)[0]},FZ.prototype.getPalette=function(Z,J,Q){var q=function(Y){var{colorCount:O,quality:U}=Y;if(O!==void 0&&Number.isInteger(O)){if(O===1)throw Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");O=Math.max(O,2),O=Math.min(O,20)}else O=10;return(U===void 0||!Number.isInteger(U)||U<1)&&(U=10),{colorCount:O,quality:U}}({colorCount:J,quality:Q}),K=new RE(Z),X=function(Y,O,U){for(var A,B,_,W,F,C=Y,L=[],G=0;G<O;G+=U)B=C[0+(A=4*G)],_=C[A+1],W=C[A+2],((F=C[A+3])===void 0||F>=125)&&(B>250&&_>250&&W>250||L.push([B,_,W]));return L}(K.getImageData().data,K.width*K.height,q.quality),z=Kp(X,q.colorCount);return z?z.palette():null},FZ.prototype.getColorFromUrl=function(Z,J,Q){var q=this,K=document.createElement("img");K.addEventListener("load",function(){var X=q.getPalette(K,5,Q);J(X[0],Z)}),K.src=Z},FZ.prototype.getImageData=function(Z,J){var Q=new XMLHttpRequest;Q.open("GET",Z,!0),Q.responseType="arraybuffer",Q.onload=function(){if(this.status==200){var q=new Uint8Array(this.response);i=q.length;for(var K=Array(i),X=0;X<q.length;X++)K[X]=String.fromCharCode(q[X]);var z=K.join(""),Y=window.btoa(z);J("data:image/png;base64,"+Y)}},Q.send()},FZ.prototype.getColorAsync=function(Z,J,Q){var q=this;this.getImageData(Z,function(K){var X=document.createElement("img");X.addEventListener("load",function(){var z=q.getPalette(X,5,Q);J(z[0],this)}),X.src=K})};var Xp=Symbol.for("react.transitional.element"),Np=Symbol.for("react.fragment");function EE(Z,J,Q){var q=null;if(Q!==void 0&&(q=""+Q),J.key!==void 0&&(q=""+J.key),"key"in J){Q={};for(var K in J)K!=="key"&&(Q[K]=J[K])}else Q=J;return J=Q.ref,{$$typeof:Xp,type:Z,key:q,ref:J!==void 0?J:null,props:Q}}var l5=Np,f=EE,r=EE;function IE({isOpen:Z,onToggle:J}){return f("button",{onClick:J,className:`fixed top-4 z-60 p-2 rounded-md shadow-md cursor-pointer transition-all duration-300 ${Z?"left-50 shadow-none hover:bg-neutral-500":"left-4 bg-white hover:bg-gray-50"}`,"aria-label":"Toggle menu",children:r("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[f("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white rotate-45 translate-y-0.5":"bg-gray-600 -translate-y-1"}`}),f("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white opacity-0":"bg-gray-600 opacity-100"}`}),f("span",{className:`block w-5 h-0.5 transition-all duration-300 ${Z?"bg-white -rotate-45 -translate-y-0.5":"bg-gray-600 translate-y-1"}`})]})})}function TE({isDragOver:Z,onFileChange:J,onDrop:Q,onDragOver:q,onDragLeave:K}){return r("div",{className:"max-w-7xl mx-auto text-center",children:[f("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"Web Image Tools"}),f("p",{className:"mb-8 text-neutral-400",children:"View, analyze, and edit images in your browser. Fully local and private."}),f("p",{className:"mb-8 text-neutral-400",children:" Please note that the app is under development and may not work as expected."}),r("div",{className:`border-2 border-dashed rounded-lg p-8 mb-4 transition-colors size-[50vh] justify-self-center flex justify-center items-center ${Z?"border-sky-500 bg-sky-50":"border-neutral-500"}`,onDrop:Q,onDragOver:q,onDragLeave:K,children:[f("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",id:"file-input"}),f("label",{htmlFor:"file-input",className:"cursor-pointer",children:r("div",{className:"text-neutral-500",children:[f("p",{className:"text-lg font-semibold",children:"Click to select an image"}),f("p",{children:"or drag and drop it here"})]})})]})]})}function _J({menuName:Z,isActiveSection:J,handleSectionClick:Q}){return f("button",{onClick:Q,className:`w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer ${J?"bg-cyan-600":"hover:bg-neutral-500"}`,children:Z})}function SE({isOpen:Z,activeSection:J,onSectionChange:Q,onClose:q}){let K=(X)=>{Q(X),q()};return r(l5,{children:[Z&&f("div",{className:"fixed inset-0 bg-black/70 z-40",onClick:q}),f("div",{className:`fixed top-0 left-0 h-full w-64 bg-neutral-600 shadow-lg z-50 transform transition-transform duration-300 ${Z?"translate-x-0":"-translate-x-full"}`,children:r("div",{className:"p-6 h-full flex flex-col",children:[f("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Menu"}),f("div",{className:"border-b border-neutral-500 mb-4"}),r("nav",{className:"flex flex-col justify-between flex-grow w-full",children:[r("div",{className:"w-full",children:[f("span",{className:"text-neutral-400",children:"Tools"}),f(_J,{menuName:"Image Information",isActiveSection:J==="info",handleSectionClick:()=>K("info")}),f(_J,{menuName:"Color Palette",isActiveSection:J==="palette",handleSectionClick:()=>K("palette")}),f(_J,{menuName:"Filters & Edit",isActiveSection:J==="filters",handleSectionClick:()=>K("filters")}),f(_J,{menuName:"Optimization",isActiveSection:J==="optimization",handleSectionClick:()=>K("optimization")}),f(_J,{menuName:"Transform",isActiveSection:J==="transform",handleSectionClick:()=>K("transform")})]}),r("div",{className:"w-full",children:[f("span",{className:"text-neutral-400",children:"Settings"}),f("div",{className:"w-full text-left px-4 py-2 rounded-md transition-colors cursor-pointer hover:bg-neutral-500",children:f("span",{children:"Preferences"})})]})]})]})})]})}var QK=(Z)=>{let J=["B","KB","MB","GB"],Q=Z,q=0;while(Q>=1024&&q<J.length-1)Q/=1024,q++;return`${Q.toFixed(2)} ${J[q]}`};function bE(Z,J){return J===0?Z:bE(J,Z%J)}function zp(Z,J){let Q=bE(Z,J);return`${Z/Q}:${J/Q}`}function Hp(Z){let J=Z.replace(/\.[^/.]+$/,"");if(J.length>20)return J.slice(0,20)+"[...]";return J}function kE({imageInfo:Z}){return r("div",{className:"text-left mx-auto flex gap-8",children:[r("div",{className:"grid grid-cols-[auto_1fr] mb-4 grid-rows-[min-content] self-start col-2-alternating-colors",children:[f("strong",{className:"pr-3 p-1",children:"File Name:"}),f("span",{className:"p-1",title:Z.name,children:Hp(Z.name)}),f("strong",{className:"pr-3 p-1",children:"File Size:"}),f("span",{className:"p-1",children:QK(Z.fileSize)}),Z.format&&r(l5,{children:[f("strong",{className:"pr-3 p-1",children:"Format:"}),r("span",{className:"p-1",children:[".",Z.format.toUpperCase()]})]}),Z.dimensions&&r(l5,{children:[f("strong",{className:"pr-3 p-1",children:"Dimensions:"}),r("span",{className:"p-1",children:[Z.dimensions.width," x ",Z.dimensions.height," ","pixels"]}),f("strong",{className:"pr-3 p-1",children:"Aspect:"}),f("span",{className:"p-1",children:zp(Z.dimensions.width,Z.dimensions.height)})]}),Z.lastModified&&r(l5,{children:[f("strong",{className:"pr-3 p-1",children:"Modified:"}),f("span",{className:"p-1",children:Z.lastModified.toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})]}),Z.exif&&Object.keys(Z.exif).length>0&&r("div",{children:[f("strong",{children:"EXIF Data:"}),f("pre",{className:"text-sm bg-neutral-600 overflow-x-hidden max-h-40",children:JSON.stringify(Z.exif,null,2)})]})]})}m5();function PE({palette:Z}){let[J,Q]=C0(6),[q,K]=C0(null),X=Z.slice(0,J),z=(U,A,B)=>{return"#"+[U,A,B].map((_)=>{let W=_.toString(16);return W.length===1?"0"+W:W}).join("")},Y=async(U,A)=>{try{await navigator.clipboard.writeText(U),K(A),setTimeout(()=>K(null),1500)}catch(B){let _=document.createElement("textarea");_.value=U,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),K(A),setTimeout(()=>K(null),1500)}},O=()=>{let U={};X.forEach((F,C)=>{let L=z(F[0]??0,F[1]??0,F[2]??0),G=`color_${String(C+1).padStart(2,"0")}`;U[G]=L});let A=JSON.stringify(U,null,2),B=new Blob([A],{type:"application/json"}),_=URL.createObjectURL(B),W=document.createElement("a");W.href=_,W.download="color-palette.json",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(_)};return r("div",{className:"text-left max-w-md mx-auto",children:[f("h2",{className:"text-2xl font-semibold mb-4",children:"Color Palette"}),r("div",{className:"mb-4",children:[r("label",{className:"block text-sm font-medium mb-2",children:["Number of Colors: ",J]}),f("input",{type:"range",min:"3",max:"32",value:J,onChange:(U)=>Q(Number(U.target.value)),className:"w-full"})]}),f("div",{className:"grid grid-cols-8 gap-2 max-w-lg",children:X.map((U,A)=>{let B=z(U[0]??0,U[1]??0,U[2]??0),_=q===A;return f("div",{className:`w-10 h-10 rounded border cursor-pointer transition-all duration-200 hover:scale-110 hover:shadow-lg ${_?"ring-2 ring-green-400 ring-offset-2":""}`,style:{backgroundColor:`rgb(${U[0]}, ${U[1]}, ${U[2]})`},title:`RGB(${U[0]??0}, ${U[1]??0}, ${U[2]??0}) | ${B} ${_?"(Copied!)":"(Click to copy)"}`,onClick:()=>Y(B,A),children:_&&f("div",{className:"w-full h-full rounded border flex items-center justify-center bg-black bg-opacity-50 text-white text-xs font-bold",children:""})},A)})}),f("div",{className:"mt-4 flex justify-center",children:f("button",{onClick:O,className:"px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 transition-colors cursor-pointer",children:"Download Palette"})})]})}var Yp=["png","jpeg","webp","avif"];function vE({convertFormat:Z,setConvertFormat:J,compressionValue:Q,setCompressionValue:q,onOptimize:K,onDownload:X,optimizedImage:z,imageInfo:Y,optimizedSize:O}){return f(l5,{children:f("div",{className:"text-left max-w-md mx-auto",children:r("div",{className:"space-y-4",children:[r("div",{className:"flex items-center gap-4",children:[f("label",{htmlFor:"format-select",className:"font-medium",children:"Format:"}),f("select",{id:"format-select",value:Z,onChange:(U)=>J(U.target.value),className:"bg-neutral-500 rounded px-2 py-1 cursor-pointer",children:Yp.map((U)=>f("option",{value:U,children:U.toUpperCase()},U))})]}),r("div",{className:"flex gap-4 items-center",children:[f("label",{className:"font-medium",children:"Quality:"}),f("input",{type:"range",min:0.1,max:1,step:0.1,value:Q,onChange:(U)=>q(parseFloat(U.target.value)),className:`flex-1 ${Z==="png"?"cursor-not-allowed opacity-50":""}`,disabled:Z==="png",title:Z==="png"?"Quality not applicable for PNG format":void 0}),r("span",{className:"w-12 text-center",children:[Math.round(Q*100),"%"]})]}),z&&Y&&O&&r("div",{className:"mt-4 flex items-center justify-between gap-4",children:[f("label",{className:"font-medium",children:"New size:"}),Y.fileSize>O?r(l5,{children:[f("span",{children:QK(O)}),r("span",{className:"text-emerald-500 font-semibold",children:["",Math.abs((1-O/Y.fileSize)*100).toFixed(1),"%"]})]}):r(l5,{children:[f("span",{children:QK(O)}),r("span",{className:"text-rose-500 font-semibold",children:["",Math.abs((O/Y.fileSize-1)*100).toFixed(1),"%"]})]})]}),r("div",{className:"flex gap-4 items-center justify-center",children:[f("button",{onClick:K,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Optimize"}),f("button",{onClick:X,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 cursor-pointer",disabled:!z,children:"Download"})]})]})})})}m5();var fE={none:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0,name:"None"},vintage:{hue:15,saturation:80,brightness:110,contrast:105,grayscale:0,invert:0,blur:0,name:"Vintage"},cool:{hue:200,saturation:90,brightness:105,contrast:115,grayscale:0,invert:0,blur:0,name:"Cool"},warm:{hue:25,saturation:110,brightness:105,contrast:105,grayscale:0,invert:0,blur:0,name:"Warm"},dramatic:{hue:0,saturation:70,brightness:90,contrast:130,grayscale:0,invert:0,blur:0,name:"Dramatic"},soft:{hue:0,saturation:85,brightness:95,contrast:85,grayscale:0,invert:0,blur:0,name:"Soft"},highContrast:{hue:0,saturation:100,brightness:110,contrast:140,grayscale:0,invert:0,blur:0,name:"High Contrast"},sepia:{hue:35,saturation:50,brightness:100,contrast:110,grayscale:0,invert:0,blur:0,name:"Sepia"},blackAndWhite:{hue:0,saturation:0,brightness:100,contrast:120,grayscale:100,invert:0,blur:0,name:"Black & White"},filmNoir:{hue:0,saturation:0,brightness:80,contrast:150,grayscale:100,invert:0,blur:0,name:"Film Noir"},dreamy:{hue:0,saturation:90,brightness:110,contrast:105,grayscale:0,invert:0,blur:3,name:"Dreamy"},negative:{hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:100,blur:0,name:"Negative"}};function yE({layers:Z,setLayers:J,history:Q,currentHistoryIndex:q,setCurrentHistoryIndex:K,onApply:X,onResetAllFilters:z,workingLayer:Y,setWorkingLayer:O}){let[U,A]=C0("none"),B=(F)=>{let C=fE[F];O({hue:C.hue,saturation:C.saturation,brightness:C.brightness,contrast:C.contrast,grayscale:C.grayscale,invert:C.invert,blur:C.blur}),A(F)},_=()=>{if(q<0)return;if(q===0)O({hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0}),K(-1),J([]);else{let F=Q[q-1];O(F),K(q-1),J(Z.slice(0,-1))}},W=()=>{if(q>=Q.length-1)return;let F=q+1,C=Q[F];O(C),K(F);let L={type:"committed",values:C};J([...Z,L])};return r("div",{className:"text-left mx-auto",children:[r("div",{className:"space-y-6",children:[r("div",{children:[f("h3",{className:"text-lg font-medium mb-3",children:"Filter Presets"}),f("div",{className:"space-y-4",children:r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Preset:"}),f("select",{value:U,onChange:(F)=>B(F.target.value),className:"flex-1 bg-neutral-500 text-white rounded px-2 py-1",children:Object.entries(fE).map(([F,C])=>f("option",{value:F,children:C.name},F))})]})})]}),r("div",{className:"flex gap-6",children:[r("div",{children:[f("h3",{className:"text-lg font-medium mb-3",children:"Color Adjustments"}),r("div",{className:"space-y-4",children:[r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Hue:"}),f("input",{type:"range",min:"0",max:"360",value:Y.hue,onChange:(F)=>O({...Y,hue:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.hue,""]})]}),r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Saturation:"}),f("input",{type:"range",min:"0",max:"200",value:Y.saturation,onChange:(F)=>O({...Y,saturation:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.saturation,"%"]})]}),r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Brightness:"}),f("input",{type:"range",min:"0",max:"200",value:Y.brightness,onChange:(F)=>O({...Y,brightness:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.brightness,"%"]})]}),r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Contrast:"}),f("input",{type:"range",min:"0",max:"200",value:Y.contrast,onChange:(F)=>O({...Y,contrast:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.contrast,"%"]})]})]})]}),r("div",{children:[f("h3",{className:"text-lg font-medium mb-3",children:"Effects"}),r("div",{className:"space-y-4",children:[r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Grayscale:"}),f("input",{type:"range",min:"0",max:"100",value:Y.grayscale,onChange:(F)=>O({...Y,grayscale:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.grayscale,"%"]})]}),r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Invert:"}),f("input",{type:"range",min:"0",max:"100",value:Y.invert,onChange:(F)=>O({...Y,invert:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.invert,"%"]})]}),r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Blur:"}),f("input",{type:"range",min:"0",max:"20",value:Y.blur,onChange:(F)=>O({...Y,blur:Number(F.target.value)}),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Y.blur,"px"]})]})]})]})]})]}),r("div",{className:"flex justify-center gap-4 mt-4",children:[f("button",{onClick:_,disabled:q<0,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Undo"}),f("button",{onClick:W,disabled:q>=Q.length-1,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Redo"}),f("button",{onClick:z,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Reset All"}),f("button",{onClick:X,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Apply"})]})]})}function hE({clearImage:Z}){return f("button",{onClick:Z,className:"fixed top-4 left-16 z-50 w-10 h-10 p-2 bg-rose-800 text-white font-bold rounded-md flex items-center justify-center hover:bg-rose-700 transition-colors cursor-pointer",title:"Clear image",children:""})}function xE({children:Z,toolDrawerOpen:J,setToolDrawerOpen:Q,activeSection:q}){return r("div",{className:`fixed bottom-0 left-1/2 -translate-x-1/2 h-max max-h-104 w-max bg-neutral-700 shadow-2xl rounded-t-lg transform transition-transform duration-300 ease-in-out z-40 ${J?"translate-y-0":"translate-y-[calc(100%-3rem)]"}`,children:[r("div",{onClick:()=>Q(!J),className:"px-6 py-3 rounded-t-lg cursor-pointer hover:bg-neutral-600 transition-colors flex items-center justify-center gap-3 shadow-lg",children:[r("span",{className:"font-medium",children:[q==="info"&&"Image Info",q==="palette"&&"Color Palette",q==="optimization"&&"Optimization",q==="filters"&&"Filters & Edit",q==="transform"&&"Transform"]}),f("span",{className:`transform transition-transform duration-200 ${J?"rotate-180":""}`,children:""})]}),f("div",{className:"p-6 h-full overflow-y-auto",children:Z})]})}function gE({scale:Z,setScale:J,width:Q,setWidth:q,height:K,setHeight:X,keepAspectRatio:z,setKeepAspectRatio:Y,originalWidth:O,originalHeight:U,onReset:A}){let B=O/U,_=(F)=>{if(q(F),z)X(Math.round(F/B))},W=(F)=>{if(X(F),z)q(Math.round(F*B))};return r("div",{className:"text-left mx-auto",children:[r("div",{className:"space-y-6",children:[f("div",{children:f("div",{className:"space-y-4",children:r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Scale:"}),f("input",{type:"range",min:"10",max:"200",value:Z,onChange:(F)=>J(Number(F.target.value)),className:"flex-1"}),r("span",{className:"w-12 text-center text-sm",children:[Z,"%"]})]})})}),f("div",{children:r("div",{className:"space-y-3",children:[r("div",{className:"flex items-center gap-4",children:[f("label",{className:"w-20 text-sm font-medium",children:"Dimensions:"}),f("input",{type:"number",value:Q,onChange:(F)=>_(Number(F.target.value)),className:"bg-neutral-500 text-right w-20"}),f("span",{className:"text-sm",children:""}),f("input",{type:"number",value:K,onChange:(F)=>W(Number(F.target.value)),className:"bg-neutral-500 text-right w-20"}),f("span",{className:"text-sm",children:"px"})]}),r("div",{className:"flex items-center gap-2 ml-24",children:[f("input",{type:"checkbox",id:"keep-aspect-ratio",checked:z,onChange:(F)=>Y(F.target.checked)}),f("label",{htmlFor:"keep-aspect-ratio",className:"text-sm",children:"Keep aspect ratio"})]})]})})]}),r("div",{className:"flex justify-center gap-4 mt-4",children:[f("button",{onClick:A,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 cursor-pointer",children:"Reset All"}),f("button",{onClick:A,className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600 cursor-pointer",children:"Apply"})]})]})}m5();function mE({message:Z="Loading..."}){let[J,Q]=C0(0);return r8(()=>{let q=setInterval(()=>{Q((K)=>K<90?K+10:K)},200);return()=>clearInterval(q)},[]),f("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:r("div",{className:"text-center",children:[f("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4"}),f("div",{className:"w-64 bg-gray-700 rounded-full h-2 mb-4",children:f("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${J}%`}})}),f("p",{className:"text-white text-lg",children:Z}),f("p",{className:"text-gray-400 text-sm mt-2",children:"This may take a moment on slower connections..."})]})})}m5();function dE(Z,J,Q){if(!Z)return;if(Q(Z)===!0)return Z;let q=J?Z.return:Z.child;for(;q;){let K=dE(q,J,Q);if(K)return K;q=J?null:q.sibling}}function cE(Z){try{return Object.defineProperties(Z,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(J){return Z}}var XD=cE(aQ(null));class sz extends K${render(){return w2(XD.Provider,{value:this._reactInternals},this.props.children)}}function Vp(){let Z=YN(XD);if(Z===null)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let J=N$();return b7(()=>{for(let Q of[Z,Z==null?void 0:Z.alternate]){if(!Q)continue;let q=dE(Q,!1,(K)=>{let X=K.memoizedState;for(;X;){if(X.memoizedState===J)return!0;X=X.next}});if(q)return q}},[Z,J])}var Op=Symbol.for("react.context"),Up=(Z)=>Z!==null&&typeof Z=="object"&&("$$typeof"in Z)&&Z.$$typeof===Op;function $p(){let Z=Vp(),[J]=C0(()=>new Map);J.clear();let Q=Z;for(;Q;){let q=Q.type;Up(q)&&q!==XD&&!J.has(q)&&J.set(q,X$(cE(q))),Q=Q.return}return J}function uE(){let Z=$p();return b7(()=>Array.from(Z.keys()).reduce((J,Q)=>(q)=>w2(J,null,w2(Q.Provider,{...q,value:Z.get(Q)})),(J)=>w2(sz,{...J})),[Z])}g();var fv={extension:{type:I.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.resolve().then(() => (vv(),Ma))}};g();var hv={extension:{type:I.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Promise.resolve().then(() => (yv(),Wa))}};g();EH();_H();g();s0();iK();var wY;function dv(Z){if(wY!==void 0)return wY;return wY=(()=>{let J={stencil:!0,failIfMajorPerformanceCaveat:Z??w9.defaultOptions.failIfMajorPerformanceCaveat};try{if(!K0.get().getWebGLRenderingContext())return!1;let q=K0.get().createCanvas().getContext("webgl",J),K=!!q?.getContextAttributes()?.stencil;if(q){let X=q.getExtension("WEBGL_lose_context");if(X)X.loseContext()}return q=null,K}catch(Q){return!1}})(),wY}s0();var CY;async function cv(Z={}){if(CY!==void 0)return CY;return CY=await(async()=>{let J=K0.get().getNavigator().gpu;if(!J)return!1;try{return await(await J.requestAdapter(Z)).requestDevice(),!0}catch(Q){return!1}})(),CY}iK();var rh=["webgl","webgpu","canvas"];async function eh(Z){let J=[];if(Z.preference)J.push(Z.preference),rh.forEach((X)=>{if(X!==Z.preference)J.push(X)});else J=rh.slice();let Q,q={};for(let X=0;X<J.length;X++){let z=J[X];if(z==="webgpu"&&await cv()){let{WebGPURenderer:Y}=await Promise.resolve().then(() => (Ly(),Cy));Q=Y,q={...Z,...Z.webgpu};break}else if(z==="webgl"&&dv(Z.failIfMajorPerformanceCaveat??w9.defaultOptions.failIfMajorPerformanceCaveat)){let{WebGLRenderer:Y}=await Promise.resolve().then(() => (th(),oh));Q=Y,q={...Z,...Z.webgl};break}else if(z==="canvas")throw q={...Z},Error("CanvasRenderer is not yet implemented")}if(delete q.webgpu,delete q.webgl,!Q)throw Error("No available renderer for the current environment");let K=new Q;return await K.init(q),K}S6();i_();M1();var Zx=class Z{constructor(...J){if(this.stage=new f0,J[0]!==void 0)q0(Y0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(J){J={...J},this.renderer=await eh(J),Z._plugins.forEach((Q)=>{Q.init.call(this,J)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return q0(Y0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(J=!1,Q=!1){let q=Z._plugins.slice(0);q.reverse(),q.forEach((K)=>{K.destroy.call(this)}),this.stage.destroy(Q),this.stage=null,this.renderer.destroy(J),this.renderer=null}};Zx._plugins=[];var qX=Zx;J0.handleByList(I.Application,qX._plugins);J0.add(PY);g();D9();nD();s0();g();SZ();TD();Q5();a0();W_();j_();class TV extends dK{constructor(Z,J){super();let{textures:Q,data:q}=Z;Object.keys(q.pages).forEach((K)=>{let X=q.pages[parseInt(K,10)],z=Q[X.id];this.pages.push({texture:z})}),Object.keys(q.chars).forEach((K)=>{let X=q.chars[K],{frame:z,source:Y,rotate:O}=Q[X.page],U=o0.transformRectCoords(X,z,O,new $0),A=new p({frame:U,orig:new $0(0,0,X.width,X.height),source:Y,rotate:O});this.chars[K]={id:K.codePointAt(0),xOffset:X.xOffset,yOffset:X.yOffset,xAdvance:X.xAdvance,kerning:X.kerning??{},texture:A}}),this.baseRenderedFontSize=q.fontSize,this.baseMeasurementFontSize=q.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:q.fontSize},this.baseLineOffset=q.baseLineOffset,this.lineHeight=q.lineHeight,this.fontFamily=q.fontFamily,this.distanceField=q.distanceField??{type:"none",range:0},this.url=J}destroy(){super.destroy();for(let Z=0;Z<this.pages.length;Z++){let{texture:J}=this.pages[Z];J.destroy(!0)}this.pages=null}static install(Z){cK.install(Z)}static uninstall(Z){cK.uninstall(Z)}}var SV={test(Z){return typeof Z==="string"&&Z.startsWith("info face=")},parse(Z){let J=Z.match(/^[a-z]+\s+.+$/gm),Q={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let B in J){let _=J[B].match(/^[a-z]+/gm)[0],W=J[B].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),F={};for(let C in W){let L=W[C].split("="),G=L[0],w=L[1].replace(/"/gm,""),R=parseFloat(w),T=isNaN(R)?w:R;F[G]=T}Q[_].push(F)}let q={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[K]=Q.info,[X]=Q.common,[z]=Q.distanceField??[];if(z)q.distanceField={range:parseInt(z.distanceRange,10),type:z.fieldType};q.fontSize=parseInt(K.size,10),q.fontFamily=K.face,q.lineHeight=parseInt(X.lineHeight,10);let Y=Q.page;for(let B=0;B<Y.length;B++)q.pages.push({id:parseInt(Y[B].id,10)||0,file:Y[B].file});let O={};q.baseLineOffset=q.lineHeight-parseInt(X.base,10);let U=Q.char;for(let B=0;B<U.length;B++){let _=U[B],W=parseInt(_.id,10),F=_.letter??_.char??String.fromCharCode(W);if(F==="space")F=" ";O[W]=F,q.chars[F]={id:W,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}let A=Q.kerning||[];for(let B=0;B<A.length;B++){let _=parseInt(A[B].first,10),W=parseInt(A[B].second,10),F=parseInt(A[B].amount,10);q.chars[O[W]].kerning[O[_]]=F}return q}};s0();var mM={test(Z){let J=Z;return typeof J!=="string"&&"getElementsByTagName"in J&&J.getElementsByTagName("page").length&&J.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(Z){let J={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},Q=Z.getElementsByTagName("info")[0],q=Z.getElementsByTagName("common")[0],K=Z.getElementsByTagName("distanceField")[0];if(K)J.distanceField={type:K.getAttribute("fieldType"),range:parseInt(K.getAttribute("distanceRange"),10)};let X=Z.getElementsByTagName("page"),z=Z.getElementsByTagName("char"),Y=Z.getElementsByTagName("kerning");J.fontSize=parseInt(Q.getAttribute("size"),10),J.fontFamily=Q.getAttribute("face"),J.lineHeight=parseInt(q.getAttribute("lineHeight"),10);for(let U=0;U<X.length;U++)J.pages.push({id:parseInt(X[U].getAttribute("id"),10)||0,file:X[U].getAttribute("file")});let O={};J.baseLineOffset=J.lineHeight-parseInt(q.getAttribute("base"),10);for(let U=0;U<z.length;U++){let A=z[U],B=parseInt(A.getAttribute("id"),10),_=A.getAttribute("letter")??A.getAttribute("char")??String.fromCharCode(B);if(_==="space")_=" ";O[B]=_,J.chars[_]={id:B,page:parseInt(A.getAttribute("page"),10)||0,x:parseInt(A.getAttribute("x"),10),y:parseInt(A.getAttribute("y"),10),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10),xOffset:parseInt(A.getAttribute("xoffset"),10),yOffset:parseInt(A.getAttribute("yoffset"),10),xAdvance:parseInt(A.getAttribute("xadvance"),10),kerning:{}}}for(let U=0;U<Y.length;U++){let A=parseInt(Y[U].getAttribute("first"),10),B=parseInt(Y[U].getAttribute("second"),10),_=parseInt(Y[U].getAttribute("amount"),10);J.chars[O[B]].kerning[O[A]]=_}return J}};var dM={test(Z){if(typeof Z==="string"&&Z.includes("<font>"))return mM.test(K0.get().parseXML(Z));return!1},parse(Z){return mM.parse(K0.get().parseXML(Z))}};var ea=[".xml",".fnt"],Jx={extension:{type:I.CacheParser,name:"cacheBitmapFont"},test:(Z)=>Z instanceof TV,getCacheableAssets(Z,J){let Q={};return Z.forEach((q)=>{Q[q]=J,Q[`${q}-bitmap`]=J}),Q[`${J.fontFamily}-bitmap`]=J,Q}},Qx={extension:{type:I.LoadParser,priority:a5.Normal},name:"loadBitmapFont",id:"bitmap-font",test(Z){return ea.includes(q5.extname(Z).toLowerCase())},async testParse(Z){return SV.test(Z)||dM.test(Z)},async parse(Z,J,Q){let q=SV.test(Z)?SV.parse(Z):dM.parse(Z),{src:K}=J,{pages:X}=q,z=[],Y=q.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let B=0;B<X.length;++B){let _=X[B].file,W=q5.join(q5.dirname(K),_);W=WK(W,K),z.push({src:W,data:Y})}let O=await Q.load(z),U=z.map((B)=>O[B.src]);return new TV({data:q,textures:U},K)},async load(Z,J){return await(await K0.get().fetch(Z)).text()},async unload(Z,J,Q){await Promise.all(Z.pages.map((q)=>Q.unload(q.texture.source._sourceOrigin))),Z.destroy()}};i0();class cM{constructor(Z,J=!1){this._loader=Z,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=J}add(Z){if(Z.forEach((J)=>{this._assetList.push(J)}),this.verbose)console.log("[BackgroundLoader] assets: ",this._assetList);if(this._isActive&&!this._isLoading)this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let Z=[],J=Math.min(this._assetList.length,this._maxConcurrent);for(let Q=0;Q<J;Q++)Z.push(this._assetList.pop());await this._loader.load(Z),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(Z){if(this._isActive===Z)return;if(this._isActive=Z,Z&&!this._isLoading)this._next()}}B9();g();a0();var qx={extension:{type:I.CacheParser,name:"cacheTextureArray"},test:(Z)=>Array.isArray(Z)&&Z.every((J)=>J instanceof p),getCacheableAssets:(Z,J)=>{let Q={};return Z.forEach((q)=>{J.forEach((K,X)=>{Q[q+(X===0?"":X+1)]=K})}),Q}};g();async function bV(Z){if("Image"in globalThis)return new Promise((J)=>{let Q=new Image;Q.onload=()=>{J(!0)},Q.onerror=()=>{J(!1)},Q.src=Z});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let J=await(await fetch(Z)).blob();await createImageBitmap(J)}catch(J){return!1}return!0}return!1}var Kx={extension:{type:I.DetectionParser,priority:1},test:async()=>bV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async(Z)=>[...Z,"avif"],remove:async(Z)=>Z.filter((J)=>J!=="avif")};g();var Xx=["png","jpg","jpeg"],Nx={extension:{type:I.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async(Z)=>[...Z,...Xx],remove:async(Z)=>Z.filter((J)=>!Xx.includes(J))};g();var Zs="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function L9(Z){if(Zs)return!1;return document.createElement("video").canPlayType(Z)!==""}var zx={extension:{type:I.DetectionParser,priority:0},test:async()=>L9("video/mp4"),add:async(Z)=>[...Z,"mp4","m4v"],remove:async(Z)=>Z.filter((J)=>J!=="mp4"&&J!=="m4v")};g();var Hx={extension:{type:I.DetectionParser,priority:0},test:async()=>L9("video/ogg"),add:async(Z)=>[...Z,"ogv"],remove:async(Z)=>Z.filter((J)=>J!=="ogv")};g();var Yx={extension:{type:I.DetectionParser,priority:0},test:async()=>L9("video/webm"),add:async(Z)=>[...Z,"webm"],remove:async(Z)=>Z.filter((J)=>J!=="webm")};g();var Vx={extension:{type:I.DetectionParser,priority:0},test:async()=>bV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async(Z)=>[...Z,"webp"],remove:async(Z)=>Z.filter((J)=>J!=="webp")};i0();SZ();MK();BH();var Ox=class Z{constructor(){this.loadOptions={...Z.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(J,Q,q)=>{return this._parsersValidated=!1,J[Q]=q,!0}}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(J,Q){let q={promise:null,parser:null};return q.promise=(async()=>{let K=null,X=null;if(Q.parser||Q.loadParser){if(X=this._parserHash[Q.parser||Q.loadParser],Q.loadParser)Z0(`[Assets] "loadParser" is deprecated, use "parser" instead for ${J}`);if(!X)Z0(`[Assets] specified load parser "${Q.parser||Q.loadParser}" not found while loading ${J}`)}if(!X){for(let z=0;z<this.parsers.length;z++){let Y=this.parsers[z];if(Y.load&&Y.test?.(J,Q,this)){X=Y;break}}if(!X)return Z0(`[Assets] ${J} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}K=await X.load(J,Q,this),q.parser=X;for(let z=0;z<this.parsers.length;z++){let Y=this.parsers[z];if(Y.parse){if(Y.parse&&await Y.testParse?.(K,Q,this))K=await Y.parse(K,Q,this)||K,q.parser=Y}}return K})(),q}async load(J,Q){if(!this._parsersValidated)this._validateParsers();let q=typeof Q==="function"?{...Z.defaultOptions,...this.loadOptions,onProgress:Q}:{...Z.defaultOptions,...this.loadOptions,...Q||{}},{onProgress:K,onError:X,strategy:z,retryCount:Y,retryDelay:O}=q,U=0,A={},B=bZ(J),_=s5(J,(C)=>({alias:[C],src:C,data:{}})),W=_.reduce((C,L)=>C+(L.progressSize||1),0),F=_.map(async(C)=>{let L=q5.toAbsolute(C.src);if(A[C.src])return;if(await this._loadAssetWithRetry(L,C,{onProgress:K,onError:X,strategy:z,retryCount:Y,retryDelay:O},A),U+=C.progressSize||1,K)K(U/W)});return await Promise.all(F),B?A[_[0].src]:A}async unload(J){let q=s5(J,(K)=>({alias:[K],src:K})).map(async(K)=>{let X=q5.toAbsolute(K.src),z=this.promiseCache[X];if(z){let Y=await z.promise;delete this.promiseCache[X],await z.parser?.unload?.(Y,K,this)}});await Promise.all(q)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((J)=>J.name||J.id).reduce((J,Q)=>{if(!Q.name&&!Q.id)Z0("[Assets] parser should have an id");else if(J[Q.name]||J[Q.id])Z0(`[Assets] parser id conflict "${Q.id}"`);if(J[Q.name]=Q,Q.id)J[Q.id]=Q;return J},{})}async _loadAssetWithRetry(J,Q,q,K){let X=0,{onError:z,strategy:Y,retryCount:O,retryDelay:U}=q,A=(B)=>new Promise((_)=>setTimeout(_,B));while(!0)try{if(!this.promiseCache[J])this.promiseCache[J]=this._getLoadPromiseAndParser(J,Q);K[Q.src]=await this.promiseCache[J].promise;return}catch(B){delete this.promiseCache[J],delete K[Q.src],X++;let _=Y!=="retry"||X>O;if(Y==="retry"&&!_){if(z)z(B,Q);await A(U);continue}if(Y==="skip"){if(z)z(B,Q);return}if(z)z(B,Q);throw Error(`[Loader.load] Failed to load ${J}.
${B}`)}}};Ox.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};var Ux=Ox;s0();g();function D6(Z,J){if(Array.isArray(J)){for(let Q of J)if(Z.startsWith(`data:${Q}`))return!0;return!1}return Z.startsWith(`data:${J}`)}SZ();function B6(Z,J){let Q=Z.split("?")[0],q=q5.extname(Q).toLowerCase();if(Array.isArray(J))return J.includes(q);return q===J}D9();var Js=".json",Qs="application/json",$x={extension:{type:I.LoadParser,priority:a5.Low},name:"loadJson",id:"json",test(Z){return D6(Z,Qs)||B6(Z,Js)},async load(Z){return await(await K0.get().fetch(Z)).json()}};s0();g();D9();var qs=".txt",Ks="text/plain",Ax={name:"loadTxt",id:"text",extension:{type:I.LoadParser,priority:a5.Low,name:"loadTxt"},test(Z){return D6(Z,Ks)||B6(Z,qs)},async load(Z){return await(await K0.get().fetch(Z)).text()}};s0();g();i0();SZ();B9();D9();var Xs=["normal","bold","100","200","300","400","500","600","700","800","900"],Ns=[".ttf",".otf",".woff",".woff2"],zs=["font/ttf","font/otf","font/woff","font/woff2"],Hs=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ys(Z){let J=q5.extname(Z),K=q5.basename(Z,J).replace(/(-|_)/g," ").toLowerCase().split(" ").map((Y)=>Y.charAt(0).toUpperCase()+Y.slice(1)),X=K.length>0;for(let Y of K)if(!Y.match(Hs)){X=!1;break}let z=K.join(" ");if(!X)z=`"${z.replace(/[\\"]/g,"\\$&")}"`;return z}var Vs=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Os(Z){if(Vs.test(Z))return Z;return encodeURI(Z)}var Dx={extension:{type:I.LoadParser,priority:a5.Low},name:"loadWebFont",id:"web-font",test(Z){return D6(Z,zs)||B6(Z,Ns)},async load(Z,J){let Q=K0.get().getFontFaceSet();if(Q){let q=[],K=J.data?.family??Ys(Z),X=J.data?.weights?.filter((Y)=>Xs.includes(Y))??["normal"],z=J.data??{};for(let Y=0;Y<X.length;Y++){let O=X[Y],U=new FontFace(K,`url(${Os(Z)})`,{...z,weight:O});await U.load(),Q.add(U),q.push(U)}if(y0.has(`${K}-and-url`))y0.get(`${K}-and-url`).entries.push({url:Z,faces:q});else y0.set(`${K}-and-url`,{entries:[{url:Z,faces:q}]});return q.length===1?q[0]:q}return Z0("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(Z){let J=Array.isArray(Z)?Z:[Z],Q=J[0].family,q=y0.get(`${Q}-and-url`),K=q.entries.find((X)=>X.faces.some((z)=>J.indexOf(z)!==-1));if(K.faces=K.faces.filter((X)=>J.indexOf(X)===-1),K.faces.length===0)q.entries=q.entries.filter((X)=>X!==K);if(J.forEach((X)=>{K0.get().getFontFaceSet().delete(X)}),q.entries.length===0)y0.remove(`${Q}-and-url`)}};s0();g();SJ();KY();IJ();function KQ(Z,J=1){let Q=U6.RETINA_PREFIX?.exec(Z);if(Q)return parseFloat(Q[1]);return J}D9();a0();i0();B9();function XQ(Z,J,Q){Z.label=Q,Z._sourceOrigin=Q;let q=new p({source:Z,label:Q}),K=()=>{if(delete J.promiseCache[Q],y0.has(Q))y0.remove(Q)};return q.source.once("destroy",()=>{if(J.promiseCache[Q])Z0("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),K()}),q.once("destroy",()=>{if(!Z.destroyed)Z0("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),K()}),q}var Us=".svg",$s="image/svg+xml",Bx={extension:{type:I.LoadParser,priority:a5.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(Z){return D6(Z,$s)||B6(Z,Us)},async load(Z,J,Q){if(J.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext)return Ds(Z);return As(Z,J,Q,this.config.crossOrigin)},unload(Z){Z.destroy(!0)}};async function As(Z,J,Q,q){let K=await K0.get().fetch(Z),X=K0.get().createImage();X.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await K.text())}`,X.crossOrigin=q,await X.decode();let z=J.data?.width??X.width,Y=J.data?.height??X.height,O=J.data?.resolution||KQ(Z),U=Math.ceil(z*O),A=Math.ceil(Y*O),B=K0.get().createCanvas(U,A),_=B.getContext("2d");_.imageSmoothingEnabled=!0,_.imageSmoothingQuality="high",_.drawImage(X,0,0,z*O,Y*O);let{parseAsGraphicsContext:W,...F}=J.data??{},C=new c8({resource:B,alphaMode:"premultiply-alpha-on-upload",resolution:O,...F});return XQ(C,Q,Z)}async function Ds(Z){let Q=await(await K0.get().fetch(Z)).text(),q=new o5;return q.svg(Q),q}s0();g();SJ();var NQ=null;class KX{constructor(){if(!NQ)NQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`],{type:"application/javascript"}));this.worker=new Worker(NQ)}}KX.revokeObjectURL=function(){if(NQ)URL.revokeObjectURL(NQ),NQ=null};var zQ=null;class kV{constructor(){if(!zQ)zQ=URL.createObjectURL(new Blob([`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`],{type:"application/javascript"}));this.worker=new Worker(zQ)}}kV.revokeObjectURL=function(){if(zQ)URL.revokeObjectURL(zQ),zQ=null};var _x=0,uM;class Mx{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){if(this._isImageBitmapSupported!==void 0)return this._isImageBitmapSupported;return this._isImageBitmapSupported=new Promise((Z)=>{let{worker:J}=new KX;J.addEventListener("message",(Q)=>{J.terminate(),KX.revokeObjectURL(),Z(Q.data)})}),this._isImageBitmapSupported}loadImageBitmap(Z,J){return this._run("loadImageBitmap",[Z,J?.data?.alphaMode])}async _initWorkers(){if(this._initialized)return;this._initialized=!0}_getWorker(){if(uM===void 0)uM=navigator.hardwareConcurrency||4;let Z=this._workerPool.pop();if(!Z&&this._createdWorkers<uM)this._createdWorkers++,Z=new kV().worker,Z.addEventListener("message",(J)=>{this._complete(J.data),this._returnWorker(J.target),this._next()});return Z}_returnWorker(Z){this._workerPool.push(Z)}_complete(Z){if(Z.error!==void 0)this._resolveHash[Z.uuid].reject(Z.error);else this._resolveHash[Z.uuid].resolve(Z.data);this._resolveHash[Z.uuid]=null}async _run(Z,J){await this._initWorkers();let Q=new Promise((q,K)=>{this._queue.push({id:Z,arguments:J,resolve:q,reject:K})});return this._next(),Q}_next(){if(!this._queue.length)return;let Z=this._getWorker();if(!Z)return;let J=this._queue.pop(),Q=J.id;this._resolveHash[_x]={resolve:J.resolve,reject:J.reject},Z.postMessage({data:J.arguments,uuid:_x++,id:Q})}reset(){this._workerPool.forEach((Z)=>Z.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:Z})=>{Z?.(Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}var lM=new Mx;D9();var Bs=[".jpeg",".jpg",".png",".webp",".avif"],_s=["image/jpeg","image/png","image/webp","image/avif"];async function Ms(Z,J){let Q=await K0.get().fetch(Z);if(!Q.ok)throw Error(`[loadImageBitmap] Failed to fetch ${Z}: ${Q.status} ${Q.statusText}`);let q=await Q.blob();return J?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(q,{premultiplyAlpha:"none"}):createImageBitmap(q)}var PV={name:"loadTextures",id:"texture",extension:{type:I.LoadParser,priority:a5.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(Z){return D6(Z,_s)||B6(Z,Bs)},async load(Z,J,Q){let q=null;if(globalThis.createImageBitmap&&this.config.preferCreateImageBitmap)if(this.config.preferWorkers&&await lM.isImageBitmapSupported())q=await lM.loadImageBitmap(Z,J);else q=await Ms(Z,J);else q=await new Promise((X,z)=>{if(q=K0.get().createImage(),q.crossOrigin=this.config.crossOrigin,q.src=Z,q.complete)X(q);else q.onload=()=>{X(q)},q.onerror=z});let K=new c8({resource:q,alphaMode:"premultiply-alpha-on-upload",resolution:J.data?.resolution||KQ(Z),...J.data});return XQ(K,Q,Z)},unload(Z){Z.destroy(!0)}};g();QB();JB();var Ws=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],pM,iM;function Gs(Z,J,Q){if(Q===void 0&&!J.startsWith("data:"))Z.crossOrigin=js(J);else if(Q!==!1)Z.crossOrigin=typeof Q==="string"?Q:"anonymous"}function Fs(Z){return new Promise((J,Q)=>{Z.addEventListener("canplaythrough",q),Z.addEventListener("error",K),Z.load();function q(){X(),J()}function K(z){X(),Q(z)}function X(){Z.removeEventListener("canplaythrough",q),Z.removeEventListener("error",K)}})}function js(Z,J=globalThis.location){if(Z.startsWith("data:"))return"";J||(J=globalThis.location);let Q=new URL(Z,document.baseURI);if(Q.hostname!==J.hostname||Q.port!==J.port||Q.protocol!==J.protocol)return"anonymous";return""}function ws(){let Z=[],J=[];for(let Q of Ws){let q=kZ.MIME_TYPES[Q.substring(1)]||`video/${Q.substring(1)}`;if(L9(q)){if(Z.push(Q),!J.includes(q))J.push(q)}}return{validVideoExtensions:Z,validVideoMime:J}}var Wx={name:"loadVideo",id:"video",extension:{type:I.LoadParser,name:"loadVideo"},test(Z){if(!pM||!iM){let{validVideoExtensions:q,validVideoMime:K}=ws();pM=q,iM=K}let J=D6(Z,iM),Q=B6(Z,pM);return J||Q},async load(Z,J,Q){let q={...kZ.defaultOptions,resolution:J.data?.resolution||KQ(Z),alphaMode:J.data?.alphaMode||await LH(),...J.data},K=document.createElement("video"),X={preload:q.autoLoad!==!1?"auto":void 0,"webkit-playsinline":q.playsinline!==!1?"":void 0,playsinline:q.playsinline!==!1?"":void 0,muted:q.muted===!0?"":void 0,loop:q.loop===!0?"":void 0,autoplay:q.autoPlay!==!1?"":void 0};if(Object.keys(X).forEach((O)=>{let U=X[O];if(U!==void 0)K.setAttribute(O,U)}),q.muted===!0)K.muted=!0;Gs(K,Z,q.crossorigin);let z=document.createElement("source"),Y;if(q.mime)Y=q.mime;else if(Z.startsWith("data:"))Y=Z.slice(5,Z.indexOf(";"));else if(!Z.startsWith("blob:")){let O=Z.split("?")[0].slice(Z.lastIndexOf(".")+1).toLowerCase();Y=kZ.MIME_TYPES[O]||`video/${O}`}if(z.src=Z,Y)z.type=Y;return new Promise((O)=>{let U=async()=>{let A=new kZ({...q,resource:K});if(K.removeEventListener("canplay",U),J.data.preload)await Fs(K);O(XQ(A,Q,Z))};if(q.preload&&!q.autoPlay)K.load();K.addEventListener("canplay",U),K.appendChild(z)})},unload(Z){Z.destroy(!0)}};g();IJ();g();IJ();var vV={extension:{type:I.ResolveParser,name:"resolveTexture"},test:PV.test,parse:(Z)=>({resolution:parseFloat(U6.RETINA_PREFIX.exec(Z)?.[1]??"1"),format:Z.split(".").pop(),src:Z})};var Gx={extension:{type:I.ResolveParser,priority:-2,name:"resolveJson"},test:(Z)=>U6.RETINA_PREFIX.test(Z)&&Z.endsWith(".json"),parse:vV.parse};IJ();MK();BH();class aM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new U6,this.loader=new Ux,this.cache=y0,this._backgroundLoader=new cM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(Z={}){if(this._initialized){Z0("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,Z.defaultSearchParams)this.resolver.setDefaultSearchParams(Z.defaultSearchParams);if(Z.basePath)this.resolver.basePath=Z.basePath;if(Z.bundleIdentifier)this.resolver.setBundleIdentifier(Z.bundleIdentifier);if(Z.manifest){let K=Z.manifest;if(typeof K==="string")K=await this.load(K);this.resolver.addManifest(K)}let J=Z.texturePreference?.resolution??1,Q=typeof J==="number"?[J]:J,q=await this._detectFormats({preferredFormats:Z.texturePreference?.format,skipDetections:Z.skipDetections,detections:this._detections});if(this.resolver.prefer({params:{format:q,resolution:Q}}),Z.preferences)this.setPreferences(Z.preferences);if(Z.loadOptions)this.loader.loadOptions={...this.loader.loadOptions,...Z.loadOptions}}add(Z){this.resolver.add(Z)}async load(Z,J){if(!this._initialized)await this.init();let Q=bZ(Z),q=s5(Z).map((z)=>{if(typeof z!=="string"){let Y=this.resolver.getAlias(z);if(Y.some((O)=>!this.resolver.hasKey(O)))this.add(z);return Array.isArray(Y)?Y[0]:Y}if(!this.resolver.hasKey(z))this.add({alias:z,src:z});return z}),K=this.resolver.resolve(q),X=await this._mapLoadToResolve(K,J);return Q?X[q[0]]:X}addBundle(Z,J){this.resolver.addBundle(Z,J)}async loadBundle(Z,J){if(!this._initialized)await this.init();let Q=!1;if(typeof Z==="string")Q=!0,Z=[Z];let q=this.resolver.resolveBundle(Z),K={},X=Object.keys(q),z=0,Y=[],O=()=>{J?.(Y.reduce((A,B)=>A+B,0)/z)},U=X.map((A,B)=>{let _=q[A],W=Object.values(_),C=[...new Set(W.flat())].reduce((L,G)=>L+(G.progressSize||1),0);return Y.push(0),z+=C,this._mapLoadToResolve(_,(L)=>{Y[B]=L*C,O()}).then((L)=>{K[A]=L})});return await Promise.all(U),Q?K[Z[0]]:K}async backgroundLoad(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolve(Z);this._backgroundLoader.add(Object.values(J))}async backgroundLoadBundle(Z){if(!this._initialized)await this.init();if(typeof Z==="string")Z=[Z];let J=this.resolver.resolveBundle(Z);Object.values(J).forEach((Q)=>{this._backgroundLoader.add(Object.values(Q))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(Z){if(typeof Z==="string")return y0.get(Z);let J={};for(let Q=0;Q<Z.length;Q++)J[Q]=y0.get(Z[Q]);return J}async _mapLoadToResolve(Z,J){let Q=[...new Set(Object.values(Z))];this._backgroundLoader.active=!1;let q=await this.loader.load(Q,J);this._backgroundLoader.active=!0;let K={};return Q.forEach((X)=>{let z=q[X.src],Y=[X.src];if(X.alias)Y.push(...X.alias);Y.forEach((O)=>{K[O]=z}),y0.set(Y,z)}),K}async unload(Z){if(!this._initialized)await this.init();let J=s5(Z).map((q)=>typeof q!=="string"?q.src:q),Q=this.resolver.resolve(J);await this._unloadFromResolved(Q)}async unloadBundle(Z){if(!this._initialized)await this.init();Z=s5(Z);let J=this.resolver.resolveBundle(Z),Q=Object.keys(J).map((q)=>this._unloadFromResolved(J[q]));await Promise.all(Q)}async _unloadFromResolved(Z){let J=Object.values(Z);J.forEach((Q)=>{y0.remove(Q.src)}),await this.loader.unload(J)}async _detectFormats(Z){let J=[];if(Z.preferredFormats)J=Array.isArray(Z.preferredFormats)?Z.preferredFormats:[Z.preferredFormats];for(let Q of Z.detections)if(Z.skipDetections||await Q.test())J=await Q.add(J);else if(!Z.skipDetections)J=await Q.remove(J);return J=J.filter((Q,q)=>J.indexOf(Q)===q),J}get detections(){return this._detections}setPreferences(Z){this.loader.parsers.forEach((J)=>{if(!J.config)return;Object.keys(J.config).filter((Q)=>(Q in Z)).forEach((Q)=>{J.config[Q]=Z[Q]})})}}var lZ=new aM;J0.handleByList(I.LoadParser,lZ.loader.parsers).handleByList(I.ResolveParser,lZ.resolver.parsers).handleByList(I.CacheParser,lZ.cache.parsers).handleByList(I.DetectionParser,lZ.detections);J0.add(qx,Nx,Kx,Vx,zx,Hx,Yx,$x,Ax,Dx,Bx,PV,Wx,Qx,Jx,vV,Gx);var Fx={loader:I.LoadParser,resolver:I.ResolveParser,cache:I.CacheParser,detection:I.DetectionParser};J0.handle(I.Asset,(Z)=>{let J=Z.ref;Object.entries(Fx).filter(([Q])=>!!J[Q]).forEach(([Q,q])=>J0.add(Object.assign(J[Q],{extension:J[Q].extension??q})))},(Z)=>{let J=Z.ref;Object.keys(Fx).filter((Q)=>!!J[Q]).forEach((Q)=>J0.remove(J[Q]))});q4();$6();M1();cZ();q4();$6();cZ();X4();var fV={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]};var Cs=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function jx(Z){let J=fV[Z],Q=J.length,q=Cs,K="",X="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;",z;for(let Y=0;Y<Z;Y++){let O=X.replace("%index%",Y.toString());if(z=Y,Y>=Q)z=Z-Y-1;O=O.replace("%value%",J[z].toString()),K+=O,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q}function wx(Z,J){let Q=Math.ceil(Z/2),q=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`,K="",X;if(J)X="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);";else X="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let z=0;z<Z;z++){let Y=X.replace("%index%",z.toString());Y=Y.replace("%sampleIndex%",`${z-(Q-1)}.0`),K+=Y,K+=`
`}return q=q.replace("%blur%",K),q=q.replace("%size%",Z.toString()),q=q.replace("%dimension%",J?"z":"w"),q}function Cx(Z,J){let Q=wx(J,Z),q=jx(J);return $5.from({vertex:Q,fragment:q,name:`blur-${Z?"horizontal":"vertical"}-pass-filter`})}X7();var Lx=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function Rx(Z,J){let Q=fV[J],q=Q.length,K=[],X=[],z=[];for(let B=0;B<J;B++){if(K[B]=`@location(${B}) offset${B}: vec2<f32>,`,Z)X[B]=`filteredCord + vec2(${B-q+1} * pixelStrength, 0.0),`;else X[B]=`filteredCord + vec2(0.0, ${B-q+1} * pixelStrength),`;let _=B<q?B:J-B-1,W=Q[_].toString();z[B]=`finalColor += textureSample(uTexture, uSampler, offset${B}) * ${W};`}let Y=K.join(`
`),O=X.join(`
`),U=z.join(`
`),A=Lx.replace("%blur-struct%",Y).replace("%blur-vertex-out%",O).replace("%blur-fragment-in%",Y).replace("%blur-sampling%",U).replace("%dimension%",Z?"z":"w");return A5.from({vertex:{source:A,entryPoint:"mainVertex"},fragment:{source:A,entryPoint:"mainFragment"}})}var Ex=class Z extends W1{constructor(J){J={...Z.defaultOptions,...J};let Q=Cx(J.horizontal,J.kernelSize),q=Rx(J.horizontal,J.kernelSize);super({glProgram:Q,gpuProgram:q,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...J});this.horizontal=J.horizontal,this._quality=0,this.quality=J.quality,this.blur=J.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(J,Q,q,K){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)J.applyFilter(this,Q,q,K);else{let X=t0.getSameSizeTexture(Q),z=Q,Y=X;this._state.blend=!1;let O=J.renderer.type===F1.WEBGPU;for(let U=0;U<this.passes-1;U++){J.applyFilter(this,z,Y,U===0?!0:O);let A=Y;Y=z,z=A}this._state.blend=!0,J.applyFilter(this,z,q,K),t0.returnTexture(X)}}get blur(){return this.strength}set blur(J){this.padding=1+Math.abs(J)*2,this.strength=J}get quality(){return this._quality}set quality(J){this._quality=J,this.passes=J}};Ex.defaultOptions={strength:8,quality:4,kernelSize:5};var yV=Ex;class pZ extends W1{constructor(...Z){let J=Z[0]??{};if(typeof J==="number"){if(q0(Y0,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),J={strength:J},Z[1]!==void 0)J.quality=Z[1];if(Z[2]!==void 0)J.resolution=Z[2]||"inherit";if(Z[3]!==void 0)J.kernelSize=Z[3]}J={...yV.defaultOptions,...J};let{strength:Q,strengthX:q,strengthY:K,quality:X,...z}=J;super({...z,compatibleRenderers:F1.BOTH,resources:{}});this._repeatEdgePixels=!1,this.blurXFilter=new yV({horizontal:!0,...J}),this.blurYFilter=new yV({horizontal:!1,...J}),this.quality=X,this.strengthX=q??Q,this.strengthY=K??Q,this.repeatEdgePixels=!1}apply(Z,J,Q,q){let K=Math.abs(this.blurXFilter.strength),X=Math.abs(this.blurYFilter.strength);if(K&&X){let z=t0.getSameSizeTexture(J);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(Z,J,z,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,z,Q,q),t0.returnTexture(z)}else if(X)this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(Z,J,Q,q);else this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(Z,J,Q,q)}updatePadding(){if(this._repeatEdgePixels)this.padding=0;else this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(Z){this.blurXFilter.blur=this.blurYFilter.blur=Z,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(Z){this.blurXFilter.quality=this.blurYFilter.quality=Z}get strengthX(){return this.blurXFilter.blur}set strengthX(Z){this.blurXFilter.blur=Z,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(Z){this.blurYFilter.blur=Z,this.updatePadding()}get blur(){return q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(Z){q0("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=Z}get blurX(){return q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(Z){q0("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=Z}get blurY(){return q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(Z){q0("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=Z}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(Z){this._repeatEdgePixels=Z,this.updatePadding()}}pZ.defaultOptions={strength:8,quality:4,kernelSize:5};v5();X4();X7();f5();cZ();v_();var Ix=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`;var sM=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class HQ extends W1{constructor(Z={}){let J=new n0({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),Q=A5.from({vertex:{source:sM,entryPoint:"mainVertex"},fragment:{source:sM,entryPoint:"mainFragment"}}),q=$5.from({vertex:GY,fragment:Ix,name:"color-matrix-filter"});super({...Z,gpuProgram:Q,glProgram:q,resources:{colorMatrixUniforms:J}});this.alpha=1}_loadMatrix(Z,J=!1){let Q=Z;if(J)this._multiply(Q,this.matrix,Z),Q=this._colorMatrix(Q);this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Q,this.resources.colorMatrixUniforms.update()}_multiply(Z,J,Q){return Z[0]=J[0]*Q[0]+J[1]*Q[5]+J[2]*Q[10]+J[3]*Q[15],Z[1]=J[0]*Q[1]+J[1]*Q[6]+J[2]*Q[11]+J[3]*Q[16],Z[2]=J[0]*Q[2]+J[1]*Q[7]+J[2]*Q[12]+J[3]*Q[17],Z[3]=J[0]*Q[3]+J[1]*Q[8]+J[2]*Q[13]+J[3]*Q[18],Z[4]=J[0]*Q[4]+J[1]*Q[9]+J[2]*Q[14]+J[3]*Q[19]+J[4],Z[5]=J[5]*Q[0]+J[6]*Q[5]+J[7]*Q[10]+J[8]*Q[15],Z[6]=J[5]*Q[1]+J[6]*Q[6]+J[7]*Q[11]+J[8]*Q[16],Z[7]=J[5]*Q[2]+J[6]*Q[7]+J[7]*Q[12]+J[8]*Q[17],Z[8]=J[5]*Q[3]+J[6]*Q[8]+J[7]*Q[13]+J[8]*Q[18],Z[9]=J[5]*Q[4]+J[6]*Q[9]+J[7]*Q[14]+J[8]*Q[19]+J[9],Z[10]=J[10]*Q[0]+J[11]*Q[5]+J[12]*Q[10]+J[13]*Q[15],Z[11]=J[10]*Q[1]+J[11]*Q[6]+J[12]*Q[11]+J[13]*Q[16],Z[12]=J[10]*Q[2]+J[11]*Q[7]+J[12]*Q[12]+J[13]*Q[17],Z[13]=J[10]*Q[3]+J[11]*Q[8]+J[12]*Q[13]+J[13]*Q[18],Z[14]=J[10]*Q[4]+J[11]*Q[9]+J[12]*Q[14]+J[13]*Q[19]+J[14],Z[15]=J[15]*Q[0]+J[16]*Q[5]+J[17]*Q[10]+J[18]*Q[15],Z[16]=J[15]*Q[1]+J[16]*Q[6]+J[17]*Q[11]+J[18]*Q[16],Z[17]=J[15]*Q[2]+J[16]*Q[7]+J[17]*Q[12]+J[18]*Q[17],Z[18]=J[15]*Q[3]+J[16]*Q[8]+J[17]*Q[13]+J[18]*Q[18],Z[19]=J[15]*Q[4]+J[16]*Q[9]+J[17]*Q[14]+J[18]*Q[19]+J[19],Z}_colorMatrix(Z){let J=new Float32Array(Z);return J[4]/=255,J[9]/=255,J[14]/=255,J[19]/=255,J}brightness(Z,J){let Q=[Z,0,0,0,0,0,Z,0,0,0,0,0,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}tint(Z,J){let[Q,q,K]=F0.shared.setValue(Z).toArray(),X=[Q,0,0,0,0,0,q,0,0,0,0,0,K,0,0,0,0,0,1,0];this._loadMatrix(X,J)}greyscale(Z,J){let Q=[Z,Z,Z,0,0,Z,Z,Z,0,0,Z,Z,Z,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}grayscale(Z,J){this.greyscale(Z,J)}blackAndWhite(Z){let J=[0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}hue(Z,J){Z=(Z||0)/180*Math.PI;let Q=Math.cos(Z),q=Math.sin(Z),K=Math.sqrt,X=0.3333333333333333,z=K(X),Y=Q+(1-Q)*X,O=X*(1-Q)-z*q,U=X*(1-Q)+z*q,A=X*(1-Q)+z*q,B=Q+X*(1-Q),_=X*(1-Q)-z*q,W=X*(1-Q)-z*q,F=X*(1-Q)+z*q,C=Q+X*(1-Q),L=[Y,O,U,0,0,A,B,_,0,0,W,F,C,0,0,0,0,0,1,0];this._loadMatrix(L,J)}contrast(Z,J){let Q=(Z||0)+1,q=-0.5*(Q-1),K=[Q,0,0,0,q,0,Q,0,0,q,0,0,Q,0,q,0,0,0,1,0];this._loadMatrix(K,J)}saturate(Z=0,J){let Q=Z*2/3+1,q=(Q-1)*-0.5,K=[Q,q,q,0,0,q,Q,q,0,0,q,q,Q,0,0,0,0,0,1,0];this._loadMatrix(K,J)}desaturate(){this.saturate(-1)}negative(Z){let J=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(J,Z)}sepia(Z){let J=[0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}technicolor(Z){let J=[1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(J,Z)}polaroid(Z){let J=[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}toBGR(Z){let J=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}kodachrome(Z){let J=[1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(J,Z)}browni(Z){let J=[0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(J,Z)}vintage(Z){let J=[0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(J,Z)}colorTone(Z,J,Q,q,K){Z||(Z=0.2),J||(J=0.15),Q||(Q=16770432),q||(q=3375104);let X=F0.shared,[z,Y,O]=X.setValue(Q).toArray(),[U,A,B]=X.setValue(q).toArray(),_=[0.3,0.59,0.11,0,0,z,Y,O,Z,0,U,A,B,J,0,z-U,Y-A,O-B,0,0];this._loadMatrix(_,K)}night(Z,J){Z||(Z=0.1);let Q=[Z*-2,-Z,0,0,0,-Z,0,Z,0,0,0,Z,Z*2,0,0,0,0,0,1,0];this._loadMatrix(Q,J)}predator(Z,J){let Q=[11.224130630493164*Z,-4.794486999511719*Z,-2.8746118545532227*Z,0*Z,0.40342438220977783*Z,-3.6330697536468506*Z,9.193157196044922*Z,-2.951810836791992*Z,0*Z,-1.316135048866272*Z,-3.2184197902679443*Z,-4.2375030517578125*Z,7.476448059082031*Z,0*Z,0.8044459223747253*Z,0,0,0,1,0];this._loadMatrix(Q,J)}lsd(Z){let J=[2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0];this._loadMatrix(J,Z)}reset(){let Z=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(Z,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(Z){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=Z}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(Z){this.resources.colorMatrixUniforms.uniforms.uAlpha=Z}}cZ();a0();KB();S6();D_();WH();gK();C5();J0.add(fv,hv);m5();var nM=1,oM=8,YQ=32,tM=2;m5();var rM=aQ({}),Tx=rM.Provider,vB0=rM.Consumer;function hV(Z,J){let Q=Object.getPrototypeOf(Z),q=Object.getOwnPropertyDescriptor(Q,J);return!(typeof q>"u"||q.writable||q.set)}var E5={currentUpdatePriority:YQ,debug:!1,unmountQueue:new Set};function e(Z,...J){if(!E5.debug)return;let Q=console[Z];if(!(Q instanceof Function)){console.warn(`Attempted to create an invalid log type: "${Z}"`);return}Q("@pixi/react",...J)}function xV(Z,J={}){let Q=Z;return Q.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},J),Q}var Ls="@pixi/react",Rs="0.0.0-development",Es="Write PixiJS applications using React declarative style.",Is=["react","pixi"],Ts="https://github.com/pixijs/pixi-react#readme",Ss={url:"https://github.com/pixijs/pixi-react/issues"},bs={type:"git",url:"git+https://github.com/pixijs/pixi-react.git"},ks="MIT",Ps={".":{import:{types:"./types/index.d.ts",default:"./lib/index.mjs"},require:{types:"./types/index.d.ts",default:"./lib/index.js"}}},vs="lib/index.js",fs="lib/index.mjs",ys="types/index.d.ts",hs=["lib","dist","types"],xs=["docs"],gs={build:"rimraf dist lib types && rollup -c && tsc","build:docs":"npm run --workspace docs build",deploy:"npm run deploy --workspace docs","start:docs":"npm run --workspace docs start",clean:"xs clean",docs:"xs docs",lint:"xs lint","lint:fix":"xs lint --fix",prepare:"husky install",prerelease:"npm run test:lint && npm run build",release:"xs bump,publish,git-push",test:"tsc --project tsconfig.test.json && vitest run","test:e2e":"tsc --project tsconfig.test.json && vitest run e2e","test:unit":"tsc --project tsconfig.test.json && vitest run unit","test:lint":"xs lint","test:watch":"vitest","test:types":"tsc --noEmit --emitDeclarationOnly false"},ms={hooks:{"pre-commit":"lint-staged"}},ds={"its-fine":"^2.0.0","react-reconciler":"0.31.0"},cs={"@pixi/extension-scripts":"^4.0.0","@rollup/plugin-commonjs":"^25.0.8","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@testing-library/jest-dom":"^6.4.8","@testing-library/react":"^16.1.0","@testing-library/user-event":"^14.5.2","@types/react":"^19.0.0","@types/react-reconciler":"^0.28.9","@vitejs/plugin-react":"^4.3.1","@vitest/browser":"^2.0.4","eslint-plugin-react-hooks":"^5.2.0",husky:"^8.0.0",jsdom:"^25.0.0","pixi.js":"8.2.6",playwright:"^1.45.3",react:"^19.0.0","react-dom":"^19.0.0",rollup:"^4.18.0","rollup-plugin-esbuild":"^6.1.1","rollup-plugin-inject-process-env":"^1.3.1","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-sourcemaps":"^0.6.3",typescript:"^5.4.5",vitest:"^2.0.0"},us={"pixi.js":"^8.2.6",react:">=19.0.0"},ls={rollup:"^4.18.0"},ps={access:"public"},is={lint:["test","src","docs"],environments:["node"],docsName:"PixiJS React",docsTitle:"PixiJS React API Documentation",docsDescription:"Documentation for PixiJS React library",docsKeyword:"docs, documentation, pixi, pixijs, react, html5, javascript, jsdoc"},Sx={name:Ls,version:Rs,description:Es,keywords:Is,homepage:Ts,bugs:Ss,repository:bs,license:ks,exports:Ps,main:vs,module:fs,types:ys,files:hs,workspaces:xs,scripts:gs,husky:ms,"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix --max-warnings 0"]},dependencies:ds,devDependencies:cs,peerDependencies:us,overrides:ls,publishConfig:ps,extensionConfig:is};function bx(){e("info","lifecycle::afterActiveInstanceBlur")}function gV(Z,J,Q){if(J instanceof W1){if(J.__pixireact.parent=Z,typeof Q==="number")Z.__pixireact.filters.splice(Q,0,J);else Z.__pixireact.filters.push(J);Z.filters=Z.__pixireact.filters}}function mV(Z,J){if(e("info","lifecycle::appendChild"),!J)return;if(J instanceof f0)Z.addChild(J);else if(J instanceof W1)gV(Z,J)}function kx(){e("info","lifecycle::beforeActiveInstanceBlur")}function Px(){return e("info","lifecycle::clearContainer"),!1}var XX=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),iZ=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function vx(Z){return Array.isArray(Z)}function eM(Z,J,Q={arrays:"reference",objects:"reference",strict:!0}){let{arrays:q,objects:K,strict:X}=Q;if(typeof Z!==typeof J||!!Z!==!!J)return!1;if(ns(Z)||as(Z))return Z===J;let z=ss(Z);if(z&&K==="reference")return Z===J;let Y=vx(Z);if(Y&&q==="reference")return Z===J;if((Y||z)&&Z===J)return!0;let O;for(O in Z)if(!(O in J))return!1;let U=Z;if(X)U=J;if(z&&q==="shallow"&&K==="shallow"){for(O in U)if(!eM(Z[O],J[O],{strict:X,objects:"reference"}))return!1}else for(O in U)if(Z[O]!==J[O])return!1;if(ZW(O)){if(Y&&Z.length===0&&J.length===0)return!0;if(z&&Object.keys(Z).length===0&&Object.keys(J).length===0)return!0;if(Z!==J)return!1}return!0}function fx(Z){return Z===null}function as(Z){return typeof Z==="number"}function ss(Z){if(Z!==Object(Z))return!1;if(vx(Z))return!1;if(typeof Z==="function")return!1;return!0}function ns(Z){return typeof Z==="string"}function ZW(Z){return Z===void 0}var yx=Object.freeze(["children","key","ref"]);function hx(Z,J=[]){let Q={};return Object.entries(Z).reduce((q,[K,X])=>{if(!J.includes(K))q[K]=X;return q},Q)}function NX(Z,J=[]){return hx(Z,yx.concat(J))}var os="__default";function dV(Z,J={},Q=!1){let q=NX(Z),K=NX(J),X=Object.entries(q),z=[];if(Q){let Y=Object.keys(K),O=0;while(O<Y.length){let U=Y[O];if(!(U in q))X.unshift([U,`${os}remove`]);O+=1}}return X.forEach(([Y,O])=>{if(eM(O,K[Y]))return;if(Y in iZ){z.push([Y,O,!0,[]]);return}let U=[];if(Y.includes("-"))U=Y.split("-");z.push([Y,O,!1,U]);for(let A in q){let B=q[A];if(A.startsWith(`${Y}-`))z.push([A,B,!1,A.split("-")])}}),{changes:z}}function xx(Z){let J=Z;if(!J)return!1;if(!J.changes)return!1;return!0}var ts="__default",gx=new Map,mx={};function dx(Z,J){if(Z){let Q=Z[J];if(!ZW(Q)&&!fx(Q))return Q}return Z}function cV(Z,J){let{__pixireact:Q={},...q}=Z,K;if(xx(J))K=J;else K=dV(J,q);let{changes:X}=K,z=0;while(z<X.length){let Y=X[z],O=!1,U=Y[0],A=Y[1],B=Y[2],_=Y[3],W=Z,F=W[U];if(U==="draw"&&typeof A==="function")if(Z instanceof x6)A(Z);else O=!0,e("warn",`The \`draw\` prop was used on a \`${Q.type}\` component, but it's only valid on \`graphics\` components.`);if(U in XX){let C=U;if(O=!0,!mx[U])mx[U]=!0,e("warn",`Event names must be pascal case; instead of \`${U}\`, you probably want \`${XX[C]}\`.`)}if(!O){if(_.length){if(F=_.reduce(dx,W),!(F&&F.set)){let[C,...L]=_.reverse();W=L.reverse().reduce(dx,W),U=C}}if(A===`${ts}remove`)if(W instanceof f0){let C=gx.get(W.constructor);if(!C)C=W.constructor,C=new C,gx.set(W.constructor,C);A=C[U]}else A=0;if(B&&Q){let L=iZ[U];if(A)W[L]=A;else delete W[L]}else if(!hV(W,U))W[U]=A}z+=1}return Z}function cx(Z,J,Q,q){e("info","lifecycle::prepareUpdate");let{children:K,...X}=q,{children:z,...Y}=Q,O=dV(X,Y,!0);if(O.changes.length)return O;return null}function ux(Z,J,Q,q){e("info","lifecycle::commitUpdate");let K=cx(Z,J,Q,q);if(K)cV(Z,K)}var lx=Object.freeze([...Object.keys(XX),"draw"]);var zX={};function px(Z){let J=Z.charAt(0),Q=Z.substring(1);return`${J.toUpperCase()}${Q}`}function rs(Z,J){return J.toLowerCase()}function ix(Z){let J=Z;if(Z.startsWith("pixi"))J=Z.replace(/^pixi([A-Z])/,rs);return J}function ax(Z,J,Q){e("info","lifecycle::createInstance");let q=ix(Z),K=px(q);if(!(K in zX))throw Error(`${K} is not part of the PIXI namespace! Did you forget to extend?`);let X=zX[K],z=NX(J,lx);Object.entries(J).forEach(([O,U])=>{if(O in iZ){let A=iZ[O];z[A]=U}});let Y=xV(new X(z),{root:Q,type:q});return cV(Y,J),Y}var qg=dQ(Qg(),1),Kg=qg.default;function Xg(Z,J,Q,q){throw e("info","lifecycle::createTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function Ng(){e("info","lifecycle::detachDeletedInstance")}function zg(){return e("info","lifecycle::finalizeInitialChildren"),!1}var tV={};function Hg(Z){return e("info","lifecycle::getChildHostContext"),Z??tV}function Yg(){return e("info","lifecycle::getCurrentUpdatePriority"),E5.currentUpdatePriority}function Vg(){return e("info","lifecycle::getInstanceFromNode"),null}function Og(Z){throw e("info","lifecycle:getInstanceFromScope"),Error("Not yet implemented.")}function Ug(Z){return e("info","lifecycle::getPublicInstance"),Z}function $g(){return e("info","lifecycle::getRootHostContext"),tV}function Ag(Z){if(Z instanceof f0)Z.visible=!1;else if(Z instanceof W1)Z.enabled=!1}function Dg(Z){throw e("info","lifecycle::hideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function rV(Z){if(Z instanceof W1){let J=Z.__pixireact.parent;if(J){let Q=J.__pixireact.filters.indexOf(Z);J.__pixireact.filters.splice(Q,1),J.filters=J.__pixireact.filters}Z.__pixireact.parent=null}}function eV(Z,J,...Q){return}function BW(Z,J,Q){if(e("info","lifecycle::insertBefore"),eV(J!==Q,"Cannot insert node before itself"),J instanceof f0){let q=J,K=J,X=Q;if(q.parent===Z)Z.removeChild(K);let z=Z.getChildIndex(X);Z.addChildAt(K,z)}else if(J instanceof W1){let X=J.__pixireact.filters.indexOf(Q);rV(J),gV(Z,J,X)}}function Bg(){return e("info","lifecycle::maySuspendCommit"),!1}function _g(){return e("info","lifecycle::preloadInstance"),!0}function Mg(){return e("info","lifecycle::prepareForCommit"),null}function Wg(){e("info","lifecycle::preparePortalMount")}function Gg(){e("info","lifecycle::prepareScopeUpdate")}function _W(Z,J){if(e("info","lifecycle::removeChild"),J instanceof W1)rV(J);J.destroy()}function Fg(Z){e("info","lifecycle::requestPostPaintCallback")}function jg(){e("info","lifecycle::resetAfterCommit")}function wg(){e("info","lifecycle::resetFormInstance")}function Cg(){return e("info","lifecycle::resolveEventTimeStamp"),-1.1}function Lg(){return e("info","lifecycle::resolveEventType"),null}function Rg(){if(e("info","lifecycle::resolveUpdatePriority"),E5.currentUpdatePriority)return E5.currentUpdatePriority;let Z=typeof self<"u"&&self||typeof window<"u"&&window;if(!Z)return YQ;switch(Z.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tM;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return oM;default:return YQ}}function Eg(Z){e("info","lifecycle::setCurrentUpdatePriority"),E5.currentUpdatePriority=Z}function Ig(){return e("info","lifecycle::shouldAttemptEagerTransition"),!1}function Tg(){return e("info","lifecycle::shouldSetTextContent"),!1}function Sg(){e("info","lifecycle::startSuspendingCommit")}function bg(){e("info","lifecycle::suspendInstance")}function kg(){e("info","lifecycle::trackSchedulerEvent")}function Pg(Z){if(Z instanceof f0)Z.visible=!0;else if(Z instanceof W1)Z.enabled=!0}function vg(Z){throw e("info","lifecycle::unhideTextInstance"),Error("Text instances are not yet supported. Please use a `<text>` component.")}function fg(){return e("info","lifecycle::waitForCommitToBeReady"),null}var qn={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:bx,appendChild:mV,appendChildToContainer:mV,appendInitialChild:mV,beforeActiveInstanceBlur:kx,cancelTimeout:clearTimeout,clearContainer:Px,commitUpdate:ux,createInstance:ax,createTextInstance:Xg,hideTextInstance:Dg,unhideTextInstance:vg,detachDeletedInstance:Ng,finalizeInitialChildren:zg,getChildHostContext:Hg,getCurrentUpdatePriority:Yg,getInstanceFromNode:Vg,getInstanceFromScope:Og,getPublicInstance:Ug,getRootHostContext:$g,hideInstance:Ag,insertBefore:BW,insertInContainerBefore:BW,maySuspendCommit:Bg,preloadInstance:_g,prepareForCommit:Mg,preparePortalMount:Wg,prepareScopeUpdate:Gg,removeChild:_W,removeChildFromContainer:_W,requestPostPaintCallback:Fg,resetAfterCommit:jg,resetFormInstance:wg,resolveEventTimeStamp:Cg,resolveEventType:Lg,resolveUpdatePriority:Rg,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:Ig,setCurrentUpdatePriority:Eg,shouldSetTextContent:Tg,startSuspendingCommit:Sg,suspendInstance:bg,trackSchedulerEvent:kg,unhideInstance:Pg,waitForCommitToBeReady:fg},VQ=Kg(qn);VQ.injectIntoDevTools({bundleType:0,rendererPackageName:"@pixi/react",version:Sx.version});var g6=new Map;function MW(Z,J={}){let Q=g6.get(Z),q=Q?.applicationState??{isInitialised:!1,isInitialising:!1},K=Q?.internalState??{};if(Q)e("warn","createRoot should only be called once!");else q.app=new qX,K.rootContainer=xV(q.app.stage);let X=Q?.fiber??VQ.createContainer(K.rootContainer,nM,null,!1,null,"",console.error,console.error,console.error,null);if(!Q){let z;if(Z instanceof HTMLCanvasElement)z=Z;if(!z)z=document.createElement("canvas"),Z.innerHTML="",Z.appendChild(z);K.canvas=z,Q={applicationState:q,fiber:X,internalState:K,render:async(O,U)=>{if(!q.app.renderer&&!q.isInitialised&&!q.isInitialising)q.isInitialising=!0,await q.app.init({...U,canvas:z}),q.isInitialising=!1,q.isInitialised=!0,q={...q},J.onInit?.(q.app);return Object.entries(U).forEach(([A,B])=>{let _=A;if(hV(U,_))return;q.app[_]=B}),VQ.updateContainer(f(Tx,{value:q,children:O}),X,null,()=>{return}),q.app}},g6.set(z,Q)}return Q}function ZO(Z){E5.unmountQueue.delete(Z);let J=Z.fiber;if(J)VQ.updateContainer(null,J,null,()=>{if(Z.applicationState.app)Z.applicationState.app.destroy();g6.delete(Z.internalState.canvas)})}function yg(){for(let Z of E5.unmountQueue)ZO(Z)}function hg(Z){let J=g6.get(Z);if(J)if(J.applicationState.isInitialised)ZO(J);else E5.unmountQueue.add(J)}function xg(Z){let J=g6.get(Z);if(J)E5.unmountQueue.delete(J)}m5();var OQ=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?VN:r8;var Kn={...B8.defaultTextStyle},Xn=HN(function(J,Q){let{children:q,className:K,defaultTextStyle:X,extensions:z,onInit:Y,resizeTo:O,...U}=J,A=uE(),B=k7(null),_=k7(null),W=k7(new Set);z$(Q,()=>({getApplication(){return B.current},getCanvas(){return _.current}}));let F=a6(()=>{let L=B.current;if(L)if(O)if("current"in O){if(O.current instanceof HTMLElement)L.resizeTo=O.current}else L.resizeTo=O;else L.resizeTo=void 0},[O]),C=a6((L)=>{yg(),B.current=L,F(),Y?.(L)},[Y]);return OQ(()=>{if(z){let L=[...z],G=W.current;for(let w of G.values()){let R=L.indexOf(w);if(R===-1)J0.remove(w),G.delete(w);L.splice(R,1)}for(let w in L)J0.add(w),G.add(w)}},[z]),OQ(()=>{let L=_.current;if(L){let G=g6.get(L);if(!G)G=MW(L,{onInit:C});G.render(f(A,{children:q}),U)}},[U,q,C,O]),OQ(()=>{F()},[O]),OQ(()=>{if(X)Object.assign(B8.defaultTextStyle,X);else Object.assign(B8.defaultTextStyle,Kn)},[X]),r8(()=>{let L=_.current;if(L)return xg(L),()=>{hg(L)}},[]),f("canvas",{ref:_,className:K})}),WW=HN(function(J,Q){return f(sz,{children:f(Xn,{ref:Q,...J})})});function JO(Z){Object.assign(zX,Z)}m5();m5();m5();var gg=({comparisonSplitPosition:Z,setComparisonSplitPosition:J})=>{return r(l5,{children:[f("div",{className:"absolute top-0 bottom-0 w-0.5 bg-black/50 shadow-lg z-10",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%)"}}),f("div",{className:"absolute top-1/2 -translate-y-1/2 w-12 h-12 bg-black/70 shadow-xl rounded-full cursor-ew-resize z-20 flex items-center justify-center ",style:{left:`calc(50% + ${Z-50}%)`,transform:"translateX(-50%) translateY(-50%)"},onMouseDown:(Q)=>{Q.preventDefault();let q=Q.clientX,K=Z,X=(Y)=>{let O=Y.clientX-q,U=window.innerWidth,A=O/U*100,B=Math.max(0,Math.min(100,K+A));J(B)},z=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",z)},children:f("span",{className:"text-white text-xl font-bold select-none",children:"< >"})})]})};var mg=({zoom:Z,setZoom:J,rotation:Q,setRotation:q})=>{return r("div",{className:"absolute top-4 right-4 flex gap-2 select-none",children:[r("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J(1),title:"Zoom, click to reset",children:[Math.round(Z*100),"%"]}),f("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.min(K+0.1,5)),children:"+"}),f("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:()=>J((K)=>Math.max(K-0.1,0.1)),children:"-"}),f("div",{className:"bg-black/50 px-3 py-1 rounded text-sm cursor-pointer",onClick:(K)=>{if(K.ctrlKey)q(0);else q((X)=>(X+90)%360)},title:"Rotate 90 clockwise, ctrl+click to reset",children:""})]})};JO({Container:f0,Sprite:P6,Texture:p,Graphics:x6,BlurFilter:pZ,ColorMatrixFilter:HQ});var dg=(Z)=>{let{imageSrc:J,width:Q,height:q,showComparison:K=!1,layers:X,workingLayer:z}=Z,[Y,O]=C0(p.EMPTY),[U,A]=C0(p.EMPTY),B=k7(null),[_,W]=C0(1),[F,C]=C0({x:window.innerWidth/2,y:window.innerHeight/2}),[L,G]=C0(!1),[w,R]=C0({x:0,y:0}),[T,h]=C0(0),[v,b]=C0(50);r8(()=>{if(Y===p.EMPTY)lZ.load({src:J,parser:"loadTextures"}).then((_0)=>{O(_0),A(_0)}).catch((_0)=>{console.error("Error loading image:",_0)})},[J]);let m=b7(()=>{let _0=[];X.forEach((K1)=>{let{blur:V0,hue:g1,saturation:I5,brightness:w1,contrast:B5,grayscale:r5,invert:W8}=K1.values;if(V0>0){let y5=new pZ;y5.strength=V0,_0.push(y5)}let m1=new HQ;if(g1!==0)m1.hue(g1,!1);if(I5!==100)m1.saturate(I5/100-1,!1);if(w1!==100)m1.brightness(w1/100,!1);if(B5!==100)m1.contrast(B5/100,!1);if(r5>0)m1.grayscale(r5/100,!1);if(W8>0)m1.negative(!1);_0.push(m1)});let s=z;if(s.blur>0){let K1=new pZ;K1.strength=s.blur,_0.push(K1)}let N0=new HQ;if(s.hue!==0)N0.hue(s.hue,!1);if(s.saturation!==100)N0.saturate(s.saturation/100-1,!1);if(s.brightness!==100)N0.brightness(s.brightness/100,!1);if(s.contrast!==100)N0.contrast(s.contrast/100,!1);if(s.grayscale>0)N0.grayscale(s.grayscale/100,!1);if(s.invert>0)N0.negative(!1);return _0.push(N0),_0},[X,z]),u=b7(()=>{if(!K)return null;let _0=new x6;return _0.rect(0,0,v/100*window.innerWidth,window.innerHeight),_0.fill(16777215),_0},[K,v,Q,q]),c=a6((_0)=>{_0.preventDefault();let s=_0.deltaY>0?0.9:1.1,N0=Math.max(0.1,Math.min(5,_*s));W(N0)},[_]),o=a6((_0)=>{G(!0),R({x:_0.clientX-F.x,y:_0.clientY-F.y})},[F]),z0=a6((_0)=>{if(L)C({x:_0.clientX-w.x,y:_0.clientY-w.y})},[L,w]),D0=a6(()=>{G(!1)},[]);r8(()=>{let _0=B.current;if(_0)return _0.addEventListener("wheel",c,{passive:!1}),()=>_0.removeEventListener("wheel",c)},[c]);let g0=a6(()=>{let _0=B.current;if(_0){let{clientWidth:s,clientHeight:N0}=_0,K1=s/Q,V0=N0/q,g1=Math.min(K1,V0,1);W(g1)}},[]);return r8(()=>{g0()},[J,g0]),r(l5,{children:[f("div",{className:"relative w-full h-full overflow-hidden cursor-move select-none bg-transparency-grid",ref:B,onMouseDown:o,onMouseMove:z0,onMouseUp:D0,onMouseLeave:D0,children:f(WW,{backgroundAlpha:0,resolution:window.devicePixelRatio||1,resizeTo:window,children:r("pixiContainer",{x:F.x,y:F.y,scale:_,pivot:{x:Q/2,y:q/2},rotation:T*Math.PI/180,children:[K&&f("pixiSprite",{texture:U,width:Q,height:q,filters:m}),f("pixiSprite",{texture:Y,width:Q,height:q,mask:K?u:void 0})]})})}),f(mg,{zoom:_,setZoom:W,rotation:T,setRotation:h}),K&&f(gg,{comparisonSplitPosition:v,setComparisonSplitPosition:b})]})};function cg(){let[Z,J]=C0(!1),[Q,q]=C0(null),[K,X]=C0(null),[z,Y]=C0(null),[O,U]=C0("png"),[A,B]=C0(0.8),[_,W]=C0(null),[F,C]=C0(null),[L,G]=C0(!1),[w,R]=C0(!1),[T,h]=C0("info"),[v,b]=C0(!1),[m,u]=C0(100),[c,o]=C0(0),[z0,D0]=C0(0),[g0,_0]=C0(!0),[s,N0]=C0([]),[K1,V0]=C0([]),[g1,I5]=C0(-1),[w1,B5]=C0({hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0}),r5=async(w0)=>{J(!0);let b0={fileSize:w0.size,dimensions:null,lastModified:new Date(w0.lastModified),exif:null,format:w0.type.split("/")[1]||"unknown",name:w0.name};try{b0.exif=await BJ(w0)}catch(h5){console.log("No EXIF data or error parsing:",h5)}let d1=new Image;d1.onload=()=>{b0.dimensions={width:d1.naturalWidth,height:d1.naturalHeight},X({...b0}),o(d1.naturalWidth),D0(d1.naturalHeight);let h5=new FZ;try{let c1=h5.getPalette(d1,32,5);Y(c1)}catch(c1){console.log("Error extracting palette:",c1)}J(!1)},d1.src=URL.createObjectURL(w0),X(b0)},W8=(w0)=>{if(w0&&w0.type.startsWith("image/")){let b0=URL.createObjectURL(w0);q(b0),W(null),C(null),r5(w0)}},m1=(w0)=>{let b0=w0.target.files?.[0];if(b0)W8(b0)},y5=(w0)=>{w0.preventDefault(),G(!1);let b0=w0.dataTransfer.files[0];if(b0)W8(b0)},E9=(w0)=>{w0.preventDefault(),G(!0)},A4=()=>{G(!1)};return r("div",{className:"h-dvh w-screen relative overflow-x-hidden",children:[f(IE,{isOpen:w,onToggle:()=>R(!w)}),Q&&f(hE,{clearImage:()=>{q(null),X(null),Y(null),W(null),C(null),u(100),o(0),D0(0),_0(!0)}}),f(SE,{isOpen:w,activeSection:T,onSectionChange:h,onClose:()=>R(!1)}),Q&&r(xE,{toolDrawerOpen:v,setToolDrawerOpen:b,activeSection:T,children:[T==="info"&&K&&f(kE,{imageInfo:K}),T==="palette"&&z&&f(PE,{palette:z}),T==="optimization"&&f(vE,{convertFormat:O,setConvertFormat:U,compressionValue:A,setCompressionValue:B,onOptimize:()=>{if(!Q)return;let w0=document.createElement("canvas"),b0=new Image;b0.onload=()=>{w0.width=b0.naturalWidth,w0.height=b0.naturalHeight,w0.getContext("2d")?.drawImage(b0,0,0),w0.toBlob((h5)=>{if(h5){let c1=URL.createObjectURL(h5);W(c1),C(h5.size)}},`image/${O}`,A)},b0.src=Q},onDownload:()=>{let w0=_||Q;if(!w0)return;let b0=document.createElement("canvas"),d1=new Image;d1.onload=()=>{b0.width=d1.naturalWidth,b0.height=d1.naturalHeight,b0.getContext("2d")?.drawImage(d1,0,0),b0.toBlob((c1)=>{if(c1){let D4=URL.createObjectURL(c1),UQ=document.createElement("a");UQ.href=D4,UQ.download=`optimized.${O}`,UQ.click(),URL.revokeObjectURL(D4)}},`image/${O}`,O==="png"?void 0:A)},d1.src=w0},optimizedImage:_,imageInfo:K,optimizedSize:F}),T==="filters"&&f(yE,{layers:s,setLayers:N0,history:K1,currentHistoryIndex:g1,setCurrentHistoryIndex:I5,onApply:()=>{let w0={...w1};V0([...K1.slice(0,g1+1),w0]),I5(g1+1);let b0={type:"committed",values:w0};N0([...s,b0]),B5({hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0})},onResetAllFilters:()=>{N0([]),V0([]),I5(-1),B5({hue:0,saturation:100,brightness:100,contrast:100,grayscale:0,invert:0,blur:0})},workingLayer:w1,setWorkingLayer:B5}),T==="transform"&&f(gE,{scale:m,setScale:u,width:c,setWidth:o,height:z0,setHeight:D0,keepAspectRatio:g0,setKeepAspectRatio:_0,originalWidth:K?.dimensions?.width||0,originalHeight:K?.dimensions?.height||0,onReset:()=>{u(100),o(K?.dimensions?.width||0),D0(K?.dimensions?.height||0),_0(!0)}})]}),!Q&&f(TE,{isDragOver:L,onFileChange:m1,onDrop:y5,onDragOver:E9,onDragLeave:A4}),Q&&Z&&f(mE,{message:"Loading image..."}),Q&&!Z&&f(dg,{imageSrc:Q,showComparison:s.length>0||w1.hue!==0||w1.saturation!==100||w1.brightness!==100||w1.contrast!==100||w1.grayscale!==0||w1.invert!==0||w1.blur!==0,width:c,height:z0,layers:s,workingLayer:w1})]})}function ug(){lg.createRoot(document.getElementById("root")).render(f(cg,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",ug);else ug();

//# debugId=D2FF53AD4F3C21F864756E2164756E21
//# sourceMappingURL=chunk-dsgrwwk4.js.map
